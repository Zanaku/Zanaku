// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var A,aa,ba,ca,ea,fa,ja,la,na,oa,pa,ra,sa,ta,ua,va,wa,ya,za,Aa,Ba,Ca,Ea,Fa,H,Ha,Ia,Ka,La,Na,Pa,Qa,Ra,Sa,Ua,Va,Wa,Xa,Za,$a,ab,bb,cb,fb,kb,lb,mb,tb,ub,vb,wb,Bb,Cb,Eb,Fb,Gb,Hb,Mb,Nb,Rb,Xb,Yb,Zb,$b,ac,bc,cc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Jc,Rc,Sc,Tc,Uc,Vc,Wc,Xc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,h,b,k){this.set(a,h,b,k)}function c(){this.Dd=this.Cd=this.Fd=this.Ed=this.Ud=this.Td=this.Xc=this.Wc=0}function b(a,h,b,k){a<h?b<k?(v=a<b?a:b,t=h>k?h:k):(v=a<k?a:k,t=h>b?h:b):b<k?(v=h<b?h:b,t=a>k?a:k):(v=h<k?h:k,t=a>b?a:b)}function d(){this.items=this.Lg=null;this.Am=0;E&&(this.Lg=new Set);this.jl=[];this.Sh=!0}function g(a){B[D++]=a}function e(){this.Va=this.cr=this.y=this.I=0}function f(a){this.Jb=[];this.vo=this.xo=this.yo=this.wo=0;this.Io=null;this.vn(a)}function h(a,
h){this.Pc=a;this.$c=h;this.cells={}}function m(a,h){this.Pc=a;this.$c=h;this.cells={}}function l(a,h,b){var k;return C.length?(k=C.pop(),k.Ws=a,k.x=h,k.y=b,k):new ba(a,h,b)}function k(a,h,b){this.Ws=a;this.x=h;this.y=b;this.fd=new ca}function n(a,h,b){var k;return y.length?(k=y.pop(),k.Ws=a,k.x=h,k.y=b,k):new ea(a,h,b)}function p(a,h,b){this.Ws=a;this.x=h;this.y=b;this.fd=[];this.vk=!0;this.Jg=new ca;this.Cl=!1}function r(a,h){return a.lg-h.lg}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ja=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};la=function(a){return"undefined"===typeof a};na=function(a){return"number"===typeof a};oa=function(a){return"string"===typeof a};pa=function(a){return 0<a&&0===(a-1&a)};ra=function(a){--a;for(var h=1;32>h;h<<=1)a=a|a>>h;return a+1};sa=function(a){return 0>a?-a:a};ta=function(a,h){return a>h?a:h};ua=function(a,h){return a<h?a:h};va=Math.PI;wa=function(a){return 0<=a?a|0:(a|0)-1};ya=function(a){var h=
a|0;return h===a?h:h+1};za=function(a,h,b,k,c,l,d,m){var e,f,n,g;a<b?(f=a,e=b):(f=b,e=a);c<d?(g=c,n=d):(g=d,n=c);if(e<g||f>n)return!1;h<k?(f=h,e=k):(f=k,e=h);l<m?(g=l,n=m):(g=m,n=l);if(e<g||f>n)return!1;e=c-a+d-b;f=l-h+m-k;a=b-a;h=k-h;c=d-c;l=m-l;m=sa(h*c-l*a);return sa(c*f-l*e)>m?!1:sa(a*f-h*e)<=m};a.prototype.set=function(a,h,b,k){this.left=a;this.top=h;this.right=b;this.bottom=k};a.prototype.ak=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=
function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,h){this.left+=a;this.top+=h;this.right+=a;this.bottom+=h;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.ZE=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.$E=
function(a,h,b){return!(a.right+h<this.left||a.bottom+b<this.top||a.left+h>this.right||a.top+b>this.bottom)};a.prototype.Gd=function(a,h){return a>=this.left&&a<=this.right&&h>=this.top&&h<=this.bottom};a.prototype.Ol=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};Aa=a;c.prototype.bl=function(a){this.Wc=a.left;this.Xc=a.top;this.Td=a.right;this.Ud=a.top;this.Ed=a.right;this.Fd=a.bottom;this.Cd=a.left;this.Dd=a.bottom};c.prototype.ez=function(a,
h){if(0===h)this.bl(a);else{var b=Math.sin(h),k=Math.cos(h),c=a.left*b,l=a.top*b,d=a.right*b,b=a.bottom*b,m=a.left*k,e=a.top*k,f=a.right*k,k=a.bottom*k;this.Wc=m-l;this.Xc=e+c;this.Td=f-l;this.Ud=e+d;this.Ed=f-b;this.Fd=k+d;this.Cd=m-b;this.Dd=k+c}};c.prototype.offset=function(a,h){this.Wc+=a;this.Xc+=h;this.Td+=a;this.Ud+=h;this.Ed+=a;this.Fd+=h;this.Cd+=a;this.Dd+=h;return this};var v=0,t=0;c.prototype.mw=function(a){b(this.Wc,this.Td,this.Ed,this.Cd);a.left=v;a.right=t;b(this.Xc,this.Ud,this.Fd,
this.Dd);a.top=v;a.bottom=t};c.prototype.Gd=function(a,h){var b=this.Wc,k=this.Xc,c=this.Td-b,l=this.Ud-k,d=this.Ed-b,m=this.Fd-k,e=a-b,f=h-k,n=c*c+l*l,g=c*d+l*m,l=c*e+l*f,u=d*d+m*m,p=d*e+m*f,q=1/(n*u-g*g),c=(u*l-g*p)*q,n=(n*p-g*l)*q;if(0<=c&&0<n&&1>c+n)return!0;c=this.Cd-b;l=this.Dd-k;n=c*c+l*l;g=c*d+l*m;l=c*e+l*f;q=1/(n*u-g*g);c=(u*l-g*p)*q;n=(n*p-g*l)*q;return 0<=c&&0<n&&1>c+n};c.prototype.Ph=function(a,h){if(h)switch(a){case 0:return this.Wc;case 1:return this.Td;case 2:return this.Ed;case 3:return this.Cd;
case 4:return this.Wc;default:return this.Wc}else switch(a){case 0:return this.Xc;case 1:return this.Ud;case 2:return this.Fd;case 3:return this.Dd;case 4:return this.Xc;default:return this.Xc}};c.prototype.oi=function(){return(this.Wc+this.Td+this.Ed+this.Cd)/4};c.prototype.pi=function(){return(this.Xc+this.Ud+this.Fd+this.Dd)/4};c.prototype.nx=function(a){var h=a.oi(),b=a.pi();if(this.Gd(h,b))return!0;h=this.oi();b=this.pi();if(a.Gd(h,b))return!0;var k,c,l,d,m,e,f,n;for(f=0;4>f;f++)for(n=0;4>n;n++)if(h=
this.Ph(f,!0),b=this.Ph(f,!1),k=this.Ph(f+1,!0),c=this.Ph(f+1,!1),l=a.Ph(n,!0),d=a.Ph(n,!1),m=a.Ph(n+1,!0),e=a.Ph(n+1,!1),za(h,b,k,c,l,d,m,e))return!0;return!1};Ba=c;Ca=function(a,h){for(var b in h)h.hasOwnProperty(b)&&(a[b]=h[b]);return a};Ea=function(a,h){var b,k;h=wa(h);if(!(0>h||h>=a.length)){b=h;for(k=a.length-1;b<k;b++)a[b]=a[b+1];Fa(a,k)}};Fa=function(a,h){a.length=h};H=function(a){Fa(a,0)};Ha=function(a,h){H(a);var b,k;b=0;for(k=h.length;b<k;++b)a[b]=h[b]};Ia=function(a,h){a.push.apply(a,
h)};Ka=function(a,h){var b,k;b=0;for(k=a.length;b<k;++b)if(a[b]===h)return b;return-1};La=function(a,h){var b=Ka(a,h);-1!==b&&Ea(a,b)};Na=function(a,h,b){return a<h?h:a>b?b:a};Pa=function(a){return a/(180/va)};Qa=function(a){return 180/va*a};Ra=function(a){a%=360;0>a&&(a+=360);return a};Sa=function(a){a%=2*va;0>a&&(a+=2*va);return a};Ua=function(a){return Ra(Qa(a))};Va=function(a){return Sa(Pa(a))};Wa=function(a,h,b,k){return Math.atan2(k-h,b-a)};Xa=function(a,h){if(a===h)return 0;var b=Math.sin(a),
k=Math.cos(a),c=Math.sin(h),l=Math.cos(h),b=b*c+k*l;return 1<=b?0:-1>=b?va:Math.acos(b)};Za=function(a,h,b){var k=Math.sin(a),c=Math.cos(a),l=Math.sin(h),d=Math.cos(h);return Math.acos(k*l+c*d)>b?0<c*l-k*d?Sa(a+b):Sa(a-b):Sa(h)};$a=function(a,h){var b=Math.sin(a),k=Math.cos(a),c=Math.sin(h),l=Math.cos(h);return 0>=k*c-b*l};ab=function(a,h,b,k,c,l){if(0===b)return l?a:h;var d=Math.sin(b);b=Math.cos(b);a-=k;h-=c;var m=a*d;a=a*b-h*d;h=h*b+m;return l?a+k:h+c};bb=function(a,h,b,k){a=b-a;h=k-h;return Math.sqrt(a*
a+h*h)};cb=function(a,h){return!a!==!h};fb=function(a,h,b){return a===h?0:(b-a)/(h-a)};kb=function(a,h,b){var k=Xa(a,h);return $a(h,a)?a+k*b:a-k*b};lb=function(a){for(var h in a)if(a.hasOwnProperty(h))return!0;return!1};mb=function(a){for(var h in a)a.hasOwnProperty(h)&&delete a[h]};var q=+new Date;tb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==
typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-q};var u=!1,x=u=!1,z=!1;"undefined"!==typeof window&&(u=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),u=!u&&/safari/i.test(navigator.userAgent),x=/(iphone|ipod|ipad)/i.test(navigator.userAgent),z=window.c2ejecta);var E=!u&&!z&&!x&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.fh()?!1:E?this.Lg.has(a):this.items&&
this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(E)this.Lg.has(a)||(this.Lg.add(a),this.Sh=!1);else{var h=a.toString(),b=this.items;b?b.hasOwnProperty(h)||(b[h]=a,this.Am++,this.Sh=!1):(this.items={},this.items[h]=a,this.Am=1,this.Sh=!1)}};d.prototype.remove=function(a){if(!this.fh())if(E)this.Lg.has(a)&&(this.Lg["delete"](a),this.Sh=!1);else if(this.items){a=a.toString();var h=this.items;h.hasOwnProperty(a)&&(delete h[a],this.Am--,this.Sh=!1)}};d.prototype.clear=function(){this.fh()||
(E?this.Lg.clear():(this.items=null,this.Am=0),H(this.jl),this.Sh=!0)};d.prototype.fh=function(){return 0===this.count()};d.prototype.count=function(){return E?this.Lg.size:this.Am};var B=null,D=0;d.prototype.HG=function(){if(!this.Sh){if(E)H(this.jl),B=this.jl,D=0,this.Lg.forEach(g),B=null,D=0;else{var a=this.jl;H(a);var h,b=0,k=this.items;if(k)for(h in k)k.hasOwnProperty(h)&&(a[b++]=k[h])}this.Sh=!0}};d.prototype.kg=function(){this.HG();return this.jl};ca=d;new ca;ub=function(a,h){E?vb(a,h.Lg):
wb(a,h.kg())};vb=function(a,h){var b,k,c,l;k=b=0;for(c=a.length;b<c;++b)l=a[b],h.has(l)||(a[k++]=l);Fa(a,k)};wb=function(a,h){var b,k,c,l;k=b=0;for(c=a.length;b<c;++b)l=a[b],-1===Ka(h,l)&&(a[k++]=l);Fa(a,k)};e.prototype.add=function(a){this.y=a-this.I;this.cr=this.Va+this.y;this.I=this.cr-this.Va-this.y;this.Va=this.cr};e.prototype.reset=function(){this.Va=this.cr=this.y=this.I=0};Bb=e;Cb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.vn=function(a){this.My=a;this.ge=
a.length/2;this.Jb.length=a.length;this.Eo=this.Fo=-1;this.qw=0};f.prototype.nj=function(){return!this.My.length};f.prototype.ab=function(){for(var a=this.Jb,h=a[0],b=h,k=a[1],c=k,l,d,m=1,e=this.ge;m<e;++m)d=2*m,l=a[d],d=a[d+1],l<h&&(h=l),l>b&&(b=l),d<k&&(k=d),d>c&&(c=d);this.wo=h;this.xo=b;this.yo=k;this.vo=c};f.prototype.bl=function(a,h,b){this.Jb.length=8;this.ge=4;var k=this.Jb;k[0]=a.left-h;k[1]=a.top-b;k[2]=a.right-h;k[3]=a.top-b;k[4]=a.right-h;k[5]=a.bottom-b;k[6]=a.left-h;k[7]=a.bottom-b;
this.Fo=a.right-a.left;this.Eo=a.bottom-a.top;this.ab()};f.prototype.al=function(a,h,b,k,c){this.Jb.length=8;this.ge=4;var l=this.Jb;l[0]=a.Wc-h;l[1]=a.Xc-b;l[2]=a.Td-h;l[3]=a.Ud-b;l[4]=a.Ed-h;l[5]=a.Fd-b;l[6]=a.Cd-h;l[7]=a.Dd-b;this.Fo=k;this.Eo=c;this.ab()};f.prototype.dz=function(a){this.ge=a.ge;Ha(this.Jb,a.Jb);this.wo=a.wo;this.yo-a.yo;this.xo=a.xo;this.vo=a.vo};f.prototype.Rh=function(a,h,b){if(this.Fo!==a||this.Eo!==h||this.qw!==b){this.Fo=a;this.Eo=h;this.qw=b;var k,c,l,d,m,e=0,f=1,n=this.My,
g=this.Jb;0!==b&&(e=Math.sin(b),f=Math.cos(b));b=0;for(l=this.ge;b<l;b++)k=2*b,c=k+1,d=n[k]*a,m=n[c]*h,g[k]=d*f-m*e,g[c]=m*f+d*e;this.ab()}};f.prototype.Gd=function(a,h){var b=this.Jb;if(a===b[0]&&h===b[1])return!0;var k,c,l,d=this.ge,m=this.wo-110,e=this.yo-101,f=this.xo+131,n=this.vo+120,g,u,p=0,q=0;for(k=0;k<d;k++)c=2*k,l=(k+1)%d*2,g=b[c],c=b[c+1],u=b[l],l=b[l+1],za(m,e,a,h,g,c,u,l)&&p++,za(f,n,a,h,g,c,u,l)&&q++;return 1===p%2||1===q%2};f.prototype.mm=function(a,h,b){var k=a.Jb,c=this.Jb;if(this.Gd(k[0]+
h,k[1]+b)||a.Gd(c[0]-h,c[1]-b))return!0;var l,d,m,e,f,n,g,u,p,q,r,x;l=0;for(e=this.ge;l<e;l++)for(d=2*l,m=(l+1)%e*2,u=c[d],d=c[d+1],p=c[m],q=c[m+1],m=0,g=a.ge;m<g;m++)if(f=2*m,n=(m+1)%g*2,r=k[f]+h,f=k[f+1]+b,x=k[n]+h,n=k[n+1]+b,za(u,d,p,q,r,f,x,n))return!0;return!1};f.prototype.uF=function(a){var h,b,k;h=0;for(b=this.ge;h<b;++h)k=2*h,this.Jb[k]=2*a-this.Jb[k]};f.prototype.eE=function(a){var h,b,k;h=0;for(b=this.ge;h<b;++h)k=2*h+1,this.Jb[k]=2*a-this.Jb[k]};f.prototype.VC=function(){var a,h,b,k,c;
a=0;for(h=this.ge;a<h;++a)b=2*a,k=b+1,c=this.Jb[b],this.Jb[b]=this.Jb[k],this.Jb[k]=c};Eb=f;h.prototype.bi=function(a,h,b){var k;k=this.cells[a];return k?(k=k[h])?k:b?(k=l(this,a,h),this.cells[a][h]=k):null:b?(k=l(this,a,h),this.cells[a]={},this.cells[a][h]=k):null};h.prototype.ke=function(a){return wa(a/this.Pc)};h.prototype.le=function(a){return wa(a/this.$c)};h.prototype.update=function(a,h,b){var k,c,l,d,m;if(h)for(k=h.left,c=h.right;k<=c;++k)for(l=h.top,d=h.bottom;l<=d;++l)if(!b||!b.Gd(k,l))if(m=
this.bi(k,l,!1))m.remove(a),m.fh()&&(m.fd.clear(),1E3>C.length&&C.push(m),this.cells[k][l]=null);if(b)for(k=b.left,c=b.right;k<=c;++k)for(l=b.top,d=b.bottom;l<=d;++l)h&&h.Gd(k,l)||this.bi(k,l,!0).it(a)};h.prototype.Eq=function(a,h){var b,k,c,l,d,m;b=this.ke(a.left);c=this.le(a.top);k=this.ke(a.right);for(d=this.le(a.bottom);b<=k;++b)for(l=c;l<=d;++l)(m=this.bi(b,l,!1))&&m.dump(h)};Fb=h;m.prototype.bi=function(a,h,b){var k;k=this.cells[a];return k?(k=k[h])?k:b?(k=n(this,a,h),this.cells[a][h]=k):null:
b?(k=n(this,a,h),this.cells[a]={},this.cells[a][h]=k):null};m.prototype.ke=function(a){return wa(a/this.Pc)};m.prototype.le=function(a){return wa(a/this.$c)};m.prototype.update=function(a,h,b){var k,c,l,d,m;if(h)for(k=h.left,c=h.right;k<=c;++k)for(l=h.top,d=h.bottom;l<=d;++l)if(!b||!b.Gd(k,l))if(m=this.bi(k,l,!1))m.remove(a),m.fh()&&(m.reset(),1E3>y.length&&y.push(m),this.cells[k][l]=null);if(b)for(k=b.left,c=b.right;k<=c;++k)for(l=b.top,d=b.bottom;l<=d;++l)h&&h.Gd(k,l)||this.bi(k,l,!0).it(a)};m.prototype.Eq=
function(a,h,b,k,c){var l,d;a=this.ke(a);h=this.le(h);b=this.ke(b);for(l=this.le(k);a<=b;++a)for(k=h;k<=l;++k)(d=this.bi(a,k,!1))&&d.dump(c)};m.prototype.qF=function(a){var h,b,k,c,l;h=a.left;k=a.top;b=a.right;for(c=a.bottom;h<=b;++h)for(a=k;a<=c;++a)if(l=this.bi(h,a,!1))l.vk=!1};Gb=m;var C=[];k.prototype.fh=function(){return this.fd.fh()};k.prototype.it=function(a){this.fd.add(a)};k.prototype.remove=function(a){this.fd.remove(a)};k.prototype.dump=function(a){Ia(a,this.fd.kg())};ba=k;var y=[];p.prototype.fh=
function(){if(!this.fd.length)return!0;if(this.fd.length>this.Jg.count())return!1;this.Es();return!0};p.prototype.it=function(a){this.Jg.contains(a)?(this.Jg.remove(a),this.Jg.fh()&&(this.Cl=!1)):this.fd.length?(this.fd[this.fd.length-1].Dg()>a.Dg()&&(this.vk=!1),this.fd.push(a)):(this.fd.push(a),this.vk=!0)};p.prototype.remove=function(a){this.Jg.add(a);this.Cl=!0;30<=this.Jg.count()&&this.Es()};p.prototype.Es=function(){this.Cl&&(this.Jg.count()===this.fd.length?this.reset():(ub(this.fd,this.Jg),
this.Jg.clear(),this.Cl=!1))};p.prototype.yD=function(){this.vk||(this.fd.sort(r),this.vk=!0)};p.prototype.reset=function(){H(this.fd);this.vk=!0;this.Jg.clear();this.Cl=!1};p.prototype.dump=function(a){this.Es();this.yD();this.fd.length&&a.push(this.fd)};ea=p;var w="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Hb=function(a){return 0>=a||11<=a?"source-over":w[a-1]};Mb=function(a,h,b){if(b)switch(a.Od=b.ONE,a.Hd=b.ONE_MINUS_SRC_ALPHA,
h){case 1:a.Od=b.ONE;a.Hd=b.ONE;break;case 3:a.Od=b.ONE;a.Hd=b.ZERO;break;case 4:a.Od=b.ONE_MINUS_DST_ALPHA;a.Hd=b.ONE;break;case 5:a.Od=b.DST_ALPHA;a.Hd=b.ZERO;break;case 6:a.Od=b.ZERO;a.Hd=b.SRC_ALPHA;break;case 7:a.Od=b.ONE_MINUS_DST_ALPHA;a.Hd=b.ZERO;break;case 8:a.Od=b.ZERO;a.Hd=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Od=b.DST_ALPHA;a.Hd=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Od=b.ONE_MINUS_DST_ALPHA,a.Hd=b.SRC_ALPHA}};Nb=function(a){return Math.round(1E6*a)/1E6};Rb=function(a,h){return"string"!==
typeof a||"string"!==typeof h||a.length!==h.length?!1:a===h?!0:a.toLowerCase()===h.toLowerCase()};Xb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Rb(a.tagName,"canvas")?!0:!1}})();var Yc="undefined"!==typeof Float32Array?Float32Array:Array;function Zc(a){var c=new Yc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function $c(a){var c=new Yc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function ad(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function bd(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function cd(a,c,b,d){d||(d=$c());var g,e,f,h,m,l,k,n,p=a[0],r=a[1];a=a[2];e=b[0];f=b[1];g=b[2];b=c[1];l=c[2];p===c[0]&&r===b&&a===l?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=p-c[0],l=r-c[1],k=a-c[2],n=1/Math.sqrt(b*b+l*l+k*k),b*=n,l*=n,k*=n,c=f*k-g*l,g=g*b-e*k,e=e*l-f*b,(n=Math.sqrt(c*c+g*g+e*e))?(n=1/n,c*=n,g*=n,e*=n):e=g=c=0,f=l*e-k*g,h=k*c-b*e,m=b*g-l*c,(n=Math.sqrt(f*f+h*h+m*m))?(n=1/n,f*=n,h*=n,m*=n):m=h=f=0,
d[0]=c,d[1]=f,d[2]=b,d[3]=0,d[4]=g,d[5]=h,d[6]=l,d[7]=0,d[8]=e,d[9]=m,d[10]=k,d[11]=0,d[12]=-(c*p+g*r+e*a),d[13]=-(f*p+h*r+m*a),d[14]=-(b*p+l*r+k*a),d[15]=1)}
(function(){function a(a,b,c){this.gh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Qb=!!c;this.Jp=this.qm=!1;this.Po=0;this.Dr=1;this.sv=1E3;this.NG=(this.sv-this.Dr)/32768;this.es=Zc([0,0,100]);this.Jx=Zc([0,0,0]);this.Hz=Zc([0,1,0]);this.Yn=Zc([1,1,1]);this.Fw=!0;this.aq=$c();this.ef=$c();this.Et=$c();this.ts=$c();this.ya=a;this.ix()}function c(a,b,c){this.ya=a;this.wn=b;this.name=c;this.Cf=a.getAttribLocation(b,"aPos");this.li=a.getAttribLocation(b,
"aTex");this.Hx=a.getUniformLocation(b,"matP");this.Wp=a.getUniformLocation(b,"matMV");this.Kk=a.getUniformLocation(b,"opacity");this.Ot=a.getUniformLocation(b,"colorFill");this.Ix=a.getUniformLocation(b,"samplerFront");this.Sm=a.getUniformLocation(b,"samplerBack");this.wj=a.getUniformLocation(b,"destStart");this.vj=a.getUniformLocation(b,"destEnd");this.Um=a.getUniformLocation(b,"seconds");this.Qt=a.getUniformLocation(b,"pixelWidth");this.Pt=a.getUniformLocation(b,"pixelHeight");this.Rm=a.getUniformLocation(b,
"layerScale");this.Qm=a.getUniformLocation(b,"layerAngle");this.Vm=a.getUniformLocation(b,"viewOrigin");this.Tm=a.getUniformLocation(b,"scrollPos");this.TE=!!(this.Qt||this.Pt||this.Um||this.Sm||this.wj||this.vj||this.Rm||this.Qm||this.Vm||this.Tm);this.Rx=this.Sx=-999;this.$p=1;this.Nx=this.Mx=0;this.Px=this.Lx=this.Kx=1;this.Vx=this.Ux=this.Tx=this.Xx=this.Wx=this.Ox=0;this.Ct=[];this.Qx=$c();this.Kk&&a.uniform1f(this.Kk,1);this.Ot&&a.uniform4f(this.Ot,1,1,1,1);this.Ix&&a.uniform1i(this.Ix,0);this.Sm&&
a.uniform1i(this.Sm,1);this.wj&&a.uniform2f(this.wj,0,0);this.vj&&a.uniform2f(this.vj,1,1);this.Rm&&a.uniform1f(this.Rm,1);this.Qm&&a.uniform1f(this.Qm,0);this.Vm&&a.uniform2f(this.Vm,0,0);this.Tm&&a.uniform2f(this.Tm,0,0);this.Um&&a.uniform1f(this.Um,0);this.gj=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function d(a,b){this.type=a;this.la=b;this.ya=b.ya;this.ve=this.yd=this.uy=0;this.fb=this.Mf=null;this.fz=[]}var g=$c();a.prototype.ix=function(){var a=this.ya,b;this.Cx=1;this.qj=this.gi=null;this.Oo=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Qb?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Dx=a.ONE;this.Bx=a.ONE_MINUS_SRC_ALPHA;
this.Wn=new Float32Array(8E3*(this.Qb?3:2));this.Fn=new Float32Array(16E3);this.ru=new Float32Array(32E3);this.qu=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.qu);a.bufferData(a.ARRAY_BUFFER,this.ru.byteLength,a.DYNAMIC_DRAW);this.Vn=Array(4);this.En=Array(4);for(b=0;4>b;b++)this.Vn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Vn[b]),a.bufferData(a.ARRAY_BUFFER,this.Wn.byteLength,a.DYNAMIC_DRAW),this.En[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.En[b]),a.bufferData(a.ARRAY_BUFFER,
this.Fn.byteLength,a.DYNAMIC_DRAW);this.Xg=0;this.XE=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.XE);for(var c=new Uint16Array(12E3),k=b=0;12E3>b;)c[b++]=k,c[b++]=k+1,c[b++]=k+2,c[b++]=k,c[b++]=k+2,c[b++]=k+3,k+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Vk=this.Ei=this.Of=0;this.mc=[];b=this.Qb?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Kl({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.mc.push(c);c=this.Kl({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.mc.push(c);c=this.Kl({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.mc.push(c);c=this.Kl({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.mc.push(c);for(var d in dd)dd.hasOwnProperty(d)&&this.mc.push(this.Kl(dd[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Uf=[];this.rf=0;this.td=this.Tc=!1;this.xw=this.Fm=-1;this.ck=null;this.Cs=a.createFramebuffer();this.To=this.Gq=null;this.jw=!1;this.Qb&&(this.To=a.createRenderbuffer());this.Ii=Zc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.tF=a[0];this.Vt=a[1];2048<this.Vt&&(this.Vt=2048);this.Ce(0)};c.prototype.lv=function(a){b(this.Qx,
a)||(ad(a,this.Qx),this.ya.uniformMatrix4fv(this.Wp,!1,a))};a.prototype.Kl=function(a,b,l){var k=this.ya,d=k.createShader(k.FRAGMENT_SHADER);k.shaderSource(d,a.src);k.compileShader(d);if(!k.getShaderParameter(d,k.COMPILE_STATUS))return k.deleteShader(d),null;var e=k.createShader(k.VERTEX_SHADER);k.shaderSource(e,b);k.compileShader(e);if(!k.getShaderParameter(e,k.COMPILE_STATUS))return k.deleteShader(d),k.deleteShader(e),null;b=k.createProgram();k.attachShader(b,d);k.attachShader(b,e);k.linkProgram(b);
if(!k.getProgramParameter(b,k.LINK_STATUS))return k.deleteShader(d),k.deleteShader(e),k.deleteProgram(b),null;k.useProgram(b);k.deleteShader(d);k.deleteShader(e);l=new c(k,b,l);l.Zo=a.Zo||0;l.$o=a.$o||0;l.rs=!!a.rs;l.Gf=!!a.Gf;l.as=!!a.as;l.Ta=a.Ta||[];a=0;for(d=l.Ta.length;a<d;a++)l.Ta[a][1]=k.getUniformLocation(b,l.Ta[a][0]),l.Ct.push(0),k.uniform1f(l.Ta[a][1],0);return l};a.prototype.Ss=function(a){var b,c;b=0;for(c=this.mc.length;b<c;b++)if(this.mc[b].name===a)return b;return-1};a.prototype.Ly=
function(a,b,c){var k=this.ef,d=this.aq,e=[0,0,0,0,0,0,0,0];e[0]=k[0]*a+k[4]*b+k[12];e[1]=k[1]*a+k[5]*b+k[13];e[2]=k[2]*a+k[6]*b+k[14];e[3]=k[3]*a+k[7]*b+k[15];e[4]=d[0]*e[0]+d[4]*e[1]+d[8]*e[2]+d[12]*e[3];e[5]=d[1]*e[0]+d[5]*e[1]+d[9]*e[2]+d[13]*e[3];e[6]=d[2]*e[0]+d[6]*e[1]+d[10]*e[2]+d[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],c[0]=(.5*e[4]+.5)*this.width,c[1]=(.5*e[5]+.5)*this.height)};a.prototype.Kj=function(a,b,c){if(this.width!==a||this.height!==b||c){this.yg();
c=this.ya;this.width=a;this.height=b;c.viewport(0,0,a,b);cd(this.es,this.Jx,this.Hz,this.ef);if(this.Qb){var k=-a/2;a=a/2;var d=b/2;b=-b/2;var e=this.Dr,f=this.sv,g=this.aq;g||(g=$c());var t=a-k,q=b-d,u=f-e;g[0]=2/t;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/q;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/u;g[11]=0;g[12]=-(k+a)/t;g[13]=-(b+d)/q;g[14]=-(f+e)/u;g[15]=1;this.Yn[0]=1;this.Yn[1]=1}else b=a/b,k=this.Dr,a=this.sv,g=this.aq,f=k*Math.tan(45*Math.PI/360),b*=f,d=-b,e=-f,g||(g=$c()),t=b-d,q=f-e,u=a-k,g[0]=2*
k/t,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*k/q,g[6]=0,g[7]=0,g[8]=(b+d)/t,g[9]=(f+e)/q,g[10]=-(a+k)/u,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(a*k*2)/u,g[15]=0,k=[0,0],a=[0,0],this.Ly(0,0,k),this.Ly(1,1,a),this.Yn[0]=1/(a[0]-k[0]),this.Yn[1]=-1/(a[1]-k[1]);k=0;for(a=this.mc.length;k<a;k++)d=this.mc[k],d.gj=!1,d.Hx&&(c.useProgram(d.wn),c.uniformMatrix4fv(d.Hx,!1,this.aq));c.useProgram(this.mc[this.Fm].wn);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);
this.qj=this.gi=null;this.To&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Cs),c.bindRenderbuffer(c.RENDERBUFFER,this.To),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.jw||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.To),this.jw=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.Gq=null)}};a.prototype.If=function(){cd(this.es,this.Jx,this.Hz,this.ef);bd(this.ef,this.Yn)};a.prototype.translate=function(a,
b){if(0!==a||0!==b){this.Ii[0]=a;this.Ii[1]=b;this.Ii[2]=0;var c=this.ef,k=this.Ii,d=k[0],e=k[1],k=k[2];c[12]=c[0]*d+c[4]*e+c[8]*k+c[12];c[13]=c[1]*d+c[5]*e+c[9]*k+c[13];c[14]=c[2]*d+c[6]*e+c[10]*k+c[14];c[15]=c[3]*d+c[7]*e+c[11]*k+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ii[0]=a,this.Ii[1]=b,this.Ii[2]=1,bd(this.ef,this.Ii)};a.prototype.Iq=function(a){if(0!==a){var b=this.ef,c,k=Math.sin(a);a=Math.cos(a);var d=b[0],e=b[1],f=b[2],g=b[3],t=b[4],q=b[5],u=b[6],x=b[7];c?b!==c&&(c[8]=
b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=d*a+t*k;c[1]=e*a+q*k;c[2]=f*a+u*k;c[3]=g*a+x*k;c[4]=d*-k+t*a;c[5]=e*-k+q*a;c[6]=f*-k+u*a;c[7]=g*-k+x*a}};a.prototype.kf=function(){if(!b(this.Et,this.ef)){var a=this.he();a.type=5;a.fb?ad(this.ef,a.fb):a.fb=$c(this.ef);ad(this.ef,this.Et);this.td=this.Tc=!1}};a.prototype.Nq=function(a){this.Qb&&(32760<a&&(a=32760),this.Po=this.es[2]-this.Dr-a*this.NG)};d.prototype.hD=function(){var a=this.ya,b=this.la;
0!==this.yd?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.Cs),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Jp=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Jp=!1)};d.prototype.lD=function(){this.ya.bindTexture(this.ya.TEXTURE_2D,this.Mf)};d.prototype.mD=function(){var a=this.ya;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,
this.Mf);a.activeTexture(a.TEXTURE0)};d.prototype.iD=function(){var a=this.uy,b=this.la;b.Oo=a;b=b.ck;b.Kk&&b.$p!==a&&(b.$p=a,this.ya.uniform1f(b.Kk,a))};d.prototype.cD=function(){this.ya.drawElements(this.ya.TRIANGLES,this.ve,this.ya.UNSIGNED_SHORT,this.yd)};d.prototype.eD=function(){this.ya.blendFunc(this.yd,this.ve)};d.prototype.oD=function(){var a,b,c,k=this.la.mc,d=this.la.xw;a=0;for(b=k.length;a<b;a++)c=k[a],a===d&&c.Wp?(c.lv(this.fb),c.gj=!0):c.gj=!1;ad(this.fb,this.la.ts)};d.prototype.dD=
function(){var a=this.ya,b=this.la;this.Mf?(b.qj===this.Mf&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.qj=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Cs),b.Jp||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Mf,0)):(b.Qb||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.YC=function(){var a=this.ya,b=this.yd;0===b?(a.clearColor(this.fb[0],this.fb[1],
this.fb[2],this.fb[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.fb[0],this.fb[1],this.fb[2],this.fb[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.gD=function(){var a=this.ya;0!==this.yd?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.bD=function(){var a=this.ya,b=this.la;b.Qb&&a.disable(a.DEPTH_TEST);var c=b.mc[1];a.useProgram(c.wn);!c.gj&&c.Wp&&(c.lv(b.ts),c.gj=!0);a.enableVertexAttribArray(c.Cf);
a.bindBuffer(a.ARRAY_BUFFER,b.qu);a.vertexAttribPointer(c.Cf,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.yd/4,this.ve);c=b.ck;a.useProgram(c.wn);0<=c.Cf&&(a.enableVertexAttribArray(c.Cf),a.bindBuffer(a.ARRAY_BUFFER,b.Vn[b.Xg]),a.vertexAttribPointer(c.Cf,b.Qb?3:2,a.FLOAT,!1,0,0));0<=c.li&&(a.enableVertexAttribArray(c.li),a.bindBuffer(a.ARRAY_BUFFER,b.En[b.Xg]),a.vertexAttribPointer(c.li,2,a.FLOAT,!1,0,0));b.Qb&&a.enable(a.DEPTH_TEST)};d.prototype.jD=function(){var a=this.ya,b=this.la,c=b.mc[this.yd];
b.xw=this.yd;b.ck=c;a.useProgram(c.wn);!c.gj&&c.Wp&&(c.lv(b.ts),c.gj=!0);c.Kk&&c.$p!==b.Oo&&(c.$p=b.Oo,a.uniform1f(c.Kk,b.Oo));0<=c.Cf&&(a.enableVertexAttribArray(c.Cf),a.bindBuffer(a.ARRAY_BUFFER,b.Vn[b.Xg]),a.vertexAttribPointer(c.Cf,b.Qb?3:2,a.FLOAT,!1,0,0));0<=c.li&&(a.enableVertexAttribArray(c.li),a.bindBuffer(a.ARRAY_BUFFER,b.En[b.Xg]),a.vertexAttribPointer(c.li,2,a.FLOAT,!1,0,0))};d.prototype.fD=function(){var a=this.fb;this.ya.uniform4f(this.la.ck.Ot,a[0],a[1],a[2],a[3])};d.prototype.kD=function(){var a,
b,c=this.la.ck,k=this.ya;a=this.fb;c.Sm&&this.la.qj!==this.Mf&&(k.activeTexture(k.TEXTURE1),k.bindTexture(k.TEXTURE_2D,this.Mf),this.la.qj=this.Mf,k.activeTexture(k.TEXTURE0));var d=a[0];c.Qt&&d!==c.Sx&&(c.Sx=d,k.uniform1f(c.Qt,d));d=a[1];c.Pt&&d!==c.Rx&&(c.Rx=d,k.uniform1f(c.Pt,d));d=a[2];b=a[3];!c.wj||d===c.Mx&&b===c.Nx||(c.Mx=d,c.Nx=b,k.uniform2f(c.wj,d,b));d=a[4];b=a[5];!c.vj||d===c.Kx&&b===c.Lx||(c.Kx=d,c.Lx=b,k.uniform2f(c.vj,d,b));d=a[6];c.Rm&&d!==c.Px&&(c.Px=d,k.uniform1f(c.Rm,d));d=a[7];
c.Qm&&d!==c.Ox&&(c.Ox=d,k.uniform1f(c.Qm,d));d=a[8];b=a[9];!c.Vm||d===c.Wx&&b===c.Xx||(c.Wx=d,c.Xx=b,k.uniform2f(c.Vm,d,b));d=a[10];b=a[11];!c.Tm||d===c.Tx&&b===c.Ux||(c.Tx=d,c.Ux=b,k.uniform2f(c.Tm,d,b));d=a[12];c.Um&&d!==c.Vx&&(c.Vx=d,k.uniform1f(c.Um,d));if(c.Ta.length)for(a=0,b=c.Ta.length;a<b;a++)d=this.fz[a],d!==c.Ct[a]&&(c.Ct[a]=d,k.uniform1f(c.Ta[a][1],d))};a.prototype.he=function(){this.rf===this.Uf.length&&this.Uf.push(new d(0,this));return this.Uf[this.rf++]};a.prototype.yg=function(){if(0!==
this.rf&&!this.ya.isContextLost()){var a=this.ya;0<this.Vk&&(a.bindBuffer(a.ARRAY_BUFFER,this.qu),a.bufferSubData(a.ARRAY_BUFFER,0,this.ru.subarray(0,this.Vk)),b&&0<=b.Cf&&"<point>"===b.name&&a.vertexAttribPointer(b.Cf,4,a.FLOAT,!1,0,0));if(0<this.Of){var b=this.ck;a.bindBuffer(a.ARRAY_BUFFER,this.Vn[this.Xg]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Wn.subarray(0,this.Of));b&&0<=b.Cf&&"<point>"!==b.name&&a.vertexAttribPointer(b.Cf,this.Qb?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.En[this.Xg]);
a.bufferSubData(a.ARRAY_BUFFER,0,this.Fn.subarray(0,this.Ei));b&&0<=b.li&&"<point>"!==b.name&&a.vertexAttribPointer(b.li,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.rf;a<b;a++)switch(c=this.Uf[a],c.type){case 1:c.cD();break;case 2:c.lD();break;case 3:c.iD();break;case 4:c.eD();break;case 5:c.oD();break;case 6:c.dD();break;case 7:c.YC();break;case 8:c.bD();break;case 9:c.jD();break;case 10:c.kD();break;case 11:c.mD();break;case 12:c.fD();break;case 13:c.gD();break;case 14:c.hD()}this.Vk=this.Ei=this.Of=
this.rf=0;this.Jp=this.td=this.Tc=!1;this.Xg++;4<=this.Xg&&(this.Xg=0)}};a.prototype.xh=function(a){if(a!==this.Cx&&!this.qm){var b=this.he();b.type=3;this.Cx=b.uy=a;this.td=this.Tc=!1}};a.prototype.ie=function(a){if(a!==this.gi){var b=this.he();b.type=2;this.gi=b.Mf=a;this.td=this.Tc=!1}};a.prototype.Bi=function(a,b){if((a!==this.Dx||b!==this.Bx)&&!this.qm){var c=this.he();c.type=4;c.yd=a;c.ve=b;this.Dx=a;this.Bx=b;this.td=this.Tc=!1}};a.prototype.Uy=function(){this.Bi(this.ya.ONE,this.ya.ONE_MINUS_SRC_ALPHA)};
a.prototype.Wk=function(a,b,c,k,d,e,f,g){15992<=this.Of&&this.yg();var t=this.Of,q=this.Ei,u=this.Wn,x=this.Fn,z=this.Po;if(this.Tc)this.Uf[this.rf-1].ve+=6;else{var E=this.he();E.type=1;E.yd=this.Qb?t:t/2*3;E.ve=6;this.Tc=!0;this.td=!1}this.Qb?(u[t++]=a,u[t++]=b,u[t++]=z,u[t++]=c,u[t++]=k,u[t++]=z,u[t++]=d,u[t++]=e,u[t++]=z,u[t++]=f,u[t++]=g,u[t++]=z):(u[t++]=a,u[t++]=b,u[t++]=c,u[t++]=k,u[t++]=d,u[t++]=e,u[t++]=f,u[t++]=g);x[q++]=0;x[q++]=0;x[q++]=1;x[q++]=0;x[q++]=1;x[q++]=1;x[q++]=0;x[q++]=1;
this.Of=t;this.Ei=q};a.prototype.dg=function(a,b,c,k,d,e,f,g,t){15992<=this.Of&&this.yg();var q=this.Of,u=this.Ei,x=this.Wn,z=this.Fn,E=this.Po;if(this.Tc)this.Uf[this.rf-1].ve+=6;else{var B=this.he();B.type=1;B.yd=this.Qb?q:q/2*3;B.ve=6;this.Tc=!0;this.td=!1}var B=t.left,D=t.top,C=t.right;t=t.bottom;this.Qb?(x[q++]=a,x[q++]=b,x[q++]=E,x[q++]=c,x[q++]=k,x[q++]=E,x[q++]=d,x[q++]=e,x[q++]=E,x[q++]=f,x[q++]=g,x[q++]=E):(x[q++]=a,x[q++]=b,x[q++]=c,x[q++]=k,x[q++]=d,x[q++]=e,x[q++]=f,x[q++]=g);z[u++]=
B;z[u++]=D;z[u++]=C;z[u++]=D;z[u++]=C;z[u++]=t;z[u++]=B;z[u++]=t;this.Of=q;this.Ei=u};a.prototype.ZF=function(a,b,c,k,d,e,f,g,t,q,u,x,z,E,B,D){15992<=this.Of&&this.yg();var C=this.Of,y=this.Ei,w=this.Wn,F=this.Fn,I=this.Po;if(this.Tc)this.Uf[this.rf-1].ve+=6;else{var Q=this.he();Q.type=1;Q.yd=this.Qb?C:C/2*3;Q.ve=6;this.Tc=!0;this.td=!1}this.Qb?(w[C++]=a,w[C++]=b,w[C++]=I,w[C++]=c,w[C++]=k,w[C++]=I,w[C++]=d,w[C++]=e,w[C++]=I,w[C++]=f,w[C++]=g,w[C++]=I):(w[C++]=a,w[C++]=b,w[C++]=c,w[C++]=k,w[C++]=
d,w[C++]=e,w[C++]=f,w[C++]=g);F[y++]=t;F[y++]=q;F[y++]=u;F[y++]=x;F[y++]=z;F[y++]=E;F[y++]=B;F[y++]=D;this.Of=C;this.Ei=y};a.prototype.LF=function(a,b,c,k){7996<=this.Vk&&this.yg();var d=this.Vk,e=this.ru;if(this.td)this.Uf[this.rf-1].ve++;else{var f=this.he();f.type=8;f.yd=d;f.ve=1;this.td=!0;this.Tc=!1}e[d++]=a;e[d++]=b;e[d++]=c;e[d++]=k;this.Vk=d};a.prototype.Ce=function(a){if(this.Fm!==a){if(!this.mc[a]){if(0===this.Fm)return;a=0}var b=this.he();b.type=9;this.Fm=b.yd=a;this.td=this.Tc=!1}};a.prototype.kn=
function(a){a=this.mc[a];return!(!a.wj&&!a.vj)};a.prototype.uu=function(a){a=this.mc[a];return!!(a.wj||a.vj||a.rs)};a.prototype.tu=function(a){return this.mc[a].Gf};a.prototype.VF=function(a){a=this.mc[a];return 0!==a.Zo||0!==a.$o};a.prototype.xE=function(a){return this.mc[a].Zo};a.prototype.yE=function(a){return this.mc[a].$o};a.prototype.zE=function(a,b){return this.mc[a].Ta[b][2]};a.prototype.Cq=function(a){return this.mc[a].as};a.prototype.$k=function(a,b,c,k,d,e,f,g,t,q,u,x,z,E,B){var D=this.mc[this.Fm],
C,y;if(D.TE||B.length){C=this.he();C.type=10;C.fb?ad(this.ef,C.fb):C.fb=$c();y=C.fb;y[0]=b;y[1]=c;y[2]=k;y[3]=d;y[4]=e;y[5]=f;y[6]=g;y[7]=t;y[8]=q;y[9]=u;y[10]=x;y[11]=z;y[12]=E;D.Sm?C.Mf=a:C.Mf=null;if(B.length)for(c=C.fz,c.length=B.length,a=0,b=B.length;a<b;a++)c[a]=B[a];this.td=this.Tc=!1}};a.prototype.clear=function(a,b,c,k){var d=this.he();d.type=7;d.yd=0;d.fb||(d.fb=$c());d.fb[0]=a;d.fb[1]=b;d.fb[2]=c;d.fb[3]=k;this.td=this.Tc=!1};a.prototype.clearRect=function(a,b,c,k){if(!(0>c||0>k)){var d=
this.he();d.type=7;d.yd=1;d.fb||(d.fb=$c());d.fb[0]=a;d.fb[1]=b;d.fb[2]=c;d.fb[3]=k;this.td=this.Tc=!1}};a.prototype.Yy=function(a){if(this.Qb&&(a=!!a,this.qm!==a)){var b=this.he();b.type=14;b.yd=a?1:0;this.td=this.Tc=!1;this.qm=a;this.Gq=null;this.qm?this.Ce(2):this.Ce(0)}};a.prototype.Wy=function(a){if(this.Qb){var b=this.he();b.type=13;b.yd=a?1:0;this.td=this.Tc=!1}};a.prototype.Ow=function(){ad(this.Et,g);this.If();this.kf();var a=this.width/2,b=this.height/2;this.Wk(-a,b,a,b,a,-b,-a,-b);ad(g,
this.ef);this.kf()};a.prototype.Vy=function(a,b,c){this.Ce(3);var k=this.he();k.type=12;k.fb||(k.fb=$c());k.fb[0]=a;k.fb[1]=b;k.fb[2]=c;k.fb[3]=1;this.td=this.Tc=!1};a.prototype.sG=function(){this.Ce(0)};a.prototype.dG=function(){this.Ce(2)};a.prototype.SF=function(){this.yg();this.ya.flush()};var e=[],f={};a.prototype.MC=function(){H(e);f={}};a.prototype.Hk=function(a,b,c,k){b=!!b;c=!!c;var d=a.src+","+b+","+c+(b?",undefined":""),g=null;if("undefined"!==typeof a.src&&f.hasOwnProperty(d))return g=
f[d],g.Do++,g;this.yg();var r=this.ya,v=pa(a.width)&&pa(a.height),g=r.createTexture();r.bindTexture(r.TEXTURE_2D,g);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var t=r.RGBA,q=r.RGBA,u=r.UNSIGNED_BYTE;if(k&&!this.gh)switch(k){case 1:q=t=r.RGB;break;case 2:u=r.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=r.UNSIGNED_SHORT_5_5_5_1;break;case 4:q=t=r.RGB,u=r.UNSIGNED_SHORT_5_6_5}if(!v&&b){k=document.createElement("canvas");k.width=ra(a.width);k.height=ra(a.height);var x=k.getContext("2d");x.webkitImageSmoothingEnabled=
c;x.mozImageSmoothingEnabled=c;x.msImageSmoothingEnabled=c;x.imageSmoothingEnabled=c;x.drawImage(a,0,0,a.width,a.height,0,0,k.width,k.height);r.texImage2D(r.TEXTURE_2D,0,t,q,u,k)}else r.texImage2D(r.TEXTURE_2D,0,t,q,u,a);b?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE));c?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,
r.LINEAR),v&&this.Fw?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.generateMipmap(r.TEXTURE_2D)):r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST));r.bindTexture(r.TEXTURE_2D,null);this.gi=null;g.Ui=a.width;g.Ti=a.height;g.Do=1;g.pw=d;e.push(g);return f[d]=g};a.prototype.Ke=function(a,b,c,k,d){this.yg();var f=this.ya;this.gh&&(k=!1);var g=
f.createTexture();f.bindTexture(f.TEXTURE_2D,g);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,b,0,f.RGBA,k?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);d?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,c?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,
c?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.gi=null;g.Ui=a;g.Ti=b;e.push(g);return g};a.prototype.Pz=function(a,b,c){this.yg();var k=this.ya;this.gh&&(c=!1);k.bindTexture(k.TEXTURE_2D,b);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,c?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,a)}catch(d){console&&console.error&&console.error("Error updating WebGL texture: ",d)}k.bindTexture(k.TEXTURE_2D,null);this.gi=null};a.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.Do&&1<a.Do?a.Do--:(this.yg(),a===this.gi&&(this.ya.bindTexture(this.ya.TEXTURE_2D,null),this.gi=null),a===this.qj&&(this.ya.activeTexture(this.ya.TEXTURE1),this.ya.bindTexture(this.ya.TEXTURE_2D,null),this.ya.activeTexture(this.ya.TEXTURE0),this.qj=null),La(e,a),"undefined"!==typeof a.pw&&delete f[a.pw],this.ya.deleteTexture(a)))};a.prototype.Jf=function(a){if(a!==this.Gq){var b=this.he();b.type=6;this.Gq=b.Mf=a;this.td=this.Tc=!1}};Yb=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Le=(this.pm=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Kd=!!a.dc;this.ox="undefined"!==typeof window.AppMobi||
this.Kd;this.Af=!!window.c2cocoonjs;this.Zf=!!window.c2ejecta;this.Af&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Zf&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.eb=this.Kd||this.Af||this.Zf;this.tm=
/edge\//i.test(navigator.userAgent);this.gh=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.tm;this.tx=/tizen/i.test(navigator.userAgent);this.Hp=/android/i.test(navigator.userAgent)&&!this.tx&&!this.gh&&!this.tm;this.yx=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.gh&&!this.tm;this.kF=/ipad/i.test(navigator.userAgent);this.xk=this.yx||this.kF||this.Zf;this.nm=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.gh&&!this.tm;this.lt=/amazonwebappplatform/i.test(navigator.userAgent);this.cF=/firefox/i.test(navigator.userAgent);this.hF=/safari/i.test(navigator.userAgent)&&!this.nm&&!this.gh&&!this.tm;this.iF=/windows/i.test(navigator.userAgent);this.di="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.ux=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.wx=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.sk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.xt=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.ut=!!window.cr_windows10;this.tt=this.ux||this.wx||this.xt||this.ut;this.aF=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Ip=this.Hp&&!this.nm&&!this.pm&&!this.cF&&!this.lt&&!this.eb;this.devicePixelRatio=
1;this.hh=this.Le||this.pm||this.ox||this.Af||this.Hp||this.xk||this.sk||this.xt||this.aF||this.tx||this.Zf;this.hh||(this.hh=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.wm=!!(this.xk&&this.Le&&window.indexedDB);this.$s=null;this.VE="";this.wm&&(this.$s=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.di||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.di=!0);this.canvas=a;this.$j=document.getElementById("c2canvasdiv");this.la=this.ya=null;this.Vs="(unavailable)";this.Qb=!1;this.Zi=0;this.Ab=null;this.Hs="";this.gp=!1;this.my=this.ny=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Kd&&(window.c2runtime=this);this.di&&(window.ondragover=function(a){a.preventDefault();return!1},
window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Ip&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.Ha=this.width;this.Ga=this.height;this.Mo=this.width;this.Ml=this.height;this.Dk=window.innerWidth;this.Ck=window.innerHeight;this.fE=!1;this.Ua=!0;this.mj=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types=
{};this.ua=[];this.fc=[];this.Kt={};this.$f=[];this.Bs={};this.ah=[];this.ll=[];this.mr=[];this.Xr=[];this.xC=[];this.Ax=this.lz=null;this.Yi={};this.nt=this.ci=!1;this.cf=0;this.mt=this.pt=!1;this.Wf=[];this.rm=!1;this.kh=this.Nd=this.Tp=this.Ju="";this.Bn=this.jz=!1;this.fp=[];this.Yh=this.Xa=0;this.$x=30;this.qs=this.Wm=0;this.hg=1;this.dd=new Bb;this.Eh=new Bb;this.hq=this.op=this.bj=this.jf=this.sj=this.Fs=this.Qp=0;this.Gl=null;this.Wo=[];this.As=[];this.Yo=-1;this.Rt=[[]];this.gv=this.Xp=0;
this.Dq(null);this.Tt=[];this.Zp=-1;this.Sl=this.hy=this.$m=0;this.Cn=[];this.bv=this.yu=-1;this.zm=!0;this.Jk=0;this.um=!1;this.wG=0;this.Yj=null;this.Sb=this.wp=!1;this.bu=new ca;this.cu=new ca;this.du=new ca;this.qn=[];this.fg=new Eb([]);this.Wu=new Eb([]);this.Wj=[];this.nk={};this.Th={};this.Nh={};this.kl={};this.lw={};this.Gx=this.Sp=this.Fc=this.Uc=this.Fx=this.Rp=this.Ob=null;this.il=this.yt=!1;this.Is=[null,null];this.cj=0;this.Ds="";this.qh={};this.zn=this.ji=null;this.kz="";this.gq=[];
this.cG()}}function c(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function g(a,b,c,k){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=k;e.onsuccess=function(d){d=d.target.result;d.onerror=k;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}catch(f){k(f)}}function e(a,b,c){try{var k=indexedDB.open("_C2SaveStates");
k.onupgradeneeded=d;k.onerror=c;k.onsuccess=function(k){k=k.target.result;k.onerror=c;var d=k.transaction(["saves"]).objectStore("saves").get(a);d.onsuccess=function(){d.result?b(d.result.data):b(null)}}}catch(e){c(e)}}function f(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function h(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof
ca||a[b]&&"undefined"!==typeof a[b].vg||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.cG=function(){var a=this;if(this.wm)this.$s?this.$s.startServer({port:0,localhost_only:!0},function(b){a.VE=b;a.Lw(function(b){a.Gk(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+
a)}):this.Lw(function(b){a.Gk(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.sk?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.ux||this.sk||this.xt||this.ut)c="data.json";b.open("GET",c,!0);var k=!1;if(!this.eb&&"response"in b&&"responseType"in b)try{b.responseType="json",k="json"===b.responseType}catch(d){k=!1}if(!k&&"responseType"in b)try{b.responseType="text"}catch(e){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.sk?
b.onreadystatechange=function(){4===b.readyState&&a.Gk(JSON.parse(b.responseText))}:(b.onload=function(){if(k)a.Gk(b.response);else if(a.Zf){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Gk(JSON.parse(c))}else a.Gk(JSON.parse(b.responseText))},b.onerror=function(a){ja("Error requesting "+c+":");ja(a)});b.send()}};a.prototype.YE=function(){var a=this,b,c,k,d,e,f,h,l,g;this.lj=(!this.eb||this.Zf||this.Le)&&this.IG&&!this.Ip;0===this.Zd&&this.xk&&(this.lj=!1);this.devicePixelRatio=this.lj?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ad();c=!(!this.fE&&(!this.Zr||this.di||this.tt||this.sk||this.pm||this.Le||this.lt));0<this.Zd&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.wD&&(this.Af||this.Zf||!this.eb)&&(b={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.ya=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(m){}if(this.ya){if(b=this.ya.getExtension("WEBGL_debug_renderer_info"))this.Vs=
this.ya.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.ya.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Qb&&(this.Vs+=" [front-to-back enabled]");this.eb||(this.ud=document.createElement("canvas"),jQuery(this.ud).appendTo(this.canvas.parentNode),this.ud.oncontextmenu=function(){return!1},this.ud.onselectstart=function(){return!1},this.ud.width=Math.round(this.Mo*this.devicePixelRatio),this.ud.height=Math.round(this.Ml*this.devicePixelRatio),jQuery(this.ud).css({width:this.Mo+"px",height:this.Ml+
"px"}),this.Hy(),this.nu=this.ud.getContext("2d"));this.la=new Yb(this.ya,this.hh,this.Qb);this.la.Kj(this.canvas.width,this.canvas.height);this.la.Fw=0!==this.pD;this.Ab=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.CF();fa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.la.ix();a.la.Kj(a.la.width,a.la.height,!0);a.Uc=null;a.Fc=null;a.Is[0]=null;a.Is[1]=null;a.DF();a.Ua=!0;
fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(c=this.ua.length;b<c;b++)for(e=this.ua[b],k=0,d=e.Qa.length;k<d;k++)h=e.Qa[k],h.Kc=this.la.Ss(h.id),h.Gf=this.la.tu(h.Kc),this.il=this.il||this.la.kn(h.Kc);b=0;for(c=this.$f.length;b<c;b++){l=this.$f[b];k=0;for(d=l.Qa.length;k<d;k++)h=l.Qa[k],h.Kc=this.la.Ss(h.id),h.Gf=this.la.tu(h.Kc);l.jg();k=0;for(d=l.Sa.length;k<d;k++){g=l.Sa[k];e=0;for(f=g.Qa.length;e<f;e++)h=g.Qa[e],h.Kc=this.la.Ss(h.id),h.Gf=this.la.tu(h.Kc),
this.il=this.il||this.la.kn(h.Kc);g.jg()}}}else{if(0<this.Zd&&this.Kd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ab=AppMobi.canvas.getContext("2d");try{this.Ab.samplingMode=this.Ya?"smooth":"sharp",this.Ab.globalScale=1,this.Ab.HTML5CompatibilityMode=!0,this.Ab.imageSmoothingEnabled=this.Ya}catch(n){}0!==this.width&&0!==this.height&&(this.Ab.width=this.width,this.Ab.height=this.height)}this.Ab||(this.Af?(b={antialias:!!this.Ya,alpha:c},
this.Ab=this.canvas.getContext("2d",b)):(b={alpha:c},this.Ab=this.canvas.getContext("2d",b)),this.Ab.webkitImageSmoothingEnabled=this.Ya,this.Ab.mozImageSmoothingEnabled=this.Ya,this.Ab.msImageSmoothingEnabled=this.Ya,this.Ab.imageSmoothingEnabled=this.Ya);this.nu=this.ud=null}this.vz=function(b){a.mb(!1,b)};window==window.top||this.eb||this.tt||this.sk||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==
typeof cr_is_preview&&(this.Af&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.Tp="__c2_continuouspreview",this.Bn=!0),this.JF&&!this.hh&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Dj()});this.eb||(b=function(a){if(Xb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Zd&&this.lj&&1<this.devicePixelRatio&&this.setSize(this.Ic,this.Hc,!0);this.Ez();this.PE();this.go();this.na={}};a.prototype.setSize=function(a,b,c){var k=0,d=0,e=0,f=0,f=0;if(this.Dk!==
a||this.Ck!==b||c){this.Dk=a;this.Ck=b;var h=this.Zd,l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.um)&&!this.Le;if(l||0!==this.Zd||c)l&&0<this.cj&&(h=this.cj),c=this.devicePixelRatio,4<=h?(e=this.Ic/this.Hc,a/b>e?(e*=b,5===h?(f=e*c/this.Ic,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),e=this.Ic*f/c,f=this.Hc*f/c,k=(a-e)/2,d=(b-f)/2,a=e,b=f):(k=(a-e)/2,a=e)):(f=a/e,5===h?(f=f*c/this.Hc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),
e=this.Ic*f/c,f=this.Hc*f/c,k=(a-e)/2,d=(b-f)/2,a=e):d=(b-f)/2,b=f),l&&!this.di&&(d=k=0)):this.di&&this.um&&0===this.Pw&&(k=Math.floor((a-this.Ic)/2),d=Math.floor((b-this.Hc)/2),a=this.Ic,b=this.Hc),2>h&&(this.El=c),this.Mo=Math.round(a),this.Ml=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.Ua=!0,this.Qz?(this.Ha=this.width,this.Ga=this.height,this.Ye=!0):this.width<this.Ic&&this.height<this.Hc||1===h?(this.Ha=this.width,this.Ga=this.height,this.Ye=!0):(this.Ha=this.Ic,
this.Ga=this.Hc,this.Ye=!1,2===h?(e=this.Ic/this.Hc,h=this.Dk/this.Ck,h<e?this.Ha=this.Ga*h:h>e&&(this.Ga=this.Ha/h)):3===h&&(e=this.Ic/this.Hc,h=this.Dk/this.Ck,h>e?this.Ha=this.Ga*h:h<e&&(this.Ga=this.Ha/h))),this.$j&&!this.eb&&(jQuery(this.$j).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(k)+"px","margin-top":Math.floor(d)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=
Math.round(a*c),this.canvas.height=Math.round(b*c),this.Zf?(this.canvas.style.left=Math.floor(k)+"px",this.canvas.style.top=Math.floor(d)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.lj&&!this.eb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.ud&&(this.ud.width=Math.round(a*c),this.ud.height=Math.round(b*c),this.ud.style.width=this.Mo+"px",this.ud.style.height=this.Ml+"px"),this.la&&this.la.Kj(Math.round(a*
c),Math.round(b*c)),this.Kd&&this.Ab&&(this.Ab.width=Math.round(a),this.Ab.height=Math.round(b)),this.Ab&&(this.Ab.webkitImageSmoothingEnabled=this.Ya,this.Ab.mozImageSmoothingEnabled=this.Ya,this.Ab.msImageSmoothingEnabled=this.Ya,this.Ab.imageSmoothingEnabled=this.Ya),this.Ez(),this.yx&&!this.Le&&window.scrollTo(0,0)}};a.prototype.Ez=function(){if(this.BC&&0!==this.lu){var a="portrait";2===this.lu&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};a.prototype.CF=function(){this.la.MC();this.yt=!0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Tk&&c.Tk()};a.prototype.DF=function(){this.yt=!1;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.cn&&c.cn()};
a.prototype.Hy=function(){if(!this.eb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.um)&&!this.Le?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.ud).css(a)}};var l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.mj)for(fa("[Construct 2] Suspending"),
this.mj=!0,-1!==this.yu&&l&&l(this.yu),-1!==this.bv&&clearTimeout(this.bv),a=0,b=this.Cn.length;a<b;a++)this.Cn[a](!0);else if(!a&&this.mj){fa("[Construct 2] Resuming");this.mj=!1;this.Qp=tb();this.sj=tb();a=this.Wm=this.op=0;for(b=this.Cn.length;a<b;a++)this.Cn[a](!1);this.mb(!1)}};a.prototype.Wr=function(a){this.Cn.push(a)};a.prototype.Jh=function(a){return this.gq[a]};a.prototype.Gk=function(a){a&&a.project||ja("Project model unavailable");a=a.project;this.name=a[0];this.Nw=a[1];this.Zd=a[12];
this.Pw=a[12];this.Ic=a[10];this.Hc=a[11];this.Cy=this.Ic/2;this.Dy=this.Hc/2;this.eb&&!this.Zf&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Pw=this.Zd=3);this.ov=a[18];this.ki=a[19];if(0===this.ki){var b=new Image;b.crossOrigin="anonymous";this.Zy(b,"loading-logo.png");this.ji={Yp:b}}else if(4===this.ki){b=new Image;b.src="";var c=new Image;c.src="";var k=new Image;k.src="";var d=new Image;d.src=
"";var e=new Image;e.src="";var f=new Image;f.src="";var h=new Image;h.src="";var l=new Image;l.src="";var g=new Image;g.src="";var m=new Image;m.src="";var n=new Image;n.src="";var u=new Image;u.src="";this.ji={Yp:[b,c,k,d],PF:[e,f,h,l],MG:[g,m,n,u]}}this.$m=a[21];this.gq=fd();this.Ng=new L(this);b=0;for(c=a[2].length;b<c;b++)h=a[2][b],k=this.Jh(h[0]),Zb(h,k.prototype),l=new k(this),l.Vq=h[1],l.ei=h[2],l.ey=h[9],l.ma&&l.ma(),this.plugins.push(l);this.gq=fd();b=0;for(c=a[3].length;b<c;b++){h=a[3][b];
e=this.Jh(h[1]);l=null;k=0;for(d=this.plugins.length;k<d;k++)if(this.plugins[k]instanceof e){l=this.plugins[k];break}g=new l.wa(l);g.name=h[0];g.Aa=h[2];g.kt=h[3].slice(0);g.KG=h[3].length;g.CC=h[4];g.hE=h[5];g.kb=h[11];g.Aa?(g.Ok=[],g.bh=this.Sl++,g.ec=null):(g.Ok=null,g.bh=-1,g.ec=[]);g.dp=null;g.jk=null;g.Gw=null;g.Ld=!1;g.Je=null;h[6]?(g.Gn=h[6][0],g.Hn=h[6][1],g.In=h[6][2]):(g.Gn=null,g.Hn=0,g.In=0);h[7]?g.He=h[7]:g.He=null;g.index=b;g.H=[];g.Ro=[];g.Ah=[new $b(g)];g.xg=0;g.wf=null;g.zw=0;g.el=
!0;g.nr=ac;g.Os=bc;g.vE=cc;g.La=ec;g.mn=fc;g.nn=gc;g.wi=hc;g.pp=ic;g.Ks=jc;g.Ns=kc;g.Ie=lc;g.Ps=mc;g.Hl=new Fb(this.Ic,this.Hc);g.ro=!0;g.so=!1;g.na={};g.toString=nc;g.fc=[];k=0;for(d=h[8].length;k<d;k++){m=h[8][k];n=this.Jh(m[1]);u=null;e=0;for(f=this.fc.length;e<f;e++)if(this.fc[e]instanceof n){u=this.fc[e];break}u||(u=new n(this),u.dq=[],u.cq=new ca,u.ma&&u.ma(),this.fc.push(u),gd&&u instanceof gd&&(this.lz=u),hd&&u instanceof hd&&(this.Ax=u));-1===u.dq.indexOf(g)&&u.dq.push(g);e=new u.wa(u,g);
e.name=m[0];e.kb=m[2];e.ma();g.fc.push(e)}g.global=h[9];g.ot=h[10];g.Qa=[];k=0;for(d=h[12].length;k<d;k++)g.Qa.push({id:h[12][k][0],name:h[12][k][1],Kc:-1,Gf:!1,xc:!0,index:k});g.hr=h[13];this.ov&&!g.Aa&&!g.ot&&l.ei||g.ma();g.name&&(this.types[g.name]=g);this.ua.push(g);l.Vq&&(k=new l.ta(g),k.uid=this.$m++,k.Ny=this.hy++,k.ij=0,k.fm=oc,k.toString=pc,k.U=h[14],k.ma(),g.H.push(k),this.qh[k.uid.toString()]=k)}b=0;for(c=a[4].length;b<c;b++)for(e=a[4][b],f=this.ua[e[0]],k=1,d=e.length;k<d;k++)h=this.ua[e[k]],
h.ec.push(f),f.Ok.push(h);b=0;for(c=a[28].length;b<c;b++){e=a[28][b];f=[];k=0;for(d=e.length;k<d;k++)f.push(this.ua[e[k]]);k=0;for(d=f.length;k<d;k++)f[k].Ld=!0,f[k].Je=f}if(0<this.Sl)for(b=0,c=this.ua.length;b<c;b++)if(h=this.ua[b],!h.Aa&&h.ec.length){h.dp=Array(this.Sl);h.jk=Array(this.Sl);h.Gw=Array(this.Sl);g=[];k=u=n=m=0;for(d=h.ec.length;k<d;k++)for(l=h.ec[k],h.dp[l.bh]=m,m+=l.KG,h.jk[l.bh]=n,n+=l.CC,h.Gw[l.bh]=u,u+=l.hE,e=0,f=l.Qa.length;e<f;e++)g.push(Ca({},l.Qa[e]));h.Qa=g.concat(h.Qa);k=
0;for(d=h.Qa.length;k<d;k++)h.Qa[k].index=k}b=0;for(c=a[5].length;b<c;b++)h=a[5][b],k=new qc(this,h),this.Kt[k.name]=k,this.$f.push(k);b=0;for(c=a[6].length;b<c;b++)h=a[6][b],k=new rc(this,h),this.Bs[k.name]=k,this.ah.push(k);b=0;for(c=this.ah.length;b<c;b++)this.ah[b].wc();b=0;for(c=this.ah.length;b<c;b++)this.ah[b].kv();b=0;for(c=this.mr.length;b<c;b++)this.mr[b].wc();H(this.mr);this.AC=a[7];this.Ds=a[8];this.ze=a[9];this.El=1;this.wD=a[13];this.Ya=a[14];this.Zr=a[15];this.LG=a[16];this.IG=a[17];
this.lu=a[20];this.BC=0<this.lu;this.JF=a[22];this.Ye=this.Qz=a[23];this.pD=a[24];this.QF=a[25];this.Qb=a[27]&&!this.gh;this.Zq=Date.now();H(this.gq);this.YE()};var k=!1;a.prototype.tr=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){k=a.ow=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.Zf?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){k=a.ow=!0;console&&console.error&&console.error("Error extracting image '"+
b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.Zy(a,b)));this.ll.push(a)};a.prototype.dE=function(a){var b,c;b=0;for(c=this.ll.length;b<c;b++)if(this.ll[b].PC===a)return this.ll[b];return null};var n=0,p=!1;a.prototype.PE=function(){this.Yj&&(n=this.Yj.qG(this.AC))};a.prototype.iw=function(){var a=n,b=0,c=0,k=!0,d,e,c=0;for(d=this.ll.length;c<d;c++){e=this.ll[c];var f=e.Ko;if(!f||0>=f)f=5E4;a+=f;e.src&&(e.complete||e.loaded)&&!e.ow?b+=f:k=!1}k&&this.QF&&this.Yj&&(p||(this.Yj.xG(),
p=!0),c=this.Yj.wE(),b+=c,c<n&&(k=!1));this.bg=0==a?1:b/a;return k};var r=!1;a.prototype.go=function(){if(this.Ab||this.la){var a=this.Ab||this.nu;this.ud&&this.Hy();var b=window.innerWidth,c=window.innerHeight;this.Dk===b&&this.Ck===c||this.setSize(b,c);this.bg=0;this.Ex=-1;var d=this;if(this.iw()&&(4!==this.ki||r))this.QE();else{c=Date.now()-this.Zq;if(a){var e=this.width,f=this.height,b=this.devicePixelRatio;if(3>this.ki&&(this.Af||500<=c&&this.Ex!=this.bg)){a.clearRect(0,0,e,f);var c=e/2,f=f/
2,e=0===this.ki&&this.ji.Yp.complete,h=40*b,g=0,l=80*b,n;if(e){var u=this.ji.Yp,l=u.width*b;n=u.height*b;h=l/2;g=n/2;a.drawImage(u,wa(c-h),wa(f-g),l,n)}1>=this.ki?(c=wa(c-h)+.5,f=wa(f+(g+(e?12*b:0)))+.5,a.fillStyle=k?"red":"DodgerBlue",a.fillRect(c,f,Math.floor(l*this.bg),6*b),a.strokeStyle="black",a.strokeRect(c,f,l,6*b),a.strokeStyle="white",a.strokeRect(c-1*b,f-1*b,l+2*b,8*b)):2===this.ki&&(a.font=this.Zf?"12pt ArialMT":"12pt Arial",a.fillStyle=k?"#f00":"#999",a.UH="middle",b=Math.round(100*this.bg)+
"%",e=a.measureText?a.measureText(b):null,a.fillText(b,c-(e?e.width:0)/2,f));this.Ex=this.bg}else if(4===this.ki){this.uD(a);m?m(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.Af?10:100)}}};var v=-1,t="undefined"===typeof cr_is_preview?200:0,q=!0,u=!1,x=0,z=0,E="undefined"===typeof cr_is_preview?3E3:0,B=null,D=null,C=0;a.prototype.uD=function(a){if(!r){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),e=this.ji.Yp,f=this.ji.PF,h=this.ji.MG,
g=0;4>g;++g)if(!e[g].complete||!f[g].complete||!h[g].complete)return;0===C&&(v=Date.now());var g=Date.now(),l=!1,m=a,n,p;q||u?(a.clearRect(0,0,b,d),B&&B.width===b&&B.height===d||(B=document.createElement("canvas"),B.width=b,B.height=d,D=B.getContext("2d")),m=D,l=!0,q&&1===C&&(v=Date.now())):a.globalAlpha=1;m.fillStyle="#333333";m.fillRect(0,0,b,d);256<this.Ml?(n=Na(.22*d,105,.6*b),p=.25*n,m.drawImage(c(f,n),.5*b-n/2,.2*d-p/2,n,p),p=n=Math.min(.395*d,.95*b),m.drawImage(c(e,n),.5*b-n/2,.485*d-p/2,n,
p),n=Na(.22*d,105,.6*b),p=.25*n,m.drawImage(c(h,n),.5*b-n/2,.868*d-p/2,n,p),m.fillStyle="#3C3C3C",n=b,p=Math.max(.005*d,2),m.fillRect(0,.8*d-p/2,n,p),m.fillStyle=k?"red":"#E0FF65",n=b*this.bg,m.fillRect(.5*b-n/2,.8*d-p/2,n,p)):(p=n=.55*d,m.drawImage(c(e,n),.5*b-n/2,.45*d-p/2,n,p),m.fillStyle="#3C3C3C",n=b,p=Math.max(.005*d,2),m.fillRect(0,.85*d-p/2,n,p),m.fillStyle=k?"red":"#E0FF65",n=b*this.bg,m.fillRect(.5*b-n/2,.85*d-p/2,n,p));l&&(q?a.globalAlpha=0===C?0:Math.min((g-v)/300,1):u&&(a.globalAlpha=
Math.max(1-(g-z)/300,0)),a.drawImage(B,0,0,b,d));q&&300<=g-v&&2<=C&&(q=!1,x=g);!q&&g-x>=E&&!u&&1<=this.bg&&(u=!0,z=g);if(u&&g-z>=300+t||"undefined"!==typeof cr_is_preview&&1<=this.bg&&500>Date.now()-v)r=!0,u=q=!1,this.ji=D=B=null;++C}};a.prototype.QE=function(){this.ud&&(this.canvas.parentNode.removeChild(this.ud),this.ud=this.nu=null);this.Zq=Date.now();this.sj=tb();var a,b,c;if(this.ov)for(a=0,b=this.ua.length;a<b;a++)c=this.ua[a],c.Aa||c.ot||!c.Za.ei||c.ma();else this.zm=!1;a=0;for(b=this.$f.length;a<
b;a++)this.$f[a].QC();2<=this.Zd&&(a=this.Ic/this.Hc,b=this.width/this.height,this.El=2!==this.Zd&&b>a||2===this.Zd&&b<a?this.height/this.Hc:this.width/this.Ic);this.Nw?this.Kt[this.Nw].Uu():this.$f[0].Uu();this.ov||(this.Jk=1,this.trigger(L.prototype.F.Kv,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.BF&&c.BF();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.mb(!1);this.Kd&&AppMobi.webview.execute("onGameReady();")};a.prototype.mb=function(a,b,c){if(this.Ob){var k=tb();if(c||!this.mj||a){a||(m?this.yu=m(this.vz):this.bv=setTimeout(this.vz,this.hh?1:16));b=b||k;var d=this.Zd;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Le)||this.um)&&0<this.cj&&(d=this.cj);if(0<d){var d=window.innerWidth,e=window.innerHeight;this.Dk===d&&this.Ck===e||this.setSize(d,e)}this.eb||(c?(this.gp||(this.Hs=
jQuery(this.canvas).css("margin")||"0",this.gp=!0),this.nm||this.di||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.gp?(this.nm||this.di||jQuery(this.canvas).css("margin",this.Hs),this.Hs="",this.gp=!1,0===this.Zd&&this.setSize(Math.round(this.ny/this.devicePixelRatio),Math.round(this.my/this.devicePixelRatio),!0)):(this.ny=this.width,this.my=this.height));
this.zm&&(c=this.iw(),this.Jk=this.bg,c&&(this.zm=!1,this.bg=1,this.trigger(L.prototype.F.Kv,null)));this.oF(b);!this.Ua&&!this.Af||this.yt||this.Bn||a||(this.Ua=!1,this.la?this.Bc():this.Yd(),this.zn&&(this.canvas&&this.canvas.toDataURL&&(this.kz=this.canvas.toDataURL(this.zn[0],this.zn[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.kz),this.trigger(L.prototype.F.RA,null)),this.zn=null));this.GH||(this.jf++,this.bj++,this.op++);this.Wm+=tb()-k}}};a.prototype.oF=function(a){var b,c,k,d,e,f,h,
g;1E3<=a-this.sj&&(this.sj+=1E3,1E3<=a-this.sj&&(this.sj=a),this.Fs=this.op,this.op=0,this.qs=this.Wm,this.Wm=0);b=0;0!==this.Qp&&(b=a-this.Qp,0>b&&(b=0),this.Yh=b/=1E3,.5<this.Yh?this.Yh=0:this.Yh>1/this.$x&&(this.Yh=1/this.$x));this.Qp=a;this.Xa=this.Yh*this.hg;this.dd.add(this.Xa);this.Eh.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.um)&&!this.Le;2<=this.Zd||a&&0<this.cj?(b=this.Ic/this.Hc,c=this.width/this.height,k=this.Zd,
a&&0<this.cj&&(k=this.cj),this.El=2!==k&&c>b||2===k&&c<b?this.height/this.Hc:this.width/this.Ic,this.Ob&&(this.Ob.Ku(this.Ob.scrollX),this.Ob.Lu(this.Ob.scrollY))):this.El=this.lj?this.devicePixelRatio:1;this.Ad();this.cf++;this.Ng.hG();this.cf--;this.Ad();this.cf++;c=this.bu.kg();a=0;for(b=c.length;a<b;a++)c[a].TF();a=0;for(b=this.ua.length;a<b;a++)if(f=this.ua[a],!f.Aa&&(f.fc.length||f.ec.length))for(c=0,k=f.H.length;c<k;c++)for(h=f.H[c],d=0,e=h.Ka.length;d<e;d++)h.Ka[d].mb();a=0;for(b=this.ua.length;a<
b;a++)if(f=this.ua[a],!f.Aa&&(f.fc.length||f.ec.length))for(c=0,k=f.H.length;c<k;c++)for(h=f.H[c],d=0,e=h.Ka.length;d<e;d++)g=h.Ka[d],g.Jy&&g.Jy();c=this.cu.kg();a=0;for(b=c.length;a<b;a++)c[a].mb();this.cf--;this.SE();for(a=0;this.Gl&&10>a++;)this.Ew(this.Gl);a=0;for(b=this.ah.length;a<b;a++)this.ah[a].Zs=!1;this.Ob.$i&&this.Ob.$i.Jc();H(this.qn);this.cf++;a=0;for(b=this.ua.length;a<b;a++)if(f=this.ua[a],!f.Aa&&(f.fc.length||f.ec.length))for(c=0,k=f.H.length;c<k;c++)for(h=f.H[c],d=0,e=h.Ka.length;d<
e;d++)g=h.Ka[d],g.Jn&&g.Jn();c=this.du.kg();a=0;for(b=c.length;a<b;a++)c[a].Jn();this.cf--};a.prototype.Dj=function(){var a,b,c,k,d,e,f,h,g;a=0;for(b=this.ua.length;a<b;a++)if(f=this.ua[a],!f.Aa)for(c=0,k=f.H.length;c<k;c++)if(h=f.H[c],h.Dj&&h.Dj(),h.Ka)for(d=0,e=h.Ka.length;d<e;d++)g=h.Ka[d],g.Dj&&g.Dj()};a.prototype.Ew=function(a){var b=this.Ob;this.Ob.zG();var c,k,d;if(this.la)for(c=0,k=this.ua.length;c<k;c++)d=this.ua[c],d.Aa||!d.Nn||d.global&&0!==d.H.length||-1!==a.lm.indexOf(d)||d.Nn();b==a&&
H(this.Ng.Ue);H(this.qn);this.Ry(!0);a.Uu();this.Ry(!1);this.Ua=!0;this.Ad()};a.prototype.Ry=function(a){var b,c,k,d,e,f,h,g,l;b=0;for(c=this.fc.length;b<c;b++)k=this.fc[b],a?k.an&&k.an():k.bn&&k.bn();b=0;for(c=this.ua.length;b<c;b++)if(k=this.ua[b],k.global||k.Za.Vq)for(d=0,e=k.H.length;d<e;d++)if(f=k.H[d],a?f.an&&f.an():f.bn&&f.bn(),f.Ka)for(h=0,g=f.Ka.length;h<g;h++)l=f.Ka[h],a?l.an&&l.an():l.bn&&l.bn()};a.prototype.UF=function(a){this.bu.add(a)};a.prototype.Gi=function(a){this.cu.add(a)};a.prototype.BG=
function(a){this.du.add(a)};a.prototype.Cg=function(a){return a&&-1!==a.Zm?this.Yh*a.Zm:this.Xa};a.prototype.Yd=function(){this.Ob.Yd(this.Ab);this.Kd&&this.Ab.present()};a.prototype.Bc=function(){this.Qb&&(this.Zi=1,this.Ob.Xh(this.la));this.Ob.Bc(this.la);this.la.SF()};a.prototype.Vj=function(a){a&&this.Wo.push(a)};a.prototype.Bu=function(a){La(this.Wo,a)};a.prototype.Xf=function(a){a=a.toString();return this.qh.hasOwnProperty(a)?this.qh[a]:null};var y=[];a.prototype.Ee=function(a){var b,c;b=a.type.name;
var k=null;if(this.Yi.hasOwnProperty(b)){if(k=this.Yi[b],k.contains(a))return}else k=y.length?y.pop():new ca,this.Yi[b]=k;k.add(a);this.ci=!0;if(a.Ld)for(b=0,c=a.siblings.length;b<c;b++)this.Ee(a.siblings[b]);this.nt&&k.jl.push(a);this.mt||(this.cf++,this.trigger(Object.getPrototypeOf(a.type.Za).F.Cv,a),this.cf--)};a.prototype.Ad=function(){if(this.ci){var a,b,c,k,d,e;this.nt=!0;c=0;for(d=this.Wf.length;c<d;++c)for(a=this.Wf[c],b=a.type,b.H.push(a),k=0,e=b.ec.length;k<e;++k)b.ec[k].H.push(a),b.ec[k].el=
!0;H(this.Wf);this.DA();mb(this.Yi);this.ci=this.nt=!1}};a.prototype.DA=function(){for(var a in this.Yi)this.Yi.hasOwnProperty(a)&&this.aA(this.Yi[a])};a.prototype.aA=function(a){var b=a.kg(),c=b[0].type,k,d,e,f,h,g;ub(c.H,a);c.el=!0;0===c.H.length&&(c.so=!1);k=0;for(d=c.ec.length;k<d;++k)g=c.ec[k],ub(g.H,a),g.el=!0;k=0;for(d=this.Ng.Ue.length;k<d;++k)if(h=this.Ng.Ue[k],h.Te.hasOwnProperty(c.index)&&ub(h.Te[c.index].kj,a),!c.Aa)for(e=0,f=c.ec.length;e<f;++e)g=c.ec[e],h.Te.hasOwnProperty(g.index)&&
ub(h.Te[g.index].kj,a);if(h=b[0].O){if(h.lf)for(e=h.H,k=0,d=e.length;k<d;++k)f=e[k],a.contains(f)&&(f.ab(),h.xd.update(f,f.Ae,null),f.Ae.set(0,0,-1,-1));ub(h.H,a);h.un(0)}for(k=0;k<b.length;++k)this.$z(b[k],c);a.clear();y.push(a);this.Ua=!0};a.prototype.$z=function(a,b){var c,k,d;c=0;for(k=this.Wo.length;c<k;++c)this.Wo[c](a);a.tf&&b.Hl.update(a,a.tf,null);(c=a.O)&&c.Xk(a,!0);if(a.Ka)for(c=0,k=a.Ka.length;c<k;++c)d=a.Ka[c],d.Re&&d.Re(),d.behavior.cq.remove(a);this.bu.remove(a);this.cu.remove(a);this.du.remove(a);
a.Re&&a.Re();this.qh.hasOwnProperty(a.uid.toString())&&delete this.qh[a.uid.toString()];this.hq--;100>b.Ro.length&&b.Ro.push(a)};a.prototype.Jl=function(a,b,c,k){if(a.Aa){var d=wa(Math.random()*a.Ok.length);return this.Jl(a.Ok[d],b,c,k)}return a.wf?this.Uh(a.wf,b,!1,c,k,!1):null};var w=[];a.prototype.Uh=function(a,b,c,k,d,e){var f,h,g,l;if(!a)return null;var m=this.ua[a[1]],n=m.Za.ei;if(this.zm&&n&&!m.ot||n&&!this.la&&11===a[0][11])return null;var u=b;n||(b=null);var q;m.Ro.length?(q=m.Ro.pop(),q.wd=
!0,m.Za.ta.call(q,m)):(q=new m.Za.ta(m),q.wd=!1);!c||e||this.qh.hasOwnProperty(a[2].toString())?q.uid=this.$m++:q.uid=a[2];this.qh[q.uid.toString()]=q;q.Ny=this.hy++;q.ij=m.H.length;f=0;for(h=this.Wf.length;f<h;++f)this.Wf[f].type===m&&q.ij++;q.fm=oc;q.toString=pc;g=a[3];if(q.wd)mb(q.na);else{q.na={};if("undefined"!==typeof cr_is_preview)for(q.mx=[],q.mx.length=g.length,f=0,h=g.length;f<h;f++)q.mx[f]=g[f][1];q.Rb=[];q.Rb.length=g.length}f=0;for(h=g.length;f<h;f++)q.Rb[f]=g[f][0];if(n){var r=a[0];
q.x=la(k)?r[0]:k;q.y=la(d)?r[1]:d;q.z=r[2];q.width=r[3];q.height=r[4];q.depth=r[5];q.M=r[6];q.opacity=r[7];q.te=r[8];q.ue=r[9];q.Bd=r[10];f=r[11];!this.la&&m.Qa.length&&(q.Bd=f);q.Il=Hb(q.Bd);this.ya&&Mb(q,q.Bd,this.ya);if(q.wd){f=0;for(h=r[12].length;f<h;f++)for(g=0,l=r[12][f].length;g<l;g++)q.gc[f][g]=r[12][f][g];q.Lb.set(0,0,0,0);q.tf.set(0,0,-1,-1);q.Ae.set(0,0,-1,-1);q.Mb.bl(q.Lb);H(q.ds)}else{q.gc=r[12].slice(0);f=0;for(h=q.gc.length;f<h;f++)q.gc[f]=r[12][f].slice(0);q.yb=[];q.Mh=[];q.Mh.length=
m.Qa.length;q.Lb=new Aa(0,0,0,0);q.tf=new Aa(0,0,-1,-1);q.Ae=new Aa(0,0,-1,-1);q.Mb=new Ba;q.ds=[];q.aa=sc;q.vC=tc;q.Gd=uc;q.ab=vc;q.Mz=wc;q.nv=xc;q.Dg=yc}q.Bh=!1;q.zz=0;q.yz=0;q.xz=null;14===r.length&&(q.Bh=!0,q.zz=r[13][0],q.yz=r[13][1],q.xz=r[13][2]);f=0;for(h=m.Qa.length;f<h;f++)q.Mh[f]=!0;q.yh=!0;q.jg=zc;q.jg();q.Nz=!!q.yb.length;q.zo=!0;q.ks=!0;m.ro=!0;q.visible=!0;q.Zm=-1;q.O=b;q.lg=b.H.length;q.Zi=0;"undefined"===typeof q.ib&&(q.ib=null);this.Ua=q.uf=!0}var x;H(w);f=0;for(h=m.ec.length;f<
h;f++)w.push.apply(w,m.ec[f].fc);w.push.apply(w,m.fc);if(q.wd)for(f=0,h=w.length;f<h;f++){var p=w[f];x=q.Ka[f];x.wd=!0;p.behavior.ta.call(x,p,q);r=a[4][f];g=0;for(l=r.length;g<l;g++)x.U[g]=r[g];x.ma();p.behavior.cq.add(q)}else for(q.Ka=[],f=0,h=w.length;f<h;f++)p=w[f],x=new p.behavior.ta(p,q),x.wd=!1,x.U=a[4][f].slice(0),x.ma(),q.Ka.push(x),p.behavior.cq.add(q);r=a[5];if(q.wd)for(f=0,h=r.length;f<h;f++)q.U[f]=r[f];else q.U=r.slice(0);this.Wf.push(q);this.ci=!0;b&&(b.Dl(q,!0),1!==b.xe||1!==b.ye)&&
(m.so=!0);this.hq++;if(m.Ld){if(q.Ld=!0,q.wd?H(q.siblings):q.siblings=[],!c&&!e){f=0;for(h=m.Je.length;f<h;f++)if(m.Je[f]!==m){if(!m.Je[f].wf)return null;q.siblings.push(this.Uh(m.Je[f].wf,u,!1,n?q.x:k,n?q.y:d,!0))}f=0;for(h=q.siblings.length;f<h;f++)for(q.siblings[f].siblings.push(q),g=0;g<h;g++)f!==g&&q.siblings[f].siblings.push(q.siblings[g])}}else q.Ld=!1,q.siblings=null;q.ma();f=0;for(h=q.Ka.length;f<h;f++)q.Ka[f].Iy&&q.Ka[f].Iy();return q};a.prototype.Zl=function(a){var b,c;b=0;for(c=this.Ob.Sa.length;b<
c;b++){var k=this.Ob.Sa[b];if(Rb(k.name,a))return k}return null};a.prototype.eh=function(a){a=wa(a);0>a&&(a=0);a>=this.Ob.Sa.length&&(a=this.Ob.Sa.length-1);return this.Ob.Sa[a]};a.prototype.ns=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].La().$a=!0};a.prototype.mn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].mn()};a.prototype.nn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].nn()};a.prototype.wi=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].wi()};a.prototype.Jz=function(a){if(a.ro){var b,
c,k=a.H;b=0;for(c=k.length;b<c;++b)k[b].nv();k=this.Wf;b=0;for(c=k.length;b<c;++b)k[b].type===a&&k[b].nv();a.ro=!1}};a.prototype.Ls=function(a,b,c,k){var d,f,e=a?1!==a.xe||1!==a.ye:!1;if(b.Aa)for(a=0,d=b.Ok.length;a<d;++a)f=b.Ok[a],e||f.so?Ia(k,f.H):(this.Jz(f),f.Hl.Eq(c,k));else e||b.so?Ia(k,b.H):(this.Jz(b),b.Hl.Eq(c,k))};a.prototype.ax=function(a,b,c,k){var d,f;d=0;for(f=b.length;d<f;++d)this.Ls(a,b[d],c,k)};a.prototype.AE=function(a,b,c){var k=this.lz;k&&this.ax(a,k.dq,b,c)};a.prototype.tE=function(a,
b,c){var k=this.Ax;k&&this.ax(a,k.dq,b,c)};a.prototype.Dn=function(a,b,c){var k=a.La(),d,f,e,h,g=this.Ec().bd.ff,l,m,n;if(k.$a)for(k.$a=!1,H(k.H),d=0,h=a.H.length;d<h;d++)e=a.H[d],e.ab(),l=e.O.oc(b,c,!0),m=e.O.oc(b,c,!1),e.Gd(l,m)?k.H.push(e):g&&k.Ra.push(e);else{f=0;n=g?k.Ra:k.H;d=0;for(h=n.length;d<h;d++)e=n[d],e.ab(),l=e.O.oc(b,c,!0),m=e.O.oc(b,c,!1),e.Gd(l,m)&&(g?k.H.push(e):(k.H[f]=k.H[d],f++));n.length=f}a.Ie();return k.Ys()};a.prototype.Qd=function(a,b){if(!(a&&b&&a!==b&&a.uf&&b.uf))return!1;
a.ab();b.ab();var c=a.O,k=b.O,d,f,e,h,g,l,m,n;if(c===k||c.xe===k.xe&&k.ye===k.ye&&c.scale===k.scale&&c.M===k.M&&c.Vd===k.Vd){if(!a.Lb.ZE(b.Lb)||!a.Mb.nx(b.Mb)||a.Bh&&b.Bh)return!1;if(a.Bh)return this.rz(a,b);if(b.Bh)return this.rz(b,a);m=a.ib&&!a.ib.nj();d=b.ib&&!b.ib.nj();if(!m&&!d)return!0;m?(a.ib.Rh(a.width,a.height,a.M),m=a.ib):(this.fg.al(a.Mb,a.x,a.y,a.width,a.height),m=this.fg);d?(b.ib.Rh(b.width,b.height,b.M),n=b.ib):(this.fg.al(b.Mb,b.x,b.y,b.width,b.height),n=this.fg);return m.mm(n,b.x-
a.x,b.y-a.y)}m=a.ib&&!a.ib.nj();d=b.ib&&!b.ib.nj();m?(a.ib.Rh(a.width,a.height,a.M),this.fg.dz(a.ib)):this.fg.al(a.Mb,a.x,a.y,a.width,a.height);m=this.fg;d?(b.ib.Rh(b.width,b.height,b.M),this.Wu.dz(b.ib)):this.Wu.al(b.Mb,b.x,b.y,b.width,b.height);n=this.Wu;d=0;for(f=m.ge;d<f;d++)e=2*d,h=e+1,g=m.Jb[e],l=m.Jb[h],m.Jb[e]=c.Bb(g+a.x,l+a.y,!0),m.Jb[h]=c.Bb(g+a.x,l+a.y,!1);m.ab();d=0;for(f=n.ge;d<f;d++)e=2*d,h=e+1,g=n.Jb[e],l=n.Jb[h],n.Jb[e]=k.Bb(g+b.x,l+b.y,!0),n.Jb[h]=k.Bb(g+b.x,l+b.y,!1);n.ab();return m.mm(n,
0,0)};var F=new Ba;new Aa(0,0,0,0);var I=[];a.prototype.rz=function(a,b){var c,k,d,f,e=b.Lb,h=a.x,g=a.y;a.nE(e,I);var l=b.ib&&!b.ib.nj();c=0;for(k=I.length;c<k;++c)if(d=I[c],f=d.Db,e.$E(f,h,g)&&(F.bl(f),F.offset(h,g),F.nx(b.Mb)))if(l)if(b.ib.Rh(b.width,b.height,b.M),d.fe){if(d.fe.mm(b.ib,b.x-(h+f.left),b.y-(g+f.top)))return H(I),!0}else{if(this.fg.al(F,0,0,f.right-f.left,f.bottom-f.top),this.fg.mm(b.ib,b.x,b.y))return H(I),!0}else if(d.fe){if(this.fg.al(b.Mb,0,0,b.width,b.height),d.fe.mm(this.fg,
-(h+f.left),-(g+f.top)))return H(I),!0}else return H(I),!0;H(I);return!1};a.prototype.Fz=function(a,b){if(!b)return!1;var c,k,d,f,e;c=0;for(k=a.fc.length;c<k;c++)if(a.fc[c].behavior instanceof b)return!0;if(!a.Aa)for(c=0,k=a.ec.length;c<k;c++)for(e=a.ec[c],d=0,f=e.fc.length;d<f;d++)if(e.fc[d].behavior instanceof b)return!0;return!1};a.prototype.hv=function(a){return this.Fz(a,Xc.hH)};a.prototype.iv=function(a){return this.Fz(a,Xc.iH)};var Q=[];a.prototype.kd=function(a){var b,c,k;a.ab();this.AE(a.O,
a.Lb,Q);b=0;for(c=Q.length;b<c;++b)if(k=Q[b],k.na.solidEnabled&&this.Qd(a,k))return H(Q),k;H(Q);return null};var da=[];a.prototype.Pg=function(a,b){var c=null;b&&(c=da,H(c));a.ab();this.tE(a.O,a.Lb,Q);var k,d,f;k=0;for(d=Q.length;k<d;++k)if(f=Q[k],f.na.jumpthruEnabled&&this.Qd(a,f))if(b)c.push(f);else return H(Q),f;H(Q);return c};a.prototype.Hf=function(a,b,c,k,d,f){k=k||50;var e=a.x,h=a.y,g,l=null,m=null;for(g=0;g<k;g++)if(a.x=e+b*g,a.y=h+c*g,a.aa(),!this.Qd(a,l)&&((l=this.kd(a))&&(m=l),!l&&(d&&
(f?l=this.Qd(a,f)?f:null:l=this.Pg(a),l&&(m=l)),!l)))return m&&this.vu(a,b,c,m),!0;a.x=e;a.y=h;a.aa();return!1};a.prototype.vu=function(a,b,c,k){var d=2,f,e=!1;f=!1;for(var h=a.x,g=a.y;16>=d;)f=1/d,d*=2,a.x+=b*f*(e?1:-1),a.y+=c*f*(e?1:-1),a.aa(),this.Qd(a,k)?f=e=!0:(f=e=!1,h=a.x,g=a.y);f&&(a.x=h,a.y=g,a.aa())};a.prototype.Oy=function(a,b){var c=la(b)?100:b,k=0,d=a.x,f=a.y,e=0,h=0,g=0,l=this.kd(a);if(!l)return!0;for(;k<=c;){switch(e){case 0:h=0;g=-1;k++;break;case 1:h=1;g=-1;break;case 2:h=1;g=0;break;
case 3:g=h=1;break;case 4:h=0;g=1;break;case 5:h=-1;g=1;break;case 6:h=-1;g=0;break;case 7:g=h=-1}e=(e+1)%8;a.x=wa(d+h*k);a.y=wa(f+g*k);a.aa();if(!this.Qd(a,l)&&(l=this.kd(a),!l))return!0}a.x=d;a.y=f;a.aa();return!1};a.prototype.Gj=function(a,b){a.uf&&b.uf&&this.qn.push([a,b])};a.prototype.JC=function(a,b){var c,k,d;c=0;for(k=this.qn.length;c<k;c++)if(d=this.qn[c],d[0]==a&&d[1]==b||d[0]==b&&d[1]==a)return!0;return!1};a.prototype.GC=function(a,b,c){var k=a.x,d=a.y,f=ta(10,bb(b,c,k,d)),e=Wa(b,c,k,d),
h=this.kd(a);if(!h)return Sa(e+va);var g=h,l,m,n,q,u=Pa(5);for(l=1;36>l;l++)if(m=e-l*u,a.x=b+Math.cos(m)*f,a.y=c+Math.sin(m)*f,a.aa(),!this.Qd(a,g)&&(g=this.kd(a),!g)){n=m;break}36===l&&(n=Sa(e+va));g=h;for(l=1;36>l;l++)if(m=e+l*u,a.x=b+Math.cos(m)*f,a.y=c+Math.sin(m)*f,a.aa(),!this.Qd(a,g)&&(g=this.kd(a),!g)){q=m;break}36===l&&(q=Sa(e+va));a.x=k;a.y=d;a.aa();if(q===n)return q;a=Xa(q,n)/2;a=$a(q,n)?Sa(n+a+va):Sa(q+a);n=Math.cos(e);e=Math.sin(e);q=Math.cos(a);a=Math.sin(a);b=n*q+e*a;return Wa(0,0,
n-2*b*q,e-2*b*a)};var R=-1;a.prototype.trigger=function(a,b,c){if(!this.Ob)return!1;var k=this.Ob.$i;if(!k)return!1;var d=!1,f,e,h;R++;var g=k.xs;e=0;for(h=g.length;e<h;++e)f=this.Cz(a,b,g[e],c),d=d||f;f=this.Cz(a,b,k,c);R--;return d||f};a.prototype.Cz=function(a,b,c,k){var d=!1,f,e,h,g;if(b)for(h=this.dv(a,b,b.type.name,c,k),d=d||h,g=b.type.ec,f=0,e=g.length;f<e;++f)h=this.dv(a,b,g[f].name,c,k),d=d||h;else h=this.dv(a,b,"system",c,k),d=d||h;return d};a.prototype.dv=function(a,b,c,k,d){var f,e=!1,
h=!1,h="undefined"!==typeof d,g=(h?k.Iw:k.Dz)[c];if(!g)return e;var l=null;k=0;for(f=g.length;k<f;++k)if(g[k].method==a){l=g[k].Ql;break}if(!l)return e;var m;h?m=l[d]:m=l;if(!m)return null;k=0;for(f=m.length;k<f;k++)a=m[k][0],d=m[k][1],h=this.bE(b,c,a,d),e=e||h;return e};a.prototype.bE=function(a,b,c,k){var d,f,e=!1;this.gv++;var h=this.Ec().bd;h&&this.mn(h.Ci);var g=1<this.gv;this.mn(c.Ci);g&&this.XF();var l=this.Dq(c);l.bd=c;a&&(d=this.types[b].La(),d.$a=!1,H(d.H),d.H[0]=a,this.types[b].Ie());a=
!0;if(c.parent){b=l.qz;for(d=c.parent;d;)b.push(d),d=d.parent;b.reverse();d=0;for(f=b.length;d<f;d++)if(!b[d].jG()){a=!1;break}}a&&(this.bj++,c.ff?c.iG(k):c.Jc(),e=e||l.rj);this.zq();g&&this.NF();this.wi(c.Ci);h&&this.wi(h.Ci);this.ci&&0===this.cf&&0===R&&!this.pt&&this.Ad();this.gv--;return e};a.prototype.Yl=function(){var a=this.Ec();return a.bd.Qc[a.yc]};a.prototype.bF=function(){return 0===this.Ec().yc};a.prototype.oE=function(){var a=this.Ec();return a.bd.pf[a.We]};a.prototype.XF=function(){this.Xp++;
this.Xp>=this.Rt.length&&this.Rt.push([])};a.prototype.NF=function(){this.Xp--};a.prototype.Tw=function(){return this.Rt[this.Xp]};a.prototype.Dq=function(a){this.Yo++;this.Yo>=this.As.length&&this.As.push(new Ac);var b=this.Ec();b.reset(a);return b};a.prototype.zq=function(){this.Yo--};a.prototype.Ec=function(){return this.As[this.Yo]};a.prototype.YF=function(){this.Zp++;this.Zp>=this.Tt.length&&this.Tt.push(aa({name:void 0,index:0,jd:!1}));var a=this.pE();a.name=void 0;a.index=0;a.jd=!1;return a};
a.prototype.OF=function(){this.Zp--};a.prototype.pE=function(){return this.Tt[this.Zp]};a.prototype.Vw=function(a,b){for(var c,k,d,f,e,h;b;){c=0;for(k=b.Lf.length;c<k;c++)if(h=b.Lf[c],h instanceof Bc&&Rb(a,h.name))return h;b=b.parent}c=0;for(k=this.ah.length;c<k;c++)for(e=this.ah[c],d=0,f=e.Zh.length;d<f;d++)if(h=e.Zh[d],h instanceof Bc&&Rb(a,h.name))return h;return null};a.prototype.Yw=function(a){var b,c;b=0;for(c=this.$f.length;b<c;b++)if(this.$f[b].kb===a)return this.$f[b];return null};a.prototype.tp=
function(a){var b,c;b=0;for(c=this.ua.length;b<c;b++)if(this.ua[b].kb===a)return this.ua[b];return null};a.prototype.qE=function(a){var b,c;b=0;for(c=this.Wj.length;b<c;b++)if(this.Wj[b].kb===a)return this.Wj[b];return null};a.prototype.WC=function(a,b){this.zn=[a,b];this.Ua=!0};a.prototype.SE=function(){var a=this,c=this.Ju,k=this.kh,d=this.Tp,h=!1;this.jz&&(h=!0,c="__c2_continuouspreview",this.jz=!1);if(c.length){this.Ad();k=this.nG();if(b()&&!this.Af)g(c,k,function(){fa("Saved state to IndexedDB storage ("+
k.length+" bytes)");a.kh=k;a.trigger(L.prototype.F.Jr,null);a.kh="";h&&f()},function(b){try{localStorage.setItem("__c2save_"+c,k),fa("Saved state to WebStorage ("+k.length+" bytes)"),a.kh=k,a.trigger(L.prototype.F.Jr,null),a.kh="",h&&f()}catch(d){fa("Failed to save game state: "+b+"; "+d),a.trigger(L.prototype.F.Pv,null)}});else try{localStorage.setItem("__c2save_"+c,k),fa("Saved state to WebStorage ("+k.length+" bytes)"),a.kh=k,this.trigger(L.prototype.F.Jr,null),a.kh="",h&&f()}catch(l){fa("Error saving to WebStorage: "+
l),a.trigger(L.prototype.F.Pv,null)}this.Nd=this.Tp=this.Ju=""}if(d.length){if(b()&&!this.Af)e(d,function(b){b?(a.Nd=b,fa("Loaded state from IndexedDB storage ("+a.Nd.length+" bytes)")):(a.Nd=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+a.Nd.length+" bytes)"));a.Bn=!1;a.Nd.length||a.trigger(L.prototype.F.Hr,null)},function(){a.Nd=localStorage.getItem("__c2save_"+d)||"";fa("Loaded state from WebStorage ("+a.Nd.length+" bytes)");a.Bn=!1;a.Nd.length||a.trigger(L.prototype.F.Hr,
null)});else{try{this.Nd=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+this.Nd.length+" bytes)")}catch(m){this.Nd=""}this.Bn=!1;a.Nd.length||a.trigger(L.prototype.F.Hr,null)}this.Ju=this.Tp=""}this.Nd.length&&(this.Ad(),this.nF(this.Nd),this.kh=this.Nd,this.trigger(L.prototype.F.hB,null),this.Nd=this.kh="")};a.prototype.nG=function(){var a,b,c,k,d,f,e,g={c2save:!0,version:1,rt:{time:this.dd.Va,walltime:this.Eh.Va,timescale:this.hg,tickcount:this.jf,execcount:this.bj,
next_uid:this.$m,running_layout:this.Ob.kb,start_time_offset:Date.now()-this.Zq},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ua.length;a<b;a++)if(d=this.ua[a],!d.Aa&&!this.hv(d)){f={instances:[]};lb(d.na)&&(f.ex=h(d.na));c=0;for(k=d.H.length;c<k;c++)f.instances.push(this.Iu(d.H[c]));g.types[d.kb.toString()]=f}a=0;for(b=this.$f.length;a<b;a++)c=this.$f[a],g.layouts[c.kb.toString()]=c.Tb();k=g.events.groups;a=0;for(b=this.Wj.length;a<b;a++)c=this.Wj[a],k[c.kb.toString()]=
this.nk[c.gm].fj;b=g.events.cnds;for(e in this.Th)this.Th.hasOwnProperty(e)&&(a=this.Th[e],lb(a.na)&&(b[e]={ex:h(a.na)}));b=g.events.acts;for(e in this.Nh)this.Nh.hasOwnProperty(e)&&(a=this.Nh[e],lb(a.na)&&(b[e]={ex:h(a.na)}));b=g.events.vars;for(e in this.kl)this.kl.hasOwnProperty(e)&&(a=this.kl[e],a.Kp||a.parent&&!a.ym||(b[e]=a.data));g.system=this.Ng.Tb();return JSON.stringify(g)};a.prototype.Qy=function(){var a,b,c,k,d,f;this.qh={};a=0;for(b=this.ua.length;a<b;a++)if(c=this.ua[a],!c.Aa)for(k=
0,d=c.H.length;k<d;k++)f=c.H[k],this.qh[f.uid.toString()]=f};a.prototype.nF=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.rm=!0;var b=a.rt;this.dd.reset();this.dd.Va=b.time;this.Eh.reset();this.Eh.Va=b.walltime||0;this.hg=b.timescale;this.jf=b.tickcount;this.bj=b.execcount;this.Zq=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.Ob.kb)if(c=this.Yw(c))this.Ew(c);else return;var k,d,f,e,h,g,l;g=a.types;for(d in g)if(g.hasOwnProperty(d)&&(e=this.tp(parseInt(d,10)))&&
!e.Aa&&!this.hv(e)){g[d].ex?e.na=g[d].ex:mb(e.na);h=e.H;f=g[d].instances;c=0;for(k=ua(h.length,f.length);c<k;c++)this.Up(h[c],f[c]);c=f.length;for(k=h.length;c<k;c++)this.Ee(h[c]);c=h.length;for(k=f.length;c<k;c++){h=null;if(e.Za.ei&&(h=this.Ob.sp(f[c].w.l),!h))continue;h=this.Uh(e.wf,h,!1,0,0,!0);this.Up(h,f[c])}e.el=!0}this.Ad();this.Qy();k=a.layouts;for(d in k)k.hasOwnProperty(d)&&(c=this.Yw(parseInt(d,10)))&&c.Yb(k[d]);k=a.events.groups;for(d in k)k.hasOwnProperty(d)&&(c=this.qE(parseInt(d,10)))&&
this.nk[c.gm]&&this.nk[c.gm].Oq(k[d]);c=a.events.cnds;for(d in this.Th)this.Th.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.Th[d].na=c[d].ex:this.Th[d].na={});c=a.events.acts;for(d in this.Nh)this.Nh.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.Nh[d].na=c[d].ex:this.Nh[d].na={});c=a.events.vars;for(d in c)c.hasOwnProperty(d)&&this.kl.hasOwnProperty(d)&&(this.kl[d].data=c[d]);this.$m=b.next_uid;this.rm=!1;c=0;for(k=this.fp.length;c<k;++c)h=this.fp[c],this.trigger(Object.getPrototypeOf(h.type.Za).F.Sg,
h);H(this.fp);this.Ng.Yb(a.system);c=0;for(k=this.ua.length;c<k;c++)if(e=this.ua[c],!e.Aa&&!this.hv(e))for(d=0,a=e.H.length;d<a;d++){h=e.H[d];if(e.Ld)for(g=h.fm(),H(h.siblings),b=0,f=e.Je.length;b<f;b++)l=e.Je[b],e!==l&&h.siblings.push(l.H[g]);h.qf&&h.qf();if(h.Ka)for(b=0,f=h.Ka.length;b<f;b++)g=h.Ka[b],g.qf&&g.qf()}this.Ua=!0}};a.prototype.Iu=function(a,b){var c,k,d,f,e;f=a.type;d=f.Za;var g={};b?g.c2=!0:g.uid=a.uid;lb(a.na)&&(g.ex=h(a.na));if(a.Rb&&a.Rb.length)for(g.ivs={},c=0,k=a.Rb.length;c<k;c++)g.ivs[a.type.kt[c].toString()]=
a.Rb[c];if(d.ei){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.O.kb,zi:a.Dg()};0!==a.M&&(d.a=a.M);1!==a.opacity&&(d.o=a.opacity);.5!==a.te&&(d.hX=a.te);.5!==a.ue&&(d.hY=a.ue);0!==a.Bd&&(d.bm=a.Bd);a.visible||(d.v=a.visible);a.uf||(d.ce=a.uf);-1!==a.Zm&&(d.mts=a.Zm);if(f.Qa.length)for(d.fx=[],c=0,k=f.Qa.length;c<k;c++)e=f.Qa[c],d.fx.push({name:e.name,active:a.Mh[e.index],params:a.gc[e.index]});g.w=d}if(a.Ka&&a.Ka.length)for(g.behs={},c=0,k=a.Ka.length;c<k;c++)f=a.Ka[c],f.Tb&&(g.behs[f.type.kb.toString()]=
f.Tb());a.Tb&&(g.data=a.Tb());return g};a.prototype.sE=function(a,b){var c,k;c=0;for(k=a.kt.length;c<k;c++)if(a.kt[c]===b)return c;return-1};a.prototype.mE=function(a,b){var c,k;c=0;for(k=a.Ka.length;c<k;c++)if(a.Ka[c].type.kb===b)return c;return-1};a.prototype.Up=function(a,b,c){var k,d,f,e,h;h=a.type;e=h.Za;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.na=b.ex:mb(a.na);if(d=b.ivs)for(k in d)d.hasOwnProperty(k)&&(f=this.sE(h,parseInt(k,10)),0>f||f>=a.Rb.length||(a.Rb[f]=d[k]));if(e.ei){f=b.w;a.O.kb!==
f.l&&(d=a.O,a.O=this.Ob.sp(f.l),a.O?(d.Xk(a,!0),a.O.Dl(a,!0),a.aa(),a.O.un(0)):(a.O=d,c||this.Ee(a)));a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.lg=f.zi;a.M=f.hasOwnProperty("a")?f.a:0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.te=f.hasOwnProperty("hX")?f.hX:.5;a.ue=f.hasOwnProperty("hY")?f.hY:.5;a.visible=f.hasOwnProperty("v")?f.v:!0;a.uf=f.hasOwnProperty("ce")?f.ce:!0;a.Zm=f.hasOwnProperty("mts")?f.mts:-1;a.Bd=f.hasOwnProperty("bm")?f.bm:0;a.Il=Hb(a.Bd);this.ya&&Mb(a,a.Bd,this.ya);a.aa();if(f.hasOwnProperty("fx"))for(c=
0,d=f.fx.length;c<d;c++)e=h.Ns(f.fx[c].name),0>e||(a.Mh[e]=f.fx[c].active,a.gc[e]=f.fx[c].params);a.jg()}if(h=b.behs)for(k in h)h.hasOwnProperty(k)&&(c=this.mE(a,parseInt(k,10)),0>c||a.Ka[c].Yb(h[k]));b.data&&a.Yb(b.data)};a.prototype.Jw=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,c)},c)};a.prototype.Lw=function(a,b){this.Jw("data.js",function(c){var k=new FileReader;k.onload=function(b){a(b.target.result)};k.onerror=b;k.readAsText(c)},
b)};a.prototype.Kw=function(a,b,c){this.Jw(a,function(a){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.cE=function(a,b,c){this.Kw(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},c)};a.prototype.Zy=function(a,b){this.wm?this.cE(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};Cc=function(b){return new a(document.getElementById(b))};Dc=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=
Cc;window.cr_createDCRuntime=Dc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.j=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));
window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.WC(a,c)};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.i=a;this.$i=null;this.scrollX=this.i.Ic/2;this.scrollY=this.i.Hc/2;this.scale=1;this.M=0;this.kk=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Gz=b[3];this.gz=b[4];this.kb=b[5];var c=b[6],d,f;this.Sa=[];this.lm=[];d=0;for(f=c.length;d<f;d++){var e=new Ec(this,c[d]);e.jy=d;this.Sa.push(e)}c=b[7];this.jj=[];d=0;for(f=c.length;d<f;d++){var e=c[d],h=this.i.ua[e[1]];h.wf||(h.wf=e);this.jj.push(e);-1===this.lm.indexOf(h)&&this.lm.push(h)}this.Qa=[];this.yb=[];
this.yh=!0;this.gc=[];d=0;for(f=b[8].length;d<f;d++)this.Qa.push({id:b[8][d][0],name:b[8][d][1],Kc:-1,Gf:!1,xc:!0,index:d}),this.gc.push(b[8][d][2].slice(0));this.jg();this.xi=new Aa(0,0,1,1);this.zu=new Aa(0,0,1,1);this.ti={}}function c(a,b){return a.lg-b.lg}function b(a,b){this.rc=a;this.i=a.i;this.H=[];this.scale=1;this.M=0;this.$g=!1;this.Ch=new Aa(0,0,0,0);this.Az=new Ba;this.Eb=this.rb=this.Fb=this.qb=0;this.Pj=!1;this.Gh=-1;this.os=0;this.name=b[0];this.index=b[1];this.kb=b[2];this.visible=
b[3];this.Tf=b[4];this.ig=b[5];this.xe=b[6];this.ye=b[7];this.opacity=b[8];this.np=b[9];this.lf=b[10];this.Vd=b[11];this.Bd=b[12];this.vD=b[13];this.Il="source-over";this.Hd=this.Od=0;this.xd=null;this.lh=d();this.eg=!0;this.Ek=new Aa(0,0,-1,-1);this.qd=new Aa(0,0,-1,-1);this.lf&&(this.xd=new Gb(this.i.Ic,this.i.Hc));this.Kg=!1;var c=b[14],f,e;this.mz=[];this.$e=[];this.Ll=[];f=0;for(e=c.length;f<e;f++){var h=c[f],g=this.i.ua[h[1]];g.wf||(g.wf=h,g.zw=this.index);this.$e.push(h);-1===this.rc.lm.indexOf(g)&&
this.rc.lm.push(g)}Ha(this.mz,this.$e);this.Qa=[];this.yb=[];this.yh=!0;this.gc=[];f=0;for(e=b[15].length;f<e;f++)this.Qa.push({id:b[15][f][0],name:b[15][f][1],Kc:-1,Gf:!1,xc:!0,index:f}),this.gc.push(b[15][f][2].slice(0));this.jg();this.xi=new Aa(0,0,1,1);this.zu=new Aa(0,0,1,1)}function d(){return h.length?h.pop():[]}function g(a){H(a);h.push(a)}a.prototype.mG=function(a){var b=a.type.kb.toString();this.ti.hasOwnProperty(b)||(this.ti[b]=[]);this.ti[b].push(this.i.Iu(a))};a.prototype.bx=function(){var a=
this.Sa[0];return!a.ig&&1===a.opacity&&!a.np&&a.visible};a.prototype.jg=function(){H(this.yb);this.yh=!0;var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.xc&&(this.yb.push(c),c.Gf||(this.yh=!1))};a.prototype.Ms=function(a){var b,c,d;b=0;for(c=this.Qa.length;b<c;b++)if(d=this.Qa[b],d.name===a)return d;return null};var e=[],f=!0;a.prototype.Uu=function(){this.gz&&(this.$i=this.i.Bs[this.gz],this.$i.kv());this.i.Ob=this;this.scrollX=this.i.Ic/2;this.scrollY=this.i.Hc/2;var a,b,d,h,g,l,m;a=0;
for(d=this.i.ua.length;a<d;a++)if(b=this.i.ua[a],!b.Aa)for(g=b.H,b=0,h=g.length;b<h;b++)if(l=g[b],l.O){var u=l.O.jy;u>=this.Sa.length&&(u=this.Sa.length-1);l.O=this.Sa[u];-1===l.O.H.indexOf(l)&&l.O.H.push(l);l.O.Pj=!0}if(!f)for(a=0,d=this.Sa.length;a<d;++a)this.Sa[a].H.sort(c);H(e);this.EC();a=0;for(d=this.Sa.length;a<d;a++)l=this.Sa[a],l.RC(),l.qr();g=!1;if(!this.kk){for(m in this.ti)if(this.ti.hasOwnProperty(m)&&(b=this.i.tp(parseInt(m,10)))&&!b.Aa&&this.i.iv(b)){h=this.ti[m];a=0;for(d=h.length;a<
d;a++){l=null;if(b.Za.ei&&(l=this.sp(h[a].w.l),!l))continue;l=this.i.Uh(b.wf,l,!1,0,0,!0);this.i.Up(l,h[a]);g=!0;e.push(l)}H(h)}a=0;for(d=this.Sa.length;a<d;a++)this.Sa[a].H.sort(c),this.Sa[a].Pj=!0}g&&(this.i.Ad(),this.i.Qy());for(a=0;a<e.length;a++)if(l=e[a],l.type.Ld)for(d=l.fm(),b=0,h=l.type.Je.length;b<h;b++)m=l.type.Je[b],l.type!==m&&(m.H.length>d?l.siblings.push(m.H[d]):m.wf&&(g=this.i.Uh(m.wf,l.O,!0,l.x,l.y,!0),this.i.Ad(),m.nr(),l.siblings.push(g),e.push(g)));a=0;for(d=this.jj.length;a<d;a++)this.i.Uh(this.jj[a],
null,!0);this.i.Gl=null;this.i.Ad();if(this.i.Ab&&!this.i.eb)for(a=0,d=this.i.ua.length;a<d;a++)m=this.i.ua[a],!m.Aa&&m.H.length&&m.jn&&m.jn(this.i.Ab);if(this.i.rm)Ha(this.i.fp,e);else for(a=0,d=e.length;a<d;a++)l=e[a],this.i.trigger(Object.getPrototypeOf(l.type.Za).F.Sg,l);H(e);this.i.rm||this.i.trigger(L.prototype.F.Jv,null);this.kk=!1};a.prototype.QC=function(){var a,b,c,d,f;b=a=0;for(c=this.jj.length;a<c;a++)d=this.jj[a],f=this.i.ua[d[1]],f.global?f.Ld||this.i.Uh(d,null,!0):(this.jj[b]=d,b++);
Fa(this.jj,b)};a.prototype.zG=function(){this.i.rm||this.i.trigger(L.prototype.F.gB,null);this.i.mt=!0;H(this.i.Ng.Ue);var a,b,c,d,e,h;if(!this.kk)for(a=0,b=this.Sa.length;a<b;a++)for(this.Sa[a].mv(),e=this.Sa[a].H,c=0,d=e.length;c<d;c++)h=e[c],h.type.global||this.i.iv(h.type)&&this.mG(h);a=0;for(b=this.Sa.length;a<b;a++){e=this.Sa[a].H;c=0;for(d=e.length;c<d;c++)h=e[c],h.type.global||this.i.Ee(h);this.i.Ad();H(e);this.Sa[a].Pj=!0}a=0;for(b=this.i.ua.length;a<b;a++)if(e=this.i.ua[a],!(e.global||e.Za.ei||
e.Za.Vq||e.Aa)){c=0;for(d=e.H.length;c<d;c++)this.i.Ee(e.H[c]);this.i.Ad()}f=!1;this.i.mt=!1};new Aa(0,0,0,0);a.prototype.Yd=function(a){var b,c=a,d=!1,f=!this.i.Ye;f&&(this.i.Sp||(this.i.Sp=document.createElement("canvas"),b=this.i.Sp,b.width=this.i.Ha,b.height=this.i.Ga,this.i.Gx=b.getContext("2d"),d=!0),b=this.i.Sp,c=this.i.Gx,b.width!==this.i.Ha&&(b.width=this.i.Ha,d=!0),b.height!==this.i.Ga&&(b.height=this.i.Ga,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.Ya,c.mozImageSmoothingEnabled=this.i.Ya,
c.msImageSmoothingEnabled=this.i.Ya,c.imageSmoothingEnabled=this.i.Ya));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.i.Zr&&!this.bx()&&c.clearRect(0,0,this.i.Ha,this.i.Ga);var e,h,d=0;for(e=this.Sa.length;d<e;d++)h=this.Sa[d],h.visible&&0<h.opacity&&11!==h.Bd&&(h.H.length||!h.ig)?h.Yd(c):h.qr();f&&a.drawImage(b,0,0,this.i.width,this.i.height)};a.prototype.Xh=function(a){a.Yy(!0);this.i.Fc||(this.i.Fc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya));if(this.i.Fc.Ui!==this.i.Ha||this.i.Fc.Ti!==
this.i.Ga)a.deleteTexture(this.i.Fc),this.i.Fc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya);a.Jf(this.i.Fc);this.i.Ye||a.Kj(this.i.Ha,this.i.Ga);var b,c;for(b=this.Sa.length-1;0<=b;--b)c=this.Sa[b],c.visible&&1===c.opacity&&c.yh&&0===c.Bd&&(c.H.length||!c.ig)?c.Xh(a):c.qr();a.Yy(!1)};a.prototype.Bc=function(a){var b=0<this.yb.length||this.i.il||!this.i.Ye||this.i.Qb;if(b){this.i.Fc||(this.i.Fc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya));if(this.i.Fc.Ui!==this.i.Ha||this.i.Fc.Ti!==this.i.Ga)a.deleteTexture(this.i.Fc),
this.i.Fc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya);a.Jf(this.i.Fc);this.i.Ye||a.Kj(this.i.Ha,this.i.Ga)}else this.i.Fc&&(a.Jf(null),a.deleteTexture(this.i.Fc),this.i.Fc=null);this.i.Zr&&!this.bx()&&a.clear(0,0,0,0);var c,d,f;c=0;for(d=this.Sa.length;c<d;c++)f=this.Sa[c],f.visible&&0<f.opacity&&(f.H.length||!f.ig)?f.Bc(a):f.qr();b&&(0===this.yb.length||1===this.yb.length&&this.i.Ye?(1===this.yb.length?(b=this.yb[0].index,a.Ce(this.yb[0].Kc),a.$k(null,1/this.i.Ha,1/this.i.Ga,0,0,1,1,this.scale,this.M,0,
0,this.i.Ha/2,this.i.Ga/2,this.i.dd.Va,this.gc[b]),a.Cq(this.yb[0].Kc)&&(this.i.Ua=!0)):a.Ce(0),this.i.Ye||a.Kj(this.i.width,this.i.height),a.Jf(null),a.Wy(!1),a.xh(1),a.ie(this.i.Fc),a.Uy(),a.If(),a.kf(),b=this.i.width/2,c=this.i.height/2,a.Wk(-b,c,b,c,b,-c,-b,-c),a.ie(null),a.Wy(!0)):this.Cu(a,null,null,null))};a.prototype.$l=function(){return 0<this.yb.length||this.i.il||!this.i.Ye||this.i.Qb?this.i.Fc:null};a.prototype.Zw=function(){var a=this.Sa[0].Jd(),b,c,d;b=1;for(c=this.Sa.length;b<c;b++)d=
this.Sa[b],(0!==d.xe||0!==d.ye)&&d.Jd()<a&&(a=d.Jd());return a};a.prototype.Ku=function(a){if(!this.Gz){var b=1/this.Zw()*this.i.Ha/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.i.Ua=!0)};a.prototype.Lu=function(a){if(!this.Gz){var b=1/this.Zw()*this.i.Ga/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.i.Ua=!0)};a.prototype.EC=function(){this.Ku(this.scrollX);this.Lu(this.scrollY)};a.prototype.Cu=function(a,b,c,d){var f=
c?c.yb:b?b.yb:this.yb,e=1,h=0,g=0,l=0,m=this.i.Ha,E=this.i.Ga;c?(e=c.O.Jd(),h=c.O.Vb(),g=c.O.qb,l=c.O.rb,m=c.O.Fb,E=c.O.Eb):b&&(e=b.Jd(),h=b.Vb(),g=b.qb,l=b.rb,m=b.Fb,E=b.Eb);var B=this.i.Is,D,C,y,w,F=0,I=1,Q,da,R=this.i.Ha,G=this.i.Ga,Z=R/2,T=G/2,S=b?b.xi:this.xi,J=b?b.zu:this.zu,M=0,O=0,K=0,N=0,U=R,ga=R,P=G,qa=G,ma=y=0;w=c?c.O.Vb():0;if(c){D=0;for(C=f.length;D<C;D++)y+=a.xE(f[D].Kc),ma+=a.yE(f[D].Kc);N=c.Lb;M=b.Bb(N.left,N.top,!0,!0);K=b.Bb(N.left,N.top,!1,!0);U=b.Bb(N.right,N.bottom,!0,!0);P=b.Bb(N.right,
N.bottom,!1,!0);0!==w&&(D=b.Bb(N.right,N.top,!0,!0),C=b.Bb(N.right,N.top,!1,!0),O=b.Bb(N.left,N.bottom,!0,!0),N=b.Bb(N.left,N.bottom,!1,!0),w=Math.min(M,U,D,O),U=Math.max(M,U,D,O),M=w,w=Math.min(K,P,C,N),P=Math.max(K,P,C,N),K=w);M-=y;K-=ma;U+=y;P+=ma;J.left=M/R;J.top=1-K/G;J.right=U/R;J.bottom=1-P/G;O=M=wa(M);N=K=wa(K);ga=U=ya(U);qa=P=ya(P);O-=y;N-=ma;ga+=y;qa+=ma;0>M&&(M=0);0>K&&(K=0);U>R&&(U=R);P>G&&(P=G);0>O&&(O=0);0>N&&(N=0);ga>R&&(ga=R);qa>G&&(qa=G);S.left=M/R;S.top=1-K/G;S.right=U/R;S.bottom=
1-P/G}else S.left=J.left=0,S.top=J.top=0,S.right=J.right=1,S.bottom=J.bottom=1;ma=c&&(a.kn(f[0].Kc)||0!==y||0!==ma||1!==c.opacity||c.type.Za.ey)||b&&!c&&1!==b.opacity;a.Uy();if(ma){B[F]||(B[F]=a.Ke(R,G,this.i.Ya));if(B[F].Ui!==R||B[F].Ti!==G)a.deleteTexture(B[F]),B[F]=a.Ke(R,G,this.i.Ya);a.Ce(0);a.Jf(B[F]);da=qa-N;a.clearRect(O,G-N-da,ga-O,da);c?c.Bc(a):(a.ie(this.i.Uc),a.xh(b.opacity),a.If(),a.translate(-Z,-T),a.kf(),a.dg(M,P,U,P,U,K,M,K,S));J.left=J.top=0;J.right=J.bottom=1;c&&(w=S.top,S.top=S.bottom,
S.bottom=w);F=1;I=0}a.xh(1);y=f.length-1;var Ya=a.uu(f[y].Kc)||!b&&!c&&!this.i.Ye;D=w=0;for(C=f.length;D<C;D++){B[F]||(B[F]=a.Ke(R,G,this.i.Ya));if(B[F].Ui!==R||B[F].Ti!==G)a.deleteTexture(B[F]),B[F]=a.Ke(R,G,this.i.Ya);a.Ce(f[D].Kc);w=f[D].index;a.Cq(f[D].Kc)&&(this.i.Ua=!0);0!=D||ma?(a.$k(d,1/R,1/G,J.left,J.top,J.right,J.bottom,e,h,g,l,(g+m)/2,(l+E)/2,this.i.dd.Va,c?c.gc[w]:b?b.gc[w]:this.gc[w]),a.ie(null),D!==y||Ya?(a.Jf(B[F]),da=qa-N,Q=G-N-da,a.clearRect(O,Q,ga-O,da)):(c?a.Bi(c.Od,c.Hd):b&&a.Bi(b.Od,
b.Hd),a.Jf(d)),a.ie(B[I]),a.If(),a.translate(-Z,-T),a.kf(),a.dg(M,P,U,P,U,K,M,K,S),D!==y||Ya||a.ie(null)):(a.Jf(B[F]),da=qa-N,Q=G-N-da,a.clearRect(O,Q,ga-O,da),c?(c.od&&c.od.Da?(Q=c.od.Da,I=1/Q.width,Q=1/Q.height):(I=1/c.width,Q=1/c.height),a.$k(d,I,Q,J.left,J.top,J.right,J.bottom,e,h,g,l,(g+m)/2,(l+E)/2,this.i.dd.Va,c.gc[w]),c.Bc(a)):(a.$k(d,1/R,1/G,0,0,1,1,e,h,g,l,(g+m)/2,(l+E)/2,this.i.dd.Va,b?b.gc[w]:this.gc[w]),a.ie(b?this.i.Uc:this.i.Fc),a.If(),a.translate(-Z,-T),a.kf(),a.dg(M,P,U,P,U,K,M,K,
S)),J.left=J.top=0,J.right=J.bottom=1,c&&!Ya&&(w=P,P=K,K=w));F=0===F?1:0;I=0===F?1:0}Ya&&(a.Ce(0),c?a.Bi(c.Od,c.Hd):b?a.Bi(b.Od,b.Hd):this.i.Ye||(a.Kj(this.i.width,this.i.height),Z=this.i.width/2,T=this.i.height/2,K=M=0,U=this.i.width,P=this.i.height),a.Jf(d),a.ie(B[I]),a.If(),a.translate(-Z,-T),a.kf(),c&&1===f.length&&!ma?a.dg(M,K,U,K,U,P,M,P,S):a.dg(M,P,U,P,U,K,M,K,S),a.ie(null))};a.prototype.sp=function(a){var b,c;b=0;for(c=this.Sa.length;b<c;b++)if(this.Sa[b].kb===a)return this.Sa[b];return null};
a.prototype.Tb=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.M,w:this.width,h:this.height,fv:this.kk,persist:this.ti,fx:[],layers:{}};a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],d.fx.push({name:c.name,active:c.xc,params:this.gc[c.index]});a=0;for(b=this.Sa.length;a<b;a++)c=this.Sa[a],d.layers[c.kb.toString()]=c.Tb();return d};a.prototype.Yb=function(a){var b,c,d,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.M=a.a;this.width=a.w;this.height=a.h;this.ti=a.persist;
"undefined"!==typeof a.fv&&(this.kk=a.fv);var e=a.fx;b=0;for(c=e.length;b<c;b++)if(d=this.Ms(e[b].name))d.xc=e[b].active,this.gc[d.index]=e[b].params;this.jg();b=a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.sp(parseInt(f,10)))&&a.Yb(b[f])};qc=a;b.prototype.jg=function(){H(this.yb);this.yh=!0;var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.xc&&(this.yb.push(c),c.Gf||(this.yh=!1))};b.prototype.Ms=function(a){var b,c,d;b=0;for(c=this.Qa.length;b<c;b++)if(d=this.Qa[b],d.name===a)return d;
return null};b.prototype.RC=function(){var a,b,c,d,f,h;b=a=0;for(c=this.$e.length;a<c;a++){d=this.$e[a];f=this.i.ua[d[1]];h=this.i.iv(f);f=!0;if(!h||this.rc.kk){d=this.i.Uh(d,this,!0);if(!d)continue;e.push(d);d.type.global&&(f=!1,this.Ll.push(d.uid))}f&&(this.$e[b]=this.$e[a],b++)}this.$e.length=b;this.i.Ad();!this.i.la&&this.Qa.length&&(this.Bd=this.vD);this.Il=Hb(this.Bd);this.i.ya&&Mb(this,this.Bd,this.i.ya);this.eg=!0};b.prototype.Xk=function(a,b){var c=Ka(this.H,a);0>c||(b&&this.lf&&a.Ae&&a.Ae.right>=
a.Ae.left&&(a.ab(),this.xd.update(a,a.Ae,null),a.Ae.set(0,0,-1,-1)),c===this.H.length-1?this.H.pop():(Ea(this.H,c),this.un(c)),this.eg=!0)};b.prototype.Dl=function(a,b){a.lg=this.H.length;this.H.push(a);b&&this.lf&&a.Ae&&a.aa();this.eg=!0};b.prototype.RF=function(a){this.H.unshift(a);this.un(0)};b.prototype.vF=function(a,b,c){var d=a.Dg();b=b.Dg();Ea(this.H,d);d<b&&b--;c&&b++;b===this.H.length?this.H.push(a):this.H.splice(b,0,a);this.un(d<b?d:b)};b.prototype.un=function(a){-1===this.Gh?this.Gh=a:
a<this.Gh&&(this.Gh=a);this.eg=this.Pj=!0};b.prototype.mv=function(){if(this.Pj){-1===this.Gh&&(this.Gh=0);var a,b,c;if(this.lf)for(a=this.Gh,b=this.H.length;a<b;++a)c=this.H[a],c.lg=a,this.xd.qF(c.Ae);else for(a=this.Gh,b=this.H.length;a<b;++a)this.H[a].lg=a;this.Pj=!1;this.Gh=-1}};b.prototype.Jd=function(a){return this.uE()*(this.i.Ye||a?this.i.El:1)};b.prototype.uE=function(){return(this.scale*this.rc.scale-1)*this.Vd+1};b.prototype.Vb=function(){return this.$g?0:Sa(this.rc.M+this.M)};var h=[],
m=[],l=[];b.prototype.Rs=function(){this.mv();this.xd.Eq(this.qb,this.rb,this.Fb,this.Eb,l);if(!l.length)return d();if(1===l.length){var a=d();Ha(a,l[0]);H(l);return a}for(var b=!0;1<l.length;){for(var a=l,c=void 0,f=void 0,e=void 0,h=void 0,q=void 0,c=0,f=a.length;c<f-1;c+=2){var e=a[c],h=a[c+1],q=d(),u=e,x=h,z=q,E=0,B=0,D=0,C=u.length,y=x.length,w=void 0,F=void 0;for(z.length=C+y;E<C&&B<y;++D)w=u[E],F=x[B],w.lg<F.lg?(z[D]=w,++E):(z[D]=F,++B);for(;E<C;++E,++D)z[D]=u[E];for(;B<y;++B,++D)z[D]=x[B];
b||(g(e),g(h));m.push(q)}1===f%2&&(b?(e=d(),Ha(e,a[f-1]),m.push(e)):m.push(a[f-1]));Ha(a,m);H(m);b=!1}a=l[0];H(l);return a};b.prototype.Yd=function(a){this.Kg=this.np||1!==this.opacity||0!==this.Bd;var b=this.i.canvas,c=a,d=!1;this.Kg&&(this.i.Rp||(this.i.Rp=document.createElement("canvas"),b=this.i.Rp,b.width=this.i.Ha,b.height=this.i.Ga,this.i.Fx=b.getContext("2d"),d=!0),b=this.i.Rp,c=this.i.Fx,b.width!==this.i.Ha&&(b.width=this.i.Ha,d=!0),b.height!==this.i.Ga&&(b.height=this.i.Ga,d=!0),d&&(c.webkitImageSmoothingEnabled=
this.i.Ya,c.mozImageSmoothingEnabled=this.i.Ya,c.msImageSmoothingEnabled=this.i.Ya,c.imageSmoothingEnabled=this.i.Ya),this.ig&&c.clearRect(0,0,this.i.Ha,this.i.Ga));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.ig||(c.fillStyle="rgb("+this.Tf[0]+","+this.Tf[1]+","+this.Tf[2]+")",c.fillRect(0,0,this.i.Ha,this.i.Ga));c.save();this.$g=!0;var d=this.oc(0,0,!0,!0),f=this.oc(0,0,!1,!0);this.$g=!1;this.i.ze&&(d=Math.round(d),f=Math.round(f));this.Hq(d,f,c);var e=this.Jd();c.scale(e,e);c.translate(-d,
-f);this.lf?(this.qd.left=this.xd.ke(this.qb),this.qd.top=this.xd.le(this.rb),this.qd.right=this.xd.ke(this.Fb),this.qd.bottom=this.xd.le(this.Eb),this.eg||!this.qd.Ol(this.Ek)?(g(this.lh),d=this.Rs(),this.eg=!1,this.Ek.ak(this.qd)):d=this.lh):d=this.H;for(var h,l=null,f=0,e=d.length;f<e;++f)h=d[f],h!==l&&(this.qD(h,c),l=h);this.lf&&(this.lh=d);c.restore();this.Kg&&(a.globalCompositeOperation=this.Il,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.qD=function(a,b){if(a.visible&&0!==a.width&&
0!==a.height){a.ab();var c=a.Lb;c.right<this.qb||c.bottom<this.rb||c.left>this.Fb||c.top>this.Eb||(b.globalCompositeOperation=a.Il,a.Yd(b))}};b.prototype.qr=function(){this.$g=!0;var a=this.oc(0,0,!0,!0),b=this.oc(0,0,!1,!0);this.$g=!1;this.i.ze&&(a=Math.round(a),b=Math.round(b));this.Hq(a,b,null)};b.prototype.Hq=function(a,b,c){var d=this.Jd();this.qb=a;this.rb=b;this.Fb=a+1/d*this.i.Ha;this.Eb=b+1/d*this.i.Ga;this.qb>this.Fb&&(a=this.qb,this.qb=this.Fb,this.Fb=a);this.rb>this.Eb&&(a=this.rb,this.rb=
this.Eb,this.Eb=a);a=this.Vb();0!==a&&(c&&(c.translate(this.i.Ha/2,this.i.Ga/2),c.rotate(-a),c.translate(this.i.Ha/-2,this.i.Ga/-2)),this.Ch.set(this.qb,this.rb,this.Fb,this.Eb),this.Ch.offset((this.qb+this.Fb)/-2,(this.rb+this.Eb)/-2),this.Az.ez(this.Ch,a),this.Az.mw(this.Ch),this.Ch.offset((this.qb+this.Fb)/2,(this.rb+this.Eb)/2),this.qb=this.Ch.left,this.rb=this.Ch.top,this.Fb=this.Ch.right,this.Eb=this.Ch.bottom)};b.prototype.Xh=function(a){if(this.Kg=this.np){this.i.Uc||(this.i.Uc=a.Ke(this.i.Ha,
this.i.Ga,this.i.Ya));if(this.i.Uc.Ui!==this.i.Ha||this.i.Uc.Ti!==this.i.Ga)a.deleteTexture(this.i.Uc),this.i.Uc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya);a.Jf(this.i.Uc)}this.$g=!0;var b=this.oc(0,0,!0,!0),c=this.oc(0,0,!1,!0);this.$g=!1;this.i.ze&&(b=Math.round(b),c=Math.round(c));this.Hq(b,c,null);b=this.Jd();a.If();a.scale(b,b);a.Iq(-this.Vb());a.translate((this.qb+this.Fb)/-2,(this.rb+this.Eb)/-2);a.kf();this.lf?(this.qd.left=this.xd.ke(this.qb),this.qd.top=this.xd.le(this.rb),this.qd.right=this.xd.ke(this.Fb),
this.qd.bottom=this.xd.le(this.Eb),this.eg||!this.qd.Ol(this.Ek)?(g(this.lh),b=this.Rs(),this.eg=!1,this.Ek.ak(this.qd)):b=this.lh):b=this.H;for(var d,f=null,c=b.length-1;0<=c;--c)d=b[c],d!==f&&(this.sD(b[c],a),f=d);this.lf&&(this.lh=b);this.ig||(this.os=this.i.Zi++,a.Nq(this.os),a.Vy(1,1,1),a.Ow(),a.dG())};b.prototype.Bc=function(a){var b=0,c=0;if(this.Kg=this.np||1!==this.opacity||0<this.yb.length||0!==this.Bd){this.i.Uc||(this.i.Uc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya));if(this.i.Uc.Ui!==this.i.Ha||
this.i.Uc.Ti!==this.i.Ga)a.deleteTexture(this.i.Uc),this.i.Uc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya);a.Jf(this.i.Uc);this.ig&&a.clear(0,0,0,0)}this.ig||(this.i.Qb?(a.Nq(this.os),a.Vy(this.Tf[0]/255,this.Tf[1]/255,this.Tf[2]/255),a.Ow(),a.sG()):a.clear(this.Tf[0]/255,this.Tf[1]/255,this.Tf[2]/255,1));this.$g=!0;var d=this.oc(0,0,!0,!0),b=this.oc(0,0,!1,!0);this.$g=!1;this.i.ze&&(d=Math.round(d),b=Math.round(b));this.Hq(d,b,null);d=this.Jd();a.If();a.scale(d,d);a.Iq(-this.Vb());a.translate((this.qb+this.Fb)/
-2,(this.rb+this.Eb)/-2);a.kf();this.lf?(this.qd.left=this.xd.ke(this.qb),this.qd.top=this.xd.le(this.rb),this.qd.right=this.xd.ke(this.Fb),this.qd.bottom=this.xd.le(this.Eb),this.eg||!this.qd.Ol(this.Ek)?(g(this.lh),b=this.Rs(),this.eg=!1,this.Ek.ak(this.qd)):b=this.lh):b=this.H;var f,e,h=null,c=0;for(f=b.length;c<f;++c)e=b[c],e!==h&&(this.rD(b[c],a),h=e);this.lf&&(this.lh=b);this.Kg&&(b=this.yb.length?this.yb[0].Kc:0,c=this.yb.length?this.yb[0].index:0,0===this.yb.length||1===this.yb.length&&!a.uu(b)&&
1===this.opacity?(1===this.yb.length?(a.Ce(b),a.$k(this.rc.$l(),1/this.i.Ha,1/this.i.Ga,0,0,1,1,d,this.Vb(),this.qb,this.rb,(this.qb+this.Fb)/2,(this.rb+this.Eb)/2,this.i.dd.Va,this.gc[c]),a.Cq(b)&&(this.i.Ua=!0)):a.Ce(0),a.Jf(this.rc.$l()),a.xh(this.opacity),a.ie(this.i.Uc),a.Bi(this.Od,this.Hd),a.If(),a.kf(),d=this.i.Ha/2,b=this.i.Ga/2,a.Wk(-d,b,d,b,d,-b,-d,-b),a.ie(null)):this.rc.Cu(a,this,null,this.rc.$l()))};b.prototype.rD=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ab();var c=a.Lb;
c.right<this.qb||c.bottom<this.rb||c.left>this.Fb||c.top>this.Eb||(b.Nq(a.Zi),a.Nz?this.tD(a,b):(b.Ce(0),b.Bi(a.Od,a.Hd),a.Bc(b)))}};b.prototype.sD=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ab();var c=a.Lb;c.right<this.qb||c.bottom<this.rb||c.left>this.Fb||c.top>this.Eb||(a.Zi=this.i.Zi++,0===a.Bd&&1===a.opacity&&a.yh&&a.Xh&&(b.Nq(a.Zi),a.Xh(b)))}};b.prototype.tD=function(a,b){var c=a.yb[0].Kc,d=a.yb[0].index,f=this.Jd();if(1!==a.yb.length||b.uu(c)||b.VF(c)||(a.M||a.O.Vb())&&b.kn(c)||
1!==a.opacity||a.type.Za.ey)this.rc.Cu(b,this,a,this.Kg?this.i.Uc:this.rc.$l()),b.If(),b.scale(f,f),b.Iq(-this.Vb()),b.translate((this.qb+this.Fb)/-2,(this.rb+this.Eb)/-2),b.kf();else{b.Ce(c);b.Bi(a.Od,a.Hd);b.Cq(c)&&(this.i.Ua=!0);var e=0,h=0,g=0,l=0;b.kn(c)&&(l=a.Lb,e=this.Bb(l.left,l.top,!0,!0),h=this.Bb(l.left,l.top,!1,!0),g=this.Bb(l.right,l.bottom,!0,!0),l=this.Bb(l.right,l.bottom,!1,!0),e=e/windowWidth,h=1-h/windowHeight,g=g/windowWidth,l=1-l/windowHeight);var m;a.od&&a.od.Da?(m=a.od.Da,c=
1/m.width,m=1/m.height):(c=1/a.width,m=1/a.height);b.$k(this.Kg?this.i.Uc:this.rc.$l(),c,m,e,h,g,l,f,this.Vb(),this.qb,this.rb,(this.qb+this.Fb)/2,(this.rb+this.Eb)/2,this.i.dd.Va,a.gc[d]);a.Bc(b)}};b.prototype.oc=function(a,b,c,d){var f=this.i.devicePixelRatio;this.i.lj&&(a*=f,b*=f);var f=this.i.Cy,e=this.i.Dy,f=(this.rc.scrollX-f)*this.xe+f,e=(this.rc.scrollY-e)*this.ye+e,h=f,g=e,l=1/this.Jd(!d);d?(h-=this.i.Ha*l/2,g-=this.i.Ga*l/2):(h-=this.i.width*l/2,g-=this.i.height*l/2);h+=a*l;g+=b*l;b=this.Vb();
0!==b&&(h-=f,g-=e,a=Math.cos(b),b=Math.sin(b),d=h*a-g*b,g=g*a+h*b,h=d+f,g+=e);return c?h:g};b.prototype.Bb=function(a,b,c,d){var f=this.i.Cy,e=this.i.Dy,h=(this.rc.scrollX-f)*this.xe+f,g=(this.rc.scrollY-e)*this.ye+e,e=h,f=g,l=this.Vb();if(0!==l){a-=h;b-=g;var m=Math.cos(-l),l=Math.sin(-l),E=a*m-b*l;b=b*m+a*l;a=E+h;b+=g}h=1/this.Jd(!d);d?(e-=this.i.Ha*h/2,f-=this.i.Ga*h/2):(e-=this.i.width*h/2,f-=this.i.height*h/2);e=(a-e)/h;f=(b-f)/h;a=this.i.devicePixelRatio;this.i.lj&&!d&&(e/=a,f/=a);return c?
e:f};b.prototype.Tb=function(){var a,b,c,d={s:this.scale,a:this.M,vl:this.qb,vt:this.rb,vr:this.Fb,vb:this.Eb,v:this.visible,bc:this.Tf,t:this.ig,px:this.xe,py:this.ye,o:this.opacity,zr:this.Vd,fx:[],cg:this.Ll,instances:[]};a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],d.fx.push({name:c.name,active:c.xc,params:this.gc[c.index]});return d};b.prototype.Yb=function(a){var b,d,f;this.scale=a.s;this.M=a.a;this.qb=a.vl;this.rb=a.vt;this.Fb=a.vr;this.Eb=a.vb;this.visible=a.v;this.Tf=a.bc;this.ig=a.t;this.xe=
a.px;this.ye=a.py;this.opacity=a.o;this.Vd=a.zr;this.Ll=a.cg||[];Ha(this.$e,this.mz);var e=new ca;b=0;for(f=this.Ll.length;b<f;++b)e.add(this.Ll[b]);d=b=0;for(f=this.$e.length;b<f;++b)e.contains(this.$e[b][2])||(this.$e[d]=this.$e[b],++d);Fa(this.$e,d);d=a.fx;b=0;for(f=d.length;b<f;b++)if(a=this.Ms(d[b].name))a.xc=d[b].active,this.gc[a.index]=d[b].params;this.jg();this.H.sort(c);this.Pj=!0};Ec=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,f,e,h;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=v.length&&(v.length=b.length+1);v[b.length]||(v[b.length]=[]);h=v[b.length];d=0;for(f=h.length;d<f;d++)if(e=h[d],a(b,e))return e;h.push(b);return b}
function d(a,b){this.i=a;this.Dz={};this.Iw={};this.Zs=!1;this.hx=new ca;this.xs=[];this.$r=[];this.name=b[0];var c=b[1];this.Zh=[];var d,f;d=0;for(f=c.length;d<f;d++)this.jx(c[d],null,this.Zh)}function g(a){this.type=a;this.H=[];this.Ra=[];this.$a=!0}function e(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Xb=[];this.Ci=[];this.cx=this.jr=this.cv=this.gt=this.group=this.Su=!1;this.Qc=[];this.pf=[];this.Lf=[];this.gm="";this.fj=this.gt=this.group=!1;this.Ho=null;c[1]&&(this.gm=c[1][1].toLowerCase(),
this.group=!0,this.gt=!!c[1][0],this.Ho=[],this.fj=this.gt,this.i.Wj.push(this),this.i.nk[this.gm]=this);this.ff=c[2];this.kb=c[4];this.group||(this.i.lw[this.kb.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var f=new Fc(this,d[a]);f.index=a;this.Qc.push(f);this.fw(f.type)}d=c[6];a=0;for(b=d.length;a<b;a++)f=new Gc(this,d[a]),f.index=a,this.pf.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.jx(c[a],this,this.Lf);this.Lp=!1;this.Qc.length&&(this.Lp=null==this.Qc[0].type&&
this.Qc[0].rd==L.prototype.F.uv)}function f(a,b){var c,d,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Ld))for(c=0,d=a.Je.length;c<d;c++)f=a.Je[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function h(a,b){this.Xe=a;this.sheet=a.sheet;this.i=a.i;this.Ta=[];this.lc=[];this.na={};this.index=-1;this.Bl=!1;this.rd=this.i.Jh(b[1]);this.trigger=0<b[3];this.Hw=2===b[3];this.Fg=b[4];this.Gp=b[5];this.lF=b[6];this.kb=b[7];this.i.Th[this.kb.toString()]=this;-1===b[0]?(this.type=null,this.Jc=this.Hu,this.Si=null,this.Vf=
-1):(this.type=this.i.ua[b[0]],this.Jc=this.lF?this.kG:this.Gu,b[2]?(this.Si=this.type.pp(b[2]),this.Vf=this.type.Ks(b[2])):(this.Si=null,this.Vf=-1),this.Xe.parent&&this.Xe.parent.Qq());this.Hw&&(this.Jc=this.lG);if(10===b.length){var c,d,f=b[9];c=0;for(d=f.length;c<d;c++){var e=new Jc(this,f[c]);this.Ta.push(e)}this.lc.length=f.length}}function m(a,b){this.Xe=a;this.sheet=a.sheet;this.i=a.i;this.Ta=[];this.lc=[];this.na={};this.index=-1;this.Bl=!1;this.rd=this.i.Jh(b[1]);-1===b[0]?(this.type=null,
this.Jc=this.Hu,this.Si=null,this.Vf=-1):(this.type=this.i.ua[b[0]],this.Jc=this.Gu,b[2]?(this.Si=this.type.pp(b[2]),this.Vf=this.type.Ks(b[2])):(this.Si=null,this.Vf=-1));this.kb=b[3];this.i.Nh[this.kb.toString()]=this;if(6===b.length){var c,d,f=b[5];c=0;for(d=f.length;c<d;c++){var e=new Jc(this,f[c]);this.Ta.push(e)}this.lc.length=f.length}}function l(){q++;t.length===q&&t.push(new Rc);return t[q]}function k(a,b){this.Zb=a;this.Xe=a.Xe;this.sheet=a.sheet;this.i=a.i;this.type=b[0];this.Ag=null;this.zh=
0;this.get=null;this.uw=0;this.rc=null;this.key=0;this.object=null;this.index=0;this.Qn=this.Mj=this.Qn=this.Mj=this.Mw=this.aj=this.Rn=null;this.Nf=!1;var c,d,f;switch(b[0]){case 0:case 7:this.Ag=new Sc(this,b[1]);this.zh=0;this.get=this.GE;break;case 1:this.Ag=new Sc(this,b[1]);this.zh=0;this.get=this.HE;break;case 5:this.Ag=new Sc(this,b[1]);this.zh=0;this.get=this.LE;break;case 3:case 8:this.uw=b[1];this.get=this.EE;break;case 6:this.rc=this.i.Kt[b[1]];this.get=this.ME;break;case 9:this.key=b[1];
this.get=this.KE;break;case 4:this.object=this.i.ua[b[1]];this.get=this.NE;this.Xe.fw(this.object);this.Zb instanceof Gc?this.Xe.Qq():this.Xe.parent&&this.Xe.parent.Qq();break;case 10:this.index=b[1];a.type&&a.type.Aa?(this.get=this.IE,this.Nf=!0):this.get=this.JE;break;case 11:this.Rn=b[1];this.aj=null;this.get=this.FE;break;case 2:case 12:this.Mw=b[1];this.get=this.DE;break;case 13:for(this.get=this.OE,this.Mj=[],this.Qn=[],c=1,d=b.length;c<d;c++)f=new Jc(this.Zb,b[c]),this.Mj.push(f),this.Qn.push(0)}}
function n(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Xb=[];this.name=c[1];this.sr=c[2];this.Bp=c[3];this.ym=!!c[4];this.Kp=!!c[5];this.kb=c[6];this.i.kl[this.kb.toString()]=this;this.data=this.Bp;this.parent?(this.xj=this.ym||this.Kp?-1:this.i.wG++,this.i.xC.push(this)):(this.xj=-1,this.i.Xr.push(this))}function p(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Xb=[];this.km=null;this.WE=c[1];this.xc=!0}function r(){this.qz=[];this.reset(null)}var v=[];d.prototype.toString=function(){return this.name};
d.prototype.jx=function(a,b,c){switch(a[0]){case 0:a=new Tc(this,b,a);if(a.ff)for(c.push(a),c=0,b=a.Qc.length;c<b;c++)a.Qc[c].trigger&&this.kx(a,c);else a.xx()?this.kx(a,0):c.push(a);break;case 1:a=new Bc(this,b,a);c.push(a);break;case 2:a=new Uc(this,b,a),c.push(a)}};d.prototype.wc=function(){var a,b;a=0;for(b=this.Zh.length;a<b;a++)this.Zh[a].wc(a<b-1&&this.Zh[a+1].Lp)};d.prototype.kv=function(){H(this.xs);H(this.$r);this.ew(this);H(this.$r)};d.prototype.ew=function(a){var b,c,d,f,e=a.xs,h=a.$r,
k=this.hx.kg();b=0;for(c=k.length;b<c;++b)d=k[b],f=d.km,!d.xc||a===f||-1<h.indexOf(f)||(h.push(f),f.ew(a),e.push(f))};d.prototype.Jc=function(a){this.i.SH||(this.Zs=!0,a||(this.i.pt=!0));var b,c;b=0;for(c=this.Zh.length;b<c;b++){var d=this.Zh[b];d.Jc();this.i.ns(d.Xb);this.i.ci&&this.i.Ad()}a||(this.i.pt=!1)};d.prototype.kx=function(a,b){a.ff||this.i.mr.push(a);var c,d,f=a.Qc[b],e;f.type?e=f.type.name:e="system";var h=(c=f.Hw)?this.Iw:this.Dz;h[e]||(h[e]=[]);e=h[e];h=f.rd;if(c){if(f.Ta.length&&(f=
f.Ta[0],1===f.type&&2===f.Ag.type)){f=f.Ag.value.toLowerCase();c=0;for(d=e.length;c<d;c++)if(e[c].method==h){c=e[c].Ql;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];e.push({method:h,Ql:c})}}else{c=0;for(d=e.length;c<d;c++)if(e[c].method==h){e[c].Ql.push([a,b]);return}id&&h===id.prototype.F.Uj?e.unshift({method:h,Ql:[[a,b]]}):e.push({method:h,Ql:[[a,b]]})}};rc=d;g.prototype.Ys=function(){return this.$a?this.type.H.length:this.H.length};g.prototype.Id=function(){return this.$a?this.type.H:
this.H};g.prototype.Uk=function(a){a&&(a.i.Ec().bd.ff?(this.$a&&(H(this.H),Ha(this.Ra,a.type.H),this.$a=!1),a=this.Ra.indexOf(a),-1!==a&&(this.H.push(this.Ra[a]),this.Ra.splice(a,1))):(this.$a=!1,H(this.H),this.H[0]=a))};$b=g;window._c2hh_="5AFA373D7ADC68A1BB7AD7F0086E70B954407AFE";e.prototype.wc=function(a){var c,d=this.parent;if(this.group)for(this.jr=!0;d;){if(!d.group){this.jr=!1;break}d=d.parent}this.cv=!this.xx()&&(!this.parent||this.parent.group&&this.parent.jr);this.cx=!!a;this.Ci=this.Xb.slice(0);
for(d=this.parent;d;){a=0;for(c=d.Xb.length;a<c;a++)this.uC(d.Xb[a]);d=d.parent}this.Xb=b(this.Xb);this.Ci=b(this.Ci);a=0;for(c=this.Qc.length;a<c;a++)this.Qc[a].wc();a=0;for(c=this.pf.length;a<c;a++)this.pf[a].wc();a=0;for(c=this.Lf.length;a<c;a++)this.Lf[a].wc(a<c-1&&this.Lf[a+1].Lp)};e.prototype.Oq=function(a){if(this.fj!==!!a){this.fj=!!a;var b;a=0;for(b=this.Ho.length;a<b;++a)this.Ho[a].Iz();0<b&&this.i.Ob.$i&&this.i.Ob.$i.kv()}};e.prototype.fw=function(a){f(a,this.Xb)};e.prototype.uC=function(a){f(a,
this.Ci)};e.prototype.Qq=function(){this.Su=!0;this.parent&&this.parent.Qq()};e.prototype.xx=function(){return this.Qc.length?this.Qc[0].trigger:!1};e.prototype.Jc=function(){var a,b,c=!1,d=this.i,f=this.i.Ec();f.bd=this;var e=this.Qc;this.Lp||(f.ys=!1);if(this.ff){0===e.length&&(c=!0);f.yc=0;for(a=e.length;f.yc<a;f.yc++)b=e[f.yc],b.trigger||(b=b.Jc())&&(c=!0);(f.rj=c)&&this.Jq()}else{f.yc=0;for(a=e.length;f.yc<a;f.yc++)if(b=e[f.yc].Jc(),!b){f.rj=!1;this.cv&&d.ci&&d.Ad();return}f.rj=!0;this.Jq()}this.xD(f)};
e.prototype.xD=function(a){a.rj&&this.cx&&(a.ys=!0);this.cv&&this.i.ci&&this.i.Ad()};e.prototype.iG=function(a){this.i.Ec().bd=this;this.Qc[a].Jc()&&(this.Jq(),this.i.Ec().rj=!0)};e.prototype.Jq=function(){var a=this.i.Ec(),b;a.We=0;for(b=this.pf.length;a.We<b;a.We++)if(this.pf[a.We].Jc())return;this.Sy()};e.prototype.fG=function(){var a=this.i.Ec(),b;for(b=this.pf.length;a.We<b;a.We++)if(this.pf[a.We].Jc())return;this.Sy()};e.prototype.Sy=function(){if(this.Lf.length){var a,b,c,d,f=this.Lf.length-
1;this.i.Dq(this);if(this.Su)for(a=0,b=this.Lf.length;a<b;a++)c=this.Lf[a],(d=!this.jr||!this.group&&a<f)&&this.i.nn(c.Xb),c.Jc(),d?this.i.wi(c.Xb):this.i.ns(c.Xb);else for(a=0,b=this.Lf.length;a<b;a++)this.Lf[a].Jc();this.i.zq()}};e.prototype.jG=function(){var a=this.i.Ec();a.bd=this;var b=!1,c;a.yc=0;for(c=this.Qc.length;a.yc<c;a.yc++)if(this.Qc[a.yc].Jc())b=!0;else if(!this.ff)return!1;return this.ff?b:!0};e.prototype.Fu=function(){this.i.bj++;var a=this.i.Ec().yc,b=this.i.Dq(this);if(!this.ff)for(b.yc=
a+1,a=this.Qc.length;b.yc<a;b.yc++)if(!this.Qc[b.yc].Jc()){this.i.zq();return}this.Jq();this.i.zq()};e.prototype.dF=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Qc[b].type===a.type)return!1;return!0};Tc=e;h.prototype.wc=function(){var a,b,c;a=0;for(b=this.Ta.length;a<b;a++)c=this.Ta[a],c.wc(),c.Nf&&(this.Bl=!0)};h.prototype.lG=function(){return!0};h.prototype.Hu=function(){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.lc[a]=this.Ta[a].get();return cb(this.rd.apply(this.i.Ng,
this.lc),this.Gp)};h.prototype.kG=function(){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.lc[a]=this.Ta[a].get();a=this.rd.apply(this.Si?this.Si:this.type,this.lc);this.type.Ie();return a};h.prototype.Gu=function(){var a,b,c,d,f,e,h,k,g=this.type,l=g.La(),m=this.Xe.ff&&!this.trigger;b=0;var q=g.Ld,n=g.Aa,r=g.bh,p=this.Vf,t=-1<p,v=this.Bl,S=this.Ta,J=this.lc,M=this.Gp,O=this.rd,K;if(v)for(b=0,f=S.length;b<f;++b)e=S[b],e.Nf||(J[b]=e.get(0));else for(b=0,f=S.length;b<f;++b)J[b]=S[b].get(0);if(l.$a){H(l.H);
H(l.Ra);K=g.H;a=0;for(d=K.length;a<d;++a){k=K[a];if(v)for(b=0,f=S.length;b<f;++b)e=S[b],e.Nf&&(J[b]=e.get(a));t?(b=0,n&&(b=k.type.jk[r]),b=O.apply(k.Ka[p+b],J)):b=O.apply(k,J);(h=cb(b,M))?l.H.push(k):m&&l.Ra.push(k)}g.finish&&g.finish(!0);l.$a=!1;g.Ie();return l.Ys()}c=0;K=(h=m&&!this.Xe.dF(this))?l.Ra:l.H;var N=!1;a=0;for(d=K.length;a<d;++a){k=K[a];if(v)for(b=0,f=S.length;b<f;++b)e=S[b],e.Nf&&(J[b]=e.get(a));t?(b=0,n&&(b=k.type.jk[r]),b=O.apply(k.Ka[p+b],J)):b=O.apply(k,J);if(cb(b,M))if(N=!0,h){if(l.H.push(k),
q)for(b=0,f=k.siblings.length;b<f;b++)e=k.siblings[b],e.type.La().H.push(e)}else{K[c]=k;if(q)for(b=0,f=k.siblings.length;b<f;b++)e=k.siblings[b],e.type.La().H[c]=e;c++}else if(h){K[c]=k;if(q)for(b=0,f=k.siblings.length;b<f;b++)e=k.siblings[b],e.type.La().Ra[c]=e;c++}else if(m&&(l.Ra.push(k),q))for(b=0,f=k.siblings.length;b<f;b++)e=k.siblings[b],e.type.La().Ra.push(e)}Fa(K,c);if(q)for(n=g.Je,a=0,d=n.length;a<d;a++)k=n[a].La(),h?Fa(k.Ra,c):Fa(k.H,c);c=N;if(h&&!N)for(a=0,d=l.H.length;a<d;a++){k=l.H[a];
if(v)for(b=0,f=S.length;b<f;b++)e=S[b],e.Nf&&(J[b]=e.get(a));b=t?O.apply(k.Ka[p],J):O.apply(k,J);if(cb(b,M)){N=!0;break}}g.finish&&g.finish(c||m);return m?N:l.Ys()};Fc=h;m.prototype.wc=function(){var a,b,c;a=0;for(b=this.Ta.length;a<b;a++)c=this.Ta[a],c.wc(),c.Nf&&(this.Bl=!0)};m.prototype.Hu=function(){var a=this.i,b,c,d=this.Ta,f=this.lc;b=0;for(c=d.length;b<c;++b)f[b]=d[b].get();return this.rd.apply(a.Ng,f)};m.prototype.Gu=function(){var a=this.type,b=this.Vf,c=a.bh,d=this.Bl,f=this.Ta,e=this.lc,
h=this.rd,k=a.La().Id(),a=a.Aa,g=-1<b,l,m,q,n,r,p;if(d)for(m=0,n=f.length;m<n;++m)r=f[m],r.Nf||(e[m]=r.get(0));else for(m=0,n=f.length;m<n;++m)e[m]=f[m].get(0);l=0;for(q=k.length;l<q;++l){p=k[l];if(d)for(m=0,n=f.length;m<n;++m)r=f[m],r.Nf&&(e[m]=r.get(l));g?(m=0,a&&(m=p.type.jk[c]),h.apply(p.Ka[b+m],e)):h.apply(p,e)}return!1};Gc=m;var t=[],q=-1;k.prototype.wc=function(){var a,b;if(11===this.type)this.aj=this.i.Vw(this.Rn,this.Xe.parent);else if(13===this.type)for(a=0,b=this.Mj.length;a<b;a++)this.Mj[a].wc();
this.Ag&&this.Ag.wc()};k.prototype.sF=function(a){this.Nf||!a||a.Za.Vq||(this.Nf=!0)};k.prototype.cz=function(){this.Nf=!0};k.prototype.GE=function(a){this.zh=a||0;a=l();this.Ag.get(a);q--;return a.data};k.prototype.HE=function(a){this.zh=a||0;a=l();this.Ag.get(a);q--;return oa(a.data)?a.data:""};k.prototype.NE=function(){return this.object};k.prototype.EE=function(){return this.uw};k.prototype.LE=function(a){this.zh=a||0;a=l();this.Ag.get(a);q--;return a.cd()?this.i.eh(a.data):this.i.Zl(a.data)};
k.prototype.ME=function(){return this.rc};k.prototype.KE=function(){return this.key};k.prototype.JE=function(){return this.index};k.prototype.IE=function(a){a=a||0;var b=this.Zb.type,c=null,c=b.La(),d=c.Id();if(d.length)c=d[a%d.length].type;else if(c.Ra.length)c=c.Ra[a%c.Ra.length].type;else if(b.H.length)c=b.H[a%b.H.length].type;else return 0;return this.index+c.dp[b.bh]};k.prototype.FE=function(){return this.aj};k.prototype.DE=function(){return this.Mw};k.prototype.OE=function(){var a,b;a=0;for(b=
this.Mj.length;a<b;a++)this.Qn[a]=this.Mj[a].get();return this.Qn};Jc=k;n.prototype.wc=function(){this.Xb=b(this.Xb)};n.prototype.Lj=function(a){var b=this.i.Tw();this.parent&&!this.ym&&b?(this.xj>=b.length&&(b.length=this.xj+1),b[this.xj]=a):this.data=a};n.prototype.em=function(){var a=this.i.Tw();return!this.parent||this.ym||!a||this.Kp?this.data:this.xj>=a.length||"undefined"===typeof a[this.xj]?this.Bp:a[this.xj]};n.prototype.Jc=function(){!this.parent||this.ym||this.Kp||this.Lj(this.Bp)};Bc=
n;p.prototype.toString=function(){return"include:"+this.km.toString()};p.prototype.wc=function(){this.km=this.i.Bs[this.WE];this.sheet.hx.add(this);this.Xb=b(this.Xb);for(var a=this.parent;a;)a.group&&a.Ho.push(this),a=a.parent;this.Iz()};p.prototype.Jc=function(){this.parent&&this.i.mn(this.i.ua);this.km.Zs||this.km.Jc(!0);this.parent&&this.i.wi(this.i.ua)};p.prototype.Iz=function(){for(var a=this.parent;a;){if(a.group&&!a.fj){this.xc=!1;return}a=a.parent}this.xc=!0};Uc=p;r.prototype.reset=function(a){this.bd=
a;this.We=this.yc=0;H(this.qz);this.ys=this.rj=!1};r.prototype.gF=function(){return this.bd.Su?!0:this.yc<this.bd.Qc.length-1?!!this.bd.Xb.length:!1};Ac=r})();
(function(){function a(a,b){this.Zb=a;this.i=a.i;this.type=b[0];this.get=[this.PD,this.LD,this.YD,this.aE,this.AD,this.ZD,this.TD,this.ID,this.SD,this.XD,this.BD,this.WD,this.JD,this.UD,this.QD,this.RD,this.MD,this.ND,this.HD,this.$D,this.VD,this.OD,this.GD,this.KD][this.type];var c=null;this.ph=this.Ta=this.lc=this.rd=this.er=this.second=this.first=this.value=null;this.Vf=-1;this.Yf=null;this.Oz=-1;this.aj=this.Rn=null;this.Yk=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Sc(a,b[1]);break;case 18:this.first=new Sc(a,b[1]);this.second=new Sc(a,b[2]);this.er=new Sc(a,b[3]);break;case 19:this.rd=this.i.Jh(b[1]);this.rd!==L.prototype.Ea.random&&this.rd!==L.prototype.Ea.KC||this.Zb.cz();this.lc=[];this.Ta=[];3===b.length?(c=b[2],this.lc.length=c.length+1):this.lc.length=1;break;case 20:this.ph=this.i.ua[b[1]];this.Vf=-1;this.rd=this.i.Jh(b[2]);this.Yk=b[3];jd&&this.rd===jd.prototype.Ea.Zz&&this.Zb.cz();b[4]?this.Yf=new Sc(a,b[4]):this.Yf=null;this.lc=[];this.Ta=[];
6===b.length?(c=b[5],this.lc.length=c.length+1):this.lc.length=1;break;case 21:this.ph=this.i.ua[b[1]];this.Yk=b[2];b[3]?this.Yf=new Sc(a,b[3]):this.Yf=null;this.Oz=b[4];break;case 22:this.ph=this.i.ua[b[1]];this.ph.pp(b[2]);this.Vf=this.ph.Ks(b[2]);this.rd=this.i.Jh(b[3]);this.Yk=b[4];b[5]?this.Yf=new Sc(a,b[5]):this.Yf=null;this.lc=[];this.Ta=[];7===b.length?(c=b[6],this.lc.length=c.length+1):this.lc.length=1;break;case 23:this.Rn=b[1],this.aj=null}this.Zb.sF(this.ph);4<=this.type&&17>=this.type&&
(this.first=new Sc(a,b[1]),this.second=new Sc(a,b[2]));if(c){var d,e;d=0;for(e=c.length;d<e;d++)this.Ta.push(new Sc(a,c[d]))}}function c(){++e;g.length===e&&g.push(new Rc);return g[e]}function b(a,b,c){var d,e;d=0;for(e=a.length;d<e;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Vc.Sj;this.data=b||0;this.Bj=null;this.type==Vc.Sj&&(this.data=Math.floor(this.data))}a.prototype.wc=function(){23===this.type&&(this.aj=this.Zb.i.Vw(this.Rn,this.Zb.Xe.parent));this.first&&this.first.wc();this.second&&
this.second.wc();this.er&&this.er.wc();this.Yf&&this.Yf.wc();if(this.Ta){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.Ta[a].wc()}};var g=[],e=-1;a.prototype.$D=function(a){var d=this.Ta,g=this.lc;g[0]=a;a=c();b(d,g,a);--e;this.rd.apply(this.i.Ng,g)};a.prototype.VD=function(a){var d=this.ph,g=this.lc,l=this.Ta,k=this.Yf,n=this.rd,p=this.Zb.zh,r=d.La(),v=r.Id();if(!v.length)if(r.Ra.length)v=r.Ra;else{this.Yk?a.hd(""):a.Ub(0);return}g[0]=a;a.Bj=d;a=c();b(l,g,a);k&&(k.get(a),a.cd()&&(p=a.data,v=d.H));
--e;d=v.length;if(p>=d||p<=-d)p%=d;0>p&&(p+=d);n.apply(v[p],g)};a.prototype.GD=function(a){var d=this.ph,g=this.lc,l=this.Ta,k=this.Yf,n=this.Vf,p=this.rd,r=this.Zb.zh,v=d.La(),t=v.Id();if(!t.length)if(v.Ra.length)t=v.Ra;else{this.Yk?a.hd(""):a.Ub(0);return}g[0]=a;a.Bj=d;a=c();b(l,g,a);k&&(k.get(a),a.cd()&&(r=a.data,t=d.H));--e;l=t.length;if(r>=l||r<=-l)r%=l;0>r&&(r+=l);r=t[r];t=0;d.Aa&&(t=r.type.jk[d.bh]);p.apply(r.Ka[n+t],g)};a.prototype.OD=function(a){var b=this.Yf,d=this.ph,g=this.Oz,k=this.Zb.zh,
n=d.La(),p=n.Id();if(!p.length)if(n.Ra.length)p=n.Ra;else{this.Yk?a.hd(""):a.Ub(0);return}if(b){n=c();b.get(n);if(n.cd()){k=n.data;p=d.H;0!==p.length&&(k%=p.length,0>k&&(k+=p.length));k=d.Ps(k);d=k.Rb[g];oa(d)?a.hd(d):a.xa(d);--e;return}--e}b=p.length;if(k>=b||k<=-b)k%=b;0>k&&(k+=b);k=p[k];p=0;d.Aa&&(p=k.type.dp[d.bh]);d=k.Rb[g+p];oa(d)?a.hd(d):a.xa(d)};a.prototype.PD=function(a){a.type=Vc.Sj;a.data=this.value};a.prototype.LD=function(a){a.type=Vc.Rj;a.data=this.value};a.prototype.YD=function(a){a.type=
Vc.String;a.data=this.value};a.prototype.aE=function(a){this.first.get(a);a.cd()&&(a.data=-a.data)};a.prototype.AD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data+=b.data,b.tk()&&a.Mk());--e};a.prototype.ZD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data-=b.data,b.tk()&&a.Mk());--e};a.prototype.TD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data*=b.data,b.tk()&&a.Mk());--e};a.prototype.ID=function(a){this.first.get(a);
var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data/=b.data,a.Mk());--e};a.prototype.SD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data%=b.data,b.tk()&&a.Mk());--e};a.prototype.XD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data=Math.pow(a.data,b.data),b.tk()&&a.Mk());--e};a.prototype.BD=function(a){this.first.get(a);var b=c();this.second.get(b);b.wk()||a.wk()?this.DD(a,b):this.CD(a,b);--e};a.prototype.DD=function(a,b){a.wk()&&
b.wk()?this.FD(a,b):this.ED(a,b)};a.prototype.FD=function(a,b){a.data+=b.data};a.prototype.ED=function(a,b){a.wk()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.hd(a.data.toString()+b.data)};a.prototype.CD=function(a,b){a.Ub(a.data&&b.data?1:0)};a.prototype.WD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data||b.data?a.Ub(1):a.Ub(0));--e};a.prototype.HD=function(a){this.first.get(a);a.data?this.second.get(a):this.er.get(a)};a.prototype.JD=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Ub(a.data===b.data?1:0);--e};a.prototype.UD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ub(a.data!==b.data?1:0);--e};a.prototype.QD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ub(a.data<b.data?1:0);--e};a.prototype.RD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ub(a.data<=b.data?1:0);--e};a.prototype.MD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ub(a.data>b.data?1:0);--e};a.prototype.ND=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Ub(a.data>=b.data?1:0);--e};a.prototype.KD=function(a){var b=this.aj.em();na(b)?a.xa(b):a.hd(b)};Sc=a;d.prototype.tk=function(){return this.type===Vc.Rj};d.prototype.cd=function(){return this.type===Vc.Sj||this.type===Vc.Rj};d.prototype.wk=function(){return this.type===Vc.String};d.prototype.Mk=function(){this.tk()||(this.wk()&&(this.data=parseFloat(this.data)),this.type=Vc.Rj)};d.prototype.Ub=function(a){this.type=Vc.Sj;this.data=Math.floor(a)};d.prototype.xa=function(a){this.type=
Vc.Rj;this.data=a};d.prototype.hd=function(a){this.type=Vc.String;this.data=a};d.prototype.Rq=function(a){na(a)?(this.type=Vc.Rj,this.data=a):oa(a)?(this.type=Vc.String,this.data=a.toString()):(this.type=Vc.Sj,this.data=0)};Rc=d;Vc={Sj:0,Rj:1,String:2}})();function L(a){this.i=a;this.Ue=[]}
L.prototype.Tb=function(){var a={},c,b,d,g,e,f,h,m;a.waits=[];var l=a.waits,k;c=0;for(b=this.Ue.length;c<b;c++){f=this.Ue[c];k={t:f.time,st:f.vG,s:f.iz,ev:f.Pl.kb,sm:[],sols:{}};f.Pl.pf[f.We]&&(k.act=f.Pl.pf[f.We].kb);d=0;for(g=f.Xb.length;d<g;d++)k.sm.push(f.Xb[d].kb);for(e in f.Te)if(f.Te.hasOwnProperty(e)){h=this.i.ua[parseInt(e,10)];m={sa:f.Te[e].Ty,insts:[]};d=0;for(g=f.Te[e].kj.length;d<g;d++)m.insts.push(f.Te[e].kj[d].uid);k.sols[h.kb.toString()]=m}l.push(k)}return a};
L.prototype.Yb=function(a){a=a.waits;var c,b,d,g,e,f,h,m,l,k,n;H(this.Ue);c=0;for(b=a.length;c<b;c++)if(f=a[c],m=this.i.lw[f.ev.toString()]){l=-1;d=0;for(g=m.pf.length;d<g;d++)if(m.pf[d].kb===f.act){l=d;break}if(-1!==l){h={Te:{},Xb:[],Bw:!1};h.time=f.t;h.vG=f.st||"";h.iz=!!f.s;h.Pl=m;h.We=l;d=0;for(g=f.sm.length;d<g;d++)(m=this.i.tp(f.sm[d]))&&h.Xb.push(m);for(e in f.sols)if(f.sols.hasOwnProperty(e)&&(m=this.i.tp(parseInt(e,10)))){l=f.sols[e];k={Ty:l.sa,kj:[]};d=0;for(g=l.insts.length;d<g;d++)(n=
this.i.Xf(l.insts[d]))&&k.kj.push(n);h.Te[m.index.toString()]=k}this.Ue.push(h)}}};
(function(){function a(){}function c(){}function b(){}var d=L.prototype;a.prototype.Jv=function(){return!0};a.prototype.gB=function(){return!0};a.prototype.bA=function(a,b,c){return Wc(a,b,c)};var g=[],e=-1;a.prototype.oA=function(a){var b=a.La();e++;g.length===e&&g.push([]);var c=g[e];Ha(c,b.Id());var d=this.i.Ec(),f=d.bd,h=d.gF(),d=this.i.YF(),v,t,q,u,x,z,E=a.Ld;if(h)for(h=0,v=c.length;h<v&&!d.jd;h++){this.i.nn(f.Xb);u=c[h];b=a.La();b.$a=!1;H(b.H);b.H[0]=u;if(E)for(t=0,q=u.siblings.length;t<q;t++)x=
u.siblings[t],z=x.type.La(),z.$a=!1,H(z.H),z.H[0]=x;d.index=h;f.Fu();this.i.wi(f.Xb)}else for(b.$a=!1,H(b.H),h=0,v=c.length;h<v&&!d.jd;h++){u=c[h];b.H[0]=u;if(E)for(t=0,q=u.siblings.length;t<q;t++)x=u.siblings[t],z=x.type.La(),z.$a=!1,H(z.H),z.H[0]=x;d.index=h;f.Fu()}H(c);this.i.OF();e--;return!1};a.prototype.IB=function(a,b,c,d){var f,h,v,t;if(a){e++;g.length===e&&g.push([]);var q=g[e],u=a.La();Ha(q,u.Id());u.$a&&H(u.Ra);var x=this.i.Yl();v=f=0;for(h=q.length;f<h;f++)t=q[f],q[v]=t,b=x.Ta[1].get(f),
d=x.Ta[3].get(f),Wc(b,c,d)?v++:u.Ra.push(t);Fa(q,v);u.$a=!1;Ha(u.H,q);H(q);e--;a.Ie();return!!u.H.length}};a.prototype.lA=function(a){var b=this.i.Yl(),c=b.na.Every_lastTime||0,d=this.i.dd.Va;"undefined"===typeof b.na.Every_seconds&&(b.na.Every_seconds=a);var e=b.na.Every_seconds;if(d>=c+e)return b.na.Every_lastTime=c+e,d>=b.na.Every_lastTime+.04&&(b.na.Every_lastTime=d),b.na.Every_seconds=a,!0;d<c-.1&&(b.na.Every_lastTime=d);return!1};a.prototype.JB=function(a){if(!a)return!1;var b=a.La(),c=b.Id(),
d=wa(Math.random()*c.length);if(d>=c.length)return!1;b.Uk(c[d]);a.Ie();return!0};a.prototype.fA=function(a,b,c){return Wc(a.em(),b,c)};a.prototype.wA=function(a){return(a=this.i.nk[a.toLowerCase()])&&a.fj};a.prototype.cA=function(a,b,c){return a>=b&&a<=c};a.prototype.uv=function(){var a=this.i.Ec();return a.ys?!1:!a.rj};a.prototype.Kv=function(){return!0};a.prototype.RA=function(){return!0};a.prototype.Jr=function(){return!0};a.prototype.Pv=function(){return!0};a.prototype.hB=function(){return!0};
a.prototype.Hr=function(){return!0};a.prototype.Wz=function(a,b,c){return Xa(Pa(a),Pa(c))<=Pa(b)};a.prototype.uA=function(a,b){return $a(Pa(a),Pa(b))};a.prototype.sA=function(a,b,c){a=Va(a);b=Va(b);c=Va(c);return $a(c,b)?$a(a,b)&&!$a(a,c):!(!$a(a,b)&&$a(a,c))};d.F=new a;c.prototype.qA=function(a){this.i.zm||this.i.Gl||(this.i.Gl=a)};c.prototype.jA=function(a,b,c,d){if(b&&a&&(b=this.i.Jl(a,b,c,d))){this.i.cf++;var e;this.i.trigger(Object.getPrototypeOf(a.Za).F.Sg,b);if(b.Ld)for(c=0,d=b.siblings.length;c<
d;c++)e=b.siblings[c],this.i.trigger(Object.getPrototypeOf(e.type.Za).F.Sg,e);this.i.cf--;a=a.La();a.$a=!1;H(a.H);a.H[0]=b;if(b.Ld)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.La(),a.$a=!1,H(a.H),a.H[0]=e}};c.prototype.ZB=function(a,b){0===a.sr?na(b)?a.Lj(b):a.Lj(parseFloat(b)):1===a.sr&&a.Lj(b.toString())};c.prototype.Vz=function(a,b){0===a.sr?na(b)?a.Lj(a.em()+b):a.Lj(a.em()+parseFloat(b)):1===a.sr&&a.Lj(a.em()+b.toString())};c.prototype.RB=function(a,b){var c=this.i.nk[a.toLowerCase()];
if(c)switch(b){case 0:c.Oq(!1);break;case 1:c.Oq(!0);break;case 2:c.Oq(!c.fj)}};c.prototype.YB=function(a){0>a&&(a=0);this.i.hg=a};var f=[],h=[];c.prototype.MB=function(){var a,b,c;a=0;for(b=this.i.Xr.length;a<b;a++)c=this.i.Xr[a],c.data=c.Bp};d.fa=new c;b.prototype["int"]=function(a,b){oa(b)?(a.Ub(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Ub(b)};b.prototype["float"]=function(a,b){oa(b)?(a.xa(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.xa(b)};b.prototype.random=function(a,b,c){void 0===c?a.xa(Math.random()*
b):a.xa(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.xa(Math.sqrt(b))};b.prototype.abs=function(a,b){a.xa(Math.abs(b))};b.prototype.round=function(a,b){a.Ub(Math.round(b))};b.prototype.floor=function(a,b){a.Ub(Math.floor(b))};b.prototype.ceil=function(a,b){a.Ub(Math.ceil(b))};b.prototype.sin=function(a,b){a.xa(Math.sin(Pa(b)))};b.prototype.cos=function(a,b){a.xa(Math.cos(Pa(b)))};b.prototype.tan=function(a,b){a.xa(Math.tan(Pa(b)))};b.prototype.asin=function(a,b){a.xa(Qa(Math.asin(b)))};
b.prototype.acos=function(a,b){a.xa(Qa(Math.acos(b)))};b.prototype.atan=function(a,b){a.xa(Qa(Math.atan(b)))};b.prototype.exp=function(a,b){a.xa(Math.exp(b))};b.prototype.log10=function(a,b){a.xa(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.xa(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<
d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.xa(b)};b.prototype.Xa=function(a){a.xa(this.i.Xa)};b.prototype.hg=function(a){a.xa(this.i.hg)};b.prototype.time=function(a){a.xa(this.i.dd.Va)};b.prototype.jf=function(a){a.Ub(this.i.jf)};b.prototype.hq=function(a){a.Ub(this.i.hq)};b.prototype.Fs=function(a){a.Ub(this.i.Fs)};b.prototype.M=function(a,b,c,d,e){a.xa(Qa(Wa(b,c,d,e)))};b.prototype.yF=function(a){a.hd("\n")};b.prototype.left=function(a,b,c){a.hd(oa(b)?b.substr(0,c):"")};b.prototype.right=
function(a,b,c){a.hd(oa(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){oa(b)&&oa(c)&&oa(d)?a.hd(b.replace(new RegExp(Cb(c),"gi"),d)):a.hd(oa(b)?b:"")};b.prototype.trim=function(a,b){a.hd(oa(b)?b.trim():"")};b.prototype.KC=function(a){var b=wa(Math.random()*(arguments.length-1));a.Rq(arguments[b+1])};b.prototype.WF=function(a){a.hd(this.i.LG)};b.prototype.qs=function(a){a.xa(this.i.qs/1E3)};b.prototype.Jk=function(a){a.xa(this.i.Jk)};d.Ea=new b;d.hG=function(){var a,b,c,d,e,g,v=
this.i.Ec();a=0;for(c=this.Ue.length;a<c;a++){d=this.Ue[a];if(-1===d.time){if(!d.iz)continue}else if(d.time>this.i.dd.Va)continue;v.bd=d.Pl;v.We=d.We;v.yc=0;for(b in d.Te)d.Te.hasOwnProperty(b)&&(e=this.i.ua[parseInt(b,10)].La(),g=d.Te[b],e.$a=g.Ty,Ha(e.H,g.kj),e=g,H(e.kj),h.push(e));d.Pl.fG();this.i.ns(d.Xb);d.Bw=!0}b=a=0;for(c=this.Ue.length;a<c;a++)d=this.Ue[a],this.Ue[b]=d,d.Bw?(mb(d.Te),H(d.Xb),f.push(d)):b++;Fa(this.Ue,b)}})();
(function(){Zb=function(a,b){var d=a[1],g=a[3],e=a[4],f=a[5],h=a[6],m=a[7],l=a[8];b.F||(b.F={});b.fa||(b.fa={});b.Ea||(b.Ea={});var k=b.F,n=b.fa,p=b.Ea;g&&(k.gA=function(a,b){return Wc(this.x,a,b)},k.hA=function(a,b){return Wc(this.y,a,b)},k.YG=function(){var a=this.O;this.ab();var b=this.Lb;return!(b.right<a.qb||b.bottom<a.rb||b.left>a.Fb||b.top>a.Eb)},k.ZG=function(){this.ab();var a=this.Lb,b=this.i.Ob;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.kH=function(a,b,c){var d=this.La(),
e=d.Id();if(!e.length)return!1;var f=e[0],g=f,h=bb(f.x,f.y,b,c),k,l,m;k=1;for(l=e.length;k<l;k++)if(f=e[k],m=bb(f.x,f.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=f;d.Uk(g);return!0},n.yH=function(a){this.x!==a&&(this.x=a,this.aa())},n.zH=function(a){this.y!==a&&(this.y=a,this.aa())},n.uH=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.aa()},n.vH=function(a,b){var c=a.vE(this);if(c){var d;c.zf?(d=c.zf(b,!0),c=c.zf(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.aa()}},
n.dH=function(a){0!==a&&(this.x+=Math.cos(this.M)*a,this.y+=Math.sin(this.M)*a,this.aa())},n.cH=function(a,b){0!==b&&(this.x+=Math.cos(Pa(a))*b,this.y+=Math.sin(Pa(a))*b,this.aa())},p.Qr=function(a){a.xa(this.x)},p.Rr=function(a){a.xa(this.y)},p.Xa=function(a){a.xa(this.i.Cg(this))});e&&(k.VG=function(a,b){return Wc(this.width,a,b)},k.TG=function(a,b){return Wc(this.height,a,b)},n.Xv=function(a){this.width!==a&&(this.width=a,this.aa())},n.tH=function(a){this.height!==a&&(this.height=a,this.aa())},
n.wH=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.aa()},p.lC=function(a){a.xa(this.width)},p.rA=function(a){a.xa(this.height)},p.QG=function(a){this.ab();a.xa(this.Lb.left)},p.SG=function(a){this.ab();a.xa(this.Lb.top)},p.RG=function(a){this.ab();a.xa(this.Lb.right)},p.PG=function(a){this.ab();a.xa(this.Lb.bottom)});f&&(k.Wz=function(a,b){return Xa(this.M,Pa(b))<=Pa(a)},k.uA=function(a){return $a(this.M,Pa(a))},k.sA=function(a,b){var c=Va(a),d=Va(b),e=Sa(this.M);
return $a(d,c)?$a(e,c)&&!$a(e,d):!(!$a(e,c)&&$a(e,d))},n.Uv=function(a){a=Pa(Ra(a));isNaN(a)||this.M===a||(this.M=a,this.aa())},n.NB=function(a){0===a||isNaN(a)||(this.M+=Pa(a),this.M=Sa(this.M),this.aa())},n.oH=function(a){0===a||isNaN(a)||(this.M-=Pa(a),this.M=Sa(this.M),this.aa())},n.pH=function(a,b){var c=Za(this.M,Pa(b),Pa(a));isNaN(c)||this.M===c||(this.M=c,this.aa())},n.qH=function(a,b,c){a=Za(this.M,Math.atan2(c-this.y,b-this.x),Pa(a));isNaN(a)||this.M===a||(this.M=a,this.aa())},n.xH=function(a,
b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.M===c||(this.M=c,this.aa())},p.OG=function(a){a.xa(Ua(this.M))});d||(k.dA=function(a,b,c){return Wc(this.Rb[a],b,c)},k.tA=function(a){return this.Rb[a]},k.lH=function(a,b){var c=this.La(),d=c.Id();if(!d.length)return!1;var e=d[0],f=e,g=e.Rb[b],h,k,l;h=1;for(k=d.length;h<k;h++)if(e=d[h],l=e.Rb[b],0===a&&l<g||1===a&&l>g)g=l,f=e;c.Uk(f);return!0},k.jH=function(a){var b,c,d,e,f;if(this.i.Yl().Gp){f=this.La();if(f.$a)for(f.$a=!1,H(f.H),H(f.Ra),d=this.H,
b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.Ra.push(e):f.H.push(e);else{d=b=0;for(c=f.H.length;b<c;b++)e=f.H[b],f.H[d]=e,e.uid===a?f.Ra.push(e):d++;Fa(f.H,d)}this.Ie();return!!f.H.length}e=this.i.Xf(a);if(!e)return!1;f=this.La();if(!f.$a&&-1===f.H.indexOf(e))return!1;if(this.Aa)for(a=e.type.ec,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Uk(e),this.Ie(),!0}else if(e.type===this)return f.Uk(e),this.Ie(),!0;return!1},k.Sg=function(){return!0},k.Cv=function(){return!0},n.UB=function(a,b){var c=this.Rb;
na(c[a])?c[a]=na(b)?b:parseFloat(b):oa(c[a])&&(c[a]=oa(b)?b:b.toString())},n.Uz=function(a,b){var c=this.Rb;na(c[a])?c[a]=na(b)?c[a]+b:c[a]+parseFloat(b):oa(c[a])&&(c[a]=oa(b)?c[a]+b:c[a]+b.toString())},n.eC=function(a,b){var c=this.Rb;na(c[a])&&(c[a]=na(b)?c[a]-b:c[a]-parseFloat(b))},n.PB=function(a,b){this.Rb[a]=b?1:0},n.fC=function(a){this.Rb[a]=1-this.Rb[a]},n.Wd=function(){this.i.Ee(this)},n.EA||(n.EA=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.i.Up(this,b,!0);this.qf&&this.qf();
if(this.Ka)for(a=0,b=this.Ka.length;a<b;++a)c=this.Ka[a],c.qf&&c.qf()}),p.iA=function(a){var b=a.Bj.H.length,c,d,e;c=0;for(d=this.i.Wf.length;c<d;c++)e=this.i.Wf[c],a.Bj.Aa?0<=e.type.ec.indexOf(a.Bj)&&b++:e.type===a.Bj&&b++;a.Ub(b)},p.nH=function(a){a.Ub(a.Bj.La().Id().length)},p.hC=function(a){a.Ub(this.uid)},p.WG=function(a){a.Ub(this.fm())},p.Yz||(p.Yz=function(a){a.hd(JSON.stringify(this.i.Iu(this,!0)))}));h&&(k.$G=function(){return this.visible},n.ko=function(a){!a!==!this.visible&&(this.visible=
!!a,this.i.Ua=!0)},k.UG=function(a,b){return Wc(Nb(100*this.opacity),a,b)},n.XB=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.i.Ua=!0)},p.Opacity=function(a){a.xa(Nb(100*this.opacity))});m&&(k.XG=function(a){return a?this.O===a:!1},k.mH=function(a){var b=this.La(),c=b.Id();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.O.index>e.O.index||d.O.index===e.O.index&&d.Dg()>e.Dg())e=d}else if(d.O.index<e.O.index||d.O.index===e.O.index&&
d.Dg()<e.Dg())e=d;b.Uk(e);return!0},n.gH=function(){var a=this.O,b=a.H;b.length&&b[b.length-1]===this||(a.Xk(this,!1),a.Dl(this,!1),this.i.Ua=!0)},n.eH=function(){var a=this.O,b=a.H;b.length&&b[0]===this||(a.Xk(this,!1),a.RF(this),this.i.Ua=!0)},n.fH=function(a){a&&a!=this.O&&(this.O.Xk(this,!0),this.O=a,a.Dl(this,!0),this.i.Ua=!0)},n.oC=function(a,b){var c=0===a;if(b){var d=b.Os(this);d&&d.uid!==this.uid&&(this.O.index!==d.O.index&&(this.O.Xk(this,!0),this.O=d.O,d.O.Dl(this,!0)),this.O.vF(this,d,
c),this.i.Ua=!0)}},p.bH=function(a){a.Ub(this.O.jy)},p.aH=function(a){a.hd(this.O.name)},p.AH=function(a){a.Ub(this.Dg())});l&&(n.rH=function(a,b){if(this.i.la){var c=this.type.Ns(b);if(!(0>c)){var d=1===a;this.Mh[c]!==d&&(this.Mh[c]=d,this.jg(),this.i.Ua=!0)}}},n.sH=function(a,b,c){if(this.i.la){var d=this.type.Ns(a);0>d||(a=this.type.Qa[d],d=this.gc[d],b=Math.floor(b),0>b||b>=d.length||(1===this.i.la.zE(a.Kc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.xc&&(this.i.Ua=!0))))}})};sc=function(){this.ks=this.zo=
!0;this.type.ro=!0;this.i.Ua=!0;var a,b,d=this.ds;a=0;for(b=d.length;a<b;++a)d[a](this);this.O.lf&&this.ab()};tc=function(a){a&&this.ds.push(a)};vc=function(){if(this.zo){var a=this.Lb,b=this.Mb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.te*this.width,-this.ue*this.height);this.M?(a.offset(-this.x,-this.y),b.ez(a,this.M),b.offset(this.x,this.y),b.mw(a)):b.bl(a);a.normalize();this.zo=!1;this.Mz()}};var a=new Aa(0,0,0,0);wc=function(){if(this.O.lf){var c=this.O.xd,b=this.Lb;
a.set(c.ke(b.left),c.le(b.top),c.ke(b.right),c.le(b.bottom));this.Ae.Ol(a)||(this.Ae.right<this.Ae.left?c.update(this,null,a):c.update(this,this.Ae,a),this.Ae.ak(a),this.O.eg=!0)}};xc=function(){if(this.ks&&this.uf){this.ab();var c=this.type.Hl,b=this.Lb;a.set(c.ke(b.left),c.le(b.top),c.ke(b.right),c.le(b.bottom));this.tf.Ol(a)||(this.tf.right<this.tf.left?c.update(this,null,a):c.update(this,this.tf,a),this.tf.ak(a),this.ks=!1)}};uc=function(a,b){return this.Lb.Gd(a,b)&&this.Mb.Gd(a,b)?this.ib&&!this.ib.nj()?
(this.ib.Rh(this.width,this.height,this.M),this.ib.Gd(a-this.x,b-this.y)):!0:!1};oc=function(){this.type.nr();return this.ij};yc=function(){this.O.mv();return this.lg};zc=function(){H(this.yb);var a,b,d,g=!0;a=0;for(b=this.Mh.length;a<b;a++)this.Mh[a]&&(d=this.type.Qa[a],this.yb.push(d),d.Gf||(g=!1));this.Nz=!!this.yb.length;this.yh=g};pc=function(){return"Inst"+this.Ny};bc=function(a){if(a&&a.Ld&&a.type!=this){var b,d,g;b=0;for(d=a.siblings.length;b<d;b++)if(g=a.siblings[b],g.type==this)return g}a=
this.La().Id();return a.length?a[0]:null};cc=function(a){var b=this.La().Id();return b.length?b[a.fm()%b.length]:null};ac=function(){if(this.el&&!this.Aa){var a,b;a=0;for(b=this.H.length;a<b;a++)this.H[a].ij=a;var d=a,g=this.i.Wf;a=0;for(b=g.length;a<b;++a)g[a].type===this&&(g[a].ij=d++);this.el=!1}};mc=function(a){if(a<this.H.length)return this.H[a];a-=this.H.length;var b=this.i.Wf,d,g;d=0;for(g=b.length;d<g;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};ec=function(){return this.Ah[this.xg]};
fc=function(){this.xg++;this.xg===this.Ah.length?this.Ah.push(new $b(this)):(this.Ah[this.xg].$a=!0,H(this.Ah[this.xg].Ra))};gc=function(){this.xg++;this.xg===this.Ah.length&&this.Ah.push(new $b(this));var a=this.Ah[this.xg],b=this.Ah[this.xg-1];b.$a?(a.$a=!0,H(a.Ra)):(a.$a=!1,Ha(a.H,b.H),Ha(a.Ra,b.Ra))};hc=function(){this.xg--};ic=function(a){var b,d,g,e,f,h=0;if(!this.Aa)for(b=0,d=this.ec.length;b<d;b++)for(f=this.ec[b],g=0,e=f.fc.length;g<e;g++){if(a===f.fc[g].name)return this.na.lastBehIndex=
h,f.fc[g];h++}b=0;for(d=this.fc.length;b<d;b++){if(a===this.fc[b].name)return this.na.lastBehIndex=h,this.fc[b];h++}return null};jc=function(a){return this.pp(a)?this.na.lastBehIndex:-1};kc=function(a){var b,d;b=0;for(d=this.Qa.length;b<d;b++)if(this.Qa[b].name===a)return b;return-1};lc=function(){if(this.Ld&&!this.Aa){var a,b,d,g,e,f,h;this.nr();f=this.La();var m=f.$a,l=(a=this.i.Ec())&&a.bd&&a.bd.ff;a=0;for(b=this.Je.length;a<b;a++)if(e=this.Je[a],e!==this&&(e.nr(),h=e.La(),h.$a=m,!m)){H(h.H);d=
0;for(g=f.H.length;d<g;++d)h.H[d]=e.Ps(f.H[d].ij);if(l)for(H(h.Ra),d=0,g=f.Ra.length;d<g;++d)h.Ra[d]=e.Ps(f.Ra[d].ij)}}};nc=function(){return"Type"+this.kb};Wc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();
var dd={glowhorizontal:{src:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump float pixelWidth;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",Zo:8,
$o:0,rs:!1,Gf:!1,as:!1,Ta:[["intensity",0,1]]}};function kd(a){this.i=a}
(function(){function a(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function c(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function b(a){a=a.toLowerCase();return ha.hasOwnProperty(a)&&ha[a].length?ha[a][0].Ze():G.destination}function d(){return G.createGain?G.createGain():G.createGainNode()}function g(a){return G.createDelay?G.createDelay(a):G.createDelayNode(a)}function e(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function f(a,b,c,d){a.start?a.start(d||
0,b):a.noteGrainOn(d||0,b,c-b)}function h(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function m(a,b,c,e,f,g){this.type="filter";this.Cb=[a,b,c,e,f,g];this.nb=d();this.Pa=d();this.Pa.gain.value=g;this.Na=d();this.Na.gain.value=1-g;this.Dc=G.createBiquadFilter();this.Dc.type="number"===typeof this.Dc.type?a:ed[a];this.Dc.frequency.value=b;this.Dc.detune&&(this.Dc.detune.value=c);this.Dc.Q.value=e;this.Dc.gain.value=f;this.nb.connect(this.Dc);this.nb.connect(this.Na);this.Dc.connect(this.Pa)}function l(a,
b,c){this.type="delay";this.Cb=[a,b,c];this.nb=d();this.Pa=d();this.Pa.gain.value=c;this.Na=d();this.Na.gain.value=1-c;this.Xm=d();this.xf=g(a);this.xf.delayTime.value=a;this.So=d();this.So.gain.value=b;this.nb.connect(this.Xm);this.nb.connect(this.Na);this.Xm.connect(this.Pa);this.Xm.connect(this.xf);this.xf.connect(this.So);this.So.connect(this.Xm)}function k(a,b,c,e){this.type="convolve";this.Cb=[b,c,e];this.nb=d();this.Pa=d();this.Pa.gain.value=c;this.Na=d();this.Na.gain.value=1-c;this.Wi=G.createConvolver();
a&&(this.Wi.normalize=b,this.Wi.buffer=a);this.nb.connect(this.Wi);this.nb.connect(this.Na);this.Wi.connect(this.Pa)}function n(a,b,c,f,h){this.type="flanger";this.Cb=[a,b,c,f,h];this.nb=d();this.Na=d();this.Na.gain.value=1-h/2;this.Pa=d();this.Pa.gain.value=h/2;this.ep=d();this.ep.gain.value=f;this.xf=g(a+b);this.xf.delayTime.value=a;this.gd=G.createOscillator();this.gd.frequency.value=c;this.Se=d();this.Se.gain.value=b;this.nb.connect(this.xf);this.nb.connect(this.Na);this.xf.connect(this.Pa);this.xf.connect(this.ep);
this.ep.connect(this.xf);this.gd.connect(this.Se);this.Se.connect(this.xf.delayTime);e(this.gd)}function p(a,b,c,f,g,h){this.type="phaser";this.Cb=[a,b,c,f,g,h];this.nb=d();this.Na=d();this.Na.gain.value=1-h/2;this.Pa=d();this.Pa.gain.value=h/2;this.Dc=G.createBiquadFilter();this.Dc.type="number"===typeof this.Dc.type?7:"allpass";this.Dc.frequency.value=a;this.Dc.detune&&(this.Dc.detune.value=b);this.Dc.Q.value=c;this.gd=G.createOscillator();this.gd.frequency.value=g;this.Se=d();this.Se.gain.value=
f;this.nb.connect(this.Dc);this.nb.connect(this.Na);this.Dc.connect(this.Pa);this.gd.connect(this.Se);this.Se.connect(this.Dc.frequency);e(this.gd)}function r(a){this.type="gain";this.Cb=[a];this.xb=d();this.xb.gain.value=a}function v(a,b){this.type="tremolo";this.Cb=[a,b];this.xb=d();this.xb.gain.value=1-b/2;this.gd=G.createOscillator();this.gd.frequency.value=a;this.Se=d();this.Se.gain.value=b/2;this.gd.connect(this.Se);this.Se.connect(this.xb.gain);e(this.gd)}function t(a,b){this.type="ringmod";
this.Cb=[a,b];this.nb=d();this.Pa=d();this.Pa.gain.value=b;this.Na=d();this.Na.gain.value=1-b;this.tn=d();this.tn.gain.value=0;this.gd=G.createOscillator();this.gd.frequency.value=a;this.gd.connect(this.tn.gain);e(this.gd);this.nb.connect(this.tn);this.nb.connect(this.Na);this.tn.connect(this.Pa)}function q(a,b,c,e,f){this.type="distortion";this.Cb=[a,b,c,e,f];this.nb=d();this.Bq=d();this.Aq=d();this.oG(c,Math.pow(10,e/20));this.Pa=d();this.Pa.gain.value=f;this.Na=d();this.Na.gain.value=1-f;this.ur=
G.createWaveShaper();this.Qo=new Float32Array(65536);this.jE(a,b);this.ur.Qo=this.Qo;this.nb.connect(this.Bq);this.nb.connect(this.Na);this.Bq.connect(this.ur);this.ur.connect(this.Aq);this.Aq.connect(this.Pa)}function u(a,b,c,d,e){this.type="compressor";this.Cb=[a,b,c,d,e];this.xb=G.createDynamicsCompressor();try{this.xb.threshold.value=a,this.xb.knee.value=b,this.xb.ratio.value=c,this.xb.attack.value=d,this.xb.release.value=e}catch(f){}}function x(a,b){this.type="analyser";this.Cb=[a,b];this.xb=
G.createAnalyser();this.xb.fftSize=a;this.xb.smoothingTimeConstant=b;this.gE=new Float32Array(this.xb.frequencyBinCount);this.hz=new Uint8Array(a);this.dn=0}function z(){this.Ma=null;this.Vp=0;this.Di=[];this.au=this.Pp=this.Op=0}function E(a,b){this.src=a;this.jb=R;this.Bf=b;this.qo=!1;var c=this;this.Zt=this.mu=null;this.Ej=[];this.Kq=0;this.qv=this.cp=this.nz=this.tq=!1;1===R&&b&&!xb&&(this.jb=0,this.mu=d());this.Wg=this.zb=null;var e;switch(this.jb){case 0:this.zb=new Audio;this.zb.crossOrigin=
"anonymous";this.zb.addEventListener("canplaythrough",function(){c.qv=!0});1===R&&G.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.nz=!0,this.zb.addEventListener("canplay",function(){c.Zt||(c.Zt=G.createMediaElementSource(c.zb),c.Zt.connect(c.mu))}));this.zb.autoplay=!1;this.zb.PH="auto";this.zb.src=a;break;case 1:F.wm?F.Kw(a,function(a){c.Wg=a;c.yw()},function(){c.cp=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.Wg=e.response;
c.yw()},e.onerror=function(){c.cp=!0},e.send());break;case 2:this.zb=!0;break;case 3:this.zb=!0}}function B(a,c){var e=this;this.tag=c;this.jd=this.Bg=!0;this.src=a.src;this.buffer=a;this.jb=R;this.Bf=a.Bf;this.playbackRate=1;this.pk=!0;this.Me=this.hf=!1;this.Be=0;this.xm=this.uk=this.Fg=!1;this.volume=1;this.ku=function(a){if(!e.Me&&!e.hf){var b=this;b||(b=a.target);b===e.po&&(e.pk=!0,e.jd=!0,Q=e.tag,F.trigger(kd.prototype.F.co,I))}};this.po=null;this.rk=1===M&&!this.Bf||2===M;this.Pk=1;this.startTime=
this.rk?F.dd.Va:F.Eh.Va;this.vc=this.Sc=null;this.Ig=!1;this.uc=null;this.zy=this.yy=this.xy=this.wy=this.By=this.Ay=0;this.X=null;var f=!1;1!==this.jb||0!==this.buffer.jb||this.buffer.nz||(this.jb=0);switch(this.jb){case 0:this.Bf?(this.X=a.zb,f=!a.qo,a.qo=!0):(this.X=new Audio,this.X.crossOrigin="anonymous",this.X.autoplay=!1,this.X.src=a.zb.src,f=!0);f&&this.X.addEventListener("ended",function(){Q=e.tag;e.jd=!0;F.trigger(kd.prototype.F.co,I)});break;case 1:this.Sc=d();this.Sc.connect(b(c));1===
this.buffer.jb?a.zb&&(this.X=G.createBufferSource(),this.X.buffer=a.zb,this.X.connect(this.Sc)):(this.X=this.buffer.zb,this.buffer.mu.connect(this.Sc),this.buffer.qo||(this.buffer.qo=!0,this.buffer.zb.addEventListener("ended",function(){Q=e.tag;e.jd=!0;F.trigger(kd.prototype.F.co,I)})));break;case 2:this.X=new window.Media(da+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.pk=!0,e.jd=!0,Q=e.tag,F.trigger(kd.prototype.F.co,I))});break;case 3:this.X=!0}}function D(a,b){ha.hasOwnProperty(a)?
ha[a].push(b):ha[a]=[b];var c,d,e,f,g=G.destination;if(ha.hasOwnProperty(a)&&(e=ha[a],e.length))for(g=e[0].Ze(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.vf(G.destination):f.vf(e[c+1].Ze());H(zb);if(a.length)for(c=0,d=T.length;c<d;c++)e=T[c],Rb(a,e.tag)&&zb.push(e);else S&&!S.hj()&&(H(zb),zb[0]=S);c=0;for(d=zb.length;c<d;c++)zb[c].$F(g);Ma&&Ob===a&&(Ma.disconnect(),Ma.connect(g))}function C(){}function y(){}var w=kd.prototype;w.wa=function(a){this.Za=a;this.i=a.i};w.wa.prototype.ma=function(){};var F=
null,I=null,Q="",da="",R=0,G=null,Z=[],T=[],S=null,J=!1,M=0,O=!1,K=1,N=0,U=0,ga=!1,P=1,qa=1,ma=10,Ya=1E4,Sd=1,Ma=null,Ob="",xa=!1,Ab=[],xb=!1,ha={},ed="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");m.prototype.vf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};m.prototype.remove=function(){this.nb.disconnect();this.Dc.disconnect();this.Pa.disconnect();this.Na.disconnect()};m.prototype.Ze=function(){return this.nb};l.prototype.vf=
function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};l.prototype.remove=function(){this.nb.disconnect();this.Xm.disconnect();this.xf.disconnect();this.So.disconnect();this.Pa.disconnect();this.Na.disconnect()};l.prototype.Ze=function(){return this.nb};k.prototype.vf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};k.prototype.remove=function(){this.nb.disconnect();this.Wi.disconnect();this.Pa.disconnect();this.Na.disconnect()};
k.prototype.Ze=function(){return this.nb};n.prototype.vf=function(a){this.Na.disconnect();this.Na.connect(a);this.Pa.disconnect();this.Pa.connect(a)};n.prototype.remove=function(){this.nb.disconnect();this.xf.disconnect();this.gd.disconnect();this.Se.disconnect();this.Na.disconnect();this.Pa.disconnect();this.ep.disconnect()};n.prototype.Ze=function(){return this.nb};p.prototype.vf=function(a){this.Na.disconnect();this.Na.connect(a);this.Pa.disconnect();this.Pa.connect(a)};p.prototype.remove=function(){this.nb.disconnect();
this.Dc.disconnect();this.gd.disconnect();this.Se.disconnect();this.Na.disconnect();this.Pa.disconnect()};p.prototype.Ze=function(){return this.nb};r.prototype.vf=function(a){this.xb.disconnect();this.xb.connect(a)};r.prototype.remove=function(){this.xb.disconnect()};r.prototype.Ze=function(){return this.xb};v.prototype.vf=function(a){this.xb.disconnect();this.xb.connect(a)};v.prototype.remove=function(){this.gd.disconnect();this.Se.disconnect();this.xb.disconnect()};v.prototype.Ze=function(){return this.xb};
t.prototype.vf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};t.prototype.remove=function(){this.gd.disconnect();this.tn.disconnect();this.nb.disconnect();this.Pa.disconnect();this.Na.disconnect()};t.prototype.Ze=function(){return this.nb};q.prototype.oG=function(a,b){.01>a&&(a=.01);this.Bq.gain.value=a;this.Aq.gain.value=Math.pow(1/a,.6)*b};q.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));
return b*c};q.prototype.jE=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Qo[32768+f]=e,this.Qo[32768-f-1]=-e};q.prototype.vf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};q.prototype.remove=function(){this.nb.disconnect();this.Bq.disconnect();this.ur.disconnect();this.Aq.disconnect();this.Pa.disconnect();this.Na.disconnect()};q.prototype.Ze=function(){return this.nb};u.prototype.vf=
function(a){this.xb.disconnect();this.xb.connect(a)};u.prototype.remove=function(){this.xb.disconnect()};u.prototype.Ze=function(){return this.xb};x.prototype.mb=function(){this.xb.getFloatFrequencyData(this.gE);this.xb.getByteTimeDomainData(this.hz);for(var a=this.xb.fftSize,b=0,d=this.dn=0,e=0;b<a;b++)e=(this.hz[b]-128)/128,0>e&&(e=-e),this.dn<e&&(this.dn=e),d+=e*e;this.dn=c(this.dn);c(Math.sqrt(d/a))};x.prototype.vf=function(a){this.xb.disconnect();this.xb.connect(a)};x.prototype.remove=function(){this.xb.disconnect()};
x.prototype.Ze=function(){return this.xb};z.prototype.Zk=function(a){if(this.Ma=a)this.Op=this.Ma.x,this.Pp=this.Ma.y;H(this.Di)};z.prototype.zp=function(){return!!this.Ma};z.prototype.mb=function(a){this.Ma&&0!==a&&(this.au=Wa(this.Op,this.Pp,this.Ma.x,this.Ma.y),a=bb(this.Op,this.Pp,this.Ma.x,this.Ma.y)/a,4>this.Di.length||this.Di.shift(),this.Di.push(a),this.Op=this.Ma.x,this.Pp=this.Ma.y)};z.prototype.cm=function(){if(!this.Di.length)return 0;var a,b,c=0;a=0;for(b=this.Di.length;a<b;a++)c+=this.Di[a];
return c/this.Di.length};z.prototype.Ts=function(){return Math.cos(this.au)*this.cm()};z.prototype.Us=function(){return Math.sin(this.au)*this.cm()};var dc=!1;E.prototype.aG=function(){var a,b,c,d;c=a=0;for(b=T.length;a<b;++a)d=T[a],T[c]=d,d.buffer===this?d.stop():++c;T.length=c;this.Wg=this.zb=null};E.prototype.yw=function(){if(!this.zb&&this.Wg){var a=this;if(G.decodeAudioData)G.decodeAudioData(this.Wg,function(b){a.zb=b;a.Wg=null;var c,d,e;if(la(a.xq)||O)la(a.Jo)||(c=a.Jo.Wi,c.normalize=a.iy,c.buffer=
b);else if(a.Ej.length){c=0;for(d=a.Ej.length;c<d;c++){b=a.Ej[c];e=new B(a,b.Xu);e.Nu(!0);if("undefined"!==typeof b.ky&&(b.Ma=F.Xf(b.ky),!b.Ma))continue;if(b.Ma){var f=ab(b.Ma.x,b.Ma.y,-b.Ma.O.Vb(),N,U,!0),g=ab(b.Ma.x,b.Ma.y,-b.Ma.O.Vb(),N,U,!1);e.Pq(f,g,Qa(b.Ma.M-b.Ma.O.Vb()),b.Ap,b.fq,b.jq);e.Zk(b.Ma)}else e.Pq(b.x,b.y,b.T,b.Ap,b.fq,b.jq);e.play(a.St,a.pv,a.Kq);a.tq&&e.pause();T.push(e)}H(a.Ej)}else e=new B(a,a.xq||""),e.play(a.St,a.pv,a.Kq),a.tq&&e.pause(),T.push(e)},function(){a.cp=!0});else if(this.zb=
G.createBuffer(this.Wg,!1),this.Wg=null,la(this.xq)||O)la(this.Jo)||(b=this.Jo.Wi,b.normalize=this.iy,b.buffer=this.zb);else{var b=new B(this,this.xq);b.play(this.St,this.pv,this.Kq);this.tq&&b.pause();T.push(b)}}};E.prototype.qx=function(){switch(this.jb){case 0:var a=4<=this.zb.readyState;a&&(this.qv=!0);return a||this.qv;case 1:return!!this.Wg||!!this.zb;case 2:return!0;case 3:return!0}return!1};E.prototype.fF=function(){switch(this.jb){case 0:return this.qx();case 1:return!!this.zb;case 2:return!0;
case 3:return!0}return!1};E.prototype.UE=function(){switch(this.jb){case 0:return!!this.zb.error;case 1:return this.cp}return!1};B.prototype.hj=function(){switch(this.jb){case 0:return this.X.ended;case 1:return 1===this.buffer.jb?!this.Bg&&!this.jd&&this.X.loop||this.Me?!1:this.pk:this.X.ended;case 2:return this.pk;case 3:!0}return!0};B.prototype.IC=function(){return this.Bg||this.jd?!0:this.hj()};B.prototype.Nu=function(a){1===R&&(!this.Ig&&a?this.Sc&&(this.vc||(this.vc=G.createPanner(),this.vc.panningModel=
"number"===typeof this.vc.panningModel?P:["equalpower","HRTF","soundfield"][P],this.vc.distanceModel="number"===typeof this.vc.distanceModel?qa:["linear","inverse","exponential"][qa],this.vc.refDistance=ma,this.vc.maxDistance=Ya,this.vc.rolloffFactor=Sd),this.Sc.disconnect(),this.Sc.connect(this.vc),this.vc.connect(b(this.tag)),this.Ig=!0):this.Ig&&!a&&this.Sc&&(this.vc.disconnect(),this.Sc.disconnect(),this.Sc.connect(b(this.tag)),this.Ig=!1))};B.prototype.Pq=function(a,b,c,d,e,f){this.Ig&&1===R&&
(this.vc.setPosition(a,b,0),this.vc.setOrientation(Math.cos(Pa(c)),Math.sin(Pa(c)),0),this.vc.coneInnerAngle=d,this.vc.coneOuterAngle=e,this.vc.coneOuterGain=f,this.Ay=a,this.By=b,this.wy=c,this.xy=d,this.yy=e,this.zy=f)};B.prototype.Zk=function(a){this.Ig&&1===R&&(this.uc||(this.uc=new z),this.uc.Zk(a))};B.prototype.mb=function(a){if(this.Ig&&1===R&&this.uc&&this.uc.zp()&&this.vm()){this.uc.mb(a);a=this.uc.Ma;var b=ab(a.x,a.y,-a.O.Vb(),N,U,!0),c=ab(a.x,a.y,-a.O.Vb(),N,U,!1);this.vc.setPosition(b,
c,0);b=0;"undefined"!==typeof this.uc.Ma.M&&(b=a.M-a.O.Vb(),this.vc.setOrientation(Math.cos(b),Math.sin(b),0));b=ab(this.uc.Ts(),this.uc.Us(),-a.O.Vb(),0,0,!0);c=ab(this.uc.Ts(),this.uc.Us(),-a.O.Vb(),0,0,!1);this.vc.setVelocity(b,c,0)}};B.prototype.play=function(a,b,c,d){var g=this.X;this.Fg=a;this.volume=b;c=c||0;d=d||0;switch(this.jb){case 0:1!==g.playbackRate&&(g.playbackRate=1);g.volume!==b*K&&(g.volume=b*K);g.loop!==a&&(g.loop=a);g.muted&&(g.muted=!1);if(g.currentTime!==c)try{g.currentTime=
c}catch(h){}if(this.Bf&&xa&&!F.Sb)Ab.push(this);else try{this.X.play()}catch(k){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",k)}break;case 1:this.muted=!1;this.Pk=1;if(1===this.buffer.jb)this.Sc.gain.value=b*K,this.Bg||(this.X=G.createBufferSource(),this.X.buffer=this.buffer.zb,this.X.connect(this.Sc)),this.X.onended=this.ku,this.po=this.X,this.X.loop=a,this.pk=!1,0===c?e(this.X,d):f(this.X,c,this.ej(),d);else{1!==g.playbackRate&&(g.playbackRate=
1);g.loop!==a&&(g.loop=a);g.volume=b*K;if(g.currentTime!==c)try{g.currentTime=c}catch(l){}this.Bf&&xa&&!F.Sb?Ab.push(this):g.play()}break;case 2:(!this.Bg&&this.jd||0!==c)&&g.seekTo(c);g.play();this.pk=!1;break;case 3:F.Kd?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.rk?F.dd.Va:F.Eh.Va)-c;this.Me=this.jd=this.Bg=!1};B.prototype.stop=function(){switch(this.jb){case 0:this.X.paused||this.X.pause();break;case 1:1===this.buffer.jb?
h(this.X):this.X.paused||this.X.pause();break;case 2:this.X.stop();break;case 3:F.Kd&&AppMobi.context.stopSound(this.src)}this.jd=!0;this.Me=!1};B.prototype.pause=function(){if(!(this.Bg||this.jd||this.hj()||this.Me)){switch(this.jb){case 0:this.X.paused||this.X.pause();break;case 1:1===this.buffer.jb?(this.Be=this.Qs(!0),this.Fg&&(this.Be=this.Be%this.ej()),this.Me=!0,h(this.X)):this.X.paused||this.X.pause();break;case 2:this.X.pause();break;case 3:F.Kd&&AppMobi.context.stopSound(this.src)}this.Me=
!0}};B.prototype.eG=function(){if(!(this.Bg||this.jd||this.hj())&&this.Me){switch(this.jb){case 0:this.X.play();break;case 1:1===this.buffer.jb?(this.X=G.createBufferSource(),this.X.buffer=this.buffer.zb,this.X.connect(this.Sc),this.X.onended=this.ku,this.po=this.X,this.X.loop=this.Fg,this.Sc.gain.value=K*this.volume*this.Pk,this.or(),this.startTime=(this.rk?F.dd.Va:F.Eh.Va)-this.Be/(this.playbackRate||.001),f(this.X,this.Be,this.ej())):this.X.play();break;case 2:this.X.play();break;case 3:F.Kd&&
AppMobi.context.resumeSound(this.src)}this.Me=!1}};B.prototype.seek=function(a){if(!(this.Bg||this.jd||this.hj()))switch(this.jb){case 0:try{this.X.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.jb)this.Me?this.Be=a:(this.pause(),this.Be=a,this.eG());else try{this.X.currentTime=a}catch(c){}break;case 3:F.Kd&&AppMobi.context.seekSound(this.src,a)}};B.prototype.$F=function(a){1===this.jb&&(this.Ig?(this.vc.disconnect(),this.vc.connect(a)):(this.Sc.disconnect(),this.Sc.connect(a)))};B.prototype.ej=
function(){var a=0;switch(this.jb){case 0:"undefined"!==typeof this.X.duration&&(a=this.X.duration);break;case 1:a=this.buffer.zb.duration;break;case 2:a=this.X.getDuration();break;case 3:F.Kd&&(a=AppMobi.context.getDurationSound(this.src))}return a};B.prototype.Qs=function(a){var b=this.ej(),c=0;switch(this.jb){case 0:"undefined"!==typeof this.X.currentTime&&(c=this.X.currentTime);break;case 1:if(1===this.buffer.jb){if(this.Me)return this.Be;c=(this.rk?F.dd.Va:F.Eh.Va)-this.startTime}else"undefined"!==
typeof this.X.currentTime&&(c=this.X.currentTime);break;case 3:F.Kd&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Fg&&c>b&&(c=b);return c};B.prototype.vm=function(){return!this.Me&&!this.Bg&&!this.jd&&!this.hj()};B.prototype.tG=function(){return!this.Bg&&!this.jd&&!this.hj()};B.prototype.GG=function(){var a=this.volume*K;isFinite(a)||(a=0);switch(this.jb){case 0:"undefined"!==typeof this.X.volume&&this.X.volume!==a&&(this.X.volume=a);break;case 1:1===this.buffer.jb?
this.Sc.gain.value=a*this.Pk:"undefined"!==typeof this.X.volume&&this.X.volume!==a&&(this.X.volume=a)}};B.prototype.Xo=function(a){switch(this.jb){case 0:this.X.muted!==!!a&&(this.X.muted=!!a);break;case 1:1===this.buffer.jb?(this.Pk=a?0:1,this.Sc.gain.value=K*this.volume*this.Pk):this.X.muted!==!!a&&(this.X.muted=!!a)}};B.prototype.pG=function(){this.uk=!0;this.Xo(this.uk||this.xm)};B.prototype.az=function(a){this.xm=!!a;this.Xo(this.uk||this.xm)};B.prototype.or=function(){var a=this.playbackRate;
this.rk&&(a*=F.hg);switch(this.jb){case 0:this.X.playbackRate!==a&&(this.X.playbackRate=a);break;case 1:1===this.buffer.jb?this.X.playbackRate.value!==a&&(this.X.playbackRate.value=a):this.X.playbackRate!==a&&(this.X.playbackRate=a)}};B.prototype.rG=function(a){switch(this.jb){case 0:a?this.vm()?(this.hf=!0,this.X.pause()):this.hf=!1:this.hf&&(this.X.play(),this.hf=!1);break;case 1:a?this.vm()?(this.hf=!0,1===this.buffer.jb?(this.Be=this.Qs(!0),this.Fg&&(this.Be=this.Be%this.ej()),h(this.X)):this.X.pause()):
this.hf=!1:this.hf&&(1===this.buffer.jb?(this.X=G.createBufferSource(),this.X.buffer=this.buffer.zb,this.X.connect(this.Sc),this.X.onended=this.ku,this.po=this.X,this.X.loop=this.Fg,this.Sc.gain.value=K*this.volume*this.Pk,this.or(),this.startTime=(this.rk?F.dd.Va:F.Eh.Va)-this.Be/(this.playbackRate||.001),f(this.X,this.Be,this.ej())):this.X.play(),this.hf=!1);break;case 2:a?this.vm()?(this.X.pause(),this.hf=!0):this.hf=!1:this.hf&&(this.hf=!1,this.X.play())}};w.ta=function(a){function b(){if(!ga&&
G.createBuffer){var a=G.createBuffer(1,220,22050),c=G.createBufferSource();c.buffer=a;c.connect(G.destination);e(c)}}this.type=a;F=this.i=a.i;I=this;this.ae=null;this.Pm=-600;this.i.wm&&(xb=!0);!(this.i.xk||this.i.Hp&&(this.i.nm||this.i.Ip))||this.i.pm||this.i.eb||this.i.lt||xb||(xa=!0);G=null;"undefined"!==typeof AudioContext?(R=1,G=new AudioContext):"undefined"!==typeof webkitAudioContext&&(R=1,G=new webkitAudioContext);this.i.xk&&G&&(G.close&&G.close(),"undefined"!==typeof AudioContext?G=new AudioContext:
"undefined"!==typeof webkitAudioContext&&(G=new webkitAudioContext));xa?document.addEventListener("touchend",function(){!dc&&G&&(b(),dc=!0);var a,c,d;if(xa){if(!O)for(a=0,c=Ab.length;a<c;++a)d=Ab[a],d.jd||d.Me||d.X.play();H(Ab)}},!0):xb&&document.addEventListener("touchend",function(){!dc&&G&&(b(),dc=!0)},!0);1!==R&&(this.i.Le&&"undefined"!==typeof window.Media?R=2:this.i.ox&&(R=3));2===R&&(da=location.href,a=da.lastIndexOf("/"),-1<a&&(da=da.substr(0,a+1)),da=da.replace("file://",""));if(this.i.hF&&
this.i.iF&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.i.Ee(this);else{if(this.i.Kd)J=this.i.Hp;else try{J=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){J=!1}this.i.Gi(this)}};var Ga=w.ta.prototype;Ga.ma=function(){this.i.Yj=this;M=this.U[0];this.wh=this.U[1];this.KF=0!==this.U[2];this.gy=0;P=this.U[3];qa=this.U[4];this.Pm=-this.U[5];ma=this.U[6];Ya=this.U[7];Sd=this.U[8];
this.ae=new z;var a=this.i.Ha||this.i.width,c=this.i.Ga||this.i.height;1===R&&("undefined"!==typeof G.listener.dopplerFactor&&(G.listener.dopplerFactor=0),G.listener.setPosition(a/2,c/2,this.Pm),G.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){Ma&&Ma.disconnect();Ob=c.toLowerCase();Ma=G.createMediaStreamSource(a);Ma.connect(b(Ob))});this.i.Wr(function(a){I.GF(a)});var d=this;this.i.Vj(function(a){d.Cj(a)})};Ga.Cj=function(a){var b,c,d;b=0;for(c=T.length;b<c;b++)d=T[b],
d.uc&&d.uc.Ma===a&&(d.uc.Ma=null,d.Ig&&d.vm()&&d.Fg&&d.stop());this.ae.Ma===a&&(this.ae.Ma=null)};Ga.Tb=function(){var a={silent:O,masterVolume:K,listenerZ:this.Pm,listenerUid:this.ae.zp()?this.ae.Ma.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,h;c=0;for(d=T.length;c<d;c++)e=T[c],!e.tG()||3===this.wh||e.Bf&&1===this.wh||!e.Bf&&2===this.wh||(f=e.Qs(),e.Fg&&(f=f%e.ej()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Bf,playbackTime:f,volume:e.volume,looping:e.Fg,muted:e.uk,playbackRate:e.playbackRate,
paused:e.Me,resume_position:e.Be},e.Ig&&(f.pan={},h=f.pan,e.uc&&e.uc.zp()?h.objUid=e.uc.Ma.uid:(h.x=e.Ay,h.y=e.By,h.a=e.wy),h.ia=e.xy,h.oa=e.yy,h.og=e.zy),b.push(f));b=a.effects;for(g in ha)if(ha.hasOwnProperty(g)){e=[];c=0;for(d=ha[g].length;c<d;c++)e.push({type:ha[g][c].type,params:ha[g][c].Cb});b[g]=e}return a};var Pb=[];Ga.Yb=function(a){var b=a.silent;K=a.masterVolume;this.Pm=a.listenerZ;this.ae.Zk(null);var c=a.listenerUid;-1!==c&&(this.ae.Vp=c,Pb.push(this.ae));var c=a.playing,d,e,f,g,h,E,
B,C,y,w,F;if(3!==this.wh)for(d=0,e=T.length;d<e;d++)y=T[d],y.Bf&&1===this.wh||(y.Bf||2!==this.wh)&&y.stop();for(h in ha)if(ha.hasOwnProperty(h))for(d=0,e=ha[h].length;d<e;d++)ha[h][d].remove();mb(ha);for(h in a.effects)if(a.effects.hasOwnProperty(h))for(E=a.effects[h],d=0,e=E.length;d<e;d++)switch(f=E[d].type,w=E[d].params,f){case "filter":D(h,new m(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "delay":D(h,new l(w[0],w[1],w[2]));break;case "convolve":f=w[2];y=this.Xl(f,!1);y.zb?f=new k(y.zb,w[0],w[1],
f):(f=new k(null,w[0],w[1],f),y.iy=w[0],y.Jo=f);D(h,f);break;case "flanger":D(h,new n(w[0],w[1],w[2],w[3],w[4]));break;case "phaser":D(h,new p(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "gain":D(h,new r(w[0]));break;case "tremolo":D(h,new v(w[0],w[1]));break;case "ringmod":D(h,new t(w[0],w[1]));break;case "distortion":D(h,new q(w[0],w[1],w[2],w[3],w[4]));break;case "compressor":D(h,new u(w[0],w[1],w[2],w[3],w[4]));break;case "analyser":D(h,new x(w[0],w[1]))}d=0;for(e=c.length;d<e;d++)3===this.wh||
(a=c[d],f=a.buffersrc,g=a.is_music,h=a.tag,E=a.playbackTime,B=a.looping,C=a.volume,F=(w=a.pan)&&w.hasOwnProperty("objUid")?w.objUid:-1,g&&1===this.wh)||!g&&2===this.wh||((y=this.Sw(f,h,g,B,C))?(y.Be=a.resume_position,y.Nu(!!w),y.play(B,C,E),y.or(),y.GG(),y.Xo(y.uk||y.xm),a.paused&&y.pause(),a.muted&&y.pG(),y.Xo(y.uk||y.xm),w&&(-1!==F?(y.uc=y.uc||new z,y.uc.Vp=F,Pb.push(y.uc)):y.Pq(w.x,w.y,w.a,w.ia,w.oa,w.og))):(y=this.Xl(f,g),y.Kq=E,y.tq=a.paused,w&&(-1!==F?y.Ej.push({ky:F,Ap:w.ia,fq:w.oa,jq:w.og,
Xu:h}):y.Ej.push({x:w.x,y:w.y,T:w.a,Ap:w.ia,fq:w.oa,jq:w.og,Xu:h}))));if(b&&!O){d=0;for(e=T.length;d<e;d++)T[d].az(!0);O=!0}else if(!b&&O){d=0;for(e=T.length;d<e;d++)T[d].az(!1);O=!1}};Ga.qf=function(){var a,b,c,d;a=0;for(b=Pb.length;a<b;a++)c=Pb[a],d=this.i.Xf(c.Vp),c.Zk(d),c.Vp=-1,d&&(N=d.x,U=d.y);H(Pb)};Ga.GF=function(a){if(!this.KF){!a&&G&&G.resume&&(G.resume(),ga=!1);var b,c;b=0;for(c=T.length;b<c;b++)T[b].rG(a);a&&G&&G.suspend&&(G.suspend(),ga=!0)}};Ga.mb=function(){var a=this.i.Xa,b,c,d;b=
0;for(c=T.length;b<c;b++)d=T[b],d.mb(a),0!==M&&d.or();var e,f;for(e in ha)if(ha.hasOwnProperty(e))for(d=ha[e],b=0,c=d.length;b<c;b++)f=d[b],f.mb&&f.mb();1===R&&this.ae.zp()&&(this.ae.mb(a),N=this.ae.Ma.x,U=this.ae.Ma.y,G.listener.setPosition(this.ae.Ma.x,this.ae.Ma.y,this.Pm),G.listener.setVelocity(this.ae.Ts(),this.ae.Us(),0))};var Qb=[];Ga.qG=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&J||!f&&!J)Qb.push({filename:e,
size:d,Ma:null}),g+=d;return g};Ga.xG=function(){var a,b,c,d;a=0;for(b=Qb.length;a<b;++a)c=Qb[a],d=this.i.Ds+c.filename,c.Ma=this.Xl(d,!1)};Ga.wE=function(){var a=0,b,c,d;b=0;for(c=Qb.length;b<c;++b)d=Qb[b],d.Ma.fF()||d.Ma.UE()||this.i.eb||this.i.Ip?a+=d.size:d.Ma.qx()&&(a+=Math.floor(d.size/2));return a};Ga.bG=function(){var a,b,c,d;c=a=0;for(b=Z.length;a<b;++a)d=Z[a],Z[c]=d,d.Bf?d.aG():++c;Z.length=c};Ga.Xl=function(a,b){var c,d,e,f=null;c=0;for(d=Z.length;c<d;c++)if(e=Z[c],e.src===a){f=e;break}f||
(xb&&b&&this.bG(),f=new E(a,b),Z.push(f));return f};Ga.Sw=function(a,b,c,d,e){var f,g,h;f=0;for(g=T.length;f<g;f++)if(h=T[f],h.src===a&&(h.IC()||c))return h.tag=b,h;a=this.Xl(a,c);if(!a.zb)return"<preload>"!==b&&(a.xq=b,a.St=d,a.pv=e),null;h=new B(a,b);T.push(h);return h};var zb=[];C.prototype.co=function(a){return Rb(Q,a)};w.F=new C;y.prototype.LB=function(b,c,d,e,f,g,h,k){if(!O&&e&&(e=e.Os())){d=a(d);var l=b[1];b=this.i.Ds+b[0]+(J?".ogg":".m4a");(S=this.Sw(b,k,l,0!==c,d))?(S.Nu(!0),k=ab(e.x,e.y,
-e.O.Vb(),N,U,!0),b=ab(e.x,e.y,-e.O.Vb(),N,U,!1),S.Pq(k,b,Qa(e.M-e.O.Vb()),f,g,a(h)),S.Zk(e),S.play(0!==c,d,0,this.gy),this.gy=0):this.Xl(b,l).Ej.push({Ma:e,Ap:f,fq:g,jq:a(h),Xu:k})}};w.fa=new y;w.Ea=new function(){}})();function ld(a){this.i=a}
(function(){function a(){}var c=ld.prototype;c.wa=function(a){this.Za=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a){this.type=a;this.i=a.i};c.ta.prototype.ma=function(){var a=this;window.addEventListener("resize",function(){a.i.trigger(ld.prototype.F.qB,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.i.trigger(ld.prototype.F.jB,a)}),window.addEventListener("offline",function(){a.i.trigger(ld.prototype.F.iB,a)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){a.i.Jk=1;a.i.trigger(ld.prototype.F.Kr,a)}),window.applicationCache.addEventListener("progress",function(c){a.i.Jk=c.loaded/c.total||0}));this.i.Kd||(document.addEventListener("appMobi.device.update.available",function(){a.i.trigger(ld.prototype.F.Kr,a)}),document.addEventListener("backbutton",function(){a.i.trigger(ld.prototype.F.ao,a)}),document.addEventListener("menubutton",function(){a.i.trigger(ld.prototype.F.Lv,a)}),document.addEventListener("searchbutton",
function(){a.i.trigger(ld.prototype.F.sB,a)}),document.addEventListener("tizenhwkey",function(c){var g;switch(c.keyName){case "back":g=a.i.trigger(ld.prototype.F.ao,a);!g&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(g=a.i.trigger(ld.prototype.F.Lv,a))||c.preventDefault()}}));this.i.ut&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(c){a.i.trigger(ld.prototype.F.ao,a)&&(c.yp=
!0)}):this.i.tt&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.i.trigger(ld.prototype.F.ao,a)});this.i.Wr(function(c){c?a.i.trigger(ld.prototype.F.kB,a):a.i.trigger(ld.prototype.F.lB,a)})};a.prototype.jB=function(){return!0};a.prototype.iB=function(){return!0};a.prototype.vA=function(){return"undefined"===typeof window.applicationCache?!1:window.applicationCache.status===window.applicationCache.DOWNLOADING};a.prototype.Kr=function(){return!0};a.prototype.lB=function(){return!0};
a.prototype.kB=function(){return!0};a.prototype.qB=function(){return!0};a.prototype.ao=function(){return!0};a.prototype.Lv=function(){return!0};a.prototype.sB=function(){return!0};c.F=new a;c.fa=new function(){};c.Ea=new function(){}})();function md(a){this.i=a}
(function(){function a(){}function c(){}var b=md.prototype;b.wa=function(a){this.Za=a;this.i=a.i};b.wa.prototype.ma=function(){};b.ta=function(a){this.type=a;this.i=a.i};var d=b.ta.prototype;d.ma=function(){this.i.eb?fa("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.qk=1===this.U[0],this.bf=document.createElement("input"),this.Z=this.qk?document.createElement("label"):this.bf,this.Cm=null,this.bf.type=this.qk?"checkbox":"button",this.bf.id=this.U[6],
jQuery(this.Z).appendTo(this.i.$j?this.i.$j:"body"),this.qk?(jQuery(this.bf).appendTo(this.Z),this.Cm=document.createTextNode(this.U[1]),jQuery(this.Z).append(this.Cm),this.bf.checked=0!==this.U[7],jQuery(this.Z).css("font-family","sans-serif"),jQuery(this.Z).css("display","inline-block"),jQuery(this.Z).css("color","black")):this.bf.value=this.U[1],this.Z.title=this.U[2],this.bf.disabled=0===this.U[4],this.cs=0!==this.U[5],this.qe=!1,0===this.U[3]&&(jQuery(this.Z).hide(),this.visible=!1,this.qe=!0),
this.bf.onclick=function(a){return function(b){b.stopPropagation();a.i.Sb=!0;a.i.trigger(md.prototype.F.bo,a);a.i.Sb=!1}}(this),this.Z.addEventListener("touchstart",function(a){a.stopPropagation()},!1),this.Z.addEventListener("touchmove",function(a){a.stopPropagation()},!1),this.Z.addEventListener("touchend",function(a){a.stopPropagation()},!1),jQuery(this.Z).mousedown(function(a){a.stopPropagation()}),jQuery(this.Z).mouseup(function(a){a.stopPropagation()}),jQuery(this.Z).keydown(function(a){a.stopPropagation()}),
jQuery(this.Z).keyup(function(a){a.stopPropagation()}),this.Im=this.Jm=this.Dm=this.Gm=this.Hm=this.Em=0,this.On(!0),this.i.Gi(this))};d.Tb=function(){var a={tooltip:this.Z.title,disabled:!!this.bf.disabled};this.qk?(a.checked=!!this.bf.checked,a.text=this.Cm.nodeValue):a.text=this.Z.value;return a};d.Yb=function(a){this.Z.title=a.tooltip;this.bf.disabled=a.disabled;this.qk?(this.bf.checked=a.checked,this.Cm.nodeValue=a.text):this.Z.value=a.text};d.Re=function(){this.i.eb||(jQuery(this.Z).remove(),
this.Z=null)};d.mb=function(){this.On()};d.On=function(a){if(!this.i.eb){var b=this.O.Bb(this.x,this.y,!0),c=this.O.Bb(this.x,this.y,!1),d=this.O.Bb(this.x+this.width,this.y+this.height,!0),m=this.O.Bb(this.x+this.width,this.y+this.height,!1),l=this.i.width/this.i.devicePixelRatio,k=this.i.height/this.i.devicePixelRatio;!this.visible||!this.O.visible||0>=d||0>=m||b>=l||c>=k?(this.qe||jQuery(this.Z).hide(),this.qe=!0):(1>b&&(b=1),1>c&&(c=1),d>=l&&(d=l-1),m>=k&&(m=k-1),l=window.innerWidth,k=window.innerHeight,
a||this.Em!==b||this.Hm!==c||this.Gm!==d||this.Dm!==m||this.Jm!==l||this.Im!==k?(this.Em=b,this.Hm=c,this.Gm=d,this.Dm=m,this.Jm=l,this.Im=k,this.qe&&(jQuery(this.Z).show(),this.qe=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,l=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.Z).css("position","absolute"),jQuery(this.Z).offset({left:a,top:l}),jQuery(this.Z).width(Math.round(d-b)),jQuery(this.Z).height(Math.round(m-c)),this.cs&&jQuery(this.Z).css("font-size",this.O.Jd(!0)/this.i.devicePixelRatio-
.2+"em")):this.qe&&(jQuery(this.Z).show(),this.qe=!1))}};d.Yd=function(){};d.Bc=function(){};a.prototype.bo=function(){return!0};b.F=new a;c.prototype.Mr=function(a){this.i.eb||(this.qk?this.Cm.nodeValue=a:this.Z.value=a)};c.prototype.ko=function(a){this.i.eb||(this.visible=0!==a)};c.prototype.Qf=function(a){this.i.eb||(this.bf.disabled=0===a)};b.fa=new c;b.Ea=new function(){}})();function jd(a){this.i=a}
(function(){function a(){this.name="";this.rn=0;this.Cb=[]}function c(){h++;h===f.length&&f.push(new a);return f[h]}function b(){}function d(){}function g(){}var e=jd.prototype;e.wa=function(a){this.Za=a;this.i=a.i};e.wa.prototype.ma=function(){};e.ta=function(a){this.type=a;this.i=a.i};var f=[],h=-1;e.ta.prototype.ma=function(){var a=this;window.c2_callFunction=function(b,d){var e,f,g,v=c();v.name=b.toLowerCase();v.rn=0;if(d)for(v.Cb.length=d.length,e=0,f=d.length;e<f;++e)g=d[e],v.Cb[e]="number"===
typeof g||"string"===typeof g?g:"boolean"===typeof g?g?1:0:0;else H(v.Cb);a.i.trigger(jd.prototype.F.fo,a,v.name);h--;return v.rn}};b.prototype.fo=function(a){var b=0>h?null:f[h];return b?Rb(a,b.name):!1};e.F=new b;d.prototype.CallFunction=function(a,b){var d=c();d.name=a.toLowerCase();d.rn=0;Ha(d.Cb,b);this.i.trigger(jd.prototype.F.fo,this,d.name);h--};e.fa=new d;g.prototype.HB=function(a,b){b=wa(b);var c=0>h?null:f[h];c?0<=b&&b<c.Cb.length?a.Rq(c.Cb[b]):a.Ub(0):a.Ub(0)};g.prototype.Zz=function(a,
b){var d=c();d.name=b.toLowerCase();d.rn=0;H(d.Cb);var e,f;e=2;for(f=arguments.length;e<f;e++)d.Cb.push(arguments[e]);this.i.trigger(jd.prototype.F.fo,this,d.name);h--;a.Rq(d.rn)};e.Ea=new g})();function nd(a){this.i=a}
(function(){function a(){}var c=nd.prototype;c.wa=function(a){this.Za=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a){this.type=a;this.i=a.i;this.Ak=Array(256);this.Pn=Array(256);this.Dh=0};var b=c.ta.prototype;b.ma=function(){var a=this;this.i.eb||(jQuery(document).keydown(function(b){a.eu(b)}),jQuery(document).keyup(function(b){a.fu(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.eu=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Ak[a.which])this.Pn[a.which]&&!b&&a.preventDefault();else{this.Ak[a.which]=!0;this.Dh=a.which;this.i.Sb=!0;this.i.trigger(nd.prototype.F.MA,this);var c=this.i.trigger(nd.prototype.F.Gv,this),h=this.i.trigger(nd.prototype.F.fB,this);this.i.Sb=!1;if(c||h)this.Pn[a.which]=!0,b||a.preventDefault()}};b.fu=function(a){this.Ak[a.which]=!1;this.Dh=a.which;this.i.Sb=!0;this.i.trigger(nd.prototype.F.yv,this);var b=this.i.trigger(nd.prototype.F.Gr,this),c=this.i.trigger(nd.prototype.F.Hv,this);this.i.Sb=
!1;if(b||c||this.Pn[a.which])this.Pn[a.which]=!0,a.preventDefault()};b.Dj=function(){var a;for(a=0;256>a;++a)if(this.Ak[a]){this.Ak[a]=!1;this.Dh=a;this.i.trigger(nd.prototype.F.yv,this);var b=this.i.trigger(nd.prototype.F.Gr,this),c=this.i.trigger(nd.prototype.F.Hv,this);if(b||c)this.Pn[a]=!0}};b.Tb=function(){return{triggerKey:this.Dh}};b.Yb=function(a){this.Dh=a.triggerKey};a.prototype.yA=function(a){return this.Ak[a]};a.prototype.Gv=function(a){return a===this.Dh};a.prototype.MA=function(){return!0};
a.prototype.yv=function(){return!0};a.prototype.Gr=function(a){return a===this.Dh};a.prototype.fB=function(a){return a===this.Dh};a.prototype.Hv=function(a){return a===this.Dh};c.F=new a;c.fa=new function(){};c.Ea=new function(){}})();var od=!1;
try{!function(){var a,c,b;!function(){var d={},g={};a=function(a,b,c){d[a]={TC:b,HC:c}};b=c=function(a){function f(b){if("."!==b.charAt(0))return b;b=b.split("/");for(var c=a.split("/").slice(0,-1),d=0,f=b.length;f>d;d++){var h=b[d];".."===h?c.pop():"."!==h&&c.push(h)}return c.join("/")}if(b.BH=d,g[a])return g[a];if(g[a]={},!d[a])throw Error("Could not find module "+a);for(var h,m=d[a],l=m.TC,m=m.HC,k=[],n=0,p=l.length;p>n;n++)"exports"===l[n]?k.push(h={}):k.push(c(f(l[n])));l=m.apply(this,k);return g[a]=
h||l}}();a("promise/all",["./utils","exports"],function(a,b){var c=a.isArray,f=a.isFunction;b.all=function(a){if(!c(a))throw new TypeError("You must pass an array to all.");return new this(function(b,c){function d(a){return function(c){g[a]=c;0===--r&&b(g)}}var e,g=[],r=a.length;0===r&&b([]);for(var v=0;v<a.length;v++)(e=a[v])&&f(e.then)?e.then(d(v),c):(g[v]=e,0===--r&&b(g))})}});a("promise/asap",["exports"],function(a){function b(){return function(){process.OH(h)}}function c(){var a=0,b=new k(h),
d=document.createTextNode("");return b.observe(d,{characterData:!0}),function(){d.data=a=++a%2}}function f(){return function(){n.setTimeout(h,1)}}function h(){for(var a=0;a<p.length;a++){var b=p[a];(0,b[0])(b[1])}p=[]}var m,l="undefined"!=typeof window?window:{},k=l.MutationObserver||l.WebKitMutationObserver,n="undefined"!=typeof global?global:void 0===this?window:this,p=[];m="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():k?c():f();a.zC=function(a,b){1===p.push([a,
b])&&m()}});a("promise/config",["exports"],function(a){var b={HH:!1};a.vw=b;a.LC=function(a,c){return 2!==arguments.length?b[a]:void(b[a]=c)}});a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){var f=a.Promise,h=b.isFunction;c.MF=function(){var a;a="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=
a}),h(b)}()||(a.Promise=f)}});a("promise/promise","./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "),function(a,b,c,f,h,m,l,k){function n(a){if(!y(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof n))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.oo=[];p(a,this)}function p(a,b){function c(a){u(b,
a)}function d(a){z(b,a)}try{a(c,d)}catch(e){d(e)}}function r(a,b,c,d){var e,f,h,g,k=y(c);if(k)try{e=c(d),h=!0}catch(l){g=!0,f=l}else e=d,h=!0;q(b,e)||(k&&h?u(b,e):g?z(b,f):a===I?u(b,e):a===Q&&z(b,e))}function v(a,b,c,d){a=a.oo;var e=a.length;a[e]=b;a[e+I]=c;a[e+Q]=d}function t(a,b){for(var c,d,e=a.oo,f=a.no,h=0;h<e.length;h+=3)c=e[h],d=e[h+b],r(b,c,d,f);a.oo=null}function q(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(C(b)&&(d=b.then,
y(d)))return d.call(b,function(d){return c?!0:(c=!0,void(b!==d?u(a,d):x(a,d)))},function(b){return c?!0:(c=!0,void z(a,b))}),!0}catch(e){return c?!0:(z(a,e),!0)}return!1}function u(a,b){a===b?x(a,b):q(a,b)||x(a,b)}function x(a,b){a.Ug===w&&(a.Ug=F,a.no=b,D.async(E,a))}function z(a,b){a.Ug===w&&(a.Ug=F,a.no=b,D.async(B,a))}function E(a){t(a,a.Ug=I)}function B(a){t(a,a.Ug=Q)}var D=a.vw,C=(a.LC,b.zF),y=b.isFunction;a=(b.now,c.all);f=f.race;h=h.resolve;m=m.reject;D.async=l.zC;var w=void 0,F=0,I=1,Q=2;
n.prototype={constructor:n,Ug:void 0,no:void 0,oo:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this.Ug){var e=arguments;D.async(function(){r(c.Ug,d,e[c.Ug-1],c.no)})}else v(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}};n.all=a;n.race=f;n.resolve=h;n.reject=m;k.Promise=n});a("promise/race",["./utils","exports"],function(a,b){var c=a.isArray;b.race=function(a){if(!c(a))throw new TypeError("You must pass an array to race.");return new this(function(b,
c){for(var d,e=0;e<a.length;e++)(d=a[e])&&"function"==typeof d.then?d.then(b,c):b(d)})}});a("promise/reject",["exports"],function(a){a.reject=function(a){return new this(function(b,c){c(a)})}});a("promise/resolve",["exports"],function(a){a.resolve=function(a){return a&&"object"==typeof a&&a.constructor===this?a:new this(function(b){b(a)})}});a("promise/utils",["exports"],function(a){function b(a){return"function"==typeof a}var c=Date.now||function(){return(new Date).getTime()};a.zF=function(a){return b(a)||
"object"==typeof a&&null!==a};a.isFunction=b;a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.now=c});c("promise/polyfill").MF()}();var zd=function(){return function(a){function c(d){if(b[d])return b[d].zg;var g=b[d]={zg:{},id:d,loaded:!1};return a[d].call(g.zg,g,g.zg,c),g.loaded=!0,g.zg}var b={};return c.j=a,c.I=b,c.k="",c(0)}([function(a,c,b){c.lo=!0;var d=function(a){function c(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,
c)})}}function d(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(r(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function h(a){for(var b in l)if(l.hasOwnProperty(b)&&l[b]===a)return!0;return!1}var m={},l={tl:"asyncStorage",ul:"localStorageWrapper",yl:"webSQLStorage"},k="clear getItem iterate key keys length removeItem setItem".split(" "),n={description:"",hk:[l.tl,l.yl,l.ul].slice(),name:"localforage",size:4980736,Ib:"keyvaluepairs",
version:1},p=function(a){var b={},c;try{var d=d||a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.B||a.msIndexedDB;c="undefined"!=typeof a.openDatabase&&a.navigator&&a.navigator.userAgent&&/Safari/.test(a.navigator.userAgent)&&!/Chrome/.test(a.navigator.userAgent)?!1:d&&"function"==typeof d.open&&"undefined"!=typeof a.IDBKeyRange}catch(e){c=!1}b[l.tl]=!!c;var f;try{f=a.openDatabase}catch(h){f=!1}b[l.yl]=!!f;var g;try{g=a.localStorage&&"setItem"in a.localStorage&&a.localStorage.setItem}catch(k){g=
!1}return b[l.ul]=!!g,b}(a),r=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return new (function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.tl=l.tl;this.ul=l.ul;this.yl=l.yl;this.Sr=d({},n);this.Pi=d({},this.Sr,b);this.$v=this.tg=null;this.Lh=!1;this.Gb=null;this.aw();this.Xy(this.Pi.hk)}return a.prototype.vw=function(a){if("object"==typeof a){if(this.Lh)return Error("Can't call config() after localforage has been used.");
for(var b in a)"storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),this.Pi[b]=a[b];return"driver"in a&&a.hk&&this.Xy(this.Pi.hk),!0}return"string"==typeof a?this.Pi[a]:this.Pi},a.prototype.hk=function(){return this.zl||null},a.prototype.Uw=function(a,c,d){var e=this,f=function(){if(h(a))switch(a){case e.tl:return new Promise(function(a){a(b(1))});case e.ul:return new Promise(function(a){a(b(2))});case e.yl:return new Promise(function(a){a(b(4))})}else if(m[a])return Promise.resolve(m[a]);return Promise.reject(Error("Driver not found."))}();
return f.then(c,d),f},a.prototype.ready=function(a){var b=this,c=b.tg.then(function(){return null===b.Lh&&(b.Lh=b.$v()),b.Lh});return c.then(a,a),c},a.prototype.Xy=function(a,b,c){function d(){f.Pi.hk=f.hk()}function e(a){return function(){function b(){for(;c<a.length;){var e=a[c];return c++,f.Gb=null,f.Lh=null,f.Uw(e).then(function(a){return f.pC(a),d(),f.Lh=f.Ur(f.Pi),f.Lh})["catch"](b)}d();return f.tg=Promise.reject(Error("No available storage method found.")),f.tg}var c=0;return b()}}var f=this;
r(a)||(a=[a]);var h=this.qC(a);return this.tg=(null!==this.tg?this.tg["catch"](function(){return Promise.resolve()}):Promise.resolve()).then(function(){var a=h[0];return f.Gb=null,f.Lh=null,f.Uw(a).then(function(a){f.zl=a.zl;d();f.aw();f.$v=e(h)})})["catch"](function(){d();return f.tg=Promise.reject(Error("No available storage method found.")),f.tg}),this.tg.then(b,c),this.tg},a.prototype.supports=function(a){return!!p[a]},a.prototype.pC=function(a){d(this,a)},a.prototype.qC=function(a){for(var b=
[],c=0,d=a.length;d>c;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype.aw=function(){for(var a=0;a<k.length;a++)c(this,k[a])},a.prototype.Jl=function(b){return new a(b)},a}())}("undefined"!=typeof window?window:self);c["default"]=d;a.zg=c["default"]},function(a,c){c.lo=!0;c["default"]=function(a){function c(d,e){d=d||[];e=e||{};try{return new Blob(d,e)}catch(f){if("TypeError"!==f.name)throw f;for(var h=new (a.BlobBuilder||a.j||a.k||a.WebKitBlobBuilder),g=0;g<d.length;g+=1)h.append(d[g]);
return h.getBlob(e.type)}}function g(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.withCredentials=!0;d.responseType="arraybuffer";d.onreadystatechange=function(){return 4===d.readyState?200===d.status?b({response:d.response,type:d.getResponseHeader("Content-Type")}):void c({status:d.status,response:d.response}):void 0};d.send()})}function e(a){return(new Promise(function(b,e){var f=c([""],{type:"image/png"}),h=a.transaction([w],"readwrite");h.objectStore(w).put(f,
"key");h.oncomplete=function(){var c=a.transaction([w],"readwrite").objectStore(w).get("key");c.onerror=e;c.onsuccess=function(a){var c=URL.createObjectURL(a.target.result);g(c).then(function(a){b(!(!a||"image/png"!==a.type))},function(){b(!1)}).then(function(){URL.revokeObjectURL(c)})}};h.onerror=h.onabort=e}))["catch"](function(){return!1})}function f(a){return"boolean"==typeof C?Promise.resolve(C):e(a).then(function(a){return C=a})}function h(a){return new Promise(function(b,c){var d=new FileReader;
d.onerror=c;d.onloadend=function(c){b({Zv:!0,data:btoa(c.target.result||""),type:a.type})};d.readAsBinaryString(a)})}function m(a){for(var b=atob(a.data),e=b.length,f=new ArrayBuffer(e),h=new Uint8Array(f),g=0;e>g;g++)h[g]=b.charCodeAt(g);return c([f],{type:a.type})}function l(a){var b=this,c=b.Tr().then(function(){var a=y[b.Gb.name];return a&&a.dk?a.dk:void 0});return c.then(a,a),c}function k(a){a=y[a.name];var b={};b.promise=new Promise(function(a){b.resolve=a});a.Aw.push(b);a.dk?a.dk=a.dk.then(function(){return b.promise}):
a.dk=b.promise}function n(c){function d(){return Promise.resolve()}var e=this,f={db:null};if(c)for(var h in c)f[h]=c[h];y||(y={});var g=y[f.name];g||(g={mp:[],db:null,dk:null,Aw:[]},y[f.name]=g);g.mp.push(e);e.Tr||(e.Tr=e.ready,e.ready=l);c=[];for(h=0;h<g.mp.length;h++){var k=g.mp[h];k!==e&&c.push(k.Tr()["catch"](d))}var m=g.mp.slice(0);return Promise.all(c).then(function(){return f.db=g.db,p(f,!1)}).then(function(c){f.db=c;var d;d=e.Sr.version;if(f.db){var h=!f.db.objectStoreNames.contains(f.Ib),
g=f.version>f.db.version;(f.version<f.db.version&&(f.version!==d&&a.console.warn('The database "'+f.name+"\" can't be downgraded from version "+f.db.version+" to version "+f.version+"."),f.version=f.db.version),g||h)?(h&&(d=f.db.version+1,d>f.version&&(f.version=d)),d=!0):d=!1}else d=!0;return d?p(f,!0):c}).then(function(a){f.db=g.db=a;e.Gb=f;for(a=0;a<m.length;a++){var b=m[a];b!==e&&(b.Gb.db=f.db,b.Gb.version=f.version)}})}function p(c,d){return new Promise(function(e,f){if(c.db){if(!d)return e(c.db);
k(c);c.db.close()}var h=[c.name];d&&h.push(c.version);var g=D.open.apply(D,h);d&&(g.onupgradeneeded=function(d){var e=g.result;try{e.createObjectStore(c.Ib),1>=d.oldVersion&&e.createObjectStore(w)}catch(f){if("ConstraintError"!==f.name)throw f;a.console.warn('The database "'+c.name+'" has been upgraded from version '+d.oldVersion+" to version "+d.newVersion+', but the storage "'+c.Ib+'" already exists.')}});g.onerror=function(){f(g.error)};g.onsuccess=function(){e(g.result);var a=y[c.name].Aw.pop();
a&&a.resolve()}})}function r(c,d){var e=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var f=new Promise(function(a,b){e.ready().then(function(){var d=e.Gb,f=d.db.transaction(d.Ib,"readonly").objectStore(d.Ib).get(c);f.onsuccess=function(){var b=f.result;void 0===b&&(b=null);b&&b.Zv&&(b=m(b));a(b)};f.onerror=function(){b(f.error)}})["catch"](b)});return B(f,d),f}function v(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var e=
c.Gb,f=e.db.transaction(e.Ib,"readonly").objectStore(e.Ib).openCursor(),h=1;f.onsuccess=function(){var c=f.result;if(c){var d=c.value;d&&d.Zv&&(d=m(d));d=a(d,c.key,h++);void 0!==d?b(d):c["continue"]()}else b()};f.onerror=function(){d(f.error)}})["catch"](d)});return B(d,b),d}function t(c,d,e){var g=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var k=new Promise(function(a,b){var e;g.ready().then(function(){return e=g.Gb,d instanceof Blob?f(e.db).then(function(a){return a?
d:h(d)}):d}).then(function(d){var f=e.db.transaction(e.Ib,"readwrite"),h=f.objectStore(e.Ib);null===d&&(d=void 0);f.oncomplete=function(){void 0===d&&(d=null);a(d)};f.onabort=f.onerror=function(){b(g.error?g.error:g.transaction.error)};var g=h.put(d,c)})["catch"](b)});return B(k,e),k}function q(c,d){var e=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var f=new Promise(function(a,b){e.ready().then(function(){var d=e.Gb,f=d.db.transaction(d.Ib,"readwrite"),
h=f.objectStore(d.Ib)["delete"](c);f.oncomplete=function(){a()};f.onerror=function(){b(h.error)};f.onabort=function(){b(h.error?h.error:h.transaction.error)}})["catch"](b)});return B(f,d),f}function u(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb,e=d.db.transaction(d.Ib,"readwrite"),f=e.objectStore(d.Ib).clear();e.oncomplete=function(){a()};e.onabort=e.onerror=function(){c(f.error?f.error:f.transaction.error)}})["catch"](c)});return B(c,a),c}function x(a){var b=this,
c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb,e=d.db.transaction(d.Ib,"readonly").objectStore(d.Ib).count();e.onsuccess=function(){a(e.result)};e.onerror=function(){c(e.error)}})["catch"](c)});return B(c,a),c}function z(a,b){var c=this,d=new Promise(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c.Gb,f=!1,h=e.db.transaction(e.Ib,"readonly").objectStore(e.Ib).openCursor();h.onsuccess=function(){var c=h.result;return c?void(0===a?b(c.key):f?b(c.key):(f=
!0,c.advance(a))):void b(null)};h.onerror=function(){d(h.error)}})["catch"](d)});return B(d,b),d}function E(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb,e=d.db.transaction(d.Ib,"readonly").objectStore(d.Ib).openCursor(),f=[];e.onsuccess=function(){var b=e.result;return b?(f.push(b.key),void b["continue"]()):void a(f)};e.onerror=function(){c(e.error)}})["catch"](c)});return B(c,a),c}function B(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var D=D||a.indexedDB||
a.webkitIndexedDB||a.mozIndexedDB||a.B||a.msIndexedDB;if(D){var C,y,w="local-forage-detect-blob-support";return{zl:"asyncStorage",Ur:n,zx:v,getItem:r,setItem:t,removeItem:q,clear:u,length:x,key:z,keys:E}}}("undefined"!=typeof window?window:self);a.zg=c["default"]},function(a,c,b){c.lo=!0;c["default"]=function(a){function c(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var e=null;try{if(!(a.localStorage&&"setItem"in a.localStorage))return;e=a.localStorage}catch(f){return}return{zl:"localStorageWrapper",
Ur:function(a){var c={};if(a)for(var d in a)c[d]=a[d];return c.Eg=c.name+"/",c.Ib!==this.Sr.Ib&&(c.Eg+=c.Ib+"/"),this.Gb=c,(new Promise(function(a){a(b(3))})).then(function(a){return c.Jj=a,Promise.resolve()})},zx:function(a,b){var d=this,f=d.ready().then(function(){for(var b=d.Gb,c=b.Eg,f=c.length,g=e.length,k=1,m=0;g>m;m++){var u=e.key(m);if(0===u.indexOf(c)){var x=e.getItem(u);if(x&&(x=b.Jj.Uo(x)),x=a(x,u.substring(f),k++),void 0!==x)return x}}});return c(f,b),f},getItem:function(b,f){var l=this;
"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var k=l.ready().then(function(){var a=l.Gb,c=e.getItem(a.Eg+b);return c&&(c=a.Jj.Uo(c)),c});return c(k,f),k},setItem:function(b,f,l){var k=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var n=k.ready().then(function(){void 0===f&&(f=null);var a=f;return new Promise(function(c,d){var g=k.Gb;g.Jj.serialize(f,function(f,k){if(k)d(k);else try{e.setItem(g.Eg+
b,f),c(a)}catch(l){"QuotaExceededError"!==l.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==l.name||d(l),d(l)}})})});return c(n,l),n},removeItem:function(b,f){var l=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var k=l.ready().then(function(){e.removeItem(l.Gb.Eg+b)});return c(k,f),k},clear:function(a){var b=this,d=b.ready().then(function(){for(var a=b.Gb.Eg,c=e.length-1;0<=c;c--){var d=e.key(c);0===d.indexOf(a)&&e.removeItem(d)}});return c(d,a),d},length:function(a){var b=
this.keys().then(function(a){return a.length});return c(b,a),b},key:function(a,b){var d=this,f=d.ready().then(function(){var b,c=d.Gb;try{b=e.key(a)}catch(f){b=null}return b&&(b=b.substring(c.Eg.length)),b});return c(f,b),f},keys:function(a){var b=this,d=b.ready().then(function(){for(var a=b.Gb,c=e.length,d=[],f=0;c>f;f++)0===e.key(f).indexOf(a.Eg)&&d.push(e.key(f).substring(a.Eg.length));return d});return c(d,a),d}}}("undefined"!=typeof window?window:self);a.zg=c["default"]},function(a,c){c.lo=!0;
c["default"]=function(a){function c(a){var b,d,f,g,p;b=.75*a.length;var r=a.length,v=0;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);var t=new ArrayBuffer(b),q=new Uint8Array(t);for(b=0;r>b;b+=4)d=e.indexOf(a[b]),f=e.indexOf(a[b+1]),g=e.indexOf(a[b+2]),p=e.indexOf(a[b+3]),q[v++]=d<<2|f>>4,q[v++]=(15&f)<<4|g>>2,q[v++]=(3&g)<<6|63&p;return t}function g(a){var b=new Uint8Array(a),c="";for(a=0;a<b.length;a+=3)c+=e[b[a]>>2],c+=e[(3&b[a])<<4|b[a+1]>>4],c+=e[(15&b[a+1])<<2|b[a+2]>>6],c+=e[63&b[a+2]];
return 2===b.length%3?c=c.substring(0,c.length-1)+"=":1===b.length%3&&(c=c.substring(0,c.length-2)+"=="),c}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/^~~local_forage_type~([^~]+)~/;return{serialize:function(a,b){var c="";if(a&&(c=a.toString()),a&&("[object ArrayBuffer]"===a.toString()||a.buffer&&"[object ArrayBuffer]"===a.buffer.toString())){var d,e="__lfsc__:";a instanceof ArrayBuffer?(d=a,e+="arbf"):(d=a.buffer,"[object Int8Array]"===c?e+="si08":"[object Uint8Array]"===
c?e+="ui08":"[object Uint8ClampedArray]"===c?e+="uic8":"[object Int16Array]"===c?e+="si16":"[object Uint16Array]"===c?e+="ur16":"[object Int32Array]"===c?e+="si32":"[object Uint32Array]"===c?e+="ui32":"[object Float32Array]"===c?e+="fl32":"[object Float64Array]"===c?e+="fl64":b(Error("Failed to get type for BinaryArray")));b(e+g(d))}else if("[object Blob]"===c)c=new FileReader,c.onload=function(){var c="~~local_forage_type~"+a.type+"~"+g(this.result);b("__lfsc__:blob"+c)},c.readAsArrayBuffer(a);else try{b(JSON.stringify(a))}catch(f){console.error("Couldn't convert value into a JSON string: ",
a),b(null,f)}},Uo:function(e){if("__lfsc__:"!==e.substring(0,9))return JSON.parse(e);var g,l=e.substring(13);e=e.substring(9,13);if("blob"===e&&f.test(l)){var k=l.match(f);g=k[1];l=l.substring(k[0].length)}l=c(l);switch(e){case "arbf":return l;case "blob":var n;l=[l];g={type:g};l=l||[];g=g||{};try{n=new Blob(l,g)}catch(p){if("TypeError"!==p.name)throw p;n=new (a.BlobBuilder||a.j||a.k||a.WebKitBlobBuilder);for(e=0;e<l.length;e+=1)n.append(l[e]);n=n.getBlob(g.type)}return n;case "si08":return new Int8Array(l);
case "ui08":return new Uint8Array(l);case "uic8":return new Uint8ClampedArray(l);case "si16":return new Int16Array(l);case "ur16":return new Uint16Array(l);case "si32":return new Int32Array(l);case "ui32":return new Uint32Array(l);case "fl32":return new Float32Array(l);case "fl64":return new Float64Array(l);default:throw Error("Unkown type: "+e);}},TH:c,DH:g}}("undefined"!=typeof window?window:self);a.zg=c["default"]},function(a,c,b){c.lo=!0;c["default"]=function(a){function c(a){var d=this,e={db:null};
if(a)for(var f in a)e[f]="string"!=typeof a[f]?a[f].toString():a[f];var h=new Promise(function(a,b){try{e.db=v(e.name,String(e.version),e.description,e.size)}catch(c){return b(c)}e.db.transaction(function(c){c.executeSql("CREATE TABLE IF NOT EXISTS "+e.Ib+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){d.Gb=e;a()},function(a,c){b(c)})})});return(new Promise(function(a){a(b(3))})).then(function(a){return e.Jj=a,h})}function e(b,c){var e=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),
b=String(b));var f=new Promise(function(a,c){e.ready().then(function(){var d=e.Gb;d.db.transaction(function(e){e.executeSql("SELECT * FROM "+d.Ib+" WHERE key = ? LIMIT 1",[b],function(b,c){var e=c.rows.length?c.rows.item(0).value:null;e&&(e=d.Jj.Uo(e));a(e)},function(a,b){c(b)})})})["catch"](c)});return r(f,c),f}function f(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var e=c.Gb;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.Ib,[],function(c,d){for(var f=d.rows,
h=f.length,g=0;h>g;g++){var k=f.item(g),l=k.value;if(l&&(l=e.Jj.Uo(l)),l=a(l,k.key,g+1),void 0!==l)return void b(l)}b()},function(a,b){d(b)})})})["catch"](d)});return r(d,b),d}function h(b,c,e){var f=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var h=new Promise(function(a,d){f.ready().then(function(){void 0===c&&(c=null);var e=c,h=f.Gb;h.Jj.serialize(c,function(c,f){f?d(f):h.db.transaction(function(f){f.executeSql("INSERT OR REPLACE INTO "+h.Ib+
" (key, value) VALUES (?, ?)",[b,c],function(){a(e)},function(a,b){d(b)})},function(a){a.code===a.QUOTA_ERR&&d(a)})})})["catch"](d)});return r(h,e),h}function m(b,c){var e=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var f=new Promise(function(a,c){e.ready().then(function(){var d=e.Gb;d.db.transaction(function(e){e.executeSql("DELETE FROM "+d.Ib+" WHERE key = ?",[b],function(){a()},function(a,b){c(b)})})})["catch"](c)});return r(f,c),f}function l(a){var b=
this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.Ib,[],function(){a()},function(a,b){c(b)})})})["catch"](c)});return r(c,a),c}function k(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.Ib,[],function(b,c){var d=c.rows.item(0).I;a(d)},function(a,b){c(b)})})})["catch"](c)});return r(c,a),c}function n(a,b){var c=this,
d=new Promise(function(b,d){c.ready().then(function(){var e=c.Gb;e.db.transaction(function(c){c.executeSql("SELECT key FROM "+e.Ib+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})["catch"](d)});return r(d,b),d}function p(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.Ib,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);
a(d)},function(a,b){c(b)})})})["catch"](c)});return r(c,a),c}function r(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var v=a.openDatabase;if(v)return{zl:"webSQLStorage",Ur:c,zx:f,getItem:e,setItem:h,removeItem:m,clear:l,length:k,key:n,keys:p}}("undefined"!=typeof window?window:self);a.zg=c["default"]}])};"object"==typeof exports&&"object"==typeof module?module.zg=zd():"function"==typeof define&&define.CH?define([],zd):"object"==typeof exports?exports.localforage=zd():this.localforage=
zd()}catch(Ad){od=!0}function Bd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d="",g="",e="";"undefined"!==typeof window.is_scirra_arcade&&(e="sa"+window.scirra_arcade_id+"_");var f=Bd.prototype;f.wa=function(a){this.Za=a;this.i=a.i};f.wa.prototype.ma=function(){};f.ta=function(a){this.type=a;this.i=a.i};var h=f.ta.prototype;h.ma=function(){this.ou=this.pu=0};h.Re=function(){};h.Tb=function(){return{}};h.Yb=function(){};a.prototype.eB=function(a){return d===a};a.prototype.LA=function(){return!0};a.prototype.Ev=function(a){return d===
a};a.prototype.KA=function(){return!0};a.prototype.eo=function(){return!0};a.prototype.GA=function(){return!0};a.prototype.FA=function(){return!0};f.F=new a;c.prototype.VB=function(a,b){if(od)this.i.trigger(Bd.prototype.F.eo,this);else{var c=e+a;this.pu++;var f=this;localforage.setItem(c,b,function(b,c){f.pu--;b?f.i.trigger(Bd.prototype.F.eo,f):(d=a,g=c,f.i.trigger(Bd.prototype.F.LA,f),f.i.trigger(Bd.prototype.F.eB,f),g=d="");0===f.pu&&f.i.trigger(Bd.prototype.F.GA,f)})}};c.prototype.pA=function(a){if(od)this.i.trigger(Bd.prototype.F.eo,
this);else{var b=e+a;this.ou++;var c=this;localforage.getItem(b,function(b,e){c.ou--;if(b)c.i.trigger(Bd.prototype.F.eo,c);else{d=a;g=e;if("undefined"===typeof g||null===g)g="";c.i.trigger(Bd.prototype.F.KA,c);c.i.trigger(Bd.prototype.F.Ev,c);g=d=""}0===c.ou&&c.i.trigger(Bd.prototype.F.FA,c)})}};f.fa=new c;b.prototype.CA=function(a){a.Rq(g)};f.Ea=new b})();function Cd(a){this.i=a}
(function(){function a(){}function c(){}var b=Cd.prototype;b.wa=function(a){this.Za=a;this.i=a.i};b.wa.prototype.ma=function(){};b.ta=function(a){this.type=a;this.i=a.i;this.Co=Array(4);this.Bz=this.kr=this.gl=this.ri=this.qi=0;this.yp=!1};var d=b.ta.prototype;d.ma=function(){var a=this;if(!this.i.eb){jQuery(document).mousemove(function(b){a.hu(b)});jQuery(document).mousedown(function(b){a.gu(b)});jQuery(document).mouseup(function(b){a.iu(b)});jQuery(document).dblclick(function(b){a.EF(b)});var b=
function(b){a.HF(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var g={left:0,top:0};d.hu=function(a){var b=this.i.eb?g:jQuery(this.i.canvas).offset();this.qi=a.pageX-b.left;this.ri=a.pageY-b.top};d.ay=function(){return 0<this.i.Zd?!0:0<=this.qi&&0<=this.ri&&this.qi<this.i.width&&this.ri<this.i.height};d.gu=function(a){this.ay()&&(this.Co[a.which]=!0,this.i.Sb=!0,this.i.trigger(Cd.prototype.F.JA,this),this.gl=a.which-1,this.kr=0,this.i.trigger(Cd.prototype.F.Bv,
this),this.i.trigger(Cd.prototype.F.Ir,this),this.i.Sb=!1)};d.iu=function(a){this.Co[a.which]&&(this.i.wp&&!this.i.hh&&a.preventDefault(),this.i.wp=!0,this.Co[a.which]=!1,this.i.Sb=!0,this.gl=a.which-1,this.i.trigger(Cd.prototype.F.pB,this),this.i.Sb=!1)};d.EF=function(a){this.ay()&&(a.preventDefault(),this.i.Sb=!0,this.gl=a.which-1,this.kr=1,this.i.trigger(Cd.prototype.F.Bv,this),this.i.trigger(Cd.prototype.F.Ir,this),this.i.Sb=!1)};d.HF=function(a){this.Bz=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.yp=!1;this.i.Sb=!0;this.i.trigger(Cd.prototype.F.GB,this);this.i.Sb=!1;this.yp&&Xb(a)&&a.preventDefault()};a.prototype.Bv=function(a,b){return a===this.gl&&b===this.kr};a.prototype.JA=function(){return!0};a.prototype.wv=function(a){return this.Co[a+1]};a.prototype.pB=function(a){return a===this.gl};a.prototype.Ir=function(a,b,c){return a!==this.gl||b!==this.kr?!1:this.i.Dn(c,this.qi,this.ri)};a.prototype.GB=function(a){this.yp=!0;return a===this.Bz};b.F=new a;b.fa=new function(){};
c.prototype.Qr=function(a,b){var c,d,g,k,n;la(b)?(c=this.i.eh(0),d=c.scale,g=c.Vd,k=c.xe,n=c.M,c.scale=1,c.Vd=1,c.xe=1,c.M=0,a.xa(c.oc(this.qi,this.ri,!0)),c.scale=d,c.Vd=g,c.xe=k,c.M=n):(c=na(b)?this.i.eh(b):this.i.Zl(b))?a.xa(c.oc(this.qi,this.ri,!0)):a.xa(0)};c.prototype.Rr=function(a,b){var c,d,g,k,n;la(b)?(c=this.i.eh(0),d=c.scale,g=c.Vd,k=c.ye,n=c.M,c.scale=1,c.Vd=1,c.ye=1,c.M=0,a.xa(c.oc(this.qi,this.ri,!1)),c.scale=d,c.Vd=g,c.ye=k,c.M=n):(c=na(b)?this.i.eh(b):this.i.Zl(b))?a.xa(c.oc(this.qi,
this.ri,!1)):a.xa(0)};b.Ea=new c})();function Dd(a){this.i=a}
(function(){function a(a){this.n=a;this.history=[]}function c(a){this.AF=a;this.M=this.y=this.x=this.timestamp=0;this.fi=[]}function b(a,b,c,d){a=b-a;if(0===a)return 0;b=sa(a);if(b<=sa(c/10)||1>b||1E3<=b)return a;var e=b/50;d&&(e=ta(e,1));d=sa(c/5);10<=b&&(e=b/10,d=sa(c/2));c=ta(e,d);c>b&&(c=b);return 0<a?c:-c}function d(){}var g=Dd.prototype;g.wa=function(a){this.Za=a;this.i=a.i};g.wa.prototype.ma=function(){};g.ta=function(a){this.type=a;this.i=a.i};var e=g.ta.prototype,f=!1;e.ma=function(){this.Ia=
null;(f=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.Ia=new window.C2Multiplayer);this.xF=this.by=this.cy=this.wF=this.mF=this.uq=this.vq=this.uG="";this.jv={};this.Fp={};this.rh={};this.ml=this.gG=this.iE=null;this.Ep=[];this.Ln=[];this.Hg={};var a=this;f&&(this.Ia.onserverlist=function(){a.i.trigger(Dd.prototype.F.tB,a)},this.Ia.onsignallingerror=function(){a.i.trigger(Dd.prototype.F.wB,a)},this.Ia.onsignallingclose=function(){a.i.trigger(Dd.prototype.F.vB,
a);a.uG=""},this.Ia.onsignallingwelcome=function(){a.i.trigger(Dd.prototype.F.uB,a)},this.Ia.onsignallinglogin=function(){a.i.trigger(Dd.prototype.F.AB,a)},this.Ia.onsignallingjoin=function(b){a.Fp={};a.rh={};a.Ln.length=0;a.Ep.length=0;a.Hg={};a.i.trigger(Dd.prototype.F.xB,a);a.i.mj&&b&&a.ml.postMessage("start")},this.Ia.onsignallingleave=function(){a.i.trigger(Dd.prototype.F.zB,a)},this.Ia.onsignallingkicked=function(){a.i.trigger(Dd.prototype.F.yB,a)},this.Ia.onbeforeclientupdate=function(){a.i.trigger(Dd.prototype.F.SA,
a)},this.Ia.onpeeropen=function(b){a.vq=b.id;a.uq=b.alias;a.i.trigger(Dd.prototype.F.mB,a)},this.Ia.onpeerclose=function(b,c){a.vq=b.id;a.uq=b.alias;a.mF=c||"unknown";var d=a.Rw(b);if(d){var e=a.jv[d.type];e&&e.removeObjectNid(b.nid);a.i.Ee(d)}a.rh.hasOwnProperty(b.id)&&delete a.rh[b.id];a.i.trigger(Dd.prototype.F.nB,a)},this.Ia.onpeermessage=function(b,c){a.cy=c.t;a.by=c.f?c.f:b.id;a.xF=a.Ia.getAliasFromId(a.by);a.wF=c.m;a.i.trigger(Dd.prototype.F.NA,a);a.i.trigger(Dd.prototype.F.oB,a)},this.Ia.onsignallinginstancelist=
function(b){a.iE=b;a.i.trigger(Dd.prototype.F.$A,a)},this.Ia.onsignallingroomlist=function(b){a.gG=b;a.i.trigger(Dd.prototype.F.rB,a)},this.Ia.ongetobjectcount=function(a){return a.H.length},this.Ia.ongetobjectvalue=function(b,c,d){if(!d)return b.H[c].uid;b=b.H[c];switch(d.tag){case "x":return b.x;case "y":return b.y;case "a":return b.M;case "iv":if(d.clientvaluetag&&(c=a.Fp[b.uid])&&a.Ia.me!==c&&!c.wasRemoved&&c.hasClientState(d.clientvaluetag))return c.getInterpClientState(d.clientvaluetag);d=b.Rb[d.userdata];
return"number"===typeof d?d:0;default:return 0}},this.Ia.oninstancedestroyed=function(b,c,d){var e=b.userdata;b=e.jt;e.ws||(e.ws={});e.ws[c]=d;b&&b.hasOwnProperty(c)&&((d=b[c])&&a.i.Ee(d),delete b[c])},this.i.Vj(function(b){var c,d=b.uid;a.Fp.hasOwnProperty(d)&&delete a.Fp[d];for(c in a.rh)if(a.rh.hasOwnProperty(c)&&a.rh[c]===b){delete a.rh[c];break}a.Hg.hasOwnProperty(d)&&delete a.Hg[d];c=a.Ep.indexOf(b);-1<c&&a.Ep.splice(c,1);c=a.Ln.indexOf(b);-1<c&&a.Ln.splice(c,1);a.Ia.removeObjectId(d)}),this.ml=
new Worker("waker.js"),this.ml.addEventListener("message",function(b){"tick"===b.data&&a.i.mj&&a.i.mb(!0)},!1),this.ml.postMessage(""));this.i.Wr(function(b){f&&a.Ia.isHost()&&(b?a.ml.postMessage("start"):a.ml.postMessage("stop"))});this.i.UF(this)};e.Rw=function(a){a=a.id;return this.rh.hasOwnProperty(a)?this.rh[a]:null};e.eF=function(a){return 0<=this.Ep.indexOf(a)};e.TF=function(){if(f){this.Ia.tick(this.i.Yh);this.DG();var a,b,c;if(this.Ia.isInRoom()&&!this.Ia.isHost())for(a=0,b=this.Ia.registeredObjects.length;a<
b;++a)c=this.Ia.registeredObjects[a],this.FG(c)}};var h=[];e.FG=function(a){a.tick();var b=a.obj,c=a.getCount(),d=a.netvalues,e=a.userdata;e.jt||(e.jt={});var f=e.jt,e=e.ws,g=a.simTime,m,u,x,z,E,B,D,C=d.length;for(m in f)f.hasOwnProperty(m)&&(z=f[m],this.i.Xf(z.uid)||delete f[m]);if(e)for(m in e)e.hasOwnProperty(m)&&e[m]<g-3E3&&delete e[m];for(m=0;m<c;++m)if(u=a.getNetInstAt(m),x=u.nid,e&&e[x]>=g-3E3)h.push(u),f.hasOwnProperty(x)&&(this.i.Ee(f[x]),delete f[x]);else{if(f.hasOwnProperty(x))z=f[x],D=
!1;else{if(z=this.Ia.getPeerByNid(x))this.vq=z.id,this.uq=z.alias;else{if(a.hasOverriddenNids)continue;this.uq=this.vq=""}z=this.i.Jl(b,this.i.Ob.Sa[b.zw],-1E3,-1E3);f[x]=z;D=!0}if(u.isTimedOut(g))h.push(u),f.hasOwnProperty(x)&&delete f[x],this.i.Ee(z);else{if(this.eF(z))this.OC(z,u,d,g);else for(B=0;B<C;++B)switch(x=u.getInterp(g,B),E=d[B],E.tag){case "x":z.x=x;z.aa();break;case "y":z.y=x;z.aa();break;case "a":z.M=x;z.aa();break;case "iv":E=E.userdata;if(E>z.Rb.length||"number"!==typeof z.Rb[E])break;
z.Rb[E]=x}D&&this.i.trigger(Object.getPrototypeOf(b.Za).F.Sg,z)}}m=0;for(c=h.length;m<c;++m)a.removeNetInstance(h[m]);h.length=0};e.DG=function(){var a=this.Ia.getHostInputArrivalTime(),b,c;b=0;for(c=this.Ln.length;b<c;++b)this.EG(this.Ln[b],a)};a.prototype.Xw=function(a){if(2>this.history.length)return 0;var b=this.history[this.history.length-2],c=this.history[this.history.length-1];switch(a){case "x":return c.x-b.x;case "y":return c.y-b.y;case "a":return c.M-b.M;case "iv":return c.fi[void 0]-b.fi[void 0]}return 0};
a.prototype.Ww=function(a,b,c,d){var e,f,g,h=null,m=null;e=0;for(f=this.history.length;e<f;++e)if(g=this.history[e],g.timestamp<c)h=g;else{e+1<this.history.length&&(m=this.history[e+1]);break}if(h){e=0;switch(a){case "x":e=h.x;break;case "y":e=h.y;break;case "a":e=h.M;break;case "iv":e=h.fi[b]}if(!m)return e;f=e;switch(a){case "x":f=m.x;break;case "y":f=m.y;break;case "a":f=m.M;break;case "iv":f=m.fi[b]}return window.interpNetValue(d,e,f,fb(h.timestamp,m.timestamp,c),!1)}};a.prototype.yC=function(a,
b,c){var d,e,f;d=0;for(e=this.history.length;d<e;++d)switch(f=this.history[d],a){case "x":f.x+=c;break;case "y":f.y+=c;break;case "a":f.M+=c;break;case "iv":f.fi[b]+=c}};var m=[];e.EG=function(b,d){this.Hg.hasOwnProperty(b.uid)||(this.Hg[b.uid]=new a(b));var e=this.Hg[b.uid],f;m.length?(f=m.pop(),f.AF=e):f=new c(e);f.timestamp=d;f.x=b.x;f.y=b.y;f.M=b.M;Ha(f.fi,b.Rb);for(e.history.push(f);0<e.history.length&&e.history[0].timestamp<=d-2E3;)f=e.history.shift(),f.fi.length=0,1E3>m.length&&m.push(f)};
e.OC=function(a,c,d,e){if(this.Hg.hasOwnProperty(a.uid)){var f=this.Hg[a.uid],g,h,m,u,x,z,E,B=d.length,D=bb(0,0,f.Xw("x"),f.Xw("y")),C=!!a.na.isPlatformBehavior;for(g=0;g<B;++g)if(x=d[g],z=x.tag,E=x.userdata,u=x.interp,h=c.getLatestUpdate())if(m=h.data[g],u=f.Ww(z,E,h.timestamp,u),"undefined"!==typeof u){h=0;switch(z){case "x":h=b(u,m,D,C);0!==h&&(a.x+=h,a.aa());break;case "y":h=b(u,m,D,C);0!==h&&(a.y+=h,a.aa());break;case "a":h=kb(u,m,.5)-u;0!==h&&(a.M+=h,a.aa());break;case "iv":m=E;if(m>a.Rb.length||
"number"!==typeof a.Rb[m])break;x.clientvaluetag||(a.Rb[m]=c.getInterp(e,g))}0!==h&&f.yC(z,E,h)}}};e.G=function(){};e.Re=function(){};e.Tb=function(){return{}};e.Yb=function(){};d.prototype.tB=function(){return!0};d.prototype.wB=function(){return!0};d.prototype.uB=function(){return!0};d.prototype.vB=function(){return!0};d.prototype.AB=function(){return!0};d.prototype.xB=function(){return!0};d.prototype.zB=function(){return!0};d.prototype.yB=function(){return!0};d.prototype.mB=function(){return!0};
d.prototype.nB=function(){return!0};d.prototype.oB=function(a){return this.cy===a};d.prototype.NA=function(){return!0};d.prototype.SA=function(){return!0};d.prototype.$A=function(){return!0};d.prototype.rB=function(){return!0};g.F=new d;e.j=function(a,b,c,d){f&&(d=this.Ia.registerObject(a,a.kb,d),1===b?(d.addValue(this.Ia.INTERP_LINEAR,c,"x"),d.addValue(this.Ia.INTERP_LINEAR,c,"y")):2===b?d.addValue(this.Ia.INTERP_ANGULAR,c,"a"):3===b&&(d.addValue(this.Ia.INTERP_LINEAR,c,"x"),d.addValue(this.Ia.INTERP_LINEAR,
c,"y"),d.addValue(this.Ia.INTERP_ANGULAR,c,"a")),this.jv[a]=d)};e.k=function(a,b,c,d,e){if(f&&(a=this.jv[a])){var g=this.Ia.INTERP_NONE;1===d?g=this.Ia.INTERP_LINEAR:2===d&&(g=this.Ia.INTERP_ANGULAR);a.addValue(g,c,"iv",b,e)}};g.fa=new function(){};e.B=function(a,b,c,d){if(!f||!this.Ia.isHost())return 0;var e=this.Ia.getPeerById(a);if(!e)return 0;var g=this.Rw(e);if(!g)return 0;a=0;switch(c){case "x":a=g.x;break;case "y":a=g.y;break;case "a":a=g.M}b=this.Ia.getPeerById(b);if(!b||b===e||this.Ia.me===
b)return a;b=2*(b.latency+this.Ia.clientDelay);g=g.uid;if(!this.Hg.hasOwnProperty(g))return a;d=this.Hg[g].Ww(c,0,tb()-b,d);return"undefined"===typeof d?a:d};g.Ea=new function(){}})();function Ed(a){this.i=a}
(function(){function a(a){this.Zb=a;this.xc=!1;this.M=this.speed=this.y=this.x=0;this.opacity=1;this.Oh=this.ok=this.size=this.up=0}function c(){}var b=Ed.prototype;b.wa=function(a){this.Za=a;this.i=a.i};var d=b.wa.prototype;d.ma=function(){this.Aa||(this.Da=new Image,this.Da.Ko=this.Hn,this.lb=null,this.i.tr(this.Da,this.Gn))};d.Tk=function(){this.Aa||(this.lb=null)};d.cn=function(){this.Aa||!this.H.length||this.lb||(this.lb=this.i.la.Hk(this.Da,!0,this.i.Ya,this.In))};d.Ik=function(){this.Aa||this.lb||
!this.i.la||(this.lb=this.i.la.Hk(this.Da,!0,this.i.Ya,this.In))};d.Nn=function(){this.Aa||this.H.length||!this.lb||(this.i.la.deleteTexture(this.lb),this.lb=null)};d.jn=function(a){a.drawImage(this.Da,0,0)};a.prototype.init=function(){var a=this.Zb;this.x=a.x-a.Br/2+Math.random()*a.Br;this.y=a.y-a.Cr/2+Math.random()*a.Cr;this.speed=a.Dp-a.Xq/2+Math.random()*a.Xq;this.M=a.M-a.Yq/2+Math.random()*a.Yq;this.opacity=a.ht;this.size=a.Cp-a.Wq/2+Math.random()*a.Wq;this.up=a.Xs-a.vp/2+Math.random()*a.vp;
this.Oh=this.ok=0};a.prototype.mb=function(a){var b=this.Zb;this.x+=Math.cos(this.M)*this.speed*a;this.y+=Math.sin(this.M)*this.speed*a;this.y+=this.ok*a;this.speed+=b.ne*a;this.size+=this.up*a;this.ok+=b.sd*a;this.Oh+=a;1>this.size?this.xc=!1:(0!==b.Mm&&(this.M+=Math.random()*b.Mm*a-b.Mm*a/2),0!==b.Om&&(this.speed+=Math.random()*b.Om*a-b.Om*a/2),0!==b.Nm&&(this.opacity+=Math.random()*b.Nm*a-b.Nm*a/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=b.fk&&this.Oh>=b.timeout&&(this.xc=
!1),2===b.fk&&0>=this.speed&&(this.xc=!1))};a.prototype.Yd=function(a){var b=this.Zb.opacity*this.opacity;if(0!==b){0===this.Zb.fk&&(b*=1-this.Oh/this.Zb.timeout);a.globalAlpha=b;var b=this.x-this.size/2,c=this.y-this.size/2;this.Zb.i.ze&&(b=b+.5|0,c=c+.5|0);a.drawImage(this.Zb.type.Da,b,c,this.size,this.size)}};a.prototype.Bc=function(a){var b=this.Zb.opacity*this.opacity;0===this.Zb.fk&&(b*=1-this.Oh/this.Zb.timeout);var c=this.size,d=c*this.Zb.Ey,g=this.x-c/2,k=this.y-c/2;this.Zb.i.ze&&(g=g+.5|
0,k=k+.5|0);1>d||0===b||(d<a.tF||d>a.Vt?(a.xh(b),a.Wk(g,k,g+c,k,g+c,k+c,g,k+c)):a.LF(this.x,this.y,d,b))};a.prototype.left=function(){return this.x-this.size/2};a.prototype.right=function(){return this.x+this.size/2};a.prototype.top=function(){return this.y-this.size/2};a.prototype.bottom=function(){return this.y+this.size/2};b.ta=function(a){this.type=a;this.i=a.i};var d=b.ta.prototype,g=[];d.ma=function(){var a=this.U;this.Fq=a[0];this.Yq=Pa(a[1]);this.cl=a[2];this.Tu=!0;this.Dp=a[3];this.Cp=a[4];
this.ht=a[5]/100;this.Xs=a[6];this.Br=a[7];this.Cr=a[8];this.Xq=a[9];this.Wq=a[10];this.vp=a[11];this.ne=a[12];this.sd=a[13];this.Mm=a[14];this.Om=a[15];this.Nm=a[16];this.fk=a[17];this.timeout=a[18];this.Fj=0;this.Ey=1;this.qq=this.x;this.sq=this.y;this.rq=this.x;this.pq=this.y;this.vC(function(a){a.Lb.set(a.qq,a.sq,a.rq,a.pq);a.Mb.bl(a.Lb);a.zo=!1;a.nv();a.Mz()});this.wd||(this.ee=[]);this.i.Gi(this);this.type.Ik();if(1===this.cl)for(a=0;a<this.Fq;a++)this.Yr().opacity=0;this.ip=!0};d.Tb=function(){var a=
{r:this.Fq,sc:this.Yq,st:this.cl,s:this.Tu,isp:this.Dp,isz:this.Cp,io:this.ht,gr:this.Xs,xr:this.Br,yr:this.Cr,spr:this.Xq,szr:this.Wq,grnd:this.vp,acc:this.ne,g:this.sd,lar:this.Mm,lsr:this.Om,lor:this.Nm,dm:this.fk,to:this.timeout,pcc:this.Fj,ft:this.ip,p:[]},b,c,d,g=a.p;b=0;for(c=this.ee.length;b<c;b++)d=this.ee[b],g.push([d.x,d.y,d.speed,d.M,d.opacity,d.up,d.size,d.ok,d.Oh]);return a};d.Yb=function(a){this.Fq=a.r;this.Yq=a.sc;this.cl=a.st;this.Tu=a.s;this.Dp=a.isp;this.Cp=a.isz;this.ht=a.io;this.Xs=
a.gr;this.Br=a.xr;this.Cr=a.yr;this.Xq=a.spr;this.Wq=a.szr;this.vp=a.grnd;this.ne=a.acc;this.sd=a.g;this.Mm=a.lar;this.Om=a.lsr;this.Nm=a.lor;this.fk=a.dm;this.timeout=a.to;this.Fj=a.pcc;this.ip=a.ft;g.push.apply(g,this.ee);H(this.ee);var b,c,d,l=a.p;a=0;for(b=l.length;a<b;a++)c=this.Yr(),d=l[a],c.x=d[0],c.y=d[1],c.speed=d[2],c.M=d[3],c.opacity=d[4],c.up=d[5],c.size=d[6],c.ok=d[7],c.Oh=d[8]};d.Re=function(){g.push.apply(g,this.ee);H(this.ee)};d.Yr=function(){var b;g.length?(b=g.pop(),b.Zb=this):b=
new a(this);this.ee.push(b);b.xc=!0;return b};d.mb=function(){var a=this.i.Cg(this),b,c,d,l;if(0===this.cl&&this.Tu)for(this.Fj+=a*this.Fq,c=wa(this.Fj),this.Fj-=c,b=0;b<c;b++)d=this.Yr(),d.init();this.qq=this.x;this.sq=this.y;this.rq=this.x;this.pq=this.y;l=b=0;for(c=this.ee.length;b<c;b++)d=this.ee[b],this.ee[l]=d,this.i.Ua=!0,1===this.cl&&this.ip&&d.init(),d.mb(a),d.xc?(d.left()<this.qq&&(this.qq=d.left()),d.right()>this.rq&&(this.rq=d.right()),d.top()<this.sq&&(this.sq=d.top()),d.bottom()>this.pq&&
(this.pq=d.bottom()),l++):g.push(d);Fa(this.ee,l);this.aa();this.ip=!1;1===this.cl&&0===this.ee.length&&this.i.Ee(this)};d.Yd=function(a){var b,c,d,g=this.O;b=0;for(c=this.ee.length;b<c;b++)d=this.ee[b],d.right()>=g.qb&&d.bottom()>=g.rb&&d.left()<=g.Fb&&d.top()<=g.Eb&&d.Yd(a)};d.Bc=function(a){this.Ey=this.O.Jd();a.ie(this.type.lb);var b,c,d,g=this.O;b=0;for(c=this.ee.length;b<c;b++)d=this.ee[b],d.right()>=g.qb&&d.bottom()>=g.rb&&d.left()<=g.Fb&&d.top()<=g.Eb&&d.Bc(a)};b.F=new function(){};c.prototype.TB=
function(a){this.Dp=a};c.prototype.SB=function(a){this.Cp=a};b.fa=new c;b.Ea=new function(){}})();function id(a){this.i=a}
(function(){function a(){if(0===this.vs.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.dl?b.drawImage(this.Da,this.Rk,this.Sk,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Da,0,0,this.width,this.height);this.vs=a.toDataURL("image/png")}return this.vs}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;p.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function g(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var g=p.length?p.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=e;a[f]=g}}function e(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function f(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return r=a[b][2],!0;r=-2;return!1}function h(){}var m=id.prototype;m.wa=function(a){this.Za=a;this.i=a.i};var l=m.wa.prototype;l.ma=function(){if(!this.Aa){var b,c,d,e,f,g,h,k,l;this.Rf=[];this.hm=!1;b=0;for(c=this.He.length;b<c;b++){f=this.He[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Du=f[3];
h.Eu=f[4];h.Fy=f[5];h.kb=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],k={},k.Gn=g[0],k.Hn=g[1],k.Rk=g[2],k.Sk=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.te=g[7],k.ue=g[8],k.ct=g[9],k.yq=g[10],k.Gy=g[11],k.dl=0!==k.width,k.vs="",k.FH=a,l={left:0,top:0,right:1,bottom:1},k.Ru=l,k.lb=null,(l=this.i.dE(g[0]))?k.Da=l:(k.Da=new Image,k.Da.PC=g[0],k.Da.Ko=g[1],k.Da.FC=null,this.i.tr(k.Da,g[0])),h.frames.push(k),this.Rf.push(k);this.He[b]=h}}};l.Kz=function(){var a,b,c;a=0;for(b=this.H.length;a<
b;a++)c=this.H[a],c.No=c.od.lb};l.Tk=function(){if(!this.Aa){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],c.Da.FC=null,c.lb=null;this.hm=!1;this.Kz()}};l.cn=function(){if(!this.Aa&&this.H.length){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],c.lb=this.i.la.Hk(c.Da,!1,this.i.Ya,c.Gy);this.Kz()}};l.Ik=function(){if(!this.Aa&&!this.hm&&this.i.la){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],c.lb=this.i.la.Hk(c.Da,!1,this.i.Ya,c.Gy);this.hm=!0}};l.Nn=function(){if(!this.Aa&&
!this.H.length&&this.hm){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],this.i.la.deleteTexture(c.lb),c.lb=null;this.hm=!1}};var k=[];l.jn=function(a){var b,c,d;H(k);b=0;for(c=this.Rf.length;b<c;++b)d=this.Rf[b].Da,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};m.ta=function(a){this.type=a;this.i=a.i;a=this.type.He[0].frames[0].yq;this.wd?this.ib.vn(a):this.ib=new Eb(a)};var n=m.ta.prototype;n.ma=function(){this.visible=0===this.U[0];this.et=this.qt=!1;this.uf=0!==this.U[3];this.Pb=this.Qw(this.U[1])||
this.type.He[0];this.za=this.U[2];0>this.za&&(this.za=0);this.za>=this.Pb.frames.length&&(this.za=this.Pb.frames.length-1);var a=this.Pb.frames[this.za];this.ib.vn(a.yq);this.te=a.te;this.ue=a.ue;this.bk=this.Pb.speed;this.Vh=this.Pb.Eu;1===this.type.He.length&&1===this.type.He[0].frames.length||0===this.bk||(this.i.Gi(this),this.qt=!0);this.wd?this.ug.reset():this.ug=new Bb;this.dh=this.ug.Va;this.Ri=!0;this.Vg=0;this.Qi=!0;this.Go=this.gw="";this.rw=0;this.ls=-1;this.type.Ik();var b,c,d,e,f,g,h,
a=0;for(b=this.type.He.length;a<b;a++)for(e=this.type.He[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Da.width,f.height=f.Da.height),f.dl&&(h=f.Da,g=f.Ru,g.left=f.Rk/h.width,g.top=f.Sk/h.height,g.right=(f.Rk+f.width)/h.width,g.bottom=(f.Sk+f.height)/h.height,0===f.Rk&&0===f.Sk&&f.width===h.width&&f.height===h.height&&(f.dl=!1));this.od=this.Pb.frames[this.za];this.No=this.od.lb};n.Tb=function(){var a={a:this.Pb.kb,f:this.za,cas:this.bk,fs:this.dh,ar:this.Vg,at:this.ug.Va,
rt:this.Vh};this.Ri||(a.ap=this.Ri);this.Qi||(a.af=this.Qi);return a};n.Yb=function(a){var b=this.lE(a.a);b&&(this.Pb=b);this.za=a.f;0>this.za&&(this.za=0);this.za>=this.Pb.frames.length&&(this.za=this.Pb.frames.length-1);this.bk=a.cas;this.dh=a.fs;this.Vg=a.ar;this.ug.reset();this.ug.Va=a.at;this.Ri=a.hasOwnProperty("ap")?a.ap:!0;this.Qi=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.Vh=a.rt:this.Vh=this.Pb.Eu;this.od=this.Pb.frames[this.za];this.No=this.od.lb;this.ib.vn(this.od.yq);
this.te=this.od.te;this.ue=this.od.ue};n.bs=function(a){this.za=a?0:this.Pb.frames.length-1;this.Ri=!1;this.gw=this.Pb.name;this.et=!0;this.i.trigger(id.prototype.F.IA,this);this.i.trigger(id.prototype.F.HA,this);this.et=!1;this.Vg=0};n.j=function(){return this.ug.Va};n.mb=function(){this.ug.add(this.i.Cg(this));this.Go.length&&this.Dw();0<=this.ls&&this.XC();var a=this.ug.Va,b=this.Pb,c=b.frames[this.za],d=c.duration/this.bk;this.Ri&&a>=this.dh+d&&(this.Qi?this.za++:this.za--,this.dh+=d,this.za>=
b.frames.length&&(b.Fy?(this.Qi=!1,this.za=b.frames.length-2):b.loop?this.za=this.Vh:(this.Vg++,this.Vg>=b.Du?this.bs(!1):this.za=this.Vh)),0>this.za&&(b.Fy?(this.za=1,this.Qi=!0,b.loop||(this.Vg++,this.Vg>=b.Du&&this.bs(!0))):b.loop?this.za=this.Vh:(this.Vg++,this.Vg>=b.Du?this.bs(!0):this.za=this.Vh)),0>this.za?this.za=0:this.za>=b.frames.length&&(this.za=b.frames.length-1),a>this.dh+b.frames[this.za].duration/this.bk&&(this.dh=a),a=b.frames[this.za],this.Uj(c,a),this.i.Ua=!0)};n.Qw=function(a){var b,
c,d;b=0;for(c=this.type.He.length;b<c;b++)if(d=this.type.He[b],Rb(d.name,a))return d;return null};n.lE=function(a){var b,c,d;b=0;for(c=this.type.He.length;b<c;b++)if(d=this.type.He[b],d.kb===a)return d;return null};n.Dw=function(){var a=this.Pb.frames[this.za],b=this.Qw(this.Go);this.Go="";!b||Rb(b.name,this.Pb.name)&&this.Ri||(this.Pb=b,this.bk=b.speed,this.Vh=b.Eu,0>this.za&&(this.za=0),this.za>=this.Pb.frames.length&&(this.za=this.Pb.frames.length-1),1===this.rw&&(this.za=0),this.Ri=!0,this.dh=
this.ug.Va,this.Qi=!0,this.Uj(a,this.Pb.frames[this.za]),this.i.Ua=!0)};n.XC=function(){var a=this.Pb.frames[this.za],b=this.za;this.za=wa(this.ls);0>this.za&&(this.za=0);this.za>=this.Pb.frames.length&&(this.za=this.Pb.frames.length-1);b!==this.za&&(this.Uj(a,this.Pb.frames[this.za]),this.dh=this.ug.Va,this.i.Ua=!0);this.ls=-1};n.Uj=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.te=b.te;this.ue=b.ue;this.ib.vn(b.yq);this.aa();this.od=
b;this.No=b.lb;c=0;for(d=this.Ka.length;c<d;c++)e=this.Ka[c],e.FF&&e.FF(a,b);this.i.trigger(id.prototype.F.Uj,this)};n.Yd=function(a){a.globalAlpha=this.opacity;var b=this.od,c=b.dl,d=b.Da,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.M&&0<=g&&0<=h)e-=this.te*g,f-=this.ue*h,this.i.ze&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Rk,b.Sk,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.i.ze&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,l=0<h?1:-1;a.translate(e,
f);1===k&&1===l||a.scale(k,l);a.rotate(this.M*k*l);e=0-this.te*sa(g);f=0-this.ue*sa(h);c?a.drawImage(d,b.Rk,b.Sk,b.width,b.height,e,f,sa(g),sa(h)):a.drawImage(d,e,f,sa(g),sa(h));a.restore()}};n.Xh=function(a){this.Bc(a)};n.Bc=function(a){a.ie(this.No);a.xh(this.opacity);var b=this.od,c=this.Mb;if(this.i.ze){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.dl?a.dg(c.Wc+d,c.Xc+e,c.Td+d,c.Ud+e,c.Ed+d,c.Fd+e,c.Cd+d,c.Dd+e,b.Ru):a.Wk(c.Wc+d,c.Xc+e,c.Td+d,c.Ud+e,c.Ed+d,c.Fd+e,c.Cd+d,c.Dd+e)}else b.dl?
a.dg(c.Wc,c.Xc,c.Td,c.Ud,c.Ed,c.Fd,c.Cd,c.Dd,b.Ru):a.Wk(c.Wc,c.Xc,c.Td,c.Ud,c.Ed,c.Fd,c.Cd,c.Dd)};n.rE=function(a){var b=this.od,c,d;c=0;for(d=b.ct.length;c<d;c++)if(Rb(a,b.ct[c][0]))return c;return-1};n.zf=function(a,b){var c=this.od,d=c.ct,e;oa(a)?e=this.rE(a):e=a-1;e=wa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.te)*this.width,d=d[e][2],d=(d-c.ue)*this.height,c=Math.cos(this.M);e=Math.sin(this.M);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var p=[],r=-2,v=[];
c.prototype.TA=function(a){if(!a)return!1;var c=this.i,d=c.Yl(),h=d.type,k=null;d.na.collmemory?k=d.na.collmemory:(k={},d.na.collmemory=k);d.na.spriteCreatedDestroyCallback||(d.na.spriteCreatedDestroyCallback=!0,c.Vj(function(a){var c=d.na.collmemory;a=a.uid;var e,f;for(e in c)c.hasOwnProperty(e)&&(f=c[e],f[0]===a||f[1]===a)&&(b(c[e]),delete c[e])}));var l=h.La(),m=a.La(),l=l.Id(),q,n,u,x,p,z,t,S=this.i.jf,J=S-1,M=c.Ec().bd;for(n=0;n<l.length;n++){u=l[n];m.$a?(u.ab(),this.i.Ls(u.O,a,u.Lb,v),q=v):
q=m.Id();for(x=0;x<q.length;x++)p=q[x],c.Qd(u,p)||c.JC(u,p)?(z=f(k,u,p),z=!z||r<J,g(k,u,p,S),z&&(c.nn(M.Xb),z=h.La(),t=a.La(),z.$a=!1,t.$a=!1,h===a?(z.H.length=2,z.H[0]=u,z.H[1]=p,h.Ie()):(z.H.length=1,t.H.length=1,z.H[0]=u,t.H[0]=p,h.Ie(),a.Ie()),M.Fu(),c.wi(M.Xb))):e(k,u,p);H(v)}return!1};var t=null,q=new ca,u=!1,x=[],z=new Aa(0,0,0,0);l.finish=function(a){if(u){if(a){var b=this.i.Ec().bd.ff;a=t.La();var c=q.kg(),d,e;if(a.$a){a.$a=!1;H(a.H);d=0;for(e=c.length;d<e;++d)a.H[d]=c[d];if(b)for(H(a.Ra),
d=0,e=t.H.length;d<e;++d)c=t.H[d],q.contains(c)||a.Ra.push(c)}else if(b)for(b=a.H.length,d=0,e=c.length;d<e;++d)a.H[b+d]=c[d],La(a.Ra,c[d]);else Ha(a.H,c);t.Ie()}q.clear();u=!1}};c.prototype.AA=function(a){if(a){var b=!1,c,d,e,f=this.i.Yl(),g=f.type,f=f.Gp;c=a.La();d=this.i.Ec().bd.ff;var h;c.$a?(this.ab(),z.ak(this.Lb),z.offset(0,0),this.i.Ls(this.O,a,z,x),h=x):h=d?this.i.bF()&&!c.Ra.length&&c.H.length?c.H:c.Ra:c.H;t=a;u=g!==a&&!f;c=0;for(d=h.length;c<d;c++)if(e=h[c],this.i.Qd(this,e)){b=!0;if(f)break;
g!==a&&q.add(e)}H(x);a=b}else a=!1;return a};c.prototype.HA=function(a){return Rb(this.gw,a)};c.prototype.IA=function(){return!0};c.prototype.Uj=function(){return!0};m.F=new c;h.prototype.cC=function(a,b,c){if(a&&b&&(b=this.i.Jl(a,b,this.zf(c,!0),this.zf(c,!1)))){"undefined"!==typeof b.M&&(b.M=this.M,b.aa());this.i.cf++;var d,e,f;this.i.trigger(Object.getPrototypeOf(a.Za).F.Sg,b);if(b.Ld)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.i.trigger(Object.getPrototypeOf(f.type.Za).F.Sg,f);this.i.cf--;
d=this.i.oE();c=!1;if(la(d.na.Spawn_LastExec)||d.na.Spawn_LastExec<this.i.bj)c=!0,d.na.Spawn_LastExec=this.i.bj;if(a!=this.type&&(a=a.La(),a.$a=!1,c?(H(a.H),a.H[0]=b):a.H.push(b),b.Ld))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.La(),a.$a=!1,c?(H(a.H),a.H[0]=f):a.H.push(f)}};h.prototype.OB=function(a,b){this.Go=a;this.rw=b;this.qt||(this.i.Gi(this),this.qt=!0);this.et||this.Dw()};h.prototype.WB=function(a){a=sa(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.aa())};h.prototype.QB=
function(a){this.uf!==(0!==a)&&((this.uf=0!==a)?this.aa():(this.tf.right>=this.tf.left&&this.type.Hl.update(this,this.tf,null),this.tf.set(0,0,-1,-1)))};m.fa=new h;m.Ea=new function(){}})();function Fd(a){this.i=a}
(function(){function a(){return m.length?m.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)m.push(a[b]);H(a)}function b(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function d(){}function g(){}var e=Fd.prototype;e.ma=function(){e.fa.Xv=function(a){this.width!==a&&(this.width=a,this.Fi=!0,this.aa())}};e.wa=function(a){this.Za=a;this.i=a.i};var f=e.wa.prototype;f.ma=function(){};f.Tk=function(){if(!this.Aa){var a,b,c;a=0;for(b=this.H.length;a<b;a++)c=this.H[a],
c.Gg=null,c.Aj=null,c.Qe=null}};e.ta=function(a){this.type=a;this.i=a.i;this.wd?H(this.hi):this.hi=[];this.Fi=!0};f=e.ta.prototype;f.ma=function(){this.text=this.U[0];this.visible=0===this.U[1];this.font=this.U[2];this.color=this.U[3];this.xp=this.U[4];this.rr=this.U[5];this.rv=0===this.U[7];this.Jt=this.nh=this.width;this.mh=this.height;this.Lt=this.U[8];this.lp=this.ik="";this.sz=this.uz=this.ln=0;this.IF();this.Qe=this.Aj=this.Gg=null;this.fy=!1;this.Km=this.i.jf;this.wd?this.xi.set(0,0,1,1):this.xi=
new Aa(0,0,1,1);this.i.la&&this.i.Gi(this)};f.IF=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.ln=parseInt(a[b].substr(0,a[b].length-2));this.wu=Math.ceil(this.ln/72*96)+4;0<b&&(this.lp=a[b-1]);this.ik=a[b+1];for(b+=2;b<a.length;b++)this.ik+=" "+a[b];break}};f.Tb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.xp,va:this.rr,wr:this.rv,lho:this.Lt,fn:this.ik,fs:this.lp,ps:this.ln,pxh:this.wu,tw:this.uz,th:this.sz,lrt:this.Km}};
f.Yb=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.xp=a.ha;this.rr=a.va;this.rv=a.wr;this.Lt=a.lho;this.ik=a.fn;this.lp=a.fs;this.ln=a.ps;this.wu=a.pxh;this.uz=a.tw;this.sz=a.th;this.Km=a.lrt;this.Fi=!0;this.Jt=this.nh=this.width;this.mh=this.height};f.mb=function(){if(this.i.la&&this.Qe&&300<=this.i.jf-this.Km){var a=this.O;this.ab();var b=this.Lb;if(b.right<a.qb||b.bottom<a.rb||b.left>a.Fb||b.top>a.Eb)this.i.la.deleteTexture(this.Qe),this.Gg=this.Aj=this.Qe=null}};f.Re=function(){this.Gg=
this.Aj=null;this.i.la&&this.Qe&&this.i.la.deleteTexture(this.Qe);this.Qe=null};f.j=function(){this.font=this.lp+" "+this.ln.toString()+"pt "+this.ik;this.Fi=!0;this.i.Ua=!0};f.Yd=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.O.Jd()),a.save(),a.scale(c,c));if(this.Fi||this.width!==this.Jt)this.type.Za.mC(this.text,this.hi,a,this.width,this.rv),this.Fi=!1,this.Jt=this.width;this.ab();var c=b?0:this.Mb.Wc,d=b?0:
this.Mb.Xc;this.i.ze&&(c=c+.5|0,d=d+.5|0);0===this.M||b||(a.save(),a.translate(c,d),a.rotate(this.M),d=c=0);var e=d+this.height,f=this.wu,f=f+this.Lt,g,h;1===this.rr?d+=Math.max(this.height/2-this.hi.length*f/2,0):2===this.rr&&(d+=Math.max(this.height-this.hi.length*f-2,0));for(h=0;h<this.hi.length&&!(g=c,1===this.xp?g=c+(this.width-this.hi[h].width)/2:2===this.xp&&(g=c+(this.width-this.hi[h].width)),a.fillText(this.hi[h].text,g,d),d+=f,d>=e-f);h++);(0!==this.M||b)&&a.restore();this.Km=this.i.jf};
f.Bc=function(a){if(!(1>this.width||1>this.height)){var b=this.Fi||this.fy;this.fy=!1;var c=this.O.Jd(),d=this.O.Vb(),e=this.xi,f=c*this.width,g=c*this.height,h=Math.ceil(f),m=Math.ceil(g),x=Math.abs(h),z=Math.abs(m),E=this.i.Ha/2,B=this.i.Ga/2;this.Aj||(this.Gg=document.createElement("canvas"),this.Gg.width=x,this.Gg.height=z,this.nh=x,this.mh=z,b=!0,this.Aj=this.Gg.getContext("2d"));if(x!==this.nh||z!==this.mh)this.Gg.width=x,this.Gg.height=z,this.Qe&&(a.deleteTexture(this.Qe),this.Qe=null),b=!0;
b&&(this.Aj.clearRect(0,0,x,z),this.Yd(this.Aj,!0),this.Qe||(this.Qe=a.Ke(x,z,this.i.Ya,this.i.hh)),a.Pz(this.Gg,this.Qe,this.i.hh));this.nh=x;this.mh=z;a.ie(this.Qe);a.xh(this.opacity);a.If();a.translate(-E,-B);a.kf();var D=this.Mb,b=this.O.Bb(D.Wc,D.Xc,!0,!0),x=this.O.Bb(D.Wc,D.Xc,!1,!0),z=this.O.Bb(D.Td,D.Ud,!0,!0),E=this.O.Bb(D.Td,D.Ud,!1,!0),B=this.O.Bb(D.Ed,D.Fd,!0,!0),C=this.O.Bb(D.Ed,D.Fd,!1,!0),y=this.O.Bb(D.Cd,D.Dd,!0,!0),D=this.O.Bb(D.Cd,D.Dd,!1,!0);if(this.i.ze||0===this.M&&0===d)var w=
(b+.5|0)-b,F=(x+.5|0)-x,b=b+w,x=x+F,z=z+w,E=E+F,B=B+w,C=C+F,y=y+w,D=D+F;0===this.M&&0===d?(z=b+h,E=x,B=z,C=x+m,y=b,D=C,e.right=1,e.bottom=1):(e.right=f/h,e.bottom=g/m);a.dg(b,x,z,E,B,C,y,D,e);a.If();a.scale(c,c);a.Iq(-this.O.Vb());a.translate((this.O.qb+this.O.Fb)/-2,(this.O.rb+this.O.Eb)/-2);a.kf();this.Km=this.i.jf}};var h=[];e.gC=function(a){H(h);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(h.push(b),b=""),h.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),
d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));h.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&h.push(b)};var m=[];e.mC=function(b,d,e,f,g){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var h=e.measureText(b).width;if(h<=f){c(d);d.push(a());d[0].text=b;d[0].width=h;return}}this.nC(b,d,e,f,g)}else c(d)};e.nC=function(c,d,e,f,g){g&&(this.gC(c),c=h);var v="",t,q,u,x=0;for(u=0;u<c.length;u++)"\n"===c[u]?(x>=d.length&&d.push(a()),v=b(v),q=d[x],q.text=v,q.width=
e.measureText(v).width,x++,v=""):(t=v,v+=c[u],q=e.measureText(v).width,q>=f&&(x>=d.length&&d.push(a()),t=b(t),q=d[x],q.text=t,q.width=e.measureText(t).width,x++,v=c[u],g||" "!==v||(v="")));v.length&&(x>=d.length&&d.push(a()),v=b(v),q=d[x],q.text=v,q.width=e.measureText(v).width,x++);for(u=x;u<d.length;u++)m.push(d[u]);d.length=x};e.F=new function(){};d.prototype.Mr=function(a){na(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Fi=!0,this.i.Ua=!0)};d.prototype.Xz=
function(a){na(a)&&(a=Math.round(1E10*a)/1E10);if(a=a.toString())this.text+=a,this.Fi=!0,this.i.Ua=!0};e.fa=new d;g.prototype.Text=function(a){a.hd(this.text)};e.Ea=new g})();function Gd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=Gd.prototype;d.wa=function(a){this.Za=a;this.i=a.i};d.wa.prototype.ma=function(){};d.ta=function(a){this.type=a;this.i=a.i};var g=d.ta.prototype,e="text password email number tel url".split(" ");-1<navigator.userAgent.indexOf("MSIE 9")&&(e[2]="text",e[3]="text",e[4]="text",e[5]="text");g.ma=function(){if(this.i.eb)fa("[Construct 2] Textbox plugin not supported on this platform - the object will not be created");else{6===this.U[7]?(this.Z=
document.createElement("textarea"),jQuery(this.Z).css("resize","none")):(this.Z=document.createElement("input"),this.Z.type=e[this.U[7]]);this.Z.id=this.U[9];jQuery(this.Z).appendTo(this.i.$j?this.i.$j:"body");this.Z.autocomplete="off";this.Z.value=this.U[0];this.Z.placeholder=this.U[1];this.Z.title=this.U[2];this.Z.disabled=0===this.U[4];this.Z.readOnly=1===this.U[5];this.Z.spellcheck=1===this.U[6];this.cs=0!==this.U[8];this.qe=!1;0===this.U[3]&&(jQuery(this.Z).hide(),this.visible=!1,this.qe=!0);
var a=function(a){return function(){a.i.trigger(Gd.prototype.F.DB,a)}}(this);this.Z.oninput=a;-1!==navigator.userAgent.indexOf("MSIE")&&(this.Z.oncut=a);this.Z.onclick=function(a){return function(b){b.stopPropagation();a.i.Sb=!0;a.i.trigger(Gd.prototype.F.bo,a);a.i.Sb=!1}}(this);this.Z.ondblclick=function(a){return function(b){b.stopPropagation();a.i.Sb=!0;a.i.trigger(Gd.prototype.F.UA,a);a.i.Sb=!1}}(this);this.Z.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.Z.addEventListener("touchmove",
function(a){a.stopPropagation()},!1);this.Z.addEventListener("touchend",function(a){a.stopPropagation()},!1);jQuery(this.Z).mousedown(function(a){a.stopPropagation()});jQuery(this.Z).mouseup(function(a){a.stopPropagation()});jQuery(this.Z).keydown(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});jQuery(this.Z).keyup(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});this.Im=this.Jm=this.Dm=this.Gm=this.Hm=this.Em=0;this.On(!0);this.i.Gi(this)}};g.Tb=function(){return{text:this.Z.value,
placeholder:this.Z.placeholder,tooltip:this.Z.title,disabled:!!this.Z.disabled,readonly:!!this.Z.readOnly,spellcheck:!!this.Z.spellcheck}};g.Yb=function(a){this.Z.value=a.text;this.Z.placeholder=a.placeholder;this.Z.title=a.tooltip;this.Z.disabled=a.disabled;this.Z.readOnly=a.readonly;this.Z.spellcheck=a.spellcheck};g.Re=function(){this.i.eb||(jQuery(this.Z).remove(),this.Z=null)};g.mb=function(){this.On()};g.On=function(a){if(!this.i.eb){var b=this.O.Bb(this.x,this.y,!0),c=this.O.Bb(this.x,this.y,
!1),d=this.O.Bb(this.x+this.width,this.y+this.height,!0),e=this.O.Bb(this.x+this.width,this.y+this.height,!1),g=this.i.width/this.i.devicePixelRatio,p=this.i.height/this.i.devicePixelRatio;!this.visible||!this.O.visible||0>=d||0>=e||b>=g||c>=p?(this.qe||jQuery(this.Z).hide(),this.qe=!0):(1>b&&(b=1),1>c&&(c=1),d>=g&&(d=g-1),e>=p&&(e=p-1),g=window.innerWidth,p=window.innerHeight,a||this.Em!==b||this.Hm!==c||this.Gm!==d||this.Dm!==e||this.Jm!==g||this.Im!==p?(this.Em=b,this.Hm=c,this.Gm=d,this.Dm=e,
this.Jm=g,this.Im=p,this.qe&&(jQuery(this.Z).show(),this.qe=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,g=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.Z).css("position","absolute"),jQuery(this.Z).offset({left:a,top:g}),jQuery(this.Z).width(Math.round(d-b)),jQuery(this.Z).height(Math.round(e-c)),this.cs&&jQuery(this.Z).css("font-size",this.O.Jd(!0)/this.i.devicePixelRatio-.2+"em")):this.qe&&(jQuery(this.Z).show(),this.qe=!1))}};g.Yd=function(){};g.Bc=function(){};a.prototype.DB=
function(){return!0};a.prototype.bo=function(){return!0};a.prototype.UA=function(){return!0};d.F=new a;c.prototype.Mr=function(a){this.i.eb||(this.Z.value=a)};c.prototype.ko=function(a){this.i.eb||(this.visible=0!==a)};c.prototype.Qf=function(a){this.i.eb||(this.Z.disabled=0===a)};d.fa=new c;b.prototype.Text=function(a){this.i.eb?a.hd(""):a.hd(this.Z.value)};d.Ea=new b})();function Hd(a){this.i=a}
(function(){var a=Hd.prototype;a.wa=function(a){this.Za=a;this.i=a.i};var c=a.wa.prototype;c.ma=function(){this.Aa||(this.Da=new Image,this.Da.Ko=this.Hn,this.i.tr(this.Da,this.Gn),this.lb=this.pattern=null)};c.Tk=function(){this.Aa||(this.lb=null)};c.cn=function(){if(!this.Aa&&this.H.length){this.lb||(this.lb=this.i.la.Hk(this.Da,!0,this.i.Ya,this.In));var a,c;a=0;for(c=this.H.length;a<c;a++)this.H[a].lb=this.lb}};c.Ik=function(){this.Aa||this.lb||!this.i.la||(this.lb=this.i.la.Hk(this.Da,!0,this.i.Ya,
this.In))};c.Nn=function(){this.Aa||this.H.length||!this.lb||(this.i.la.deleteTexture(this.lb),this.lb=null)};c.jn=function(a){a.drawImage(this.Da,0,0)};a.ta=function(a){this.type=a;this.i=a.i};c=a.ta.prototype;c.ma=function(){this.visible=0===this.U[0];this.xi=new Aa(0,0,0,0);this.gx=!1;this.Da=this.type.Da;this.i.la?(this.type.Ik(),this.lb=this.type.lb):(this.type.pattern||(this.type.pattern=this.i.Ab.createPattern(this.type.Da,"repeat")),this.pattern=this.type.pattern)};c.qf=function(){this.gx=
!1;this.Da=this.type.Da};c.Re=function(){this.i.la&&this.gx&&this.lb&&(this.i.la.deleteTexture(this.lb),this.lb=null)};c.Yd=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,g=this.y;this.i.ze&&(c=Math.round(c),g=Math.round(g));var e=-(this.te*this.width),f=-(this.ue*this.height),h=e%this.Da.width,m=f%this.Da.height;0>h&&(h+=this.Da.width);0>m&&(m+=this.Da.height);a.translate(c,g);a.rotate(this.M);a.translate(h,m);a.fillRect(e-h,f-m,this.width,this.height);a.restore()};
c.Xh=function(a){this.Bc(a)};c.Bc=function(a){a.ie(this.lb);a.xh(this.opacity);var c=this.xi;c.right=this.width/this.Da.width;c.bottom=this.height/this.Da.height;var g=this.Mb;if(this.i.ze){var e=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;a.dg(g.Wc+e,g.Xc+f,g.Td+e,g.Ud+f,g.Ed+e,g.Fd+f,g.Cd+e,g.Dd+f,c)}else a.dg(g.Wc,g.Xc,g.Td,g.Ud,g.Ed,g.Fd,g.Cd,g.Dd,c)};a.F=new function(){};a.fa=new function(){};a.Ea=new function(){}})();function Id(a){this.i=a}
(function(){function a(){this.ir=this.id=-1;this.hw=this.gk=this.Un=this.jm=!1;this.Db=new Aa(0,0,0,0)}function c(a){1E4>p.length&&p.push(a)}function b(){this.id=-1;this.Db=new Aa(0,0,0,0);this.fe=null}function d(a){1E4>r.length&&r.push(a)}function g(a,b,c){var d;return v.length?(d=v.pop(),d.n=a,d.x=b,d.y=c,d.left=d.x*d.n.Pc*d.n.Sd,d.top=d.y*d.n.$c*d.n.Rd,d.clear(),d.pn=!1,d):new e(a,b,c)}function e(a,b,c){this.n=a;this.x=b;this.y=c;this.left=this.x*this.n.Pc*this.n.Sd;this.top=this.y*this.n.$c*this.n.Rd;
this.Qg=[];this.vd=[];this.Xd=[];this.pn=!1;var d,e;a=0;for(b=this.n.$c;a<b;++a){e=[];c=0;for(d=this.n.Pc;c<d;++c)e.push(-1);this.Qg.push(e)}}var f=Id.prototype;f.wa=function(a){this.Za=a;this.i=a.i};var h=f.wa.prototype;h.ma=function(){var a,b,c;if(!this.Aa&&(this.Da=new Image,this.Da.Ko=this.Hn,this.i.tr(this.Da,this.Gn),this.Xi=[],this.us=!1,this.gg=[],this.wz=!1,this.hr&&this.hr.length))for(a=0,b=this.hr.length;a<b;++a)(c=this.hr[a])?this.gg.push({fe:c,jp:[[[null,null],[null,null]],[[null,null],
[null,null]]]}):this.gg.push(null)};h.Qh=function(a,b,c,d,e,f){if(!(0>a||a>=this.gg.length)&&this.gg[a]){var g=this.gg[a].jp;a=new Eb(this.gg[a].fe);a.Rh(b,c,0);f&&a.VC();d&&a.uF(b/2);e&&a.eE(c/2);g[d?1:0][e?1:0][f?1:0]=a}};h.BE=function(a){if(-1===a)return null;var b=a&n;return 0>b||b>=this.gg.length||!this.gg[b]?null:this.gg[b].jp[a&m?1:0][a&l?1:0][a&k?1:0]};h.Gs=function(){var a,b,c=this.i.la;if(c)for(a=0,b=this.Xi.length;a<b;++a)c.deleteTexture(this.Xi[a]);H(this.Xi);this.us=!1};h.Xt=function(a,
b,c,d,e,f,g){if(!(this.us||0>=a||0>=b)){this.Gs();var h=this.Da.width,k=this.Da.height,l;for(l=d;l+b<=k;l+=b+f)for(d=c;d+a<=h;d+=a+e)this.Xi.push(this.kA(d,l,a,b,g));this.us=!0}};h.kA=function(a,b,c,d,e){if(this.i.la)return this.Fr(a,b,c,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=this.Fr(a,b,c,d,!1,!1,!1,e);return{jp:f,x:a,y:b,Mc:c,RE:d}};h.vv=function(a,b,c,d,e){if(0>a||a>=this.Xi.length)return null;a=this.Xi[a];var f=a.jp;b=b?1:0;c=c?1:0;d=d?1:0;var g=f[b][c][d];
if(g)return g;g=this.Fr(a.x,a.y,a.Mc,a.RE,0!==b,0!==c,0!==d,e);return f[b][c][d]=g};h.Fr=function(a,b,c,d,e,f,g,h){var k=c,l=d;this.i.la&&!h&&(pa(k)||(k=ra(k)),pa(l)||(l=ra(l)));var m=document.createElement("canvas");m.width=k;m.height=l;var n=m.getContext("2d");if(this.i.Ab)return e?f?(g?(n.rotate(Math.PI/2),n.scale(-1,1)):n.scale(-1,-1),n.translate(-k,-l)):g?(n.rotate(Math.PI/2),n.translate(0,-l)):(n.scale(-1,1),n.translate(-k,0)):f?g?(n.rotate(-Math.PI/2),n.translate(-k,0)):(n.scale(1,-1),n.translate(0,
-l)):g&&(n.scale(-1,1),n.rotate(Math.PI/2)),n.drawImage(this.Da,a,b,c,d,0,0,k,l),h?m:this.i.Ab.createPattern(m,"repeat");n.drawImage(this.Da,a,b,c,d,0,0,k,l);a=this.i.la.Ke(k,l,this.i.Ya,!1,!h);this.i.la.Pz(m,a);return a};h.Tk=function(){this.Aa||this.Gs()};h.cn=function(){};h.Ik=function(){};h.Nn=function(){this.Aa||this.H.length||this.Gs()};h.jn=function(){};f.ta=function(a){this.type=a;this.i=a.i};var h=f.ta.prototype,m=-2147483648,l=1073741824,k=536870912,n=536870911,p=[],r=[],v=[];e.prototype.clear=
function(){var a,b,c,d,e;this.Qg.length=this.n.$c;a=0;for(b=this.Qg.length;a<b;++a)for(e=this.Qg[a],e||(e=[],this.Qg[a]=e),e.length=this.n.Pc,c=0,d=e.length;c<d;++c)e[c]=-1};e.prototype.Ym=function(){if(!this.pn){var e=this.n.Sd,f=this.n.Rd;if(!(0>=e||0>=f)){var g,h,t,B,v,C;g=0;for(h=this.vd.length;g<h;++g)c(this.vd[g]);g=0;for(h=this.Xd.length;g<h;++g)d(this.Xd[g]);H(this.vd);H(this.Xd);var y=Math.min(this.n.Ef,Math.floor(this.n.width/e)),w=Math.min(this.n.ag,Math.floor(this.n.height/f)),y=y-this.left/
e,w=w-this.top/f;y>this.n.Pc&&(y=this.n.Pc);w>this.n.$c&&(w=this.n.$c);var F=this.n.Ai,I=null;g=0;for(h=w;g<h;++g){v=this.Qg[g];t=0;for(B=y;t<B;++t)C=v[t],-1===C?I&&(this.vd.push(I),I=null):F||!I||C!==I.id?(I&&this.vd.push(I),I=p.length?p.pop():new a,I.id=C,I.ir=C&n,I.jm=0!==(C&m),I.Un=0!==(C&l),I.gk=0!==(C&k),I.hw=I.jm||I.Un||I.gk,I.Db.left=t*e+this.left,I.Db.top=g*f+this.top,I.Db.right=I.Db.left+e,I.Db.bottom=I.Db.top+f):I.Db.right+=e;I&&(this.vd.push(I),I=null)}var I=null,Q=!1;g=0;for(h=w;g<h;++g){v=
this.Qg[g];t=0;for(B=y;t<B;++t)C=v[t],-1===C?I&&(this.Xd.push(I),I=null,Q=!1):(w=this.n.type.BE(C),!I||w||Q?(I&&this.Xd.push(I),I=r.length?r.pop():new b,I.id=C,I.fe=w?w:null,C=I.Db,C.left=t*e+this.left,C.top=g*f+this.top,C.right=C.left+e,C.bottom=C.top+f,Q=!!w):I.Db.right+=e);I&&(this.Xd.push(I),I=null,Q=!1)}if(!F)for(h=this.vd.length,g=0;g<h;++g)for(B=this.vd[g],e=g+1;e<h;++e)if(t=this.vd[e],!(t.Db.top<B.Db.bottom)){if(t.Db.top>B.Db.bottom)break;if(t.Db.right>B.Db.right||t.Db.left>B.Db.left)break;
t.id===B.id&&t.Db.left===B.Db.left&&t.Db.right===B.Db.right&&(c(this.vd[e]),this.vd.splice(e,1),--h,B.Db.bottom+=f,--e)}h=this.Xd.length;for(g=0;g<h;++g)if(B=this.Xd[g],!B.fe)for(v=B.Db,e=g+1;e<h;++e)if(t=this.Xd[e],B=t.Db,!(B.top<v.bottom)){if(B.top>v.bottom)break;if(B.right>v.right||B.left>v.left)break;t.fe||B.left!==v.left||B.right!==v.right||(d(this.Xd[e]),this.Xd.splice(e,1),--h,v.bottom+=f,--e)}this.pn=!0}}};e.prototype.Ou=function(a,b,c){this.Qg[b][a]!==c&&(this.Qg[b][a]=c,this.pn=!1,this.n.uo=
!0,this.n.vi=!0,this.n.i.Ua=!0)};h.ma=function(){var a,b,c;this.visible=0===this.U[0];this.Sd=this.U[1];this.Rd=this.U[2];this.Yu=this.U[3];this.$u=this.U[4];this.Zu=this.U[5];this.av=this.U[6];this.Ai=0!==this.U[7];this.Ef=this.zz;this.ag=this.yz;this.nh=this.width;this.mh=this.height;var d=this.Sd,e=this.Rd;0===d&&(d=1);0===e&&(e=1);this.Pc=Math.ceil(this.i.Ic/d);this.$c=Math.ceil(this.i.Hc/e);if(!this.type.wz)for(this.type.wz=!0,a=0,b=this.type.gg.length;a<b;++a)if(c=this.type.gg[a])this.type.Qh(a,
d,e,!1,!1,!1),this.type.Qh(a,d,e,!1,!1,!0),this.type.Qh(a,d,e,!1,!0,!1),this.type.Qh(a,d,e,!1,!0,!0),this.type.Qh(a,d,e,!0,!1,!1),this.type.Qh(a,d,e,!0,!1,!0),this.type.Qh(a,d,e,!0,!0,!1),this.type.Qh(a,d,e,!0,!0,!0);this.wd||(this.je=[]);this.Yt(!0);this.bz(this.xz);this.type.Xt(this.Sd,this.Rd,this.Yu,this.$u,this.Zu,this.av,this.Ai);this.vi=!1;this.uo=!0;this.Wt()};h.Wt=function(){if(this.uo){var a,b,c,d,e;a=0;for(b=this.je.length;a<b;++a)for(e=this.je[a],c=0,d=e.length;c<d;++c)e[c].Ym();this.uo=
!1}};h.Mq=function(){var a,b,c,d,e;a=0;for(b=this.je.length;a<b;++a)for(e=this.je[a],c=0,d=e.length;c<d;++c)e[c].pn=!1;this.uo=!0};h.Yt=function(a){var b=wa(this.width/this.Sd),c=wa(this.height/this.Rd);if(!(b<=this.Ef&&c<=this.ag)||a){var d;a?(a=Math.ceil(this.ag/this.$c),d=Math.ceil(this.Ef/this.Pc)):(a=this.je.length,d=Math.ceil(this.Ef/this.Pc),c>this.ag&&(this.ag=c,a=Math.ceil(this.ag/this.$c)),b>this.Ef&&(this.Ef=b,d=Math.ceil(this.Ef/this.Pc)),this.Mq(),this.vi=!0,this.i.Ua=!0);for(var e,b=
0;b<a;++b)if(e=this.je[b])for(c=e.length;c<d;++c)e.push(g(this,c,b));else{e=[];for(c=0;c<d;++c)e.push(g(this,c,b));this.je[b]=e}}};h.gs=function(a,b){if(0>a||0>b)return null;var c=wa(b/this.$c);if(c>=this.je.length)return null;var c=this.je[c],d=wa(a/this.Pc);return d>=c.length?null:c[d]};h.hs=function(a,b){if(0>a||0>b||b>=this.je.length)return null;var c=this.je[b];return a>=c.length?null:c[a]};h.bz=function(a){var b=[];a=a.split(",");var c,d,e,f,g;c=0;for(d=a.length;c<d;++c)if(e=a[c],f=e.indexOf("x"),
-1<f)for(g=parseInt(e.substring(0,f),10),e=e.substring(f+1),f=parseInt(e,10),-1<e.indexOf("h")&&(f|=m),-1<e.indexOf("v")&&(f|=l),-1<e.indexOf("d")&&(f|=k);0<g;--g)b.push(f);else f=parseInt(e,10),-1<e.indexOf("h")&&(f|=m),-1<e.indexOf("v")&&(f|=l),-1<e.indexOf("d")&&(f|=k),b.push(f);for(c=a=0;c<this.ag;++c)for(d=0;d<this.Ef;++d)g=b[a++],(e=this.gs(d,c))&&e.Ou(d%this.Pc,c%this.$c,g)};h.CE=function(){var a="";if(0>=this.Ef||0>=this.ag)return a;var b=1,c=this.$w(0,0),d,e,f,g,h,p,r,t;g=wa(this.width/this.Sd);
e=wa(this.height/this.Rd);for(d=0;d<e;++d)for(f=0===d?1:0;f<g;++f)h=this.$w(f,d),h===c?++b:(-1===c?(p=-1,c=t=r=!1):(p=c&n,r=0!==(c&m),t=0!==(c&l),c=0!==(c&k)),a=1===b?a+(""+p):a+(""+b+"x"+p),r&&(a+="h"),t&&(a+="v"),c&&(a+="d"),a+=",",b=1,c=h);-1===c?(p=-1,c=t=r=!1):(p=c&n,r=0!==(c&m),t=0!==(c&l),c=0!==(c&k));a=1===b?a+(""+p):a+(""+b+"x"+p);r&&(a+="h");t&&(a+="v");c&&(a+="d");return a};h.$w=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Ef||b>=this.ag)return-1;var c=this.gs(a,b);
return c?c.Qg[b%this.$c][a%this.Pc]:-1};h.Ou=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Ef||b>=this.ag)return-1;var d=this.gs(a,b);if(!d)return-1;d.Ou(a%this.Pc,b%this.$c,c)};h.Rz=function(a){return Math.floor((a-this.x)/(this.Pc*this.Sd))};h.Sz=function(a){return Math.floor((a-this.y)/(this.$c*this.Rd))};h.nE=function(a,b){var c=this.Sz(a.top),d=this.Rz(a.right),e=this.Sz(a.bottom),f,g,h;for(f=this.Rz(a.left);f<=d;++f)for(g=c;g<=e;++g)if(h=this.hs(f,g))h.Ym(),Ia(b,h.Xd)};
h.kE=function(a){var b,c,d,e,f,g;b=0;for(c=this.je.length;b<c;++b)for(f=this.je[b],d=0,e=f.length;d<e;++d)g=f[d],g.Ym(),Ia(a,g.Xd)};h.Re=function(){var a,b,e,f,g;a=0;for(b=this.je.length;a<b;++a){g=this.je[a];e=0;for(f=g.length;e<f;++e){for(var h=g[e],k=void 0,l=void 0,k=0,l=h.vd.length;k<l;++k)c(h.vd[k]);H(h.vd);k=0;for(l=h.Xd.length;k<l;++k)d(h.Xd[k]);H(h.Xd);1E3>v.length&&v.push(h)}H(g)}H(this.je)};h.Tb=function(){this.Yt();return{w:wa(this.width/this.Sd),h:wa(this.height/this.Rd),d:this.CE()}};
h.Yb=function(a){this.Ef=a.w;this.ag=a.h;this.Yt(!0);this.bz(a.d);this.vi=!0;this.Mq()};h.Yd=function(a){if(!(0>=this.Sd||0>=this.Rd)){this.type.Xt(this.Sd,this.Rd,this.Yu,this.$u,this.Zu,this.av,this.Ai);if(this.width!==this.nh||this.height!==this.mh)this.vi=!0,this.Mq(),this.Wt(),this.nh=this.width,this.mh=this.height;a.globalAlpha=this.opacity;var b=this.O,c=b.qb,d=b.rb,e=b.Fb,b=b.Eb,f=this.x,g=this.y,h=this.Ai,k;this.i.ze&&(f=Math.round(f),g=Math.round(g));var l=this.Pc*this.Sd,m=this.$c*this.Rd,
n=Math.floor((c-f)/l),l=Math.floor((e-f)/l),p=Math.floor((d-g)/m),m=Math.floor((b-g)/m),r=f%this.Sd,t=g%this.Rd;this.Ai&&(t=r=0);if(0!==r||0!==t)a.save(),a.translate(r,t),f-=r,g-=t,c-=r,d-=t,e-=r,b-=t;for(var v,Z,T,S,J,M,O,K,N;n<=l;++n)for(v=p;v<=m;++v)if(Z=this.hs(n,v))for(Z.Ym(),T=0,S=Z.vd.length;T<S;++T)J=Z.vd[T],-1!==J.id&&(k=J.Db,M=k.left+f,O=k.top+g,K=k.right+f,k=k.bottom+g,M>e||K<c||O>b||k<d||(N=this.type.vv(J.ir,J.jm,J.Un,J.gk,this.Ai),h?a.drawImage(N,M,O):(a.fillStyle=this.type.vv(J.ir,J.jm,
J.Un,J.gk,this.Ai),a.fillRect(M,O,K-M,k-O))));0===r&&0===t||a.restore()}};var t=new Aa(0,0,1,1);h.Xh=function(a){this.Bc(a)};h.Bc=function(a){if(!(0>=this.Sd||0>=this.Rd)){this.type.Xt(this.Sd,this.Rd,this.Yu,this.$u,this.Zu,this.av,this.Ai);if(this.width!==this.nh||this.height!==this.mh)this.vi=!0,this.Mq(),this.Wt(),this.nh=this.width,this.mh=this.height;a.xh(this.opacity);var b=this.type.Xi,c=this.O,d=c.qb,e=c.rb,f=c.Fb,c=c.Eb,g=this.x,h=this.y,k;this.i.ze&&(g=Math.round(g),h=Math.round(h));var l=
this.Pc*this.Sd,m=this.$c*this.Rd,n=Math.floor((f-g)/l),p=Math.floor((e-h)/m),m=Math.floor((c-h)/m),r,v,G,Z,T,S,J,M,O,K,N,U,ga,P,qa,ma,Ya;for(qa=Math.floor((d-g)/l);qa<=n;++qa)for(ma=p;ma<=m;++ma)if(Ya=this.hs(qa,ma))for(Ya.Ym(),l=0,r=Ya.vd.length;l<r;++l)v=Ya.vd[l],-1!==v.id&&(k=v.Db,G=k.left+g,Z=k.top+h,T=k.right+g,k=k.bottom+h,G>f||T<d||Z>c||k<e||(a.ie(b[v.ir]),t.right=(T-G)/this.Sd,t.bottom=(k-Z)/this.Rd,v.hw?(v.gk&&(P=t.right,t.right=t.bottom,t.bottom=P),J=S=0,M=t.right,O=0,K=t.right,N=t.bottom,
U=0,ga=t.bottom,v.gk&&(P=U,U=M,M=P,P=ga,ga=O,O=P),v.jm&&(P=S,S=M,M=P,P=J,J=O,O=P,P=U,U=K,K=P,P=ga,ga=N,N=P),v.Un&&(P=S,S=U,U=P,P=J,J=ga,ga=P,P=M,M=K,K=P,P=O,O=N,N=P),a.ZF(G,Z,T,Z,T,k,G,k,S,J,M,O,K,N,U,ga)):a.dg(G,Z,T,Z,T,k,G,k,t)))}};f.F=new function(){};f.fa=new function(){};f.Ea=new function(){}})();function Jd(a){this.i=a}
(function(){function a(a){m=a.x;l=a.y;k=a.z}function c(a,c,d,e){var f;f=n.length?n.pop():new b;f.init(a,c,d,e);return f}function b(){this.An=this.id=this.uj=this.tj=this.y=this.x=this.br=this.$q=this.It=this.time=this.Vu=0;this.Kn=this.lr=!1}function d(){}function g(){}var e=Jd.prototype;e.wa=function(a){this.Za=a;this.i=a.i};e.wa.prototype.ma=function(){};e.ta=function(a){this.type=a;this.i=a.i;this.touches=[];this.$t=!1};var f=e.ta.prototype,h={left:0,top:0};f.Ul=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var m=0,l=0,k=0,n=[];b.prototype.init=function(a,b,c,d){var e=tb();this.Vu=this.It=this.time=e;this.$q=a;this.br=b;this.x=a;this.y=b;this.tj=a;this.uj=b;this.pressure=this.height=this.width=0;this.id=c;this.An=d;this.Kn=this.lr=!1};b.prototype.update=function(a,b,c,d,e,f){this.It=this.time;this.time=a;this.tj=this.x;this.uj=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Kn&&15<=bb(this.$q,this.br,this.x,this.y)&&(this.Kn=
!0)};b.prototype.rF=function(a,b){!this.lr&&500<=tb()-this.Vu&&!this.Kn&&15>bb(this.$q,this.br,this.x,this.y)&&(this.lr=!0,a.Rg=this.An,a.hl=this.id,a.mk=b,a.i.trigger(Jd.prototype.F.cB,a),a.Yg=this.x,a.Zg=this.y,a.i.trigger(Jd.prototype.F.dB,a),a.mk=0)};var p=-1E3,r=-1E3,v=-1E4;b.prototype.Zx=function(a,b){if(!this.lr){var c=tb();333>=c-this.Vu&&!this.Kn&&15>bb(this.$q,this.br,this.x,this.y)&&(a.Rg=this.An,a.hl=this.id,a.mk=b,666>=c-v&&25>bb(p,r,this.x,this.y)?(a.i.trigger(Jd.prototype.F.VA,a),a.Yg=
this.x,a.Zg=this.y,a.i.trigger(Jd.prototype.F.WA,a),r=p=-1E3,v=-1E4):(a.i.trigger(Jd.prototype.F.BB,a),a.Yg=this.x,a.Zg=this.y,a.i.trigger(Jd.prototype.F.CB,a),p=this.x,r=this.y,v=c),a.mk=0)}};f.ma=function(){this.jF=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.mk=this.hl=this.Rg=this.Zg=this.Yg=this.dw=this.cw=this.bw=this.tC=this.sC=this.rC=this.oq=this.nq=this.mq=0;this.JG=0!==this.U[0];var b=0<this.i.Zd?document:this.i.canvas,c=document;this.i.Kd?c=b=window.Canvas:this.i.Af&&
(c=b=window);var d=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",function(a){d.qy(a)},!1),b.addEventListener("pointermove",function(a){d.oy(a)},!1),c.addEventListener("pointerup",function(a){d.kq(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.kq(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.i.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){d.qy(a)},!1),b.addEventListener("MSPointerMove",function(a){d.oy(a)},!1),c.addEventListener("MSPointerUp",function(a){d.kq(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.kq(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",function(a){d.ty(a)},!1),b.addEventListener("touchmove",function(a){d.ry(a)},!1),c.addEventListener("touchend",function(a){d.ju(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.ju(a,!0)},!1));if(this.jF){var e=function(a){a=a.reading;d.bw=a.accelerationX;d.cw=a.accelerationY;d.dw=a.accelerationZ},f=function(a){a=a.reading;d.mq=a.yawDegrees;d.nq=a.pitchDegrees;d.oq=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();
g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.mq=a.alpha||0;d.nq=a.beta||0;d.oq=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.rC=a.accelerationIncludingGravity.x||0,d.sC=a.accelerationIncludingGravity.y||0,d.tC=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.bw=a.acceleration.x||0,d.cw=a.acceleration.y||0,d.dw=a.acceleration.z||0)},!1);this.JG&&!this.i.eb&&(jQuery(document).mousemove(function(a){d.hu(a)}),jQuery(document).mousedown(function(a){d.gu(a)}),
jQuery(document).mouseup(function(a){d.iu(a)}));!this.i.xk&&this.i.Le&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(a,null,{frequency:40});this.i.BG(this)};f.oy=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Ul(a.pointerId),c=tb();if(0<=b){var d=this.i.eb?h:jQuery(this.i.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,
a.width||0,a.height||0,a.pressure||0)}}};f.qy=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.i.eb?h:jQuery(this.i.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;tb();this.Rg=this.touches.length;this.hl=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.Rg));this.i.Sb=!0;this.i.trigger(Jd.prototype.F.Ov,this);this.i.trigger(Jd.prototype.F.Tv,this);this.Yg=d;this.Zg=b;this.i.trigger(Jd.prototype.F.Sv,this);
this.i.Sb=!1}};f.kq=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var c=this.Ul(a.pointerId);this.Rg=0<=c?this.touches[c].An:-1;this.hl=0<=c?this.touches[c].id:-1;this.i.Sb=!0;this.i.trigger(Jd.prototype.F.Nv,this);this.i.trigger(Jd.prototype.F.Rv,this);0<=c&&(b||this.touches[c].Zx(this,c),100>n.length&&n.push(this.touches[c]),this.touches.splice(c,1));this.i.Sb=!1}};f.ry=function(a){a.preventDefault&&a.preventDefault();
var b=tb(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Ul(e.identifier),0<=f){var g=this.i.eb?h:jQuery(this.i.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top,2*(e.QH||e.WH||e.JH||e.MH||0),2*(e.RH||e.XH||e.KH||e.NH||0),e.EH||e.VH||e.IH||e.LH||0)}};f.ty=function(a){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.i.eb?h:jQuery(this.i.canvas).offset();tb();this.i.Sb=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=
a.changedTouches[d],g=this.Ul(f.identifier),-1===g){g=f.pageX-b.left;var k=f.pageY-b.top;this.Rg=this.touches.length;this.hl=f.identifier;this.touches.push(c(g,k,f.identifier,this.Rg));this.i.trigger(Jd.prototype.F.Ov,this);this.i.trigger(Jd.prototype.F.Tv,this);this.Yg=g;this.Zg=k;this.i.trigger(Jd.prototype.F.Sv,this)}this.i.Sb=!1};f.ju=function(a,b){a.preventDefault&&Xb(a)&&a.preventDefault();this.i.Sb=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Ul(e.identifier),
0<=e&&(this.Rg=this.touches[e].An,this.hl=this.touches[e].id,this.i.trigger(Jd.prototype.F.Nv,this),this.i.trigger(Jd.prototype.F.Rv,this),b||this.touches[e].Zx(this,e),100>n.length&&n.push(this.touches[e]),this.touches.splice(e,1));this.i.Sb=!1};f.j=function(){return this.i.Le&&0===this.mq&&0!==k?90*k:this.mq};f.k=function(){return this.i.Le&&0===this.nq&&0!==l?90*l:this.nq};f.B=function(){return this.i.Le&&0===this.oq&&0!==m?90*m:this.oq};f.gu=function(a){this.ty({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]});this.$t=!0};f.hu=function(a){this.$t&&this.ry({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};f.iu=function(a){a.preventDefault&&this.i.wp&&!this.i.hh&&a.preventDefault();this.i.wp=!0;this.ju({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.$t=!1};f.Jn=function(){var a,b,c,d=tb();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.It=d),c.rF(this,a)};d.prototype.Tv=function(){return!0};d.prototype.Rv=function(){return!0};
d.prototype.Sv=function(a){return a?this.i.Dn(a,this.Yg,this.Zg):!1};var t=[];d.prototype.BA=function(a){if(!a)return!1;var b=a.La(),c=b.Id(),d,e,f,g,h,k;f=0;for(g=c.length;f<g;f++){var l=c[f];l.ab();h=0;for(k=this.touches.length;h<k;h++)if(e=this.touches[h],d=l.O.oc(e.x,e.y,!0),e=l.O.oc(e.x,e.y,!1),l.Gd(d,e)){t.push(l);break}}return t.length?(b.$a=!1,Ha(b.H,t),a.Ie(),H(t),!0):!1};d.prototype.Ov=function(a){a=Math.floor(a);return a===this.Rg};d.prototype.Nv=function(a){a=Math.floor(a);return a===
this.Rg};d.prototype.cB=function(){return!0};d.prototype.BB=function(){return!0};d.prototype.VA=function(){return!0};d.prototype.dB=function(a){return a?this.i.Dn(a,this.Yg,this.Zg):!1};d.prototype.CB=function(a){return a?this.i.Dn(a,this.Yg,this.Zg):!1};d.prototype.WA=function(a){return a?this.i.Dn(a,this.Yg,this.Zg):!1};e.F=new d;g.prototype.Qr=function(a,b){var c=this.mk;if(0>c||c>=this.touches.length)a.xa(0);else{var d,e,f,g,h;la(b)?(d=this.i.eh(0),e=d.scale,f=d.Vd,g=d.xe,h=d.M,d.scale=1,d.Vd=
1,d.xe=1,d.M=0,a.xa(d.oc(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Vd=f,d.xe=g,d.M=h):(d=na(b)?this.i.eh(b):this.i.Zl(b))?a.xa(d.oc(this.touches[c].x,this.touches[c].y,!0)):a.xa(0)}};g.prototype.Rr=function(a,b){var c=this.mk;if(0>c||c>=this.touches.length)a.xa(0);else{var d,e,f,g,h;la(b)?(d=this.i.eh(0),e=d.scale,f=d.Vd,g=d.ye,h=d.M,d.scale=1,d.Vd=1,d.ye=1,d.M=0,a.xa(d.oc(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.Vd=f,d.ye=g,d.M=h):(d=na(b)?this.i.eh(b):this.i.Zl(b))?a.xa(d.oc(this.touches[c].x,
this.touches[c].y,!1)):a.xa(0)}};e.Ea=new g})();function Kd(a){this.i=a}
(function(){function a(a){var b;if(!k[a])for(k[a]=Array(20),b=0;20>b;++b)k[a][b]=0;return k[a]}function c(a){var b;if(!n[a])for(n[a]=Array(20),b=0;20>b;++b)n[a][b]=0;return n[a]}function b(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function d(a){l[a.gamepad.index]=a.gamepad;h.trigger(Kd.prototype.F.aB,m)}function g(a){h.trigger(Kd.prototype.F.bB,m);l[a.gamepad.index]=null}function e(){}var f=Kd.prototype;f.wa=function(a){this.Za=a;this.i=a.i};f.wa.prototype.ma=function(){};var h=null,m=null,l=Array(16),
k=Array(16),n=Array(16),p="",r="",v=null,t={windows:{}};t.windows.firefox={};var q=[0,1,2,3,4,5,8,9,10,11],u=[0,1,[7,6],2,3,[14,15],[12,13]];t.windows.firefox.xbox360=function(a,b){return b?a>=u.length?-1:na(u[a])?u[a]+16:u[a]:a>=q.length?-1:q[a]};var x=[2,0,1,3,4,6,5,7,8,9],z=[0,1,2,3,[14,15],[12,13]];t.windows.firefox.logitechdualaction=function(a,b){return b?a>=z.length?-1:na(z[a])?z[a]+16:z[a]:a>=x.length?-1:x[a]};f.ta=function(a){this.type=a;h=this.i=a.i;m=this};var E=f.ta.prototype;E.ma=function(){this.Bk=
0;var a=navigator.userAgent;p="windows";/mac/i.test(a)&&(p="mac");v=t[p];r="chrome";/firefox/i.test(a)&&(r="firefox");v&&(v=v[r]);window.addEventListener("webkitgamepadconnected",d,!1);window.addEventListener("webkitgamepaddisconnected",g,!1);window.addEventListener("MozGamepadConnected",d,!1);window.addEventListener("MozGamepadDisconnected",g,!1);window.addEventListener("gamepadconnected",d,!1);window.addEventListener("gamepaddisconnected",g,!1);this.i.Gi(this);this.Al=[]};E.mb=function(){this.Al.length=
0;var d=null,e=!1;navigator.getGamepads?d=navigator.getGamepads():navigator.webkitGetGamepads?d=navigator.webkitGetGamepads():navigator.mozGetGamepads?d=navigator.mozGetGamepads():navigator.msGetGamepads?d=navigator.msGetGamepads():this.i.wx&&window.cr_getGamepads?(d=window.cr_getGamepads(),e=!0):d=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||l;if(d){var f,g,h,m,p,q,r;f=0;for(g=d.length;f<g;f++){var t=d[f];if(t){var u=a(f),x=c(f);m=f;h=a(m);m=c(m);p=void 0;for(p=0;20>p;++p)m[p]=
h[p];e?h=b:v?(h="",m=t.id.toLowerCase(),-1<m.indexOf("xbox 360")?h="xbox360":-1<m.indexOf("logitech dual action")&&(h="logitechdualaction"),h=v[h]||b):h=b;p=h;h=0;for(m=t.buttons.length;h<m;h++)r="undefined"!==typeof t.buttons[h].value?t.buttons[h].value:t.buttons[h],q=p(h,!1,r),0<=q&&20>q&&(u[q]=100*r,50<=u[q]&&50>x[q]&&(this.Bk=q));h=0;for(m=t.axes.length;h<m;h++)r=t.axes[h],q=p(h,!0,r),na(q)?0<=q&&20>q&&(u[q]=100*r):(u[q[0]]=0,u[q[1]]=0,0>=r?u[q[0]]=Math.abs(100*r):u[q[1]]=Math.abs(100*r));this.Al.push(t)}else t=
f,k[t]=null,n[t]=null}for(;20>f;++f)d=f,k[d]=null,n[d]=null}};E.Tb=function(){return{lastButton:this.Bk}};E.Yb=function(a){this.Bk=a.lastButton};e.prototype.aB=function(){return!0};e.prototype.bB=function(){return!0};e.prototype.wv=function(b,c){b=Math.floor(b);if(0>b||b>=this.Al.length)return!1;var d=a(b);if(!d)return!1;if(d=50<=d[c])this.Bk=c;return d};e.prototype.OA=function(b,d){b=Math.floor(b);if(0>b||b>=this.Al.length)return!1;var e=a(b),f=c(b);if(!e||!f)return!1;if(e=50<=e[d]&&50>f[d])this.Bk=
d;return e};e.prototype.PA=function(b,d){b=Math.floor(b);if(0>b||b>=this.Al.length)return!1;var e=a(b),f=c(b);if(!e||!f)return!1;if(e=50>e[d]&&50<=f[d])this.Bk=d;return e};f.F=new e;f.fa=new function(){};f.Ea=new function(){}})();function Ld(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=Ld.prototype;d.wa=function(a){this.behavior=a;this.i=a.i};d.wa.prototype.ma=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var g=d.ta.prototype;g.ma=function(){var a=this.U[0];this.ne=this.U[1];this.sd=this.U[2];this.DC=0!==this.U[3];this.Mu=0!==this.U[4];this.Y=Math.cos(this.n.M)*a;this.ba=Math.sin(this.n.M)*a;this.tj=this.n.x;this.uj=this.n.y;this.Md=this.n.M;this.Mn=0;this.enabled=0!==this.U[5]};
g.Tb=function(){return{acc:this.ne,g:this.sd,dx:this.Y,dy:this.ba,lx:this.tj,ly:this.uj,lka:this.Md,t:this.Mn,e:this.enabled}};g.Yb=function(a){this.ne=a.acc;this.sd=a.g;this.Y=a.dx;this.ba=a.dy;this.tj=a.lx;this.uj=a.ly;this.Md=a.lka;this.Mn=a.t;this.enabled=a.e};g.mb=function(){if(this.enabled){var a=this.i.Cg(this.n),b,c;this.n.M!==this.Md&&(this.Mu&&(b=bb(0,0,this.Y,this.ba),this.Y=Math.cos(this.n.M)*b,this.ba=Math.sin(this.n.M)*b),this.Md=this.n.M);0!==this.ne&&(b=bb(0,0,this.Y,this.ba),c=0===
this.Y&&0===this.ba?this.n.M:Wa(0,0,this.Y,this.ba),b+=this.ne*a,0>b&&(b=0),this.Y=Math.cos(c)*b,this.ba=Math.sin(c)*b);0!==this.sd&&(this.ba+=this.sd*a);this.tj=this.n.x;this.uj=this.n.y;if(0!==this.Y||0!==this.ba)if(this.n.x+=this.Y*a,this.n.y+=this.ba*a,this.Mn+=bb(0,0,this.Y*a,this.ba*a),this.Mu&&(this.n.M=Wa(0,0,this.Y,this.ba),this.n.aa(),this.Md=this.n.M),this.n.aa(),this.DC&&(b=this.i.kd(this.n)))this.i.Gj(this.n,b),b=bb(0,0,this.Y,this.ba),c=this.i.GC(this.n,this.tj,this.uj),this.Y=Math.cos(c)*
b,this.ba=Math.sin(c)*b,this.n.x+=this.Y*a,this.n.y+=this.ba*a,this.n.aa(),this.Mu&&(this.Md=this.n.M=c,this.n.aa()),this.i.Hf(this.n,this.Y/b,this.ba/b,Math.max(2.5*b*a,30))||this.i.Oy(this.n,100)}};a.prototype.eA=function(a,b){return Wc(this.Mn,a,b)};d.F=new a;c.prototype.Wv=function(a){var b=Wa(0,0,this.Y,this.ba);this.Y=Math.cos(b)*a;this.ba=Math.sin(b)*a};c.prototype.Vv=function(a){a=Pa(a);var b=bb(0,0,this.Y,this.ba);this.Y=Math.cos(a)*b;this.ba=Math.sin(a)*b};c.prototype.Qf=function(a){this.enabled=
1===a};d.fa=new c;b.prototype.Nr=function(a){var b=bb(0,0,this.Y,this.ba),b=Nb(b);a.xa(b)};d.Ea=new b})();function Md(a){this.i=a}
(function(){function a(){}function c(){}var b=Md.prototype;b.wa=function(a){this.behavior=a;this.i=a.i};b.wa.prototype.ma=function(){};b.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.ta.prototype;d.ma=function(){this.Vr=1===this.U[0];this.$y=!1;this.Rl=this.U[1];this.Xn=this.U[2];this.bp=this.U[3];this.UC=this.U[4];this.Lc=this.Vr?0:3;this.wd?this.Kf.reset():this.Kf=new Bb;this.ni=this.n.opacity?this.n.opacity:1;this.Vr&&(0===this.Rl?(this.Lc=1,0===this.Xn&&(this.Lc=
2)):(this.n.opacity=0,this.i.Ua=!0))};d.Tb=function(){return{fit:this.Rl,wt:this.Xn,fot:this.bp,s:this.Lc,st:this.Kf.Va,mo:this.ni}};d.Yb=function(a){this.Rl=a.fit;this.Xn=a.wt;this.bp=a.fot;this.Lc=a.s;this.Kf.reset();this.Kf.Va=a.st;this.ni=a.mo};d.mb=function(){this.Kf.add(this.i.Cg(this.n));0===this.Lc&&(this.n.opacity=this.Kf.Va/this.Rl*this.ni,this.i.Ua=!0,this.n.opacity>=this.ni&&(this.n.opacity=this.ni,this.Lc=1,this.Kf.reset(),this.i.trigger(Md.prototype.F.XA,this.n)));1===this.Lc&&this.Kf.Va>=
this.Xn&&(this.Lc=2,this.Kf.reset(),this.i.trigger(Md.prototype.F.EB,this.n));2===this.Lc&&0!==this.bp&&(this.n.opacity=this.ni-this.Kf.Va/this.bp*this.ni,this.i.Ua=!0,0>this.n.opacity&&(this.n.opacity=0,this.Lc=3,this.Kf.reset(),this.i.trigger(Md.prototype.F.YA,this.n),1===this.UC&&this.i.Ee(this.n)))};d.nD=function(){this.Lc=0;this.Kf.reset();0===this.Rl?(this.Lc=1,0===this.Xn&&(this.Lc=2)):(this.n.opacity=0,this.i.Ua=!0)};a.prototype.YA=function(){return!0};a.prototype.XA=function(){return!0};
a.prototype.EB=function(){return!0};b.F=new a;c.prototype.dC=function(){this.Vr||this.$y||(this.ni=this.n.opacity?this.n.opacity:1,this.$y=!0);3===this.Lc&&this.nD()};b.fa=new c;b.Ea=new function(){}})();function Nd(a){this.i=a}
(function(){function a(){}function c(){}var b=Nd.prototype;b.wa=function(a){this.behavior=a;this.i=a.i};b.wa.prototype.ma=function(){};b.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.ta.prototype;d.ma=function(){this.Hi=this.Mg=this.Lc=this.iq=this.lq=0};d.Tb=function(){return{ontime:this.lq,offtime:this.iq,stage:this.Lc,stagetimeleft:this.Mg,timeleft:this.Hi}};d.Yb=function(a){this.lq=a.ontime;this.iq=a.offtime;this.Lc=a.stage;this.Mg=a.stagetimeleft;this.Hi=
a.timeleft};d.mb=function(){if(!(0>=this.Hi)){var a=this.i.Cg(this.n);this.Hi-=a;0>=this.Hi?(this.Hi=0,this.n.visible=!0,this.i.Ua=!0,this.i.trigger(Nd.prototype.F.Dv,this.n)):(this.Mg-=a,0>=this.Mg&&(0===this.Lc?(this.n.visible=!1,this.Lc=1,this.Mg+=this.iq):(this.n.visible=!0,this.Lc=0,this.Mg+=this.lq),this.i.Ua=!0))}};a.prototype.Dv=function(){return!0};b.F=new a;c.prototype.nA=function(a,b,c){this.lq=a;this.iq=b;this.Lc=1;this.Mg=b;this.Hi=c;this.n.visible=!1;this.i.Ua=!0};b.fa=new c;b.Ea=new function(){}})();
function Od(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var Pd=2/180*Math.PI,Qd=8/180*Math.PI,Rd=.5*Math.PI,Ud=Rd*Rd,Vd=2/180*Math.PI,Wd=Number.MIN_VALUE*Number.MIN_VALUE;function Xd(a,c){return a.x*c.x+a.y*c.y}function Yd(a,c){return a.x*c.y-a.y*c.x}function Zd(a){return V(1*a.y,-1*a.x)}function $d(a,c){return V(a.u.x*c.x+a.A.x*c.y,a.u.y*c.x+a.A.y*c.y)}function ae(a,c){return V(Xd(c,a.u),Xd(c,a.A))}
function be(a,c){var b=$d(a.D,c);b.x+=a.position.x;b.y+=a.position.y;return b}function ce(a,c){var b=de(c,a.position),d=b.x*a.D.u.x+b.y*a.D.u.y;b.y=b.x*a.D.A.x+b.y*a.D.A.y;b.x=d;return b}function de(a,c){return V(a.x-c.x,a.y-c.y)}function ee(a,c,b){return a<c?c:a>b?b:a}function fe(){this.u=V(0,0);this.A=V(0,0);this.u.Set(1,0);this.A.Set(0,1)}function ge(a){var c=new fe;c.Set(a);return c}fe.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.u.Set(c,a);this.A.Set(-a,c)};
fe.prototype.Nc=function(){var a=new fe;he(a,this);return a};function he(a,c){a.u.S(c.u);a.A.S(c.A)}fe.prototype.Ja=function(){this.u.Set(0,0);this.A.Set(0,0)};fe.prototype.Li=function(){return Math.atan2(this.u.y,this.u.x)};function ie(a,c){var b=a.u.x*a.A.y-a.A.x*a.u.y;0!==b&&(b=1/b);c.u.x=b*a.A.y;c.A.x=-b*a.A.x;c.u.y=-b*a.u.y;c.A.y=b*a.u.x}function je(a,c,b,d){var g=a.u.x*a.A.y-a.A.x*a.u.y;0!==g&&(g=1/g);c.x=g*(a.A.y*b-a.A.x*d);c.y=g*(a.u.x*d-a.u.y*b);return c}
function ke(a,c,b){this.u=new le(0,0,0);this.A=new le(0,0,0);this.j=new le(0,0,0);a&&this.u.S(a);c&&this.A.S(c);b&&this.j.S(b)}ke.prototype.Nc=function(){return new ke(this.u,this.A,this.j)};ke.prototype.Ja=function(){this.u.Set(0,0,0);this.A.Set(0,0,0);this.j.Set(0,0,0)};function Ce(a,c,b,d){var g=a.u.x,e=a.A.x,f=a.u.y;a=a.A.y;var h=g*a-e*f;0!=h&&(h=1/h);c.x=h*(a*b-e*d);c.y=h*(g*d-f*b);return c}
function De(a,c,b,d,g){var e=a.u.x,f=a.u.y,h=a.u.z,m=a.A.x,l=a.A.y,k=a.A.z,n=a.j.x,p=a.j.y;a=a.j.z;var r=e*(l*a-k*p)+f*(k*n-m*a)+h*(m*p-l*n);0!=r&&(r=1/r);c.x=r*(b*(l*a-k*p)+d*(k*n-m*a)+g*(m*p-l*n));c.y=r*(e*(d*a-g*p)+f*(g*n-b*a)+h*(b*p-d*n));c.z=r*(e*(l*g-k*d)+f*(k*b-m*g)+h*(m*d-l*b));return c}function Ee(){this.V=V(0,0);this.Zc=V(0,0);this.I=V(0,0)}Ee.prototype.Set=function(a){this.V.S(a.V);this.Zc.S(a.Zc);this.I.S(a.I);this.of=a.of;this.T=a.T;this.Pd=a.Pd};
Ee.prototype.Nc=function(){var a=new Ee;a.V.S(this.V);a.Zc.S(this.Zc);a.I.S(this.I);a.of=this.of;a.T=this.T;a.Pd=this.Pd;return a};Ee.prototype.Fe=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.Zc.x+c*this.I.x;a.position.y=(1-c)*this.Zc.y+c*this.I.y;a.D.Set((1-c)*this.of+c*this.T);var b=a.D;a.position.x-=b.u.x*this.V.x+b.A.x*this.V.y;a.position.y-=b.u.y*this.V.x+b.A.y*this.V.y};
Ee.prototype.Hh=function(a){void 0===a&&(a=0);if(this.Pd<a&&1-this.Pd>Number.MIN_VALUE){var c=(a-this.Pd)/(1-this.Pd);this.Zc.x=(1-c)*this.Zc.x+c*this.I.x;this.Zc.y=(1-c)*this.Zc.y+c*this.I.y;this.of=(1-c)*this.of+c*this.T;this.Pd=a}};function Fe(a,c){this.position=V(0,0);this.D=new fe;a&&this.position.S(a);c&&he(this.D,c)}Fe.prototype.Set=function(a){this.position.S(a.position);he(this.D,a.D)};Fe.prototype.Li=function(){return Math.atan2(this.D.u.y,this.D.u.x)};
function Ge(a,c){this.x=a;this.y=c}var He=[];function V(a,c){if(0<He.length){var b=He.pop();b.Set(a,c);return b}return new Ge(a,c)}function Ie(a){He.push(a)}A=Ge.prototype;A.Ja=function(){this.y=this.x=0};A.Set=function(a,c){this.x=a;this.y=c};A.S=function(a){this.x=a.x;this.y=a.y};A.Ih=function(){return V(-this.x,-this.y)};A.Nc=function(){return V(this.x,this.y)};A.mg=function(a){this.x+=a.x;this.y+=a.y};A.Yv=function(a){this.x-=a.x;this.y-=a.y};A.Ve=function(a){this.x*=a;this.y*=a};
function Je(a){return Math.sqrt(Ke(a))}function Ke(a){return a.x*a.x+a.y*a.y}function Le(a){var c=Je(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function le(a,c,b){this.x=a;this.y=c;this.z=b}A=le.prototype;A.Ja=function(){this.z=this.y=this.x=0};A.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};A.S=function(a){this.x=a.x;this.y=a.y;this.z=a.z};A.Ih=function(){return new le(-this.x,-this.y,-this.z)};A.Nc=function(){return new le(this.x,this.y,this.z)};
A.mg=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};A.Yv=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};A.Ve=function(a){this.x*=a;this.y*=a;this.z*=a};function Me(){this.ob=.005}A=Me.prototype;A.Ni=function(){};A.Nc=function(){};A.Set=function(a){this.ob=a.ob};A.Qj=function(){};A.pl=function(){};A.Zn=function(){};A.Lr=function(){};function Ne(a){this.ob=.005;this.ob=a;this.j=a*a;this.Hb=V(0,0)}Od(Ne,Me);A=Ne.prototype;A.Ni=function(){return"b2CircleShape"};
A.Nc=function(){var a=new Ne(this.ob);a.Set(this);return a};A.Set=function(a){Me.prototype.Set.call(this,a);a instanceof Ne&&this.Hb.S(a.Hb)};A.Qj=function(a,c){var b=c.D,d=c.position.x+(b.u.x*this.Hb.x+b.A.x*this.Hb.y),b=c.position.y+(b.u.y*this.Hb.x+b.A.y*this.Hb.y);a.j.Set(d-this.ob,b-this.ob);a.k.Set(d+this.ob,b+this.ob)};A.pl=function(a,c){a.j=c*Math.PI*this.j;a.k.S(this.Hb);a.B=a.j*(.5*this.j+(this.Hb.x*this.Hb.x+this.Hb.y*this.Hb.y))};
A.Zn=function(a,c,b,d){b=be(b,this.Hb);var g=-(Xd(a,b)-c);if(g<-this.ob+Number.MIN_VALUE)return 0;if(g>this.ob)return d.S(b),Math.PI*this.j;c=g*g;g=this.j*(Math.asin(g/this.ob)+Math.PI/2)+g*Math.sqrt(this.j-c);c=-2/3*Math.pow(this.j-c,1.5)/g;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return g};A.Lr=function(a){a.W=[this.Hb];a.j=1;a.ob=this.ob};
function Oe(a,c){this.ob=.005;this.j=a;this.k=c;this.B=V(this.k.x-this.j.x,this.k.y-this.j.y);Le(this.B);this.G=V(this.B.y,-this.B.x);V(-.04*(this.G.x-this.B.x)+this.j.x,-.04*(this.G.y-this.B.y)+this.j.y);V(-.04*(this.G.x+this.B.x)+this.k.x,-.04*(this.G.y+this.B.y)+this.k.y);V(-this.G.x,-this.G.y)}Od(Oe,Me);Oe.prototype.Ni=function(){return"b2EdgeShape"};
Oe.prototype.Qj=function(a,c){var b=c.D,d=c.position.x+(b.u.x*this.j.x+b.A.x*this.j.y),g=c.position.y+(b.u.y*this.j.x+b.A.y*this.j.y),e=c.position.x+(b.u.x*this.k.x+b.A.x*this.k.y),b=c.position.y+(b.u.y*this.k.x+b.A.y*this.k.y);d<e?(a.j.x=d,a.k.x=e):(a.j.x=e,a.k.x=d);g<b?(a.j.y=g,a.k.y=b):(a.j.y=b,a.k.y=g)};Oe.prototype.pl=function(a){a.j=0;a.k.S(this.j);a.B=0};
Oe.prototype.Zn=function(a,c,b,d){void 0===c&&(c=0);var g=V(a.x*c,a.y*c),e=be(b,this.j);b=be(b,this.k);var f=Xd(a,e)-c;a=Xd(a,b)-c;if(0<f){if(0<a)return 0;e.x=-a/(f-a)*e.x+f/(f-a)*b.x;e.y=-a/(f-a)*e.y+f/(f-a)*b.y}else 0<a&&(b.x=-a/(f-a)*e.x+f/(f-a)*b.x,b.y=-a/(f-a)*e.y+f/(f-a)*b.y);d.x=(g.x+e.x+b.x)/3;d.y=(g.y+e.y+b.y)/3;return.5*((e.x-g.x)*(b.y-g.y)-(e.y-g.y)*(b.x-g.x))};function Pe(){this.j=0;this.k=V(0,0);this.B=0}function Qe(){this.ob=.005;this.j=V(0,0);this.W=[];this.Nb=[]}Od(Qe,Me);A=Qe.prototype;
A.Ni=function(){return"b2PolygonShape"};A.Nc=function(){var a=new Qe;a.Set(this);return a};A.Set=function(a){Me.prototype.Set.call(this,a);if(a instanceof Qe){this.j.S(a.j);this.wb=a.wb;Re(this,this.wb);for(var c=0;c<this.wb;c++)this.W[c].S(a.W[c]),this.Nb[c].S(a.Nb[c])}};
function Se(a,c){var b=c.length;a.wb=b;Re(a,b);for(b=b=0;b<a.wb;b++)a.W[b].S(c[b]);for(b=0;b<a.wb;++b){var d=de(a.W[b+1<a.wb?b+1:0],a.W[b]);a.Nb[b].S(Zd(d));Le(a.Nb[b])}for(var b=a.W,d=a.wb,g=V(0,0),e=0,f=1/3,h=0;h<d;++h){var m=b[h],l=h+1<d?b[h+1]:b[0],k=.5*((m.x-0)*(l.y-0)-(m.y-0)*(l.x-0)),e=e+k;g.x+=k*f*(0+m.x+l.x);g.y+=k*f*(0+m.y+l.y)}g.x*=1/e;g.y*=1/e;a.j=g}
function Te(a,c,b){a.wb=4;Re(a,4);a.W[0].Set(-c,-b);a.W[1].Set(c,-b);a.W[2].Set(c,b);a.W[3].Set(-c,b);a.Nb[0].Set(0,-1);a.Nb[1].Set(1,0);a.Nb[2].Set(0,1);a.Nb[3].Set(-1,0);a.j.Ja()}
A.Qj=function(a,c){for(var b=c.D,d=this.W[0],g=c.position.x+(b.u.x*d.x+b.A.x*d.y),e=c.position.y+(b.u.y*d.x+b.A.y*d.y),f=g,h=e,m=1;m<this.wb;++m)var d=this.W[m],l=c.position.x+(b.u.x*d.x+b.A.x*d.y),d=c.position.y+(b.u.y*d.x+b.A.y*d.y),g=g<l?g:l,e=e<d?e:d,f=f>l?f:l,h=h>d?h:d;a.j.x=g-this.ob;a.j.y=e-this.ob;a.k.x=f+this.ob;a.k.y=h+this.ob};
A.pl=function(a,c){if(2==this.wb)a.k.x=.5*(this.W[0].x+this.W[1].x),a.k.y=.5*(this.W[0].y+this.W[1].y),a.j=0,a.B=0;else{for(var b=0,d=0,g=0,e=0,f=1/3,h=0;h<this.wb;++h)var m=this.W[h],l=h+1<this.wb?this.W[h+1]:this.W[0],k=m.x-0,n=m.y-0,p=l.x-0,r=l.y-0,v=k*r-n*p,t=.5*v,g=g+t,b=b+t*f*(0+m.x+l.x),d=d+t*f*(0+m.y+l.y),m=k,e=e+v*(f*(.25*(m*m+p*m+p*p)+(0*m+0*p))+0+(f*(.25*(n*n+r*n+r*r)+(0*n+0*r))+0));a.j=c*g;a.k.Set(1/g*b,1/g*d);a.B=c*e}};
A.Zn=function(a,c,b,d){var g=ae(b.D,a),e=c-Xd(a,b.position),f=[],h=0,m=-1;c=-1;var l=!1;for(a=a=0;a<this.wb;++a){f[a]=Xd(g,this.W[a])-e;var k=f[a]<-Number.MIN_VALUE;0<a&&(k?l||(m=a-1,h++):l&&(c=a-1,h++));l=k}switch(h){case 0:return l?(a=new Pe,this.pl(a,1),d.S(be(b,a.k)),a.j):0;case 1:-1==m?m=this.wb-1:c=this.wb-1}a=(m+1)%this.wb;g=(c+1)%this.wb;e=(0-f[m])/(f[a]-f[m]);f=(0-f[c])/(f[g]-f[c]);m=V(this.W[m].x*(1-e)+this.W[a].x*e,this.W[m].y*(1-e)+this.W[a].y*e);c=V(this.W[c].x*(1-f)+this.W[g].x*f,this.W[c].y*
(1-f)+this.W[g].y*f);f=0;e=V(0,0);for(h=this.W[a];a!=g;)a=(a+1)%this.wb,l=a==g?c:this.W[a],k=.5*((h.x-m.x)*(l.y-m.y)-(h.y-m.y)*(l.x-m.x)),f+=k,e.x+=k*(m.x+h.x+l.x)/3,e.y+=k*(m.y+h.y+l.y)/3,h=l;e.Ve(1/f);d.S(be(b,e));return f};A.Lr=function(a){a.W=this.W;a.j=this.wb;a.ob=this.ob};A.$n=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.wb;++d){var g=this.W[d].x*a.x+this.W[d].y*a.y;g>b&&(c=d,b=g)}return c};
A.sl=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.wb;++d){var g=this.W[d].x*a.x+this.W[d].y*a.y;g>b&&(c=d,b=g)}return this.W[c]};function Re(a,c){a.W=[];a.Nb=[];for(var b=a.W.length;b<c;b++)a.W[b]=V(0,0),a.Nb[b]=V(0,0)}new fe;function Ue(){this.k=this.j=this.B=this.nc=0}function Ve(a,c){a.nc=c;a.B=a.nc&255;a.j=(a.nc&65280)>>8&255;a.k=(a.nc&16711680)>>16&255;a.G=(a.nc&4278190080)>>24&255}Ue.prototype.Set=function(a){Ve(this,a.nc)};
Ue.prototype.Nc=function(){var a=new Ue;a.Set(this);return a};function Ze(){this.nf=V(0,0);this.id=new Ue}Ze.prototype.Set=function(a){this.nf.S(a.nf);this.id.Set(a.id)};function $e(){this.j=V(0,0);this.k=V(0,0)}var af=[];function bf(){if(0<af.length){var a=af.pop();a.Ja();return a}return new $e}$e.prototype.Ja=function(){this.j.Set(0,0);this.k.Set(0,0)};function cf(a,c){var b;return b=(b=(b=(b=a.j.x<=c.j.x)&&a.j.y<=c.j.y)&&c.k.x<=a.k.x)&&c.k.y<=a.k.y}
$e.prototype.xl=function(a){return 0<a.j.x-this.k.x||0<a.j.y-this.k.y||0<this.j.x-a.k.x||0<this.j.y-a.k.y?!1:!0};function df(a,c,b){a.j.x=Math.min(c.j.x,b.j.x);a.j.y=Math.min(c.j.y,b.j.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function ef(a,c,b,d){var g=0,e=c[0].nf,f=c[1].nf,h=b.x*e.x+b.y*e.y-d;b=b.x*f.x+b.y*f.y-d;0>=h&&a[g++].Set(c[0]);0>=b&&a[g++].Set(c[1]);0>h*b&&(b=h/(h-b),d=a[g].nf,d.x=e.x+b*(f.x-e.x),d.y=e.y+b*(f.y-e.y),a[g].id=0<h?c[0].id:c[1].id,g++);return g}
function ff(a,c,b,d,g){for(var e=c.D.u.x*a.Nb[b].x+c.D.A.x*a.Nb[b].y,f=c.D.u.y*a.Nb[b].x+c.D.A.y*a.Nb[b].y,h=g.D.u.x*e+g.D.u.y*f,m=g.D.A.x*e+g.D.A.y*f,l=0,k=Number.MAX_VALUE,n=0;n<d.wb;n++){var p=d.W[n].x*h+d.W[n].y*m;p<k&&(k=p,l=n)}return(g.position.x+(g.D.u.x*d.W[l].x+g.D.A.x*d.W[l].y)-(c.position.x+(c.D.u.x*a.W[b].x+c.D.A.x*a.W[b].y)))*e+(g.position.y+(g.D.u.y*d.W[l].x+g.D.A.y*d.W[l].y)-(c.position.y+(c.D.u.y*a.W[b].x+c.D.A.y*a.W[b].y)))*f}
function gf(a,c,b,d){for(var g=d.position.x+(d.D.u.x*b.j.x+d.D.A.x*b.j.y),e=d.position.y+(d.D.u.y*b.j.x+d.D.A.y*b.j.y),g=g-(c.position.x+(c.D.u.x*a.j.x+c.D.A.x*a.j.y)),e=e-(c.position.y+(c.D.u.y*a.j.x+c.D.A.y*a.j.y)),f=g*c.D.u.x+e*c.D.u.y,e=g*c.D.A.x+e*c.D.A.y,g=0,h=-Number.MAX_VALUE,m=0;m<a.wb;++m){var l=a.Nb[m].x*f+a.Nb[m].y*e;l>h&&(h=l,g=m)}f=ff(a,c,g,b,d);e=g-1;0>e&&(e=a.wb-1);h=ff(a,c,e,b,d);m=g+1;m>=a.wb&&(m=0);var l=ff(a,c,m,b,d),k=0,n=0;if(h>f&&h>l)for(k=e,n=h;;)if(g=k-1,0>g&&(g=a.wb-1),f=
ff(a,c,g,b,d),f>n)k=g,n=f;else break;else if(l>f)for(k=m,n=l;;)if(g=k+1,g>=a.wb&&(g=0),f=ff(a,c,g,b,d),f>n)k=g,n=f;else break;else k=g,n=f;return{kw:k,Lq:n}}
function hf(a,c,b){var d=new jf,g=b.uh,e=b.j,f=b.vh,h=b.k,m,l;d.j=c.count;for(var k=d.W,n=0;n<d.j;n++){var p=k[n];p.pc=c.pc[n];p.qc=c.qc[n];m=kf(g,p.pc);l=kf(f,p.qc);p.zd=be(e,m);p.Pf=be(h,l);p.Mc=de(p.Pf,p.zd);p.T=0}1<d.j&&(m=c.j,l=lf(d),l<.5*m||2*m<l||l<Number.MIN_VALUE)&&(d.j=0);0==d.j&&(p=k[0],p.pc=0,p.qc=0,m=kf(g,0),l=kf(f,0),p.zd=be(e,m),p.Pf=be(h,l),p.Mc=de(p.Pf,p.zd),d.j=1);for(g=0;20>g;){e=[];for(f=0;f<d.j;f++)e[f]={},e[f].pc=d.W[f].pc,e[f].qc=d.W[f].qc;if(2==d.j)f=d,h=f.k.Mc,k=f.B.Mc,m=
de(k,h),h=-(h.x*m.x+h.y*m.y),0>=h?(f.k.T=1,f.j=1):(k=k.x*m.x+k.y*m.y,0>=k?(f.B.T=1,f.j=1,f.k.Set(f.B)):(m=1/(k+h),f.k.T=k*m,f.B.T=h*m,f.j=2));else if(3==d.j){var f=d,r=f.k.Mc,v=f.B.Mc,t=f.G.Mc,q=de(v,r),h=Xd(v,q),k=-Xd(r,q),u=de(t,r);m=Xd(t,u);l=-Xd(r,u);p=de(t,v);n=Xd(t,p);p=-Xd(v,p);u=Yd(q,u);q=u*Yd(v,t);t=u*Yd(t,r);r=u*Yd(r,v);0>=k&&0>=l?(f.k.T=1,f.j=1):0<h&&0<k&&0>=r?(m=1/(h+k),f.k.T=h*m,f.B.T=k*m,f.j=2):0<m&&0<l&&0>=t?(h=1/(m+l),f.k.T=m*h,f.G.T=l*h,f.j=2,f.B.Set(f.G)):0>=h&&0>=p?(f.B.T=1,f.j=
1,f.k.Set(f.B)):0>=m&&0>=n?(f.G.T=1,f.j=1,f.k.Set(f.G)):0<n&&0<p&&0>=q?(h=1/(n+p),f.B.T=n*h,f.G.T=p*h,f.j=2,f.k.Set(f.G)):(h=1/(q+t+r),f.k.T=q*h,f.B.T=t*h,f.G.T=r*h,f.j=3)}if(3==d.j)break;f=d;1==f.j?f=f.k.Mc.Ih():2==f.j?(h=de(f.B.Mc,f.k.Mc),f=0<Yd(h,f.k.Mc.Ih())?V(-1*h.y,1*h.x):Zd(h)):f=V(0,0);if(Ke(f)<Wd)break;h=f.Ih();d.W[d.j].pc=b.uh.$n(ae(b.j.D,h));d.W[d.j].zd=be(b.j,kf(b.uh,d.W[d.j].pc));d.W[d.j].qc=b.vh.$n(ae(b.k.D,f));d.W[d.j].Pf=be(b.k,kf(b.vh,d.W[d.j].qc));d.W[d.j].Mc=de(d.W[d.j].Pf,d.W[d.j].zd);
Ie(f);Ie(h);g++;h=!1;for(f=0;f<e.length;f++)if(d.W[d.j].pc==e[f].pc&&d.W[d.j].qc==e[f].qc){h=!0;break}if(h)break;d.j++}g=a.j;e=a.k;1==d.j?(g.S(d.k.zd),e.S(d.k.Pf)):2==d.j?(g.x=d.k.T*d.k.zd.x+d.B.T*d.B.zd.x,g.y=d.k.T*d.k.zd.y+d.B.T*d.B.zd.y,e.x=d.k.T*d.k.Pf.x+d.B.T*d.B.Pf.x,e.y=d.k.T*d.k.Pf.y+d.B.T*d.B.Pf.y):3==d.j&&(e.x=g.x=d.k.T*d.k.zd.x+d.B.T*d.B.zd.x+d.G.T*d.G.zd.x,e.y=g.y=d.k.T*d.k.zd.y+d.B.T*d.B.zd.y+d.G.T*d.G.zd.y);a.B=Je(de(a.j,a.k));c.j=lf(d);c.count=d.j;g=d.W;for(e=0;e<d.j;e++)c.pc[e]=g[e].pc,
c.qc[e]=g[e].qc;b.B&&(c=b.uh.ob,b=b.vh.ob,a.B>c+b&&a.B>Number.MIN_VALUE?(a.B-=c+b,d=de(a.k,a.j),Le(d),a.j.x+=c*d.x,a.j.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,Ie(d)):(b=V(0,0),b.x=.5*(a.j.x+a.k.x),b.y=.5*(a.j.y+a.k.y),a.j.x=a.k.x=b.x,a.j.y=a.k.y=b.y,a.B=0,Ie(b)))}function mf(){}function nf(){this.j=V(0,0);this.k=V(0,0);this.B=0}function of(){}of.prototype.Set=function(a){a.Lr(this)};
of.prototype.$n=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.j;d++){var g=this.W[d].x*a.x+this.W[d].y*a.y;g>b&&(c=d,b=g)}return c};of.prototype.sl=function(a){return this.W[this.$n(a)]};function kf(a,c){void 0===c&&(c=0);return a.W[c]}function pf(){this.j=null}pf.prototype.ql=function(a){qf(this,a);a.Wd()};function rf(a,c,b){if(null!==a.j){var d=[];for(d.push(a.j);0<d.length;)if(a=d.pop(),a.hb.xl(b))if(null===a.oe){if(!c(a.yf))break}else d.push(a.oe),d.push(a.wg)}}
function sf(a,c){if(null===a.j)a.j=c,a.j.parent=null;else{var b;b=c.hb;b=V((b.j.x+b.k.x)/2,(b.j.y+b.k.y)/2);for(var d=a.j;null!==d.oe;)var g=d.oe,d=d.wg,e=Math.abs((g.hb.j.x+g.hb.k.x)/2-b.x)+Math.abs((g.hb.j.y+g.hb.k.y)/2-b.y),f=Math.abs((d.hb.j.x+d.hb.k.x)/2-b.x)+Math.abs((d.hb.j.y+d.hb.k.y)/2-b.y),d=e<f?g:d;Ie(b);b=d;g=b.parent;d=tf();d.parent=g;df(d.hb,c.hb,b.hb);if(g)for(b.parent.oe==b?g.oe=d:g.wg=d,d.oe=b,d.wg=c,b.parent=d,c.parent=d;g&&!cf(g.hb,d.hb);)df(g.hb,g.oe.hb,g.wg.hb),d=g,g=g.parent;
else d.oe=b,d.wg=c,b.parent=d,c.parent=d,a.j=d}}function qf(a,c){if(c==a.j)a.j=null;else{var b=c.parent,d=b.parent,g;g=b.oe==c?b.wg:b.oe;if(d)for(d.oe==b?d.oe=g:d.wg=g,g.parent=d;d;){g=d.hb;df(d.hb,d.oe.hb,d.wg.hb);if(cf(g,d.hb))break;d=d.parent}else a.j=g,g.parent=null;b.Wd()}}function uf(){this.k=new pf;this.j=[]}uf.prototype.ql=function(a){La(this.j,a);this.k.ql(a)};uf.prototype.xl=function(a,c){return a.hb.xl(c.hb)};
function vf(a,c){for(var b=[];0<a.j.length;){var d=a.j.pop();rf(a.k,function(a){a!=d.yf&&b.push(new wf(d.yf,a));return!0},d.hb)}for(var g=0;g<b.length;){var e=b[g];c(e.Vl,e.Wl);for(g++;g<b.length;){var f=b[g];if(!(f.Vl==e.Vl&&f.Wl==e.Wl||f.Vl==e.Wl&&f.Wl==e.Vl))break;g++}}}function xf(a){this.hb=bf();this.yf=this.parent=this.wg=this.oe=null;"undefined"!=typeof a&&(this.yf=a)}var yf=[];
function tf(a){if(0<yf.length){var c=yf.pop();"undefined"!=typeof a&&(c.yf=a);c.hb.Ja();return c}return new xf(a)}xf.prototype.Wd=function(){this.yf=this.parent=this.wg=this.oe=null;yf.push(this)};function wf(a,c){this.Vl=a;this.Wl=c}function zf(){this.pb=this.jc=0;this.Fa=[];for(var a=0;2>a;a++)this.Fa[a]=new Af;this.ed=V(0,0);this.Oa=V(0,0)}zf.prototype.Yc=function(){for(var a=0;2>a;a++)this.Fa[a].Yc();this.ed.Ja();this.Oa.Ja();this.jc=this.pb=0};
zf.prototype.Set=function(a){this.jc=a.jc;for(var c=0;2>c;c++)this.Fa[c].Set(a.Fa[c]);this.ed.S(a.ed);this.Oa.S(a.Oa);this.pb=a.pb};zf.prototype.Nc=function(){var a=new zf;a.Set(this);return a};function Af(){this.Oa=V(0,0);this.Df=new Ue;this.Yc()}Af.prototype.Yc=function(){this.Oa.Ja();this.zj=this.yj=0;Ve(this.Df,0)};Af.prototype.Set=function(a){this.Oa.S(a.Oa);this.yj=a.yj;this.zj=a.zj;this.Df.Set(a.Df)};
function Bf(){var a=Hf,c=Mf,b=Tf,d,g,e=0;switch(a.pb){case Uf:d=ae(c.D,a.j);g=ae(b.D,a.j.Ih());d=a.k.sl(d);g=a.B.sl(g);c=be(c,d);b=be(b,g);e=(b.x-c.x)*a.j.x+(b.y-c.y)*a.j.y;break;case Vf:e=$d(c.D,a.j);c=be(c,a.Oa);g=ae(b.D,e.Ih());g=a.B.sl(g);b=be(b,g);e=(b.x-c.x)*e.x+(b.y-c.y)*e.y;break;case Wf:e=$d(b.D,a.j),b=be(b,a.Oa),d=ae(c.D,e.Ih()),d=a.k.sl(d),c=be(c,d),e=(c.x-b.x)*e.x+(c.y-b.y)*e.y}return e}var Uf=1,Vf=2,Wf=4;
function jf(){this.k=new Xf;this.B=new Xf;this.G=new Xf;this.W=[this.k,this.B,this.G]}function lf(a){return 1==a.j?0:2==a.j?Je(de(a.k.Mc,a.B.Mc)):3==a.j?Yd(de(a.B.Mc,a.k.Mc),de(a.G.Mc,a.k.Mc)):0}function Yf(){this.pc=[0,0,0];this.qc=[0,0,0]}function Xf(){}Xf.prototype.Set=function(a){this.zd.S(a.zd);this.Pf.S(a.Pf);this.Mc.S(a.Mc);this.T=a.T;this.pc=a.pc;this.qc=a.qc};function Zf(){this.uh=new of;this.vh=new of;this.oz=new Ee;this.pz=new Ee}
function $f(a,c){this.ea="Body"+ag++;this.J=new Fe;this.J.position.S(a.position);this.J.D.Set(a.M);this.q=new Ee;this.q.V.Ja();this.q.Pd=1;this.q.of=this.q.T=a.M;this.q.I.x=this.J.D.u.x*this.q.V.x+this.J.D.A.x*this.q.V.y;this.q.I.y=this.J.D.u.y*this.q.V.x+this.J.D.A.y*this.q.V.y;this.q.I.x+=this.J.position.x;this.q.I.y+=this.J.position.y;this.q.Zc.S(this.q.I);this.C=a.R.Nc();this.k=V(0,0);this.K=a.Zj;this.Kb=a.j;this.Wa=a.k;this.Ne=a.G;this.ra=a.xc;this.Oe=c;this.$b=null;this.pe=new bg;this.qa=new cg;
this.L=a.B;this.ub=a.Fk;this.bb=a.Xj;this.R=this.G=0;this.pb=a.type;this.da=2==this.pb?1:0;this.P=2==this.pb?1:0;this.ca=this.j=0;this.cb=a.K;this.B=new dg;this.N=[]}function eg(a,c){var b=new fg(a,0,c);if(a.ra){var d=a.Oe.j.j;b.Gc.Qj(b.j,a.J);var g=d.k,e=b.j,f=tf(b);f.hb.j.x=e.j.x-.1;f.hb.j.y=e.j.y-.1;f.hb.k.x=e.k.x+.1;f.hb.k.y=e.k.y+.1;sf(g,f);d.j.push(f);b.k=f}d=a.B;g=b.tv;null==d.j[g]&&(e=new gg(b),f=d.B,null!=f?f.next=e:d.k=e,e.Tg(f),d.B=e,d.j[g]=e);b.Ut=a;0<b.G&&hg(a);a.Oe.k=!0}A=$f.prototype;
A.Wd=function(){Ie(this.C);Ie(this.k)};function ig(a,c,b){a.J.D.Set(b);a.J.position.S(c);c=a.J.D;var d=a.q.V;a.q.I.x=c.u.x*d.x+c.A.x*d.y;a.q.I.y=c.u.y*d.x+c.A.y*d.y;a.q.I.x+=a.J.position.x;a.q.I.y+=a.J.position.y;a.q.Zc.S(a.q.I);a.q.of=a.q.T=b;b=a.Oe.j.j;for(c=a.B.tb();c;c=c.gb())jg(c.yf,b,a.J,a.J);kg(a.Oe.j)}A.Fe=function(){return this.J};A.Li=function(){return this.q.T};A.Uv=function(a){ig(this,this.J.position,a)};function lg(a,c){0!=a.pb&&a.C.S(c)}
A.jo=function(a){void 0===a&&(a=0);0!=this.pb&&(this.L=a)};A.Ji=function(a,c){2==this.pb&&(mg(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.G+=(c.x-this.q.I.x)*a.y-(c.y-this.q.I.y)*a.x)};A.Er=function(a){void 0===a&&(a=0);2==this.pb&&(mg(this,!0),this.G+=a)};
function hg(a){a.da=0;a.P=0;a.j=0;a.ca=0;a.q.V.Ja();if(0!=a.pb&&1!=a.pb){for(var c=V(0,0),b=a.B.tb();b;b=b.gb()){var d=b.yf;if(0!=d.G){var g=void 0,g=new Pe;d.Gc.pl(g,d.G);d=g;a.da+=d.j;c.x+=d.k.x*d.j;c.y+=d.k.y*d.j;a.j+=d.B}}0<a.da?(a.P=1/a.da,c.x*=a.P,c.y*=a.P):(a.da=1,a.P=1);0<a.j&&!a.Kb?(a.j-=a.da*(c.x*c.x+c.y*c.y),a.j*=a.cb,a.ca=1/a.j):(a.j=0,a.ca=0);b=a.q.I.Nc();a.q.V.S(c);a.q.Zc.S(be(a.J,a.q.V));a.q.I.S(a.q.Zc);a.C.x+=a.L*-(a.q.I.y-b.y);a.C.y+=a.L*+(a.q.I.x-b.x);Ie(c);Ie(b)}}
function ng(a,c){var b=a.J.D,b=V(b.u.x*c.x+b.A.x*c.y,b.u.y*c.x+b.A.y*c.y);b.x+=a.J.position.x;b.y+=a.J.position.y;return b}A.md=function(){return this.pb};function mg(a,c){if(a.Ne!=c){a.Ne=c;a.R=0;c||(a.C.Ja(),a.L=0,a.k.Ja(),a.G=0);for(var b=0;b<a.N.length;b++)og(a.N[b],a)}}A.Tj=function(){return this.ra};A.Mi=function(){return this.pe};
function pg(a){qg.D.Set(a.q.of);var c=qg.D,b=a.q.V;qg.position.x=a.q.Zc.x-(c.u.x*b.x+c.A.x*b.y);qg.position.y=a.q.Zc.y-(c.u.y*b.x+c.A.y*b.y);c=a.Oe.j.j;for(b=a.B.tb();b;b=b.gb())jg(b.yf,c,qg,a.J)}function rg(a){a.J.D.Set(a.q.T);var c=a.J.D,b=a.q.V;a.J.position.x=a.q.I.x-(c.u.x*b.x+c.A.x*b.y);a.J.position.y=a.q.I.y-(c.u.y*b.x+c.A.y*b.y)}function sg(a,c){if(2!=a.pb&&2!=c.pb)return!1;for(var b=a.$b;b;b=b.next)if(b.gf==c&&0==b.jh.Yx)return!1;return!0}
A.Hh=function(a){this.q.Hh(a);this.q.I.S(this.q.Zc);this.q.T=this.q.of;rg(this)};var ag=0;function tg(){this.position=V(0,0);this.R=V(0,0);this.Xj=this.Fk=this.B=this.M=0;this.G=this.k=!0;this.Zj=this.j=!1;this.type=0;this.xc=!0;this.K=1}function ug(){this.k=[];for(var a=0;a<=vg;a++)this.k[a]=null;this.B=[];for(a=0;a<=vg;a++)this.B[a]=null;this.j={}}ug.prototype.tb=function(a){return this.k[a]};
function og(a,c){var b=c.md(),d=c.ea,g=c.Ne,e=c.Tj();2==b?wg(a,c,d,xg):yg(a,d,xg);0!=b?wg(a,c,d,zg):yg(a,d,zg);0!=b&&e&&g?wg(a,c,d,Ag):yg(a,d,Ag);g?wg(a,c,d,Bg):yg(a,d,Bg);e?wg(a,c,d,Cg):yg(a,d,Cg)}ug.prototype.ho=function(a){var c=a.ea;if(null!=this.j[c]){La(a.N,this);for(a=0;a<=vg;a++)yg(this,c,a);delete this.j[c]}};function yg(a,c,b){var d=a.j[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.j,c=c.gb(),null==d?a.k[b]=c:d.next=c,null==c?a.B[b]=d:c.Tg(d)))}
function wg(a,c,b,d){var g=a.j[b];if(null==g){for(var g=[],e=0;e<=vg;e++)g[e]=null;a.j[b]=g}null==g[d]&&(g[d]=new Dg(c),c=a.B[d],null!=c?c.next=g[d]:a.k[d]=g[d],g[d].Tg(c),a.B[d]=g[d])}var xg=0,zg=1,Cg=2,Ag=3,Bg=4,vg=5;function Dg(a){this.body=a;this.j=this.next=null}Dg.prototype.Tg=function(a){this.j=a};Dg.prototype.sb=function(){return this.body};Dg.prototype.gb=function(){return this.next};function Eg(){}
Eg.prototype.j=function(a,c){var b=a.K.Nc(),d=c.K.Nc();return b.j==d.j&&0!=b.j?0<b.j:0!=(b.B&d.k)&&0!=(b.k&d.B)};var Fg=new Eg;function Gg(){this.j=[];this.k=[]}function Hg(){}Hg.prototype.BeginContact=function(){};Hg.prototype.EndContact=function(){};function Ig(a){this.Oe=a;this.B=Fg;this.k=Jg;this.G=new Kg;this.j=new uf}
function kg(a){vf(a.j,function(c,b){a:{var d=c.sb(),g=b.sb();if(d!=g&&sg(g,d)&&a.B.j(c,b)){for(d=g.pe.tb(Lg);d;d=d.gb())if(g=d.Rc.tc,g==c){if(g=d.Rc.ic,g==b)break a}else if(g==b&&(g=d.Rc.ic,g==c))break a;a.G.B(c,b)}}})}Ig.prototype.Wd=function(a){a.Oj&&this.k.EndContact(a);0<a.df.jc&&(mg(a.tc.sb(),!0),mg(a.ic.sb(),!0));Mg(a.Ao,a);Mg(a.Bo,a);Mg(a.Ar,a);this.G.Wd(a)};function Ng(){this.k=1;this.B=65535;this.j=0}Ng.prototype.Nc=function(){var a=new Ng;a.k=this.k;a.B=this.B;a.j=this.j;return a};
function fg(a,c,b){this.tv="Fixture"+Og++;this.K=b.j.Nc();this.j=bf();this.Ut=a;this.Gc=b.shape.Nc();this.G=b.Wh;this.R=b.ai;this.N=b.yi;this.B=b.k}fg.prototype.sb=function(){return this.Ut};fg.prototype.Wd=function(){af.push(this.j)};fg.prototype.ql=function(a){null!=this.k&&(a.ql(this.k),this.k=null)};
function jg(a,c,b,d){if(a.k){var g=bf(),e=bf();a.Gc.Qj(g,b);a.Gc.Qj(e,d);df(a.j,g,e);af.push(g);af.push(e);b=de(d.position,b.position);d=a.k;g=c.k;a=a.j;if(cf(d.hb,a))a=!1;else{qf(g,d);var e=.1+2*Math.abs(b.x),f=.1+2*Math.abs(b.y);d.hb.j.x=a.j.x-e;d.hb.j.y=a.j.y-f;d.hb.k.x=a.k.x+e;d.hb.k.y=a.k.y+f;sf(g,d);a=!0}a&&c.j.push(d);Ie(b)}}var Og=0;function Pg(){this.j=new Ng;this.j.k=1;this.j.B=65535;this.j.j=0;this.shape=null;this.ai=.2;this.Wh=this.yi=0;this.k=!1}
function dg(){this.B=this.k=null;this.j={}}dg.prototype.tb=function(){return this.k};function gg(a){this.yf=a;this.j=this.next=null}gg.prototype.Tg=function(a){this.j=a};gg.prototype.gb=function(){return this.next};function Qg(a,c){this.ra=a;this.G=c;this.k=[];this.R=[];this.K=[];this.B=[];this.j=[]}function Rg(a){a.k=[];a.R=[];a.K=[];a.B=[];a.j=[]}function Sg(a,c){if(null!=a.ra)for(var b=0;b<a.B.length;++b)for(var d=c[b],g=new Gg,e=0;e<d.K;++e)g.j[e]=d.B[e].kc,g.k[e]=d.B[e].Og}
function Tg(a,c){a.k.push(c);0!=c.md()&&(a.K.push(c),2==c.md()&&a.R.push(c))}function Ug(a,c,b,d,g){this.Xa=a;var e=0;0<a&&(e=1/a);this.j=e;this.Cc=c;this.hn=b;this.Tn=d;this.Fh=g}function Vg(a,c){this.j=new Ig(this);this.B=new Wg;this.k=!1;this.Ki=new ug;this.pe=new bg;this.$b=null;this.R=new cg;this.N=0;this.ea=c;this.G=a;this.K=0;this.pF=Xg(this,new tg)}var Yg=1-100*Number.MIN_VALUE;function Xg(a,c){var b=new $f(c,a),d=a.Ki,g=b.ea;null==d.j[g]&&(wg(d,b,g,vg),og(d,b),b.N.push(d));return b}
function Zg(a,c){for(var b=c.$b;b;){var d=b,b=b.next;$g(a,d.jh)}for(b=c.qa.tb();b;b=b.gb())b.NC.ho(c);for(b=c.pe.tb(Lg);b;b=b.gb())a.j.Wd(b.Rc);for(b=c.B.tb();b;b=b.gb()){var d=c,g=b.yf,e=d.B,f=g.tv,h=e.j[f];if(null!=h){var m=h.j,h=h.gb();null==m?e.k=h:m.next=h;null==h?e.B=m:h.Tg(m);delete e.j[f]}for(e=d.pe.tb(Lg);e;e=e.gb())g!=e.Rc.tc&&g!=e.Rc.ic||d.Oe.j.Wd(e.Rc);d.ra&&g.ql(d.Oe.j.j);g.Wd();g.Ut=null;hg(d)}c.Wd();a.Ki.ho(c)}
function ah(a,c){var b=c.B();b.Lk=null;if(b.mi=a.$b)a.$b.Lk=b;a.$b=b;a.N++;b.be.jh=b;b.be.gf=b.ka;b.be.prev=null;if(b.be.next=b.ja.$b)b.ja.$b.prev=b.be;b.ja.$b=b.be;b.de.jh=b;b.de.gf=b.ja;b.de.prev=null;if(b.de.next=b.ka.$b)b.ka.$b.prev=b.de;b.ka.$b=b.de;var d=c.j,g=c.k;if(!c.R)for(var e=g.pe.tb(Lg);e;e=e.gb())bh(e.Rc,g)==d&&(e.Rc.Tl=!0);return b}
function $g(a,c){var b=c.Yx;c.Lk&&(c.Lk.mi=c.mi);c.mi&&(c.mi.Lk=c.Lk);c==a.$b&&(a.$b=c.mi);var d=c.ja,g=c.ka;mg(d,!0);mg(g,!0);c.be.prev&&(c.be.prev.next=c.be.next);c.be.next&&(c.be.next.prev=c.be.prev);c.be==d.$b&&(d.$b=c.be.next);c.be.prev=null;c.be.next=null;c.de.prev&&(c.de.prev.next=c.de.next);c.de.next&&(c.de.next.prev=c.de.prev);c.de==g.$b&&(g.$b=c.de.next);c.de.prev=null;c.de.next=null;a.N--;if(!b)for(b=g.pe.tb(Lg);b;b=b.gb())bh(b.Rc,g)==d&&(b.Rc.Tl=!0)}
Vg.prototype.Kh=function(a,c,b){var d,g;this.k&&(kg(this.j),this.k=!1);for(var e=new Ug(a,this.K*a,c,b,!0),f=this.j,h=f.Oe.pe.tb(Lg);h;h=h.gb()){var m=h.Rc,l=m.tc,k=m.ic,n=l.sb(),p=k.sb();if(0!=n.Ne||0!=p.Ne){if(m.Tl){if(0==sg(p,n)){f.Wd(m);continue}if(0==f.B.j(l,k)){f.Wd(m);continue}m.Tl=!1}0==f.j.xl(l.k,k.k)?f.Wd(m):ch(m,f.k)}}if(0<e.Xa){for(var r=this.R.tb();r;r=r.gb())r.NC.Kh(e);for(var v=new Qg(this.j.k,this.B),t=this.Ki.tb(vg);t;t=t.gb())t.body.Wb=!1;for(var q=this.pe.tb(Lg);q;q=q.gb())q.Rc.Wb=
!1;for(var u=this.$b;u;u=u.mi)u.Wb=!1;for(t=this.Ki.tb(Ag);t;t=t.gb()){var x=t.body;if(!x.Wb){Rg(v);jh.length=0;var z=jh;z.push(x);for(x.Wb=!0;0<z.length;){var E=z.pop();Tg(v,E);E.Ne||mg(E,!0);if(0!=E.md()){for(q=E.pe.tb(kh);q;q=q.gb()){var B=q.Rc;if(!B.Wb){v.B.push(B);B.Wb=!0;var D=bh(B,E);D.Wb||(z.push(D),D.Wb=!0)}}for(var C=E.$b;C;C=C.next)!C.jh.Wb&&C.gf.Tj()&&(v.j.push(C.jh),C.jh.Wb=!0,C.gf.Wb||(z.push(C.gf),C.gf.Wb=!0))}}for(var y=v,w=e,F=this.ea,I=y,Q=w,da=this.G,R=0;R<I.R.length;R++){var G=
I.R[R];G.C.x+=Q.Xa*(da.x+G.P*G.k.x);G.C.y+=Q.Xa*(da.y+G.P*G.k.y);G.L+=Q.Xa*G.ca*G.G;G.C.Ve(ee(1-Q.Xa*G.ub,0,1));G.L*=ee(1-Q.Xa*G.bb,0,1)}lh(y.G,y.B,y.B.length);for(var Z=y,T=w,S=Z.G,J=0;J<S.k;++J){var M=S.j[J],O=M.j,K=M.k,N=O.P,U=O.ca,ga=K.P,P=K.ca,qa=M.G.x,ma=M.G.y,Ya=ma,Sd=-qa,Ma=0,Ob=0;if(T.Fh)for(Ob=M.K,Ma=0;Ma<Ob;++Ma){var xa=M.B[Ma];xa.kc*=T.Cc;xa.Og*=T.Cc;var Ab=xa.kc*qa+xa.Og*Ya,xb=xa.kc*ma+xa.Og*Sd;O.L-=U*(xa.ac.x*xb-xa.ac.y*Ab);O.C.x-=N*Ab;O.C.y-=N*xb;K.L+=P*(xa.cc.x*xb-xa.cc.y*Ab);K.C.x+=
ga*Ab;K.C.y+=ga*xb}else for(Ob=M.K,Ma=0;Ma<Ob;++Ma){var ha=M.B[Ma];ha.kc=0;ha.Og=0}}for(var ed=0;ed<Z.j.length;ed++)Z.j[ed].ng(T);for(var dc=0;dc<T.Tn;dc++){for(var Ga=0;Ga<Z.j.length;Ga++)Z.j[Ga].qg(T);mh(Z.G)}for(var Pb=0;Pb<Z.j.length;Pb++);for(var Qb=Z.G,zb=0;zb<Qb.k;++zb)for(var We=Qb.j[zb],Mi=We.ra,Td=0;Td<We.K;++Td){var dh=Mi.Fa[Td],eh=We.B[Td];dh.yj=eh.kc;dh.zj=eh.Og}for(var fh=y,yb=w,Xe=0;Xe<fh.K.length;++Xe){var ia=fh.K[Xe],gh=yb.Xa*ia.C.x,hh=yb.Xa*ia.C.y;4<gh*gh+hh*hh&&(Le(ia.C),ia.C.x=
2*ia.C.x*yb.j,ia.C.y=2*ia.C.y*yb.j);var ih=yb.Xa*ia.L;ih*ih>Ud&&(ia.L=0>ia.L?-Rd*yb.j:Rd*yb.j);ia.q.Zc.S(ia.q.I);ia.q.of=ia.q.T;ia.q.I.x+=yb.Xa*ia.C.x;ia.q.I.y+=yb.Xa*ia.C.y;ia.q.T+=yb.Xa*ia.L;rg(ia)}for(var Ye=y,Ni=w,Xh=0;Xh<Ni.hn;Xh++){for(var aj=nh(Ye.G,.2),Cf=!0,Df=0;Df<Ye.j.length;Df++)var bj=Ye.j[Df].pg(.2),Cf=Cf&&bj;if(aj&&Cf)break}Sg(y,y.G.j);if(F){for(var me=y,cj=w,ne=Number.MAX_VALUE,Ef=0;Ef<me.K.length;Ef++){var Sb=me.K[Ef];!Sb.Wa||Math.abs(Sb.L)>Vd||1E-4<Xd(Sb.C,Sb.C)?ne=Sb.R=0:(Sb.R+=
cj.Xa,ne=Math.min(ne,Sb.R))}if(.5<=ne)for(var Ff=0;Ff<me.k.length;Ff++)mg(me.k[Ff],!1)}}}for(t=this.Ki.tb(Ag);t;t=t.gb())pg(t.body);kg(this.j);for(var Da=new Qg(this.j.k,this.B),oe=this.Ki.tb(vg);oe;oe=oe.gb()){var Db=oe.body;Db.Wb=!1;Db.q.Pd=0}for(var Ta=this.pe.tb(Lg);Ta;Ta=Ta.gb())Ta.Rc.Wb=!1,Ta.Rc.j=null;for(var pe=this.$b;pe;pe=pe.mi)pe.Wb=!1;for(;;){for(var Zh=null,Gf=1,qe=this.pe.tb(oh);qe;qe=qe.gb()){var nb=qe.Rc,$h=nb.tc.sb(),ai=nb.ic.sb();if(2==$h.md()&&$h.Ne||2==ai.md()&&ai.Ne){var gb=
1;if(null!=nb.j)gb=nb.j;else if(nb.Oj)gb=1,nb.j=gb;else{var Hc=nb.tc.sb(),pd=nb.ic.sb(),qd=Hc.q.Pd;Hc.q.Pd<pd.q.Pd?(qd=pd.q.Pd,Hc.q.Hh(qd)):pd.q.Pd<Hc.q.Pd&&(qd=Hc.q.Pd,pd.q.Hh(qd));var bi=nb,dj=Hc.q,ej=pd.q;ph.uh.Set(bi.tc.Gc);ph.vh.Set(bi.ic.Gc);ph.oz=dj;ph.pz=ej;ph.CG=.005;var rd=ph;qh++;var If=rd.uh,Jf=rd.vh,Kf=rd.oz,Lf=rd.pz,re=If.ob+Jf.ob,se=rd.CG,ob=0,sd=0,Ic=0;rh.count=0;for(sh.B=!1;;){Kf.Fe(Mf,ob);Lf.Fe(Tf,ob);sh.uh=If;sh.vh=Jf;sh.j=Mf;sh.k=Tf;hf(th,rh,sh);if(0>=th.B){ob=1;break}var gj=Jf,
W=Hf,Ja=rh,pb=Mf,qb=Tf;W.k=If;W.B=gj;var Tb=void 0,rb=void 0,Ib=void 0,Ub=void 0,sb=void 0,Jb=void 0,Kc=0,Lc=0,Mc=0,Nc=0,te=0,ue=0,X=void 0,Y=void 0,hb=0;if(1==Ja.count)W.pb=Uf,Tb=kf(W.k,Ja.pc[0]),Ub=kf(W.B,Ja.qc[0]),Y=Tb,X=pb.D,Kc=pb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Lc=pb.position.y+(X.u.y*Y.x+X.A.y*Y.y),Y=Ub,X=qb.D,Mc=qb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Nc=qb.position.y+(X.u.y*Y.x+X.A.y*Y.y),W.j.x=Mc-Kc,W.j.y=Nc-Lc,Le(W.j);else{if(Ja.qc[0]==Ja.qc[1])W.pb=Vf,rb=kf(W.k,Ja.pc[0]),Ib=kf(W.k,Ja.pc[1]),
Ub=kf(W.B,Ja.qc[0]),W.Oa.x=.5*(rb.x+Ib.x),W.Oa.y=.5*(rb.y+Ib.y),W.j=Zd(de(Ib,rb)),Le(W.j),Y=W.j,X=pb.D,te=X.u.x*Y.x+X.A.x*Y.y,ue=X.u.y*Y.x+X.A.y*Y.y,Y=W.Oa,X=pb.D,Kc=pb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Lc=pb.position.y+(X.u.y*Y.x+X.A.y*Y.y),Y=Ub,X=qb.D,Mc=qb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Nc=qb.position.y+(X.u.y*Y.x+X.A.y*Y.y),hb=(Mc-Kc)*te+(Nc-Lc)*ue;else if(Ja.pc[0]==Ja.pc[0])W.pb=Wf,sb=kf(W.B,Ja.qc[0]),Jb=kf(W.B,Ja.qc[1]),Tb=kf(W.k,Ja.pc[0]),W.Oa.x=.5*(sb.x+Jb.x),W.Oa.y=.5*(sb.y+Jb.y),W.j=Zd(de(Jb,
sb)),Le(W.j),Y=W.j,X=qb.D,te=X.u.x*Y.x+X.A.x*Y.y,ue=X.u.y*Y.x+X.A.y*Y.y,Y=W.Oa,X=qb.D,Mc=qb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Nc=qb.position.y+(X.u.y*Y.x+X.A.y*Y.y),Y=Tb,X=pb.D,Kc=pb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Lc=pb.position.y+(X.u.y*Y.x+X.A.y*Y.y),hb=(Kc-Mc)*te+(Lc-Nc)*ue;else{var rb=kf(W.k,Ja.pc[0]),Ib=kf(W.k,Ja.pc[1]),sb=kf(W.B,Ja.qc[0]),Jb=kf(W.B,Ja.qc[1]),Kb=$d(pb.D,de(Ib,rb)),Lb=$d(qb.D,de(Jb,sb)),di=Kb.x*Kb.x+Kb.y*Kb.y,Nf=Lb.x*Lb.x+Lb.y*Lb.y,ve=de(Lb,Kb),ei=Kb.x*ve.x+Kb.y*ve.y,fi=Lb.x*
ve.x+Lb.y*ve.y,td=Kb.x*Lb.x+Kb.y*Lb.y,gi=di*Nf-td*td,hb=0;0!=gi&&(hb=ee((td*fi-ei*Nf)/gi,0,1));0>(td*hb+fi)/Nf&&(hb=ee((td-ei)/di,0,1));Tb=V(0,0);Tb.x=rb.x+hb*(Ib.x-rb.x);Tb.y=rb.y+hb*(Ib.y-rb.y);Ub=V(0,0);Ub.x=sb.x+hb*(Jb.x-sb.x);Ub.y=sb.y+hb*(Jb.y-sb.y);0==hb||1==hb?(W.pb=Wf,W.j=Zd(de(Jb,sb)),Le(W.j),W.Oa=Ub):(W.pb=Vf,W.j=Zd(de(Ib,rb)),W.Oa=Tb)}if(0>hb){var we=W.j;we.x=-we.x;we.y=-we.y}}var ud=Bf();if(0>=ud){ob=1;break}0==sd&&(Ic=ud>re?Math.max(re-se,.75*re):Math.max(ud-se,.02*re));if(ud-Ic<.5*
se){if(0==sd){ob=1;break}break}var Of=ob,xe=ob,vd=1,Pf=ud;Kf.Fe(Mf,vd);Lf.Fe(Tf,vd);var Qf=Bf();if(Qf>=Ic){ob=1;break}for(var ye=0;;){var Oc=0,Oc=ye&1?xe+(Ic-Pf)*(vd-xe)/(Qf-Pf):.5*(xe+vd);Kf.Fe(Mf,Oc);Lf.Fe(Tf,Oc);var ze=Bf();if(Math.abs(ze-Ic)<.025*se){Of=Oc;break}ze>Ic?(xe=Oc,Pf=ze):(vd=Oc,Qf=ze);ye++;uh++;if(50==ye)break}vh=Math.max(vh,ye);if(Of<(1+100*Number.MIN_VALUE)*ob)break;ob=Of;sd++;wh++;if(1E3==sd)break}xh=Math.max(xh,sd);gb=ob;0<gb&&1>gb&&(gb=(1-gb)*qd+gb);nb.j=gb}Number.MIN_VALUE<gb&&
gb<Gf&&(Zh=nb,Gf=gb)}}d=Zh;g=Gf;var Vb=d,Pc=g;if(null===Vb||Yg<Pc)break;var wd=Vb.tc.sb(),xd=Vb.ic.sb();yh.Set(wd.q);zh.Set(xd.q);wd.Hh(Pc);xd.Hh(Pc);ch(Vb,this.j.k);Vb.j=null;if(Vb.K||!Vb.enabled)wd.q.Set(yh),xd.q.Set(zh),rg(wd),rg(xd);else if(Vb.Oj){var Ae=wd;2!=Ae.md()&&(Ae=xd);Rg(Da);jh.length=0;var yd=jh;yd.push(Ae);for(Ae.Wb=!0;0<yd.length;)if(Db=yd.pop(),Tg(Da,Db),Db.Ne||mg(Db,!0),2==Db.md()){for(Ta=Db.pe.tb(kh);Ta&&32!=Da.ea;Ta=Ta.gb()){var Be=Ta.Rc;if(!Be.Wb){Da.B.push(Be);Be.Wb=!0;var Qc=
bh(Be,Db);Qc.Wb||(0!=Qc.md()&&(Qc.Hh(Pc),mg(Qc,!0),yd.push(Qc)),Qc.Wb=!0)}}for(var ib=Db.$b;ib;ib=ib.next)32!=Da.N&&!ib.jh.Wb&&ib.gf.Tj()&&(Da.j.push(ib.jh),ib.jh.Wb=!0,ib.gf.Wb||(0!=ib.gf.md()&&(ib.gf.Hh(Pc),mg(ib.gf,!0),yd.push(ib.gf)),ib.gf.Wb=!0))}var jb=Da,db=new Ug((1-Pc)*e.Xa,0,e.Tn,e.hn,!1),eb=0,Wb=0;lh(jb.G,jb.B,jb.B.length);for(var Rf=jb.G,eb=0;eb<jb.j.length;++eb)jb.j[eb].ng(db);for(eb=0;eb<db.Tn;++eb)for(mh(Rf),Wb=0;Wb<jb.j.length;++Wb)jb.j[Wb].qg(db);for(eb=0;eb<jb.K.length;++eb){var ka=
jb.K[eb],li=db.Xa*ka.C.x,mi=db.Xa*ka.C.y;4<li*li+mi*mi&&(Le(ka.C),ka.C.x=2*ka.C.x*db.j,ka.C.y=2*ka.C.y*db.j);var ni=db.Xa*ka.L;ni*ni>Ud&&(ka.L=0>ka.L?-Rd*db.j:Rd*db.j);ka.q.Zc.S(ka.q.I);ka.q.of=ka.q.T;ka.q.I.x+=db.Xa*ka.C.x;ka.q.I.y+=db.Xa*ka.C.y;ka.q.T+=db.Xa*ka.L;rg(ka)}for(eb=0;eb<db.hn;++eb){for(var jj=nh(Rf,.75),Sf=!0,Wb=0;Wb<jb.j.length;++Wb)var kj=jb.j[Wb].pg(.2),Sf=Sf&&kj;if(jj&&Sf)break}Sg(jb,Rf.j);for(var Oa=0;Oa<Da.k.length;Oa++)if(Da.k[Oa].Wb=!1,Da.k[Oa].Ne&&2==Da.k[Oa].md())for(pg(Da.k[Oa]),
Ta=Da.k[Oa].pe.tb(Lg);Ta;Ta=Ta.gb())Ta.Rc.j=null;for(Oa=0;Oa<Da.ea;Oa++)Da.B[Oa].Wb=!1,Da.B[Oa].j=null;for(Oa=0;Oa<Da.N;Oa++)Da.j[Oa].Wb=!1;kg(this.j)}}this.K=e.j}};Vg.prototype.Mi=function(){return this.pe};var jh=[];function Ah(a,c){this.k="Contact"+Bh++;this.df=new zf;this.G=new zf;this.Oj=!1;var b=a.sb(),d=c.sb();this.R=2!=b.md()||b.K||2!=d.md()||d.K;this.K=a.B||c.B;this.Tl=!1;this.tc=a;this.ic=c;this.enabled=!0;this.Ao=b.Mi();this.Bo=d.Mi();this.Ar=d.Oe.Mi();Ch(this)}
Ah.prototype.Yc=function(a,c){this.df.Yc();this.G.Yc();this.Oj=!1;var b=a.sb(),d=c.sb();this.R=2!=b.md()||b.K||2!=d.md()||d.K;this.K=a.B||c.B;this.Tl=!1;this.tc=a;this.ic=c;this.enabled=!0;this.Ao=b.Mi();this.Bo=d.Mi();this.Ar=d.Oe.Mi();Ch(this)};function Ch(a){Dh(a.Ao,a);Dh(a.Bo,a);Dh(a.Ar,a);Eh(a)}function Eh(a){var c=!1,b=!1;!a.K&&a.enabled&&(a.Oj&&(c=!0),a.R&&(b=!0));Fh(a.Ao,a,c,b);Fh(a.Bo,a,c,b);Fh(a.Ar,a,c,b)}Ah.prototype.Qf=function(a){this.enabled=a;Eh(this)};
function bh(a,c){var b=a.tc.sb();return b!=c?b:a.ic.sb()}
function ch(a,c){var b=a.G;a.G=a.df;a.df=b;a.enabled=!0;var d=!1,b=a.Oj,g=a.tc.sb(),e=a.ic.sb(),f=a.tc.j.xl(a.ic.j);if(a.K){if(f){var d=a.tc.Gc,g=g.Fe(),f=a.ic.Gc,h=e.Fe(),e=new mf;e.uh=new of;e.uh.Set(d);e.vh=new of;e.vh.Set(f);e.j=g;e.k=h;e.B=!0;g=new Yf;g.count=0;d=new nf;hf(d,g,e);d=d.B<10*Number.MIN_VALUE}a.df.jc=0}else{a.R=2!=g.md()||g.K||2!=e.md()||e.K?!0:!1;if(f)for(a.B(),d=0<a.df.jc,f=0;f<a.df.jc;f++){h=a.df.Fa[f];h.yj=0;for(var m=h.zj=0;m<a.G.jc;m++){var l=a.G.Fa[m];if(l.Df.nc==h.Df.nc){h.yj=
l.yj;h.zj=l.zj;break}}}else a.df.jc=0;d!=b&&(mg(g,!0),mg(e,!0))}a.Oj=d;d!=b&&Eh(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}Ah.prototype.B=function(){};var ph=new Zf,Bh=0;function Gh(a,c){Ah.call(this,a,c)}Od(Gh,Ah);Gh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};
Gh.prototype.B=function(){var a=this.df,c=this.tc.Gc,b=this.tc.sb().J,d=this.ic.Gc,g=this.ic.sb().J;a.jc=0;var e=g.position.x+(g.D.u.x*d.Hb.x+g.D.A.x*d.Hb.y)-(b.position.x+(b.D.u.x*c.Hb.x+b.D.A.x*c.Hb.y)),b=g.position.y+(g.D.u.y*d.Hb.x+g.D.A.y*d.Hb.y)-(b.position.y+(b.D.u.y*c.Hb.x+b.D.A.y*c.Hb.y)),g=c.ob+d.ob;e*e+b*b>g*g||(a.pb=1,a.Oa.S(c.Hb),a.ed.Ja(),a.jc=1,a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0))};
function Hh(){this.R=V(0,0);this.hc=V(0,0);this.G=V(0,0);this.oh=new fe;this.N=new fe;this.B=[];for(var a=0;2>a;a++)this.B[a]=new Ih}function Ih(){this.hc=V(0,0);this.ac=V(0,0);this.cc=V(0,0)}Ih.prototype.Yc=function(){this.hc.Set(0,0);this.ac.Set(0,0);this.cc.Set(0,0)};
function Kg(){this.j={};this.k={};Jh(this,Gh,"b2CircleShape","b2CircleShape");Jh(this,Kh,"b2PolygonShape","b2CircleShape");Jh(this,Lh,"b2PolygonShape","b2PolygonShape");Jh(this,Mh,"b2EdgeShape","b2CircleShape");Jh(this,Nh,"b2PolygonShape","b2EdgeShape")}function Jh(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.j[b]=a.j[b]||{};a.j[b][d]=new Oh;a.j[b][d].ww=c;a.j[b][d].Ky=!0;b!=d&&(a.j[d]=a.j[d]||{},a.j[d][b]=new Oh,a.j[d][b].ww=c,a.j[d][b].Ky=!1)}
Kg.prototype.B=function(a,c){var b=a.Gc.Ni(),d=c.Gc.Ni(),g=this.j[b][d],e=g.ww;return null!=e?g.Ky?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.Yc(a,c),b):new e(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.Yc(c,a),b):new e(c,a):null};Kg.prototype.Wd=function(a){this.k[a.tc.Gc.Ni()][a.ic.Gc.Ni()].push(a)};function bg(){this.k=[];for(var a=0;a<=Lg;a++)this.k[a]=null;this.B=[];for(a=0;a<=Lg;a++)this.B[a]=null;this.j={}}bg.prototype.tb=function(a){return this.k[a]};
function Dh(a,c){var b=c.k;if(null==a.j[b]){a.j[b]=[];for(var d=0;d<=Lg;d++)a.j[b][d]=null;Ph(a,c,b,Lg)}}function Fh(a,c,b,d){b?Ph(a,c,c.k,kh):Qh(a,c.k,kh);d?Ph(a,c,c.k,oh):Qh(a,c.k,oh)}function Mg(a,c){var b=c.k;if(null!=a.j[b]){for(var d=0;d<=Lg;d++)Qh(a,b,d);delete a.j[b]}}function Qh(a,c,b){var d=a.j[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.j,g=c.gb();null==d?a.k[b]=g:d.next=g;null==g?a.B[b]=d:g.Tg(d);Rh.push(c)}}
function Ph(a,c,b,d){b=a.j[b];if(null==b[d]){if(0<Rh.length){var g=Rh.pop();g.next=null;g.j=null;g.Rc=c;c=g}else c=new Sh(c);b[d]=c;c=a.B[d];null!=c?(c.next=b[d],b[d].Tg(c)):a.k[d]=b[d];a.B[d]=b[d]}}var kh=0,oh=1,Lg=2;function Sh(a){this.Rc=a;this.j=this.next=null}var Rh=[];Sh.prototype.Tg=function(a){this.j=a};Sh.prototype.gb=function(){return this.next};function Oh(){}function Wg(){this.j=[]}
function lh(a,c,b){for(a.k=b;a.j.length<a.k;)a.j[a.j.length]=new Hh;for(var d=0;d<b;d++){var g=c[d],e=g.tc,f=g.ic,h=e.Gc.ob,m=f.Gc.ob,l=e.sb(),k=f.sb(),g=g.df,n=Math.sqrt(e.R*f.R),p,e=e.N,f=f.N;p=e>f?e:f;var f=l.C.x,e=l.C.y,r=k.C.x,v=k.C.y,t=l.L,q=k.L,u=g,x=l.J,z=h,E=k.J,B=m,D=Th;if(0!=u.jc){var C=0,y=void 0,w=void 0,F=0,I=0,Q=0,da=0,R=0,y=0;switch(u.pb){case 1:w=x.D;y=u.Oa;C=x.position.x+w.u.x*y.x+w.A.x*y.y;x=x.position.y+w.u.y*y.x+w.A.y*y.y;w=E.D;y=u.Fa[0].Oa;u=E.position.x+w.u.x*y.x+w.A.x*y.y;
E=E.position.y+w.u.y*y.x+w.A.y*y.y;y=u-C;w=E-x;F=y*y+w*w;F>Wd?(F=Math.sqrt(F),D.j.x=y/F,D.j.y=w/F):(D.j.x=1,D.j.y=0);y=x+z*D.j.y;E=E-B*D.j.y;D.Fa[0].x=.5*(C+z*D.j.x+(u-B*D.j.x));D.Fa[0].y=.5*(y+E);break;case 2:w=x.D;y=u.ed;F=w.u.x*y.x+w.A.x*y.y;I=w.u.y*y.x+w.A.y*y.y;w=x.D;y=u.Oa;Q=x.position.x+w.u.x*y.x+w.A.x*y.y;da=x.position.y+w.u.y*y.x+w.A.y*y.y;D.j.x=F;D.j.y=I;for(C=0;C<u.jc;C++)w=E.D,y=u.Fa[C].Oa,R=E.position.x+w.u.x*y.x+w.A.x*y.y,y=E.position.y+w.u.y*y.x+w.A.y*y.y,D.Fa[C].x=R+.5*(z-(R-Q)*F-
(y-da)*I-B)*F,D.Fa[C].y=y+.5*(z-(R-Q)*F-(y-da)*I-B)*I;break;case 4:for(w=E.D,y=u.ed,F=w.u.x*y.x+w.A.x*y.y,I=w.u.y*y.x+w.A.y*y.y,w=E.D,y=u.Oa,Q=E.position.x+w.u.x*y.x+w.A.x*y.y,da=E.position.y+w.u.y*y.x+w.A.y*y.y,D.j.x=-F,D.j.y=-I,C=0;C<u.jc;C++)w=x.D,y=u.Fa[C].Oa,R=x.position.x+w.u.x*y.x+w.A.x*y.y,y=x.position.y+w.u.y*y.x+w.A.y*y.y,D.Fa[C].x=R+.5*(B-(R-Q)*F-(y-da)*I-z)*F,D.Fa[C].y=y+.5*(B-(R-Q)*F-(y-da)*I-z)*I}}B=Th.j.x;D=Th.j.y;z=a.j[d];z.j=l;z.k=k;z.ra=g;z.G.x=B;z.G.y=D;z.K=g.jc;z.ai=n;z.yi=p;z.R.x=
g.ed.x;z.R.y=g.ed.y;z.hc.x=g.Oa.x;z.hc.y=g.Oa.y;z.ea=h+m;z.type=g.pb;for(h=0;h<z.K;++h)n=g.Fa[h],m=z.B[h],m.kc=n.yj,m.Og=n.zj,m.hc.S(n.Oa),n=m.ac.x=Th.Fa[h].x-l.q.I.x,p=m.ac.y=Th.Fa[h].y-l.q.I.y,E=m.cc.x=Th.Fa[h].x-k.q.I.x,C=m.cc.y=Th.Fa[h].y-k.q.I.y,u=n*D-p*B,y=E*D-C*B,u*=u,y*=y,m.oh=1/(l.P+k.P+l.ca*u+k.ca*y),w=l.da*l.P+k.da*k.P,w+=l.da*l.ca*u+k.da*k.ca*y,m.zD=1/w,y=D,w=-B,u=n*w-p*y,y=E*w-C*y,u*=u,y*=y,m.AG=1/(l.P+k.P+l.ca*u+k.ca*y),m.Sn=0,n=z.G.x*(r+-q*C-f- -t*p)+z.G.y*(v+q*E-e-t*n),-1>n&&(m.Sn+=
-z.yi*n);2==z.K&&(v=z.B[0],r=z.B[1],g=l.P,l=l.ca,f=k.P,k=k.ca,e=v.ac.x*D-v.ac.y*B,v=v.cc.x*D-v.cc.y*B,t=r.ac.x*D-r.ac.y*B,h=r.cc.x*D-r.cc.y*B,r=g+f+l*e*e+k*v*v,q=g+f+l*t*t+k*h*h,k=g+f+l*e*t+k*v*h,r*r<100*(r*q-k*k)?(z.N.u.Set(r,k),z.N.A.Set(k,q),ie(z.N,z.oh)):z.K=1)}}
function mh(a){for(var c=0;c<a.k;c++){for(var b=a.j[c],d=b.G.x,g=b.G.y,e=0;e<b.K;e++){var f=b,h=b.B[e],m=f.G.y,l=-f.G.x,k=f.ai*h.kc,k=ee(h.Og-h.AG*((f.k.C.x-f.k.L*h.cc.y-f.j.C.x+f.j.L*h.ac.y)*m+(f.k.C.y+f.k.L*h.cc.x-f.j.C.y-f.j.L*h.ac.x)*l),-k,k),n=k-h.Og,m=n*m,l=n*l;f.j.C.x-=f.j.P*m;f.j.C.y-=f.j.P*l;f.j.L-=f.j.ca*(h.ac.x*l-h.ac.y*m);f.k.C.x+=f.k.P*m;f.k.C.y+=f.k.P*l;f.k.L+=f.k.ca*(h.cc.x*l-h.cc.y*m);h.Og=k}if(1==b.K)e=b.B[0],f=e.kc-e.oh*((b.k.C.x-b.k.L*e.cc.y-b.j.C.x+b.j.L*e.ac.y)*d+(b.k.C.y+b.k.L*
e.cc.x-b.j.C.y-b.j.L*e.ac.x)*g-e.Sn),f=0<f?f:0,h=f-e.kc,d=h*d,g=h*g,b.j.C.x-=b.j.P*d,b.j.C.y-=b.j.P*g,b.j.L-=b.j.ca*(e.ac.x*g-e.ac.y*d),b.k.C.x+=b.k.P*d,b.k.C.y+=b.k.P*g,b.k.L+=b.k.ca*(e.cc.x*g-e.cc.y*d),e.kc=f;else for(e=b.B[0],f=b.B[1],h=e.kc,l=f.kc,k=(b.k.C.x-b.k.L*e.cc.y-b.j.C.x+b.j.L*e.ac.y)*d+(b.k.C.y+b.k.L*e.cc.x-b.j.C.y-b.j.L*e.ac.x)*g-e.Sn,g=(b.k.C.x-b.k.L*f.cc.y-b.j.C.x+b.j.L*f.ac.y)*d+(b.k.C.y+b.k.L*f.cc.x-b.j.C.y-b.j.L*f.ac.x)*g-f.Sn,k-=b.N.u.x*h+b.N.A.x*l,g-=b.N.u.y*h+b.N.A.y*l;;){d=
-(b.oh.u.x*k+b.oh.A.x*g);if(0<=d&&(m=-(b.oh.u.y*k+b.oh.A.y*g),0<=m)){Uh(b,e,f,d-h,m-l);e.kc=d;f.kc=m;break}d=-e.oh*k;if(0<=d&&0<=b.N.u.y*d+g){Uh(b,e,f,d-h,-l);e.kc=d;f.kc=0;break}d=-f.oh*g;if(0<=d&&0<=b.N.A.x*d+k){Uh(b,e,f,-h,d-l);e.kc=0;f.kc=d;break}if(0<=k&&0<=g){Uh(b,e,f,-h,-l);e.kc=0;f.kc=0;break}break}}}
function Uh(a,c,b,d,g){var e=d*a.G.x;d*=a.G.y;var f=g*a.G.x;g*=a.G.y;a.j.C.x-=a.j.P*(e+f);a.j.C.y-=a.j.P*(d+g);a.j.L-=a.j.ca*(c.ac.x*d-c.ac.y*e+b.ac.x*g-b.ac.y*f);a.k.C.x+=a.k.P*(e+f);a.k.C.y+=a.k.P*(d+g);a.k.L+=a.k.ca*(c.cc.x*d-c.cc.y*e+b.cc.x*g-b.cc.y*f);c.kc=0;b.kc=0}
function nh(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var g=a.j[d],e=g.j,f=g.k,h=e.da*e.P,m=e.da*e.ca,l=f.da*f.P,k=f.da*f.ca,n=g,p=Vh;switch(n.type){case 1:var r=n.j.J.D,v=n.hc,t=n.j.J.position.x+(r.u.x*v.x+r.A.x*v.y),q=n.j.J.position.y+(r.u.y*v.x+r.A.y*v.y),r=n.k.J.D,v=n.B[0].hc,u=n.k.J.position.x+(r.u.x*v.x+r.A.x*v.y),r=n.k.J.position.y+(r.u.y*v.x+r.A.y*v.y),v=u-t,x=r-q,z=v*v+x*x;z>Wd?(z=Math.sqrt(z),p.j.x=v/z,p.j.y=x/z):(p.j.x=1,p.j.y=0);p.Fa[0].x=.5*(t+u);p.Fa[0].y=.5*(q+r);p.k[0]=v*p.j.x+
x*p.j.y-n.ea;break;case 2:p.j.x=n.j.J.D.u.x*n.R.x+n.j.J.D.A.x*n.R.y;p.j.y=n.j.J.D.u.y*n.R.x+n.j.J.D.A.y*n.R.y;t=n.j.J.position.x+(n.j.J.D.u.x*n.hc.x+n.j.J.D.A.x*n.hc.y);q=n.j.J.position.y+(n.j.J.D.u.y*n.hc.x+n.j.J.D.A.y*n.hc.y);for(u=0;u<n.K;u++)r=n.k.J.position.x+(n.k.J.D.u.x*n.B[u].hc.x+n.k.J.D.A.x*n.B[u].hc.y),v=n.k.J.position.y+(n.k.J.D.u.y*n.B[u].hc.x+n.k.J.D.A.y*n.B[u].hc.y),p.k[u]=(r-t)*p.j.x+(v-q)*p.j.y-n.ea,p.Fa[u].x=r,p.Fa[u].y=v;break;case 4:p.j.x=n.k.J.D.u.x*n.R.x+n.k.J.D.A.x*n.R.y;p.j.y=
n.k.J.D.u.y*n.R.x+n.k.J.D.A.y*n.R.y;t=n.k.J.position.x+(n.k.J.D.u.x*n.hc.x+n.k.J.D.A.x*n.hc.y);q=n.k.J.position.y+(n.k.J.D.u.y*n.hc.x+n.k.J.D.A.y*n.hc.y);for(u=0;u<n.K;u++)r=n.j.J.position.x+(n.j.J.D.u.x*n.B[u].hc.x+n.j.J.D.A.x*n.B[u].hc.y),v=n.j.J.position.y+(n.j.J.D.u.y*n.B[u].hc.x+n.j.J.D.A.y*n.B[u].hc.y),p.k[u]=(r-t)*p.j.x+(v-q)*p.j.y-n.ea,p.Fa[u].Set(r,v);p.j.x*=-1;p.j.y*=-1}p=Vh.j;for(n=0;n<g.K;n++)v=g.B[n],r=Vh.Fa[n],x=Vh.k[n],t=r.x-e.q.I.x,q=r.y-e.q.I.y,u=r.x-f.q.I.x,r=r.y-f.q.I.y,b=b<x?b:
x,x=-v.zD*ee(c*(x+.005),-.2,0),v=x*p.x,x*=p.y,e.q.I.x-=h*v,e.q.I.y-=h*x,e.q.T-=m*(t*x-q*v),rg(e),f.q.I.x+=l*v,f.q.I.y+=l*x,f.q.T+=k*(u*x-r*v),rg(f)}return-.0075<b}function Mh(a,c){Ah.call(this,a,c)}Od(Mh,Ah);Mh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};Mh.prototype.B=function(){};function Kh(a,c){Ah.call(this,a,c)}Od(Kh,Ah);Kh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};
Kh.prototype.B=function(){a:{var a=this.df,c=this.tc.Gc,b=this.tc.sb().J,d=this.ic.Gc,g=this.ic.sb().J;a.jc=0;for(var e=g.position.x+(g.D.u.x*d.Hb.x+g.D.A.x*d.Hb.y)-b.position.x,f=g.position.y+(g.D.u.y*d.Hb.x+g.D.A.y*d.Hb.y)-b.position.y,g=e*b.D.u.x+f*b.D.u.y,b=e*b.D.A.x+f*b.D.A.y,e=0,f=-Number.MAX_VALUE,h=c.ob+d.ob,m=0;m<c.wb;++m){var l=c.Nb[m].x*(g-c.W[m].x)+c.Nb[m].y*(b-c.W[m].y);if(l>h)break a;l>f&&(f=l,e=m)}l=e+1;l>=c.wb&&(l=0);var m=c.W[e],k=c.W[l];f<Number.MIN_VALUE?(a.jc=1,a.pb=2,a.ed.S(c.Nb[e]),
a.Oa.x=.5*(m.x+k.x),a.Oa.y=.5*(m.y+k.y),a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0)):0>=(g-m.x)*(k.x-m.x)+(b-m.y)*(k.y-m.y)?(g-m.x)*(g-m.x)+(b-m.y)*(b-m.y)>h*h||(a.jc=1,a.pb=2,a.ed.x=g-m.x,a.ed.y=b-m.y,Le(a.ed),a.Oa.S(m),a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0)):0>=(g-k.x)*(m.x-k.x)+(b-k.y)*(m.y-k.y)?(g-k.x)*(g-k.x)+(b-k.y)*(b-k.y)>h*h||(a.jc=1,a.pb=2,a.ed.x=g-k.x,a.ed.y=b-k.y,Le(a.ed),a.Oa.S(k),a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0)):(l=.5*(m.x+k.x),m=.5*(m.y+k.y),f=(g-l)*c.Nb[e].x+(b-m)*c.Nb[e].y,f>h||(a.jc=1,
a.pb=2,a.ed.x=c.Nb[e].x,a.ed.y=c.Nb[e].y,Le(a.ed),a.Oa.Set(l,m),a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0)))}};function Nh(a,c){Ah.call(this,a,c)}Od(Nh,Ah);Nh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};Nh.prototype.B=function(){};function Lh(a,c){Ah.call(this,a,c)}Od(Lh,Ah);Lh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};
Lh.prototype.B=function(){var a=this.df,c=this.tc.Gc,b=this.tc.sb().J,d=this.ic.Gc,g=this.ic.sb().J;a.jc=0;var e=c.ob+d.ob,f=gf(c,b,d,g),h=f.kw;if(!(f.Lq>e)){var m=gf(d,g,c,b);if(!(m.Lq>e)){var l=c,k=d,n=b,p=g,r=0;a.pb=2;m.Lq>.98*f.Lq+.001&&(l=d,k=c,n=g,p=b,h=m.kw,a.pb=4,r=1);c=h;b=k;d=p;k=Wh;void 0===c&&(c=0);for(var f=n.D.u.x*l.Nb[c].x+n.D.A.x*l.Nb[c].y,m=n.D.u.y*l.Nb[c].x+n.D.A.y*l.Nb[c].y,g=d.D.u.x*f+d.D.u.y*m,m=d.D.A.x*f+d.D.A.y*m,f=g,g=0,v=Number.MAX_VALUE,t=0;t<b.wb;t++){var q=f*b.Nb[t].x+
m*b.Nb[t].y;q<v&&(v=q,g=t)}f=g+1;f>=b.wb&&(f=0);k[0].nf.x=d.position.x+(d.D.u.x*b.W[g].x+d.D.A.x*b.W[g].y);k[0].nf.y=d.position.y+(d.D.u.y*b.W[g].x+d.D.A.y*b.W[g].y);m=k[0].id;m.B=c;m.nc=m.nc&4294967040|m.B&255;m=k[0].id;m.j=g;m.nc=m.nc&4294902015|m.j<<8&65280;g=k[0].id;g.k=0;g.nc=g.nc&4278255615|g.k<<16&16711680;k[1].nf.x=d.position.x+(d.D.u.x*b.W[f].x+d.D.A.x*b.W[f].y);k[1].nf.y=d.position.y+(d.D.u.y*b.W[f].x+d.D.A.y*b.W[f].y);b=k[1].id;b.B=c;b.nc=b.nc&4294967040|b.B&255;c=k[1].id;c.j=f;c.nc=c.nc&
4294902015|c.j<<8&65280;c=k[1].id;c.k=1;c.nc=c.nc&4278255615|c.k<<16&16711680;c=l.W[h];h=h+1<l.wb?l.W[h+1]:l.W[0];Yh.Set(h.x-c.x,h.y-c.y);Le(Yh);ci.x=Yh.y;ci.y=-Yh.x;hi.Set(.5*(c.x+h.x),.5*(c.y+h.y));ii.x=n.D.u.x*Yh.x+n.D.A.x*Yh.y;ii.y=n.D.u.y*Yh.x+n.D.A.y*Yh.y;ji.x=-ii.x;ji.y=-ii.y;ki.x=ii.y;ki.y=-ii.x;oi.x=n.position.x+(n.D.u.x*c.x+n.D.A.x*c.y);oi.y=n.position.y+(n.D.u.y*c.x+n.D.A.y*c.y);pi.x=n.position.x+(n.D.u.x*h.x+n.D.A.x*h.y);pi.y=n.position.y+(n.D.u.y*h.x+n.D.A.y*h.y);if(!(2>ef(qi,Wh,ji,-ii.x*
oi.x-ii.y*oi.y+e)||2>ef(ri,qi,ii,ii.x*pi.x+ii.y*pi.y+e))){a.ed.S(ci);a.Oa.S(hi);n=ki.x*oi.x+ki.y*oi.y;for(l=h=0;2>l;++l)ki.x*ri[l].nf.x+ki.y*ri[l].nf.y-n<=e&&(c=ri[l].nf.x-p.position.x,k=ri[l].nf.y-p.position.y,a.Fa[h].Oa.x=c*p.D.u.x+k*p.D.u.y,a.Fa[h].Oa.y=c*p.D.A.x+k*p.D.A.y,a.Fa[h].Df.Set(ri[l].id),c=a.Fa[h].Df,c.G=r,c.nc=c.nc&16777215|c.G<<24&4278190080,h++);a.jc=h}}}};function si(){this.K="Controller"+ti++;this.Oe=null;this.j=new ug}si.prototype.Kh=function(){};
si.prototype.ho=function(a){this.j.ho(a);a=a.qa;var c=this.K,b=a.k[c];if(null!=b){var d=b.j(),b=b.gb();null==d?a.j=b:d.k(b);null==b||b.Tg(d);delete a.k[c]}};var ti=0;function ui(){si.call(this);this.B=V(0,-1);this.Wh=this.offset=0;this.G=V(0,0);this.k=null}Od(ui,si);
ui.prototype.Kh=function(){this.k=this.Oe.G.Nc();for(var a=this.j.tb(Bg);a;a=a.gb()){for(var c=a.body,b=V(0,0),d=V(0,0),g=0,e=0,f=c.B.tb();f;f=f.gb()){var h=V(0,0),m=f.yf.Gc.Zn(this.B,this.offset,c.Fe(),h),g=g+m;b.x+=m*h.x;b.y+=m*h.y;var l=0,l=1,e=e+m*l;d.x+=m*h.x*l;d.y+=m*h.y*l}g<Number.MIN_VALUE||(b.x/=g,b.y/=g,d.x/=e,d.y/=e,e=this.k.Ih(),e.Ve(this.Wh*g),c.Ji(e,d),e=V(c.C.x-c.L*(b.y-c.q.I.y),c.C.y+c.L*(b.x-c.q.I.x)),e.Yv(this.G),e.Ve(-2*g),c.Ji(e,b),c.Er(-c.j/c.da*g*c.L*1),Ie(b),Ie(d))}};
function vi(){si.call(this);this.k=V(0,0)}Od(vi,si);vi.prototype.Kh=function(a){a=V(this.k.x*a.Xa,this.k.y*a.Xa);for(var c=this.j.tb(Bg);c;c=c.gb()){var b=c.body,d=b.C;lg(b,V(d.x+a.x,d.y+a.y))}Ie(a)};function wi(){si.call(this);this.k=V(0,0)}Od(wi,si);wi.prototype.Kh=function(){for(var a=this.j.tb(Bg);a;a=a.gb()){var c=a.body;c.Ji(this.k,c.q.I)}};function cg(){this.j=null;this.k={}}cg.prototype.tb=function(){return this.j};function xi(){si.call(this)}Od(xi,si);
xi.prototype.Kh=function(){for(var a=null,c=null,b=0,d=null,g=null,e=0,f=0,h=0,e=null,m=this.j.tb(vg);m;m=m.gb())for(var a=m.body,c=a.q.I,b=a.da,l=this.j.tb(vg);l;l=l.gb())if(d=l.body,a.Ne||d.Ne)g=d.q.I,e=g.x-c.x,f=g.y-c.y,h=e*e+f*f,h<Number.MIN_VALUE||(e=V(e,f),e.Ve(1/h/Math.sqrt(h)*b*d.da),a.Ne&&a.Ji(e,c),e.Ve(-1),d.Ne&&d.Ji(e,g),Ie(e))};function yi(){si.call(this);this.B=new fe;this.k=0}Od(yi,si);
yi.prototype.Kh=function(a){a=a.Xa;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.j.tb(Bg);c;c=c.gb()){var b=c.body,d;d=$d(this.B,ae(b.J.D,b.C));d=$d(b.J.D,d);lg(b,V(b.C.x+d.x*a,b.C.y+d.y*a))}}};function zi(a){this.be=new Ai;this.de=new Ai;this.rg=V(0,0);this.sg=V(0,0);this.pb=a.type;this.mi=this.Lk=null;this.ja=a.j;this.ka=a.k;this.Yx=a.R}A=zi.prototype;A.md=function(){return this.pb};A.Tj=function(){return this.ja.Tj()&&this.ka.Tj()};A.ng=function(){};A.qg=function(){};
A.pg=function(){return!1};function Bi(){this.type=0;this.k=this.j=null;this.R=!1}function Ai(){}function Ci(a){zi.call(this,a);this.Ba=V(0,0);this.Ca=V(0,0);this.j=V(0,0);this.Ba.S(a.N);this.Ca.S(a.ea);this.K=a.length;this.G=a.K;this.N=a.G;this.R=this.B=this.k=0}Od(Ci,zi);
Ci.prototype.ng=function(a){var c,b=0,d=this.ja,g=this.ka;c=d.J.D;var e=this.Ba.x-d.q.V.x,f=this.Ba.y-d.q.V.y,b=c.u.x*e+c.A.x*f,f=c.u.y*e+c.A.y*f,e=b;c=g.J.D;var h=this.Ca.x-g.q.V.x,m=this.Ca.y-g.q.V.y,b=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=b;this.j.x=g.q.I.x+h-d.q.I.x-e;this.j.y=g.q.I.y+m-d.q.I.y-f;b=Math.sqrt(this.j.x*this.j.x+this.j.y*this.j.y);.005<b?this.j.Ve(1/b):this.j.Ja();c=e*this.j.y-f*this.j.x;var l=h*this.j.y-m*this.j.x;c=d.P+d.ca*c*c+g.P+g.ca*l*l;this.da=0!=c?1/c:0;if(0<this.G){var b=
b-this.K,l=2*Math.PI*this.G,k=this.da*l*l;this.B=a.Xa*(2*this.da*this.N*l+a.Xa*k);this.B=0!=this.B?1/this.B:0;this.R=b*a.Xa*k*this.B;this.da=c+this.B;this.da=0!=this.da?1/this.da:0}a.Fh?(this.k*=a.Cc,a=this.k*this.j.x,c=this.k*this.j.y,d.C.x-=d.P*a,d.C.y-=d.P*c,d.L-=d.ca*(e*c-f*a),g.C.x+=g.P*a,g.C.y+=g.P*c,g.L+=g.ca*(h*c-m*a)):this.k=0};
Ci.prototype.qg=function(){var a=this.Ba.x-this.ja.q.V.x,c=this.Ba.y-this.ja.q.V.y,b=this.ja.J.D.u.x*a+this.ja.J.D.A.x*c,c=this.ja.J.D.u.y*a+this.ja.J.D.A.y*c,a=b,d=this.Ca.x-this.ka.q.V.x,g=this.Ca.y-this.ka.q.V.y,b=this.ka.J.D.u.x*d+this.ka.J.D.A.x*g,g=this.ka.J.D.u.y*d+this.ka.J.D.A.y*g,d=b,e=-this.da*(this.j.x*(this.ka.C.x-this.ka.L*g-(this.ja.C.x-this.ja.L*c))+this.j.y*(this.ka.C.y+this.ka.L*d-(this.ja.C.y+this.ja.L*a))+this.R+this.B*this.k);this.k+=e;b=e*this.j.x;e*=this.j.y;this.ja.C.x-=this.ja.P*
b;this.ja.C.y-=this.ja.P*e;this.ja.L-=this.ja.ca*(a*e-c*b);this.ka.C.x+=this.ka.P*b;this.ka.C.y+=this.ka.P*e;this.ka.L+=this.ka.ca*(d*e-g*b)};
Ci.prototype.pg=function(){if(0<this.G)return!0;var a=this.Ba.x-this.ja.q.V.x,c=this.Ba.y-this.ja.q.V.y,b=this.ja.J.D.u.x*a+this.ja.J.D.A.x*c,c=this.ja.J.D.u.y*a+this.ja.J.D.A.y*c,a=b,d=this.Ca.x-this.ka.q.V.x,g=this.Ca.y-this.ka.q.V.y,b=this.ka.J.D.u.x*d+this.ka.J.D.A.x*g,g=this.ka.J.D.u.y*d+this.ka.J.D.A.y*g,d=b,e=this.ka.q.I.x+d-this.ja.q.I.x-a,f=this.ka.q.I.y+g-this.ja.q.I.y-c,h=Math.sqrt(e*e+f*f),b=ee(h-this.K,-.2,.2),m=-this.da*b;this.j.Set(e/h,f/h);e=m*this.j.x;m*=this.j.y;this.ja.q.I.x-=this.ja.P*
e;this.ja.q.I.y-=this.ja.P*m;this.ja.q.T-=this.ja.ca*(a*m-c*e);this.ka.q.I.x+=this.ka.P*e;this.ka.q.I.y+=this.ka.P*m;this.ka.q.T+=this.ka.ca*(d*m-g*e);rg(this.ja);rg(this.ka);return.005>Math.abs(b)};function Di(){Bi.call(this);this.N=V(0,0);this.ea=V(0,0);this.type=3;this.length=1;this.G=this.K=0}Od(Di,Bi);Di.prototype.B=function(){return new Ci(this)};
function Ei(a){zi.call(this,a);this.B=V(0,0);this.G=V(0,0);this.R=new fe;this.j=V(0,0);this.B.S(a.G);this.G.S(a.K);this.R.Ja();this.K=0;this.j.Ja();this.k=0;this.N=a.N;this.ea=a.ea}Od(Ei,zi);
Ei.prototype.ng=function(a){var c,b=0,d=this.ja,g=this.ka;c=d.J.D;var e=this.B.x-d.q.V.x,f=this.B.y-d.q.V.y,b=c.u.x*e+c.A.x*f,f=c.u.y*e+c.A.y*f,e=b;c=g.J.D;var h=this.G.x-g.q.V.x,m=this.G.y-g.q.V.y,b=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=b;c=d.P;var b=g.P,l=d.ca,k=g.ca,n=new fe;n.u.x=c+b;n.A.x=0;n.u.y=0;n.A.y=c+b;n.u.x+=l*f*f;n.A.x+=-l*e*f;n.u.y+=-l*e*f;n.A.y+=l*e*e;n.u.x+=k*m*m;n.A.x+=-k*h*m;n.u.y+=-k*h*m;n.A.y+=k*h*h;ie(n,this.R);this.K=l+k;0<this.K&&(this.K=1/this.K);a.Fh?(this.j.x*=a.Cc,this.j.y*=
a.Cc,this.k*=a.Cc,a=this.j,d.C.x-=c*a.x,d.C.y-=c*a.y,d.L-=l*(e*a.y-f*a.x+this.k),g.C.x+=b*a.x,g.C.y+=b*a.y,g.L+=k*(h*a.y-m*a.x+this.k)):(this.j.Ja(),this.k=0)};
Ei.prototype.qg=function(a){var c,b=0,d=this.ja,g=this.ka,e=d.C,f=d.L,h=g.C,m=g.L,l=d.P,k=g.P,n=d.ca,p=g.ca;c=d.J.D;var r=this.B.x-d.q.V.x,v=this.B.y-d.q.V.y,b=c.u.x*r+c.A.x*v,v=c.u.y*r+c.A.y*v,r=b;c=g.J.D;var t=this.G.x-g.q.V.x,q=this.G.y-g.q.V.y,b=c.u.x*t+c.A.x*q,q=c.u.y*t+c.A.y*q,t=b;c=0;var b=-this.K*(m-f),u=this.k;c=a.Xa*this.ea;this.k=ee(this.k+b,-c,c);b=this.k-u;f-=n*b;m+=p*b;c=$d(this.R,V(-(h.x-m*q-e.x+f*v),-(h.y+m*t-e.y-f*r)));b=this.j.Nc();this.j.mg(c);c=a.Xa*this.N;Ke(this.j)>c*c&&(Le(this.j),
this.j.Ve(c));c=de(this.j,b);e.x-=l*c.x;e.y-=l*c.y;f-=n*(r*c.y-v*c.x);h.x+=k*c.x;h.y+=k*c.y;m+=p*(t*c.y-q*c.x);d.L=f;g.L=m};Ei.prototype.pg=function(){return!0};function Fi(){Bi.call(this);this.G=V(0,0);this.K=V(0,0);this.type=9;this.ea=this.N=0}Od(Fi,Bi);Fi.prototype.B=function(){return new Ei(this)};
function Gi(a){zi.call(this,a);this.ea=V(0,0);this.ra=V(0,0);this.Ba=V(0,0);this.Ca=V(0,0);this.j=new Hi;var c=a.G.pb,b=a.K.pb;this.N=this.K=this.R=this.G=null;var d=0,g=0;this.Wa=a.G.ja;this.ja=a.G.ka;1==c?(this.G=a.G,this.ea.S(this.G.Ba),this.Ba.S(this.G.Ca),d=Ii(this.G)):(this.R=a.G,this.ea.S(this.R.Ba),this.Ba.S(this.R.Ca),d=this.R.rl());this.bb=a.K.ja;this.ka=a.K.ka;1==b?(this.K=a.K,this.ra.S(this.K.Ba),this.Ca.S(this.K.Ca),g=Ii(this.K)):(this.N=a.K,this.ra.S(this.N.Ba),this.Ca.S(this.N.Ca),
g=this.N.rl());this.k=a.N;this.qa=d+this.k*g;this.B=0}Od(Gi,zi);
Gi.prototype.ng=function(a){var c=this.Wa,b=this.bb,d=this.ja,g=this.ka,e=0,f=0,h=0,m=0,l=h=0,k=0;this.j.Ja();this.G?(this.j.B=-1,k+=d.ca):(c=c.J.D,f=this.R.we,e=c.u.x*f.x+c.A.x*f.y,f=c.u.y*f.x+c.A.y*f.y,c=d.J.D,h=this.Ba.x-d.q.V.x,m=this.Ba.y-d.q.V.y,l=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=l*f-m*e,this.j.j.Set(-e,-f),this.j.B=-h,k+=d.P+d.ca*h*h);this.K?(this.j.G=-this.k,k+=this.k*this.k*g.ca):(c=b.J.D,f=this.N.we,e=c.u.x*f.x+c.A.x*f.y,f=c.u.y*f.x+c.A.y*f.y,c=g.J.D,h=this.Ca.x-g.q.V.x,m=this.Ca.y-g.q.V.y,
l=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=l*f-m*e,this.j.k.Set(-this.k*e,-this.k*f),this.j.G=-this.k*h,k+=this.k*this.k*(g.P+g.ca*h*h));this.da=0<k?1/k:0;a.Fh?(d.C.x+=d.P*this.B*this.j.j.x,d.C.y+=d.P*this.B*this.j.j.y,d.L+=d.ca*this.B*this.j.B,g.C.x+=g.P*this.B*this.j.k.x,g.C.y+=g.P*this.B*this.j.k.y,g.L+=g.ca*this.B*this.j.G):this.B=0};
Gi.prototype.qg=function(){var a=this.ja,c=this.ka,b=this.j,d=a.C,g=a.L,e=c.C,f=c.L;void 0===g&&(g=0);void 0===f&&(f=0);b=-this.da*(b.j.x*d.x+b.j.y*d.y+b.B*g+(b.k.x*e.x+b.k.y*e.y)+b.G*f);this.B+=b;a.C.x+=a.P*b*this.j.j.x;a.C.y+=a.P*b*this.j.j.y;a.L+=a.ca*b*this.j.B;c.C.x+=c.P*b*this.j.k.x;c.C.y+=c.P*b*this.j.k.y;c.L+=c.ca*b*this.j.G};
Gi.prototype.pg=function(){var a=this.ja,c=this.ka,b=0,d=0;this.G?b=Ii(this.G):b=this.R.rl();this.K?d=Ii(this.K):d=this.N.rl();b=-this.da*(this.qa-(b+this.k*d));a.q.I.x+=a.P*b*this.j.j.x;a.q.I.y+=a.P*b*this.j.j.y;a.q.T+=a.ca*b*this.j.B;c.q.I.x+=c.P*b*this.j.k.x;c.q.I.y+=c.P*b*this.j.k.y;c.q.T+=c.ca*b*this.j.G;rg(a);rg(c);return!0};function Ji(){Bi.call(this);this.type=6;this.K=this.G=null;this.N=1}Od(Ji,Bi);Ji.prototype.B=function(){return new Gi(this)};function Hi(){this.j=V(0,0);this.k=V(0,0)}
Hi.prototype.Ja=function(){this.j.Ja();this.B=0;this.k.Ja();this.G=0};Hi.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.j.S(a);this.B=c;this.k.S(b);this.G=d};
function Ki(a){zi.call(this,a);this.Ba=V(0,0);this.Ca=V(0,0);this.we=V(0,0);this.Ge=V(0,0);this.k=V(0,0);this.N=V(0,0);this.qa=new fe;this.j=V(0,0);this.Ba.S(a.ea);this.Ca.S(a.ra);this.we.S(a.G);this.Ge.x=-this.we.y;this.Ge.y=this.we.x;this.j.Ja();this.cb=this.Kb=0;this.Oc=a.qa;this.nd=a.Kb;this.Or=a.Wa;this.Pr=a.bb;this.Oi=a.K;this.wl=a.N;this.ub=0;this.k.Ja();this.N.Ja()}Od(Ki,zi);
Ki.prototype.rl=function(){var a=this.ja,c=this.ka,b=ng(a,this.Ba),d=ng(c,this.Ca),c=d.x-b.x,b=d.y-b.y,a=$d(a.J.D,this.we);return a.x*c+a.y*b};
Ki.prototype.ng=function(a){var c=this.ja,b=this.ka,d,g=0;this.rg.S(c.q.V);this.sg.S(b.q.V);var e=c.Fe();b.Fe();d=c.J.D;var f=this.Ba.x-this.rg.x,h=this.Ba.y-this.rg.y,g=d.u.x*f+d.A.x*h,h=d.u.y*f+d.A.y*h,f=g;d=b.J.D;var m=this.Ca.x-this.sg.x,l=this.Ca.y-this.sg.y,g=d.u.x*m+d.A.x*l,l=d.u.y*m+d.A.y*l,m=g;d=b.q.I.x+m-c.q.I.x-f;g=b.q.I.y+l-c.q.I.y-h;this.ea=c.P;this.ra=b.P;this.Wa=c.ca;this.bb=b.ca;this.k.S($d(e.D,this.we));this.B=(d+f)*this.k.y-(g+h)*this.k.x;this.G=m*this.k.y-l*this.k.x;this.Kb=this.ea+
this.ra+this.Wa*this.B*this.B+this.bb*this.G*this.G;this.Kb=this.Kb>Number.MIN_VALUE?1/this.Kb:0;this.N.S($d(e.D,this.Ge));this.K=(d+f)*this.N.y-(g+h)*this.N.x;this.R=m*this.N.y-l*this.N.x;e=this.ea;f=this.ra;h=this.Wa;m=this.bb;this.qa.u.x=e+f+h*this.K*this.K+m*this.R*this.R;this.qa.u.y=h*this.K*this.B+m*this.R*this.G;this.qa.A.x=this.qa.u.y;this.qa.A.y=e+f+h*this.B*this.B+m*this.G*this.G;this.Oi?(d=this.k.x*d+this.k.y*g,.01>Math.abs(this.nd-this.Oc)?this.ub=3:d<=this.Oc?1!=this.ub&&(this.ub=1,this.j.y=
0):d>=this.nd?2!=this.ub&&(this.ub=2,this.j.y=0):(this.ub=0,this.j.y=0)):this.ub=0;0==this.wl&&(this.cb=0);a.Fh?(this.j.x*=a.Cc,this.j.y*=a.Cc,this.cb*=a.Cc,a=this.j.x*this.N.x+(this.cb+this.j.y)*this.k.x,d=this.j.x*this.N.y+(this.cb+this.j.y)*this.k.y,g=this.j.x*this.K+(this.cb+this.j.y)*this.B,e=this.j.x*this.R+(this.cb+this.j.y)*this.G,c.C.x-=this.ea*a,c.C.y-=this.ea*d,c.L-=this.Wa*g,b.C.x+=this.ra*a,b.C.y+=this.ra*d,b.L+=this.bb*e):(this.j.Ja(),this.cb=0)};
Ki.prototype.qg=function(a){var c=this.ja,b=this.ka,d=c.C,g=c.L,e=b.C,f=b.L,h=0,m=0,l=0,k=0;this.wl&&3!=this.ub&&(k=this.Kb*(this.Pr-(this.k.x*(e.x-d.x)+this.k.y*(e.y-d.y)+this.G*f-this.B*g)),h=this.cb,m=a.Xa*this.Or,this.cb=ee(this.cb+k,-m,m),k=this.cb-h,h=k*this.k.x,m=k*this.k.y,l=k*this.B,k*=this.G,d.x-=this.ea*h,d.y-=this.ea*m,g-=this.Wa*l,e.x+=this.ra*h,e.y+=this.ra*m,f+=this.bb*k);m=this.N.x*(e.x-d.x)+this.N.y*(e.y-d.y)+this.R*f-this.K*g;this.Oi&&0!=this.ub?(l=this.k.x*(e.x-d.x)+this.k.y*(e.y-
d.y)+this.G*f-this.B*g,h=this.j.Nc(),a=je(this.qa,V(0,0),-m,-l),this.j.mg(a),1==this.ub?this.j.y=Math.max(this.j.y,0):2==this.ub&&(this.j.y=Math.min(this.j.y,0)),m=-m-(this.j.y-h.y)*this.qa.A.x,l=0,l=0!=this.qa.u.x?m/this.qa.u.x+h.x:h.x,this.j.x=l,a.x=this.j.x-h.x,a.y=this.j.y-h.y,h=a.x*this.N.x+a.y*this.k.x,m=a.x*this.N.y+a.y*this.k.y,l=a.x*this.K+a.y*this.B,k=a.x*this.R+a.y*this.G):(a=0,a=0!=this.qa.u.x?-m/this.qa.u.x:0,this.j.x+=a,h=a*this.N.x,m=a*this.N.y,l=a*this.K,k=a*this.R);d.x-=this.ea*h;
d.y-=this.ea*m;g-=this.Wa*l;e.x+=this.ra*h;e.y+=this.ra*m;f+=this.bb*k;c.C.S(d);c.L=g;b.C.S(e);b.L=f};
Ki.prototype.pg=function(){var a=this.ja,c=this.ka,b=a.q.I,d=a.q.T,g=c.q.I,e=c.q.T,f,h=0,m=0,l=0,k=0,n=f=0,p=0,m=!1,r=0,v=ge(d),l=ge(e);f=v;var p=this.Ba.x-this.rg.x,t=this.Ba.y-this.rg.y,h=f.u.x*p+f.A.x*t,t=f.u.y*p+f.A.y*t,p=h;f=l;l=this.Ca.x-this.sg.x;k=this.Ca.y-this.sg.y;h=f.u.x*l+f.A.x*k;k=f.u.y*l+f.A.y*k;l=h;f=g.x+l-b.x-p;h=g.y+k-b.y-t;if(this.Oi){this.k=$d(v,this.we);this.B=(f+p)*this.k.y-(h+t)*this.k.x;this.G=l*this.k.y-k*this.k.x;var q=this.k.x*f+this.k.y*h;.01>Math.abs(this.nd-this.Oc)?
(r=ee(q,-.2,.2),n=Math.abs(q),m=!0):q<=this.Oc?(r=ee(q-this.Oc+.005,-.2,0),n=this.Oc-q,m=!0):q>=this.nd&&(r=ee(q-this.nd+.005,0,.2),n=q-this.nd,m=!0)}this.N=$d(v,this.Ge);this.K=(f+p)*this.N.y-(h+t)*this.N.x;this.R=l*this.N.y-k*this.N.x;v=V(0,0);t=this.N.x*f+this.N.y*h;n=Math.max(n,Math.abs(t));p=0;m?(m=this.ea,l=this.ra,k=this.Wa,f=this.bb,this.qa.u.x=m+l+k*this.K*this.K+f*this.R*this.R,this.qa.u.y=k*this.K*this.B+f*this.R*this.G,this.qa.A.x=this.qa.u.y,this.qa.A.y=m+l+k*this.B*this.B+f*this.G*this.G,
je(this.qa,v,-t,-r)):(m=this.ea,l=this.ra,k=this.Wa,f=this.bb,r=m+l+k*this.K*this.K+f*this.R*this.R,v.x=0!=r?-t/r:0,v.y=0);r=v.x*this.N.x+v.y*this.k.x;m=v.x*this.N.y+v.y*this.k.y;t=v.x*this.K+v.y*this.B;v=v.x*this.R+v.y*this.G;b.x-=this.ea*r;b.y-=this.ea*m;d-=this.Wa*t;g.x+=this.ra*r;g.y+=this.ra*m;e+=this.bb*v;a.q.T=d;c.q.T=e;rg(a);rg(c);return.005>=n&&p<=Pd};
function Li(){Bi.call(this);this.ea=V(0,0);this.ra=V(0,0);this.G=V(0,0);this.type=7;this.G.Set(1,0);this.K=!1;this.Kb=this.qa=0;this.N=!1;this.bb=this.Wa=0}Od(Li,Bi);Li.prototype.B=function(){return new Ki(this)};
function Oi(a){zi.call(this,a);this.Ba=V(0,0);this.Ca=V(0,0);this.we=V(0,0);this.Ge=V(0,0);this.N=V(0,0);this.qa=V(0,0);this.k=new ke;this.j=new le(0,0,0);this.Ba.S(a.ea);this.Ca.S(a.ra);this.we.S(a.G);this.Ge.x=-this.we.y;this.Ge.y=this.we.x;this.iC=a.Kb;this.j.Ja();this.cb=this.Kb=0;this.Oc=a.qa;this.nd=a.cb;this.Or=a.Wa;this.Pr=a.bb;this.Oi=a.K;this.wl=a.N;this.ub=0;this.N.Ja();this.qa.Ja()}Od(Oi,zi);
Oi.prototype.rl=function(){var a=this.ja,c=this.ka,b=ng(a,this.Ba),d=ng(c,this.Ca),c=d.x-b.x,b=d.y-b.y,a=$d(a.J.D,this.we);return a.x*c+a.y*b};
Oi.prototype.ng=function(a){var c=this.ja,b=this.ka,d,g=0;this.rg.S(c.q.V);this.sg.S(b.q.V);var e=c.Fe();b.Fe();d=c.J.D;var f=this.Ba.x-this.rg.x,h=this.Ba.y-this.rg.y,g=d.u.x*f+d.A.x*h,h=d.u.y*f+d.A.y*h,f=g;d=b.J.D;var m=this.Ca.x-this.sg.x,l=this.Ca.y-this.sg.y,g=d.u.x*m+d.A.x*l,l=d.u.y*m+d.A.y*l,m=g;d=b.q.I.x+m-c.q.I.x-f;g=b.q.I.y+l-c.q.I.y-h;this.ea=c.P;this.ra=b.P;this.Wa=c.ca;this.bb=b.ca;this.N.S($d(e.D,this.we));this.B=(d+f)*this.N.y-(g+h)*this.N.x;this.G=m*this.N.y-l*this.N.x;this.Kb=this.ea+
this.ra+this.Wa*this.B*this.B+this.bb*this.G*this.G;this.Kb>Number.MIN_VALUE&&(this.Kb=1/this.Kb);this.qa.S($d(e.D,this.Ge));this.K=(d+f)*this.qa.y-(g+h)*this.qa.x;this.R=m*this.qa.y-l*this.qa.x;e=this.ea;f=this.ra;h=this.Wa;m=this.bb;this.k.u.x=e+f+h*this.K*this.K+m*this.R*this.R;this.k.u.y=h*this.K+m*this.R;this.k.u.z=h*this.K*this.B+m*this.R*this.G;this.k.A.x=this.k.u.y;this.k.A.y=h+m;this.k.A.z=h*this.B+m*this.G;this.k.j.x=this.k.u.z;this.k.j.y=this.k.A.z;this.k.j.z=e+f+h*this.B*this.B+m*this.G*
this.G;this.Oi?(d=this.N.x*d+this.N.y*g,.01>Math.abs(this.nd-this.Oc)?this.ub=3:d<=this.Oc?1!=this.ub&&(this.ub=1,this.j.z=0):d>=this.nd?2!=this.ub&&(this.ub=2,this.j.z=0):(this.ub=0,this.j.z=0)):this.ub=0;0==this.wl&&(this.cb=0);a.Fh?(this.j.x*=a.Cc,this.j.y*=a.Cc,this.cb*=a.Cc,a=this.j.x*this.qa.x+(this.cb+this.j.z)*this.N.x,d=this.j.x*this.qa.y+(this.cb+this.j.z)*this.N.y,g=this.j.x*this.K+this.j.y+(this.cb+this.j.z)*this.B,e=this.j.x*this.R+this.j.y+(this.cb+this.j.z)*this.G,c.C.x-=this.ea*a,
c.C.y-=this.ea*d,c.L-=this.Wa*g,b.C.x+=this.ra*a,b.C.y+=this.ra*d,b.L+=this.bb*e):(this.j.Ja(),this.cb=0)};
Oi.prototype.qg=function(a){var c=this.ja,b=this.ka,d=c.C,g=c.L,e=b.C,f=b.L,h=0,m=0,l=0,k=0;this.wl&&3!=this.ub&&(k=this.Kb*(this.Pr-(this.N.x*(e.x-d.x)+this.N.y*(e.y-d.y)+this.G*f-this.B*g)),h=this.cb,a=a.Xa*this.Or,this.cb=ee(this.cb+k,-a,a),k=this.cb-h,h=k*this.N.x,m=k*this.N.y,l=k*this.B,k*=this.G,d.x-=this.ea*h,d.y-=this.ea*m,g-=this.Wa*l,e.x+=this.ra*h,e.y+=this.ra*m,f+=this.bb*k);l=this.qa.x*(e.x-d.x)+this.qa.y*(e.y-d.y)+this.R*f-this.K*g;m=f-g;this.Oi&&0!=this.ub?(a=this.N.x*(e.x-d.x)+this.N.y*
(e.y-d.y)+this.G*f-this.B*g,h=this.j.Nc(),a=De(this.k,new le(0,0,0),-l,-m,-a),this.j.mg(a),1==this.ub?this.j.z=Math.max(this.j.z,0):2==this.ub&&(this.j.z=Math.min(this.j.z,0)),l=-l-(this.j.z-h.z)*this.k.j.x,m=-m-(this.j.z-h.z)*this.k.j.y,m=Ce(this.k,V(0,0),l,m),m.x+=h.x,m.y+=h.y,this.j.x=m.x,this.j.y=m.y,a.x=this.j.x-h.x,a.y=this.j.y-h.y,a.z=this.j.z-h.z,h=a.x*this.qa.x+a.z*this.N.x,m=a.x*this.qa.y+a.z*this.N.y,l=a.x*this.K+a.y+a.z*this.B,k=a.x*this.R+a.y+a.z*this.G,d.x-=this.ea*h,d.y-=this.ea*m,
g-=this.Wa*l,e.x+=this.ra*h,e.y+=this.ra*m,f+=this.bb*k):(a=Ce(this.k,V(0,0),-l,-m),this.j.x+=a.x,this.j.y+=a.y,h=a.x*this.qa.x,m=a.x*this.qa.y,l=a.x*this.K+a.y,k=a.x*this.R+a.y,d.x-=this.ea*h,d.y-=this.ea*m,g-=this.Wa*l,e.x+=this.ra*h,e.y+=this.ra*m,f+=this.bb*k);c.C.S(d);c.L=g;b.C.S(e);b.L=f};
Oi.prototype.pg=function(){var a=this.ja,c=this.ka,b=a.q.I,d=a.q.T,g=c.q.I,e=c.q.T,f,h=0,m=0,l=0,k=h=f=0,n=0,m=!1,p=0,r=ge(d),v=ge(e);f=r;var n=this.Ba.x-this.rg.x,t=this.Ba.y-this.rg.y,h=f.u.x*n+f.A.x*t,t=f.u.y*n+f.A.y*t,n=h;f=v;v=this.Ca.x-this.sg.x;l=this.Ca.y-this.sg.y;h=f.u.x*v+f.A.x*l;l=f.u.y*v+f.A.y*l;v=h;f=g.x+v-b.x-n;h=g.y+l-b.y-t;if(this.Oi){this.N=$d(r,this.we);this.B=(f+n)*this.N.y-(h+t)*this.N.x;this.G=v*this.N.y-l*this.N.x;var q=this.N.x*f+this.N.y*h;.01>Math.abs(this.nd-this.Oc)?(p=
ee(q,-.2,.2),k=Math.abs(q),m=!0):q<=this.Oc?(p=ee(q-this.Oc+.005,-.2,0),k=this.Oc-q,m=!0):q>=this.nd&&(p=ee(q-this.nd+.005,0,.2),k=q-this.nd,m=!0)}this.qa=$d(r,this.Ge);this.K=(f+n)*this.qa.y-(h+t)*this.qa.x;this.R=v*this.qa.y-l*this.qa.x;r=new le(0,0,0);t=this.qa.x*f+this.qa.y*h;v=e-d-this.iC;k=Math.max(k,Math.abs(t));n=Math.abs(v);m?(m=this.ea,l=this.ra,f=this.Wa,h=this.bb,this.k.u.x=m+l+f*this.K*this.K+h*this.R*this.R,this.k.u.y=f*this.K+h*this.R,this.k.u.z=f*this.K*this.B+h*this.R*this.G,this.k.A.x=
this.k.u.y,this.k.A.y=f+h,this.k.A.z=f*this.B+h*this.G,this.k.j.x=this.k.u.z,this.k.j.y=this.k.A.z,this.k.j.z=m+l+f*this.B*this.B+h*this.G*this.G,De(this.k,r,-t,-v,-p)):(m=this.ea,l=this.ra,f=this.Wa,h=this.bb,p=f*this.K+h*this.R,q=f+h,this.k.u.Set(m+l+f*this.K*this.K+h*this.R*this.R,p,0),this.k.A.Set(p,q,0),p=Ce(this.k,V(0,0),-t,-v),r.x=p.x,r.y=p.y,r.z=0);p=r.x*this.qa.x+r.z*this.N.x;m=r.x*this.qa.y+r.z*this.N.y;t=r.x*this.K+r.y+r.z*this.B;r=r.x*this.R+r.y+r.z*this.G;b.x-=this.ea*p;b.y-=this.ea*
m;d-=this.Wa*t;g.x+=this.ra*p;g.y+=this.ra*m;e+=this.bb*r;a.q.T=d;c.q.T=e;rg(a);rg(c);return.005>=k&&n<=Pd};function Pi(){Bi.call(this);this.ea=V(0,0);this.ra=V(0,0);this.G=V(0,0);this.type=2;this.G.Set(1,0);this.Kb=0;this.K=!1;this.cb=this.qa=0;this.N=!1;this.bb=this.Wa=0}Od(Pi,Bi);Pi.prototype.B=function(){return new Oi(this)};
function Qi(a){zi.call(this,a);this.ea=V(0,0);this.ra=V(0,0);this.Ba=V(0,0);this.Ca=V(0,0);this.j=V(0,0);this.k=V(0,0);this.K=this.ja.Oe.pF;this.ea.x=a.G.x-this.K.J.position.x;this.ea.y=a.G.y-this.K.J.position.y;this.ra.x=a.K.x-this.K.J.position.x;this.ra.y=a.K.y-this.K.J.position.y;this.Ba.S(a.N);this.Ca.S(a.ea);this.B=a.ra;this.bb=0+0*this.B;this.nd=Math.min(0,this.bb-this.B*Ri);this.Ge=Math.min(0,(this.bb-Ri)/this.B);this.N=this.R=this.G=0}Od(Qi,zi);
Qi.prototype.ng=function(a){var c=this.ja,b=this.ka,d;d=c.J.D;var g=this.Ba.x-c.q.V.x,e=this.Ba.y-c.q.V.y,f=d.u.x*g+d.A.x*e,e=d.u.y*g+d.A.y*e,g=f;d=b.J.D;var h=this.Ca.x-b.q.V.x,m=this.Ca.y-b.q.V.y,f=d.u.x*h+d.A.x*m,m=d.u.y*h+d.A.y*m,h=f;d=b.q.I.x+h;var f=b.q.I.y+m,l=this.K.J.position.x+this.ra.x,k=this.K.J.position.y+this.ra.y;this.j.Set(c.q.I.x+g-(this.K.J.position.x+this.ea.x),c.q.I.y+e-(this.K.J.position.y+this.ea.y));this.k.Set(d-l,f-k);d=Je(this.j);f=Je(this.k);.005<d?this.j.Ve(1/d):this.j.Ja();
.005<f?this.k.Ve(1/f):this.k.Ja();0<this.bb-d-this.B*f?this.G=this.Oc=0:this.Oc=2;d<this.nd?this.R=this.cb=0:this.cb=2;f<this.Ge?this.N=this.ub=0:this.ub=2;d=g*this.j.y-e*this.j.x;f=h*this.k.y-m*this.k.x;this.qa=c.P+c.ca*d*d;this.Wa=b.P+b.ca*f*f;this.Kb=this.qa+this.B*this.B*this.Wa;this.qa=1/this.qa;this.Wa=1/this.Wa;this.Kb=1/this.Kb;a.Fh?(this.G*=a.Cc,this.R*=a.Cc,this.N*=a.Cc,a=(-this.G-this.R)*this.j.x,d=(-this.G-this.R)*this.j.y,f=(-this.B*this.G-this.N)*this.k.x,l=(-this.B*this.G-this.N)*this.k.y,
c.C.x+=c.P*a,c.C.y+=c.P*d,c.L+=c.ca*(g*d-e*a),b.C.x+=b.P*f,b.C.y+=b.P*l,b.L+=b.ca*(h*l-m*f)):this.N=this.R=this.G=0};
Qi.prototype.qg=function(){var a=this.ja,c=this.ka,b;b=a.J.D;var d=this.Ba.x-a.q.V.x,g=this.Ba.y-a.q.V.y,e=b.u.x*d+b.A.x*g,g=b.u.y*d+b.A.y*g,d=e;b=c.J.D;var f=this.Ca.x-c.q.V.x,h=this.Ca.y-c.q.V.y,e=b.u.x*f+b.A.x*h,h=b.u.y*f+b.A.y*h,f=e,m=e=b=0,l=0;b=l=b=l=m=e=b=0;2==this.Oc&&(b=a.C.x+-a.L*g,e=a.C.y+a.L*d,m=c.C.x+-c.L*h,l=c.C.y+c.L*f,b=-(this.j.x*b+this.j.y*e)-this.B*(this.k.x*m+this.k.y*l),l=this.Kb*-b,b=this.G,this.G=Math.max(0,this.G+l),l=this.G-b,b=-l*this.j.x,e=-l*this.j.y,m=-this.B*l*this.k.x,
l=-this.B*l*this.k.y,a.C.x+=a.P*b,a.C.y+=a.P*e,a.L+=a.ca*(d*e-g*b),c.C.x+=c.P*m,c.C.y+=c.P*l,c.L+=c.ca*(f*l-h*m));2==this.cb&&(b=a.C.x+-a.L*g,e=a.C.y+a.L*d,b=-(this.j.x*b+this.j.y*e),l=-this.qa*b,b=this.R,this.R=Math.max(0,this.R+l),l=this.R-b,b=-l*this.j.x,e=-l*this.j.y,a.C.x+=a.P*b,a.C.y+=a.P*e,a.L+=a.ca*(d*e-g*b));2==this.ub&&(m=c.C.x+-c.L*h,l=c.C.y+c.L*f,b=-(this.k.x*m+this.k.y*l),l=-this.Wa*b,b=this.N,this.N=Math.max(0,this.N+l),l=this.N-b,m=-l*this.k.x,l=-l*this.k.y,c.C.x+=c.P*m,c.C.y+=c.P*
l,c.L+=c.ca*(f*l-h*m))};
Qi.prototype.pg=function(){var a=this.ja,c=this.ka,b,d=this.K.J.position.x+this.ea.x,g=this.K.J.position.y+this.ea.y,e=this.K.J.position.x+this.ra.x,f=this.K.J.position.y+this.ra.y,h=0,m=0,l=0,k=0,n=b=0,p=0,r=0,v=n=r=b=n=b=0;2==this.Oc&&(b=a.J.D,h=this.Ba.x-a.q.V.x,m=this.Ba.y-a.q.V.y,n=b.u.x*h+b.A.x*m,m=b.u.y*h+b.A.y*m,h=n,b=c.J.D,l=this.Ca.x-c.q.V.x,k=this.Ca.y-c.q.V.y,n=b.u.x*l+b.A.x*k,k=b.u.y*l+b.A.y*k,l=n,b=a.q.I.x+h,n=a.q.I.y+m,p=c.q.I.x+l,r=c.q.I.y+k,this.j.Set(b-d,n-g),this.k.Set(p-e,r-f),
b=Je(this.j),n=Je(this.k),.005<b?this.j.Ve(1/b):this.j.Ja(),.005<n?this.k.Ve(1/n):this.k.Ja(),b=this.bb-b-this.B*n,v=Math.max(v,-b),b=ee(b+.005,-.2,0),r=-this.Kb*b,b=-r*this.j.x,n=-r*this.j.y,p=-this.B*r*this.k.x,r=-this.B*r*this.k.y,a.q.I.x+=a.P*b,a.q.I.y+=a.P*n,a.q.T+=a.ca*(h*n-m*b),c.q.I.x+=c.P*p,c.q.I.y+=c.P*r,c.q.T+=c.ca*(l*r-k*p),rg(a),rg(c));2==this.cb&&(b=a.J.D,h=this.Ba.x-a.q.V.x,m=this.Ba.y-a.q.V.y,n=b.u.x*h+b.A.x*m,m=b.u.y*h+b.A.y*m,h=n,b=a.q.I.x+h,n=a.q.I.y+m,this.j.Set(b-d,n-g),b=Je(this.j),
.005<b?(this.j.x*=1/b,this.j.y*=1/b):this.j.Ja(),b=this.nd-b,v=Math.max(v,-b),b=ee(b+.005,-.2,0),r=-this.qa*b,b=-r*this.j.x,n=-r*this.j.y,a.q.I.x+=a.P*b,a.q.I.y+=a.P*n,a.q.T+=a.ca*(h*n-m*b),rg(a));2==this.ub&&(b=c.J.D,l=this.Ca.x-c.q.V.x,k=this.Ca.y-c.q.V.y,n=b.u.x*l+b.A.x*k,k=b.u.y*l+b.A.y*k,l=n,p=c.q.I.x+l,r=c.q.I.y+k,this.k.Set(p-e,r-f),n=Je(this.k),.005<n?(this.k.x*=1/n,this.k.y*=1/n):this.k.Ja(),b=this.Ge-n,v=Math.max(v,-b),b=ee(b+.005,-.2,0),r=-this.Wa*b,p=-r*this.k.x,r=-r*this.k.y,c.q.I.x+=
c.P*p,c.q.I.y+=c.P*r,c.q.T+=c.ca*(l*r-k*p),rg(c));return.005>v};var Ri=1;function Si(){Bi.call(this);this.G=V(0,0);this.K=V(0,0);this.N=V(0,0);this.ea=V(0,0);this.type=4;this.G.Set(-1,1);this.K.Set(1,1);this.N.Set(-1,0);this.ea.Set(1,0);this.ra=1;this.R=!0}Od(Si,Bi);Si.prototype.B=function(){return new Qi(this)};
function Ti(a){zi.call(this,a);this.qa=new fe;this.N=new fe;this.ea=new fe;this.ra=new fe;this.k=new le(0,0,0);this.G=V(0,0);this.R=V(0,0);this.Ba=V(0,0);this.Ca=V(0,0);this.j=new le(0,0,0);this.da=new ke;this.Ba.S(a.G);this.Ca.S(a.K);this.cb=a.ea;this.j.Ja();this.K=0;this.Wa=a.ra;this.ub=a.qa;this.Ge=a.Kb;this.nd=a.bb;this.bb=a.N;this.Oc=a.Wa;this.B=0}Od(Ti,zi);function Ii(a){return a.ka.q.T-a.ja.q.T-a.cb}
Ti.prototype.ng=function(a){var c=this.ja,b=this.ka,d,g=0;d=c.J.D;var e=this.Ba.x-c.q.V.x,f=this.Ba.y-c.q.V.y,g=d.u.x*e+d.A.x*f,f=d.u.y*e+d.A.y*f,e=g;d=b.J.D;var h=this.Ca.x-b.q.V.x,m=this.Ca.y-b.q.V.y,g=d.u.x*h+d.A.x*m,m=d.u.y*h+d.A.y*m,h=g;d=c.P;var g=b.P,l=c.ca,k=b.ca;this.da.u.x=d+g+f*f*l+m*m*k;this.da.A.x=-f*e*l-m*h*k;this.da.j.x=-f*l-m*k;this.da.u.y=this.da.A.x;this.da.A.y=d+g+e*e*l+h*h*k;this.da.j.y=e*l+h*k;this.da.u.z=this.da.j.x;this.da.A.z=this.da.j.y;this.da.j.z=l+k;this.Kb=1/(l+k);this.Oc||
(this.K=0);if(this.bb){var n=b.q.T-c.q.T-this.cb;Math.abs(this.ub-this.Wa)<2*Pd?this.B=3:n<=this.Wa?(1!=this.B&&(this.j.z=0),this.B=1):n>=this.ub?(2!=this.B&&(this.j.z=0),this.B=2):(this.B=0,this.j.z=0)}else this.B=0;a.Fh?(this.j.x*=a.Cc,this.j.y*=a.Cc,this.K*=a.Cc,a=this.j.x,n=this.j.y,c.C.x-=d*a,c.C.y-=d*n,c.L-=l*(e*n-f*a+this.K+this.j.z),b.C.x+=g*a,b.C.y+=g*n,b.L+=k*(h*n-m*a+this.K+this.j.z)):(this.j.Ja(),this.K=0)};
Ti.prototype.qg=function(a){var c=this.ja,b=this.ka,d=0,g=d=0,e=0,f=0,h=0,m=c.C,l=c.L,k=b.C,n=b.L,p=c.P,r=b.P,v=c.ca,t=b.ca;this.Oc&&3!=this.B&&(g=this.Kb*-(n-l-this.nd),e=this.K,f=a.Xa*this.Ge,this.K=ee(this.K+g,-f,f),g=this.K-e,l-=v*g,n+=t*g);if(this.bb&&0!=this.B){a=c.J.D;g=this.Ba.x-c.q.V.x;e=this.Ba.y-c.q.V.y;d=a.u.x*g+a.A.x*e;e=a.u.y*g+a.A.y*e;g=d;a=b.J.D;f=this.Ca.x-b.q.V.x;h=this.Ca.y-b.q.V.y;d=a.u.x*f+a.A.x*h;h=a.u.y*f+a.A.y*h;f=d;a=k.x+-n*h-m.x- -l*e;var q=k.y+n*f-m.y-l*g;De(this.da,this.k,
-a,-q,-(n-l));3==this.B?this.j.mg(this.k):1==this.B?(d=this.j.z+this.k.z,0>d&&(Ce(this.da,this.R,-a,-q),this.k.x=this.R.x,this.k.y=this.R.y,this.k.z=-this.j.z,this.j.x+=this.R.x,this.j.y+=this.R.y,this.j.z=0)):2==this.B&&(d=this.j.z+this.k.z,0<d&&(Ce(this.da,this.R,-a,-q),this.k.x=this.R.x,this.k.y=this.R.y,this.k.z=-this.j.z,this.j.x+=this.R.x,this.j.y+=this.R.y,this.j.z=0));m.x-=p*this.k.x;m.y-=p*this.k.y;l-=v*(g*this.k.y-e*this.k.x+this.k.z);k.x+=r*this.k.x;k.y+=r*this.k.y;n+=t*(f*this.k.y-h*this.k.x+
this.k.z)}else a=c.J.D,g=this.Ba.x-c.q.V.x,e=this.Ba.y-c.q.V.y,d=a.u.x*g+a.A.x*e,e=a.u.y*g+a.A.y*e,g=d,a=b.J.D,f=this.Ca.x-b.q.V.x,h=this.Ca.y-b.q.V.y,d=a.u.x*f+a.A.x*h,h=a.u.y*f+a.A.y*h,f=d,Ce(this.da,this.G,-(k.x+-n*h-m.x- -l*e),-(k.y+n*f-m.y-l*g)),this.j.x+=this.G.x,this.j.y+=this.G.y,m.x-=p*this.G.x,m.y-=p*this.G.y,l-=v*(g*this.G.y-e*this.G.x),k.x+=r*this.G.x,k.y+=r*this.G.y,n+=t*(f*this.G.y-h*this.G.x);c.C.S(m);c.L=l;b.C.S(k);b.L=n};
Ti.prototype.pg=function(){var a=0,c,b=this.ja,d=this.ka,g=0,e=c=0,f=0,e=0;if(this.bb&&0!=this.B){var a=d.q.T-b.q.T-this.cb,h=0;3==this.B?(a=ee(a-this.Wa,-Qd,Qd),h=-this.Kb*a,g=Math.abs(a)):1==this.B?(a-=this.Wa,g=-a,a=ee(a+Pd,-Qd,0),h=-this.Kb*a):2==this.B&&(g=a-=this.ub,a=ee(a-Pd,0,Qd),h=-this.Kb*a);b.q.T-=b.ca*h;d.q.T+=d.ca*h;rg(b);rg(d)}c=b.J.D;h=this.Ba.x-b.q.V.x;a=this.Ba.y-b.q.V.y;e=c.u.x*h+c.A.x*a;a=c.u.y*h+c.A.y*a;h=e;c=d.J.D;var m=this.Ca.x-d.q.V.x,l=this.Ca.y-d.q.V.y,e=c.u.x*m+c.A.x*l,
l=c.u.y*m+c.A.y*l,m=e,f=d.q.I.x+m-b.q.I.x-h,e=d.q.I.y+l-b.q.I.y-a,k=f*f+e*e;c=Math.sqrt(k);var n=b.P,p=d.P,r=b.ca,v=d.ca;k>.05*.05&&(k=1/(n+p),f=k*-f,e=k*-e,b.q.I.x-=.5*n*f,b.q.I.y-=.5*n*e,d.q.I.x+=.5*p*f,d.q.I.y+=.5*p*e,f=d.q.I.x+m-b.q.I.x-h,e=d.q.I.y+l-b.q.I.y-a);this.N.u.x=n+p;this.N.A.x=0;this.N.u.y=0;this.N.A.y=n+p;this.ea.u.x=r*a*a;this.ea.A.x=-r*h*a;this.ea.u.y=-r*h*a;this.ea.A.y=r*h*h;this.ra.u.x=v*l*l;this.ra.A.x=-v*m*l;this.ra.u.y=-v*m*l;this.ra.A.y=v*m*m;he(this.qa,this.N);n=this.qa;p=
this.ea;n.u.mg(p.u);n.A.mg(p.A);n=this.qa;p=this.ra;n.u.mg(p.u);n.A.mg(p.A);je(this.qa,Ui,-f,-e);f=Ui.x;e=Ui.y;b.q.I.x-=b.P*f;b.q.I.y-=b.P*e;b.q.T-=b.ca*(h*e-a*f);d.q.I.x+=d.P*f;d.q.I.y+=d.P*e;d.q.T+=d.ca*(m*e-l*f);rg(b);rg(d);return.005>=c&&g<=Pd};var Ui=V(0,0);function Vi(){Bi.call(this);this.G=V(0,0);this.K=V(0,0);this.type=1;this.G.Ja();this.K.Ja();this.bb=this.Kb=this.qa=this.ra=this.ea=0;this.Wa=this.N=!1}Od(Vi,Bi);
function Wi(a,c,b,d){a.j=c;a.k=b;a.G=ce(a.j.J,d);a.K=ce(a.k.J,d);a.ea=a.k.Li()-a.j.Li()}Vi.prototype.B=function(){return new Ti(this)};function Xi(a){zi.call(this,a);this.k=V(0,0);this.B=V(0,0);this.j=new le(0,0,0);this.da=new ke;this.k.S(a.G);this.B.S(a.K);this.G=a.N}Od(Xi,zi);
Xi.prototype.ng=function(a){var c,b=0,d=this.ja,g=this.ka;c=d.J.D;var e=this.k.x-d.q.V.x,f=this.k.y-d.q.V.y,b=c.u.x*e+c.A.x*f,f=c.u.y*e+c.A.y*f,e=b;c=g.J.D;var h=this.B.x-g.q.V.x,m=this.B.y-g.q.V.y,b=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=b;c=d.P;var b=g.P,l=d.ca,k=g.ca;this.da.u.x=c+b+f*f*l+m*m*k;this.da.A.x=-f*e*l-m*h*k;this.da.j.x=-f*l-m*k;this.da.u.y=this.da.A.x;this.da.A.y=c+b+e*e*l+h*h*k;this.da.j.y=e*l+h*k;this.da.u.z=this.da.j.x;this.da.A.z=this.da.j.y;this.da.j.z=l+k;a.Fh?(this.j.x*=a.Cc,this.j.y*=
a.Cc,this.j.z*=a.Cc,d.C.x-=c*this.j.x,d.C.y-=c*this.j.y,d.L-=l*(e*this.j.y-f*this.j.x+this.j.z),g.C.x+=b*this.j.x,g.C.y+=b*this.j.y,g.L+=k*(h*this.j.y-m*this.j.x+this.j.z)):this.j.Ja()};
Xi.prototype.qg=function(){var a,c=0,b=this.ja,d=this.ka,g=b.C,e=b.L,f=d.C,h=d.L,m=b.P,l=d.P,k=b.ca,n=d.ca;a=b.J.D;var p=this.k.x-b.q.V.x,r=this.k.y-b.q.V.y,c=a.u.x*p+a.A.x*r,r=a.u.y*p+a.A.y*r,p=c;a=d.J.D;var v=this.B.x-d.q.V.x,t=this.B.y-d.q.V.y,c=a.u.x*v+a.A.x*t,t=a.u.y*v+a.A.y*t,v=c;a=new le(0,0,0);De(this.da,a,-(f.x-h*t-g.x+e*r),-(f.y+h*v-g.y-e*p),-(h-e));this.j.mg(a);g.x-=m*a.x;g.y-=m*a.y;e-=k*(p*a.y-r*a.x+a.z);f.x+=l*a.x;f.y+=l*a.y;h+=n*(v*a.y-t*a.x+a.z);b.L=e;d.L=h};
Xi.prototype.pg=function(){var a,c=0,b=this.ja,d=this.ka;a=b.J.D;var g=this.k.x-b.q.V.x,e=this.k.y-b.q.V.y,c=a.u.x*g+a.A.x*e,e=a.u.y*g+a.A.y*e,g=c;a=d.J.D;var f=this.B.x-d.q.V.x,h=this.B.y-d.q.V.y,c=a.u.x*f+a.A.x*h,h=a.u.y*f+a.A.y*h,f=c;a=b.P;var c=d.P,m=b.ca,l=d.ca,k=d.q.I.x+f-b.q.I.x-g,n=d.q.I.y+h-b.q.I.y-e,p=d.q.T-b.q.T-this.G,r=Math.sqrt(k*k+n*n),v=Math.abs(p);.05<r&&(m*=1,l*=1);this.da.u.x=a+c+e*e*m+h*h*l;this.da.A.x=-e*g*m-h*f*l;this.da.j.x=-e*m-h*l;this.da.u.y=this.da.A.x;this.da.A.y=a+c+g*
g*m+f*f*l;this.da.j.y=g*m+f*l;this.da.u.z=this.da.j.x;this.da.A.z=this.da.j.y;this.da.j.z=m+l;var t=new le(0,0,0);De(this.da,t,-k,-n,-p);b.q.I.x-=a*t.x;b.q.I.y-=a*t.y;b.q.T-=m*(g*t.y-e*t.x+t.z);d.q.I.x+=c*t.x;d.q.I.y+=c*t.y;d.q.T+=l*(f*t.y-h*t.x+t.z);rg(b);rg(d);return.005>=r&&v<=Pd};function Yi(){Bi.call(this);this.G=V(0,0);this.K=V(0,0);this.type=8;this.N=0}Od(Yi,Bi);Yi.prototype.B=function(){return new Xi(this)};
var Wh=[new Ze,new Ze],qi=[new Ze,new Ze],ri=[new Ze,new Ze],Yh=V(0,0),ci=V(0,0),hi=V(0,0),ki=V(0,0),ii=V(0,0),ji=V(0,0),oi=V(0,0),pi=V(0,0),qh=0,wh=0,xh=0,uh=0,vh=0,rh=new Yf,sh=new mf,Mf=new Fe,Tf=new Fe,Hf=new function(){this.Oa=V(0,0);this.j=V(0,0)},th=new nf,qg=new Fe,Jg=new Hg;new function(){this.position=V(0,0);V(0,0);V(0,0);this.id=new Ue};new Fe;
var yh=new Ee,zh=new Ee,ph=new Zf,Th=new function(){this.j=V(0,0);this.Fa=[];for(var a=this.jc=0;2>a;a++)this.Fa[a]=V(0,0)},Vh=new function(){this.j=V(0,0);this.k=[];this.Fa=[];for(var a=0;2>a;a++)this.Fa[a]=V(0,0)};function Zi(a,c,b,d,g,e){var f;if(f=(b+.1>=a&&a>=g-.1||b-.1<=a&&a<=g+.1)&&(d+.1>=c&&c>=e-.1||d-.1<=c&&c<=e+.1))f=.1<Math.abs(g-b)?.1>Math.abs((e-d)/(g-b)*(a-b)+d-c):.1>Math.abs(a-b);return f}
function $i(a,c){var b=fj(a),d=[],g,e,f,h,m,l,k,n,p;m=0;for(l=b.length;m<l;m++){e=b[m];g=[];g.length=e.length;k=p=0;for(n=e.length;k<n;k++)f=e[k],h=e[(k+1)%n],p+=f.x*h.y-f.y*h.x,g[k]=V(f.x,f.y);p=Math.abs(p/2);p>=.001*c&&d.push(g)}return d}
function fj(a){var c=[],b=0,d=0,g=0,e=0,f=0,h=f=0,m=0,l=0,k=0,e=0,n,p,r,v,t,q=e=b=0,u=0,g=[],m=[],x=!1,z=[],E=[];for(E.push(a);E.length;){c=E[0];d=c.length;x=!0;for(b=0;b<d;b++)if(l=b,k=b<d-1?b+1:b+1-d,e=b<d-2?b+2:b+2-d,a=c[l],n=c[k],p=c[e],e=a.x,g=a.y,m=n.x,f=n.y,h=p.x,p=p.y,e=e*f+m*p+h*g-g*m-f*h-p*e,0>e){x=!1;m=1E9;for(g=0;g<d;g++)if(g!==l&&g!==k){b=g;e=g<d-1?g+1:0;r=c[b];v=c[e];h=a.x;p=a.y;var B=n.x,D=n.y,f=r.x;r=r.y;var C=v.x;v=v.y;var y=B-h,w=D-p,F=C-f,I=v-r,F=(F*(r-p)-I*(f-h))/(w*F-y*I),y=h+
F*y,w=p+F*w,h=Zi(B,D,h,p,y,w),f=Zi(y,w,f,r,C,v);if(p=h&&f?V(y,w):null)f=n.x-p.x,h=n.y-p.y,f=f*f+h*h,f<m&&(u=b,q=e,t=p,m=f)}if(1E9===m)return[];g=[];m=[];b=u;e=q;r=c[b];v=c[e];q=t.y;u=v.y;.1>Math.abs(v.x-t.x)&&.1>Math.abs(u-q)||g.push(t);q=t.y;u=r.y;.1>Math.abs(r.x-t.x)&&.1>Math.abs(u-q)||m.push(t);u=-1;for(q=l;;){if(q!==e)g.push(c[q]);else{if(0>u||u>=d)return[];Zi(v.x,v.y,c[u].x,c[u].y,a.x,a.y)||g.push(c[q]);break}u=q;0>q-1?q=d-1:q--}g.reverse();u=-1;for(q=k;;){if(q!==b)m.push(c[q]);else{if(0>u||
u>=d)return[];q!==b||Zi(r.x,r.y,c[u].x,c[u].y,n.x,n.y)||m.push(c[q]);break}u=q;q+1>d-1?q=0:q++}E.push(g,m);E.shift();break}x&&z.push(E.shift())}return z}
function hj(a){for(var c=0;4E3>c;c++)He.push(new Ge(0,0));this.i=a;this.De=new Vg(V(0,10),!0);this.Gt=-1;a=new Hg;a.behavior=this;a.BeginContact=function(a){this.behavior.i.Gj(a.tc.sb().vg.n,a.ic.sb().vg.n)};this.De.j.k=a;a=new Eg;a.behavior=this;a.j=function(a,c){if(this.behavior.wC)return!0;var g=a.sb().vg.n.type,e=c.sb().vg.n.type,f=g.na.Physics_DisabledCollisions;return f&&f.contains(e)?!1:(f=e.na.Physics_DisabledCollisions)&&f.contains(g)?!1:!0};this.De.j.B=a;this.yG=0;this.Tn=8;this.hn=3;this.wC=
!0}
(function(){function a(){}var c=hj.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.De=this.behavior.De};var b=c.ta.prototype;b.ma=function(){this.dt=0!==this.U[0];this.sw=this.U[1];this.su=0!==this.U[2];this.Wh=this.U[3];this.ai=this.U[4];this.yi=this.U[5];this.Fk=this.U[6];this.Xj=this.U[7];this.Zj=0!==this.U[8];this.enabled=0!==this.U[9];this.body=null;this.n.ab();this.Mp=this.n.x;this.Np=
this.n.y;this.Md=this.n.M;this.Dt=this.Ht=0;this.Py=this.Ft=!1;this.At=null;this.Bt=-1;this.Pe?(this.Pe.length=0,this.Ff.length=0,this.ih.clear()):(this.Pe=[],this.Ff=[],this.ih=new ca);var a=this;this.wd||(this.si=function(b){a.Cj(b)});this.i.Vj(this.si)};b.Iy=function(){this.n.ab();this.Lo();this.At=this.n.Pb;this.Bt=this.n.za};b.Re=function(){this.Vo();this.Ff.length=0;this.ih.clear();this.body&&(Zg(this.De,this.body),this.body=null);this.i.Bu(this.si)};b.Tb=function(){var a={e:this.enabled,im:this.dt,
pr:this.su,d:this.Wh,fr:this.ai,re:this.yi,ld:this.Fk,ad:this.Xj,b:this.Zj,mcj:this.Ff};if(this.enabled){var b=V(0,0);b.S(this.body.C);a.vx=b.x;a.vy=b.y;a.om=this.body.L}return a};b.Yb=function(a){this.Vo();this.Ff.length=0;this.ih.clear();this.body&&(Zg(this.De,this.body),this.body=null);this.enabled=a.e;this.dt=a.im;this.su=a.pr;this.Wh=a.d;this.ai=a.fr;this.yi=a.re;this.Fk=a.ld;this.Xj=a.ad;this.Zj=a.b;this.Mp=this.n.x;this.Np=this.n.y;this.Md=this.n.M;this.Ht=this.n.width;this.Dt=this.n.height;
this.enabled&&(this.Lo(),lg(this.body,V(a.vx,a.vy)),this.body.jo(a.om),0===a.vx&&0===a.vy&&0===a.om||mg(this.body,!0),this.Ff=a.mcj)};b.qf=function(){this.enabled&&this.Au();this.behavior.Gt=this.i.jf-1};b.Cj=function(a){var b,c,d,m=a.uid;d=b=0;for(c=this.Ff.length;b<c;b++)this.Ff[d]=this.Ff[b],d<this.Pe.length&&(this.Pe[d]=this.Pe[b]),this.Ff[b].Cb[1]==m?$g(this.De,this.Pe[b]):d++;this.Ff.length=d;d<this.Pe.length&&(this.Pe.length=d);this.ih.remove(a)};b.Vo=function(){var a,b;a=0;for(b=this.Pe.length;a<
b;a++)$g(this.De,this.Pe[a]);this.Pe.length=0};b.Au=function(){var a,b,c;a=0;for(b=this.Ff.length;a<b;a++)switch(c=this.Ff[a],c.type){case 0:this.ZC(c.Cb[0],c.Cb[1],c.Cb[2],c.Cb[3],c.Cb[4]);break;case 1:this.aD(c.Cb[0],c.Cb[1]);break;case 2:this.$C(c.Cb[0],c.Cb[1],c.Cb[2],c.Cb[3])}};b.Cw=function(){this.body&&(this.Vo(),Zg(this.De,this.body),this.body=null,this.n.na.sf=null)};var d=[];b.Lo=function(){if(this.enabled){var a=this.n,b=!1,c=null,h=null,m,l,k,n,p,r,v,t,q,u,x,z,E;if(this.body){b=!0;c=V(0,
0);c.S(this.body.C);h=this.body.L;t=this.ih.kg();m=0;for(l=t.length;m<l;m++)q=t[m].na.sf.vg,q.Vo();this.Cw()}q=new Pg;q.Wh=this.Wh;q.ai=this.ai;q.yi=this.yi;m=new tg;m.type=this.dt?0:2;a.ab();m.position.x=.02*a.Mb.oi();m.position.y=.02*a.Mb.pi();m.M=a.M;m.j=this.su;m.Fk=this.Fk;m.Xj=this.Xj;m.Zj=this.Zj;t=this.n.ib&&!this.n.ib.nj();this.body=Xg(this.De,m);this.body.vg=this;m=this.sw;t||this.n.Bh||0!==this.sw||(m=1);l=Math.max(Math.abs(a.width),1);k=Math.max(Math.abs(a.height),1);u=0>a.width;x=0>a.height;
if(0===m)if(a.Bh)for(z=a.Mb.oi()-a.x,v=a.Mb.pi()-a.y,a.kE(d),t=[],m=0,l=d.length;m<l;++m){u=d[m];x=u.Db;if(u.fe){if(!u.fe.Io){p=u.fe.Jb;n=u.fe.ge;for(k=0;k<n;++k)t.push(V(p[2*k],p[2*k+1]));k=u.id&3758096384;(-2147483648===k||1073741824===k||536870912===k||k&-2147483648&&k&1073741824&&k&536870912)&&t.reverse();u.fe.Io=$i(t,(x.right-x.left)*(x.bottom-x.top));k=0;for(n=t.length;k<n;++k)Ie(t[k]);t.length=0}k=0;for(n=u.fe.Io.length;k<n;++k){E=u.fe.Io[k];p=0;for(r=E.length;p<r;++p)t.push(V(.02*(x.left+
E[p].x-z),.02*(x.top+E[p].y-v)));q.shape=new Qe;Se(q.shape,t);eg(this.body,q);p=0;for(r=t.length;p<r;++p)Ie(t[p]);t.length=0}}else t.push(V(.02*(x.left-z),.02*(x.top-v))),t.push(V(.02*(x.right-z),.02*(x.top-v))),t.push(V(.02*(x.right-z),.02*(x.bottom-v))),t.push(V(.02*(x.left-z),.02*(x.bottom-v))),q.shape=new Qe,Se(q.shape,t),eg(this.body,q);k=0;for(n=t.length;k<n;++k)Ie(t[k]);t.length=0}else{m=a.M;a.M=0;a.aa();a.ab();z=a.Mb.oi()-a.x;v=a.Mb.pi()-a.y;a.M=m;a.aa();a.ib.Rh(u?-l:l,x?-k:k,0);p=a.ib.Jb;
n=a.ib.ge;t=[];t.length=n;for(m=0;m<n;m++)t[m]=V(p[2*m]-z,p[2*m+1]-v);u!==x&&t.reverse();z=$i(t,l*k);for(m=0;m<n;m++)Ie(t[m]);if(z.length)for(m=0,l=z.length;m<l;m++){t=z[m];k=0;for(n=t.length;k<n;k++)v=t[k],v.x*=.02,v.y*=.02;q.shape=new Qe;Se(q.shape,t);eg(this.body,q);k=0;for(n=t.length;k<n;k++)Ie(t[k])}else q.shape=new Qe,Te(q.shape,.01*l,.01*k),eg(this.body,q)}else 1===m?(q.shape=new Qe,Te(q.shape,.01*l,.01*k)):q.shape=new Ne(.01*Math.min(l,k)),eg(this.body,q);a.na.sf=this.body;this.Ht=a.width;
this.Dt=a.height;if(b)for(lg(this.body,c),this.body.jo(h),Ie(c),this.Au(),t=this.ih.kg(),m=0,l=t.length;m<l;m++)q=t[m].na.sf.vg,q.Au();d.length=0}};b.mb=function(){if(this.enabled){var a=this.n,b;0===this.behavior.yG?b=this.i.hg/60:(b=this.i.Cg(this.n),b>1/30&&(b=1/30));if(this.i.jf>this.behavior.Gt&&0<this.i.hg){this.De.Kh(b,this.behavior.Tn,this.behavior.hn);for(b=this.De.Ki.tb(xg);b;b=b.gb())b.body.k.Ja(),b.body.G=0;this.behavior.Gt=this.i.jf}if(this.Py||a.width!==this.Ht||a.height!==this.Dt||
a.Pb!==this.At||a.za!==this.Bt||a.Bh&&a.vi)this.Lo(),this.Py=!1,this.At=a.Pb,this.Bt=a.za,a.Bh&&a.vi&&(a.vi=!1);b=a.M!==this.Md;if(a.x!==this.Mp||a.y!==this.Np){a.ab();var c=a.Mb.oi(),d=a.Mb.pi(),m=c-this.Mp,l=d-this.Np,k=this.body,c=V(.02*c,.02*d);ig(k,c,k.Li());lg(this.body,V(m,l));this.Ft=!0;mg(this.body,!0)}else this.Ft&&(this.Ft=!1,lg(this.body,V(0,0)),m=this.body,l=V(.02*a.Mb.oi(),.02*a.Mb.pi()),ig(m,l,m.Li()));b&&(this.body.Uv(a.M),mg(this.body,!0));m=this.body.J.position;b=m.x/.02;m=m.y/.02;
l=this.body.Li();if(b!==a.x||m!==a.y||l!==a.M)if(a.x=b,a.y=m,a.M=l,a.aa(),a.ab(),b=a.Mb.oi()-a.x,m=a.Mb.pi()-a.y,0!==b||0!==m)a.x-=b,a.y-=m,a.aa();this.Mp=a.x;this.Np=a.y;this.Md=a.M}};b.qp=function(a){return-1!==a&&this.n.zf?0===a&&this.body?(this.body.J.position.x+this.body.q.V.x)/.02:this.n.zf(a,!0):this.n.x};b.rp=function(a){return-1!==a&&this.n.zf?0===a&&this.body?(this.body.J.position.y+this.body.q.V.y)/.02:this.n.zf(a,!1):this.n.y};c.F=new function(){};a.prototype.Ji=function(a,b,c){if(this.enabled){var d=
this.qp(c);c=this.rp(c);this.body.Ji(V(a,b),V(.02*d,.02*c))}};a.prototype.Er=function(a){this.enabled&&this.body.Er(Pa(a))};a.prototype.jo=function(a){this.enabled&&(this.body.jo(Pa(a)),mg(this.body,!0))};b.ZC=function(a,b,c,d,m){if(this.enabled){var l=this.i.Xf(b);if(l&&l!=this.n&&l.na.sf){l.na.sf.vg.ih.add(this.n);var k=this.qp(a),n=this.rp(a),p,r;l.zf?(p=l.zf(c,!0),r=l.zf(c,!1)):(p=l.x,r=l.y);c=k-p;a=n-r;b=new Di;l=l.na.sf;k=V(.02*k,.02*n);p=V(.02*p,.02*r);b.j=this.body;b.k=l;b.N.S(ce(b.j.J,k));
b.ea.S(ce(b.k.J,p));l=p.x-k.x;k=p.y-k.y;b.length=Math.sqrt(l*l+k*k);b.K=0;b.G=0;b.length=.02*Math.sqrt(c*c+a*a);b.G=d;b.K=m;this.Pe.push(ah(this.De,b))}}};b.aD=function(a,b){if(this.enabled){var c=this.i.Xf(b);if(c&&c!=this.n&&c.na.sf){c.na.sf.vg.ih.add(this.n);var d=this.qp(a),m=this.rp(a),l=new Vi;Wi(l,this.body,c.na.sf,V(.02*d,.02*m));this.Pe.push(ah(this.De,l))}}};b.$C=function(a,b,c,d){if(this.enabled&&(b=this.i.Xf(b))&&b!=this.n&&b.na.sf){b.na.sf.vg.ih.add(this.n);var m=this.qp(a);a=this.rp(a);
var l=new Vi;Wi(l,this.body,b.na.sf,V(.02*m,.02*a));l.N=!0;l.ra=Pa(c);l.qa=Pa(d);this.Pe.push(ah(this.De,l))}};a.prototype.Qf=function(a){this.enabled&&0===a?(this.Cw(),this.enabled=!1):this.enabled||1!==a||(this.enabled=!0,this.Lo())};c.fa=new a;c.Ea=new function(){}})();function ij(a){this.i=a}
(function(){function a(){}var c=ij.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ma=function(){this.Vc=null;this.wq=-1;this.mode=this.Md=this.dr=this.Qk=this.sh=this.gn=0;var a=this;this.wd||(this.si=function(b){a.Cj(b)});this.i.Vj(this.si)};b.Tb=function(){return{uid:this.Vc?this.Vc.uid:-1,pa:this.gn,pd:this.sh,msa:this.Qk,tsa:this.dr,lka:this.Md,m:this.mode}};
b.Yb=function(a){this.wq=a.uid;this.gn=a.pa;this.sh=a.pd;this.Qk=a.msa;this.dr=a.tsa;this.Md=a.lka;this.mode=a.m};b.qf=function(){-1===this.wq?this.Vc=null:this.Vc=this.i.Xf(this.wq);this.wq=-1};b.Cj=function(a){this.Vc==a&&(this.Vc=null)};b.Re=function(){this.Vc=null;this.i.Bu(this.si)};b.mb=function(){};b.Jn=function(){if(this.Vc){this.Md!==this.n.M&&(this.Qk=Sa(this.Qk+(this.n.M-this.Md)));var a=this.n.x,b=this.n.y;if(3===this.mode||4===this.mode){var c=bb(this.n.x,this.n.y,this.Vc.x,this.Vc.y);
if(c>this.sh||4===this.mode&&c<this.sh)b=Wa(this.Vc.x,this.Vc.y,this.n.x,this.n.y),a=this.Vc.x+Math.cos(b)*this.sh,b=this.Vc.y+Math.sin(b)*this.sh}else a=this.Vc.x+Math.cos(this.Vc.M+this.gn)*this.sh,b=this.Vc.y+Math.sin(this.Vc.M+this.gn)*this.sh;this.Md=c=Sa(this.Qk+(this.Vc.M-this.dr));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.n.x===a&&this.n.y===b||(this.n.x=a,this.n.y=b,this.n.aa());0!==this.mode&&2!==this.mode||this.n.M===c||(this.n.M=c,this.n.aa())}};c.F=new function(){};
a.prototype.KB=function(a,b){if(a){var c=a.Os(this.n);c&&(this.Vc=c,this.gn=Wa(c.x,c.y,this.n.x,this.n.y)-c.M,this.sh=bb(c.x,c.y,this.n.x,this.n.y),this.Md=this.Qk=this.n.M,this.dr=c.M,this.mode=b)}};c.fa=new a;c.Ea=new function(){}})();function lj(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=lj.prototype;d.wa=function(a){this.behavior=a;this.i=a.i};d.wa.prototype.ma=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.yn=this.Uq=this.Tq=this.bt=this.Fl=this.Nl=this.yk=this.zk=this.sn=this.Lm=!1;this.$d=null;this.Mt=-1;this.pj=this.oj=0;this.kp=!1;this.$h=this.Sf=0;this.hp=!0;this.ba=this.Y=0};var g=d.ta.prototype;g.Lz=function(){this.zc=Math.cos(this.lk);this.Ac=Math.sin(this.lk);this.Hj=
Math.cos(this.lk-Math.PI/2);this.Ij=Math.sin(this.lk-Math.PI/2);this.zc=Nb(this.zc);this.Ac=Nb(this.Ac);this.Hj=Nb(this.Hj);this.Ij=Nb(this.Ij);this.Js=this.sd;0>this.sd&&(this.zc*=-1,this.Ac*=-1,this.sd=Math.abs(this.sd))};g.ma=function(){this.Nk=this.U[0];this.ne=this.U[1];this.ek=this.U[2];this.Bm=this.U[3];this.Js=this.sd=this.U[4];this.bq=this.U[5];this.zs=0!==this.U[6];this.zt=this.U[7]/1E3;this.SC=1===this.U[8];this.enabled=0!==this.U[9];this.nl=!1;this.ol=this.i.Pg(this.n);this.Nt=-1;this.Nj=
0;this.lk=Pa(90);this.Lz();var a=this;this.SC&&!this.i.eb&&(jQuery(document).keydown(function(b){a.eu(b)}),jQuery(document).keyup(function(b){a.fu(b)}));this.wd||(this.si=function(b){a.Cj(b)});this.i.Vj(this.si);this.n.na.isPlatformBehavior=!0};g.Tb=function(){return{ii:this.bt,lfx:this.oj,lfy:this.pj,lfo:this.$d?this.$d.uid:-1,am:this.Sf,en:this.enabled,fall:this.$h,ft:this.hp,dx:this.Y,dy:this.ba,ms:this.Nk,acc:this.ne,dec:this.ek,js:this.Bm,g:this.sd,g1:this.Js,mf:this.bq,wof:this.nl,woj:this.ol?
this.ol.uid:-1,ga:this.lk,edj:this.zs,cdj:this.Fl,dj:this.Nl,sus:this.zt}};g.Yb=function(a){this.bt=a.ii;this.oj=a.lfx;this.pj=a.lfy;this.Mt=a.lfo;this.Sf=a.am;this.enabled=a.en;this.$h=a.fall;this.hp=a.ft;this.Y=a.dx;this.ba=a.dy;this.Nk=a.ms;this.ne=a.acc;this.ek=a.dec;this.Bm=a.js;this.sd=a.g;this.Js=a.g1;this.bq=a.mf;this.nl=a.wof;this.Nt=a.woj;this.lk=a.ga;this.zs=a.edj;this.Fl=a.cdj;this.Nl=a.dj;this.zt=a.sus;this.yn=this.Uq=this.Tq=this.yk=this.zk=this.sn=this.Lm=!1;this.Nj=0;this.Lz()};g.qf=
function(){-1===this.Mt?this.$d=null:this.$d=this.i.Xf(this.Mt);-1===this.Nt?this.ol=null:this.ol=this.i.Xf(this.Nt)};g.Cj=function(a){this.$d==a&&(this.$d=null)};g.Re=function(){this.$d=null;this.i.Bu(this.si)};g.eu=function(a){switch(a.which){case 38:a.preventDefault();this.zk=!0;break;case 37:a.preventDefault();this.Lm=!0;break;case 39:a.preventDefault(),this.sn=!0}};g.fu=function(a){switch(a.which){case 38:a.preventDefault();this.yk=this.zk=!1;break;case 37:a.preventDefault();this.Lm=!1;break;
case 39:a.preventDefault(),this.sn=!1}};g.Dj=function(){this.zk=this.sn=this.Lm=!1};g.j=function(){return 0>this.sd?-1:1};g.rx=function(){var a=null,b=null,c,d;c=this.n.x;d=this.n.y;this.n.x+=this.zc;this.n.y+=this.Ac;this.n.aa();if(this.$d&&this.i.Qd(this.n,this.$d))return this.n.x=c,this.n.y=d,this.n.aa(),this.$d;(a=this.i.kd(this.n))||0!==this.$h||(b=this.i.Pg(this.n,!0));this.n.x=c;this.n.y=d;this.n.aa();if(a){if(this.i.Qd(this.n,a))return null;this.kp=!1;return a}if(b&&b.length){d=a=0;for(c=
b.length;a<c;a++)b[d]=b[a],this.i.Qd(this.n,b[a])||d++;if(1<=d)return this.kp=!0,b[0]}return null};g.mb=function(){};g.Jy=function(){var a=this.i.Cg(this.n),b,c,d,g,k,n,p,r,v;this.zk||this.yn||(this.yk=!1);var t=this.Lm||this.Tq;d=this.sn||this.Uq;var q=(g=this.zk||this.yn)&&!this.yk;this.yn=this.Uq=this.Tq=!1;if(this.enabled){this.bt&&(q=g=d=t=!1);g||(this.Nj=0);r=this.$d;v=!1;this.hp&&((this.i.kd(this.n)||this.i.Pg(this.n))&&this.i.Hf(this.n,-this.zc,-this.Ac,4,!0),this.hp=!1);!r||0!==this.ba||
r.y===this.pj&&r.x===this.oj||(b=r.x-this.oj,c=r.y-this.pj,this.n.x+=b,this.n.y+=c,this.n.aa(),this.oj=r.x,this.pj=r.y,v=!0,this.i.kd(this.n)&&this.i.Hf(this.n,-b,-c,2.5*Math.sqrt(b*b+c*c)));var u=this.rx();if(c=this.i.kd(this.n))if(this.n.na.inputPredicted)this.i.Hf(this.n,-this.zc,-this.Ac,10,!1);else if(this.i.Oy(this.n,Math.max(this.n.width,this.n.height)/2))this.i.Gj(this.n,c);else return;u?(this.Fl=this.Nl=!1,0<this.ba&&(this.nl||(this.i.vu(this.n,-this.zc,-this.Ac,u),this.nl=!0),this.ba=0),
r!=u)?(this.$d=u,this.oj=u.x,this.pj=u.y,this.i.Gj(this.n,u)):v&&(c=this.i.kd(this.n))&&(this.i.Gj(this.n,c),0!==b&&(0<b?this.i.Hf(this.n,-this.Hj,-this.Ij):this.i.Hf(this.n,this.Hj,this.Ij)),this.i.Hf(this.n,-this.zc,-this.Ac)):g||(this.Fl=!0);if(u&&q||!u&&this.zs&&g&&this.Fl&&!this.Nl)r=this.n.x,v=this.n.y,this.n.x-=this.zc,this.n.y-=this.Ac,this.n.aa(),this.i.kd(this.n)?q=!1:(this.Nj=this.zt,this.i.trigger(lj.prototype.F.Fv,this.n),this.Sf=2,this.ba=-this.Bm,q=!0,u?this.yk=!0:this.Nl=!0),this.n.x=
r,this.n.y=v,this.n.aa();u||(g&&0<this.Nj?(this.ba=-this.Bm,this.Nj-=a):(this.$d=null,this.ba+=this.sd*a,this.ba>this.bq&&(this.ba=this.bq)),q&&(this.yk=!0));this.nl=!!u;t==d&&(0>this.Y?(this.Y+=this.ek*a,0<this.Y&&(this.Y=0)):0<this.Y&&(this.Y-=this.ek*a,0>this.Y&&(this.Y=0)));t&&!d&&(this.Y=0<this.Y?this.Y-(this.ne+this.ek)*a:this.Y-this.ne*a);d&&!t&&(this.Y=0>this.Y?this.Y+(this.ne+this.ek)*a:this.Y+this.ne*a);this.Y>this.Nk?this.Y=this.Nk:this.Y<-this.Nk&&(this.Y=-this.Nk);t=!1;0!==this.Y&&(r=
this.n.x,v=this.n.y,b=this.Y*a*this.Hj,c=this.Y*a*this.Ij,this.n.x+=this.Hj*(1<this.Y?1:-1)-this.zc,this.n.y+=this.Ij*(1<this.Y?1:-1)-this.Ac,this.n.aa(),g=!1,k=this.i.kd(this.n),this.n.x=r+b,this.n.y=v+c,this.n.aa(),d=this.i.kd(this.n),!d&&u&&(d=this.i.Pg(this.n))&&(this.n.x=r,this.n.y=v,this.n.aa(),this.i.Qd(this.n,d)?(d=null,g=!1):g=!0,this.n.x=r+b,this.n.y=v+c,this.n.aa()),d?(b=Math.abs(this.Y*a)+2,k||!this.i.Hf(this.n,-this.zc,-this.Ac,b,g,d))?(this.i.Gj(this.n,d),b=Math.max(Math.abs(this.Y*
a*2.5),30),this.i.Hf(this.n,this.Hj*(0>this.Y?1:-1),this.Ij*(0>this.Y?1:-1),b,!1)?!u||g||this.kp||(r=this.n.x,v=this.n.y,this.n.x+=this.zc,this.n.y+=this.Ac,this.i.kd(this.n)?this.i.Hf(this.n,-this.zc,-this.Ac,3,!1)||(this.n.x=r,this.n.y=v,this.n.aa()):(this.n.x=r,this.n.y=v,this.n.aa())):(this.n.x=r,this.n.y=v,this.n.aa()),g||(this.Y=0)):!k&&!q&&Math.abs(this.ba)<Math.abs(this.Bm/4)&&(this.ba=0,u||(t=!0)):(r=this.rx(),u&&!r?(c=Math.ceil(Math.abs(this.Y*a))+2,r=this.n.x,v=this.n.y,this.n.x+=this.zc*
c,this.n.y+=this.Ac*c,this.n.aa(),this.i.kd(this.n)||this.i.Pg(this.n)?this.i.Hf(this.n,-this.zc,-this.Ac,c+2,!0):(this.n.x=r,this.n.y=v,this.n.aa())):r&&0===this.ba&&this.i.vu(this.n,-this.zc,-this.Ac,r)));if(0!==this.ba){r=this.n.x;v=this.n.y;this.n.x+=this.ba*a*this.zc;this.n.y+=this.ba*a*this.Ac;b=this.n.x;d=this.n.y;this.n.aa();c=this.i.kd(this.n);g=!1;if(!c&&0<this.ba&&!u){if((g=0<this.$h?null:this.i.Pg(this.n,!0))&&g.length){if(this.ol){this.n.x=r;this.n.y=v;this.n.aa();p=k=0;for(n=g.length;k<
n;k++)g[p]=g[k],this.i.Qd(this.n,g[k])||p++;g.length=p;this.n.x=b;this.n.y=d;this.n.aa()}1<=g.length&&(c=g[0])}g=!!c}c&&(this.i.Gj(this.n,c),this.Nj=0,b=g?Math.abs(this.ba*a*2.5+10):Math.max(Math.abs(this.ba*a*2.5+10),30),this.i.Hf(this.n,this.zc*(0>this.ba?1:-1),this.Ac*(0>this.ba?1:-1),b,g,c)?(this.$d=c,this.oj=c.x,this.pj=c.y,(this.kp=g)&&(t=!0),this.ba=0):(this.n.x=r,this.n.y=v,this.n.aa(),this.nl=!0,g||(this.ba=0)))}3!==this.Sf&&0<this.ba&&!u&&(this.i.trigger(lj.prototype.F.ZA,this.n),this.Sf=
3);if(u||t)3===this.Sf||t||q&&0===this.ba?(this.i.trigger(lj.prototype.F.Iv,this.n),this.Sf=0===this.Y&&0===this.ba?0:1):(0!==this.Sf&&0===this.Y&&0===this.ba&&(this.i.trigger(lj.prototype.F.Qv,this.n),this.Sf=0),1===this.Sf||0===this.Y&&0===this.ba||q||(this.i.trigger(lj.prototype.F.Mv,this.n),this.Sf=1));0<this.$h&&this.$h--;this.ol=this.i.Pg(this.n)}};a.prototype.xv=function(){return 0!==this.Y||0!==this.ba};a.prototype.zA=function(){if(0!==this.ba)return!1;var a=null,b=null,c,d;c=this.n.x;d=this.n.y;
this.n.x+=this.zc;this.n.y+=this.Ac;this.n.aa();(a=this.i.kd(this.n))||0!==this.$h||(b=this.i.Pg(this.n,!0));this.n.x=c;this.n.y=d;this.n.aa();if(a)return!this.i.Qd(this.n,a);if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.i.Qd(this.n,b[a])||d++;if(1<=d)return!0}return!1};a.prototype.xA=function(){return 0>this.ba};a.prototype.Fv=function(){return!0};a.prototype.ZA=function(){return!0};a.prototype.Qv=function(){return!0};a.prototype.Mv=function(){return!0};a.prototype.Iv=function(){return!0};
d.F=new a;c.prototype.bC=function(a){switch(a){case 0:this.Tq=!0;break;case 1:this.Uq=!0;break;case 2:this.yn=!0}};c.prototype.$B=function(a){this.Y=a};c.prototype.aC=function(a){this.ba=a};c.prototype.Qf=function(a){this.enabled!==(1===a)&&(this.enabled=1===a,this.enabled||(this.$d=null))};c.prototype.mA=function(){var a=this.n.x,b=this.n.y;this.n.x+=this.zc;this.n.y+=this.Ac;this.n.aa();var c=this.i.Pg(this.n,!1);this.n.x=a;this.n.y=b;this.n.aa();c&&(this.$h=3,this.$d=null)};d.fa=new c;b.prototype.Nr=
function(a){a.xa(Math.sqrt(this.Y*this.Y+this.ba*this.ba))};b.prototype.jC=function(a){a.xa(this.Y)};b.prototype.kC=function(a){a.xa(this.ba)};d.Ea=new b})();function mj(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=mj.prototype;d.wa=function(a){this.behavior=a;this.i=a.i};d.wa.prototype.ma=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.Vi=this.ba=this.Y=0};var g=d.ta.prototype;g.ma=function(){this.fl=this.U[0];this.xu=this.U[1];this.enabled=0!==this.U[2]};g.Tb=function(){return{dx:this.Y,dy:this.ba,cancelStep:this.Vi,enabled:this.enabled,stepMode:this.fl,pxPerStep:this.xu}};g.Yb=function(a){this.Y=a.dx;
this.ba=a.dy;this.Vi=a.cancelStep;this.enabled=a.enabled;this.fl=a.stepMode;this.xu=a.pxPerStep};g.cm=function(){return Math.sqrt(this.Y*this.Y+this.ba*this.ba)};g.Vb=function(){return Math.atan2(this.ba,this.Y)};g.step=function(a,b,c){if(0!==a||0!==b){var d=this.n.x,g=this.n.y,k,n=Math.round(Math.sqrt(a*a+b*b)/this.xu);0===n&&(n=1);var p;for(p=1;p<=n;p++)if(k=p/n,this.n.x=d+a*k,this.n.y=g+b*k,this.n.aa(),this.i.trigger(c,this.n),1===this.Vi){p--;k=p/n;this.n.x=d+a*k;this.n.y=g+b*k;this.n.aa();break}else if(2===
this.Vi)break}};g.mb=function(){var a=this.i.Cg(this.n),b=this.Y*a,a=this.ba*a;0===this.Y&&0===this.ba||!this.enabled||(this.Vi=0,0===this.fl?(this.n.x+=b,this.n.y+=a):1===this.fl?this.step(b,a,mj.prototype.F.QA):2===this.fl?(this.step(b,0,mj.prototype.F.zv),this.Vi=0,this.step(0,a,mj.prototype.F.Av)):3===this.fl&&(this.step(0,a,mj.prototype.F.Av),this.Vi=0,this.step(b,0,mj.prototype.F.zv)),this.n.aa())};a.prototype.xv=function(){return 0!=this.Y||0!=this.ba};a.prototype.QA=function(){return!0};a.prototype.zv=
function(){return!0};a.prototype.Av=function(){return!0};d.F=new a;c.prototype.Wv=function(a,b){var c;switch(a){case 0:c=this.Vb();this.Y=Math.cos(c)*b;this.ba=Math.sin(c)*b;break;case 1:this.Y=b;break;case 2:this.ba=b}};c.prototype.Tz=function(a,b,c){a=a*this.i.Cg(this.n);b=Math.atan2(c-this.n.y,b-this.n.x);this.Y+=Math.cos(b)*a;this.ba+=Math.sin(b)*a};c.prototype.Vv=function(a){a=Pa(a);var b=this.cm();this.Y=Math.cos(a)*b;this.ba=Math.sin(a)*b};c.prototype.Qf=function(a){this.enabled=1===a};d.fa=
new c;b.prototype.Nr=function(a){a.xa(this.cm())};b.prototype.Y=function(a){a.xa(this.Y)};b.prototype.ba=function(a){a.xa(this.ba)};d.Ea=new b})();function nj(a){this.i=a}
(function(){var a=nj.prototype;a.wa=function(a){this.behavior=a;this.i=a.i};a.wa.prototype.ma=function(){};a.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.ta.prototype;a.ma=function(){};a.mb=function(){this.n.ab();var a=this.n.Lb,b=this.n.O.rc;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.i.Ee(this.n)}})();function hd(a){this.i=a}
(function(){function a(){}var c=hd.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ma=function(){this.n.na.jumpthruEnabled=0!==this.U[0]};b.mb=function(){};c.F=new function(){};a.prototype.Qf=function(a){this.n.na.jumpthruEnabled=!!a};c.fa=new a})();function oj(a){this.i=a;this.Qu=this.Sq=this.xn=this.Pu=0}
(function(){function a(){}var c=oj.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ma=function(){this.enabled=0!==this.U[0]};b.Tb=function(){return{smg:this.behavior.Pu,ss:this.behavior.xn,se:this.behavior.Sq,smd:this.behavior.Qu}};b.Yb=function(a){this.behavior.Pu=a.smg;this.behavior.xn=a.ss;this.behavior.Sq=a.se;this.behavior.Qu=a.smd};b.mb=function(){};b.Jn=
function(){if(this.enabled){var a=this.behavior.cq.kg(),b=0,c=0,f,h,m,l=0;f=0;for(h=a.length;f<h;f++){a:{m=a[f];for(var k=void 0,n=void 0,p=void 0,k=0,n=m.Ka.length;k<n;++k)if(p=m.Ka[k],p.behavior instanceof oj){m=p;break a}m=null}m&&m.enabled&&(b+=a[f].x,c+=a[f].y,++l)}a=this.n.O.rc;h=this.i.dd.Va;m=f=0;h>=this.behavior.xn&&h<this.behavior.Sq&&(f=this.behavior.Pu*Math.min(this.i.hg,1),0===this.behavior.Qu&&(f*=1-(h-this.behavior.xn)/(this.behavior.Sq-this.behavior.xn)),h=Math.random()*Math.PI*2,
m=Math.random()*f,f=Math.cos(h)*m,m*=Math.sin(h));a.Ku(b/l+f);a.Lu(c/l+m)}};a.prototype.Qf=function(a){this.enabled=0!==a};c.fa=new a})();function gd(a){this.i=a}
(function(){function a(){}var c=gd.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ma=function(){this.n.na.solidEnabled=0!==this.U[0]};b.mb=function(){};c.F=new function(){};a.prototype.Qf=function(a){this.n.na.solidEnabled=!!a};c.fa=new a})();function pj(a){this.i=a}
(function(){var a=pj.prototype;a.wa=function(a){this.behavior=a;this.i=a.i};a.wa.prototype.ma=function(){};a.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.ta.prototype;a.ma=function(){this.mode=this.U[0]};a.mb=function(){var a=this.n;a.ab();var b=a.Lb,d=a.O,g=d.rc,e=0,f=0,h=0,m=0;0===this.mode?(f=g.width,m=g.height):(e=d.qb,f=d.Fb,h=d.rb,m=d.Eb);b.right<e?(a.x=f-1+(a.x-b.left),a.aa()):b.left>f?(a.x=e+1-(b.right-a.x),a.aa()):b.bottom<h?(a.y=m-1+(a.y-b.top),a.aa()):
b.top>m&&(a.y=h+1-(b.bottom-a.y),a.aa())}})();
function fd(){return[md,Kd,nd,Cd,Dd,Ed,Bd,id,Id,Gd,Fd,Hd,Jd,kd,jd,ld,hd,hj,gd,ij,pj,oj,Nd,nj,mj,Ld,Md,lj,L.prototype.F.lA,L.prototype.F.JB,L.prototype.fa.ZB,L.prototype.Ea.random,L.prototype.F.fA,L.prototype.F.cA,id.prototype.fa.cC,L.prototype.F.wA,L.prototype.F.Jv,Fd.prototype.fa.Xz,Fd.prototype.fa.Mr,md.prototype.F.bo,Gd.prototype.Ea.Text,md.prototype.fa.Qf,L.prototype.fa.MB,L.prototype.fa.qA,ld.prototype.F.vA,L.prototype.Ea.WF,kd.prototype.fa.LB,Bd.prototype.fa.pA,ld.prototype.F.Kr,id.prototype.F.AA,
id.prototype.F.dA,L.prototype.fa.RB,id.prototype.F.TA,id.prototype.fa.Wd,Bd.prototype.F.Ev,Bd.prototype.Ea.CA,L.prototype.Ea.yF,nd.prototype.F.yA,Kd.prototype.F.wv,lj.prototype.fa.bC,L.prototype.F.bA,lj.prototype.Ea.jC,id.prototype.fa.PB,id.prototype.fa.WB,nd.prototype.F.Gv,Kd.prototype.F.OA,lj.prototype.fa.mA,lj.prototype.F.Mv,lj.prototype.F.zA,id.prototype.fa.OB,L.prototype.fa.jA,id.prototype.Ea.Qr,id.prototype.Ea.Rr,id.prototype.Ea.rA,Ed.prototype.fa.SB,Ed.prototype.fa.TB,lj.prototype.F.Fv,lj.prototype.F.Qv,
lj.prototype.F.Iv,lj.prototype.F.xv,id.prototype.fa.Uz,Kd.prototype.F.PA,nd.prototype.F.Gr,id.prototype.fa.UB,L.prototype.F.uv,id.prototype.Ea.iA,Ld.prototype.fa.Wv,Ld.prototype.Ea.Nr,ij.prototype.fa.KB,Ed.prototype.fa.oC,id.prototype.fa.XB,id.prototype.F.tA,Ld.prototype.fa.Vv,Ld.prototype.F.eA,jd.prototype.fa.CallFunction,Nd.prototype.F.Dv,L.prototype.fa.Vz,lj.prototype.F.xA,lj.prototype.fa.aC,lj.prototype.Ea.kC,jd.prototype.F.fo,id.prototype.fa.eC,Nd.prototype.fa.nA,L.prototype.F.oA,id.prototype.Ea.hC,
id.prototype.F.gA,id.prototype.F.hA,id.prototype.F.Cv,mj.prototype.fa.Tz,Md.prototype.fa.dC,id.prototype.fa.fC,L.prototype.F.IB,lj.prototype.fa.Qf,id.prototype.fa.QB,lj.prototype.fa.$B,id.prototype.fa.NB,id.prototype.F.Sg,Cd.prototype.F.Ir,jd.prototype.Ea.HB,Bd.prototype.fa.VB,id.prototype.fa.Xv,Fd.prototype.F.Sg,Jd.prototype.F.BA,L.prototype.fa.YB,L.prototype.Ea.hg,Fd.prototype.fa.ko,Hd.prototype.fa.ko,id.prototype.Ea.lC]};
