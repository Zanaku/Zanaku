// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var A,aa,ba,ca,ea,fa,ja,la,na,oa,pa,ra,sa,ta,ua,va,wa,ya,za,Aa,Ba,Ca,Ea,Fa,H,Ha,Ia,Ka,La,Oa,Pa,Qa,Ra,Ta,Ua,Va,Wa,Ya,Za,$a,ab,db,eb,jb,kb,lb,sb,tb,ub,vb,Ab,Bb,Db,Eb,Fb,Gb,Lb,Mb,Qb,Wb,Xb,Yb,Zb,$b,ac,bc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Ic,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,h){this.set(a,b,c,h)}function c(){this.Bd=this.Ad=this.Dd=this.Cd=this.Sd=this.Rd=this.Vc=this.Uc=0}function b(a,b,c,h){a<b?c<h?(v=a<c?a:c,t=b>h?b:h):(v=a<h?a:h,t=b>c?b:c):c<h?(v=b<c?b:c,t=a>h?a:h):(v=b<h?b:h,t=a>c?a:c)}function d(){this.items=this.Gg=null;this.fm=0;D&&(this.Gg=new Set);this.Yk=[];this.Lh=!0}function g(a){B[E++]=a}function e(){this.Va=this.Gq=this.y=this.I=0}function f(a){this.Hb=[];this.Xn=this.Zn=this.$n=this.Yn=0;this.no=null;this.an(a)}function h(a,
b){this.Nc=a;this.Yc=b;this.cells={}}function m(a,b){this.Nc=a;this.Yc=b;this.cells={}}function l(a,b,c){var h;return C.length?(h=C.pop(),h.ws=a,h.x=b,h.y=c,h):new ba(a,b,c)}function k(a,b,c){this.ws=a;this.x=b;this.y=c;this.dd=new ca}function n(a,b,c){var h;return w.length?(h=w.pop(),h.ws=a,h.x=b,h.y=c,h):new ea(a,b,c)}function q(a,b,c){this.ws=a;this.x=b;this.y=c;this.dd=[];this.kk=!0;this.Eg=new ca;this.kl=!1}function r(a,b){return a.jg-b.jg}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ja=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};la=function(a){return"undefined"===typeof a};na=function(a){return"number"===typeof a};oa=function(a){return"string"===typeof a};pa=function(a){return 0<a&&0===(a-1&a)};ra=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};sa=function(a){return 0>a?-a:a};ta=function(a,b){return a>b?a:b};ua=function(a,b){return a<b?a:b};va=Math.PI;wa=function(a){return 0<=a?a|0:(a|0)-1};ya=function(a){var b=
a|0;return b===a?b:b+1};za=function(a,b,c,h,k,l,d,e){var m,f,n,g;a<c?(f=a,m=c):(f=c,m=a);k<d?(g=k,n=d):(g=d,n=k);if(m<g||f>n)return!1;b<h?(f=b,m=h):(f=h,m=b);l<e?(g=l,n=e):(g=e,n=l);if(m<g||f>n)return!1;m=k-a+d-c;f=l-b+e-h;a=c-a;b=h-b;k=d-k;l=e-l;e=sa(b*k-l*a);return sa(k*f-l*m)>e?!1:sa(a*f-b*m)<=e};a.prototype.set=function(a,b,c,h){this.left=a;this.top=b;this.right=c;this.bottom=h};a.prototype.Sj=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=
function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.bE=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.cE=
function(a,b,c){return!(a.right+b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.Ed=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.wl=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};Aa=a;c.prototype.Qk=function(a){this.Uc=a.left;this.Vc=a.top;this.Rd=a.right;this.Sd=a.top;this.Cd=a.right;this.Dd=a.bottom;this.Ad=a.left;this.Bd=a.bottom};c.prototype.wy=function(a,
b){if(0===b)this.Qk(a);else{var c=Math.sin(b),h=Math.cos(b),k=a.left*c,l=a.top*c,d=a.right*c,c=a.bottom*c,e=a.left*h,m=a.top*h,f=a.right*h,h=a.bottom*h;this.Uc=e-l;this.Vc=m+k;this.Rd=f-l;this.Sd=m+d;this.Cd=f-c;this.Dd=h+d;this.Ad=e-c;this.Bd=h+k}};c.prototype.offset=function(a,b){this.Uc+=a;this.Vc+=b;this.Rd+=a;this.Sd+=b;this.Cd+=a;this.Dd+=b;this.Ad+=a;this.Bd+=b;return this};var v=0,t=0;c.prototype.Jv=function(a){b(this.Uc,this.Rd,this.Cd,this.Ad);a.left=v;a.right=t;b(this.Vc,this.Sd,this.Dd,
this.Bd);a.top=v;a.bottom=t};c.prototype.Ed=function(a,b){var c=this.Uc,h=this.Vc,k=this.Rd-c,l=this.Sd-h,d=this.Cd-c,e=this.Dd-h,m=a-c,f=b-h,n=k*k+l*l,g=k*d+l*e,l=k*m+l*f,u=d*d+e*e,q=d*m+e*f,r=1/(n*u-g*g),k=(u*l-g*q)*r,n=(n*q-g*l)*r;if(0<=k&&0<n&&1>k+n)return!0;k=this.Ad-c;l=this.Bd-h;n=k*k+l*l;g=k*d+l*e;l=k*m+l*f;r=1/(n*u-g*g);k=(u*l-g*q)*r;n=(n*q-g*l)*r;return 0<=k&&0<n&&1>k+n};c.prototype.Ih=function(a,b){if(b)switch(a){case 0:return this.Uc;case 1:return this.Rd;case 2:return this.Cd;case 3:return this.Ad;
case 4:return this.Uc;default:return this.Uc}else switch(a){case 0:return this.Vc;case 1:return this.Sd;case 2:return this.Dd;case 3:return this.Bd;case 4:return this.Vc;default:return this.Vc}};c.prototype.gi=function(){return(this.Uc+this.Rd+this.Cd+this.Ad)/4};c.prototype.hi=function(){return(this.Vc+this.Sd+this.Dd+this.Bd)/4};c.prototype.Dw=function(a){var b=a.gi(),c=a.hi();if(this.Ed(b,c))return!0;b=this.gi();c=this.hi();if(a.Ed(b,c))return!0;var h,k,l,d,e,m,f,n;for(f=0;4>f;f++)for(n=0;4>n;n++)if(b=
this.Ih(f,!0),c=this.Ih(f,!1),h=this.Ih(f+1,!0),k=this.Ih(f+1,!1),l=a.Ih(n,!0),d=a.Ih(n,!1),e=a.Ih(n+1,!0),m=a.Ih(n+1,!1),za(b,c,h,k,l,d,e,m))return!0;return!1};Ba=c;Ca=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};Ea=function(a,b){var c,h;b=wa(b);if(!(0>b||b>=a.length)){c=b;for(h=a.length-1;c<h;c++)a[c]=a[c+1];Fa(a,h)}};Fa=function(a,b){a.length=b};H=function(a){Fa(a,0)};Ha=function(a,b){H(a);var c,h;c=0;for(h=b.length;c<h;++c)a[c]=b[c]};Ia=function(a,b){a.push.apply(a,
b)};Ka=function(a,b){var c,h;c=0;for(h=a.length;c<h;++c)if(a[c]===b)return c;return-1};La=function(a,b){var c=Ka(a,b);-1!==c&&Ea(a,c)};Oa=function(a,b,c){return a<b?b:a>c?c:a};Pa=function(a){return a/(180/va)};Qa=function(a){return 180/va*a};Ra=function(a){a%=360;0>a&&(a+=360);return a};Ta=function(a){a%=2*va;0>a&&(a+=2*va);return a};Ua=function(a){return Ra(Qa(a))};Va=function(a){return Ta(Pa(a))};Wa=function(a,b,c,h){return Math.atan2(h-b,c-a)};Ya=function(a,b){if(a===b)return 0;var c=Math.sin(a),
h=Math.cos(a),k=Math.sin(b),l=Math.cos(b),c=c*k+h*l;return 1<=c?0:-1>=c?va:Math.acos(c)};Za=function(a,b,c){var h=Math.sin(a),k=Math.cos(a),l=Math.sin(b),d=Math.cos(b);return Math.acos(h*l+k*d)>c?0<k*l-h*d?Ta(a+c):Ta(a-c):Ta(b)};$a=function(a,b){var c=Math.sin(a),h=Math.cos(a),k=Math.sin(b),l=Math.cos(b);return 0>=h*k-c*l};ab=function(a,b,c,h,k,l){if(0===c)return l?a:b;var d=Math.sin(c);c=Math.cos(c);a-=h;b-=k;var e=a*d;a=a*c-b*d;b=b*c+e;return l?a+h:b+k};db=function(a,b,c,h){a=c-a;b=h-b;return Math.sqrt(a*
a+b*b)};eb=function(a,b){return!a!==!b};jb=function(a,b,c){return a===b?0:(c-a)/(b-a)};kb=function(a,b,c){var h=Ya(a,b);return $a(b,a)?a+h*c:a-h*c};lb=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};sb=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var p=+new Date;tb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==
typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-p};var u=!1,x=u=!1,z=!1;"undefined"!==typeof window&&(u=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),u=!u&&/safari/i.test(navigator.userAgent),x=/(iphone|ipod|ipad)/i.test(navigator.userAgent),z=window.c2ejecta);var D=!u&&!z&&!x&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.Zg()?!1:D?this.Gg.has(a):this.items&&
this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(D)this.Gg.has(a)||(this.Gg.add(a),this.Lh=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.fm++,this.Lh=!1):(this.items={},this.items[b]=a,this.fm=1,this.Lh=!1)}};d.prototype.remove=function(a){if(!this.Zg())if(D)this.Gg.has(a)&&(this.Gg["delete"](a),this.Lh=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.fm--,this.Lh=!1)}};d.prototype.clear=function(){this.Zg()||
(D?this.Gg.clear():(this.items=null,this.fm=0),H(this.Yk),this.Lh=!0)};d.prototype.Zg=function(){return 0===this.count()};d.prototype.count=function(){return D?this.Gg.size:this.fm};var B=null,E=0;d.prototype.HF=function(){if(!this.Lh){if(D)H(this.Yk),B=this.Yk,E=0,this.Gg.forEach(g),B=null,E=0;else{var a=this.Yk;H(a);var b,c=0,h=this.items;if(h)for(b in h)h.hasOwnProperty(b)&&(a[c++]=h[b])}this.Lh=!0}};d.prototype.ig=function(){this.HF();return this.Yk};ca=d;new ca;ub=function(a,b){D?vb(a,b.Gg):
Ab(a,b.ig())};vb=function(a,b){var c,h,k,l;h=c=0;for(k=a.length;c<k;++c)l=a[c],b.has(l)||(a[h++]=l);Fa(a,h)};Ab=function(a,b){var c,h,k,l;h=c=0;for(k=a.length;c<k;++c)l=a[c],-1===Ka(b,l)&&(a[h++]=l);Fa(a,h)};e.prototype.add=function(a){this.y=a-this.I;this.Gq=this.Va+this.y;this.I=this.Gq-this.Va-this.y;this.Va=this.Gq};e.prototype.reset=function(){this.Va=this.Gq=this.y=this.I=0};Bb=e;Db=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.an=function(a){this.$x=a;this.ee=
a.length/2;this.Hb.length=a.length;this.ho=this.jo=-1;this.Mv=0};f.prototype.fj=function(){return!this.$x.length};f.prototype.$a=function(){for(var a=this.Hb,b=a[0],c=b,h=a[1],k=h,l,d,e=1,f=this.ee;e<f;++e)d=2*e,l=a[d],d=a[d+1],l<b&&(b=l),l>c&&(c=l),d<h&&(h=d),d>k&&(k=d);this.Yn=b;this.Zn=c;this.$n=h;this.Xn=k};f.prototype.Qk=function(a,b,c){this.Hb.length=8;this.ee=4;var h=this.Hb;h[0]=a.left-b;h[1]=a.top-c;h[2]=a.right-b;h[3]=a.top-c;h[4]=a.right-b;h[5]=a.bottom-c;h[6]=a.left-b;h[7]=a.bottom-c;
this.jo=a.right-a.left;this.ho=a.bottom-a.top;this.$a()};f.prototype.Pk=function(a,b,c,h,k){this.Hb.length=8;this.ee=4;var l=this.Hb;l[0]=a.Uc-b;l[1]=a.Vc-c;l[2]=a.Rd-b;l[3]=a.Sd-c;l[4]=a.Cd-b;l[5]=a.Dd-c;l[6]=a.Ad-b;l[7]=a.Bd-c;this.jo=h;this.ho=k;this.$a()};f.prototype.uy=function(a){this.ee=a.ee;Ha(this.Hb,a.Hb);this.Yn=a.Yn;this.$n-a.$n;this.Zn=a.Zn;this.Xn=a.Xn};f.prototype.Kh=function(a,b,c){if(this.jo!==a||this.ho!==b||this.Mv!==c){this.jo=a;this.ho=b;this.Mv=c;var h,k,l,d,e,f=0,m=1,n=this.$x,
g=this.Hb;0!==c&&(f=Math.sin(c),m=Math.cos(c));c=0;for(l=this.ee;c<l;c++)h=2*c,k=h+1,d=n[h]*a,e=n[k]*b,g[h]=d*m-e*f,g[k]=e*m+d*f;this.$a()}};f.prototype.Ed=function(a,b){var c=this.Hb;if(a===c[0]&&b===c[1])return!0;var h,k,l,d=this.ee,e=this.Yn-110,f=this.$n-101,m=this.Zn+131,n=this.Xn+120,g,u,q=0,r=0;for(h=0;h<d;h++)k=2*h,l=(h+1)%d*2,g=c[k],k=c[k+1],u=c[l],l=c[l+1],za(e,f,a,b,g,k,u,l)&&q++,za(m,n,a,b,g,k,u,l)&&r++;return 1===q%2||1===r%2};f.prototype.Rl=function(a,b,c){var h=a.Hb,k=this.Hb;if(this.Ed(h[0]+
b,h[1]+c)||a.Ed(k[0]-b,k[1]-c))return!0;var l,d,e,f,m,n,g,u,q,r,p,x;l=0;for(f=this.ee;l<f;l++)for(d=2*l,e=(l+1)%f*2,u=k[d],d=k[d+1],q=k[e],r=k[e+1],e=0,g=a.ee;e<g;e++)if(m=2*e,n=(e+1)%g*2,p=h[m]+b,m=h[m+1]+c,x=h[n]+b,n=h[n+1]+c,za(u,d,q,r,p,m,x,n))return!0;return!1};f.prototype.xE=function(a){var b,c,h;b=0;for(c=this.ee;b<c;++b)h=2*b,this.Hb[h]=2*a-this.Hb[h]};f.prototype.hD=function(a){var b,c,h;b=0;for(c=this.ee;b<c;++b)h=2*b+1,this.Hb[h]=2*a-this.Hb[h]};f.prototype.YB=function(){var a,b,c,h,k;
a=0;for(b=this.ee;a<b;++a)c=2*a,h=c+1,k=this.Hb[c],this.Hb[c]=this.Hb[h],this.Hb[h]=k};Eb=f;h.prototype.Vh=function(a,b,c){var h;h=this.cells[a];return h?(h=h[b])?h:c?(h=l(this,a,b),this.cells[a][b]=h):null:c?(h=l(this,a,b),this.cells[a]={},this.cells[a][b]=h):null};h.prototype.ie=function(a){return wa(a/this.Nc)};h.prototype.je=function(a){return wa(a/this.Yc)};h.prototype.update=function(a,b,c){var h,k,l,d,e;if(b)for(h=b.left,k=b.right;h<=k;++h)for(l=b.top,d=b.bottom;l<=d;++l)if(!c||!c.Ed(h,l))if(e=
this.Vh(h,l,!1))e.remove(a),e.Zg()&&(e.dd.clear(),1E3>C.length&&C.push(e),this.cells[h][l]=null);if(c)for(h=c.left,k=c.right;h<=k;++h)for(l=c.top,d=c.bottom;l<=d;++l)b&&b.Ed(h,l)||this.Vh(h,l,!0).Hs(a)};h.prototype.jq=function(a,b){var c,h,k,l,d,e;c=this.ie(a.left);k=this.je(a.top);h=this.ie(a.right);for(d=this.je(a.bottom);c<=h;++c)for(l=k;l<=d;++l)(e=this.Vh(c,l,!1))&&e.dump(b)};Fb=h;m.prototype.Vh=function(a,b,c){var h;h=this.cells[a];return h?(h=h[b])?h:c?(h=n(this,a,b),this.cells[a][b]=h):null:
c?(h=n(this,a,b),this.cells[a]={},this.cells[a][b]=h):null};m.prototype.ie=function(a){return wa(a/this.Nc)};m.prototype.je=function(a){return wa(a/this.Yc)};m.prototype.update=function(a,b,c){var h,k,l,d,e;if(b)for(h=b.left,k=b.right;h<=k;++h)for(l=b.top,d=b.bottom;l<=d;++l)if(!c||!c.Ed(h,l))if(e=this.Vh(h,l,!1))e.remove(a),e.Zg()&&(e.reset(),1E3>w.length&&w.push(e),this.cells[h][l]=null);if(c)for(h=c.left,k=c.right;h<=k;++h)for(l=c.top,d=c.bottom;l<=d;++l)b&&b.Ed(h,l)||this.Vh(h,l,!0).Hs(a)};m.prototype.jq=
function(a,b,c,h,k){var l,d;a=this.ie(a);b=this.je(b);c=this.ie(c);for(l=this.je(h);a<=c;++a)for(h=b;h<=l;++h)(d=this.Vh(a,h,!1))&&d.dump(k)};m.prototype.tE=function(a){var b,c,h,k,l;b=a.left;h=a.top;c=a.right;for(k=a.bottom;b<=c;++b)for(a=h;a<=k;++a)if(l=this.Vh(b,a,!1))l.kk=!1};Gb=m;var C=[];k.prototype.Zg=function(){return this.dd.Zg()};k.prototype.Hs=function(a){this.dd.add(a)};k.prototype.remove=function(a){this.dd.remove(a)};k.prototype.dump=function(a){Ia(a,this.dd.ig())};ba=k;var w=[];q.prototype.Zg=
function(){if(!this.dd.length)return!0;if(this.dd.length>this.Eg.count())return!1;this.Zr();return!0};q.prototype.Hs=function(a){this.Eg.contains(a)?(this.Eg.remove(a),this.Eg.Zg()&&(this.kl=!1)):this.dd.length?(this.dd[this.dd.length-1].zg()>a.zg()&&(this.kk=!1),this.dd.push(a)):(this.dd.push(a),this.kk=!0)};q.prototype.remove=function(a){this.Eg.add(a);this.kl=!0;30<=this.Eg.count()&&this.Zr()};q.prototype.Zr=function(){this.kl&&(this.Eg.count()===this.dd.length?this.reset():(ub(this.dd,this.Eg),
this.Eg.clear(),this.kl=!1))};q.prototype.BC=function(){this.kk||(this.dd.sort(r),this.kk=!0)};q.prototype.reset=function(){H(this.dd);this.kk=!0;this.Eg.clear();this.kl=!1};q.prototype.dump=function(a){this.Zr();this.BC();this.dd.length&&a.push(this.dd)};ea=q;var y="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Lb=function(a){return 0>=a||11<=a?"source-over":y[a-1]};Mb=function(a,b,c){if(c)switch(a.Md=c.ONE,a.Fd=c.ONE_MINUS_SRC_ALPHA,
b){case 1:a.Md=c.ONE;a.Fd=c.ONE;break;case 3:a.Md=c.ONE;a.Fd=c.ZERO;break;case 4:a.Md=c.ONE_MINUS_DST_ALPHA;a.Fd=c.ONE;break;case 5:a.Md=c.DST_ALPHA;a.Fd=c.ZERO;break;case 6:a.Md=c.ZERO;a.Fd=c.SRC_ALPHA;break;case 7:a.Md=c.ONE_MINUS_DST_ALPHA;a.Fd=c.ZERO;break;case 8:a.Md=c.ZERO;a.Fd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Md=c.DST_ALPHA;a.Fd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Md=c.ONE_MINUS_DST_ALPHA,a.Fd=c.SRC_ALPHA}};Qb=function(a){return Math.round(1E6*a)/1E6};Wb=function(a,b){return"string"!==
typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};Xb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Wb(a.tagName,"canvas")?!0:!1}})();var Yc="undefined"!==typeof Float32Array?Float32Array:Array;function Zc(a){var c=new Yc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function $c(a){var c=new Yc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function ad(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function bd(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function cd(a,c,b,d){d||(d=$c());var g,e,f,h,m,l,k,n,q=a[0],r=a[1];a=a[2];e=b[0];f=b[1];g=b[2];b=c[1];l=c[2];q===c[0]&&r===b&&a===l?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],l=r-c[1],k=a-c[2],n=1/Math.sqrt(b*b+l*l+k*k),b*=n,l*=n,k*=n,c=f*k-g*l,g=g*b-e*k,e=e*l-f*b,(n=Math.sqrt(c*c+g*g+e*e))?(n=1/n,c*=n,g*=n,e*=n):e=g=c=0,f=l*e-k*g,h=k*c-b*e,m=b*g-l*c,(n=Math.sqrt(f*f+h*h+m*m))?(n=1/n,f*=n,h*=n,m*=n):m=h=f=0,
d[0]=c,d[1]=f,d[2]=b,d[3]=0,d[4]=g,d[5]=h,d[6]=l,d[7]=0,d[8]=e,d[9]=m,d[10]=k,d[11]=0,d[12]=-(c*q+g*r+e*a),d[13]=-(f*q+h*r+m*a),d[14]=-(b*q+l*r+k*a),d[15]=1)}
(function(){function a(a,b,c){this.$g=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Ob=!!c;this.op=this.Ul=!1;this.wo=0;this.Zq=1;this.Qu=1E3;this.NF=(this.Qu-this.Zq)/32768;this.Fr=Zc([0,0,100]);this.Vw=Zc([0,0,0]);this.Yy=Zc([0,1,0]);this.Hn=Zc([1,1,1]);this.Yv=!0;this.Gp=$c();this.bf=$c();this.Zs=$c();this.Or=$c();this.ya=a;this.zw()}function c(a,b,c){this.ya=a;this.bn=b;this.name=c;this.Af=a.getAttribLocation(b,"aPos");this.di=a.getAttribLocation(b,
"aTex");this.Tw=a.getUniformLocation(b,"matP");this.Bp=a.getUniformLocation(b,"matMV");this.yk=a.getUniformLocation(b,"opacity");this.kt=a.getUniformLocation(b,"colorFill");this.Uw=a.getUniformLocation(b,"samplerFront");this.Bm=a.getUniformLocation(b,"samplerBack");this.oj=a.getUniformLocation(b,"destStart");this.nj=a.getUniformLocation(b,"destEnd");this.Dm=a.getUniformLocation(b,"seconds");this.mt=a.getUniformLocation(b,"pixelWidth");this.lt=a.getUniformLocation(b,"pixelHeight");this.Am=a.getUniformLocation(b,
"layerScale");this.zm=a.getUniformLocation(b,"layerAngle");this.Em=a.getUniformLocation(b,"viewOrigin");this.Cm=a.getUniformLocation(b,"scrollPos");this.WD=!!(this.mt||this.lt||this.Dm||this.Bm||this.oj||this.nj||this.Am||this.zm||this.Em||this.Cm);this.cx=this.gx=-999;this.Fp=1;this.Zw=this.Yw=0;this.ax=this.Xw=this.Ww=1;this.jx=this.ix=this.hx=this.mx=this.kx=this.$w=0;this.Xs=[];this.bx=$c();this.yk&&a.uniform1f(this.yk,1);this.kt&&a.uniform4f(this.kt,1,1,1,1);this.Uw&&a.uniform1i(this.Uw,0);this.Bm&&
a.uniform1i(this.Bm,1);this.oj&&a.uniform2f(this.oj,0,0);this.nj&&a.uniform2f(this.nj,1,1);this.Am&&a.uniform1f(this.Am,1);this.zm&&a.uniform1f(this.zm,0);this.Em&&a.uniform2f(this.Em,0,0);this.Cm&&a.uniform2f(this.Cm,0,0);this.Dm&&a.uniform1f(this.Dm,0);this.Yi=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function d(a,b){this.type=a;this.la=b;this.ya=b.ya;this.te=this.wd=this.Jx=0;this.eb=this.Kf=null;this.xy=[]}var g=$c();a.prototype.zw=function(){var a=this.ya,b;this.Ow=1;this.ij=this.$h=null;this.vo=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Ob?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Pw=a.ONE;this.Nw=a.ONE_MINUS_SRC_ALPHA;
this.Fn=new Float32Array(8E3*(this.Ob?3:2));this.nn=new Float32Array(16E3);this.Qt=new Float32Array(32E3);this.Pt=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Pt);a.bufferData(a.ARRAY_BUFFER,this.Qt.byteLength,a.DYNAMIC_DRAW);this.En=Array(4);this.mn=Array(4);for(b=0;4>b;b++)this.En[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.En[b]),a.bufferData(a.ARRAY_BUFFER,this.Fn.byteLength,a.DYNAMIC_DRAW),this.mn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.mn[b]),a.bufferData(a.ARRAY_BUFFER,
this.nn.byteLength,a.DYNAMIC_DRAW);this.Rg=0;this.$D=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.$D);for(var c=new Uint16Array(12E3),k=b=0;12E3>b;)c[b++]=k,c[b++]=k+1,c[b++]=k+2,c[b++]=k,c[b++]=k+2,c[b++]=k+3,k+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Jk=this.wi=this.Mf=0;this.kc=[];b=this.Ob?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.rl({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.kc.push(c);c=this.rl({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.kc.push(c);c=this.rl({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.kc.push(c);c=this.rl({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.kc.push(c);for(var d in ed)ed.hasOwnProperty(d)&&this.kc.push(this.rl(ed[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Sf=[];this.pf=0;this.qd=this.Rc=!1;this.Rv=this.mm=-1;this.Uj=null;this.Xr=a.createFramebuffer();this.Ao=this.lq=null;this.Gv=!1;this.Ob&&(this.Ao=a.createRenderbuffer());this.Bi=Zc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.wE=a[0];this.tt=a[1];2048<this.tt&&(this.tt=2048);this.Ae(0)};c.prototype.Ju=function(a){b(this.bx,
a)||(ad(a,this.bx),this.ya.uniformMatrix4fv(this.Bp,!1,a))};a.prototype.rl=function(a,b,l){var k=this.ya,d=k.createShader(k.FRAGMENT_SHADER);k.shaderSource(d,a.src);k.compileShader(d);if(!k.getShaderParameter(d,k.COMPILE_STATUS))return k.deleteShader(d),null;var e=k.createShader(k.VERTEX_SHADER);k.shaderSource(e,b);k.compileShader(e);if(!k.getShaderParameter(e,k.COMPILE_STATUS))return k.deleteShader(d),k.deleteShader(e),null;b=k.createProgram();k.attachShader(b,d);k.attachShader(b,e);k.linkProgram(b);
if(!k.getProgramParameter(b,k.LINK_STATUS))return k.deleteShader(d),k.deleteShader(e),k.deleteProgram(b),null;k.useProgram(b);k.deleteShader(d);k.deleteShader(e);l=new c(k,b,l);l.Fo=a.Fo||0;l.Go=a.Go||0;l.Nr=!!a.Nr;l.Ef=!!a.Ef;l.Br=!!a.Br;l.Ta=a.Ta||[];a=0;for(d=l.Ta.length;a<d;a++)l.Ta[a][1]=k.getUniformLocation(b,l.Ta[a][0]),l.Xs.push(0),k.uniform1f(l.Ta[a][1],0);return l};a.prototype.rs=function(a){var b,c;b=0;for(c=this.kc.length;b<c;b++)if(this.kc[b].name===a)return b;return-1};a.prototype.Zx=
function(a,b,c){var k=this.bf,d=this.Gp,e=[0,0,0,0,0,0,0,0];e[0]=k[0]*a+k[4]*b+k[12];e[1]=k[1]*a+k[5]*b+k[13];e[2]=k[2]*a+k[6]*b+k[14];e[3]=k[3]*a+k[7]*b+k[15];e[4]=d[0]*e[0]+d[4]*e[1]+d[8]*e[2]+d[12]*e[3];e[5]=d[1]*e[0]+d[5]*e[1]+d[9]*e[2]+d[13]*e[3];e[6]=d[2]*e[0]+d[6]*e[1]+d[10]*e[2]+d[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],c[0]=(.5*e[4]+.5)*this.width,c[1]=(.5*e[5]+.5)*this.height)};a.prototype.Bj=function(a,b,c){if(this.width!==a||this.height!==b||c){this.vg();
c=this.ya;this.width=a;this.height=b;c.viewport(0,0,a,b);cd(this.Fr,this.Vw,this.Yy,this.bf);if(this.Ob){var k=-a/2;a=a/2;var d=b/2;b=-b/2;var e=this.Zq,f=this.Qu,g=this.Gp;g||(g=$c());var t=a-k,p=b-d,u=f-e;g[0]=2/t;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/p;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/u;g[11]=0;g[12]=-(k+a)/t;g[13]=-(b+d)/p;g[14]=-(f+e)/u;g[15]=1;this.Hn[0]=1;this.Hn[1]=1}else b=a/b,k=this.Zq,a=this.Qu,g=this.Gp,f=k*Math.tan(45*Math.PI/360),b*=f,d=-b,e=-f,g||(g=$c()),t=b-d,p=f-e,u=a-k,g[0]=2*
k/t,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*k/p,g[6]=0,g[7]=0,g[8]=(b+d)/t,g[9]=(f+e)/p,g[10]=-(a+k)/u,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(a*k*2)/u,g[15]=0,k=[0,0],a=[0,0],this.Zx(0,0,k),this.Zx(1,1,a),this.Hn[0]=1/(a[0]-k[0]),this.Hn[1]=-1/(a[1]-k[1]);k=0;for(a=this.kc.length;k<a;k++)d=this.kc[k],d.Yi=!1,d.Tw&&(c.useProgram(d.bn),c.uniformMatrix4fv(d.Tw,!1,this.Gp));c.useProgram(this.kc[this.mm].bn);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);
this.ij=this.$h=null;this.Ao&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Xr),c.bindRenderbuffer(c.RENDERBUFFER,this.Ao),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.Gv||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.Ao),this.Gv=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.lq=null)}};a.prototype.Gf=function(){cd(this.Fr,this.Vw,this.Yy,this.bf);bd(this.bf,this.Hn)};a.prototype.translate=function(a,
b){if(0!==a||0!==b){this.Bi[0]=a;this.Bi[1]=b;this.Bi[2]=0;var c=this.bf,k=this.Bi,d=k[0],e=k[1],k=k[2];c[12]=c[0]*d+c[4]*e+c[8]*k+c[12];c[13]=c[1]*d+c[5]*e+c[9]*k+c[13];c[14]=c[2]*d+c[6]*e+c[10]*k+c[14];c[15]=c[3]*d+c[7]*e+c[11]*k+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Bi[0]=a,this.Bi[1]=b,this.Bi[2]=1,bd(this.bf,this.Bi)};a.prototype.nq=function(a){if(0!==a){var b=this.bf,c,k=Math.sin(a);a=Math.cos(a);var d=b[0],e=b[1],f=b[2],g=b[3],t=b[4],p=b[5],u=b[6],x=b[7];c?b!==c&&(c[8]=
b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=d*a+t*k;c[1]=e*a+p*k;c[2]=f*a+u*k;c[3]=g*a+x*k;c[4]=d*-k+t*a;c[5]=e*-k+p*a;c[6]=f*-k+u*a;c[7]=g*-k+x*a}};a.prototype.hf=function(){if(!b(this.Zs,this.bf)){var a=this.fe();a.type=5;a.eb?ad(this.bf,a.eb):a.eb=$c(this.bf);ad(this.bf,this.Zs);this.qd=this.Rc=!1}};a.prototype.sq=function(a){this.Ob&&(32760<a&&(a=32760),this.wo=this.Fr[2]-this.Zq-a*this.NF)};d.prototype.kC=function(){var a=this.ya,b=this.la;
0!==this.wd?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.Xr),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.op=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.op=!1)};d.prototype.oC=function(){this.ya.bindTexture(this.ya.TEXTURE_2D,this.Kf)};d.prototype.pC=function(){var a=this.ya;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,
this.Kf);a.activeTexture(a.TEXTURE0)};d.prototype.lC=function(){var a=this.Jx,b=this.la;b.vo=a;b=b.Uj;b.yk&&b.Fp!==a&&(b.Fp=a,this.ya.uniform1f(b.yk,a))};d.prototype.fC=function(){this.ya.drawElements(this.ya.TRIANGLES,this.te,this.ya.UNSIGNED_SHORT,this.wd)};d.prototype.hC=function(){this.ya.blendFunc(this.wd,this.te)};d.prototype.rC=function(){var a,b,c,k=this.la.kc,d=this.la.Rv;a=0;for(b=k.length;a<b;a++)c=k[a],a===d&&c.Bp?(c.Ju(this.eb),c.Yi=!0):c.Yi=!1;ad(this.eb,this.la.Or)};d.prototype.gC=
function(){var a=this.ya,b=this.la;this.Kf?(b.ij===this.Kf&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.ij=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Xr),b.op||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Kf,0)):(b.Ob||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.aC=function(){var a=this.ya,b=this.wd;0===b?(a.clearColor(this.eb[0],this.eb[1],
this.eb[2],this.eb[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.eb[0],this.eb[1],this.eb[2],this.eb[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.jC=function(){var a=this.ya;0!==this.wd?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.eC=function(){var a=this.ya,b=this.la;b.Ob&&a.disable(a.DEPTH_TEST);var c=b.kc[1];a.useProgram(c.bn);!c.Yi&&c.Bp&&(c.Ju(b.Or),c.Yi=!0);a.enableVertexAttribArray(c.Af);
a.bindBuffer(a.ARRAY_BUFFER,b.Pt);a.vertexAttribPointer(c.Af,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.wd/4,this.te);c=b.Uj;a.useProgram(c.bn);0<=c.Af&&(a.enableVertexAttribArray(c.Af),a.bindBuffer(a.ARRAY_BUFFER,b.En[b.Rg]),a.vertexAttribPointer(c.Af,b.Ob?3:2,a.FLOAT,!1,0,0));0<=c.di&&(a.enableVertexAttribArray(c.di),a.bindBuffer(a.ARRAY_BUFFER,b.mn[b.Rg]),a.vertexAttribPointer(c.di,2,a.FLOAT,!1,0,0));b.Ob&&a.enable(a.DEPTH_TEST)};d.prototype.mC=function(){var a=this.ya,b=this.la,c=b.kc[this.wd];
b.Rv=this.wd;b.Uj=c;a.useProgram(c.bn);!c.Yi&&c.Bp&&(c.Ju(b.Or),c.Yi=!0);c.yk&&c.Fp!==b.vo&&(c.Fp=b.vo,a.uniform1f(c.yk,b.vo));0<=c.Af&&(a.enableVertexAttribArray(c.Af),a.bindBuffer(a.ARRAY_BUFFER,b.En[b.Rg]),a.vertexAttribPointer(c.Af,b.Ob?3:2,a.FLOAT,!1,0,0));0<=c.di&&(a.enableVertexAttribArray(c.di),a.bindBuffer(a.ARRAY_BUFFER,b.mn[b.Rg]),a.vertexAttribPointer(c.di,2,a.FLOAT,!1,0,0))};d.prototype.iC=function(){var a=this.eb;this.ya.uniform4f(this.la.Uj.kt,a[0],a[1],a[2],a[3])};d.prototype.nC=function(){var a,
b,c=this.la.Uj,k=this.ya;a=this.eb;c.Bm&&this.la.ij!==this.Kf&&(k.activeTexture(k.TEXTURE1),k.bindTexture(k.TEXTURE_2D,this.Kf),this.la.ij=this.Kf,k.activeTexture(k.TEXTURE0));var d=a[0];c.mt&&d!==c.gx&&(c.gx=d,k.uniform1f(c.mt,d));d=a[1];c.lt&&d!==c.cx&&(c.cx=d,k.uniform1f(c.lt,d));d=a[2];b=a[3];!c.oj||d===c.Yw&&b===c.Zw||(c.Yw=d,c.Zw=b,k.uniform2f(c.oj,d,b));d=a[4];b=a[5];!c.nj||d===c.Ww&&b===c.Xw||(c.Ww=d,c.Xw=b,k.uniform2f(c.nj,d,b));d=a[6];c.Am&&d!==c.ax&&(c.ax=d,k.uniform1f(c.Am,d));d=a[7];
c.zm&&d!==c.$w&&(c.$w=d,k.uniform1f(c.zm,d));d=a[8];b=a[9];!c.Em||d===c.kx&&b===c.mx||(c.kx=d,c.mx=b,k.uniform2f(c.Em,d,b));d=a[10];b=a[11];!c.Cm||d===c.hx&&b===c.ix||(c.hx=d,c.ix=b,k.uniform2f(c.Cm,d,b));d=a[12];c.Dm&&d!==c.jx&&(c.jx=d,k.uniform1f(c.Dm,d));if(c.Ta.length)for(a=0,b=c.Ta.length;a<b;a++)d=this.xy[a],d!==c.Xs[a]&&(c.Xs[a]=d,k.uniform1f(c.Ta[a][1],d))};a.prototype.fe=function(){this.pf===this.Sf.length&&this.Sf.push(new d(0,this));return this.Sf[this.pf++]};a.prototype.vg=function(){if(0!==
this.pf&&!this.ya.isContextLost()){var a=this.ya;0<this.Jk&&(a.bindBuffer(a.ARRAY_BUFFER,this.Pt),a.bufferSubData(a.ARRAY_BUFFER,0,this.Qt.subarray(0,this.Jk)),b&&0<=b.Af&&"<point>"===b.name&&a.vertexAttribPointer(b.Af,4,a.FLOAT,!1,0,0));if(0<this.Mf){var b=this.Uj;a.bindBuffer(a.ARRAY_BUFFER,this.En[this.Rg]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Fn.subarray(0,this.Mf));b&&0<=b.Af&&"<point>"!==b.name&&a.vertexAttribPointer(b.Af,this.Ob?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.mn[this.Rg]);
a.bufferSubData(a.ARRAY_BUFFER,0,this.nn.subarray(0,this.wi));b&&0<=b.di&&"<point>"!==b.name&&a.vertexAttribPointer(b.di,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.pf;a<b;a++)switch(c=this.Sf[a],c.type){case 1:c.fC();break;case 2:c.oC();break;case 3:c.lC();break;case 4:c.hC();break;case 5:c.rC();break;case 6:c.gC();break;case 7:c.aC();break;case 8:c.eC();break;case 9:c.mC();break;case 10:c.nC();break;case 11:c.pC();break;case 12:c.iC();break;case 13:c.jC();break;case 14:c.kC()}this.Jk=this.wi=this.Mf=
this.pf=0;this.op=this.qd=this.Rc=!1;this.Rg++;4<=this.Rg&&(this.Rg=0)}};a.prototype.qh=function(a){if(a!==this.Ow&&!this.Ul){var b=this.fe();b.type=3;this.Ow=b.Jx=a;this.qd=this.Rc=!1}};a.prototype.ge=function(a){if(a!==this.$h){var b=this.fe();b.type=2;this.$h=b.Kf=a;this.qd=this.Rc=!1}};a.prototype.si=function(a,b){if((a!==this.Pw||b!==this.Nw)&&!this.Ul){var c=this.fe();c.type=4;c.wd=a;c.te=b;this.Pw=a;this.Nw=b;this.qd=this.Rc=!1}};a.prototype.iy=function(){this.si(this.ya.ONE,this.ya.ONE_MINUS_SRC_ALPHA)};
a.prototype.Kk=function(a,b,c,k,d,e,f,g){15992<=this.Mf&&this.vg();var t=this.Mf,p=this.wi,u=this.Fn,x=this.nn,z=this.wo;if(this.Rc)this.Sf[this.pf-1].te+=6;else{var D=this.fe();D.type=1;D.wd=this.Ob?t:t/2*3;D.te=6;this.Rc=!0;this.qd=!1}this.Ob?(u[t++]=a,u[t++]=b,u[t++]=z,u[t++]=c,u[t++]=k,u[t++]=z,u[t++]=d,u[t++]=e,u[t++]=z,u[t++]=f,u[t++]=g,u[t++]=z):(u[t++]=a,u[t++]=b,u[t++]=c,u[t++]=k,u[t++]=d,u[t++]=e,u[t++]=f,u[t++]=g);x[p++]=0;x[p++]=0;x[p++]=1;x[p++]=0;x[p++]=1;x[p++]=1;x[p++]=0;x[p++]=1;
this.Mf=t;this.wi=p};a.prototype.ag=function(a,b,c,k,d,e,f,g,t){15992<=this.Mf&&this.vg();var p=this.Mf,u=this.wi,x=this.Fn,z=this.nn,D=this.wo;if(this.Rc)this.Sf[this.pf-1].te+=6;else{var B=this.fe();B.type=1;B.wd=this.Ob?p:p/2*3;B.te=6;this.Rc=!0;this.qd=!1}var B=t.left,E=t.top,C=t.right;t=t.bottom;this.Ob?(x[p++]=a,x[p++]=b,x[p++]=D,x[p++]=c,x[p++]=k,x[p++]=D,x[p++]=d,x[p++]=e,x[p++]=D,x[p++]=f,x[p++]=g,x[p++]=D):(x[p++]=a,x[p++]=b,x[p++]=c,x[p++]=k,x[p++]=d,x[p++]=e,x[p++]=f,x[p++]=g);z[u++]=
B;z[u++]=E;z[u++]=C;z[u++]=E;z[u++]=C;z[u++]=t;z[u++]=B;z[u++]=t;this.Mf=p;this.wi=u};a.prototype.ZE=function(a,b,c,k,d,e,f,g,t,p,u,x,z,D,B,E){15992<=this.Mf&&this.vg();var C=this.Mf,w=this.wi,y=this.Fn,G=this.nn,I=this.wo;if(this.Rc)this.Sf[this.pf-1].te+=6;else{var T=this.fe();T.type=1;T.wd=this.Ob?C:C/2*3;T.te=6;this.Rc=!0;this.qd=!1}this.Ob?(y[C++]=a,y[C++]=b,y[C++]=I,y[C++]=c,y[C++]=k,y[C++]=I,y[C++]=d,y[C++]=e,y[C++]=I,y[C++]=f,y[C++]=g,y[C++]=I):(y[C++]=a,y[C++]=b,y[C++]=c,y[C++]=k,y[C++]=
d,y[C++]=e,y[C++]=f,y[C++]=g);G[w++]=t;G[w++]=p;G[w++]=u;G[w++]=x;G[w++]=z;G[w++]=D;G[w++]=B;G[w++]=E;this.Mf=C;this.wi=w};a.prototype.ME=function(a,b,c,k){7996<=this.Jk&&this.vg();var d=this.Jk,e=this.Qt;if(this.qd)this.Sf[this.pf-1].te++;else{var f=this.fe();f.type=8;f.wd=d;f.te=1;this.qd=!0;this.Rc=!1}e[d++]=a;e[d++]=b;e[d++]=c;e[d++]=k;this.Jk=d};a.prototype.Ae=function(a){if(this.mm!==a){if(!this.kc[a]){if(0===this.mm)return;a=0}var b=this.fe();b.type=9;this.mm=b.wd=a;this.qd=this.Rc=!1}};a.prototype.Rm=
function(a){a=this.kc[a];return!(!a.oj&&!a.nj)};a.prototype.Tt=function(a){a=this.kc[a];return!!(a.oj||a.nj||a.Nr)};a.prototype.St=function(a){return this.kc[a].Ef};a.prototype.VE=function(a){a=this.kc[a];return 0!==a.Fo||0!==a.Go};a.prototype.AD=function(a){return this.kc[a].Fo};a.prototype.BD=function(a){return this.kc[a].Go};a.prototype.CD=function(a,b){return this.kc[a].Ta[b][2]};a.prototype.hq=function(a){return this.kc[a].Br};a.prototype.Ok=function(a,b,c,k,d,e,f,g,t,p,u,x,z,D,B){var E=this.kc[this.mm],
C,w;if(E.WD||B.length){C=this.fe();C.type=10;C.eb?ad(this.bf,C.eb):C.eb=$c();w=C.eb;w[0]=b;w[1]=c;w[2]=k;w[3]=d;w[4]=e;w[5]=f;w[6]=g;w[7]=t;w[8]=p;w[9]=u;w[10]=x;w[11]=z;w[12]=D;E.Bm?C.Kf=a:C.Kf=null;if(B.length)for(c=C.xy,c.length=B.length,a=0,b=B.length;a<b;a++)c[a]=B[a];this.qd=this.Rc=!1}};a.prototype.clear=function(a,b,c,k){var d=this.fe();d.type=7;d.wd=0;d.eb||(d.eb=$c());d.eb[0]=a;d.eb[1]=b;d.eb[2]=c;d.eb[3]=k;this.qd=this.Rc=!1};a.prototype.clearRect=function(a,b,c,k){if(!(0>c||0>k)){var d=
this.fe();d.type=7;d.wd=1;d.eb||(d.eb=$c());d.eb[0]=a;d.eb[1]=b;d.eb[2]=c;d.eb[3]=k;this.qd=this.Rc=!1}};a.prototype.my=function(a){if(this.Ob&&(a=!!a,this.Ul!==a)){var b=this.fe();b.type=14;b.wd=a?1:0;this.qd=this.Rc=!1;this.Ul=a;this.lq=null;this.Ul?this.Ae(2):this.Ae(0)}};a.prototype.ky=function(a){if(this.Ob){var b=this.fe();b.type=13;b.wd=a?1:0;this.qd=this.Rc=!1}};a.prototype.gw=function(){ad(this.Zs,g);this.Gf();this.hf();var a=this.width/2,b=this.height/2;this.Kk(-a,b,a,b,a,-b,-a,-b);ad(g,
this.bf);this.hf()};a.prototype.jy=function(a,b,c){this.Ae(3);var k=this.fe();k.type=12;k.eb||(k.eb=$c());k.eb[0]=a;k.eb[1]=b;k.eb[2]=c;k.eb[3]=1;this.qd=this.Rc=!1};a.prototype.sF=function(){this.Ae(0)};a.prototype.dF=function(){this.Ae(2)};a.prototype.SE=function(){this.vg();this.ya.flush()};var e=[],f={};a.prototype.QB=function(){H(e);f={}};a.prototype.vk=function(a,b,c,k){b=!!b;c=!!c;var d=a.src+","+b+","+c+(b?",undefined":""),g=null;if("undefined"!==typeof a.src&&f.hasOwnProperty(d))return g=
f[d],g.fo++,g;this.vg();var r=this.ya,v=pa(a.width)&&pa(a.height),g=r.createTexture();r.bindTexture(r.TEXTURE_2D,g);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var t=r.RGBA,p=r.RGBA,u=r.UNSIGNED_BYTE;if(k&&!this.$g)switch(k){case 1:p=t=r.RGB;break;case 2:u=r.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=r.UNSIGNED_SHORT_5_5_5_1;break;case 4:p=t=r.RGB,u=r.UNSIGNED_SHORT_5_6_5}if(!v&&b){k=document.createElement("canvas");k.width=ra(a.width);k.height=ra(a.height);var x=k.getContext("2d");x.webkitImageSmoothingEnabled=
c;x.mozImageSmoothingEnabled=c;x.msImageSmoothingEnabled=c;x.imageSmoothingEnabled=c;x.drawImage(a,0,0,a.width,a.height,0,0,k.width,k.height);r.texImage2D(r.TEXTURE_2D,0,t,p,u,k)}else r.texImage2D(r.TEXTURE_2D,0,t,p,u,a);b?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE));c?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,
r.LINEAR),v&&this.Yv?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.generateMipmap(r.TEXTURE_2D)):r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST));r.bindTexture(r.TEXTURE_2D,null);this.$h=null;g.Mi=a.width;g.Li=a.height;g.fo=1;g.Lv=d;e.push(g);return f[d]=g};a.prototype.Ie=function(a,b,c,k,d){this.vg();var f=this.ya;this.$g&&(k=!1);var g=
f.createTexture();f.bindTexture(f.TEXTURE_2D,g);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,b,0,f.RGBA,k?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);d?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,c?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,
c?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.$h=null;g.Mi=a;g.Li=b;e.push(g);return g};a.prototype.fz=function(a,b,c){this.vg();var k=this.ya;this.$g&&(c=!1);k.bindTexture(k.TEXTURE_2D,b);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,c?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,a)}catch(d){console&&console.error&&console.error("Error updating WebGL texture: ",d)}k.bindTexture(k.TEXTURE_2D,null);this.$h=null};a.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.fo&&1<a.fo?a.fo--:(this.vg(),a===this.$h&&(this.ya.bindTexture(this.ya.TEXTURE_2D,null),this.$h=null),a===this.ij&&(this.ya.activeTexture(this.ya.TEXTURE1),this.ya.bindTexture(this.ya.TEXTURE_2D,null),this.ya.activeTexture(this.ya.TEXTURE0),this.ij=null),La(e,a),"undefined"!==typeof a.Lv&&delete f[a.Lv],this.ya.deleteTexture(a)))};a.prototype.Hf=function(a){if(a!==this.lq){var b=this.fe();b.type=6;this.lq=b.Kf=a;this.qd=this.Rc=!1}};Yb=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Je=(this.Tl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Id=!!a.dc;this.Ew="undefined"!==typeof window.AppMobi||
this.Id;this.yf=!!window.c2cocoonjs;this.Xf=!!window.c2ejecta;this.yf&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Xf&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.cb=this.Id||this.yf||this.Xf;this.Wl=
/edge\//i.test(navigator.userAgent);this.$g=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Wl;this.Hw=/tizen/i.test(navigator.userAgent);this.mp=/android/i.test(navigator.userAgent)&&!this.Hw&&!this.$g&&!this.Wl;this.Lw=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.$g&&!this.Wl;this.nE=/ipad/i.test(navigator.userAgent);this.mk=this.Lw||this.nE||this.Xf;this.Sl=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.$g&&!this.Wl;this.Ks=/amazonwebappplatform/i.test(navigator.userAgent);this.fE=/firefox/i.test(navigator.userAgent);this.kE=/safari/i.test(navigator.userAgent)&&!this.Sl&&!this.$g&&!this.Wl;this.lE=/windows/i.test(navigator.userAgent);this.Xh="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Iw=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Jw=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.hk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ss=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Rs=!!window.cr_windows10;this.Qs=this.Iw||this.Jw||this.Ss||this.Rs;this.dE=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.np=this.mp&&!this.Sl&&!this.Tl&&!this.fE&&!this.Ks&&!this.cb;this.devicePixelRatio=
1;this.ah=this.Je||this.Tl||this.Ew||this.yf||this.mp||this.mk||this.hk||this.Ss||this.dE||this.Hw||this.Xf;this.ah||(this.ah=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Zl=!!(this.mk&&this.Je&&window.indexedDB);this.As=null;this.YD="";this.Zl&&(this.As=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Xh||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.Xh=!0);this.canvas=a;this.Rj=document.getElementById("c2canvasdiv");this.la=this.ya=null;this.vs="(unavailable)";this.Ob=!1;this.Ri=0;this.Ab=null;this.bs="";this.Mo=!1;this.Dx=this.Ex=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Id&&(window.c2runtime=this);this.Xh&&(window.ondragover=function(a){a.preventDefault();return!1},
window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.np&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.Ga=this.width;this.Fa=this.height;this.so=this.width;this.tl=this.height;this.rk=window.innerWidth;this.qk=window.innerHeight;this.iD=!1;this.Ua=!0;this.ej=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types=
{};this.ua=[];this.cc=[];this.gt={};this.Yf=[];this.Wr={};this.Vg=[];this.$k=[];this.Oq=[];this.sr=[];this.DB=[];this.Mw=this.Dy=null;this.Qi={};this.Ms=this.Wh=!1;this.Ze=0;this.Ls=this.Os=!1;this.Uf=[];this.Vl=!1;this.eh=this.Ld=this.yp=this.hu="";this.jn=this.By=!1;this.Lo=[];this.Rh=this.Xa=0;this.qx=30;this.Mr=this.Fm=0;this.fg=1;this.bd=new Bb;this.yh=new Bb;this.Mp=this.To=this.Ui=this.gf=this.kj=this.$r=this.vp=0;this.ol=null;this.Co=[];this.Vr=[];this.Eo=-1;this.nt=[[]];this.Eu=this.Cp=0;
this.iq(null);this.pt=[];this.Ep=-1;this.Al=this.zx=this.Jm=0;this.kn=[];this.Bu=this.Xt=-1;this.em=!0;this.xk=0;this.Xl=!1;this.wF=0;this.Pj=null;this.Qb=this.bp=!1;this.Ct=new ca;this.Dt=new ca;this.Et=new ca;this.Wm=[];this.dg=new Eb([]);this.vu=new Eb([]);this.Nj=[];this.ck={};this.Mh={};this.Gh={};this.Zk={};this.Iv={};this.Sw=this.xp=this.Dc=this.Sc=this.Rw=this.wp=this.Mb=null;this.Xk=this.Ts=!1;this.cs=[null,null];this.Vi=0;this.Yr="";this.kh={};this.gn=this.bi=null;this.Cy="";this.Lp=[];
this.cF()}}function c(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function g(a,b,c,k){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=k;e.onsuccess=function(d){d=d.target.result;d.onerror=k;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}catch(f){k(f)}}function e(a,b,c){try{var k=indexedDB.open("_C2SaveStates");
k.onupgradeneeded=d;k.onerror=c;k.onsuccess=function(k){k=k.target.result;k.onerror=c;var d=k.transaction(["saves"]).objectStore("saves").get(a);d.onsuccess=function(){d.result?b(d.result.data):b(null)}}}catch(e){c(e)}}function f(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function h(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof
ca||a[b]&&"undefined"!==typeof a[b].sg||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.cF=function(){var a=this;if(this.Zl)this.As?this.As.startServer({port:0,localhost_only:!0},function(b){a.YD=b;a.dw(function(b){a.uk(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+
a)}):this.dw(function(b){a.uk(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.hk?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.Iw||this.hk||this.Ss||this.Rs)c="data.json";b.open("GET",c,!0);var k=!1;if(!this.cb&&"response"in b&&"responseType"in b)try{b.responseType="json",k="json"===b.responseType}catch(d){k=!1}if(!k&&"responseType"in b)try{b.responseType="text"}catch(e){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.hk?
b.onreadystatechange=function(){4===b.readyState&&a.uk(JSON.parse(b.responseText))}:(b.onload=function(){if(k)a.uk(b.response);else if(a.Xf){var c=b.responseText,c=c.substr(c.indexOf("{"));a.uk(JSON.parse(c))}else a.uk(JSON.parse(b.responseText))},b.onerror=function(a){ja("Error requesting "+c+":");ja(a)});b.send()}};a.prototype.aE=function(){var a=this,b,c,k,d,e,f,g,l,h;this.cj=(!this.cb||this.Xf||this.Je)&&this.IF&&!this.np;0===this.Xd&&this.mk&&(this.cj=!1);this.devicePixelRatio=this.cj?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.yd();c=!(!this.iD&&(!this.ur||this.Xh||this.Qs||this.hk||this.Tl||this.Je||this.Ks));0<this.Xd&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.zC&&(this.yf||this.Xf||!this.cb)&&(b={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.ya=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(n){}if(this.ya){if(b=this.ya.getExtension("WEBGL_debug_renderer_info"))this.vs=
this.ya.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.ya.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Ob&&(this.vs+=" [front-to-back enabled]");this.cb||(this.rd=document.createElement("canvas"),jQuery(this.rd).appendTo(this.canvas.parentNode),this.rd.oncontextmenu=function(){return!1},this.rd.onselectstart=function(){return!1},this.rd.width=Math.round(this.so*this.devicePixelRatio),this.rd.height=Math.round(this.tl*this.devicePixelRatio),jQuery(this.rd).css({width:this.so+"px",height:this.tl+
"px"}),this.Vx(),this.Ot=this.rd.getContext("2d"));this.la=new Yb(this.ya,this.ah,this.Ob);this.la.Bj(this.canvas.width,this.canvas.height);this.la.Yv=0!==this.sC;this.Ab=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.DE();fa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.la.zw();a.la.Bj(a.la.width,a.la.height,!0);a.Sc=null;a.Dc=null;a.cs[0]=null;a.cs[1]=null;a.EE();a.Ua=!0;
fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(c=this.ua.length;b<c;b++)for(e=this.ua[b],k=0,d=e.Qa.length;k<d;k++)g=e.Qa[k],g.Ic=this.la.rs(g.id),g.Ef=this.la.St(g.Ic),this.Xk=this.Xk||this.la.Rm(g.Ic);b=0;for(c=this.Yf.length;b<c;b++){l=this.Yf[b];k=0;for(d=l.Qa.length;k<d;k++)g=l.Qa[k],g.Ic=this.la.rs(g.id),g.Ef=this.la.St(g.Ic);l.hg();k=0;for(d=l.Sa.length;k<d;k++){h=l.Sa[k];e=0;for(f=h.Qa.length;e<f;e++)g=h.Qa[e],g.Ic=this.la.rs(g.id),g.Ef=this.la.St(g.Ic),
this.Xk=this.Xk||this.la.Rm(g.Ic);h.hg()}}}else{if(0<this.Xd&&this.Id){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ab=AppMobi.canvas.getContext("2d");try{this.Ab.samplingMode=this.Ya?"smooth":"sharp",this.Ab.globalScale=1,this.Ab.HTML5CompatibilityMode=!0,this.Ab.imageSmoothingEnabled=this.Ya}catch(m){}0!==this.width&&0!==this.height&&(this.Ab.width=this.width,this.Ab.height=this.height)}this.Ab||(this.yf?(b={antialias:!!this.Ya,alpha:c},
this.Ab=this.canvas.getContext("2d",b)):(b={alpha:c},this.Ab=this.canvas.getContext("2d",b)),this.Ab.webkitImageSmoothingEnabled=this.Ya,this.Ab.mozImageSmoothingEnabled=this.Ya,this.Ab.msImageSmoothingEnabled=this.Ya,this.Ab.imageSmoothingEnabled=this.Ya);this.Ot=this.rd=null}this.My=function(b){a.mb(!1,b)};window==window.top||this.cb||this.Qs||this.hk||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==
typeof cr_is_preview&&(this.yf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.yp="__c2_continuouspreview",this.jn=!0),this.KE&&!this.ah&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){a.vj()});this.cb||(b=function(a){if(Xb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Xd&&this.cj&&1<this.devicePixelRatio&&this.setSize(this.Gc,this.Fc,!0);this.Vy();this.SD();this.go();this.ma={}};a.prototype.setSize=function(a,b,c){var k=0,d=0,e=0,f=0,f=0;if(this.rk!==
a||this.qk!==b||c){this.rk=a;this.qk=b;var g=this.Xd,l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Xl)&&!this.Je;if(l||0!==this.Xd||c)l&&0<this.Vi&&(g=this.Vi),c=this.devicePixelRatio,4<=g?(e=this.Gc/this.Fc,a/b>e?(e*=b,5===g?(f=e*c/this.Gc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),e=this.Gc*f/c,f=this.Fc*f/c,k=(a-e)/2,d=(b-f)/2,a=e,b=f):(k=(a-e)/2,a=e)):(f=a/e,5===g?(f=f*c/this.Fc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),
e=this.Gc*f/c,f=this.Fc*f/c,k=(a-e)/2,d=(b-f)/2,a=e):d=(b-f)/2,b=f),l&&!this.Xh&&(d=k=0)):this.Xh&&this.Xl&&0===this.hw&&(k=Math.floor((a-this.Gc)/2),d=Math.floor((b-this.Fc)/2),a=this.Gc,b=this.Fc),2>g&&(this.ml=c),this.so=Math.round(a),this.tl=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.Ua=!0,this.gz?(this.Ga=this.width,this.Fa=this.height,this.Ve=!0):this.width<this.Gc&&this.height<this.Fc||1===g?(this.Ga=this.width,this.Fa=this.height,this.Ve=!0):(this.Ga=this.Gc,
this.Fa=this.Fc,this.Ve=!1,2===g?(e=this.Gc/this.Fc,g=this.rk/this.qk,g<e?this.Ga=this.Fa*g:g>e&&(this.Fa=this.Ga/g)):3===g&&(e=this.Gc/this.Fc,g=this.rk/this.qk,g>e?this.Ga=this.Fa*g:g<e&&(this.Fa=this.Ga/g))),this.Rj&&!this.cb&&(jQuery(this.Rj).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(k)+"px","margin-top":Math.floor(d)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=
Math.round(a*c),this.canvas.height=Math.round(b*c),this.Xf?(this.canvas.style.left=Math.floor(k)+"px",this.canvas.style.top=Math.floor(d)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.cj&&!this.cb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.rd&&(this.rd.width=Math.round(a*c),this.rd.height=Math.round(b*c),this.rd.style.width=this.so+"px",this.rd.style.height=this.tl+"px"),this.la&&this.la.Bj(Math.round(a*
c),Math.round(b*c)),this.Id&&this.Ab&&(this.Ab.width=Math.round(a),this.Ab.height=Math.round(b)),this.Ab&&(this.Ab.webkitImageSmoothingEnabled=this.Ya,this.Ab.mozImageSmoothingEnabled=this.Ya,this.Ab.msImageSmoothingEnabled=this.Ya,this.Ab.imageSmoothingEnabled=this.Ya),this.Vy(),this.Lw&&!this.Je&&window.scrollTo(0,0)}};a.prototype.Vy=function(){if(this.HB&&0!==this.Mt){var a="portrait";2===this.Mt&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};a.prototype.DE=function(){this.la.QB();this.Ts=!0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Hk&&c.Hk()};a.prototype.EE=function(){this.Ts=!1;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Mm&&c.Mm()};
a.prototype.Vx=function(){if(!this.cb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Xl)&&!this.Je?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.rd).css(a)}};var l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.ej)for(fa("[Construct 2] Suspending"),
this.ej=!0,-1!==this.Xt&&l&&l(this.Xt),-1!==this.Bu&&clearTimeout(this.Bu),a=0,b=this.kn.length;a<b;a++)this.kn[a](!0);else if(!a&&this.ej){fa("[Construct 2] Resuming");this.ej=!1;this.vp=tb();this.kj=tb();a=this.Fm=this.To=0;for(b=this.kn.length;a<b;a++)this.kn[a](!1);this.mb(!1)}};a.prototype.rr=function(a){this.kn.push(a)};a.prototype.Dh=function(a){return this.Lp[a]};a.prototype.uk=function(a){a&&a.project||ja("Project model unavailable");a=a.project;this.name=a[0];this.fw=a[1];this.Xd=a[12];
this.hw=a[12];this.Gc=a[10];this.Fc=a[11];this.Qx=this.Gc/2;this.Rx=this.Fc/2;this.cb&&!this.Xf&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.hw=this.Xd=3);this.Mu=a[18];this.ci=a[19];if(0===this.ci){var b=new Image;b.crossOrigin="anonymous";this.ny(b,"loading-logo.png");this.bi={Dp:b}}else if(4===this.ci){b=new Image;b.src="";var c=new Image;c.src="";var k=new Image;k.src="";var d=new Image;d.src=
"";var e=new Image;e.src="";var f=new Image;f.src="";var g=new Image;g.src="";var l=new Image;l.src="";var h=new Image;h.src="";var n=new Image;n.src="";var m=new Image;m.src="";var u=new Image;u.src="";this.bi={Dp:[b,c,k,d],PE:[e,f,g,l],MF:[h,n,m,u]}}this.Jm=a[21];this.Lp=fd();this.Ig=new L(this);b=0;for(c=a[2].length;b<c;b++)g=a[2][b],k=this.Dh(g[0]),Zb(g,k.prototype),l=new k(this),l.zq=g[1],l.Yh=g[2],l.wx=g[9],l.na&&l.na(),this.plugins.push(l);this.Lp=fd();b=0;for(c=a[3].length;b<c;b++){g=a[3][b];
e=this.Dh(g[1]);l=null;k=0;for(d=this.plugins.length;k<d;k++)if(this.plugins[k]instanceof e){l=this.plugins[k];break}h=new l.xa(l);h.name=g[0];h.Aa=g[2];h.Js=g[3].slice(0);h.KF=g[3].length;h.IB=g[4];h.kD=g[5];h.kb=g[11];h.Aa?(h.Ck=[],h.Wg=this.Al++,h.ac=null):(h.Ck=null,h.Wg=-1,h.ac=[]);h.Jo=null;h.Zj=null;h.Zv=null;h.Jd=!1;h.He=null;g[6]?(h.pn=g[6][0],h.qn=g[6][1],h.rn=g[6][2]):(h.pn=null,h.qn=0,h.rn=0);g[7]?h.Fe=g[7]:h.Fe=null;h.index=b;h.G=[];h.yo=[];h.uh=[new $b(h)];h.ug=0;h.uf=null;h.Tv=0;h.Tk=
!0;h.Pq=ac;h.ls=bc;h.yD=dc;h.La=ec;h.Tm=fc;h.Um=gc;h.oi=hc;h.Uo=ic;h.es=jc;h.ks=kc;h.Ge=lc;h.ns=mc;h.pl=new Fb(this.Gc,this.Fc);h.Un=!0;h.Vn=!1;h.ma={};h.toString=nc;h.cc=[];k=0;for(d=g[8].length;k<d;k++){n=g[8][k];m=this.Dh(n[1]);u=null;e=0;for(f=this.cc.length;e<f;e++)if(this.cc[e]instanceof m){u=this.cc[e];break}u||(u=new m(this),u.Jp=[],u.Ip=new ca,u.na&&u.na(),this.cc.push(u),gd&&u instanceof gd&&(this.Dy=u),hd&&u instanceof hd&&(this.Mw=u));-1===u.Jp.indexOf(h)&&u.Jp.push(h);e=new u.xa(u,h);
e.name=n[0];e.kb=n[2];e.na();h.cc.push(e)}h.global=g[9];h.Ns=g[10];h.Qa=[];k=0;for(d=g[12].length;k<d;k++)h.Qa.push({id:g[12][k][0],name:g[12][k][1],Ic:-1,Ef:!1,vc:!0,index:k});h.Jq=g[13];this.Mu&&!h.Aa&&!h.Ns&&l.Yh||h.na();h.name&&(this.types[h.name]=h);this.ua.push(h);l.zq&&(k=new l.ta(h),k.uid=this.Jm++,k.ay=this.zx++,k.$i=0,k.Ll=oc,k.toString=pc,k.U=g[14],k.na(),h.G.push(k),this.kh[k.uid.toString()]=k)}b=0;for(c=a[4].length;b<c;b++)for(e=a[4][b],f=this.ua[e[0]],k=1,d=e.length;k<d;k++)g=this.ua[e[k]],
g.ac.push(f),f.Ck.push(g);b=0;for(c=a[28].length;b<c;b++){e=a[28][b];f=[];k=0;for(d=e.length;k<d;k++)f.push(this.ua[e[k]]);k=0;for(d=f.length;k<d;k++)f[k].Jd=!0,f[k].He=f}if(0<this.Al)for(b=0,c=this.ua.length;b<c;b++)if(g=this.ua[b],!g.Aa&&g.ac.length){g.Jo=Array(this.Al);g.Zj=Array(this.Al);g.Zv=Array(this.Al);h=[];k=u=m=n=0;for(d=g.ac.length;k<d;k++)for(l=g.ac[k],g.Jo[l.Wg]=n,n+=l.KF,g.Zj[l.Wg]=m,m+=l.IB,g.Zv[l.Wg]=u,u+=l.kD,e=0,f=l.Qa.length;e<f;e++)h.push(Ca({},l.Qa[e]));g.Qa=h.concat(g.Qa);k=
0;for(d=g.Qa.length;k<d;k++)g.Qa[k].index=k}b=0;for(c=a[5].length;b<c;b++)g=a[5][b],k=new qc(this,g),this.gt[k.name]=k,this.Yf.push(k);b=0;for(c=a[6].length;b<c;b++)g=a[6][b],k=new rc(this,g),this.Wr[k.name]=k,this.Vg.push(k);b=0;for(c=this.Vg.length;b<c;b++)this.Vg[b].uc();b=0;for(c=this.Vg.length;b<c;b++)this.Vg[b].Iu();b=0;for(c=this.Oq.length;b<c;b++)this.Oq[b].uc();H(this.Oq);this.GB=a[7];this.Yr=a[8];this.xe=a[9];this.ml=1;this.zC=a[13];this.Ya=a[14];this.ur=a[15];this.LF=a[16];this.IF=a[17];
this.Mt=a[20];this.HB=0<this.Mt;this.KE=a[22];this.Ve=this.gz=a[23];this.sC=a[24];this.QE=a[25];this.Ob=a[27]&&!this.$g;this.Dq=Date.now();H(this.Lp);this.aE()};var k=!1;a.prototype.Uq=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){k=a.Kv=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.Xf?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){k=a.Kv=!0;console&&console.error&&console.error("Error extracting image '"+
b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.ny(a,b)));this.$k.push(a)};a.prototype.gD=function(a){var b,c;b=0;for(c=this.$k.length;b<c;b++)if(this.$k[b].TB===a)return this.$k[b];return null};var n=0,q=!1;a.prototype.SD=function(){this.Pj&&(n=this.Pj.qF(this.GB))};a.prototype.Fv=function(){var a=n,b=0,c=0,k=!0,d,e,c=0;for(d=this.$k.length;c<d;c++){e=this.$k[c];var f=e.po;if(!f||0>=f)f=5E4;a+=f;e.src&&(e.complete||e.loaded)&&!e.Kv?b+=f:k=!1}k&&this.QE&&this.Pj&&(q||(this.Pj.xF(),
q=!0),c=this.Pj.zD(),b+=c,c<n&&(k=!1));this.$f=0==a?1:b/a;return k};var r=!1;a.prototype.go=function(){if(this.Ab||this.la){var a=this.Ab||this.Ot;this.rd&&this.Vx();var b=window.innerWidth,c=window.innerHeight;this.rk===b&&this.qk===c||this.setSize(b,c);this.$f=0;this.Qw=-1;var d=this;if(this.Fv()&&(4!==this.ci||r))this.TD();else{c=Date.now()-this.Dq;if(a){var e=this.width,f=this.height,b=this.devicePixelRatio;if(3>this.ci&&(this.yf||500<=c&&this.Qw!=this.$f)){a.clearRect(0,0,e,f);var c=e/2,f=f/
2,e=0===this.ci&&this.bi.Dp.complete,g=40*b,h=0,l=80*b,n;if(e){var u=this.bi.Dp,l=u.width*b;n=u.height*b;g=l/2;h=n/2;a.drawImage(u,wa(c-g),wa(f-h),l,n)}1>=this.ci?(c=wa(c-g)+.5,f=wa(f+(h+(e?12*b:0)))+.5,a.fillStyle=k?"red":"DodgerBlue",a.fillRect(c,f,Math.floor(l*this.$f),6*b),a.strokeStyle="black",a.strokeRect(c,f,l,6*b),a.strokeStyle="white",a.strokeRect(c-1*b,f-1*b,l+2*b,8*b)):2===this.ci&&(a.font=this.Xf?"12pt ArialMT":"12pt Arial",a.fillStyle=k?"#f00":"#999",a.OG="middle",b=Math.round(100*this.$f)+
"%",e=a.measureText?a.measureText(b):null,a.fillText(b,c-(e?e.width:0)/2,f));this.Qw=this.$f}else if(4===this.ci){this.xC(a);m?m(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.yf?10:100)}}};var v=-1,t="undefined"===typeof cr_is_preview?200:0,p=!0,u=!1,x=0,z=0,D="undefined"===typeof cr_is_preview?3E3:0,B=null,E=null,C=0;a.prototype.xC=function(a){if(!r){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),e=this.bi.Dp,f=this.bi.PE,g=this.bi.MF,
h=0;4>h;++h)if(!e[h].complete||!f[h].complete||!g[h].complete)return;0===C&&(v=Date.now());var h=Date.now(),l=!1,n=a,m,q;p||u?(a.clearRect(0,0,b,d),B&&B.width===b&&B.height===d||(B=document.createElement("canvas"),B.width=b,B.height=d,E=B.getContext("2d")),n=E,l=!0,p&&1===C&&(v=Date.now())):a.globalAlpha=1;n.fillStyle="#333333";n.fillRect(0,0,b,d);256<this.tl?(m=Oa(.22*d,105,.6*b),q=.25*m,n.drawImage(c(f,m),.5*b-m/2,.2*d-q/2,m,q),q=m=Math.min(.395*d,.95*b),n.drawImage(c(e,m),.5*b-m/2,.485*d-q/2,m,
q),m=Oa(.22*d,105,.6*b),q=.25*m,n.drawImage(c(g,m),.5*b-m/2,.868*d-q/2,m,q),n.fillStyle="#3C3C3C",m=b,q=Math.max(.005*d,2),n.fillRect(0,.8*d-q/2,m,q),n.fillStyle=k?"red":"#E0FF65",m=b*this.$f,n.fillRect(.5*b-m/2,.8*d-q/2,m,q)):(q=m=.55*d,n.drawImage(c(e,m),.5*b-m/2,.45*d-q/2,m,q),n.fillStyle="#3C3C3C",m=b,q=Math.max(.005*d,2),n.fillRect(0,.85*d-q/2,m,q),n.fillStyle=k?"red":"#E0FF65",m=b*this.$f,n.fillRect(.5*b-m/2,.85*d-q/2,m,q));l&&(p?a.globalAlpha=0===C?0:Math.min((h-v)/300,1):u&&(a.globalAlpha=
Math.max(1-(h-z)/300,0)),a.drawImage(B,0,0,b,d));p&&300<=h-v&&2<=C&&(p=!1,x=h);!p&&h-x>=D&&!u&&1<=this.$f&&(u=!0,z=h);if(u&&h-z>=300+t||"undefined"!==typeof cr_is_preview&&1<=this.$f&&500>Date.now()-v)r=!0,u=p=!1,this.bi=E=B=null;++C}};a.prototype.TD=function(){this.rd&&(this.canvas.parentNode.removeChild(this.rd),this.rd=this.Ot=null);this.Dq=Date.now();this.kj=tb();var a,b,c;if(this.Mu)for(a=0,b=this.ua.length;a<b;a++)c=this.ua[a],c.Aa||c.Ns||!c.fb.Yh||c.na();else this.em=!1;a=0;for(b=this.Yf.length;a<
b;a++)this.Yf[a].UB();2<=this.Xd&&(a=this.Gc/this.Fc,b=this.width/this.height,this.ml=2!==this.Xd&&b>a||2===this.Xd&&b<a?this.height/this.Fc:this.width/this.Gc);this.fw?this.gt[this.fw].tu():this.Yf[0].tu();this.Mu||(this.xk=1,this.trigger(L.prototype.H.jv,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.CE&&c.CE();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.mb(!1);this.Id&&AppMobi.webview.execute("onGameReady();")};a.prototype.mb=function(a,b,c){if(this.Mb){var k=tb();if(c||!this.ej||a){a||(m?this.Xt=m(this.My):this.Bu=setTimeout(this.My,this.ah?1:16));b=b||k;var d=this.Xd;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Je)||this.Xl)&&0<this.Vi&&(d=this.Vi);if(0<d){var d=window.innerWidth,e=window.innerHeight;this.rk===d&&this.qk===e||this.setSize(d,e)}this.cb||(c?(this.Mo||(this.bs=
jQuery(this.canvas).css("margin")||"0",this.Mo=!0),this.Sl||this.Xh||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Mo?(this.Sl||this.Xh||jQuery(this.canvas).css("margin",this.bs),this.bs="",this.Mo=!1,0===this.Xd&&this.setSize(Math.round(this.Ex/this.devicePixelRatio),Math.round(this.Dx/this.devicePixelRatio),!0)):(this.Ex=this.width,this.Dx=this.height));
this.em&&(c=this.Fv(),this.xk=this.$f,c&&(this.em=!1,this.$f=1,this.trigger(L.prototype.H.jv,null)));this.rE(b);!this.Ua&&!this.yf||this.Ts||this.jn||a||(this.Ua=!1,this.la?this.zc():this.Wd(),this.gn&&(this.canvas&&this.canvas.toDataURL&&(this.Cy=this.canvas.toDataURL(this.gn[0],this.gn[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Cy),this.trigger(L.prototype.H.bA,null)),this.gn=null));this.DG||(this.gf++,this.Ui++,this.To++);this.Fm+=tb()-k}}};a.prototype.rE=function(a){var b,c,k,d,e,f,g,
h;1E3<=a-this.kj&&(this.kj+=1E3,1E3<=a-this.kj&&(this.kj=a),this.$r=this.To,this.To=0,this.Mr=this.Fm,this.Fm=0);b=0;0!==this.vp&&(b=a-this.vp,0>b&&(b=0),this.Rh=b/=1E3,.5<this.Rh?this.Rh=0:this.Rh>1/this.qx&&(this.Rh=1/this.qx));this.vp=a;this.Xa=this.Rh*this.fg;this.bd.add(this.Xa);this.yh.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Xl)&&!this.Je;2<=this.Xd||a&&0<this.Vi?(b=this.Gc/this.Fc,c=this.width/this.height,k=this.Xd,
a&&0<this.Vi&&(k=this.Vi),this.ml=2!==k&&c>b||2===k&&c<b?this.height/this.Fc:this.width/this.Gc,this.Mb&&(this.Mb.iu(this.Mb.scrollX),this.Mb.ju(this.Mb.scrollY))):this.ml=this.cj?this.devicePixelRatio:1;this.yd();this.Ze++;this.Ig.hF();this.Ze--;this.yd();this.Ze++;c=this.Ct.ig();a=0;for(b=c.length;a<b;a++)c[a].TE();a=0;for(b=this.ua.length;a<b;a++)if(f=this.ua[a],!f.Aa&&(f.cc.length||f.ac.length))for(c=0,k=f.G.length;c<k;c++)for(g=f.G[c],d=0,e=g.Ja.length;d<e;d++)g.Ja[d].mb();a=0;for(b=this.ua.length;a<
b;a++)if(f=this.ua[a],!f.Aa&&(f.cc.length||f.ac.length))for(c=0,k=f.G.length;c<k;c++)for(g=f.G[c],d=0,e=g.Ja.length;d<e;d++)h=g.Ja[d],h.Xx&&h.Xx();c=this.Dt.ig();a=0;for(b=c.length;a<b;a++)c[a].mb();this.Ze--;this.VD();for(a=0;this.ol&&10>a++;)this.Xv(this.ol);a=0;for(b=this.Vg.length;a<b;a++)this.Vg[a].zs=!1;this.Mb.Si&&this.Mb.Si.Hc();H(this.Wm);this.Ze++;a=0;for(b=this.ua.length;a<b;a++)if(f=this.ua[a],!f.Aa&&(f.cc.length||f.ac.length))for(c=0,k=f.G.length;c<k;c++)for(g=f.G[c],d=0,e=g.Ja.length;d<
e;d++)h=g.Ja[d],h.sn&&h.sn();c=this.Et.ig();a=0;for(b=c.length;a<b;a++)c[a].sn();this.Ze--};a.prototype.vj=function(){var a,b,c,k,d,e,f,g,h;a=0;for(b=this.ua.length;a<b;a++)if(f=this.ua[a],!f.Aa)for(c=0,k=f.G.length;c<k;c++)if(g=f.G[c],g.vj&&g.vj(),g.Ja)for(d=0,e=g.Ja.length;d<e;d++)h=g.Ja[d],h.vj&&h.vj()};a.prototype.Xv=function(a){var b=this.Mb;this.Mb.zF();var c,k,d;if(this.la)for(c=0,k=this.ua.length;c<k;c++)d=this.ua[c],d.Aa||!d.wn||d.global&&0!==d.G.length||-1!==a.Ql.indexOf(d)||d.wn();b==a&&
H(this.Ig.Re);H(this.Wm);this.fy(!0);a.tu();this.fy(!1);this.Ua=!0;this.yd()};a.prototype.fy=function(a){var b,c,k,d,e,f,g,h,l;b=0;for(c=this.cc.length;b<c;b++)k=this.cc[b],a?k.Km&&k.Km():k.Lm&&k.Lm();b=0;for(c=this.ua.length;b<c;b++)if(k=this.ua[b],k.global||k.fb.zq)for(d=0,e=k.G.length;d<e;d++)if(f=k.G[d],a?f.Km&&f.Km():f.Lm&&f.Lm(),f.Ja)for(g=0,h=f.Ja.length;g<h;g++)l=f.Ja[g],a?l.Km&&l.Km():l.Lm&&l.Lm()};a.prototype.UE=function(a){this.Ct.add(a)};a.prototype.yi=function(a){this.Dt.add(a)};a.prototype.BF=
function(a){this.Et.add(a)};a.prototype.yg=function(a){return a&&-1!==a.Im?this.Rh*a.Im:this.Xa};a.prototype.Wd=function(){this.Mb.Wd(this.Ab);this.Id&&this.Ab.present()};a.prototype.zc=function(){this.Ob&&(this.Ri=1,this.Mb.Qh(this.la));this.Mb.zc(this.la);this.la.SE()};a.prototype.Mj=function(a){a&&this.Co.push(a)};a.prototype.$t=function(a){La(this.Co,a)};a.prototype.Vf=function(a){a=a.toString();return this.kh.hasOwnProperty(a)?this.kh[a]:null};var w=[];a.prototype.Ce=function(a){var b,c;b=a.type.name;
var k=null;if(this.Qi.hasOwnProperty(b)){if(k=this.Qi[b],k.contains(a))return}else k=w.length?w.pop():new ca,this.Qi[b]=k;k.add(a);this.Wh=!0;if(a.Jd)for(b=0,c=a.siblings.length;b<c;b++)this.Ce(a.siblings[b]);this.Ms&&k.Yk.push(a);this.Ls||(this.Ze++,this.trigger(Object.getPrototypeOf(a.type.fb).H.$u,a),this.Ze--)};a.prototype.yd=function(){if(this.Wh){var a,b,c,k,d,e;this.Ms=!0;c=0;for(d=this.Uf.length;c<d;++c)for(a=this.Uf[c],b=a.type,b.G.push(a),k=0,e=b.ac.length;k<e;++k)b.ac[k].G.push(a),b.ac[k].Tk=
!0;H(this.Uf);this.Tz();sb(this.Qi);this.Wh=this.Ms=!1}};a.prototype.Tz=function(){for(var a in this.Qi)this.Qi.hasOwnProperty(a)&&this.rz(this.Qi[a])};a.prototype.rz=function(a){var b=a.ig(),c=b[0].type,k,d,e,f,g,h;ub(c.G,a);c.Tk=!0;0===c.G.length&&(c.Vn=!1);k=0;for(d=c.ac.length;k<d;++k)h=c.ac[k],ub(h.G,a),h.Tk=!0;k=0;for(d=this.Ig.Re.length;k<d;++k)if(g=this.Ig.Re[k],g.Qe.hasOwnProperty(c.index)&&ub(g.Qe[c.index].bj,a),!c.Aa)for(e=0,f=c.ac.length;e<f;++e)h=c.ac[e],g.Qe.hasOwnProperty(h.index)&&
ub(g.Qe[h.index].bj,a);if(g=b[0].O){if(g.jf)for(e=g.G,k=0,d=e.length;k<d;++k)f=e[k],a.contains(f)&&(f.$a(),g.ud.update(f,f.ye,null),f.ye.set(0,0,-1,-1));ub(g.G,a);g.$m(0)}for(k=0;k<b.length;++k)this.qz(b[k],c);a.clear();w.push(a);this.Ua=!0};a.prototype.qz=function(a,b){var c,k,d;c=0;for(k=this.Co.length;c<k;++c)this.Co[c](a);a.rf&&b.pl.update(a,a.rf,null);(c=a.O)&&c.Lk(a,!0);if(a.Ja)for(c=0,k=a.Ja.length;c<k;++c)d=a.Ja[c],d.cf&&d.cf(),d.behavior.Ip.remove(a);this.Ct.remove(a);this.Dt.remove(a);this.Et.remove(a);
a.cf&&a.cf();this.kh.hasOwnProperty(a.uid.toString())&&delete this.kh[a.uid.toString()];this.Mp--;100>b.yo.length&&b.yo.push(a)};a.prototype.ro=function(a,b,c,k){if(a.Aa){var d=wa(Math.random()*a.Ck.length);return this.ro(a.Ck[d],b,c,k)}return a.uf?this.Nh(a.uf,b,!1,c,k,!1):null};var y=[];a.prototype.Nh=function(a,b,c,k,d,e){var f,g,h,l;if(!a)return null;var n=this.ua[a[1]],m=n.fb.Yh;if(this.em&&m&&!n.Ns||m&&!this.la&&11===a[0][11])return null;var u=b;m||(b=null);var p;n.yo.length?(p=n.yo.pop(),p.td=
!0,n.fb.ta.call(p,n)):(p=new n.fb.ta(n),p.td=!1);!c||e||this.kh.hasOwnProperty(a[2].toString())?p.uid=this.Jm++:p.uid=a[2];this.kh[p.uid.toString()]=p;p.ay=this.zx++;p.$i=n.G.length;f=0;for(g=this.Uf.length;f<g;++f)this.Uf[f].type===n&&p.$i++;p.Ll=oc;p.toString=pc;h=a[3];if(p.td)sb(p.ma);else{p.ma={};if("undefined"!==typeof cr_is_preview)for(p.Cw=[],p.Cw.length=h.length,f=0,g=h.length;f<g;f++)p.Cw[f]=h[f][1];p.Pb=[];p.Pb.length=h.length}f=0;for(g=h.length;f<g;f++)p.Pb[f]=h[f][0];if(m){var r=a[0];
p.x=la(k)?r[0]:k;p.y=la(d)?r[1]:d;p.z=r[2];p.width=r[3];p.height=r[4];p.depth=r[5];p.M=r[6];p.opacity=r[7];p.pe=r[8];p.qe=r[9];p.zd=r[10];f=r[11];!this.la&&n.Qa.length&&(p.zd=f);p.ql=Lb(p.zd);this.ya&&Mb(p,p.zd,this.ya);if(p.td){f=0;for(g=r[12].length;f<g;f++)for(h=0,l=r[12][f].length;h<l;h++)p.ec[f][h]=r[12][f][h];p.Jb.set(0,0,0,0);p.rf.set(0,0,-1,-1);p.ye.set(0,0,-1,-1);p.Kb.Qk(p.Jb);H(p.Er)}else{p.ec=r[12].slice(0);f=0;for(g=p.ec.length;f<g;f++)p.ec[f]=r[12][f].slice(0);p.yb=[];p.Fh=[];p.Fh.length=
n.Qa.length;p.Jb=new Aa(0,0,0,0);p.rf=new Aa(0,0,-1,-1);p.ye=new Aa(0,0,-1,-1);p.Kb=new Ba;p.Er=[];p.aa=sc;p.BB=tc;p.Ed=uc;p.$a=vc;p.cz=wc;p.Lu=xc;p.zg=yc}p.vh=!1;p.Qy=0;p.Py=0;p.Oy=null;14===r.length&&(p.vh=!0,p.Qy=r[13][0],p.Py=r[13][1],p.Oy=r[13][2]);f=0;for(g=n.Qa.length;f<g;f++)p.Fh[f]=!0;p.rh=!0;p.hg=zc;p.hg();p.dz=!!p.yb.length;p.ao=!0;p.Ir=!0;n.Un=!0;p.visible=!0;p.Im=-1;p.O=b;p.jg=b.G.length;p.Ri=0;"undefined"===typeof p.ib&&(p.ib=null);this.Ua=p.sf=!0}var x;H(y);f=0;for(g=n.ac.length;f<
g;f++)y.push.apply(y,n.ac[f].cc);y.push.apply(y,n.cc);if(p.td)for(f=0,g=y.length;f<g;f++){var q=y[f];x=p.Ja[f];x.td=!0;q.behavior.ta.call(x,q,p);r=a[4][f];h=0;for(l=r.length;h<l;h++)x.U[h]=r[h];x.na();q.behavior.Ip.add(p)}else for(p.Ja=[],f=0,g=y.length;f<g;f++)q=y[f],x=new q.behavior.ta(q,p),x.td=!1,x.U=a[4][f].slice(0),x.na(),p.Ja.push(x),q.behavior.Ip.add(p);r=a[5];if(p.td)for(f=0,g=r.length;f<g;f++)p.U[f]=r[f];else p.U=r.slice(0);this.Uf.push(p);this.Wh=!0;b&&(b.ll(p,!0),1!==b.ve||1!==b.we)&&
(n.Vn=!0);this.Mp++;if(n.Jd){if(p.Jd=!0,p.td?H(p.siblings):p.siblings=[],!c&&!e){f=0;for(g=n.He.length;f<g;f++)if(n.He[f]!==n){if(!n.He[f].uf)return null;p.siblings.push(this.Nh(n.He[f].uf,u,!1,m?p.x:k,m?p.y:d,!0))}f=0;for(g=p.siblings.length;f<g;f++)for(p.siblings[f].siblings.push(p),h=0;h<g;h++)f!==h&&p.siblings[f].siblings.push(p.siblings[h])}}else p.Jd=!1,p.siblings=null;p.na();f=0;for(g=p.Ja.length;f<g;f++)p.Ja[f].Wx&&p.Ja[f].Wx();return p};a.prototype.Hl=function(a){var b,c;b=0;for(c=this.Mb.Sa.length;b<
c;b++){var k=this.Mb.Sa[b];if(Wb(k.name,a))return k}return null};a.prototype.Yg=function(a){a=wa(a);0>a&&(a=0);a>=this.Mb.Sa.length&&(a=this.Mb.Sa.length-1);return this.Mb.Sa[a]};a.prototype.Kr=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].La().Za=!0};a.prototype.Tm=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Tm()};a.prototype.Um=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Um()};a.prototype.oi=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].oi()};a.prototype.$y=function(a){if(a.Un){var b,
c,k=a.G;b=0;for(c=k.length;b<c;++b)k[b].Lu();k=this.Uf;b=0;for(c=k.length;b<c;++b)k[b].type===a&&k[b].Lu();a.Un=!1}};a.prototype.gs=function(a,b,c,k){var d,f,e=a?1!==a.ve||1!==a.we:!1;if(b.Aa)for(a=0,d=b.Ck.length;a<d;++a)f=b.Ck[a],e||f.Vn?Ia(k,f.G):(this.$y(f),f.pl.jq(c,k));else e||b.Vn?Ia(k,b.G):(this.$y(b),b.pl.jq(c,k))};a.prototype.uw=function(a,b,c,k){var d,f;d=0;for(f=b.length;d<f;++d)this.gs(a,b[d],c,k)};a.prototype.DD=function(a,b,c){var k=this.Dy;k&&this.uw(a,k.Jp,b,c)};a.prototype.wD=function(a,
b,c){var k=this.Mw;k&&this.uw(a,k.Jp,b,c)};a.prototype.ln=function(a,b,c){var k=a.La(),d,f,e,g,h=this.Cc().Zc.df,l,n,m;if(k.Za)for(k.Za=!1,H(k.G),d=0,g=a.G.length;d<g;d++)e=a.G[d],e.$a(),l=e.O.mc(b,c,!0),n=e.O.mc(b,c,!1),e.Ed(l,n)?k.G.push(e):h&&k.Ra.push(e);else{f=0;m=h?k.Ra:k.G;d=0;for(g=m.length;d<g;d++)e=m[d],e.$a(),l=e.O.mc(b,c,!0),n=e.O.mc(b,c,!1),e.Ed(l,n)&&(h?k.G.push(e):(k.G[f]=k.G[d],f++));m.length=f}a.Ge();return k.ys()};a.prototype.Od=function(a,b){if(!(a&&b&&a!==b&&a.sf&&b.sf))return!1;
a.$a();b.$a();var c=a.O,k=b.O,d,f,e,g,h,l,n,m;if(c===k||c.ve===k.ve&&k.we===k.we&&c.scale===k.scale&&c.M===k.M&&c.Td===k.Td){if(!a.Jb.bE(b.Jb)||!a.Kb.Dw(b.Kb)||a.vh&&b.vh)return!1;if(a.vh)return this.Jy(a,b);if(b.vh)return this.Jy(b,a);n=a.ib&&!a.ib.fj();d=b.ib&&!b.ib.fj();if(!n&&!d)return!0;n?(a.ib.Kh(a.width,a.height,a.M),n=a.ib):(this.dg.Pk(a.Kb,a.x,a.y,a.width,a.height),n=this.dg);d?(b.ib.Kh(b.width,b.height,b.M),m=b.ib):(this.dg.Pk(b.Kb,b.x,b.y,b.width,b.height),m=this.dg);return n.Rl(m,b.x-
a.x,b.y-a.y)}n=a.ib&&!a.ib.fj();d=b.ib&&!b.ib.fj();n?(a.ib.Kh(a.width,a.height,a.M),this.dg.uy(a.ib)):this.dg.Pk(a.Kb,a.x,a.y,a.width,a.height);n=this.dg;d?(b.ib.Kh(b.width,b.height,b.M),this.vu.uy(b.ib)):this.vu.Pk(b.Kb,b.x,b.y,b.width,b.height);m=this.vu;d=0;for(f=n.ee;d<f;d++)e=2*d,g=e+1,h=n.Hb[e],l=n.Hb[g],n.Hb[e]=c.Bb(h+a.x,l+a.y,!0),n.Hb[g]=c.Bb(h+a.x,l+a.y,!1);n.$a();d=0;for(f=m.ee;d<f;d++)e=2*d,g=e+1,h=m.Hb[e],l=m.Hb[g],m.Hb[e]=k.Bb(h+b.x,l+b.y,!0),m.Hb[g]=k.Bb(h+b.x,l+b.y,!1);m.$a();return n.Rl(m,
0,0)};var G=new Ba;new Aa(0,0,0,0);var I=[];a.prototype.Jy=function(a,b){var c,k,d,f,e=b.Jb,g=a.x,h=a.y;a.qD(e,I);var l=b.ib&&!b.ib.fj();c=0;for(k=I.length;c<k;++c)if(d=I[c],f=d.Db,e.cE(f,g,h)&&(G.Qk(f),G.offset(g,h),G.Dw(b.Kb)))if(l)if(b.ib.Kh(b.width,b.height,b.M),d.de){if(d.de.Rl(b.ib,b.x-(g+f.left),b.y-(h+f.top)))return H(I),!0}else{if(this.dg.Pk(G,0,0,f.right-f.left,f.bottom-f.top),this.dg.Rl(b.ib,b.x,b.y))return H(I),!0}else if(d.de){if(this.dg.Pk(b.Kb,0,0,b.width,b.height),d.de.Rl(this.dg,
-(g+f.left),-(h+f.top)))return H(I),!0}else return H(I),!0;H(I);return!1};a.prototype.Wy=function(a,b){if(!b)return!1;var c,k,d,f,e;c=0;for(k=a.cc.length;c<k;c++)if(a.cc[c].behavior instanceof b)return!0;if(!a.Aa)for(c=0,k=a.ac.length;c<k;c++)for(e=a.ac[c],d=0,f=e.cc.length;d<f;d++)if(e.cc[d].behavior instanceof b)return!0;return!1};a.prototype.Fu=function(a){return this.Wy(a,Xc.hG)};a.prototype.Gu=function(a){return this.Wy(a,Xc.iG)};var T=[];a.prototype.gd=function(a){var b,c,k;a.$a();this.DD(a.O,
a.Jb,T);b=0;for(c=T.length;b<c;++b)if(k=T[b],k.ma.solidEnabled&&this.Od(a,k))return H(T),k;H(T);return null};var da=[];a.prototype.Kg=function(a,b){var c=null;b&&(c=da,H(c));a.$a();this.wD(a.O,a.Jb,T);var k,d,f;k=0;for(d=T.length;k<d;++k)if(f=T[k],f.ma.jumpthruEnabled&&this.Od(a,f))if(b)c.push(f);else return H(T),f;H(T);return c};a.prototype.Ff=function(a,b,c,k,d,f){k=k||50;var e=a.x,g=a.y,h,l=null,n=null;for(h=0;h<k;h++)if(a.x=e+b*h,a.y=g+c*h,a.aa(),!this.Od(a,l)&&((l=this.gd(a))&&(n=l),!l&&(d&&
(f?l=this.Od(a,f)?f:null:l=this.Kg(a),l&&(n=l)),!l)))return n&&this.Ut(a,b,c,n),!0;a.x=e;a.y=g;a.aa();return!1};a.prototype.Ut=function(a,b,c,k){var d=2,f,e=!1;f=!1;for(var g=a.x,h=a.y;16>=d;)f=1/d,d*=2,a.x+=b*f*(e?1:-1),a.y+=c*f*(e?1:-1),a.aa(),this.Od(a,k)?f=e=!0:(f=e=!1,g=a.x,h=a.y);f&&(a.x=g,a.y=h,a.aa())};a.prototype.by=function(a,b){var c=la(b)?100:b,k=0,d=a.x,f=a.y,e=0,g=0,h=0,l=this.gd(a);if(!l)return!0;for(;k<=c;){switch(e){case 0:g=0;h=-1;k++;break;case 1:g=1;h=-1;break;case 2:g=1;h=0;break;
case 3:h=g=1;break;case 4:g=0;h=1;break;case 5:g=-1;h=1;break;case 6:g=-1;h=0;break;case 7:h=g=-1}e=(e+1)%8;a.x=wa(d+g*k);a.y=wa(f+h*k);a.aa();if(!this.Od(a,l)&&(l=this.gd(a),!l))return!0}a.x=d;a.y=f;a.aa();return!1};a.prototype.yj=function(a,b){a.sf&&b.sf&&this.Wm.push([a,b])};a.prototype.OB=function(a,b){var c,k,d;c=0;for(k=this.Wm.length;c<k;c++)if(d=this.Wm[c],d[0]==a&&d[1]==b||d[0]==b&&d[1]==a)return!0;return!1};a.prototype.MB=function(a,b,c){var k=a.x,d=a.y,f=ta(10,db(b,c,k,d)),e=Wa(b,c,k,d),
g=this.gd(a);if(!g)return Ta(e+va);var h=g,l,n,m,p,u=Pa(5);for(l=1;36>l;l++)if(n=e-l*u,a.x=b+Math.cos(n)*f,a.y=c+Math.sin(n)*f,a.aa(),!this.Od(a,h)&&(h=this.gd(a),!h)){m=n;break}36===l&&(m=Ta(e+va));h=g;for(l=1;36>l;l++)if(n=e+l*u,a.x=b+Math.cos(n)*f,a.y=c+Math.sin(n)*f,a.aa(),!this.Od(a,h)&&(h=this.gd(a),!h)){p=n;break}36===l&&(p=Ta(e+va));a.x=k;a.y=d;a.aa();if(p===m)return p;a=Ya(p,m)/2;a=$a(p,m)?Ta(m+a+va):Ta(p+a);m=Math.cos(e);e=Math.sin(e);p=Math.cos(a);a=Math.sin(a);b=m*p+e*a;return Wa(0,0,
m-2*b*p,e-2*b*a)};var Q=-1;a.prototype.trigger=function(a,b,c){if(!this.Mb)return!1;var k=this.Mb.Si;if(!k)return!1;var d=!1,f,e,g;Q++;var h=k.Sr;e=0;for(g=h.length;e<g;++e)f=this.Ty(a,b,h[e],c),d=d||f;f=this.Ty(a,b,k,c);Q--;return d||f};a.prototype.Ty=function(a,b,c,k){var d=!1,f,e,g,h;if(b)for(g=this.Du(a,b,b.type.name,c,k),d=d||g,h=b.type.ac,f=0,e=h.length;f<e;++f)g=this.Du(a,b,h[f].name,c,k),d=d||g;else g=this.Du(a,b,"system",c,k),d=d||g;return d};a.prototype.Du=function(a,b,c,k,d){var f,e=!1,
g=!1,g="undefined"!==typeof d,h=(g?k.aw:k.Uy)[c];if(!h)return e;var l=null;k=0;for(f=h.length;k<f;++k)if(h[k].method==a){l=h[k].yl;break}if(!l)return e;var n;g?n=l[d]:n=l;if(!n)return null;k=0;for(f=n.length;k<f;k++)a=n[k][0],d=n[k][1],g=this.eD(b,c,a,d),e=e||g;return e};a.prototype.eD=function(a,b,c,k){var d,f,e=!1;this.Eu++;var g=this.Cc().Zc;g&&this.Tm(g.ti);var h=1<this.Eu;this.Tm(c.ti);h&&this.XE();var l=this.iq(c);l.Zc=c;a&&(d=this.types[b].La(),d.Za=!1,H(d.G),d.G[0]=a,this.types[b].Ge());a=
!0;if(c.parent){b=l.Iy;for(d=c.parent;d;)b.push(d),d=d.parent;b.reverse();d=0;for(f=b.length;d<f;d++)if(!b[d].jF()){a=!1;break}}a&&(this.Ui++,c.df?c.iF(k):c.Hc(),e=e||l.jj);this.dq();h&&this.NE();this.oi(c.ti);g&&this.oi(g.ti);this.Wh&&0===this.Ze&&0===Q&&!this.Os&&this.yd();this.Eu--;return e};a.prototype.Gl=function(){var a=this.Cc();return a.Zc.Oc[a.wc]};a.prototype.eE=function(){return 0===this.Cc().wc};a.prototype.rD=function(){var a=this.Cc();return a.Zc.nf[a.Te]};a.prototype.XE=function(){this.Cp++;
this.Cp>=this.nt.length&&this.nt.push([])};a.prototype.NE=function(){this.Cp--};a.prototype.lw=function(){return this.nt[this.Cp]};a.prototype.iq=function(a){this.Eo++;this.Eo>=this.Vr.length&&this.Vr.push(new Ac);var b=this.Cc();b.reset(a);return b};a.prototype.dq=function(){this.Eo--};a.prototype.Cc=function(){return this.Vr[this.Eo]};a.prototype.YE=function(){this.Ep++;this.Ep>=this.pt.length&&this.pt.push(aa({name:void 0,index:0,fd:!1}));var a=this.sD();a.name=void 0;a.index=0;a.fd=!1;return a};
a.prototype.OE=function(){this.Ep--};a.prototype.sD=function(){return this.pt[this.Ep]};a.prototype.mw=function(a,b){for(var c,k,d,f,e,g;b;){c=0;for(k=b.Jf.length;c<k;c++)if(g=b.Jf[c],g instanceof Bc&&Wb(a,g.name))return g;b=b.parent}c=0;for(k=this.Vg.length;c<k;c++)for(e=this.Vg[c],d=0,f=e.Sh.length;d<f;d++)if(g=e.Sh[d],g instanceof Bc&&Wb(a,g.name))return g;return null};a.prototype.qw=function(a){var b,c;b=0;for(c=this.Yf.length;b<c;b++)if(this.Yf[b].kb===a)return this.Yf[b];return null};a.prototype.Yo=
function(a){var b,c;b=0;for(c=this.ua.length;b<c;b++)if(this.ua[b].kb===a)return this.ua[b];return null};a.prototype.tD=function(a){var b,c;b=0;for(c=this.Nj.length;b<c;b++)if(this.Nj[b].kb===a)return this.Nj[b];return null};a.prototype.ZB=function(a,b){this.gn=[a,b];this.Ua=!0};a.prototype.VD=function(){var a=this,c=this.hu,k=this.eh,d=this.yp,h=!1;this.By&&(h=!0,c="__c2_continuouspreview",this.By=!1);if(c.length){this.yd();k=this.nF();if(b()&&!this.yf)g(c,k,function(){fa("Saved state to IndexedDB storage ("+
k.length+" bytes)");a.eh=k;a.trigger(L.prototype.H.er,null);a.eh="";h&&f()},function(b){try{localStorage.setItem("__c2save_"+c,k),fa("Saved state to WebStorage ("+k.length+" bytes)"),a.eh=k,a.trigger(L.prototype.H.er,null),a.eh="",h&&f()}catch(d){fa("Failed to save game state: "+b+"; "+d),a.trigger(L.prototype.H.ov,null)}});else try{localStorage.setItem("__c2save_"+c,k),fa("Saved state to WebStorage ("+k.length+" bytes)"),a.eh=k,this.trigger(L.prototype.H.er,null),a.eh="",h&&f()}catch(l){fa("Error saving to WebStorage: "+
l),a.trigger(L.prototype.H.ov,null)}this.Ld=this.yp=this.hu=""}if(d.length){if(b()&&!this.yf)e(d,function(b){b?(a.Ld=b,fa("Loaded state from IndexedDB storage ("+a.Ld.length+" bytes)")):(a.Ld=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+a.Ld.length+" bytes)"));a.jn=!1;a.Ld.length||a.trigger(L.prototype.H.cr,null)},function(){a.Ld=localStorage.getItem("__c2save_"+d)||"";fa("Loaded state from WebStorage ("+a.Ld.length+" bytes)");a.jn=!1;a.Ld.length||a.trigger(L.prototype.H.cr,
null)});else{try{this.Ld=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+this.Ld.length+" bytes)")}catch(n){this.Ld=""}this.jn=!1;a.Ld.length||a.trigger(L.prototype.H.cr,null)}this.hu=this.yp=""}this.Ld.length&&(this.yd(),this.qE(this.Ld),this.eh=this.Ld,this.trigger(L.prototype.H.rA,null),this.Ld=this.eh="")};a.prototype.nF=function(){var a,b,c,k,d,f,e,g={c2save:!0,version:1,rt:{time:this.bd.Va,walltime:this.yh.Va,timescale:this.fg,tickcount:this.gf,execcount:this.Ui,
next_uid:this.Jm,running_layout:this.Mb.kb,start_time_offset:Date.now()-this.Dq},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ua.length;a<b;a++)if(d=this.ua[a],!d.Aa&&!this.Fu(d)){f={instances:[]};lb(d.ma)&&(f.ex=h(d.ma));c=0;for(k=d.G.length;c<k;c++)f.instances.push(this.gu(d.G[c]));g.types[d.kb.toString()]=f}a=0;for(b=this.Yf.length;a<b;a++)c=this.Yf[a],g.layouts[c.kb.toString()]=c.Ub();k=g.events.groups;a=0;for(b=this.Nj.length;a<b;a++)c=this.Nj[a],k[c.kb.toString()]=
this.ck[c.Ml].Xi;b=g.events.cnds;for(e in this.Mh)this.Mh.hasOwnProperty(e)&&(a=this.Mh[e],lb(a.ma)&&(b[e]={ex:h(a.ma)}));b=g.events.acts;for(e in this.Gh)this.Gh.hasOwnProperty(e)&&(a=this.Gh[e],lb(a.ma)&&(b[e]={ex:h(a.ma)}));b=g.events.vars;for(e in this.Zk)this.Zk.hasOwnProperty(e)&&(a=this.Zk[e],a.pp||a.parent&&!a.cm||(b[e]=a.data));g.system=this.Ig.Ub();return JSON.stringify(g)};a.prototype.ey=function(){var a,b,c,k,d,f;this.kh={};a=0;for(b=this.ua.length;a<b;a++)if(c=this.ua[a],!c.Aa)for(k=
0,d=c.G.length;k<d;k++)f=c.G[k],this.kh[f.uid.toString()]=f};a.prototype.qE=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.Vl=!0;var b=a.rt;this.bd.reset();this.bd.Va=b.time;this.yh.reset();this.yh.Va=b.walltime||0;this.fg=b.timescale;this.gf=b.tickcount;this.Ui=b.execcount;this.Dq=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.Mb.kb)if(c=this.qw(c))this.Xv(c);else return;var k,d,f,e,g,h,l;h=a.types;for(d in h)if(h.hasOwnProperty(d)&&(e=this.Yo(parseInt(d,10)))&&
!e.Aa&&!this.Fu(e)){h[d].ex?e.ma=h[d].ex:sb(e.ma);g=e.G;f=h[d].instances;c=0;for(k=ua(g.length,f.length);c<k;c++)this.zp(g[c],f[c]);c=f.length;for(k=g.length;c<k;c++)this.Ce(g[c]);c=g.length;for(k=f.length;c<k;c++){g=null;if(e.fb.Yh&&(g=this.Mb.Xo(f[c].w.l),!g))continue;g=this.Nh(e.uf,g,!1,0,0,!0);this.zp(g,f[c])}e.Tk=!0}this.yd();this.ey();k=a.layouts;for(d in k)k.hasOwnProperty(d)&&(c=this.qw(parseInt(d,10)))&&c.Xb(k[d]);k=a.events.groups;for(d in k)k.hasOwnProperty(d)&&(c=this.tD(parseInt(d,10)))&&
this.ck[c.Ml]&&this.ck[c.Ml].tq(k[d]);c=a.events.cnds;for(d in this.Mh)this.Mh.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.Mh[d].ma=c[d].ex:this.Mh[d].ma={});c=a.events.acts;for(d in this.Gh)this.Gh.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.Gh[d].ma=c[d].ex:this.Gh[d].ma={});c=a.events.vars;for(d in c)c.hasOwnProperty(d)&&this.Zk.hasOwnProperty(d)&&(this.Zk[d].data=c[d]);this.Jm=b.next_uid;this.Vl=!1;c=0;for(k=this.Lo.length;c<k;++c)g=this.Lo[c],this.trigger(Object.getPrototypeOf(g.type.fb).H.Ng,
g);H(this.Lo);this.Ig.Xb(a.system);c=0;for(k=this.ua.length;c<k;c++)if(e=this.ua[c],!e.Aa&&!this.Fu(e))for(d=0,a=e.G.length;d<a;d++){g=e.G[d];if(e.Jd)for(h=g.Ll(),H(g.siblings),b=0,f=e.He.length;b<f;b++)l=e.He[b],e!==l&&g.siblings.push(l.G[h]);g.of&&g.of();if(g.Ja)for(b=0,f=g.Ja.length;b<f;b++)h=g.Ja[b],h.of&&h.of()}this.Ua=!0}};a.prototype.gu=function(a,b){var c,k,d,f,e;f=a.type;d=f.fb;var g={};b?g.c2=!0:g.uid=a.uid;lb(a.ma)&&(g.ex=h(a.ma));if(a.Pb&&a.Pb.length)for(g.ivs={},c=0,k=a.Pb.length;c<k;c++)g.ivs[a.type.Js[c].toString()]=
a.Pb[c];if(d.Yh){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.O.kb,zi:a.zg()};0!==a.M&&(d.a=a.M);1!==a.opacity&&(d.o=a.opacity);.5!==a.pe&&(d.hX=a.pe);.5!==a.qe&&(d.hY=a.qe);0!==a.zd&&(d.bm=a.zd);a.visible||(d.v=a.visible);a.sf||(d.ce=a.sf);-1!==a.Im&&(d.mts=a.Im);if(f.Qa.length)for(d.fx=[],c=0,k=f.Qa.length;c<k;c++)e=f.Qa[c],d.fx.push({name:e.name,active:a.Fh[e.index],params:a.ec[e.index]});g.w=d}if(a.Ja&&a.Ja.length)for(g.behs={},c=0,k=a.Ja.length;c<k;c++)f=a.Ja[c],f.Ub&&(g.behs[f.type.kb.toString()]=
f.Ub());a.Ub&&(g.data=a.Ub());return g};a.prototype.vD=function(a,b){var c,k;c=0;for(k=a.Js.length;c<k;c++)if(a.Js[c]===b)return c;return-1};a.prototype.pD=function(a,b){var c,k;c=0;for(k=a.Ja.length;c<k;c++)if(a.Ja[c].type.kb===b)return c;return-1};a.prototype.zp=function(a,b,c){var k,d,f,e,g;g=a.type;e=g.fb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.ma=b.ex:sb(a.ma);if(d=b.ivs)for(k in d)d.hasOwnProperty(k)&&(f=this.vD(g,parseInt(k,10)),0>f||f>=a.Pb.length||(a.Pb[f]=d[k]));if(e.Yh){f=b.w;a.O.kb!==
f.l&&(d=a.O,a.O=this.Mb.Xo(f.l),a.O?(d.Lk(a,!0),a.O.ll(a,!0),a.aa(),a.O.$m(0)):(a.O=d,c||this.Ce(a)));a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.jg=f.zi;a.M=f.hasOwnProperty("a")?f.a:0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.pe=f.hasOwnProperty("hX")?f.hX:.5;a.qe=f.hasOwnProperty("hY")?f.hY:.5;a.visible=f.hasOwnProperty("v")?f.v:!0;a.sf=f.hasOwnProperty("ce")?f.ce:!0;a.Im=f.hasOwnProperty("mts")?f.mts:-1;a.zd=f.hasOwnProperty("bm")?f.bm:0;a.ql=Lb(a.zd);this.ya&&Mb(a,a.zd,this.ya);a.aa();if(f.hasOwnProperty("fx"))for(c=
0,d=f.fx.length;c<d;c++)e=g.ks(f.fx[c].name),0>e||(a.Fh[e]=f.fx[c].active,a.ec[e]=f.fx[c].params);a.hg()}if(g=b.behs)for(k in g)g.hasOwnProperty(k)&&(c=this.pD(a,parseInt(k,10)),0>c||a.Ja[c].Xb(g[k]));b.data&&a.Xb(b.data)};a.prototype.bw=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,c)},c)};a.prototype.dw=function(a,b){this.bw("data.js",function(c){var k=new FileReader;k.onload=function(b){a(b.target.result)};k.onerror=b;k.readAsText(c)},
b)};a.prototype.cw=function(a,b,c){this.bw(a,function(a){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.fD=function(a,b,c){this.cw(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},c)};a.prototype.ny=function(a,b){this.Zl?this.fD(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};Cc=function(b){return new a(document.getElementById(b))};Dc=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=
Cc;window.cr_createDCRuntime=Dc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.j=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));
window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.ZB(a,c)};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.i=a;this.Si=null;this.scrollX=this.i.Gc/2;this.scrollY=this.i.Fc/2;this.scale=1;this.M=0;this.$j=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Xy=b[3];this.yy=b[4];this.kb=b[5];var c=b[6],d,f;this.Sa=[];this.Ql=[];d=0;for(f=c.length;d<f;d++){var e=new Ec(this,c[d]);e.Bx=d;this.Sa.push(e)}c=b[7];this.aj=[];d=0;for(f=c.length;d<f;d++){var e=c[d],g=this.i.ua[e[1]];g.uf||(g.uf=e);this.aj.push(e);-1===this.Ql.indexOf(g)&&this.Ql.push(g)}this.Qa=[];this.yb=[];
this.rh=!0;this.ec=[];d=0;for(f=b[8].length;d<f;d++)this.Qa.push({id:b[8][d][0],name:b[8][d][1],Ic:-1,Ef:!1,vc:!0,index:d}),this.ec.push(b[8][d][2].slice(0));this.hg();this.pi=new Aa(0,0,1,1);this.Yt=new Aa(0,0,1,1);this.mi={}}function c(a,b){return a.jg-b.jg}function b(a,b){this.pc=a;this.i=a.i;this.G=[];this.scale=1;this.M=0;this.Ug=!1;this.wh=new Aa(0,0,0,0);this.Ry=new Ba;this.Eb=this.rb=this.Fb=this.qb=0;this.Gj=!1;this.Ah=-1;this.Lr=0;this.name=b[0];this.index=b[1];this.kb=b[2];this.visible=
b[3];this.Rf=b[4];this.gg=b[5];this.ve=b[6];this.we=b[7];this.opacity=b[8];this.So=b[9];this.jf=b[10];this.Td=b[11];this.zd=b[12];this.yC=b[13];this.ql="source-over";this.Fd=this.Md=0;this.ud=null;this.fh=d();this.bg=!0;this.sk=new Aa(0,0,-1,-1);this.md=new Aa(0,0,-1,-1);this.jf&&(this.ud=new Gb(this.i.Gc,this.i.Fc));this.Fg=!1;var c=b[14],f,e;this.Ey=[];this.Xe=[];this.sl=[];f=0;for(e=c.length;f<e;f++){var g=c[f],h=this.i.ua[g[1]];h.uf||(h.uf=g,h.Tv=this.index);this.Xe.push(g);-1===this.pc.Ql.indexOf(h)&&
this.pc.Ql.push(h)}Ha(this.Ey,this.Xe);this.Qa=[];this.yb=[];this.rh=!0;this.ec=[];f=0;for(e=b[15].length;f<e;f++)this.Qa.push({id:b[15][f][0],name:b[15][f][1],Ic:-1,Ef:!1,vc:!0,index:f}),this.ec.push(b[15][f][2].slice(0));this.hg();this.pi=new Aa(0,0,1,1);this.Yt=new Aa(0,0,1,1)}function d(){return h.length?h.pop():[]}function g(a){H(a);h.push(a)}a.prototype.mF=function(a){var b=a.type.kb.toString();this.mi.hasOwnProperty(b)||(this.mi[b]=[]);this.mi[b].push(this.i.gu(a))};a.prototype.vw=function(){var a=
this.Sa[0];return!a.gg&&1===a.opacity&&!a.So&&a.visible};a.prototype.hg=function(){H(this.yb);this.rh=!0;var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.vc&&(this.yb.push(c),c.Ef||(this.rh=!1))};a.prototype.hs=function(a){var b,c,d;b=0;for(c=this.Qa.length;b<c;b++)if(d=this.Qa[b],d.name===a)return d;return null};var e=[],f=!0;a.prototype.tu=function(){this.yy&&(this.Si=this.i.Wr[this.yy],this.Si.Iu());this.i.Mb=this;this.scrollX=this.i.Gc/2;this.scrollY=this.i.Fc/2;var a,b,d,g,h,l,m;a=0;
for(d=this.i.ua.length;a<d;a++)if(b=this.i.ua[a],!b.Aa)for(h=b.G,b=0,g=h.length;b<g;b++)if(l=h[b],l.O){var u=l.O.Bx;u>=this.Sa.length&&(u=this.Sa.length-1);l.O=this.Sa[u];-1===l.O.G.indexOf(l)&&l.O.G.push(l);l.O.Gj=!0}if(!f)for(a=0,d=this.Sa.length;a<d;++a)this.Sa[a].G.sort(c);H(e);this.KB();a=0;for(d=this.Sa.length;a<d;a++)l=this.Sa[a],l.VB(),l.Rq();h=!1;if(!this.$j){for(m in this.mi)if(this.mi.hasOwnProperty(m)&&(b=this.i.Yo(parseInt(m,10)))&&!b.Aa&&this.i.Gu(b)){g=this.mi[m];a=0;for(d=g.length;a<
d;a++){l=null;if(b.fb.Yh&&(l=this.Xo(g[a].w.l),!l))continue;l=this.i.Nh(b.uf,l,!1,0,0,!0);this.i.zp(l,g[a]);h=!0;e.push(l)}H(g)}a=0;for(d=this.Sa.length;a<d;a++)this.Sa[a].G.sort(c),this.Sa[a].Gj=!0}h&&(this.i.yd(),this.i.ey());for(a=0;a<e.length;a++)if(l=e[a],l.type.Jd)for(d=l.Ll(),b=0,g=l.type.He.length;b<g;b++)m=l.type.He[b],l.type!==m&&(m.G.length>d?l.siblings.push(m.G[d]):m.uf&&(h=this.i.Nh(m.uf,l.O,!0,l.x,l.y,!0),this.i.yd(),m.Pq(),l.siblings.push(h),e.push(h)));a=0;for(d=this.aj.length;a<d;a++)this.i.Nh(this.aj[a],
null,!0);this.i.ol=null;this.i.yd();if(this.i.Ab&&!this.i.cb)for(a=0,d=this.i.ua.length;a<d;a++)m=this.i.ua[a],!m.Aa&&m.G.length&&m.Qm&&m.Qm(this.i.Ab);if(this.i.Vl)Ha(this.i.Lo,e);else for(a=0,d=e.length;a<d;a++)l=e[a],this.i.trigger(Object.getPrototypeOf(l.type.fb).H.Ng,l);H(e);this.i.Vl||this.i.trigger(L.prototype.H.iv,null);this.$j=!1};a.prototype.UB=function(){var a,b,c,d,f;b=a=0;for(c=this.aj.length;a<c;a++)d=this.aj[a],f=this.i.ua[d[1]],f.global?f.Jd||this.i.Nh(d,null,!0):(this.aj[b]=d,b++);
Fa(this.aj,b)};a.prototype.zF=function(){this.i.Vl||this.i.trigger(L.prototype.H.qA,null);this.i.Ls=!0;H(this.i.Ig.Re);var a,b,c,d,e,g;if(!this.$j)for(a=0,b=this.Sa.length;a<b;a++)for(this.Sa[a].Ku(),e=this.Sa[a].G,c=0,d=e.length;c<d;c++)g=e[c],g.type.global||this.i.Gu(g.type)&&this.mF(g);a=0;for(b=this.Sa.length;a<b;a++){e=this.Sa[a].G;c=0;for(d=e.length;c<d;c++)g=e[c],g.type.global||this.i.Ce(g);this.i.yd();H(e);this.Sa[a].Gj=!0}a=0;for(b=this.i.ua.length;a<b;a++)if(e=this.i.ua[a],!(e.global||e.fb.Yh||
e.fb.zq||e.Aa)){c=0;for(d=e.G.length;c<d;c++)this.i.Ce(e.G[c]);this.i.yd()}f=!1;this.i.Ls=!1};new Aa(0,0,0,0);a.prototype.Wd=function(a){var b,c=a,d=!1,f=!this.i.Ve;f&&(this.i.xp||(this.i.xp=document.createElement("canvas"),b=this.i.xp,b.width=this.i.Ga,b.height=this.i.Fa,this.i.Sw=b.getContext("2d"),d=!0),b=this.i.xp,c=this.i.Sw,b.width!==this.i.Ga&&(b.width=this.i.Ga,d=!0),b.height!==this.i.Fa&&(b.height=this.i.Fa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.Ya,c.mozImageSmoothingEnabled=this.i.Ya,
c.msImageSmoothingEnabled=this.i.Ya,c.imageSmoothingEnabled=this.i.Ya));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.i.ur&&!this.vw()&&c.clearRect(0,0,this.i.Ga,this.i.Fa);var e,g,d=0;for(e=this.Sa.length;d<e;d++)g=this.Sa[d],g.visible&&0<g.opacity&&11!==g.zd&&(g.G.length||!g.gg)?g.Wd(c):g.Rq();f&&a.drawImage(b,0,0,this.i.width,this.i.height)};a.prototype.Qh=function(a){a.my(!0);this.i.Dc||(this.i.Dc=a.Ie(this.i.Ga,this.i.Fa,this.i.Ya));if(this.i.Dc.Mi!==this.i.Ga||this.i.Dc.Li!==
this.i.Fa)a.deleteTexture(this.i.Dc),this.i.Dc=a.Ie(this.i.Ga,this.i.Fa,this.i.Ya);a.Hf(this.i.Dc);this.i.Ve||a.Bj(this.i.Ga,this.i.Fa);var b,c;for(b=this.Sa.length-1;0<=b;--b)c=this.Sa[b],c.visible&&1===c.opacity&&c.rh&&0===c.zd&&(c.G.length||!c.gg)?c.Qh(a):c.Rq();a.my(!1)};a.prototype.zc=function(a){var b=0<this.yb.length||this.i.Xk||!this.i.Ve||this.i.Ob;if(b){this.i.Dc||(this.i.Dc=a.Ie(this.i.Ga,this.i.Fa,this.i.Ya));if(this.i.Dc.Mi!==this.i.Ga||this.i.Dc.Li!==this.i.Fa)a.deleteTexture(this.i.Dc),
this.i.Dc=a.Ie(this.i.Ga,this.i.Fa,this.i.Ya);a.Hf(this.i.Dc);this.i.Ve||a.Bj(this.i.Ga,this.i.Fa)}else this.i.Dc&&(a.Hf(null),a.deleteTexture(this.i.Dc),this.i.Dc=null);this.i.ur&&!this.vw()&&a.clear(0,0,0,0);var c,d,f;c=0;for(d=this.Sa.length;c<d;c++)f=this.Sa[c],f.visible&&0<f.opacity&&(f.G.length||!f.gg)?f.zc(a):f.Rq();b&&(0===this.yb.length||1===this.yb.length&&this.i.Ve?(1===this.yb.length?(b=this.yb[0].index,a.Ae(this.yb[0].Ic),a.Ok(null,1/this.i.Ga,1/this.i.Fa,0,0,1,1,this.scale,this.M,0,
0,this.i.Ga/2,this.i.Fa/2,this.i.bd.Va,this.ec[b]),a.hq(this.yb[0].Ic)&&(this.i.Ua=!0)):a.Ae(0),this.i.Ve||a.Bj(this.i.width,this.i.height),a.Hf(null),a.ky(!1),a.qh(1),a.ge(this.i.Dc),a.iy(),a.Gf(),a.hf(),b=this.i.width/2,c=this.i.height/2,a.Kk(-b,c,b,c,b,-c,-b,-c),a.ge(null),a.ky(!0)):this.au(a,null,null,null))};a.prototype.Il=function(){return 0<this.yb.length||this.i.Xk||!this.i.Ve||this.i.Ob?this.i.Dc:null};a.prototype.rw=function(){var a=this.Sa[0].Hd(),b,c,d;b=1;for(c=this.Sa.length;b<c;b++)d=
this.Sa[b],(0!==d.ve||0!==d.we)&&d.Hd()<a&&(a=d.Hd());return a};a.prototype.iu=function(a){if(!this.Xy){var b=1/this.rw()*this.i.Ga/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.i.Ua=!0)};a.prototype.ju=function(a){if(!this.Xy){var b=1/this.rw()*this.i.Fa/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.i.Ua=!0)};a.prototype.KB=function(){this.iu(this.scrollX);this.ju(this.scrollY)};a.prototype.au=function(a,b,c,d){var f=
c?c.yb:b?b.yb:this.yb,e=1,g=0,h=0,l=0,m=this.i.Ga,D=this.i.Fa;c?(e=c.O.Hd(),g=c.O.Sb(),h=c.O.qb,l=c.O.rb,m=c.O.Fb,D=c.O.Eb):b&&(e=b.Hd(),g=b.Sb(),h=b.qb,l=b.rb,m=b.Fb,D=b.Eb);var B=this.i.cs,E,C,w,y,G=0,I=1,T,da,Q=this.i.Ga,F=this.i.Fa,Z=Q/2,S=F/2,R=b?b.pi:this.pi,J=b?b.Yt:this.Yt,M=0,O=0,K=0,N=0,U=Q,ga=Q,P=F,qa=F,ma=w=0;y=c?c.O.Sb():0;if(c){E=0;for(C=f.length;E<C;E++)w+=a.AD(f[E].Ic),ma+=a.BD(f[E].Ic);N=c.Jb;M=b.Bb(N.left,N.top,!0,!0);K=b.Bb(N.left,N.top,!1,!0);U=b.Bb(N.right,N.bottom,!0,!0);P=b.Bb(N.right,
N.bottom,!1,!0);0!==y&&(E=b.Bb(N.right,N.top,!0,!0),C=b.Bb(N.right,N.top,!1,!0),O=b.Bb(N.left,N.bottom,!0,!0),N=b.Bb(N.left,N.bottom,!1,!0),y=Math.min(M,U,E,O),U=Math.max(M,U,E,O),M=y,y=Math.min(K,P,C,N),P=Math.max(K,P,C,N),K=y);M-=w;K-=ma;U+=w;P+=ma;J.left=M/Q;J.top=1-K/F;J.right=U/Q;J.bottom=1-P/F;O=M=wa(M);N=K=wa(K);ga=U=ya(U);qa=P=ya(P);O-=w;N-=ma;ga+=w;qa+=ma;0>M&&(M=0);0>K&&(K=0);U>Q&&(U=Q);P>F&&(P=F);0>O&&(O=0);0>N&&(N=0);ga>Q&&(ga=Q);qa>F&&(qa=F);R.left=M/Q;R.top=1-K/F;R.right=U/Q;R.bottom=
1-P/F}else R.left=J.left=0,R.top=J.top=0,R.right=J.right=1,R.bottom=J.bottom=1;ma=c&&(a.Rm(f[0].Ic)||0!==w||0!==ma||1!==c.opacity||c.type.fb.wx)||b&&!c&&1!==b.opacity;a.iy();if(ma){B[G]||(B[G]=a.Ie(Q,F,this.i.Ya));if(B[G].Mi!==Q||B[G].Li!==F)a.deleteTexture(B[G]),B[G]=a.Ie(Q,F,this.i.Ya);a.Ae(0);a.Hf(B[G]);da=qa-N;a.clearRect(O,F-N-da,ga-O,da);c?c.zc(a):(a.ge(this.i.Sc),a.qh(b.opacity),a.Gf(),a.translate(-Z,-S),a.hf(),a.ag(M,P,U,P,U,K,M,K,R));J.left=J.top=0;J.right=J.bottom=1;c&&(y=R.top,R.top=R.bottom,
R.bottom=y);G=1;I=0}a.qh(1);w=f.length-1;var Xa=a.Tt(f[w].Ic)||!b&&!c&&!this.i.Ve;E=y=0;for(C=f.length;E<C;E++){B[G]||(B[G]=a.Ie(Q,F,this.i.Ya));if(B[G].Mi!==Q||B[G].Li!==F)a.deleteTexture(B[G]),B[G]=a.Ie(Q,F,this.i.Ya);a.Ae(f[E].Ic);y=f[E].index;a.hq(f[E].Ic)&&(this.i.Ua=!0);0!=E||ma?(a.Ok(d,1/Q,1/F,J.left,J.top,J.right,J.bottom,e,g,h,l,(h+m)/2,(l+D)/2,this.i.bd.Va,c?c.ec[y]:b?b.ec[y]:this.ec[y]),a.ge(null),E!==w||Xa?(a.Hf(B[G]),da=qa-N,T=F-N-da,a.clearRect(O,T,ga-O,da)):(c?a.si(c.Md,c.Fd):b&&a.si(b.Md,
b.Fd),a.Hf(d)),a.ge(B[I]),a.Gf(),a.translate(-Z,-S),a.hf(),a.ag(M,P,U,P,U,K,M,K,R),E!==w||Xa||a.ge(null)):(a.Hf(B[G]),da=qa-N,T=F-N-da,a.clearRect(O,T,ga-O,da),c?(c.kd&&c.kd.Da?(T=c.kd.Da,I=1/T.width,T=1/T.height):(I=1/c.width,T=1/c.height),a.Ok(d,I,T,J.left,J.top,J.right,J.bottom,e,g,h,l,(h+m)/2,(l+D)/2,this.i.bd.Va,c.ec[y]),c.zc(a)):(a.Ok(d,1/Q,1/F,0,0,1,1,e,g,h,l,(h+m)/2,(l+D)/2,this.i.bd.Va,b?b.ec[y]:this.ec[y]),a.ge(b?this.i.Sc:this.i.Dc),a.Gf(),a.translate(-Z,-S),a.hf(),a.ag(M,P,U,P,U,K,M,K,
R)),J.left=J.top=0,J.right=J.bottom=1,c&&!Xa&&(y=P,P=K,K=y));G=0===G?1:0;I=0===G?1:0}Xa&&(a.Ae(0),c?a.si(c.Md,c.Fd):b?a.si(b.Md,b.Fd):this.i.Ve||(a.Bj(this.i.width,this.i.height),Z=this.i.width/2,S=this.i.height/2,K=M=0,U=this.i.width,P=this.i.height),a.Hf(d),a.ge(B[I]),a.Gf(),a.translate(-Z,-S),a.hf(),c&&1===f.length&&!ma?a.ag(M,K,U,K,U,P,M,P,R):a.ag(M,P,U,P,U,K,M,K,R),a.ge(null))};a.prototype.Xo=function(a){var b,c;b=0;for(c=this.Sa.length;b<c;b++)if(this.Sa[b].kb===a)return this.Sa[b];return null};
a.prototype.Ub=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.M,w:this.width,h:this.height,fv:this.$j,persist:this.mi,fx:[],layers:{}};a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],d.fx.push({name:c.name,active:c.vc,params:this.ec[c.index]});a=0;for(b=this.Sa.length;a<b;a++)c=this.Sa[a],d.layers[c.kb.toString()]=c.Ub();return d};a.prototype.Xb=function(a){var b,c,d,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.M=a.a;this.width=a.w;this.height=a.h;this.mi=a.persist;
"undefined"!==typeof a.fv&&(this.$j=a.fv);var e=a.fx;b=0;for(c=e.length;b<c;b++)if(d=this.hs(e[b].name))d.vc=e[b].active,this.ec[d.index]=e[b].params;this.hg();b=a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.Xo(parseInt(f,10)))&&a.Xb(b[f])};qc=a;b.prototype.hg=function(){H(this.yb);this.rh=!0;var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.vc&&(this.yb.push(c),c.Ef||(this.rh=!1))};b.prototype.hs=function(a){var b,c,d;b=0;for(c=this.Qa.length;b<c;b++)if(d=this.Qa[b],d.name===a)return d;
return null};b.prototype.VB=function(){var a,b,c,d,f,g;b=a=0;for(c=this.Xe.length;a<c;a++){d=this.Xe[a];f=this.i.ua[d[1]];g=this.i.Gu(f);f=!0;if(!g||this.pc.$j){d=this.i.Nh(d,this,!0);if(!d)continue;e.push(d);d.type.global&&(f=!1,this.sl.push(d.uid))}f&&(this.Xe[b]=this.Xe[a],b++)}this.Xe.length=b;this.i.yd();!this.i.la&&this.Qa.length&&(this.zd=this.yC);this.ql=Lb(this.zd);this.i.ya&&Mb(this,this.zd,this.i.ya);this.bg=!0};b.prototype.Lk=function(a,b){var c=Ka(this.G,a);0>c||(b&&this.jf&&a.ye&&a.ye.right>=
a.ye.left&&(a.$a(),this.ud.update(a,a.ye,null),a.ye.set(0,0,-1,-1)),c===this.G.length-1?this.G.pop():(Ea(this.G,c),this.$m(c)),this.bg=!0)};b.prototype.ll=function(a,b){a.jg=this.G.length;this.G.push(a);b&&this.jf&&a.ye&&a.aa();this.bg=!0};b.prototype.RE=function(a){this.G.unshift(a);this.$m(0)};b.prototype.yE=function(a,b,c){var d=a.zg();b=b.zg();Ea(this.G,d);d<b&&b--;c&&b++;b===this.G.length?this.G.push(a):this.G.splice(b,0,a);this.$m(d<b?d:b)};b.prototype.$m=function(a){-1===this.Ah?this.Ah=a:
a<this.Ah&&(this.Ah=a);this.bg=this.Gj=!0};b.prototype.Ku=function(){if(this.Gj){-1===this.Ah&&(this.Ah=0);var a,b,c;if(this.jf)for(a=this.Ah,b=this.G.length;a<b;++a)c=this.G[a],c.jg=a,this.ud.tE(c.ye);else for(a=this.Ah,b=this.G.length;a<b;++a)this.G[a].jg=a;this.Gj=!1;this.Ah=-1}};b.prototype.Hd=function(a){return this.xD()*(this.i.Ve||a?this.i.ml:1)};b.prototype.xD=function(){return(this.scale*this.pc.scale-1)*this.Td+1};b.prototype.Sb=function(){return this.Ug?0:Ta(this.pc.M+this.M)};var h=[],
m=[],l=[];b.prototype.qs=function(){this.Ku();this.ud.jq(this.qb,this.rb,this.Fb,this.Eb,l);if(!l.length)return d();if(1===l.length){var a=d();Ha(a,l[0]);H(l);return a}for(var b=!0;1<l.length;){for(var a=l,c=void 0,f=void 0,e=void 0,h=void 0,p=void 0,c=0,f=a.length;c<f-1;c+=2){var e=a[c],h=a[c+1],p=d(),u=e,x=h,z=p,D=0,B=0,E=0,C=u.length,w=x.length,y=void 0,G=void 0;for(z.length=C+w;D<C&&B<w;++E)y=u[D],G=x[B],y.jg<G.jg?(z[E]=y,++D):(z[E]=G,++B);for(;D<C;++D,++E)z[E]=u[D];for(;B<w;++B,++E)z[E]=x[B];
b||(g(e),g(h));m.push(p)}1===f%2&&(b?(e=d(),Ha(e,a[f-1]),m.push(e)):m.push(a[f-1]));Ha(a,m);H(m);b=!1}a=l[0];H(l);return a};b.prototype.Wd=function(a){this.Fg=this.So||1!==this.opacity||0!==this.zd;var b=this.i.canvas,c=a,d=!1;this.Fg&&(this.i.wp||(this.i.wp=document.createElement("canvas"),b=this.i.wp,b.width=this.i.Ga,b.height=this.i.Fa,this.i.Rw=b.getContext("2d"),d=!0),b=this.i.wp,c=this.i.Rw,b.width!==this.i.Ga&&(b.width=this.i.Ga,d=!0),b.height!==this.i.Fa&&(b.height=this.i.Fa,d=!0),d&&(c.webkitImageSmoothingEnabled=
this.i.Ya,c.mozImageSmoothingEnabled=this.i.Ya,c.msImageSmoothingEnabled=this.i.Ya,c.imageSmoothingEnabled=this.i.Ya),this.gg&&c.clearRect(0,0,this.i.Ga,this.i.Fa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.gg||(c.fillStyle="rgb("+this.Rf[0]+","+this.Rf[1]+","+this.Rf[2]+")",c.fillRect(0,0,this.i.Ga,this.i.Fa));c.save();this.Ug=!0;var d=this.mc(0,0,!0,!0),f=this.mc(0,0,!1,!0);this.Ug=!1;this.i.xe&&(d=Math.round(d),f=Math.round(f));this.mq(d,f,c);var e=this.Hd();c.scale(e,e);c.translate(-d,
-f);this.jf?(this.md.left=this.ud.ie(this.qb),this.md.top=this.ud.je(this.rb),this.md.right=this.ud.ie(this.Fb),this.md.bottom=this.ud.je(this.Eb),this.bg||!this.md.wl(this.sk)?(g(this.fh),d=this.qs(),this.bg=!1,this.sk.Sj(this.md)):d=this.fh):d=this.G;for(var h,l=null,f=0,e=d.length;f<e;++f)h=d[f],h!==l&&(this.tC(h,c),l=h);this.jf&&(this.fh=d);c.restore();this.Fg&&(a.globalCompositeOperation=this.ql,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.tC=function(a,b){if(a.visible&&0!==a.width&&
0!==a.height){a.$a();var c=a.Jb;c.right<this.qb||c.bottom<this.rb||c.left>this.Fb||c.top>this.Eb||(b.globalCompositeOperation=a.ql,a.Wd(b))}};b.prototype.Rq=function(){this.Ug=!0;var a=this.mc(0,0,!0,!0),b=this.mc(0,0,!1,!0);this.Ug=!1;this.i.xe&&(a=Math.round(a),b=Math.round(b));this.mq(a,b,null)};b.prototype.mq=function(a,b,c){var d=this.Hd();this.qb=a;this.rb=b;this.Fb=a+1/d*this.i.Ga;this.Eb=b+1/d*this.i.Fa;this.qb>this.Fb&&(a=this.qb,this.qb=this.Fb,this.Fb=a);this.rb>this.Eb&&(a=this.rb,this.rb=
this.Eb,this.Eb=a);a=this.Sb();0!==a&&(c&&(c.translate(this.i.Ga/2,this.i.Fa/2),c.rotate(-a),c.translate(this.i.Ga/-2,this.i.Fa/-2)),this.wh.set(this.qb,this.rb,this.Fb,this.Eb),this.wh.offset((this.qb+this.Fb)/-2,(this.rb+this.Eb)/-2),this.Ry.wy(this.wh,a),this.Ry.Jv(this.wh),this.wh.offset((this.qb+this.Fb)/2,(this.rb+this.Eb)/2),this.qb=this.wh.left,this.rb=this.wh.top,this.Fb=this.wh.right,this.Eb=this.wh.bottom)};b.prototype.Qh=function(a){if(this.Fg=this.So){this.i.Sc||(this.i.Sc=a.Ie(this.i.Ga,
this.i.Fa,this.i.Ya));if(this.i.Sc.Mi!==this.i.Ga||this.i.Sc.Li!==this.i.Fa)a.deleteTexture(this.i.Sc),this.i.Sc=a.Ie(this.i.Ga,this.i.Fa,this.i.Ya);a.Hf(this.i.Sc)}this.Ug=!0;var b=this.mc(0,0,!0,!0),c=this.mc(0,0,!1,!0);this.Ug=!1;this.i.xe&&(b=Math.round(b),c=Math.round(c));this.mq(b,c,null);b=this.Hd();a.Gf();a.scale(b,b);a.nq(-this.Sb());a.translate((this.qb+this.Fb)/-2,(this.rb+this.Eb)/-2);a.hf();this.jf?(this.md.left=this.ud.ie(this.qb),this.md.top=this.ud.je(this.rb),this.md.right=this.ud.ie(this.Fb),
this.md.bottom=this.ud.je(this.Eb),this.bg||!this.md.wl(this.sk)?(g(this.fh),b=this.qs(),this.bg=!1,this.sk.Sj(this.md)):b=this.fh):b=this.G;for(var d,f=null,c=b.length-1;0<=c;--c)d=b[c],d!==f&&(this.vC(b[c],a),f=d);this.jf&&(this.fh=b);this.gg||(this.Lr=this.i.Ri++,a.sq(this.Lr),a.jy(1,1,1),a.gw(),a.dF())};b.prototype.zc=function(a){var b=0,c=0;if(this.Fg=this.So||1!==this.opacity||0<this.yb.length||0!==this.zd){this.i.Sc||(this.i.Sc=a.Ie(this.i.Ga,this.i.Fa,this.i.Ya));if(this.i.Sc.Mi!==this.i.Ga||
this.i.Sc.Li!==this.i.Fa)a.deleteTexture(this.i.Sc),this.i.Sc=a.Ie(this.i.Ga,this.i.Fa,this.i.Ya);a.Hf(this.i.Sc);this.gg&&a.clear(0,0,0,0)}this.gg||(this.i.Ob?(a.sq(this.Lr),a.jy(this.Rf[0]/255,this.Rf[1]/255,this.Rf[2]/255),a.gw(),a.sF()):a.clear(this.Rf[0]/255,this.Rf[1]/255,this.Rf[2]/255,1));this.Ug=!0;var d=this.mc(0,0,!0,!0),b=this.mc(0,0,!1,!0);this.Ug=!1;this.i.xe&&(d=Math.round(d),b=Math.round(b));this.mq(d,b,null);d=this.Hd();a.Gf();a.scale(d,d);a.nq(-this.Sb());a.translate((this.qb+this.Fb)/
-2,(this.rb+this.Eb)/-2);a.hf();this.jf?(this.md.left=this.ud.ie(this.qb),this.md.top=this.ud.je(this.rb),this.md.right=this.ud.ie(this.Fb),this.md.bottom=this.ud.je(this.Eb),this.bg||!this.md.wl(this.sk)?(g(this.fh),b=this.qs(),this.bg=!1,this.sk.Sj(this.md)):b=this.fh):b=this.G;var f,e,h=null,c=0;for(f=b.length;c<f;++c)e=b[c],e!==h&&(this.uC(b[c],a),h=e);this.jf&&(this.fh=b);this.Fg&&(b=this.yb.length?this.yb[0].Ic:0,c=this.yb.length?this.yb[0].index:0,0===this.yb.length||1===this.yb.length&&!a.Tt(b)&&
1===this.opacity?(1===this.yb.length?(a.Ae(b),a.Ok(this.pc.Il(),1/this.i.Ga,1/this.i.Fa,0,0,1,1,d,this.Sb(),this.qb,this.rb,(this.qb+this.Fb)/2,(this.rb+this.Eb)/2,this.i.bd.Va,this.ec[c]),a.hq(b)&&(this.i.Ua=!0)):a.Ae(0),a.Hf(this.pc.Il()),a.qh(this.opacity),a.ge(this.i.Sc),a.si(this.Md,this.Fd),a.Gf(),a.hf(),d=this.i.Ga/2,b=this.i.Fa/2,a.Kk(-d,b,d,b,d,-b,-d,-b),a.ge(null)):this.pc.au(a,this,null,this.pc.Il()))};b.prototype.uC=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.$a();var c=a.Jb;
c.right<this.qb||c.bottom<this.rb||c.left>this.Fb||c.top>this.Eb||(b.sq(a.Ri),a.dz?this.wC(a,b):(b.Ae(0),b.si(a.Md,a.Fd),a.zc(b)))}};b.prototype.vC=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.$a();var c=a.Jb;c.right<this.qb||c.bottom<this.rb||c.left>this.Fb||c.top>this.Eb||(a.Ri=this.i.Ri++,0===a.zd&&1===a.opacity&&a.rh&&a.Qh&&(b.sq(a.Ri),a.Qh(b)))}};b.prototype.wC=function(a,b){var c=a.yb[0].Ic,d=a.yb[0].index,f=this.Hd();if(1!==a.yb.length||b.Tt(c)||b.VE(c)||(a.M||a.O.Sb())&&b.Rm(c)||
1!==a.opacity||a.type.fb.wx)this.pc.au(b,this,a,this.Fg?this.i.Sc:this.pc.Il()),b.Gf(),b.scale(f,f),b.nq(-this.Sb()),b.translate((this.qb+this.Fb)/-2,(this.rb+this.Eb)/-2),b.hf();else{b.Ae(c);b.si(a.Md,a.Fd);b.hq(c)&&(this.i.Ua=!0);var e=0,g=0,h=0,l=0;b.Rm(c)&&(l=a.Jb,e=this.Bb(l.left,l.top,!0,!0),g=this.Bb(l.left,l.top,!1,!0),h=this.Bb(l.right,l.bottom,!0,!0),l=this.Bb(l.right,l.bottom,!1,!0),e=e/windowWidth,g=1-g/windowHeight,h=h/windowWidth,l=1-l/windowHeight);var m;a.kd&&a.kd.Da?(m=a.kd.Da,c=
1/m.width,m=1/m.height):(c=1/a.width,m=1/a.height);b.Ok(this.Fg?this.i.Sc:this.pc.Il(),c,m,e,g,h,l,f,this.Sb(),this.qb,this.rb,(this.qb+this.Fb)/2,(this.rb+this.Eb)/2,this.i.bd.Va,a.ec[d]);a.zc(b)}};b.prototype.mc=function(a,b,c,d){var f=this.i.devicePixelRatio;this.i.cj&&(a*=f,b*=f);var f=this.i.Qx,e=this.i.Rx,f=(this.pc.scrollX-f)*this.ve+f,e=(this.pc.scrollY-e)*this.we+e,g=f,h=e,l=1/this.Hd(!d);d?(g-=this.i.Ga*l/2,h-=this.i.Fa*l/2):(g-=this.i.width*l/2,h-=this.i.height*l/2);g+=a*l;h+=b*l;b=this.Sb();
0!==b&&(g-=f,h-=e,a=Math.cos(b),b=Math.sin(b),d=g*a-h*b,h=h*a+g*b,g=d+f,h+=e);return c?g:h};b.prototype.Bb=function(a,b,c,d){var f=this.i.Qx,e=this.i.Rx,g=(this.pc.scrollX-f)*this.ve+f,h=(this.pc.scrollY-e)*this.we+e,e=g,f=h,l=this.Sb();if(0!==l){a-=g;b-=h;var m=Math.cos(-l),l=Math.sin(-l),D=a*m-b*l;b=b*m+a*l;a=D+g;b+=h}g=1/this.Hd(!d);d?(e-=this.i.Ga*g/2,f-=this.i.Fa*g/2):(e-=this.i.width*g/2,f-=this.i.height*g/2);e=(a-e)/g;f=(b-f)/g;a=this.i.devicePixelRatio;this.i.cj&&!d&&(e/=a,f/=a);return c?
e:f};b.prototype.Ub=function(){var a,b,c,d={s:this.scale,a:this.M,vl:this.qb,vt:this.rb,vr:this.Fb,vb:this.Eb,v:this.visible,bc:this.Rf,t:this.gg,px:this.ve,py:this.we,o:this.opacity,zr:this.Td,fx:[],cg:this.sl,instances:[]};a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],d.fx.push({name:c.name,active:c.vc,params:this.ec[c.index]});return d};b.prototype.Xb=function(a){var b,d,f;this.scale=a.s;this.M=a.a;this.qb=a.vl;this.rb=a.vt;this.Fb=a.vr;this.Eb=a.vb;this.visible=a.v;this.Rf=a.bc;this.gg=a.t;this.ve=
a.px;this.we=a.py;this.opacity=a.o;this.Td=a.zr;this.sl=a.cg||[];Ha(this.Xe,this.Ey);var e=new ca;b=0;for(f=this.sl.length;b<f;++b)e.add(this.sl[b]);d=b=0;for(f=this.Xe.length;b<f;++b)e.contains(this.Xe[b][2])||(this.Xe[d]=this.Xe[b],++d);Fa(this.Xe,d);d=a.fx;b=0;for(f=d.length;b<f;b++)if(a=this.hs(d[b].name))a.vc=d[b].active,this.ec[a.index]=d[b].params;this.hg();this.G.sort(c);this.Gj=!0};Ec=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,f,e,g;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=v.length&&(v.length=b.length+1);v[b.length]||(v[b.length]=[]);g=v[b.length];d=0;for(f=g.length;d<f;d++)if(e=g[d],a(b,e))return e;g.push(b);return b}
function d(a,b){this.i=a;this.Uy={};this.aw={};this.zs=!1;this.yw=new ca;this.Sr=[];this.Ar=[];this.name=b[0];var c=b[1];this.Sh=[];var d,f;d=0;for(f=c.length;d<f;d++)this.Aw(c[d],null,this.Sh)}function g(a){this.type=a;this.G=[];this.Ra=[];this.Za=!0}function e(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Vb=[];this.ti=[];this.ww=this.Lq=this.Cu=this.Fs=this.group=this.ru=!1;this.Oc=[];this.nf=[];this.Jf=[];this.Ml="";this.Xi=this.Fs=this.group=!1;this.lo=null;c[1]&&(this.Ml=c[1][1].toLowerCase(),
this.group=!0,this.Fs=!!c[1][0],this.lo=[],this.Xi=this.Fs,this.i.Nj.push(this),this.i.ck[this.Ml]=this);this.df=c[2];this.kb=c[4];this.group||(this.i.Iv[this.kb.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var f=new Fc(this,d[a]);f.index=a;this.Oc.push(f);this.Cv(f.type)}d=c[6];a=0;for(b=d.length;a<b;a++)f=new Ic(this,d[a]),f.index=a,this.nf.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Aw(c[a],this,this.Jf);this.qp=!1;this.Oc.length&&(this.qp=null==this.Oc[0].type&&
this.Oc[0].nd==L.prototype.H.Su)}function f(a,b){var c,d,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Jd))for(c=0,d=a.He.length;c<d;c++)f=a.He[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function h(a,b){this.Ue=a;this.sheet=a.sheet;this.i=a.i;this.Ta=[];this.jc=[];this.ma={};this.index=-1;this.jl=!1;this.nd=this.i.Dh(b[1]);this.trigger=0<b[3];this.$v=2===b[3];this.Ag=b[4];this.lp=b[5];this.oE=b[6];this.kb=b[7];this.i.Mh[this.kb.toString()]=this;-1===b[0]?(this.type=null,this.Hc=this.fu,this.Ki=null,this.Tf=
-1):(this.type=this.i.ua[b[0]],this.Hc=this.oE?this.kF:this.eu,b[2]?(this.Ki=this.type.Uo(b[2]),this.Tf=this.type.es(b[2])):(this.Ki=null,this.Tf=-1),this.Ue.parent&&this.Ue.parent.vq());this.$v&&(this.Hc=this.lF);if(10===b.length){var c,d,f=b[9];c=0;for(d=f.length;c<d;c++){var e=new Qc(this,f[c]);this.Ta.push(e)}this.jc.length=f.length}}function m(a,b){this.Ue=a;this.sheet=a.sheet;this.i=a.i;this.Ta=[];this.jc=[];this.ma={};this.index=-1;this.jl=!1;this.nd=this.i.Dh(b[1]);-1===b[0]?(this.type=null,
this.Hc=this.fu,this.Ki=null,this.Tf=-1):(this.type=this.i.ua[b[0]],this.Hc=this.eu,b[2]?(this.Ki=this.type.Uo(b[2]),this.Tf=this.type.es(b[2])):(this.Ki=null,this.Tf=-1));this.kb=b[3];this.i.Gh[this.kb.toString()]=this;if(6===b.length){var c,d,f=b[5];c=0;for(d=f.length;c<d;c++){var e=new Qc(this,f[c]);this.Ta.push(e)}this.jc.length=f.length}}function l(){p++;t.length===p&&t.push(new Rc);return t[p]}function k(a,b){this.Wb=a;this.Ue=a.Ue;this.sheet=a.sheet;this.i=a.i;this.type=b[0];this.wg=null;this.sh=
0;this.get=null;this.Pv=0;this.pc=null;this.key=0;this.object=null;this.index=0;this.zn=this.Dj=this.zn=this.Dj=this.ew=this.Ti=this.An=null;this.Lf=!1;var c,d,f;switch(b[0]){case 0:case 7:this.wg=new Sc(this,b[1]);this.sh=0;this.get=this.JD;break;case 1:this.wg=new Sc(this,b[1]);this.sh=0;this.get=this.KD;break;case 5:this.wg=new Sc(this,b[1]);this.sh=0;this.get=this.OD;break;case 3:case 8:this.Pv=b[1];this.get=this.HD;break;case 6:this.pc=this.i.gt[b[1]];this.get=this.PD;break;case 9:this.key=b[1];
this.get=this.ND;break;case 4:this.object=this.i.ua[b[1]];this.get=this.QD;this.Ue.Cv(this.object);this.Wb instanceof Ic?this.Ue.vq():this.Ue.parent&&this.Ue.parent.vq();break;case 10:this.index=b[1];a.type&&a.type.Aa?(this.get=this.LD,this.Lf=!0):this.get=this.MD;break;case 11:this.An=b[1];this.Ti=null;this.get=this.ID;break;case 2:case 12:this.ew=b[1];this.get=this.GD;break;case 13:for(this.get=this.RD,this.Dj=[],this.zn=[],c=1,d=b.length;c<d;c++)f=new Qc(this.Wb,b[c]),this.Dj.push(f),this.zn.push(0)}}
function n(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Vb=[];this.name=c[1];this.Tq=c[2];this.gp=c[3];this.cm=!!c[4];this.pp=!!c[5];this.kb=c[6];this.i.Zk[this.kb.toString()]=this;this.data=this.gp;this.parent?(this.pj=this.cm||this.pp?-1:this.i.wF++,this.i.DB.push(this)):(this.pj=-1,this.i.sr.push(this))}function q(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Vb=[];this.Pl=null;this.ZD=c[1];this.vc=!0}function r(){this.Iy=[];this.reset(null)}var v=[];d.prototype.toString=function(){return this.name};
d.prototype.Aw=function(a,b,c){switch(a[0]){case 0:a=new Tc(this,b,a);if(a.df)for(c.push(a),c=0,b=a.Oc.length;c<b;c++)a.Oc[c].trigger&&this.Bw(a,c);else a.Kw()?this.Bw(a,0):c.push(a);break;case 1:a=new Bc(this,b,a);c.push(a);break;case 2:a=new Uc(this,b,a),c.push(a)}};d.prototype.uc=function(){var a,b;a=0;for(b=this.Sh.length;a<b;a++)this.Sh[a].uc(a<b-1&&this.Sh[a+1].qp)};d.prototype.Iu=function(){H(this.Sr);H(this.Ar);this.Bv(this);H(this.Ar)};d.prototype.Bv=function(a){var b,c,d,f,e=a.Sr,g=a.Ar,
h=this.yw.ig();b=0;for(c=h.length;b<c;++b)d=h[b],f=d.Pl,!d.vc||a===f||-1<g.indexOf(f)||(g.push(f),f.Bv(a),e.push(f))};d.prototype.Hc=function(a){this.i.NG||(this.zs=!0,a||(this.i.Os=!0));var b,c;b=0;for(c=this.Sh.length;b<c;b++){var d=this.Sh[b];d.Hc();this.i.Kr(d.Vb);this.i.Wh&&this.i.yd()}a||(this.i.Os=!1)};d.prototype.Bw=function(a,b){a.df||this.i.Oq.push(a);var c,d,f=a.Oc[b],e;f.type?e=f.type.name:e="system";var g=(c=f.$v)?this.aw:this.Uy;g[e]||(g[e]=[]);e=g[e];g=f.nd;if(c){if(f.Ta.length&&(f=
f.Ta[0],1===f.type&&2===f.wg.type)){f=f.wg.value.toLowerCase();c=0;for(d=e.length;c<d;c++)if(e[c].method==g){c=e[c].yl;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];e.push({method:g,yl:c})}}else{c=0;for(d=e.length;c<d;c++)if(e[c].method==g){e[c].yl.push([a,b]);return}id&&g===id.prototype.H.Lj?e.unshift({method:g,yl:[[a,b]]}):e.push({method:g,yl:[[a,b]]})}};rc=d;g.prototype.ys=function(){return this.Za?this.type.G.length:this.G.length};g.prototype.Gd=function(){return this.Za?this.type.G:
this.G};g.prototype.Ik=function(a){a&&(a.i.Cc().Zc.df?(this.Za&&(H(this.G),Ha(this.Ra,a.type.G),this.Za=!1),a=this.Ra.indexOf(a),-1!==a&&(this.G.push(this.Ra[a]),this.Ra.splice(a,1))):(this.Za=!1,H(this.G),this.G[0]=a))};$b=g;window._c2hh_="5AFA373D7ADC68A1BB7AD7F0086E70B954407AFE";e.prototype.uc=function(a){var c,d=this.parent;if(this.group)for(this.Lq=!0;d;){if(!d.group){this.Lq=!1;break}d=d.parent}this.Cu=!this.Kw()&&(!this.parent||this.parent.group&&this.parent.Lq);this.ww=!!a;this.ti=this.Vb.slice(0);
for(d=this.parent;d;){a=0;for(c=d.Vb.length;a<c;a++)this.AB(d.Vb[a]);d=d.parent}this.Vb=b(this.Vb);this.ti=b(this.ti);a=0;for(c=this.Oc.length;a<c;a++)this.Oc[a].uc();a=0;for(c=this.nf.length;a<c;a++)this.nf[a].uc();a=0;for(c=this.Jf.length;a<c;a++)this.Jf[a].uc(a<c-1&&this.Jf[a+1].qp)};e.prototype.tq=function(a){if(this.Xi!==!!a){this.Xi=!!a;var b;a=0;for(b=this.lo.length;a<b;++a)this.lo[a].Zy();0<b&&this.i.Mb.Si&&this.i.Mb.Si.Iu()}};e.prototype.Cv=function(a){f(a,this.Vb)};e.prototype.AB=function(a){f(a,
this.ti)};e.prototype.vq=function(){this.ru=!0;this.parent&&this.parent.vq()};e.prototype.Kw=function(){return this.Oc.length?this.Oc[0].trigger:!1};e.prototype.Hc=function(){var a,b,c=!1,d=this.i,f=this.i.Cc();f.Zc=this;var e=this.Oc;this.qp||(f.Tr=!1);if(this.df){0===e.length&&(c=!0);f.wc=0;for(a=e.length;f.wc<a;f.wc++)b=e[f.wc],b.trigger||(b=b.Hc())&&(c=!0);(f.jj=c)&&this.oq()}else{f.wc=0;for(a=e.length;f.wc<a;f.wc++)if(b=e[f.wc].Hc(),!b){f.jj=!1;this.Cu&&d.Wh&&d.yd();return}f.jj=!0;this.oq()}this.AC(f)};
e.prototype.AC=function(a){a.jj&&this.ww&&(a.Tr=!0);this.Cu&&this.i.Wh&&this.i.yd()};e.prototype.iF=function(a){this.i.Cc().Zc=this;this.Oc[a].Hc()&&(this.oq(),this.i.Cc().jj=!0)};e.prototype.oq=function(){var a=this.i.Cc(),b;a.Te=0;for(b=this.nf.length;a.Te<b;a.Te++)if(this.nf[a.Te].Hc())return;this.gy()};e.prototype.fF=function(){var a=this.i.Cc(),b;for(b=this.nf.length;a.Te<b;a.Te++)if(this.nf[a.Te].Hc())return;this.gy()};e.prototype.gy=function(){if(this.Jf.length){var a,b,c,d,f=this.Jf.length-
1;this.i.iq(this);if(this.ru)for(a=0,b=this.Jf.length;a<b;a++)c=this.Jf[a],(d=!this.Lq||!this.group&&a<f)&&this.i.Um(c.Vb),c.Hc(),d?this.i.oi(c.Vb):this.i.Kr(c.Vb);else for(a=0,b=this.Jf.length;a<b;a++)this.Jf[a].Hc();this.i.dq()}};e.prototype.jF=function(){var a=this.i.Cc();a.Zc=this;var b=!1,c;a.wc=0;for(c=this.Oc.length;a.wc<c;a.wc++)if(this.Oc[a.wc].Hc())b=!0;else if(!this.df)return!1;return this.df?b:!0};e.prototype.du=function(){this.i.Ui++;var a=this.i.Cc().wc,b=this.i.iq(this);if(!this.df)for(b.wc=
a+1,a=this.Oc.length;b.wc<a;b.wc++)if(!this.Oc[b.wc].Hc()){this.i.dq();return}this.oq();this.i.dq()};e.prototype.gE=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Oc[b].type===a.type)return!1;return!0};Tc=e;h.prototype.uc=function(){var a,b,c;a=0;for(b=this.Ta.length;a<b;a++)c=this.Ta[a],c.uc(),c.Lf&&(this.jl=!0)};h.prototype.lF=function(){return!0};h.prototype.fu=function(){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.jc[a]=this.Ta[a].get();return eb(this.nd.apply(this.i.Ig,
this.jc),this.lp)};h.prototype.kF=function(){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.jc[a]=this.Ta[a].get();a=this.nd.apply(this.Ki?this.Ki:this.type,this.jc);this.type.Ge();return a};h.prototype.eu=function(){var a,b,c,d,f,e,g,h,k=this.type,l=k.La(),m=this.Ue.df&&!this.trigger;b=0;var p=k.Jd,n=k.Aa,r=k.Wg,q=this.Tf,v=-1<q,t=this.jl,R=this.Ta,J=this.jc,M=this.lp,O=this.nd,K;if(t)for(b=0,f=R.length;b<f;++b)e=R[b],e.Lf||(J[b]=e.get(0));else for(b=0,f=R.length;b<f;++b)J[b]=R[b].get(0);if(l.Za){H(l.G);
H(l.Ra);K=k.G;a=0;for(d=K.length;a<d;++a){h=K[a];if(t)for(b=0,f=R.length;b<f;++b)e=R[b],e.Lf&&(J[b]=e.get(a));v?(b=0,n&&(b=h.type.Zj[r]),b=O.apply(h.Ja[q+b],J)):b=O.apply(h,J);(g=eb(b,M))?l.G.push(h):m&&l.Ra.push(h)}k.finish&&k.finish(!0);l.Za=!1;k.Ge();return l.ys()}c=0;K=(g=m&&!this.Ue.gE(this))?l.Ra:l.G;var N=!1;a=0;for(d=K.length;a<d;++a){h=K[a];if(t)for(b=0,f=R.length;b<f;++b)e=R[b],e.Lf&&(J[b]=e.get(a));v?(b=0,n&&(b=h.type.Zj[r]),b=O.apply(h.Ja[q+b],J)):b=O.apply(h,J);if(eb(b,M))if(N=!0,g){if(l.G.push(h),
p)for(b=0,f=h.siblings.length;b<f;b++)e=h.siblings[b],e.type.La().G.push(e)}else{K[c]=h;if(p)for(b=0,f=h.siblings.length;b<f;b++)e=h.siblings[b],e.type.La().G[c]=e;c++}else if(g){K[c]=h;if(p)for(b=0,f=h.siblings.length;b<f;b++)e=h.siblings[b],e.type.La().Ra[c]=e;c++}else if(m&&(l.Ra.push(h),p))for(b=0,f=h.siblings.length;b<f;b++)e=h.siblings[b],e.type.La().Ra.push(e)}Fa(K,c);if(p)for(n=k.He,a=0,d=n.length;a<d;a++)h=n[a].La(),g?Fa(h.Ra,c):Fa(h.G,c);c=N;if(g&&!N)for(a=0,d=l.G.length;a<d;a++){h=l.G[a];
if(t)for(b=0,f=R.length;b<f;b++)e=R[b],e.Lf&&(J[b]=e.get(a));b=v?O.apply(h.Ja[q],J):O.apply(h,J);if(eb(b,M)){N=!0;break}}k.finish&&k.finish(c||m);return m?N:l.ys()};Fc=h;m.prototype.uc=function(){var a,b,c;a=0;for(b=this.Ta.length;a<b;a++)c=this.Ta[a],c.uc(),c.Lf&&(this.jl=!0)};m.prototype.fu=function(){var a=this.i,b,c,d=this.Ta,f=this.jc;b=0;for(c=d.length;b<c;++b)f[b]=d[b].get();return this.nd.apply(a.Ig,f)};m.prototype.eu=function(){var a=this.type,b=this.Tf,c=a.Wg,d=this.jl,f=this.Ta,e=this.jc,
g=this.nd,h=a.La().Gd(),a=a.Aa,k=-1<b,l,m,p,n,r,q;if(d)for(m=0,n=f.length;m<n;++m)r=f[m],r.Lf||(e[m]=r.get(0));else for(m=0,n=f.length;m<n;++m)e[m]=f[m].get(0);l=0;for(p=h.length;l<p;++l){q=h[l];if(d)for(m=0,n=f.length;m<n;++m)r=f[m],r.Lf&&(e[m]=r.get(l));k?(m=0,a&&(m=q.type.Zj[c]),g.apply(q.Ja[b+m],e)):g.apply(q,e)}return!1};Ic=m;var t=[],p=-1;k.prototype.uc=function(){var a,b;if(11===this.type)this.Ti=this.i.mw(this.An,this.Ue.parent);else if(13===this.type)for(a=0,b=this.Dj.length;a<b;a++)this.Dj[a].uc();
this.wg&&this.wg.uc()};k.prototype.vE=function(a){this.Lf||!a||a.fb.zq||(this.Lf=!0)};k.prototype.ty=function(){this.Lf=!0};k.prototype.JD=function(a){this.sh=a||0;a=l();this.wg.get(a);p--;return a.data};k.prototype.KD=function(a){this.sh=a||0;a=l();this.wg.get(a);p--;return oa(a.data)?a.data:""};k.prototype.QD=function(){return this.object};k.prototype.HD=function(){return this.Pv};k.prototype.OD=function(a){this.sh=a||0;a=l();this.wg.get(a);p--;return a.$c()?this.i.Yg(a.data):this.i.Hl(a.data)};
k.prototype.PD=function(){return this.pc};k.prototype.ND=function(){return this.key};k.prototype.MD=function(){return this.index};k.prototype.LD=function(a){a=a||0;var b=this.Wb.type,c=null,c=b.La(),d=c.Gd();if(d.length)c=d[a%d.length].type;else if(c.Ra.length)c=c.Ra[a%c.Ra.length].type;else if(b.G.length)c=b.G[a%b.G.length].type;else return 0;return this.index+c.Jo[b.Wg]};k.prototype.ID=function(){return this.Ti};k.prototype.GD=function(){return this.ew};k.prototype.RD=function(){var a,b;a=0;for(b=
this.Dj.length;a<b;a++)this.zn[a]=this.Dj[a].get();return this.zn};Qc=k;n.prototype.uc=function(){this.Vb=b(this.Vb)};n.prototype.Cj=function(a){var b=this.i.lw();this.parent&&!this.cm&&b?(this.pj>=b.length&&(b.length=this.pj+1),b[this.pj]=a):this.data=a};n.prototype.Kl=function(){var a=this.i.lw();return!this.parent||this.cm||!a||this.pp?this.data:this.pj>=a.length||"undefined"===typeof a[this.pj]?this.gp:a[this.pj]};n.prototype.Hc=function(){!this.parent||this.cm||this.pp||this.Cj(this.gp)};Bc=
n;q.prototype.toString=function(){return"include:"+this.Pl.toString()};q.prototype.uc=function(){this.Pl=this.i.Wr[this.ZD];this.sheet.yw.add(this);this.Vb=b(this.Vb);for(var a=this.parent;a;)a.group&&a.lo.push(this),a=a.parent;this.Zy()};q.prototype.Hc=function(){this.parent&&this.i.Tm(this.i.ua);this.Pl.zs||this.Pl.Hc(!0);this.parent&&this.i.oi(this.i.ua)};q.prototype.Zy=function(){for(var a=this.parent;a;){if(a.group&&!a.Xi){this.vc=!1;return}a=a.parent}this.vc=!0};Uc=q;r.prototype.reset=function(a){this.Zc=
a;this.Te=this.wc=0;H(this.Iy);this.Tr=this.jj=!1};r.prototype.jE=function(){return this.Zc.ru?!0:this.wc<this.Zc.Oc.length-1?!!this.Zc.Vb.length:!1};Ac=r})();
(function(){function a(a,b){this.Wb=a;this.i=a.i;this.type=b[0];this.get=[this.SC,this.OC,this.aD,this.dD,this.DC,this.bD,this.WC,this.LC,this.VC,this.$C,this.EC,this.ZC,this.MC,this.XC,this.TC,this.UC,this.PC,this.QC,this.KC,this.cD,this.YC,this.RC,this.JC,this.NC][this.type];var c=null;this.jh=this.Ta=this.jc=this.nd=this.Iq=this.second=this.first=this.value=null;this.Tf=-1;this.Wf=null;this.ez=-1;this.Ti=this.An=null;this.Mk=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Sc(a,b[1]);break;case 18:this.first=new Sc(a,b[1]);this.second=new Sc(a,b[2]);this.Iq=new Sc(a,b[3]);break;case 19:this.nd=this.i.Dh(b[1]);this.nd!==L.prototype.Ka.random&&this.nd!==L.prototype.Ka.PB||this.Wb.ty();this.jc=[];this.Ta=[];3===b.length?(c=b[2],this.jc.length=c.length+1):this.jc.length=1;break;case 20:this.jh=this.i.ua[b[1]];this.Tf=-1;this.nd=this.i.Dh(b[2]);this.Mk=b[3];jd&&this.nd===jd.prototype.Ka.pz&&this.Wb.ty();b[4]?this.Wf=new Sc(a,b[4]):this.Wf=null;this.jc=[];this.Ta=[];
6===b.length?(c=b[5],this.jc.length=c.length+1):this.jc.length=1;break;case 21:this.jh=this.i.ua[b[1]];this.Mk=b[2];b[3]?this.Wf=new Sc(a,b[3]):this.Wf=null;this.ez=b[4];break;case 22:this.jh=this.i.ua[b[1]];this.jh.Uo(b[2]);this.Tf=this.jh.es(b[2]);this.nd=this.i.Dh(b[3]);this.Mk=b[4];b[5]?this.Wf=new Sc(a,b[5]):this.Wf=null;this.jc=[];this.Ta=[];7===b.length?(c=b[6],this.jc.length=c.length+1):this.jc.length=1;break;case 23:this.An=b[1],this.Ti=null}this.Wb.vE(this.jh);4<=this.type&&17>=this.type&&
(this.first=new Sc(a,b[1]),this.second=new Sc(a,b[2]));if(c){var d,e;d=0;for(e=c.length;d<e;d++)this.Ta.push(new Sc(a,c[d]))}}function c(){++e;g.length===e&&g.push(new Rc);return g[e]}function b(a,b,c){var d,e;d=0;for(e=a.length;d<e;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Vc.Jj;this.data=b||0;this.tj=null;this.type==Vc.Jj&&(this.data=Math.floor(this.data))}a.prototype.uc=function(){23===this.type&&(this.Ti=this.Wb.i.mw(this.An,this.Wb.Ue.parent));this.first&&this.first.uc();this.second&&
this.second.uc();this.Iq&&this.Iq.uc();this.Wf&&this.Wf.uc();if(this.Ta){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.Ta[a].uc()}};var g=[],e=-1;a.prototype.cD=function(a){var d=this.Ta,g=this.jc;g[0]=a;a=c();b(d,g,a);--e;this.nd.apply(this.i.Ig,g)};a.prototype.YC=function(a){var d=this.jh,g=this.jc,l=this.Ta,k=this.Wf,n=this.nd,q=this.Wb.sh,r=d.La(),v=r.Gd();if(!v.length)if(r.Ra.length)v=r.Ra;else{this.Mk?a.vd(""):a.Rb(0);return}g[0]=a;a.tj=d;a=c();b(l,g,a);k&&(k.get(a),a.$c()&&(q=a.data,v=d.G));
--e;d=v.length;if(q>=d||q<=-d)q%=d;0>q&&(q+=d);n.apply(v[q],g)};a.prototype.JC=function(a){var d=this.jh,g=this.jc,l=this.Ta,k=this.Wf,n=this.Tf,q=this.nd,r=this.Wb.sh,v=d.La(),t=v.Gd();if(!t.length)if(v.Ra.length)t=v.Ra;else{this.Mk?a.vd(""):a.Rb(0);return}g[0]=a;a.tj=d;a=c();b(l,g,a);k&&(k.get(a),a.$c()&&(r=a.data,t=d.G));--e;l=t.length;if(r>=l||r<=-l)r%=l;0>r&&(r+=l);r=t[r];t=0;d.Aa&&(t=r.type.Zj[d.Wg]);q.apply(r.Ja[n+t],g)};a.prototype.RC=function(a){var b=this.Wf,d=this.jh,g=this.ez,k=this.Wb.sh,
n=d.La(),q=n.Gd();if(!q.length)if(n.Ra.length)q=n.Ra;else{this.Mk?a.vd(""):a.Rb(0);return}if(b){n=c();b.get(n);if(n.$c()){k=n.data;q=d.G;0!==q.length&&(k%=q.length,0>k&&(k+=q.length));k=d.ns(k);d=k.Pb[g];oa(d)?a.vd(d):a.wa(d);--e;return}--e}b=q.length;if(k>=b||k<=-b)k%=b;0>k&&(k+=b);k=q[k];q=0;d.Aa&&(q=k.type.Jo[d.Wg]);d=k.Pb[g+q];oa(d)?a.vd(d):a.wa(d)};a.prototype.SC=function(a){a.type=Vc.Jj;a.data=this.value};a.prototype.OC=function(a){a.type=Vc.Ij;a.data=this.value};a.prototype.aD=function(a){a.type=
Vc.String;a.data=this.value};a.prototype.dD=function(a){this.first.get(a);a.$c()&&(a.data=-a.data)};a.prototype.DC=function(a){this.first.get(a);var b=c();this.second.get(b);a.$c()&&b.$c()&&(a.data+=b.data,b.ik()&&a.Ak());--e};a.prototype.bD=function(a){this.first.get(a);var b=c();this.second.get(b);a.$c()&&b.$c()&&(a.data-=b.data,b.ik()&&a.Ak());--e};a.prototype.WC=function(a){this.first.get(a);var b=c();this.second.get(b);a.$c()&&b.$c()&&(a.data*=b.data,b.ik()&&a.Ak());--e};a.prototype.LC=function(a){this.first.get(a);
var b=c();this.second.get(b);a.$c()&&b.$c()&&(a.data/=b.data,a.Ak());--e};a.prototype.VC=function(a){this.first.get(a);var b=c();this.second.get(b);a.$c()&&b.$c()&&(a.data%=b.data,b.ik()&&a.Ak());--e};a.prototype.$C=function(a){this.first.get(a);var b=c();this.second.get(b);a.$c()&&b.$c()&&(a.data=Math.pow(a.data,b.data),b.ik()&&a.Ak());--e};a.prototype.EC=function(a){this.first.get(a);var b=c();this.second.get(b);b.lk()||a.lk()?this.GC(a,b):this.FC(a,b);--e};a.prototype.GC=function(a,b){a.lk()&&
b.lk()?this.IC(a,b):this.HC(a,b)};a.prototype.IC=function(a,b){a.data+=b.data};a.prototype.HC=function(a,b){a.lk()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.vd(a.data.toString()+b.data)};a.prototype.FC=function(a,b){a.Rb(a.data&&b.data?1:0)};a.prototype.ZC=function(a){this.first.get(a);var b=c();this.second.get(b);a.$c()&&b.$c()&&(a.data||b.data?a.Rb(1):a.Rb(0));--e};a.prototype.KC=function(a){this.first.get(a);a.data?this.second.get(a):this.Iq.get(a)};a.prototype.MC=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Rb(a.data===b.data?1:0);--e};a.prototype.XC=function(a){this.first.get(a);var b=c();this.second.get(b);a.Rb(a.data!==b.data?1:0);--e};a.prototype.TC=function(a){this.first.get(a);var b=c();this.second.get(b);a.Rb(a.data<b.data?1:0);--e};a.prototype.UC=function(a){this.first.get(a);var b=c();this.second.get(b);a.Rb(a.data<=b.data?1:0);--e};a.prototype.PC=function(a){this.first.get(a);var b=c();this.second.get(b);a.Rb(a.data>b.data?1:0);--e};a.prototype.QC=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Rb(a.data>=b.data?1:0);--e};a.prototype.NC=function(a){var b=this.Ti.Kl();na(b)?a.wa(b):a.vd(b)};Sc=a;d.prototype.ik=function(){return this.type===Vc.Ij};d.prototype.$c=function(){return this.type===Vc.Jj||this.type===Vc.Ij};d.prototype.lk=function(){return this.type===Vc.String};d.prototype.Ak=function(){this.ik()||(this.lk()&&(this.data=parseFloat(this.data)),this.type=Vc.Ij)};d.prototype.Rb=function(a){this.type=Vc.Jj;this.data=Math.floor(a)};d.prototype.wa=function(a){this.type=
Vc.Ij;this.data=a};d.prototype.vd=function(a){this.type=Vc.String;this.data=a};d.prototype.nu=function(a){na(a)?(this.type=Vc.Ij,this.data=a):oa(a)?(this.type=Vc.String,this.data=a.toString()):(this.type=Vc.Jj,this.data=0)};Rc=d;Vc={Jj:0,Ij:1,String:2}})();function L(a){this.i=a;this.Re=[]}
L.prototype.Ub=function(){var a={},c,b,d,g,e,f,h,m;a.waits=[];var l=a.waits,k;c=0;for(b=this.Re.length;c<b;c++){f=this.Re[c];k={t:f.time,st:f.vF,s:f.Ay,ev:f.xl.kb,sm:[],sols:{}};f.xl.nf[f.Te]&&(k.act=f.xl.nf[f.Te].kb);d=0;for(g=f.Vb.length;d<g;d++)k.sm.push(f.Vb[d].kb);for(e in f.Qe)if(f.Qe.hasOwnProperty(e)){h=this.i.ua[parseInt(e,10)];m={sa:f.Qe[e].hy,insts:[]};d=0;for(g=f.Qe[e].bj.length;d<g;d++)m.insts.push(f.Qe[e].bj[d].uid);k.sols[h.kb.toString()]=m}l.push(k)}return a};
L.prototype.Xb=function(a){a=a.waits;var c,b,d,g,e,f,h,m,l,k,n;H(this.Re);c=0;for(b=a.length;c<b;c++)if(f=a[c],m=this.i.Iv[f.ev.toString()]){l=-1;d=0;for(g=m.nf.length;d<g;d++)if(m.nf[d].kb===f.act){l=d;break}if(-1!==l){h={Qe:{},Vb:[],Uv:!1};h.time=f.t;h.vF=f.st||"";h.Ay=!!f.s;h.xl=m;h.Te=l;d=0;for(g=f.sm.length;d<g;d++)(m=this.i.Yo(f.sm[d]))&&h.Vb.push(m);for(e in f.sols)if(f.sols.hasOwnProperty(e)&&(m=this.i.Yo(parseInt(e,10)))){l=f.sols[e];k={hy:l.sa,bj:[]};d=0;for(g=l.insts.length;d<g;d++)(n=
this.i.Vf(l.insts[d]))&&k.bj.push(n);h.Qe[m.index.toString()]=k}this.Re.push(h)}}};
(function(){function a(){}function c(){}function b(){}var d=L.prototype;a.prototype.iv=function(){return!0};a.prototype.qA=function(){return!0};a.prototype.sz=function(a,b,c){return Wc(a,b,c)};var g=[],e=-1;a.prototype.Gz=function(a){var b=a.La();e++;g.length===e&&g.push([]);var c=g[e];Ha(c,b.Gd());var d=this.i.Cc(),f=d.Zc,h=d.jE(),d=this.i.YE(),v,t,p,u,x,z,D=a.Jd;if(h)for(h=0,v=c.length;h<v&&!d.fd;h++){this.i.Um(f.Vb);u=c[h];b=a.La();b.Za=!1;H(b.G);b.G[0]=u;if(D)for(t=0,p=u.siblings.length;t<p;t++)x=
u.siblings[t],z=x.type.La(),z.Za=!1,H(z.G),z.G[0]=x;d.index=h;f.du();this.i.oi(f.Vb)}else for(b.Za=!1,H(b.G),h=0,v=c.length;h<v&&!d.fd;h++){u=c[h];b.G[0]=u;if(D)for(t=0,p=u.siblings.length;t<p;t++)x=u.siblings[t],z=x.type.La(),z.Za=!1,H(z.G),z.G[0]=x;d.index=h;f.du()}H(c);this.i.OE();e--;return!1};a.prototype.RA=function(a,b,c,d){var f,h,v,t;if(a){e++;g.length===e&&g.push([]);var p=g[e],u=a.La();Ha(p,u.Gd());u.Za&&H(u.Ra);var x=this.i.Gl();v=f=0;for(h=p.length;f<h;f++)t=p[f],p[v]=t,b=x.Ta[1].get(f),
d=x.Ta[3].get(f),Wc(b,c,d)?v++:u.Ra.push(t);Fa(p,v);u.Za=!1;Ha(u.G,p);H(p);e--;a.Ge();return!!u.G.length}};a.prototype.Dz=function(a){var b=this.i.Gl(),c=b.ma.Every_lastTime||0,d=this.i.bd.Va;"undefined"===typeof b.ma.Every_seconds&&(b.ma.Every_seconds=a);var e=b.ma.Every_seconds;if(d>=c+e)return b.ma.Every_lastTime=c+e,d>=b.ma.Every_lastTime+.04&&(b.ma.Every_lastTime=d),b.ma.Every_seconds=a,!0;d<c-.1&&(b.ma.Every_lastTime=d);return!1};a.prototype.SA=function(a){if(!a)return!1;var b=a.La(),c=b.Gd(),
d=wa(Math.random()*c.length);if(d>=c.length)return!1;b.Ik(c[d]);a.Ge();return!0};a.prototype.xz=function(a,b,c){return Wc(a.Kl(),b,c)};a.prototype.Nz=function(a){return(a=this.i.ck[a.toLowerCase()])&&a.Xi};a.prototype.uz=function(a,b,c){return a>=b&&a<=c};a.prototype.Su=function(){var a=this.i.Cc();return a.Tr?!1:!a.jj};a.prototype.jv=function(){return!0};a.prototype.bA=function(){return!0};a.prototype.er=function(){return!0};a.prototype.ov=function(){return!0};a.prototype.rA=function(){return!0};
a.prototype.cr=function(){return!0};a.prototype.mz=function(a,b,c){return Ya(Pa(a),Pa(c))<=Pa(b)};a.prototype.Lz=function(a,b){return $a(Pa(a),Pa(b))};a.prototype.Jz=function(a,b,c){a=Va(a);b=Va(b);c=Va(c);return $a(c,b)?$a(a,b)&&!$a(a,c):!(!$a(a,b)&&$a(a,c))};d.H=new a;c.prototype.Hz=function(a){this.i.em||this.i.ol||(this.i.ol=a)};c.prototype.Bz=function(a,b,c,d){if(b&&a&&(b=this.i.ro(a,b,c,d))){this.i.Ze++;var e;this.i.trigger(Object.getPrototypeOf(a.fb).H.Ng,b);if(b.Jd)for(c=0,d=b.siblings.length;c<
d;c++)e=b.siblings[c],this.i.trigger(Object.getPrototypeOf(e.type.fb).H.Ng,e);this.i.Ze--;a=a.La();a.Za=!1;H(a.G);a.G[0]=b;if(b.Jd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.La(),a.Za=!1,H(a.G),a.G[0]=e}};c.prototype.gB=function(a,b){0===a.Tq?na(b)?a.Cj(b):a.Cj(parseFloat(b)):1===a.Tq&&a.Cj(b.toString())};c.prototype.lz=function(a,b){0===a.Tq?na(b)?a.Cj(a.Kl()+b):a.Cj(a.Kl()+parseFloat(b)):1===a.Tq&&a.Cj(a.Kl()+b.toString())};c.prototype.$A=function(a,b){var c=this.i.ck[a.toLowerCase()];
if(c)switch(b){case 0:c.tq(!1);break;case 1:c.tq(!0);break;case 2:c.tq(!c.Xi)}};c.prototype.fB=function(a){0>a&&(a=0);this.i.fg=a};var f=[],h=[];c.prototype.VA=function(){var a,b,c;a=0;for(b=this.i.sr.length;a<b;a++)c=this.i.sr[a],c.data=c.gp};d.ka=new c;b.prototype["int"]=function(a,b){oa(b)?(a.Rb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Rb(b)};b.prototype["float"]=function(a,b){oa(b)?(a.wa(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.wa(b)};b.prototype.random=function(a,b,c){void 0===c?a.wa(Math.random()*
b):a.wa(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.wa(Math.sqrt(b))};b.prototype.abs=function(a,b){a.wa(Math.abs(b))};b.prototype.round=function(a,b){a.Rb(Math.round(b))};b.prototype.floor=function(a,b){a.Rb(Math.floor(b))};b.prototype.ceil=function(a,b){a.Rb(Math.ceil(b))};b.prototype.sin=function(a,b){a.wa(Math.sin(Pa(b)))};b.prototype.cos=function(a,b){a.wa(Math.cos(Pa(b)))};b.prototype.tan=function(a,b){a.wa(Math.tan(Pa(b)))};b.prototype.asin=function(a,b){a.wa(Qa(Math.asin(b)))};
b.prototype.acos=function(a,b){a.wa(Qa(Math.acos(b)))};b.prototype.atan=function(a,b){a.wa(Qa(Math.atan(b)))};b.prototype.exp=function(a,b){a.wa(Math.exp(b))};b.prototype.log10=function(a,b){a.wa(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.wa(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<
d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.wa(b)};b.prototype.Xa=function(a){a.wa(this.i.Xa)};b.prototype.fg=function(a){a.wa(this.i.fg)};b.prototype.time=function(a){a.wa(this.i.bd.Va)};b.prototype.gf=function(a){a.Rb(this.i.gf)};b.prototype.Mp=function(a){a.Rb(this.i.Mp)};b.prototype.$r=function(a){a.Rb(this.i.$r)};b.prototype.M=function(a,b,c,d,e){a.wa(Qa(Wa(b,c,d,e)))};b.prototype.left=function(a,b,c){a.vd(oa(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.vd(oa(b)?b.substr(b.length-
c):"")};b.prototype.replace=function(a,b,c,d){oa(b)&&oa(c)&&oa(d)?a.vd(b.replace(new RegExp(Db(c),"gi"),d)):a.vd(oa(b)?b:"")};b.prototype.trim=function(a,b){a.vd(oa(b)?b.trim():"")};b.prototype.PB=function(a){var b=wa(Math.random()*(arguments.length-1));a.nu(arguments[b+1])};b.prototype.WE=function(a){a.vd(this.i.LF)};b.prototype.Mr=function(a){a.wa(this.i.Mr/1E3)};b.prototype.xk=function(a){a.wa(this.i.xk)};d.Ka=new b;d.hF=function(){var a,b,c,d,e,g,v=this.i.Cc();a=0;for(c=this.Re.length;a<c;a++){d=
this.Re[a];if(-1===d.time){if(!d.Ay)continue}else if(d.time>this.i.bd.Va)continue;v.Zc=d.xl;v.Te=d.Te;v.wc=0;for(b in d.Qe)d.Qe.hasOwnProperty(b)&&(e=this.i.ua[parseInt(b,10)].La(),g=d.Qe[b],e.Za=g.hy,Ha(e.G,g.bj),e=g,H(e.bj),h.push(e));d.xl.fF();this.i.Kr(d.Vb);d.Uv=!0}b=a=0;for(c=this.Re.length;a<c;a++)d=this.Re[a],this.Re[b]=d,d.Uv?(sb(d.Qe),H(d.Vb),f.push(d)):b++;Fa(this.Re,b)}})();
(function(){Zb=function(a,b){var d=a[1],g=a[3],e=a[4],f=a[5],h=a[6],m=a[7],l=a[8];b.H||(b.H={});b.ka||(b.ka={});b.Ka||(b.Ka={});var k=b.H,n=b.ka,q=b.Ka;g&&(k.yz=function(a,b){return Wc(this.x,a,b)},k.zz=function(a,b){return Wc(this.y,a,b)},k.YF=function(){var a=this.O;this.$a();var b=this.Jb;return!(b.right<a.qb||b.bottom<a.rb||b.left>a.Fb||b.top>a.Eb)},k.ZF=function(){this.$a();var a=this.Jb,b=this.i.Mb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.kG=function(a,b,c){var d=this.La(),
e=d.Gd();if(!e.length)return!1;var f=e[0],g=f,h=db(f.x,f.y,b,c),k,l,m;k=1;for(l=e.length;k<l;k++)if(f=e[k],m=db(f.x,f.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=f;d.Ik(g);return!0},n.yG=function(a){this.x!==a&&(this.x=a,this.aa())},n.zG=function(a){this.y!==a&&(this.y=a,this.aa())},n.uG=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.aa()},n.vG=function(a,b){var c=a.yD(this);if(c){var d;c.xf?(d=c.xf(b,!0),c=c.xf(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.aa()}},
n.dG=function(a){0!==a&&(this.x+=Math.cos(this.M)*a,this.y+=Math.sin(this.M)*a,this.aa())},n.cG=function(a,b){0!==b&&(this.x+=Math.cos(Pa(a))*b,this.y+=Math.sin(Pa(a))*b,this.aa())},q.nr=function(a){a.wa(this.x)},q.or=function(a){a.wa(this.y)},q.Xa=function(a){a.wa(this.i.yg(this))});e&&(k.VF=function(a,b){return Wc(this.width,a,b)},k.TF=function(a,b){return Wc(this.height,a,b)},n.wv=function(a){this.width!==a&&(this.width=a,this.aa())},n.tG=function(a){this.height!==a&&(this.height=a,this.aa())},
n.wG=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.aa()},q.tB=function(a){a.wa(this.width)},q.Iz=function(a){a.wa(this.height)},q.QF=function(a){this.$a();a.wa(this.Jb.left)},q.SF=function(a){this.$a();a.wa(this.Jb.top)},q.RF=function(a){this.$a();a.wa(this.Jb.right)},q.PF=function(a){this.$a();a.wa(this.Jb.bottom)});f&&(k.mz=function(a,b){return Ya(this.M,Pa(b))<=Pa(a)},k.Lz=function(a){return $a(this.M,Pa(a))},k.Jz=function(a,b){var c=Va(a),d=Va(b),e=Ta(this.M);
return $a(d,c)?$a(e,c)&&!$a(e,d):!(!$a(e,c)&&$a(e,d))},n.tv=function(a){a=Pa(Ra(a));isNaN(a)||this.M===a||(this.M=a,this.aa())},n.WA=function(a){0===a||isNaN(a)||(this.M+=Pa(a),this.M=Ta(this.M),this.aa())},n.oG=function(a){0===a||isNaN(a)||(this.M-=Pa(a),this.M=Ta(this.M),this.aa())},n.pG=function(a,b){var c=Za(this.M,Pa(b),Pa(a));isNaN(c)||this.M===c||(this.M=c,this.aa())},n.qG=function(a,b,c){a=Za(this.M,Math.atan2(c-this.y,b-this.x),Pa(a));isNaN(a)||this.M===a||(this.M=a,this.aa())},n.xG=function(a,
b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.M===c||(this.M=c,this.aa())},q.OF=function(a){a.wa(Ua(this.M))});d||(k.vz=function(a,b,c){return Wc(this.Pb[a],b,c)},k.Kz=function(a){return this.Pb[a]},k.lG=function(a,b){var c=this.La(),d=c.Gd();if(!d.length)return!1;var e=d[0],f=e,g=e.Pb[b],h,k,l;h=1;for(k=d.length;h<k;h++)if(e=d[h],l=e.Pb[b],0===a&&l<g||1===a&&l>g)g=l,f=e;c.Ik(f);return!0},k.jG=function(a){var b,c,d,e,f;if(this.i.Gl().lp){f=this.La();if(f.Za)for(f.Za=!1,H(f.G),H(f.Ra),d=this.G,
b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.Ra.push(e):f.G.push(e);else{d=b=0;for(c=f.G.length;b<c;b++)e=f.G[b],f.G[d]=e,e.uid===a?f.Ra.push(e):d++;Fa(f.G,d)}this.Ge();return!!f.G.length}e=this.i.Vf(a);if(!e)return!1;f=this.La();if(!f.Za&&-1===f.G.indexOf(e))return!1;if(this.Aa)for(a=e.type.ac,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Ik(e),this.Ge(),!0}else if(e.type===this)return f.Ik(e),this.Ge(),!0;return!1},k.Ng=function(){return!0},k.$u=function(){return!0},n.cB=function(a,b){var c=this.Pb;
na(c[a])?c[a]=na(b)?b:parseFloat(b):oa(c[a])&&(c[a]=oa(b)?b:b.toString())},n.kz=function(a,b){var c=this.Pb;na(c[a])?c[a]=na(b)?c[a]+b:c[a]+parseFloat(b):oa(c[a])&&(c[a]=oa(b)?c[a]+b:c[a]+b.toString())},n.mB=function(a,b){var c=this.Pb;na(c[a])&&(c[a]=na(b)?c[a]-b:c[a]-parseFloat(b))},n.YA=function(a,b){this.Pb[a]=b?1:0},n.nB=function(a){this.Pb[a]=1-this.Pb[a]},n.Ud=function(){this.i.Ce(this)},n.Uz||(n.Uz=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.i.zp(this,b,!0);this.of&&this.of();
if(this.Ja)for(a=0,b=this.Ja.length;a<b;++a)c=this.Ja[a],c.of&&c.of()}),q.Az=function(a){var b=a.tj.G.length,c,d,e;c=0;for(d=this.i.Uf.length;c<d;c++)e=this.i.Uf[c],a.tj.Aa?0<=e.type.ac.indexOf(a.tj)&&b++:e.type===a.tj&&b++;a.Rb(b)},q.nG=function(a){a.Rb(a.tj.La().Gd().length)},q.pB=function(a){a.Rb(this.uid)},q.WF=function(a){a.Rb(this.Ll())},q.oz||(q.oz=function(a){a.vd(JSON.stringify(this.i.gu(this,!0)))}));h&&(k.$F=function(){return this.visible},n.Qn=function(a){!a!==!this.visible&&(this.visible=
!!a,this.i.Ua=!0)},k.UF=function(a,b){return Wc(Qb(100*this.opacity),a,b)},n.eB=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.i.Ua=!0)},q.Opacity=function(a){a.wa(Qb(100*this.opacity))});m&&(k.XF=function(a){return a?this.O===a:!1},k.mG=function(a){var b=this.La(),c=b.Gd();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.O.index>e.O.index||d.O.index===e.O.index&&d.zg()>e.zg())e=d}else if(d.O.index<e.O.index||d.O.index===e.O.index&&
d.zg()<e.zg())e=d;b.Ik(e);return!0},n.gG=function(){var a=this.O,b=a.G;b.length&&b[b.length-1]===this||(a.Lk(this,!1),a.ll(this,!1),this.i.Ua=!0)},n.eG=function(){var a=this.O,b=a.G;b.length&&b[0]===this||(a.Lk(this,!1),a.RE(this),this.i.Ua=!0)},n.fG=function(a){a&&a!=this.O&&(this.O.Lk(this,!0),this.O=a,a.ll(this,!0),this.i.Ua=!0)},n.wB=function(a,b){var c=0===a;if(b){var d=b.ls(this);d&&d.uid!==this.uid&&(this.O.index!==d.O.index&&(this.O.Lk(this,!0),this.O=d.O,d.O.ll(this,!0)),this.O.yE(this,d,
c),this.i.Ua=!0)}},q.bG=function(a){a.Rb(this.O.Bx)},q.aG=function(a){a.vd(this.O.name)},q.AG=function(a){a.Rb(this.zg())});l&&(n.rG=function(a,b){if(this.i.la){var c=this.type.ks(b);if(!(0>c)){var d=1===a;this.Fh[c]!==d&&(this.Fh[c]=d,this.hg(),this.i.Ua=!0)}}},n.sG=function(a,b,c){if(this.i.la){var d=this.type.ks(a);0>d||(a=this.type.Qa[d],d=this.ec[d],b=Math.floor(b),0>b||b>=d.length||(1===this.i.la.CD(a.Ic,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.vc&&(this.i.Ua=!0))))}})};sc=function(){this.Ir=this.ao=
!0;this.type.Un=!0;this.i.Ua=!0;var a,b,d=this.Er;a=0;for(b=d.length;a<b;++a)d[a](this);this.O.jf&&this.$a()};tc=function(a){a&&this.Er.push(a)};vc=function(){if(this.ao){var a=this.Jb,b=this.Kb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.pe*this.width,-this.qe*this.height);this.M?(a.offset(-this.x,-this.y),b.wy(a,this.M),b.offset(this.x,this.y),b.Jv(a)):b.Qk(a);a.normalize();this.ao=!1;this.cz()}};var a=new Aa(0,0,0,0);wc=function(){if(this.O.jf){var c=this.O.ud,b=this.Jb;
a.set(c.ie(b.left),c.je(b.top),c.ie(b.right),c.je(b.bottom));this.ye.wl(a)||(this.ye.right<this.ye.left?c.update(this,null,a):c.update(this,this.ye,a),this.ye.Sj(a),this.O.bg=!0)}};xc=function(){if(this.Ir&&this.sf){this.$a();var c=this.type.pl,b=this.Jb;a.set(c.ie(b.left),c.je(b.top),c.ie(b.right),c.je(b.bottom));this.rf.wl(a)||(this.rf.right<this.rf.left?c.update(this,null,a):c.update(this,this.rf,a),this.rf.Sj(a),this.Ir=!1)}};uc=function(a,b){return this.Jb.Ed(a,b)&&this.Kb.Ed(a,b)?this.ib&&!this.ib.fj()?
(this.ib.Kh(this.width,this.height,this.M),this.ib.Ed(a-this.x,b-this.y)):!0:!1};oc=function(){this.type.Pq();return this.$i};yc=function(){this.O.Ku();return this.jg};zc=function(){H(this.yb);var a,b,d,g=!0;a=0;for(b=this.Fh.length;a<b;a++)this.Fh[a]&&(d=this.type.Qa[a],this.yb.push(d),d.Ef||(g=!1));this.dz=!!this.yb.length;this.rh=g};pc=function(){return"Inst"+this.ay};bc=function(a){if(a&&a.Jd&&a.type!=this){var b,d,g;b=0;for(d=a.siblings.length;b<d;b++)if(g=a.siblings[b],g.type==this)return g}a=
this.La().Gd();return a.length?a[0]:null};dc=function(a){var b=this.La().Gd();return b.length?b[a.Ll()%b.length]:null};ac=function(){if(this.Tk&&!this.Aa){var a,b;a=0;for(b=this.G.length;a<b;a++)this.G[a].$i=a;var d=a,g=this.i.Uf;a=0;for(b=g.length;a<b;++a)g[a].type===this&&(g[a].$i=d++);this.Tk=!1}};mc=function(a){if(a<this.G.length)return this.G[a];a-=this.G.length;var b=this.i.Uf,d,g;d=0;for(g=b.length;d<g;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};ec=function(){return this.uh[this.ug]};
fc=function(){this.ug++;this.ug===this.uh.length?this.uh.push(new $b(this)):(this.uh[this.ug].Za=!0,H(this.uh[this.ug].Ra))};gc=function(){this.ug++;this.ug===this.uh.length&&this.uh.push(new $b(this));var a=this.uh[this.ug],b=this.uh[this.ug-1];b.Za?(a.Za=!0,H(a.Ra)):(a.Za=!1,Ha(a.G,b.G),Ha(a.Ra,b.Ra))};hc=function(){this.ug--};ic=function(a){var b,d,g,e,f,h=0;if(!this.Aa)for(b=0,d=this.ac.length;b<d;b++)for(f=this.ac[b],g=0,e=f.cc.length;g<e;g++){if(a===f.cc[g].name)return this.ma.lastBehIndex=
h,f.cc[g];h++}b=0;for(d=this.cc.length;b<d;b++){if(a===this.cc[b].name)return this.ma.lastBehIndex=h,this.cc[b];h++}return null};jc=function(a){return this.Uo(a)?this.ma.lastBehIndex:-1};kc=function(a){var b,d;b=0;for(d=this.Qa.length;b<d;b++)if(this.Qa[b].name===a)return b;return-1};lc=function(){if(this.Jd&&!this.Aa){var a,b,d,g,e,f,h;this.Pq();f=this.La();var m=f.Za,l=(a=this.i.Cc())&&a.Zc&&a.Zc.df;a=0;for(b=this.He.length;a<b;a++)if(e=this.He[a],e!==this&&(e.Pq(),h=e.La(),h.Za=m,!m)){H(h.G);d=
0;for(g=f.G.length;d<g;++d)h.G[d]=e.ns(f.G[d].$i);if(l)for(H(h.Ra),d=0,g=f.Ra.length;d<g;++d)h.Ra[d]=e.ns(f.Ra[d].$i)}}};nc=function(){return"Type"+this.kb};Wc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();
var ed={glowhorizontal:{src:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump float pixelWidth;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",Fo:8,
Go:0,Nr:!1,Ef:!1,Br:!1,Ta:[["intensity",0,1]]}};function kd(a){this.i=a}
(function(){function a(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function c(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function b(a){a=a.toLowerCase();return ha.hasOwnProperty(a)&&ha[a].length?ha[a][0].We():F.destination}function d(){return F.createGain?F.createGain():F.createGainNode()}function g(a){return F.createDelay?F.createDelay(a):F.createDelayNode(a)}function e(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function f(a,b,c,d){a.start?a.start(d||
0,b):a.noteGrainOn(d||0,b,c-b)}function h(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function m(a,b,c,e,f,g){this.type="filter";this.Cb=[a,b,c,e,f,g];this.nb=d();this.Pa=d();this.Pa.gain.value=g;this.Na=d();this.Na.gain.value=1-g;this.Bc=F.createBiquadFilter();this.Bc.type="number"===typeof this.Bc.type?a:dd[a];this.Bc.frequency.value=b;this.Bc.detune&&(this.Bc.detune.value=c);this.Bc.Q.value=e;this.Bc.gain.value=f;this.nb.connect(this.Bc);this.nb.connect(this.Na);this.Bc.connect(this.Pa)}function l(a,
b,c){this.type="delay";this.Cb=[a,b,c];this.nb=d();this.Pa=d();this.Pa.gain.value=c;this.Na=d();this.Na.gain.value=1-c;this.Gm=d();this.vf=g(a);this.vf.delayTime.value=a;this.zo=d();this.zo.gain.value=b;this.nb.connect(this.Gm);this.nb.connect(this.Na);this.Gm.connect(this.Pa);this.Gm.connect(this.vf);this.vf.connect(this.zo);this.zo.connect(this.Gm)}function k(a,b,c,e){this.type="convolve";this.Cb=[b,c,e];this.nb=d();this.Pa=d();this.Pa.gain.value=c;this.Na=d();this.Na.gain.value=1-c;this.Oi=F.createConvolver();
a&&(this.Oi.normalize=b,this.Oi.buffer=a);this.nb.connect(this.Oi);this.nb.connect(this.Na);this.Oi.connect(this.Pa)}function n(a,b,c,f,h){this.type="flanger";this.Cb=[a,b,c,f,h];this.nb=d();this.Na=d();this.Na.gain.value=1-h/2;this.Pa=d();this.Pa.gain.value=h/2;this.Ko=d();this.Ko.gain.value=f;this.vf=g(a+b);this.vf.delayTime.value=a;this.ed=F.createOscillator();this.ed.frequency.value=c;this.Pe=d();this.Pe.gain.value=b;this.nb.connect(this.vf);this.nb.connect(this.Na);this.vf.connect(this.Pa);this.vf.connect(this.Ko);
this.Ko.connect(this.vf);this.ed.connect(this.Pe);this.Pe.connect(this.vf.delayTime);e(this.ed)}function q(a,b,c,f,g,h){this.type="phaser";this.Cb=[a,b,c,f,g,h];this.nb=d();this.Na=d();this.Na.gain.value=1-h/2;this.Pa=d();this.Pa.gain.value=h/2;this.Bc=F.createBiquadFilter();this.Bc.type="number"===typeof this.Bc.type?7:"allpass";this.Bc.frequency.value=a;this.Bc.detune&&(this.Bc.detune.value=b);this.Bc.Q.value=c;this.ed=F.createOscillator();this.ed.frequency.value=g;this.Pe=d();this.Pe.gain.value=
f;this.nb.connect(this.Bc);this.nb.connect(this.Na);this.Bc.connect(this.Pa);this.ed.connect(this.Pe);this.Pe.connect(this.Bc.frequency);e(this.ed)}function r(a){this.type="gain";this.Cb=[a];this.xb=d();this.xb.gain.value=a}function v(a,b){this.type="tremolo";this.Cb=[a,b];this.xb=d();this.xb.gain.value=1-b/2;this.ed=F.createOscillator();this.ed.frequency.value=a;this.Pe=d();this.Pe.gain.value=b/2;this.ed.connect(this.Pe);this.Pe.connect(this.xb.gain);e(this.ed)}function t(a,b){this.type="ringmod";
this.Cb=[a,b];this.nb=d();this.Pa=d();this.Pa.gain.value=b;this.Na=d();this.Na.gain.value=1-b;this.Zm=d();this.Zm.gain.value=0;this.ed=F.createOscillator();this.ed.frequency.value=a;this.ed.connect(this.Zm.gain);e(this.ed);this.nb.connect(this.Zm);this.nb.connect(this.Na);this.Zm.connect(this.Pa)}function p(a,b,c,e,f){this.type="distortion";this.Cb=[a,b,c,e,f];this.nb=d();this.gq=d();this.fq=d();this.oF(c,Math.pow(10,e/20));this.Pa=d();this.Pa.gain.value=f;this.Na=d();this.Na.gain.value=1-f;this.Vq=
F.createWaveShaper();this.xo=new Float32Array(65536);this.mD(a,b);this.Vq.xo=this.xo;this.nb.connect(this.gq);this.nb.connect(this.Na);this.gq.connect(this.Vq);this.Vq.connect(this.fq);this.fq.connect(this.Pa)}function u(a,b,c,d,e){this.type="compressor";this.Cb=[a,b,c,d,e];this.xb=F.createDynamicsCompressor();try{this.xb.threshold.value=a,this.xb.knee.value=b,this.xb.ratio.value=c,this.xb.attack.value=d,this.xb.release.value=e}catch(f){}}function x(a,b){this.type="analyser";this.Cb=[a,b];this.xb=
F.createAnalyser();this.xb.fftSize=a;this.xb.smoothingTimeConstant=b;this.jD=new Float32Array(this.xb.frequencyBinCount);this.zy=new Uint8Array(a);this.Nm=0}function z(){this.Ma=null;this.Ap=0;this.vi=[];this.Bt=this.up=this.tp=0}function D(a,b){this.src=a;this.jb=Q;this.zf=b;this.Tn=!1;var c=this;this.zt=this.Nt=null;this.wj=[];this.pq=0;this.Ou=this.Io=this.Fy=this.Yp=!1;1===Q&&b&&!wb&&(this.jb=0,this.Nt=d());this.Qg=this.zb=null;var e;switch(this.jb){case 0:this.zb=new Audio;this.zb.crossOrigin=
"anonymous";this.zb.addEventListener("canplaythrough",function(){c.Ou=!0});1===Q&&F.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Fy=!0,this.zb.addEventListener("canplay",function(){c.zt||(c.zt=F.createMediaElementSource(c.zb),c.zt.connect(c.Nt))}));this.zb.autoplay=!1;this.zb.KG="auto";this.zb.src=a;break;case 1:G.Zl?G.cw(a,function(a){c.Qg=a;c.Sv()},function(){c.Io=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.Qg=e.response;
c.Sv()},e.onerror=function(){c.Io=!0},e.send());break;case 2:this.zb=!0;break;case 3:this.zb=!0}}function B(a,c){var e=this;this.tag=c;this.fd=this.xg=!0;this.src=a.src;this.buffer=a;this.jb=Q;this.zf=a.zf;this.playbackRate=1;this.ek=!0;this.Ke=this.ff=!1;this.ze=0;this.$l=this.jk=this.Ag=!1;this.volume=1;this.Lt=function(a){if(!e.Ke&&!e.ff){var b=this;b||(b=a.target);b===e.Sn&&(e.ek=!0,e.fd=!0,T=e.tag,G.trigger(kd.prototype.H.Mn,I))}};this.Sn=null;this.gk=1===M&&!this.zf||2===M;this.Dk=1;this.startTime=
this.gk?G.bd.Va:G.yh.Va;this.tc=this.Qc=null;this.Dg=!1;this.rc=null;this.Nx=this.Mx=this.Lx=this.Kx=this.Px=this.Ox=0;this.X=null;var f=!1;1!==this.jb||0!==this.buffer.jb||this.buffer.Fy||(this.jb=0);switch(this.jb){case 0:this.zf?(this.X=a.zb,f=!a.Tn,a.Tn=!0):(this.X=new Audio,this.X.crossOrigin="anonymous",this.X.autoplay=!1,this.X.src=a.zb.src,f=!0);f&&this.X.addEventListener("ended",function(){T=e.tag;e.fd=!0;G.trigger(kd.prototype.H.Mn,I)});break;case 1:this.Qc=d();this.Qc.connect(b(c));1===
this.buffer.jb?a.zb&&(this.X=F.createBufferSource(),this.X.buffer=a.zb,this.X.connect(this.Qc)):(this.X=this.buffer.zb,this.buffer.Nt.connect(this.Qc),this.buffer.Tn||(this.buffer.Tn=!0,this.buffer.zb.addEventListener("ended",function(){T=e.tag;e.fd=!0;G.trigger(kd.prototype.H.Mn,I)})));break;case 2:this.X=new window.Media(da+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.ek=!0,e.fd=!0,T=e.tag,G.trigger(kd.prototype.H.Mn,I))});break;case 3:this.X=!0}}function E(a,b){ha.hasOwnProperty(a)?
ha[a].push(b):ha[a]=[b];var c,d,e,f,g=F.destination;if(ha.hasOwnProperty(a)&&(e=ha[a],e.length))for(g=e[0].We(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.tf(F.destination):f.tf(e[c+1].We());H(yb);if(a.length)for(c=0,d=S.length;c<d;c++)e=S[c],Wb(a,e.tag)&&yb.push(e);else R&&!R.Zi()&&(H(yb),yb[0]=R);c=0;for(d=yb.length;c<d;c++)yb[c].$E(g);Ma&&Nb===a&&(Ma.disconnect(),Ma.connect(g))}function C(){}function w(){}var y=kd.prototype;y.xa=function(a){this.fb=a;this.i=a.i};y.xa.prototype.na=function(){};var G=
null,I=null,T="",da="",Q=0,F=null,Z=[],S=[],R=null,J=!1,M=0,O=!1,K=1,N=0,U=0,ga=!1,P=1,qa=1,ma=10,Xa=1E4,Rd=1,Ma=null,Nb="",xa=!1,zb=[],wb=!1,ha={},dd="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");m.prototype.tf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};m.prototype.remove=function(){this.nb.disconnect();this.Bc.disconnect();this.Pa.disconnect();this.Na.disconnect()};m.prototype.We=function(){return this.nb};l.prototype.tf=
function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};l.prototype.remove=function(){this.nb.disconnect();this.Gm.disconnect();this.vf.disconnect();this.zo.disconnect();this.Pa.disconnect();this.Na.disconnect()};l.prototype.We=function(){return this.nb};k.prototype.tf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};k.prototype.remove=function(){this.nb.disconnect();this.Oi.disconnect();this.Pa.disconnect();this.Na.disconnect()};
k.prototype.We=function(){return this.nb};n.prototype.tf=function(a){this.Na.disconnect();this.Na.connect(a);this.Pa.disconnect();this.Pa.connect(a)};n.prototype.remove=function(){this.nb.disconnect();this.vf.disconnect();this.ed.disconnect();this.Pe.disconnect();this.Na.disconnect();this.Pa.disconnect();this.Ko.disconnect()};n.prototype.We=function(){return this.nb};q.prototype.tf=function(a){this.Na.disconnect();this.Na.connect(a);this.Pa.disconnect();this.Pa.connect(a)};q.prototype.remove=function(){this.nb.disconnect();
this.Bc.disconnect();this.ed.disconnect();this.Pe.disconnect();this.Na.disconnect();this.Pa.disconnect()};q.prototype.We=function(){return this.nb};r.prototype.tf=function(a){this.xb.disconnect();this.xb.connect(a)};r.prototype.remove=function(){this.xb.disconnect()};r.prototype.We=function(){return this.xb};v.prototype.tf=function(a){this.xb.disconnect();this.xb.connect(a)};v.prototype.remove=function(){this.ed.disconnect();this.Pe.disconnect();this.xb.disconnect()};v.prototype.We=function(){return this.xb};
t.prototype.tf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};t.prototype.remove=function(){this.ed.disconnect();this.Zm.disconnect();this.nb.disconnect();this.Pa.disconnect();this.Na.disconnect()};t.prototype.We=function(){return this.nb};p.prototype.oF=function(a,b){.01>a&&(a=.01);this.gq.gain.value=a;this.fq.gain.value=Math.pow(1/a,.6)*b};p.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));
return b*c};p.prototype.mD=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.xo[32768+f]=e,this.xo[32768-f-1]=-e};p.prototype.tf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};p.prototype.remove=function(){this.nb.disconnect();this.gq.disconnect();this.Vq.disconnect();this.fq.disconnect();this.Pa.disconnect();this.Na.disconnect()};p.prototype.We=function(){return this.nb};u.prototype.tf=
function(a){this.xb.disconnect();this.xb.connect(a)};u.prototype.remove=function(){this.xb.disconnect()};u.prototype.We=function(){return this.xb};x.prototype.mb=function(){this.xb.getFloatFrequencyData(this.jD);this.xb.getByteTimeDomainData(this.zy);for(var a=this.xb.fftSize,b=0,d=this.Nm=0,e=0;b<a;b++)e=(this.zy[b]-128)/128,0>e&&(e=-e),this.Nm<e&&(this.Nm=e),d+=e*e;this.Nm=c(this.Nm);c(Math.sqrt(d/a))};x.prototype.tf=function(a){this.xb.disconnect();this.xb.connect(a)};x.prototype.remove=function(){this.xb.disconnect()};
x.prototype.We=function(){return this.xb};z.prototype.Nk=function(a){if(this.Ma=a)this.tp=this.Ma.x,this.up=this.Ma.y;H(this.vi)};z.prototype.ep=function(){return!!this.Ma};z.prototype.mb=function(a){this.Ma&&0!==a&&(this.Bt=Wa(this.tp,this.up,this.Ma.x,this.Ma.y),a=db(this.tp,this.up,this.Ma.x,this.Ma.y)/a,4>this.vi.length||this.vi.shift(),this.vi.push(a),this.tp=this.Ma.x,this.up=this.Ma.y)};z.prototype.Jl=function(){if(!this.vi.length)return 0;var a,b,c=0;a=0;for(b=this.vi.length;a<b;a++)c+=this.vi[a];
return c/this.vi.length};z.prototype.ts=function(){return Math.cos(this.Bt)*this.Jl()};z.prototype.us=function(){return Math.sin(this.Bt)*this.Jl()};var cc=!1;D.prototype.aF=function(){var a,b,c,d;c=a=0;for(b=S.length;a<b;++a)d=S[a],S[c]=d,d.buffer===this?d.stop():++c;S.length=c;this.Qg=this.zb=null};D.prototype.Sv=function(){if(!this.zb&&this.Qg){var a=this;if(F.decodeAudioData)F.decodeAudioData(this.Qg,function(b){a.zb=b;a.Qg=null;var c,d,e;if(la(a.bq)||O)la(a.oo)||(c=a.oo.Oi,c.normalize=a.Ax,c.buffer=
b);else if(a.wj.length){c=0;for(d=a.wj.length;c<d;c++){b=a.wj[c];e=new B(a,b.wu);e.lu(!0);if("undefined"!==typeof b.Cx&&(b.Ma=G.Vf(b.Cx),!b.Ma))continue;if(b.Ma){var f=ab(b.Ma.x,b.Ma.y,-b.Ma.O.Sb(),N,U,!0),g=ab(b.Ma.x,b.Ma.y,-b.Ma.O.Sb(),N,U,!1);e.uq(f,g,Qa(b.Ma.M-b.Ma.O.Sb()),b.fp,b.Kp,b.Op);e.Nk(b.Ma)}else e.uq(b.x,b.y,b.T,b.fp,b.Kp,b.Op);e.play(a.ot,a.Nu,a.pq);a.Yp&&e.pause();S.push(e)}H(a.wj)}else e=new B(a,a.bq||""),e.play(a.ot,a.Nu,a.pq),a.Yp&&e.pause(),S.push(e)},function(){a.Io=!0});else if(this.zb=
F.createBuffer(this.Qg,!1),this.Qg=null,la(this.bq)||O)la(this.oo)||(b=this.oo.Oi,b.normalize=this.Ax,b.buffer=this.zb);else{var b=new B(this,this.bq);b.play(this.ot,this.Nu,this.pq);this.Yp&&b.pause();S.push(b)}}};D.prototype.Fw=function(){switch(this.jb){case 0:var a=4<=this.zb.readyState;a&&(this.Ou=!0);return a||this.Ou;case 1:return!!this.Qg||!!this.zb;case 2:return!0;case 3:return!0}return!1};D.prototype.iE=function(){switch(this.jb){case 0:return this.Fw();case 1:return!!this.zb;case 2:return!0;
case 3:return!0}return!1};D.prototype.XD=function(){switch(this.jb){case 0:return!!this.zb.error;case 1:return this.Io}return!1};B.prototype.Zi=function(){switch(this.jb){case 0:return this.X.ended;case 1:return 1===this.buffer.jb?!this.xg&&!this.fd&&this.X.loop||this.Ke?!1:this.ek:this.X.ended;case 2:return this.ek;case 3:!0}return!0};B.prototype.NB=function(){return this.xg||this.fd?!0:this.Zi()};B.prototype.lu=function(a){1===Q&&(!this.Dg&&a?this.Qc&&(this.tc||(this.tc=F.createPanner(),this.tc.panningModel=
"number"===typeof this.tc.panningModel?P:["equalpower","HRTF","soundfield"][P],this.tc.distanceModel="number"===typeof this.tc.distanceModel?qa:["linear","inverse","exponential"][qa],this.tc.refDistance=ma,this.tc.maxDistance=Xa,this.tc.rolloffFactor=Rd),this.Qc.disconnect(),this.Qc.connect(this.tc),this.tc.connect(b(this.tag)),this.Dg=!0):this.Dg&&!a&&this.Qc&&(this.tc.disconnect(),this.Qc.disconnect(),this.Qc.connect(b(this.tag)),this.Dg=!1))};B.prototype.uq=function(a,b,c,d,e,f){this.Dg&&1===Q&&
(this.tc.setPosition(a,b,0),this.tc.setOrientation(Math.cos(Pa(c)),Math.sin(Pa(c)),0),this.tc.coneInnerAngle=d,this.tc.coneOuterAngle=e,this.tc.coneOuterGain=f,this.Ox=a,this.Px=b,this.Kx=c,this.Lx=d,this.Mx=e,this.Nx=f)};B.prototype.Nk=function(a){this.Dg&&1===Q&&(this.rc||(this.rc=new z),this.rc.Nk(a))};B.prototype.mb=function(a){if(this.Dg&&1===Q&&this.rc&&this.rc.ep()&&this.Yl()){this.rc.mb(a);a=this.rc.Ma;var b=ab(a.x,a.y,-a.O.Sb(),N,U,!0),c=ab(a.x,a.y,-a.O.Sb(),N,U,!1);this.tc.setPosition(b,
c,0);b=0;"undefined"!==typeof this.rc.Ma.M&&(b=a.M-a.O.Sb(),this.tc.setOrientation(Math.cos(b),Math.sin(b),0));b=ab(this.rc.ts(),this.rc.us(),-a.O.Sb(),0,0,!0);c=ab(this.rc.ts(),this.rc.us(),-a.O.Sb(),0,0,!1);this.tc.setVelocity(b,c,0)}};B.prototype.play=function(a,b,c,d){var g=this.X;this.Ag=a;this.volume=b;c=c||0;d=d||0;switch(this.jb){case 0:1!==g.playbackRate&&(g.playbackRate=1);g.volume!==b*K&&(g.volume=b*K);g.loop!==a&&(g.loop=a);g.muted&&(g.muted=!1);if(g.currentTime!==c)try{g.currentTime=
c}catch(h){}if(this.zf&&xa&&!G.Qb)zb.push(this);else try{this.X.play()}catch(k){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",k)}break;case 1:this.muted=!1;this.Dk=1;if(1===this.buffer.jb)this.Qc.gain.value=b*K,this.xg||(this.X=F.createBufferSource(),this.X.buffer=this.buffer.zb,this.X.connect(this.Qc)),this.X.onended=this.Lt,this.Sn=this.X,this.X.loop=a,this.ek=!1,0===c?e(this.X,d):f(this.X,c,this.Wi(),d);else{1!==g.playbackRate&&(g.playbackRate=
1);g.loop!==a&&(g.loop=a);g.volume=b*K;if(g.currentTime!==c)try{g.currentTime=c}catch(l){}this.zf&&xa&&!G.Qb?zb.push(this):g.play()}break;case 2:(!this.xg&&this.fd||0!==c)&&g.seekTo(c);g.play();this.ek=!1;break;case 3:G.Id?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.gk?G.bd.Va:G.yh.Va)-c;this.Ke=this.fd=this.xg=!1};B.prototype.stop=function(){switch(this.jb){case 0:this.X.paused||this.X.pause();break;case 1:1===this.buffer.jb?
h(this.X):this.X.paused||this.X.pause();break;case 2:this.X.stop();break;case 3:G.Id&&AppMobi.context.stopSound(this.src)}this.fd=!0;this.Ke=!1};B.prototype.pause=function(){if(!(this.xg||this.fd||this.Zi()||this.Ke)){switch(this.jb){case 0:this.X.paused||this.X.pause();break;case 1:1===this.buffer.jb?(this.ze=this.os(!0),this.Ag&&(this.ze=this.ze%this.Wi()),this.Ke=!0,h(this.X)):this.X.paused||this.X.pause();break;case 2:this.X.pause();break;case 3:G.Id&&AppMobi.context.stopSound(this.src)}this.Ke=
!0}};B.prototype.eF=function(){if(!(this.xg||this.fd||this.Zi())&&this.Ke){switch(this.jb){case 0:this.X.play();break;case 1:1===this.buffer.jb?(this.X=F.createBufferSource(),this.X.buffer=this.buffer.zb,this.X.connect(this.Qc),this.X.onended=this.Lt,this.Sn=this.X,this.X.loop=this.Ag,this.Qc.gain.value=K*this.volume*this.Dk,this.Qq(),this.startTime=(this.gk?G.bd.Va:G.yh.Va)-this.ze/(this.playbackRate||.001),f(this.X,this.ze,this.Wi())):this.X.play();break;case 2:this.X.play();break;case 3:G.Id&&
AppMobi.context.resumeSound(this.src)}this.Ke=!1}};B.prototype.seek=function(a){if(!(this.xg||this.fd||this.Zi()))switch(this.jb){case 0:try{this.X.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.jb)this.Ke?this.ze=a:(this.pause(),this.ze=a,this.eF());else try{this.X.currentTime=a}catch(c){}break;case 3:G.Id&&AppMobi.context.seekSound(this.src,a)}};B.prototype.$E=function(a){1===this.jb&&(this.Dg?(this.tc.disconnect(),this.tc.connect(a)):(this.Qc.disconnect(),this.Qc.connect(a)))};B.prototype.Wi=
function(){var a=0;switch(this.jb){case 0:"undefined"!==typeof this.X.duration&&(a=this.X.duration);break;case 1:a=this.buffer.zb.duration;break;case 2:a=this.X.getDuration();break;case 3:G.Id&&(a=AppMobi.context.getDurationSound(this.src))}return a};B.prototype.os=function(a){var b=this.Wi(),c=0;switch(this.jb){case 0:"undefined"!==typeof this.X.currentTime&&(c=this.X.currentTime);break;case 1:if(1===this.buffer.jb){if(this.Ke)return this.ze;c=(this.gk?G.bd.Va:G.yh.Va)-this.startTime}else"undefined"!==
typeof this.X.currentTime&&(c=this.X.currentTime);break;case 3:G.Id&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Ag&&c>b&&(c=b);return c};B.prototype.Yl=function(){return!this.Ke&&!this.xg&&!this.fd&&!this.Zi()};B.prototype.tF=function(){return!this.xg&&!this.fd&&!this.Zi()};B.prototype.GF=function(){var a=this.volume*K;isFinite(a)||(a=0);switch(this.jb){case 0:"undefined"!==typeof this.X.volume&&this.X.volume!==a&&(this.X.volume=a);break;case 1:1===this.buffer.jb?
this.Qc.gain.value=a*this.Dk:"undefined"!==typeof this.X.volume&&this.X.volume!==a&&(this.X.volume=a)}};B.prototype.Do=function(a){switch(this.jb){case 0:this.X.muted!==!!a&&(this.X.muted=!!a);break;case 1:1===this.buffer.jb?(this.Dk=a?0:1,this.Qc.gain.value=K*this.volume*this.Dk):this.X.muted!==!!a&&(this.X.muted=!!a)}};B.prototype.pF=function(){this.jk=!0;this.Do(this.jk||this.$l)};B.prototype.qy=function(a){this.$l=!!a;this.Do(this.jk||this.$l)};B.prototype.Qq=function(){var a=this.playbackRate;
this.gk&&(a*=G.fg);switch(this.jb){case 0:this.X.playbackRate!==a&&(this.X.playbackRate=a);break;case 1:1===this.buffer.jb?this.X.playbackRate.value!==a&&(this.X.playbackRate.value=a):this.X.playbackRate!==a&&(this.X.playbackRate=a)}};B.prototype.rF=function(a){switch(this.jb){case 0:a?this.Yl()?(this.ff=!0,this.X.pause()):this.ff=!1:this.ff&&(this.X.play(),this.ff=!1);break;case 1:a?this.Yl()?(this.ff=!0,1===this.buffer.jb?(this.ze=this.os(!0),this.Ag&&(this.ze=this.ze%this.Wi()),h(this.X)):this.X.pause()):
this.ff=!1:this.ff&&(1===this.buffer.jb?(this.X=F.createBufferSource(),this.X.buffer=this.buffer.zb,this.X.connect(this.Qc),this.X.onended=this.Lt,this.Sn=this.X,this.X.loop=this.Ag,this.Qc.gain.value=K*this.volume*this.Dk,this.Qq(),this.startTime=(this.gk?G.bd.Va:G.yh.Va)-this.ze/(this.playbackRate||.001),f(this.X,this.ze,this.Wi())):this.X.play(),this.ff=!1);break;case 2:a?this.Yl()?(this.X.pause(),this.ff=!0):this.ff=!1:this.ff&&(this.ff=!1,this.X.play())}};y.ta=function(a){function b(){if(!ga&&
F.createBuffer){var a=F.createBuffer(1,220,22050),c=F.createBufferSource();c.buffer=a;c.connect(F.destination);e(c)}}this.type=a;G=this.i=a.i;I=this;this.Zd=null;this.ym=-600;this.i.Zl&&(wb=!0);!(this.i.mk||this.i.mp&&(this.i.Sl||this.i.np))||this.i.Tl||this.i.cb||this.i.Ks||wb||(xa=!0);F=null;"undefined"!==typeof AudioContext?(Q=1,F=new AudioContext):"undefined"!==typeof webkitAudioContext&&(Q=1,F=new webkitAudioContext);this.i.mk&&F&&(F.close&&F.close(),"undefined"!==typeof AudioContext?F=new AudioContext:
"undefined"!==typeof webkitAudioContext&&(F=new webkitAudioContext));xa?document.addEventListener("touchend",function(){!cc&&F&&(b(),cc=!0);var a,c,d;if(xa){if(!O)for(a=0,c=zb.length;a<c;++a)d=zb[a],d.fd||d.Ke||d.X.play();H(zb)}},!0):wb&&document.addEventListener("touchend",function(){!cc&&F&&(b(),cc=!0)},!0);1!==Q&&(this.i.Je&&"undefined"!==typeof window.Media?Q=2:this.i.Ew&&(Q=3));2===Q&&(da=location.href,a=da.lastIndexOf("/"),-1<a&&(da=da.substr(0,a+1)),da=da.replace("file://",""));if(this.i.kE&&
this.i.lE&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.i.Ce(this);else{if(this.i.Id)J=this.i.mp;else try{J=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){J=!1}this.i.yi(this)}};var Ga=y.ta.prototype;Ga.na=function(){this.i.Pj=this;M=this.U[0];this.ph=this.U[1];this.LE=0!==this.U[2];this.yx=0;P=this.U[3];qa=this.U[4];this.ym=-this.U[5];ma=this.U[6];Xa=this.U[7];Rd=this.U[8];
this.Zd=new z;var a=this.i.Ga||this.i.width,c=this.i.Fa||this.i.height;1===Q&&("undefined"!==typeof F.listener.dopplerFactor&&(F.listener.dopplerFactor=0),F.listener.setPosition(a/2,c/2,this.ym),F.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){Ma&&Ma.disconnect();Nb=c.toLowerCase();Ma=F.createMediaStreamSource(a);Ma.connect(b(Nb))});this.i.rr(function(a){I.HE(a)});var d=this;this.i.Mj(function(a){d.uj(a)})};Ga.uj=function(a){var b,c,d;b=0;for(c=S.length;b<c;b++)d=S[b],
d.rc&&d.rc.Ma===a&&(d.rc.Ma=null,d.Dg&&d.Yl()&&d.Ag&&d.stop());this.Zd.Ma===a&&(this.Zd.Ma=null)};Ga.Ub=function(){var a={silent:O,masterVolume:K,listenerZ:this.ym,listenerUid:this.Zd.ep()?this.Zd.Ma.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,h;c=0;for(d=S.length;c<d;c++)e=S[c],!e.tF()||3===this.ph||e.zf&&1===this.ph||!e.zf&&2===this.ph||(f=e.os(),e.Ag&&(f=f%e.Wi()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.zf,playbackTime:f,volume:e.volume,looping:e.Ag,muted:e.jk,playbackRate:e.playbackRate,
paused:e.Ke,resume_position:e.ze},e.Dg&&(f.pan={},h=f.pan,e.rc&&e.rc.ep()?h.objUid=e.rc.Ma.uid:(h.x=e.Ox,h.y=e.Px,h.a=e.Kx),h.ia=e.Lx,h.oa=e.Mx,h.og=e.Nx),b.push(f));b=a.effects;for(g in ha)if(ha.hasOwnProperty(g)){e=[];c=0;for(d=ha[g].length;c<d;c++)e.push({type:ha[g][c].type,params:ha[g][c].Cb});b[g]=e}return a};var Ob=[];Ga.Xb=function(a){var b=a.silent;K=a.masterVolume;this.ym=a.listenerZ;this.Zd.Nk(null);var c=a.listenerUid;-1!==c&&(this.Zd.Ap=c,Ob.push(this.Zd));var c=a.playing,d,e,f,g,h,D,
B,C,y,w,I;if(3!==this.ph)for(d=0,e=S.length;d<e;d++)y=S[d],y.zf&&1===this.ph||(y.zf||2!==this.ph)&&y.stop();for(h in ha)if(ha.hasOwnProperty(h))for(d=0,e=ha[h].length;d<e;d++)ha[h][d].remove();sb(ha);for(h in a.effects)if(a.effects.hasOwnProperty(h))for(D=a.effects[h],d=0,e=D.length;d<e;d++)switch(f=D[d].type,w=D[d].params,f){case "filter":E(h,new m(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "delay":E(h,new l(w[0],w[1],w[2]));break;case "convolve":f=w[2];y=this.Fl(f,!1);y.zb?f=new k(y.zb,w[0],w[1],
f):(f=new k(null,w[0],w[1],f),y.Ax=w[0],y.oo=f);E(h,f);break;case "flanger":E(h,new n(w[0],w[1],w[2],w[3],w[4]));break;case "phaser":E(h,new q(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "gain":E(h,new r(w[0]));break;case "tremolo":E(h,new v(w[0],w[1]));break;case "ringmod":E(h,new t(w[0],w[1]));break;case "distortion":E(h,new p(w[0],w[1],w[2],w[3],w[4]));break;case "compressor":E(h,new u(w[0],w[1],w[2],w[3],w[4]));break;case "analyser":E(h,new x(w[0],w[1]))}d=0;for(e=c.length;d<e;d++)3===this.ph||
(a=c[d],f=a.buffersrc,g=a.is_music,h=a.tag,D=a.playbackTime,B=a.looping,C=a.volume,I=(w=a.pan)&&w.hasOwnProperty("objUid")?w.objUid:-1,g&&1===this.ph)||!g&&2===this.ph||((y=this.kw(f,h,g,B,C))?(y.ze=a.resume_position,y.lu(!!w),y.play(B,C,D),y.Qq(),y.GF(),y.Do(y.jk||y.$l),a.paused&&y.pause(),a.muted&&y.pF(),y.Do(y.jk||y.$l),w&&(-1!==I?(y.rc=y.rc||new z,y.rc.Ap=I,Ob.push(y.rc)):y.uq(w.x,w.y,w.a,w.ia,w.oa,w.og))):(y=this.Fl(f,g),y.pq=D,y.Yp=a.paused,w&&(-1!==I?y.wj.push({Cx:I,fp:w.ia,Kp:w.oa,Op:w.og,
wu:h}):y.wj.push({x:w.x,y:w.y,T:w.a,fp:w.ia,Kp:w.oa,Op:w.og,wu:h}))));if(b&&!O){d=0;for(e=S.length;d<e;d++)S[d].qy(!0);O=!0}else if(!b&&O){d=0;for(e=S.length;d<e;d++)S[d].qy(!1);O=!1}};Ga.of=function(){var a,b,c,d;a=0;for(b=Ob.length;a<b;a++)c=Ob[a],d=this.i.Vf(c.Ap),c.Nk(d),c.Ap=-1,d&&(N=d.x,U=d.y);H(Ob)};Ga.HE=function(a){if(!this.LE){!a&&F&&F.resume&&(F.resume(),ga=!1);var b,c;b=0;for(c=S.length;b<c;b++)S[b].rF(a);a&&F&&F.suspend&&(F.suspend(),ga=!0)}};Ga.mb=function(){var a=this.i.Xa,b,c,d;b=
0;for(c=S.length;b<c;b++)d=S[b],d.mb(a),0!==M&&d.Qq();var e,f;for(e in ha)if(ha.hasOwnProperty(e))for(d=ha[e],b=0,c=d.length;b<c;b++)f=d[b],f.mb&&f.mb();1===Q&&this.Zd.ep()&&(this.Zd.mb(a),N=this.Zd.Ma.x,U=this.Zd.Ma.y,F.listener.setPosition(this.Zd.Ma.x,this.Zd.Ma.y,this.ym),F.listener.setVelocity(this.Zd.ts(),this.Zd.us(),0))};var Pb=[];Ga.qF=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&J||!f&&!J)Pb.push({filename:e,
size:d,Ma:null}),g+=d;return g};Ga.xF=function(){var a,b,c,d;a=0;for(b=Pb.length;a<b;++a)c=Pb[a],d=this.i.Yr+c.filename,c.Ma=this.Fl(d,!1)};Ga.zD=function(){var a=0,b,c,d;b=0;for(c=Pb.length;b<c;++b)d=Pb[b],d.Ma.iE()||d.Ma.XD()||this.i.cb||this.i.np?a+=d.size:d.Ma.Fw()&&(a+=Math.floor(d.size/2));return a};Ga.bF=function(){var a,b,c,d;c=a=0;for(b=Z.length;a<b;++a)d=Z[a],Z[c]=d,d.zf?d.aF():++c;Z.length=c};Ga.Fl=function(a,b){var c,d,e,f=null;c=0;for(d=Z.length;c<d;c++)if(e=Z[c],e.src===a){f=e;break}f||
(wb&&b&&this.bF(),f=new D(a,b),Z.push(f));return f};Ga.kw=function(a,b,c,d,e){var f,g,h;f=0;for(g=S.length;f<g;f++)if(h=S[f],h.src===a&&(h.NB()||c))return h.tag=b,h;a=this.Fl(a,c);if(!a.zb)return"<preload>"!==b&&(a.bq=b,a.ot=d,a.Nu=e),null;h=new B(a,b);S.push(h);return h};var yb=[];C.prototype.Mn=function(a){return Wb(T,a)};y.H=new C;w.prototype.UA=function(b,c,d,e,f,g,h,k){if(!O&&e&&(e=e.ls())){d=a(d);var l=b[1];b=this.i.Yr+b[0]+(J?".ogg":".m4a");(R=this.kw(b,k,l,0!==c,d))?(R.lu(!0),k=ab(e.x,e.y,
-e.O.Sb(),N,U,!0),b=ab(e.x,e.y,-e.O.Sb(),N,U,!1),R.uq(k,b,Qa(e.M-e.O.Sb()),f,g,a(h)),R.Nk(e),R.play(0!==c,d,0,this.yx),this.yx=0):this.Fl(b,l).wj.push({Ma:e,fp:f,Kp:g,Op:a(h),wu:k})}};y.ka=new w;y.Ka=new function(){}})();function ld(a){this.i=a}
(function(){function a(){}var c=ld.prototype;c.xa=function(a){this.fb=a;this.i=a.i};c.xa.prototype.na=function(){};c.ta=function(a){this.type=a;this.i=a.i};c.ta.prototype.na=function(){var a=this;window.addEventListener("resize",function(){a.i.trigger(ld.prototype.H.AA,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.i.trigger(ld.prototype.H.tA,a)}),window.addEventListener("offline",function(){a.i.trigger(ld.prototype.H.sA,a)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){a.i.xk=1;a.i.trigger(ld.prototype.H.hr,a)}),window.applicationCache.addEventListener("progress",function(c){a.i.xk=c.loaded/c.total||0}));this.i.Id||(document.addEventListener("appMobi.device.update.available",function(){a.i.trigger(ld.prototype.H.hr,a)}),document.addEventListener("backbutton",function(){a.i.trigger(ld.prototype.H.Kn,a)}),document.addEventListener("menubutton",function(){a.i.trigger(ld.prototype.H.kv,a)}),document.addEventListener("searchbutton",
function(){a.i.trigger(ld.prototype.H.CA,a)}),document.addEventListener("tizenhwkey",function(c){var g;switch(c.keyName){case "back":g=a.i.trigger(ld.prototype.H.Kn,a);!g&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(g=a.i.trigger(ld.prototype.H.kv,a))||c.preventDefault()}}));this.i.Rs&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(c){a.i.trigger(ld.prototype.H.Kn,a)&&(c.dp=
!0)}):this.i.Qs&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.i.trigger(ld.prototype.H.Kn,a)});this.i.rr(function(c){c?a.i.trigger(ld.prototype.H.uA,a):a.i.trigger(ld.prototype.H.vA,a)})};a.prototype.tA=function(){return!0};a.prototype.sA=function(){return!0};a.prototype.Mz=function(){return"undefined"===typeof window.applicationCache?!1:window.applicationCache.status===window.applicationCache.DOWNLOADING};a.prototype.hr=function(){return!0};a.prototype.vA=function(){return!0};
a.prototype.uA=function(){return!0};a.prototype.AA=function(){return!0};a.prototype.Kn=function(){return!0};a.prototype.kv=function(){return!0};a.prototype.CA=function(){return!0};c.H=new a;c.ka=new function(){};c.Ka=new function(){}})();function md(a){this.i=a}
(function(){function a(){}function c(){}var b=md.prototype;b.xa=function(a){this.fb=a;this.i=a.i};b.xa.prototype.na=function(){};b.ta=function(a){this.type=a;this.i=a.i};var d=b.ta.prototype;d.na=function(){this.i.cb?fa("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.fk=1===this.U[0],this.Ye=document.createElement("input"),this.Z=this.fk?document.createElement("label"):this.Ye,this.hm=null,this.Ye.type=this.fk?"checkbox":"button",this.Ye.id=this.U[6],
jQuery(this.Z).appendTo(this.i.Rj?this.i.Rj:"body"),this.fk?(jQuery(this.Ye).appendTo(this.Z),this.hm=document.createTextNode(this.U[1]),jQuery(this.Z).append(this.hm),this.Ye.checked=0!==this.U[7],jQuery(this.Z).css("font-family","sans-serif"),jQuery(this.Z).css("display","inline-block"),jQuery(this.Z).css("color","black")):this.Ye.value=this.U[1],this.Z.title=this.U[2],this.Ye.disabled=0===this.U[4],this.Dr=0!==this.U[5],this.oe=!1,0===this.U[3]&&(jQuery(this.Z).hide(),this.visible=!1,this.oe=!0),
this.Ye.onclick=function(a){return function(b){b.stopPropagation();a.i.Qb=!0;a.i.trigger(md.prototype.H.Ln,a);a.i.Qb=!1}}(this),this.Z.addEventListener("touchstart",function(a){a.stopPropagation()},!1),this.Z.addEventListener("touchmove",function(a){a.stopPropagation()},!1),this.Z.addEventListener("touchend",function(a){a.stopPropagation()},!1),jQuery(this.Z).mousedown(function(a){a.stopPropagation()}),jQuery(this.Z).mouseup(function(a){a.stopPropagation()}),jQuery(this.Z).keydown(function(a){a.stopPropagation()}),
jQuery(this.Z).keyup(function(a){a.stopPropagation()}),this.qm=this.rm=this.jm=this.nm=this.pm=this.lm=0,this.xn(!0),this.i.yi(this))};d.Ub=function(){var a={tooltip:this.Z.title,disabled:!!this.Ye.disabled};this.fk?(a.checked=!!this.Ye.checked,a.text=this.hm.nodeValue):a.text=this.Z.value;return a};d.Xb=function(a){this.Z.title=a.tooltip;this.Ye.disabled=a.disabled;this.fk?(this.Ye.checked=a.checked,this.hm.nodeValue=a.text):this.Z.value=a.text};d.cf=function(){this.i.cb||(jQuery(this.Z).remove(),
this.Z=null)};d.mb=function(){this.xn()};d.xn=function(a){if(!this.i.cb){var b=this.O.Bb(this.x,this.y,!0),c=this.O.Bb(this.x,this.y,!1),d=this.O.Bb(this.x+this.width,this.y+this.height,!0),m=this.O.Bb(this.x+this.width,this.y+this.height,!1),l=this.i.width/this.i.devicePixelRatio,k=this.i.height/this.i.devicePixelRatio;!this.visible||!this.O.visible||0>=d||0>=m||b>=l||c>=k?(this.oe||jQuery(this.Z).hide(),this.oe=!0):(1>b&&(b=1),1>c&&(c=1),d>=l&&(d=l-1),m>=k&&(m=k-1),l=window.innerWidth,k=window.innerHeight,
a||this.lm!==b||this.pm!==c||this.nm!==d||this.jm!==m||this.rm!==l||this.qm!==k?(this.lm=b,this.pm=c,this.nm=d,this.jm=m,this.rm=l,this.qm=k,this.oe&&(jQuery(this.Z).show(),this.oe=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,l=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.Z).css("position","absolute"),jQuery(this.Z).offset({left:a,top:l}),jQuery(this.Z).width(Math.round(d-b)),jQuery(this.Z).height(Math.round(m-c)),this.Dr&&jQuery(this.Z).css("font-size",this.O.Hd(!0)/this.i.devicePixelRatio-
.2+"em")):this.oe&&(jQuery(this.Z).show(),this.oe=!1))}};d.Wd=function(){};d.zc=function(){};a.prototype.Ln=function(){return!0};b.H=new a;c.prototype.jr=function(a){this.i.cb||(this.fk?this.hm.nodeValue=a:this.Z.value=a)};c.prototype.Qn=function(a){this.i.cb||(this.visible=0!==a)};c.prototype.Of=function(a){this.i.cb||(this.Ye.disabled=0===a)};b.ka=new c;b.Ka=new function(){}})();function jd(a){this.i=a}
(function(){function a(){this.name="";this.Xm=0;this.Cb=[]}function c(){h++;h===f.length&&f.push(new a);return f[h]}function b(){}function d(){}function g(){}var e=jd.prototype;e.xa=function(a){this.fb=a;this.i=a.i};e.xa.prototype.na=function(){};e.ta=function(a){this.type=a;this.i=a.i};var f=[],h=-1;e.ta.prototype.na=function(){var a=this;window.c2_callFunction=function(b,d){var e,f,g,v=c();v.name=b.toLowerCase();v.Xm=0;if(d)for(v.Cb.length=d.length,e=0,f=d.length;e<f;++e)g=d[e],v.Cb[e]="number"===
typeof g||"string"===typeof g?g:"boolean"===typeof g?g?1:0:0;else H(v.Cb);a.i.trigger(jd.prototype.H.Nn,a,v.name);h--;return v.Xm}};b.prototype.Nn=function(a){var b=0>h?null:f[h];return b?Wb(a,b.name):!1};e.H=new b;d.prototype.CallFunction=function(a,b){var d=c();d.name=a.toLowerCase();d.Xm=0;Ha(d.Cb,b);this.i.trigger(jd.prototype.H.Nn,this,d.name);h--};e.ka=new d;g.prototype.QA=function(a,b){b=wa(b);var c=0>h?null:f[h];c?0<=b&&b<c.Cb.length?a.nu(c.Cb[b]):a.Rb(0):a.Rb(0)};g.prototype.pz=function(a,
b){var d=c();d.name=b.toLowerCase();d.Xm=0;H(d.Cb);var e,f;e=2;for(f=arguments.length;e<f;e++)d.Cb.push(arguments[e]);this.i.trigger(jd.prototype.H.Nn,this,d.name);h--;a.nu(d.Xm)};e.Ka=new g})();function nd(a){this.i=a}
(function(){function a(){}var c=nd.prototype;c.xa=function(a){this.fb=a;this.i=a.i};c.xa.prototype.na=function(){};c.ta=function(a){this.type=a;this.i=a.i;this.pk=Array(256);this.yn=Array(256);this.xh=0};var b=c.ta.prototype;b.na=function(){var a=this;this.i.cb||(jQuery(document).keydown(function(b){a.Ft(b)}),jQuery(document).keyup(function(b){a.Gt(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.Ft=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.pk[a.which])this.yn[a.which]&&!b&&a.preventDefault();else{this.pk[a.which]=!0;this.xh=a.which;this.i.Qb=!0;this.i.trigger(nd.prototype.H.Yz,this);var c=this.i.trigger(nd.prototype.H.cv,this),h=this.i.trigger(nd.prototype.H.pA,this);this.i.Qb=!1;if(c||h)this.yn[a.which]=!0,b||a.preventDefault()}};b.Gt=function(a){this.pk[a.which]=!1;this.xh=a.which;this.i.Qb=!0;this.i.trigger(nd.prototype.H.Wu,this);var b=this.i.trigger(nd.prototype.H.gv,this),c=this.i.trigger(nd.prototype.H.dv,this);this.i.Qb=
!1;if(b||c||this.yn[a.which])this.yn[a.which]=!0,a.preventDefault()};b.vj=function(){var a;for(a=0;256>a;++a)if(this.pk[a]){this.pk[a]=!1;this.xh=a;this.i.trigger(nd.prototype.H.Wu,this);var b=this.i.trigger(nd.prototype.H.gv,this),c=this.i.trigger(nd.prototype.H.dv,this);if(b||c)this.yn[a]=!0}};b.Ub=function(){return{triggerKey:this.xh}};b.Xb=function(a){this.xh=a.triggerKey};a.prototype.Pz=function(a){return this.pk[a]};a.prototype.cv=function(a){return a===this.xh};a.prototype.Yz=function(){return!0};
a.prototype.Wu=function(){return!0};a.prototype.gv=function(a){return a===this.xh};a.prototype.pA=function(a){return a===this.xh};a.prototype.dv=function(a){return a===this.xh};c.H=new a;c.ka=new function(){};c.Ka=new function(){}})();function yd(a){this.i=a}
(function(){function a(){}function c(){}var b=yd.prototype;b.xa=function(a){this.fb=a;this.i=a.i};b.xa.prototype.na=function(){};b.ta=function(a){this.type=a;this.i=a.i;this.eo=Array(4);this.Sy=this.Mq=this.Vk=this.ki=this.ji=0;this.dp=!1};var d=b.ta.prototype;d.na=function(){var a=this;if(!this.i.cb){jQuery(document).mousemove(function(b){a.It(b)});jQuery(document).mousedown(function(b){a.Ht(b)});jQuery(document).mouseup(function(b){a.Jt(b)});jQuery(document).dblclick(function(b){a.FE(b)});var b=
function(b){a.IE(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var g={left:0,top:0};d.It=function(a){var b=this.i.cb?g:jQuery(this.i.canvas).offset();this.ji=a.pageX-b.left;this.ki=a.pageY-b.top};d.rx=function(){return 0<this.i.Xd?!0:0<=this.ji&&0<=this.ki&&this.ji<this.i.width&&this.ki<this.i.height};d.Ht=function(a){this.rx()&&(this.eo[a.which]=!0,this.i.Qb=!0,this.i.trigger(yd.prototype.H.Xz,this),this.Vk=a.which-1,this.Mq=0,this.i.trigger(yd.prototype.H.Zu,
this),this.i.trigger(yd.prototype.H.dr,this),this.i.Qb=!1)};d.Jt=function(a){this.eo[a.which]&&(this.i.bp&&!this.i.ah&&a.preventDefault(),this.i.bp=!0,this.eo[a.which]=!1,this.i.Qb=!0,this.Vk=a.which-1,this.i.trigger(yd.prototype.H.zA,this),this.i.Qb=!1)};d.FE=function(a){this.rx()&&(a.preventDefault(),this.i.Qb=!0,this.Vk=a.which-1,this.Mq=1,this.i.trigger(yd.prototype.H.Zu,this),this.i.trigger(yd.prototype.H.dr,this),this.i.Qb=!1)};d.IE=function(a){this.Sy=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.dp=!1;this.i.Qb=!0;this.i.trigger(yd.prototype.H.PA,this);this.i.Qb=!1;this.dp&&Xb(a)&&a.preventDefault()};a.prototype.Zu=function(a,b){return a===this.Vk&&b===this.Mq};a.prototype.Xz=function(){return!0};a.prototype.Uu=function(a){return this.eo[a+1]};a.prototype.zA=function(a){return a===this.Vk};a.prototype.dr=function(a,b,c){return a!==this.Vk||b!==this.Mq?!1:this.i.ln(c,this.ji,this.ki)};a.prototype.PA=function(a){this.dp=!0;return a===this.Sy};b.H=new a;b.ka=new function(){};
c.prototype.nr=function(a,b){var c,d,g,k,n;la(b)?(c=this.i.Yg(0),d=c.scale,g=c.Td,k=c.ve,n=c.M,c.scale=1,c.Td=1,c.ve=1,c.M=0,a.wa(c.mc(this.ji,this.ki,!0)),c.scale=d,c.Td=g,c.ve=k,c.M=n):(c=na(b)?this.i.Yg(b):this.i.Hl(b))?a.wa(c.mc(this.ji,this.ki,!0)):a.wa(0)};c.prototype.or=function(a,b){var c,d,g,k,n;la(b)?(c=this.i.Yg(0),d=c.scale,g=c.Td,k=c.we,n=c.M,c.scale=1,c.Td=1,c.we=1,c.M=0,a.wa(c.mc(this.ji,this.ki,!1)),c.scale=d,c.Td=g,c.we=k,c.M=n):(c=na(b)?this.i.Yg(b):this.i.Hl(b))?a.wa(c.mc(this.ji,
this.ki,!1)):a.wa(0)};b.Ka=new c})();function zd(a){this.i=a}
(function(){function a(a){this.n=a;this.history=[]}function c(a){this.BE=a;this.M=this.y=this.x=this.timestamp=0;this.Zh=[]}function b(a,b,c,d){a=b-a;if(0===a)return 0;b=sa(a);if(b<=sa(c/10)||1>b||1E3<=b)return a;var e=b/50;d&&(e=ta(e,1));d=sa(c/5);10<=b&&(e=b/10,d=sa(c/2));c=ta(e,d);c>b&&(c=b);return 0<a?c:-c}function d(){}var g=zd.prototype;g.xa=function(a){this.fb=a;this.i=a.i};g.xa.prototype.na=function(){};g.ta=function(a){this.type=a;this.i=a.i};var e=g.ta.prototype,f=!1;e.na=function(){this.Ha=
null;(f=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.Ha=new window.C2Multiplayer);this.AE=this.tx=this.ux=this.zE=this.pE=this.Zp=this.$p=this.uF="";this.Hu={};this.kp={};this.lh={};this.al=this.gF=this.lD=null;this.jp=[];this.un=[];this.Cg={};var a=this;f&&(this.Ha.onserverlist=function(){a.i.trigger(zd.prototype.H.DA,a)},this.Ha.onsignallingerror=function(){a.i.trigger(zd.prototype.H.GA,a)},this.Ha.onsignallingclose=function(){a.i.trigger(zd.prototype.H.FA,
a);a.uF=""},this.Ha.onsignallingwelcome=function(){a.i.trigger(zd.prototype.H.EA,a)},this.Ha.onsignallinglogin=function(){a.i.trigger(zd.prototype.H.KA,a)},this.Ha.onsignallingjoin=function(b){a.kp={};a.lh={};a.un.length=0;a.jp.length=0;a.Cg={};a.i.trigger(zd.prototype.H.HA,a);a.i.ej&&b&&a.al.postMessage("start")},this.Ha.onsignallingleave=function(){a.i.trigger(zd.prototype.H.JA,a)},this.Ha.onsignallingkicked=function(){a.i.trigger(zd.prototype.H.IA,a)},this.Ha.onbeforeclientupdate=function(){a.i.trigger(zd.prototype.H.cA,
a)},this.Ha.onpeeropen=function(b){a.$p=b.id;a.Zp=b.alias;a.i.trigger(zd.prototype.H.wA,a)},this.Ha.onpeerclose=function(b,c){a.$p=b.id;a.Zp=b.alias;a.pE=c||"unknown";var d=a.jw(b);if(d){var e=a.Hu[d.type];e&&e.removeObjectNid(b.nid);a.i.Ce(d)}a.lh.hasOwnProperty(b.id)&&delete a.lh[b.id];a.i.trigger(zd.prototype.H.xA,a)},this.Ha.onpeermessage=function(b,c){a.ux=c.t;a.tx=c.f?c.f:b.id;a.AE=a.Ha.getAliasFromId(a.tx);a.zE=c.m;a.i.trigger(zd.prototype.H.Zz,a);a.i.trigger(zd.prototype.H.yA,a)},this.Ha.onsignallinginstancelist=
function(b){a.lD=b;a.i.trigger(zd.prototype.H.kA,a)},this.Ha.onsignallingroomlist=function(b){a.gF=b;a.i.trigger(zd.prototype.H.BA,a)},this.Ha.ongetobjectcount=function(a){return a.G.length},this.Ha.ongetobjectvalue=function(b,c,d){if(!d)return b.G[c].uid;b=b.G[c];switch(d.tag){case "x":return b.x;case "y":return b.y;case "a":return b.M;case "iv":if(d.clientvaluetag&&(c=a.kp[b.uid])&&a.Ha.me!==c&&!c.wasRemoved&&c.hasClientState(d.clientvaluetag))return c.getInterpClientState(d.clientvaluetag);d=b.Pb[d.userdata];
return"number"===typeof d?d:0;default:return 0}},this.Ha.oninstancedestroyed=function(b,c,d){var e=b.userdata;b=e.Is;e.Rr||(e.Rr={});e.Rr[c]=d;b&&b.hasOwnProperty(c)&&((d=b[c])&&a.i.Ce(d),delete b[c])},this.i.Mj(function(b){var c,d=b.uid;a.kp.hasOwnProperty(d)&&delete a.kp[d];for(c in a.lh)if(a.lh.hasOwnProperty(c)&&a.lh[c]===b){delete a.lh[c];break}a.Cg.hasOwnProperty(d)&&delete a.Cg[d];c=a.jp.indexOf(b);-1<c&&a.jp.splice(c,1);c=a.un.indexOf(b);-1<c&&a.un.splice(c,1);a.Ha.removeObjectId(d)}),this.al=
new Worker("waker.js"),this.al.addEventListener("message",function(b){"tick"===b.data&&a.i.ej&&a.i.mb(!0)},!1),this.al.postMessage(""));this.i.rr(function(b){f&&a.Ha.isHost()&&(b?a.al.postMessage("start"):a.al.postMessage("stop"))});this.i.UE(this)};e.jw=function(a){a=a.id;return this.lh.hasOwnProperty(a)?this.lh[a]:null};e.hE=function(a){return 0<=this.jp.indexOf(a)};e.TE=function(){if(f){this.Ha.tick(this.i.Rh);this.DF();var a,b,c;if(this.Ha.isInRoom()&&!this.Ha.isHost())for(a=0,b=this.Ha.registeredObjects.length;a<
b;++a)c=this.Ha.registeredObjects[a],this.FF(c)}};var h=[];e.FF=function(a){a.tick();var b=a.obj,c=a.getCount(),d=a.netvalues,e=a.userdata;e.Is||(e.Is={});var f=e.Is,e=e.Rr,g=a.simTime,m,u,x,z,D,B,E,C=d.length;for(m in f)f.hasOwnProperty(m)&&(z=f[m],this.i.Vf(z.uid)||delete f[m]);if(e)for(m in e)e.hasOwnProperty(m)&&e[m]<g-3E3&&delete e[m];for(m=0;m<c;++m)if(u=a.getNetInstAt(m),x=u.nid,e&&e[x]>=g-3E3)h.push(u),f.hasOwnProperty(x)&&(this.i.Ce(f[x]),delete f[x]);else{if(f.hasOwnProperty(x))z=f[x],E=
!1;else{if(z=this.Ha.getPeerByNid(x))this.$p=z.id,this.Zp=z.alias;else{if(a.hasOverriddenNids)continue;this.Zp=this.$p=""}z=this.i.ro(b,this.i.Mb.Sa[b.Tv],-1E3,-1E3);f[x]=z;E=!0}if(u.isTimedOut(g))h.push(u),f.hasOwnProperty(x)&&delete f[x],this.i.Ce(z);else{if(this.hE(z))this.SB(z,u,d,g);else for(B=0;B<C;++B)switch(x=u.getInterp(g,B),D=d[B],D.tag){case "x":z.x=x;z.aa();break;case "y":z.y=x;z.aa();break;case "a":z.M=x;z.aa();break;case "iv":D=D.userdata;if(D>z.Pb.length||"number"!==typeof z.Pb[D])break;
z.Pb[D]=x}E&&this.i.trigger(Object.getPrototypeOf(b.fb).H.Ng,z)}}m=0;for(c=h.length;m<c;++m)a.removeNetInstance(h[m]);h.length=0};e.DF=function(){var a=this.Ha.getHostInputArrivalTime(),b,c;b=0;for(c=this.un.length;b<c;++b)this.EF(this.un[b],a)};a.prototype.pw=function(a){if(2>this.history.length)return 0;var b=this.history[this.history.length-2],c=this.history[this.history.length-1];switch(a){case "x":return c.x-b.x;case "y":return c.y-b.y;case "a":return c.M-b.M;case "iv":return c.Zh[void 0]-b.Zh[void 0]}return 0};
a.prototype.ow=function(a,b,c,d){var e,f,g,h=null,m=null;e=0;for(f=this.history.length;e<f;++e)if(g=this.history[e],g.timestamp<c)h=g;else{e+1<this.history.length&&(m=this.history[e+1]);break}if(h){e=0;switch(a){case "x":e=h.x;break;case "y":e=h.y;break;case "a":e=h.M;break;case "iv":e=h.Zh[b]}if(!m)return e;f=e;switch(a){case "x":f=m.x;break;case "y":f=m.y;break;case "a":f=m.M;break;case "iv":f=m.Zh[b]}return window.interpNetValue(d,e,f,jb(h.timestamp,m.timestamp,c),!1)}};a.prototype.EB=function(a,
b,c){var d,e,f;d=0;for(e=this.history.length;d<e;++d)switch(f=this.history[d],a){case "x":f.x+=c;break;case "y":f.y+=c;break;case "a":f.M+=c;break;case "iv":f.Zh[b]+=c}};var m=[];e.EF=function(b,d){this.Cg.hasOwnProperty(b.uid)||(this.Cg[b.uid]=new a(b));var e=this.Cg[b.uid],f;m.length?(f=m.pop(),f.BE=e):f=new c(e);f.timestamp=d;f.x=b.x;f.y=b.y;f.M=b.M;Ha(f.Zh,b.Pb);for(e.history.push(f);0<e.history.length&&e.history[0].timestamp<=d-2E3;)f=e.history.shift(),f.Zh.length=0,1E3>m.length&&m.push(f)};
e.SB=function(a,c,d,e){if(this.Cg.hasOwnProperty(a.uid)){var f=this.Cg[a.uid],g,h,m,u,x,z,D,B=d.length,E=db(0,0,f.pw("x"),f.pw("y")),C=!!a.ma.isPlatformBehavior;for(g=0;g<B;++g)if(x=d[g],z=x.tag,D=x.userdata,u=x.interp,h=c.getLatestUpdate())if(m=h.data[g],u=f.ow(z,D,h.timestamp,u),"undefined"!==typeof u){h=0;switch(z){case "x":h=b(u,m,E,C);0!==h&&(a.x+=h,a.aa());break;case "y":h=b(u,m,E,C);0!==h&&(a.y+=h,a.aa());break;case "a":h=kb(u,m,.5)-u;0!==h&&(a.M+=h,a.aa());break;case "iv":m=D;if(m>a.Pb.length||
"number"!==typeof a.Pb[m])break;x.clientvaluetag||(a.Pb[m]=c.getInterp(e,g))}0!==h&&f.EB(z,D,h)}}};e.F=function(){};e.cf=function(){};e.Ub=function(){return{}};e.Xb=function(){};d.prototype.DA=function(){return!0};d.prototype.GA=function(){return!0};d.prototype.EA=function(){return!0};d.prototype.FA=function(){return!0};d.prototype.KA=function(){return!0};d.prototype.HA=function(){return!0};d.prototype.JA=function(){return!0};d.prototype.IA=function(){return!0};d.prototype.wA=function(){return!0};
d.prototype.xA=function(){return!0};d.prototype.yA=function(a){return this.ux===a};d.prototype.Zz=function(){return!0};d.prototype.cA=function(){return!0};d.prototype.kA=function(){return!0};d.prototype.BA=function(){return!0};g.H=new d;e.j=function(a,b,c,d){f&&(d=this.Ha.registerObject(a,a.kb,d),1===b?(d.addValue(this.Ha.INTERP_LINEAR,c,"x"),d.addValue(this.Ha.INTERP_LINEAR,c,"y")):2===b?d.addValue(this.Ha.INTERP_ANGULAR,c,"a"):3===b&&(d.addValue(this.Ha.INTERP_LINEAR,c,"x"),d.addValue(this.Ha.INTERP_LINEAR,
c,"y"),d.addValue(this.Ha.INTERP_ANGULAR,c,"a")),this.Hu[a]=d)};e.k=function(a,b,c,d,e){if(f&&(a=this.Hu[a])){var g=this.Ha.INTERP_NONE;1===d?g=this.Ha.INTERP_LINEAR:2===d&&(g=this.Ha.INTERP_ANGULAR);a.addValue(g,c,"iv",b,e)}};g.ka=new function(){};e.B=function(a,b,c,d){if(!f||!this.Ha.isHost())return 0;var e=this.Ha.getPeerById(a);if(!e)return 0;var g=this.jw(e);if(!g)return 0;a=0;switch(c){case "x":a=g.x;break;case "y":a=g.y;break;case "a":a=g.M}b=this.Ha.getPeerById(b);if(!b||b===e||this.Ha.me===
b)return a;b=2*(b.latency+this.Ha.clientDelay);g=g.uid;if(!this.Cg.hasOwnProperty(g))return a;d=this.Cg[g].ow(c,0,tb()-b,d);return"undefined"===typeof d?a:d};g.Ka=new function(){}})();function Ad(a){this.i=a}
(function(){function a(a){this.Wb=a;this.vc=!1;this.M=this.speed=this.y=this.x=0;this.opacity=1;this.Hh=this.dk=this.size=this.Zo=0}function c(){}var b=Ad.prototype;b.xa=function(a){this.fb=a;this.i=a.i};var d=b.xa.prototype;d.na=function(){this.Aa||(this.Da=new Image,this.Da.po=this.qn,this.lb=null,this.i.Uq(this.Da,this.pn))};d.Hk=function(){this.Aa||(this.lb=null)};d.Mm=function(){this.Aa||!this.G.length||this.lb||(this.lb=this.i.la.vk(this.Da,!0,this.i.Ya,this.rn))};d.wk=function(){this.Aa||this.lb||
!this.i.la||(this.lb=this.i.la.vk(this.Da,!0,this.i.Ya,this.rn))};d.wn=function(){this.Aa||this.G.length||!this.lb||(this.i.la.deleteTexture(this.lb),this.lb=null)};d.Qm=function(a){a.drawImage(this.Da,0,0)};a.prototype.init=function(){var a=this.Wb;this.x=a.x-a.Xq/2+Math.random()*a.Xq;this.y=a.y-a.Yq/2+Math.random()*a.Yq;this.speed=a.ip-a.Bq/2+Math.random()*a.Bq;this.M=a.M-a.Cq/2+Math.random()*a.Cq;this.opacity=a.Gs;this.size=a.hp-a.Aq/2+Math.random()*a.Aq;this.Zo=a.xs-a.$o/2+Math.random()*a.$o;
this.Hh=this.dk=0};a.prototype.mb=function(a){var b=this.Wb;this.x+=Math.cos(this.M)*this.speed*a;this.y+=Math.sin(this.M)*this.speed*a;this.y+=this.dk*a;this.speed+=b.ke*a;this.size+=this.Zo*a;this.dk+=b.od*a;this.Hh+=a;1>this.size?this.vc=!1:(0!==b.vm&&(this.M+=Math.random()*b.vm*a-b.vm*a/2),0!==b.xm&&(this.speed+=Math.random()*b.xm*a-b.xm*a/2),0!==b.wm&&(this.opacity+=Math.random()*b.wm*a-b.wm*a/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=b.Wj&&this.Hh>=b.timeout&&(this.vc=
!1),2===b.Wj&&0>=this.speed&&(this.vc=!1))};a.prototype.Wd=function(a){var b=this.Wb.opacity*this.opacity;if(0!==b){0===this.Wb.Wj&&(b*=1-this.Hh/this.Wb.timeout);a.globalAlpha=b;var b=this.x-this.size/2,c=this.y-this.size/2;this.Wb.i.xe&&(b=b+.5|0,c=c+.5|0);a.drawImage(this.Wb.type.Da,b,c,this.size,this.size)}};a.prototype.zc=function(a){var b=this.Wb.opacity*this.opacity;0===this.Wb.Wj&&(b*=1-this.Hh/this.Wb.timeout);var c=this.size,d=c*this.Wb.Sx,g=this.x-c/2,k=this.y-c/2;this.Wb.i.xe&&(g=g+.5|
0,k=k+.5|0);1>d||0===b||(d<a.wE||d>a.tt?(a.qh(b),a.Kk(g,k,g+c,k,g+c,k+c,g,k+c)):a.ME(this.x,this.y,d,b))};a.prototype.left=function(){return this.x-this.size/2};a.prototype.right=function(){return this.x+this.size/2};a.prototype.top=function(){return this.y-this.size/2};a.prototype.bottom=function(){return this.y+this.size/2};b.ta=function(a){this.type=a;this.i=a.i};var d=b.ta.prototype,g=[];d.na=function(){var a=this.U;this.kq=a[0];this.Cq=Pa(a[1]);this.Rk=a[2];this.su=!0;this.ip=a[3];this.hp=a[4];
this.Gs=a[5]/100;this.xs=a[6];this.Xq=a[7];this.Yq=a[8];this.Bq=a[9];this.Aq=a[10];this.$o=a[11];this.ke=a[12];this.od=a[13];this.vm=a[14];this.xm=a[15];this.wm=a[16];this.Wj=a[17];this.timeout=a[18];this.xj=0;this.Sx=1;this.Vp=this.x;this.Xp=this.y;this.Wp=this.x;this.Up=this.y;this.BB(function(a){a.Jb.set(a.Vp,a.Xp,a.Wp,a.Up);a.Kb.Qk(a.Jb);a.ao=!1;a.Lu();a.cz()});this.td||(this.be=[]);this.i.yi(this);this.type.wk();if(1===this.Rk)for(a=0;a<this.kq;a++)this.tr().opacity=0;this.Oo=!0};d.Ub=function(){var a=
{r:this.kq,sc:this.Cq,st:this.Rk,s:this.su,isp:this.ip,isz:this.hp,io:this.Gs,gr:this.xs,xr:this.Xq,yr:this.Yq,spr:this.Bq,szr:this.Aq,grnd:this.$o,acc:this.ke,g:this.od,lar:this.vm,lsr:this.xm,lor:this.wm,dm:this.Wj,to:this.timeout,pcc:this.xj,ft:this.Oo,p:[]},b,c,d,g=a.p;b=0;for(c=this.be.length;b<c;b++)d=this.be[b],g.push([d.x,d.y,d.speed,d.M,d.opacity,d.Zo,d.size,d.dk,d.Hh]);return a};d.Xb=function(a){this.kq=a.r;this.Cq=a.sc;this.Rk=a.st;this.su=a.s;this.ip=a.isp;this.hp=a.isz;this.Gs=a.io;this.xs=
a.gr;this.Xq=a.xr;this.Yq=a.yr;this.Bq=a.spr;this.Aq=a.szr;this.$o=a.grnd;this.ke=a.acc;this.od=a.g;this.vm=a.lar;this.xm=a.lsr;this.wm=a.lor;this.Wj=a.dm;this.timeout=a.to;this.xj=a.pcc;this.Oo=a.ft;g.push.apply(g,this.be);H(this.be);var b,c,d,l=a.p;a=0;for(b=l.length;a<b;a++)c=this.tr(),d=l[a],c.x=d[0],c.y=d[1],c.speed=d[2],c.M=d[3],c.opacity=d[4],c.Zo=d[5],c.size=d[6],c.dk=d[7],c.Hh=d[8]};d.cf=function(){g.push.apply(g,this.be);H(this.be)};d.tr=function(){var b;g.length?(b=g.pop(),b.Wb=this):b=
new a(this);this.be.push(b);b.vc=!0;return b};d.mb=function(){var a=this.i.yg(this),b,c,d,l;if(0===this.Rk&&this.su)for(this.xj+=a*this.kq,c=wa(this.xj),this.xj-=c,b=0;b<c;b++)d=this.tr(),d.init();this.Vp=this.x;this.Xp=this.y;this.Wp=this.x;this.Up=this.y;l=b=0;for(c=this.be.length;b<c;b++)d=this.be[b],this.be[l]=d,this.i.Ua=!0,1===this.Rk&&this.Oo&&d.init(),d.mb(a),d.vc?(d.left()<this.Vp&&(this.Vp=d.left()),d.right()>this.Wp&&(this.Wp=d.right()),d.top()<this.Xp&&(this.Xp=d.top()),d.bottom()>this.Up&&
(this.Up=d.bottom()),l++):g.push(d);Fa(this.be,l);this.aa();this.Oo=!1;1===this.Rk&&0===this.be.length&&this.i.Ce(this)};d.Wd=function(a){var b,c,d,g=this.O;b=0;for(c=this.be.length;b<c;b++)d=this.be[b],d.right()>=g.qb&&d.bottom()>=g.rb&&d.left()<=g.Fb&&d.top()<=g.Eb&&d.Wd(a)};d.zc=function(a){this.Sx=this.O.Hd();a.ge(this.type.lb);var b,c,d,g=this.O;b=0;for(c=this.be.length;b<c;b++)d=this.be[b],d.right()>=g.qb&&d.bottom()>=g.rb&&d.left()<=g.Fb&&d.top()<=g.Eb&&d.zc(a)};b.H=new function(){};c.prototype.bB=
function(a){this.ip=a};c.prototype.aB=function(a){this.hp=a};b.ka=new c;b.Ka=new function(){}})();function id(a){this.i=a}
(function(){function a(){if(0===this.Qr.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Sk?b.drawImage(this.Da,this.Fk,this.Gk,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Da,0,0,this.width,this.height);this.Qr=a.toDataURL("image/png")}return this.Qr}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;q.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function g(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var g=q.length?q.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=e;a[f]=g}}function e(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function f(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return r=a[b][2],!0;r=-2;return!1}function h(){}var m=id.prototype;m.xa=function(a){this.fb=a;this.i=a.i};var l=m.xa.prototype;l.na=function(){if(!this.Aa){var b,c,d,e,f,g,h,k,l;this.Pf=[];this.Nl=!1;b=0;for(c=this.Fe.length;b<c;b++){f=this.Fe[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.bu=f[3];
h.cu=f[4];h.Tx=f[5];h.kb=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],k={},k.pn=g[0],k.qn=g[1],k.Fk=g[2],k.Gk=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.pe=g[7],k.qe=g[8],k.Cs=g[9],k.cq=g[10],k.Ux=g[11],k.Sk=0!==k.width,k.Qr="",k.CG=a,l={left:0,top:0,right:1,bottom:1},k.qu=l,k.lb=null,(l=this.i.gD(g[0]))?k.Da=l:(k.Da=new Image,k.Da.TB=g[0],k.Da.po=g[1],k.Da.LB=null,this.i.Uq(k.Da,g[0])),h.frames.push(k),this.Pf.push(k);this.Fe[b]=h}}};l.az=function(){var a,b,c;a=0;for(b=this.G.length;a<
b;a++)c=this.G[a],c.uo=c.kd.lb};l.Hk=function(){if(!this.Aa){var a,b,c;a=0;for(b=this.Pf.length;a<b;++a)c=this.Pf[a],c.Da.LB=null,c.lb=null;this.Nl=!1;this.az()}};l.Mm=function(){if(!this.Aa&&this.G.length){var a,b,c;a=0;for(b=this.Pf.length;a<b;++a)c=this.Pf[a],c.lb=this.i.la.vk(c.Da,!1,this.i.Ya,c.Ux);this.az()}};l.wk=function(){if(!this.Aa&&!this.Nl&&this.i.la){var a,b,c;a=0;for(b=this.Pf.length;a<b;++a)c=this.Pf[a],c.lb=this.i.la.vk(c.Da,!1,this.i.Ya,c.Ux);this.Nl=!0}};l.wn=function(){if(!this.Aa&&
!this.G.length&&this.Nl){var a,b,c;a=0;for(b=this.Pf.length;a<b;++a)c=this.Pf[a],this.i.la.deleteTexture(c.lb),c.lb=null;this.Nl=!1}};var k=[];l.Qm=function(a){var b,c,d;H(k);b=0;for(c=this.Pf.length;b<c;++b)d=this.Pf[b].Da,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};m.ta=function(a){this.type=a;this.i=a.i;a=this.type.Fe[0].frames[0].cq;this.td?this.ib.an(a):this.ib=new Eb(a)};var n=m.ta.prototype;n.na=function(){this.visible=0===this.U[0];this.Es=this.Ps=!1;this.sf=0!==this.U[3];this.Nb=this.iw(this.U[1])||
this.type.Fe[0];this.za=this.U[2];0>this.za&&(this.za=0);this.za>=this.Nb.frames.length&&(this.za=this.Nb.frames.length-1);var a=this.Nb.frames[this.za];this.ib.an(a.cq);this.pe=a.pe;this.qe=a.qe;this.Tj=this.Nb.speed;this.Oh=this.Nb.cu;1===this.type.Fe.length&&1===this.type.Fe[0].frames.length||0===this.Tj||(this.i.yi(this),this.Ps=!0);this.td?this.rg.reset():this.rg=new Bb;this.Xg=this.rg.Va;this.Ji=!0;this.Pg=0;this.Ii=!0;this.ko=this.Dv="";this.Nv=0;this.Jr=-1;this.type.wk();var b,c,d,e,f,g,h,
a=0;for(b=this.type.Fe.length;a<b;a++)for(e=this.type.Fe[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Da.width,f.height=f.Da.height),f.Sk&&(h=f.Da,g=f.qu,g.left=f.Fk/h.width,g.top=f.Gk/h.height,g.right=(f.Fk+f.width)/h.width,g.bottom=(f.Gk+f.height)/h.height,0===f.Fk&&0===f.Gk&&f.width===h.width&&f.height===h.height&&(f.Sk=!1));this.kd=this.Nb.frames[this.za];this.uo=this.kd.lb};n.Ub=function(){var a={a:this.Nb.kb,f:this.za,cas:this.Tj,fs:this.Xg,ar:this.Pg,at:this.rg.Va,
rt:this.Oh};this.Ji||(a.ap=this.Ji);this.Ii||(a.af=this.Ii);return a};n.Xb=function(a){var b=this.oD(a.a);b&&(this.Nb=b);this.za=a.f;0>this.za&&(this.za=0);this.za>=this.Nb.frames.length&&(this.za=this.Nb.frames.length-1);this.Tj=a.cas;this.Xg=a.fs;this.Pg=a.ar;this.rg.reset();this.rg.Va=a.at;this.Ji=a.hasOwnProperty("ap")?a.ap:!0;this.Ii=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.Oh=a.rt:this.Oh=this.Nb.cu;this.kd=this.Nb.frames[this.za];this.uo=this.kd.lb;this.ib.an(this.kd.cq);
this.pe=this.kd.pe;this.qe=this.kd.qe};n.Cr=function(a){this.za=a?0:this.Nb.frames.length-1;this.Ji=!1;this.Dv=this.Nb.name;this.Es=!0;this.i.trigger(id.prototype.H.Wz,this);this.i.trigger(id.prototype.H.Vz,this);this.Es=!1;this.Pg=0};n.j=function(){return this.rg.Va};n.mb=function(){this.rg.add(this.i.yg(this));this.ko.length&&this.Wv();0<=this.Jr&&this.$B();var a=this.rg.Va,b=this.Nb,c=b.frames[this.za],d=c.duration/this.Tj;this.Ji&&a>=this.Xg+d&&(this.Ii?this.za++:this.za--,this.Xg+=d,this.za>=
b.frames.length&&(b.Tx?(this.Ii=!1,this.za=b.frames.length-2):b.loop?this.za=this.Oh:(this.Pg++,this.Pg>=b.bu?this.Cr(!1):this.za=this.Oh)),0>this.za&&(b.Tx?(this.za=1,this.Ii=!0,b.loop||(this.Pg++,this.Pg>=b.bu&&this.Cr(!0))):b.loop?this.za=this.Oh:(this.Pg++,this.Pg>=b.bu?this.Cr(!0):this.za=this.Oh)),0>this.za?this.za=0:this.za>=b.frames.length&&(this.za=b.frames.length-1),a>this.Xg+b.frames[this.za].duration/this.Tj&&(this.Xg=a),a=b.frames[this.za],this.Lj(c,a),this.i.Ua=!0)};n.iw=function(a){var b,
c,d;b=0;for(c=this.type.Fe.length;b<c;b++)if(d=this.type.Fe[b],Wb(d.name,a))return d;return null};n.oD=function(a){var b,c,d;b=0;for(c=this.type.Fe.length;b<c;b++)if(d=this.type.Fe[b],d.kb===a)return d;return null};n.Wv=function(){var a=this.Nb.frames[this.za],b=this.iw(this.ko);this.ko="";!b||Wb(b.name,this.Nb.name)&&this.Ji||(this.Nb=b,this.Tj=b.speed,this.Oh=b.cu,0>this.za&&(this.za=0),this.za>=this.Nb.frames.length&&(this.za=this.Nb.frames.length-1),1===this.Nv&&(this.za=0),this.Ji=!0,this.Xg=
this.rg.Va,this.Ii=!0,this.Lj(a,this.Nb.frames[this.za]),this.i.Ua=!0)};n.$B=function(){var a=this.Nb.frames[this.za],b=this.za;this.za=wa(this.Jr);0>this.za&&(this.za=0);this.za>=this.Nb.frames.length&&(this.za=this.Nb.frames.length-1);b!==this.za&&(this.Lj(a,this.Nb.frames[this.za]),this.Xg=this.rg.Va,this.i.Ua=!0);this.Jr=-1};n.Lj=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.pe=b.pe;this.qe=b.qe;this.ib.an(b.cq);this.aa();this.kd=
b;this.uo=b.lb;c=0;for(d=this.Ja.length;c<d;c++)e=this.Ja[c],e.GE&&e.GE(a,b);this.i.trigger(id.prototype.H.Lj,this)};n.Wd=function(a){a.globalAlpha=this.opacity;var b=this.kd,c=b.Sk,d=b.Da,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.M&&0<=g&&0<=h)e-=this.pe*g,f-=this.qe*h,this.i.xe&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Fk,b.Gk,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.i.xe&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,l=0<h?1:-1;a.translate(e,
f);1===k&&1===l||a.scale(k,l);a.rotate(this.M*k*l);e=0-this.pe*sa(g);f=0-this.qe*sa(h);c?a.drawImage(d,b.Fk,b.Gk,b.width,b.height,e,f,sa(g),sa(h)):a.drawImage(d,e,f,sa(g),sa(h));a.restore()}};n.Qh=function(a){this.zc(a)};n.zc=function(a){a.ge(this.uo);a.qh(this.opacity);var b=this.kd,c=this.Kb;if(this.i.xe){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Sk?a.ag(c.Uc+d,c.Vc+e,c.Rd+d,c.Sd+e,c.Cd+d,c.Dd+e,c.Ad+d,c.Bd+e,b.qu):a.Kk(c.Uc+d,c.Vc+e,c.Rd+d,c.Sd+e,c.Cd+d,c.Dd+e,c.Ad+d,c.Bd+e)}else b.Sk?
a.ag(c.Uc,c.Vc,c.Rd,c.Sd,c.Cd,c.Dd,c.Ad,c.Bd,b.qu):a.Kk(c.Uc,c.Vc,c.Rd,c.Sd,c.Cd,c.Dd,c.Ad,c.Bd)};n.uD=function(a){var b=this.kd,c,d;c=0;for(d=b.Cs.length;c<d;c++)if(Wb(a,b.Cs[c][0]))return c;return-1};n.xf=function(a,b){var c=this.kd,d=c.Cs,e;oa(a)?e=this.uD(a):e=a-1;e=wa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.pe)*this.width,d=d[e][2],d=(d-c.qe)*this.height,c=Math.cos(this.M);e=Math.sin(this.M);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var q=[],r=-2,v=[];
c.prototype.dA=function(a){if(!a)return!1;var c=this.i,d=c.Gl(),h=d.type,k=null;d.ma.collmemory?k=d.ma.collmemory:(k={},d.ma.collmemory=k);d.ma.spriteCreatedDestroyCallback||(d.ma.spriteCreatedDestroyCallback=!0,c.Mj(function(a){var c=d.ma.collmemory;a=a.uid;var e,f;for(e in c)c.hasOwnProperty(e)&&(f=c[e],f[0]===a||f[1]===a)&&(b(c[e]),delete c[e])}));var l=h.La(),m=a.La(),l=l.Gd(),p,n,u,x,q,z,t,R=this.i.gf,J=R-1,M=c.Cc().Zc;for(n=0;n<l.length;n++){u=l[n];m.Za?(u.$a(),this.i.gs(u.O,a,u.Jb,v),p=v):
p=m.Gd();for(x=0;x<p.length;x++)q=p[x],c.Od(u,q)||c.OB(u,q)?(z=f(k,u,q),z=!z||r<J,g(k,u,q,R),z&&(c.Um(M.Vb),z=h.La(),t=a.La(),z.Za=!1,t.Za=!1,h===a?(z.G.length=2,z.G[0]=u,z.G[1]=q,h.Ge()):(z.G.length=1,t.G.length=1,z.G[0]=u,t.G[0]=q,h.Ge(),a.Ge()),M.du(),c.oi(M.Vb))):e(k,u,q);H(v)}return!1};var t=null,p=new ca,u=!1,x=[],z=new Aa(0,0,0,0);l.finish=function(a){if(u){if(a){var b=this.i.Cc().Zc.df;a=t.La();var c=p.ig(),d,e;if(a.Za){a.Za=!1;H(a.G);d=0;for(e=c.length;d<e;++d)a.G[d]=c[d];if(b)for(H(a.Ra),
d=0,e=t.G.length;d<e;++d)c=t.G[d],p.contains(c)||a.Ra.push(c)}else if(b)for(b=a.G.length,d=0,e=c.length;d<e;++d)a.G[b+d]=c[d],La(a.Ra,c[d]);else Ha(a.G,c);t.Ge()}p.clear();u=!1}};c.prototype.Rz=function(a){if(a){var b=!1,c,d,e,f=this.i.Gl(),g=f.type,f=f.lp;c=a.La();d=this.i.Cc().Zc.df;var h;c.Za?(this.$a(),z.Sj(this.Jb),z.offset(0,0),this.i.gs(this.O,a,z,x),h=x):h=d?this.i.eE()&&!c.Ra.length&&c.G.length?c.G:c.Ra:c.G;t=a;u=g!==a&&!f;c=0;for(d=h.length;c<d;c++)if(e=h[c],this.i.Od(this,e)){b=!0;if(f)break;
g!==a&&p.add(e)}H(x);a=b}else a=!1;return a};c.prototype.Vz=function(a){return Wb(this.Dv,a)};c.prototype.Wz=function(){return!0};c.prototype.Lj=function(){return!0};m.H=new c;h.prototype.kB=function(a,b,c){if(a&&b&&(b=this.i.ro(a,b,this.xf(c,!0),this.xf(c,!1)))){"undefined"!==typeof b.M&&(b.M=this.M,b.aa());this.i.Ze++;var d,e,f;this.i.trigger(Object.getPrototypeOf(a.fb).H.Ng,b);if(b.Jd)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.i.trigger(Object.getPrototypeOf(f.type.fb).H.Ng,f);this.i.Ze--;
d=this.i.rD();c=!1;if(la(d.ma.Spawn_LastExec)||d.ma.Spawn_LastExec<this.i.Ui)c=!0,d.ma.Spawn_LastExec=this.i.Ui;if(a!=this.type&&(a=a.La(),a.Za=!1,c?(H(a.G),a.G[0]=b):a.G.push(b),b.Jd))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.La(),a.Za=!1,c?(H(a.G),a.G[0]=f):a.G.push(f)}};h.prototype.XA=function(a,b){this.ko=a;this.Nv=b;this.Ps||(this.i.yi(this),this.Ps=!0);this.Es||this.Wv()};h.prototype.dB=function(a){a=sa(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.aa())};h.prototype.ZA=
function(a){this.sf!==(0!==a)&&((this.sf=0!==a)?this.aa():(this.rf.right>=this.rf.left&&this.type.pl.update(this,this.rf,null),this.rf.set(0,0,-1,-1)))};m.ka=new h;m.Ka=new function(){}})();function Bd(a){this.i=a}
(function(){function a(){return m.length?m.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)m.push(a[b]);H(a)}function b(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function d(){}function g(){}var e=Bd.prototype;e.na=function(){e.ka.wv=function(a){this.width!==a&&(this.width=a,this.xi=!0,this.aa())}};e.xa=function(a){this.fb=a;this.i=a.i};var f=e.xa.prototype;f.na=function(){};f.Hk=function(){if(!this.Aa){var a,b,c;a=0;for(b=this.G.length;a<b;a++)c=this.G[a],
c.Bg=null,c.sj=null,c.Oe=null}};e.ta=function(a){this.type=a;this.i=a.i;this.td?H(this.ai):this.ai=[];this.xi=!0};f=e.ta.prototype;f.na=function(){this.text=this.U[0];this.visible=0===this.U[1];this.font=this.U[2];this.color=this.U[3];this.cp=this.U[4];this.Sq=this.U[5];this.Pu=0===this.U[7];this.et=this.hh=this.width;this.gh=this.height;this.ht=this.U[8];this.Ro=this.Yj="";this.Ky=this.Ly=this.Sm=0;this.JE();this.Oe=this.sj=this.Bg=null;this.xx=!1;this.tm=this.i.gf;this.td?this.pi.set(0,0,1,1):this.pi=
new Aa(0,0,1,1);this.i.la&&this.i.yi(this)};f.JE=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Sm=parseInt(a[b].substr(0,a[b].length-2));this.Vt=Math.ceil(this.Sm/72*96)+4;0<b&&(this.Ro=a[b-1]);this.Yj=a[b+1];for(b+=2;b<a.length;b++)this.Yj+=" "+a[b];break}};f.Ub=function(){return{t:this.text,f:this.font,c:this.color,ha:this.cp,va:this.Sq,wr:this.Pu,lho:this.ht,fn:this.Yj,fs:this.Ro,ps:this.Sm,pxh:this.Vt,tw:this.Ly,th:this.Ky,lrt:this.tm}};
f.Xb=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.cp=a.ha;this.Sq=a.va;this.Pu=a.wr;this.ht=a.lho;this.Yj=a.fn;this.Ro=a.fs;this.Sm=a.ps;this.Vt=a.pxh;this.Ly=a.tw;this.Ky=a.th;this.tm=a.lrt;this.xi=!0;this.et=this.hh=this.width;this.gh=this.height};f.mb=function(){if(this.i.la&&this.Oe&&300<=this.i.gf-this.tm){var a=this.O;this.$a();var b=this.Jb;if(b.right<a.qb||b.bottom<a.rb||b.left>a.Fb||b.top>a.Eb)this.i.la.deleteTexture(this.Oe),this.Bg=this.sj=this.Oe=null}};f.cf=function(){this.Bg=
this.sj=null;this.i.la&&this.Oe&&this.i.la.deleteTexture(this.Oe);this.Oe=null};f.j=function(){this.font=this.Ro+" "+this.Sm.toString()+"pt "+this.Yj;this.xi=!0;this.i.Ua=!0};f.Wd=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.O.Hd()),a.save(),a.scale(c,c));if(this.xi||this.width!==this.et)this.type.fb.uB(this.text,this.ai,a,this.width,this.Pu),this.xi=!1,this.et=this.width;this.$a();var c=b?0:this.Kb.Uc,d=b?0:
this.Kb.Vc;this.i.xe&&(c=c+.5|0,d=d+.5|0);0===this.M||b||(a.save(),a.translate(c,d),a.rotate(this.M),d=c=0);var e=d+this.height,f=this.Vt,f=f+this.ht,g,h;1===this.Sq?d+=Math.max(this.height/2-this.ai.length*f/2,0):2===this.Sq&&(d+=Math.max(this.height-this.ai.length*f-2,0));for(h=0;h<this.ai.length&&!(g=c,1===this.cp?g=c+(this.width-this.ai[h].width)/2:2===this.cp&&(g=c+(this.width-this.ai[h].width)),a.fillText(this.ai[h].text,g,d),d+=f,d>=e-f);h++);(0!==this.M||b)&&a.restore();this.tm=this.i.gf};
f.zc=function(a){if(!(1>this.width||1>this.height)){var b=this.xi||this.xx;this.xx=!1;var c=this.O.Hd(),d=this.O.Sb(),e=this.pi,f=c*this.width,g=c*this.height,h=Math.ceil(f),m=Math.ceil(g),x=Math.abs(h),z=Math.abs(m),D=this.i.Ga/2,B=this.i.Fa/2;this.sj||(this.Bg=document.createElement("canvas"),this.Bg.width=x,this.Bg.height=z,this.hh=x,this.gh=z,b=!0,this.sj=this.Bg.getContext("2d"));if(x!==this.hh||z!==this.gh)this.Bg.width=x,this.Bg.height=z,this.Oe&&(a.deleteTexture(this.Oe),this.Oe=null),b=!0;
b&&(this.sj.clearRect(0,0,x,z),this.Wd(this.sj,!0),this.Oe||(this.Oe=a.Ie(x,z,this.i.Ya,this.i.ah)),a.fz(this.Bg,this.Oe,this.i.ah));this.hh=x;this.gh=z;a.ge(this.Oe);a.qh(this.opacity);a.Gf();a.translate(-D,-B);a.hf();var E=this.Kb,b=this.O.Bb(E.Uc,E.Vc,!0,!0),x=this.O.Bb(E.Uc,E.Vc,!1,!0),z=this.O.Bb(E.Rd,E.Sd,!0,!0),D=this.O.Bb(E.Rd,E.Sd,!1,!0),B=this.O.Bb(E.Cd,E.Dd,!0,!0),C=this.O.Bb(E.Cd,E.Dd,!1,!0),w=this.O.Bb(E.Ad,E.Bd,!0,!0),E=this.O.Bb(E.Ad,E.Bd,!1,!0);if(this.i.xe||0===this.M&&0===d)var y=
(b+.5|0)-b,G=(x+.5|0)-x,b=b+y,x=x+G,z=z+y,D=D+G,B=B+y,C=C+G,w=w+y,E=E+G;0===this.M&&0===d?(z=b+h,D=x,B=z,C=x+m,w=b,E=C,e.right=1,e.bottom=1):(e.right=f/h,e.bottom=g/m);a.ag(b,x,z,D,B,C,w,E,e);a.Gf();a.scale(c,c);a.nq(-this.O.Sb());a.translate((this.O.qb+this.O.Fb)/-2,(this.O.rb+this.O.Eb)/-2);a.hf();this.tm=this.i.gf}};var h=[];e.oB=function(a){H(h);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(h.push(b),b=""),h.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),
d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));h.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&h.push(b)};var m=[];e.uB=function(b,d,e,f,g){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var h=e.measureText(b).width;if(h<=f){c(d);d.push(a());d[0].text=b;d[0].width=h;return}}this.vB(b,d,e,f,g)}else c(d)};e.vB=function(c,d,e,f,g){g&&(this.oB(c),c=h);var v="",t,p,u,x=0;for(u=0;u<c.length;u++)"\n"===c[u]?(x>=d.length&&d.push(a()),v=b(v),p=d[x],p.text=v,p.width=
e.measureText(v).width,x++,v=""):(t=v,v+=c[u],p=e.measureText(v).width,p>=f&&(x>=d.length&&d.push(a()),t=b(t),p=d[x],p.text=t,p.width=e.measureText(t).width,x++,v=c[u],g||" "!==v||(v="")));v.length&&(x>=d.length&&d.push(a()),v=b(v),p=d[x],p.text=v,p.width=e.measureText(v).width,x++);for(u=x;u<d.length;u++)m.push(d[u]);d.length=x};e.H=new function(){};d.prototype.jr=function(a){na(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.xi=!0,this.i.Ua=!0)};d.prototype.nz=
function(a){na(a)&&(a=Math.round(1E10*a)/1E10);if(a=a.toString())this.text+=a,this.xi=!0,this.i.Ua=!0};e.ka=new d;g.prototype.Text=function(a){a.vd(this.text)};e.Ka=new g})();function Cd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=Cd.prototype;d.xa=function(a){this.fb=a;this.i=a.i};d.xa.prototype.na=function(){};d.ta=function(a){this.type=a;this.i=a.i};var g=d.ta.prototype,e="text password email number tel url".split(" ");-1<navigator.userAgent.indexOf("MSIE 9")&&(e[2]="text",e[3]="text",e[4]="text",e[5]="text");g.na=function(){if(this.i.cb)fa("[Construct 2] Textbox plugin not supported on this platform - the object will not be created");else{6===this.U[7]?(this.Z=
document.createElement("textarea"),jQuery(this.Z).css("resize","none")):(this.Z=document.createElement("input"),this.Z.type=e[this.U[7]]);this.Z.id=this.U[9];jQuery(this.Z).appendTo(this.i.Rj?this.i.Rj:"body");this.Z.autocomplete="off";this.Z.value=this.U[0];this.Z.placeholder=this.U[1];this.Z.title=this.U[2];this.Z.disabled=0===this.U[4];this.Z.readOnly=1===this.U[5];this.Z.spellcheck=1===this.U[6];this.Dr=0!==this.U[8];this.oe=!1;0===this.U[3]&&(jQuery(this.Z).hide(),this.visible=!1,this.oe=!0);
var a=function(a){return function(){a.i.trigger(Cd.prototype.H.NA,a)}}(this);this.Z.oninput=a;-1!==navigator.userAgent.indexOf("MSIE")&&(this.Z.oncut=a);this.Z.onclick=function(a){return function(b){b.stopPropagation();a.i.Qb=!0;a.i.trigger(Cd.prototype.H.Ln,a);a.i.Qb=!1}}(this);this.Z.ondblclick=function(a){return function(b){b.stopPropagation();a.i.Qb=!0;a.i.trigger(Cd.prototype.H.eA,a);a.i.Qb=!1}}(this);this.Z.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.Z.addEventListener("touchmove",
function(a){a.stopPropagation()},!1);this.Z.addEventListener("touchend",function(a){a.stopPropagation()},!1);jQuery(this.Z).mousedown(function(a){a.stopPropagation()});jQuery(this.Z).mouseup(function(a){a.stopPropagation()});jQuery(this.Z).keydown(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});jQuery(this.Z).keyup(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});this.qm=this.rm=this.jm=this.nm=this.pm=this.lm=0;this.xn(!0);this.i.yi(this)}};g.Ub=function(){return{text:this.Z.value,
placeholder:this.Z.placeholder,tooltip:this.Z.title,disabled:!!this.Z.disabled,readonly:!!this.Z.readOnly,spellcheck:!!this.Z.spellcheck}};g.Xb=function(a){this.Z.value=a.text;this.Z.placeholder=a.placeholder;this.Z.title=a.tooltip;this.Z.disabled=a.disabled;this.Z.readOnly=a.readonly;this.Z.spellcheck=a.spellcheck};g.cf=function(){this.i.cb||(jQuery(this.Z).remove(),this.Z=null)};g.mb=function(){this.xn()};g.xn=function(a){if(!this.i.cb){var b=this.O.Bb(this.x,this.y,!0),c=this.O.Bb(this.x,this.y,
!1),d=this.O.Bb(this.x+this.width,this.y+this.height,!0),e=this.O.Bb(this.x+this.width,this.y+this.height,!1),g=this.i.width/this.i.devicePixelRatio,q=this.i.height/this.i.devicePixelRatio;!this.visible||!this.O.visible||0>=d||0>=e||b>=g||c>=q?(this.oe||jQuery(this.Z).hide(),this.oe=!0):(1>b&&(b=1),1>c&&(c=1),d>=g&&(d=g-1),e>=q&&(e=q-1),g=window.innerWidth,q=window.innerHeight,a||this.lm!==b||this.pm!==c||this.nm!==d||this.jm!==e||this.rm!==g||this.qm!==q?(this.lm=b,this.pm=c,this.nm=d,this.jm=e,
this.rm=g,this.qm=q,this.oe&&(jQuery(this.Z).show(),this.oe=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,g=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.Z).css("position","absolute"),jQuery(this.Z).offset({left:a,top:g}),jQuery(this.Z).width(Math.round(d-b)),jQuery(this.Z).height(Math.round(e-c)),this.Dr&&jQuery(this.Z).css("font-size",this.O.Hd(!0)/this.i.devicePixelRatio-.2+"em")):this.oe&&(jQuery(this.Z).show(),this.oe=!1))}};g.Wd=function(){};g.zc=function(){};a.prototype.NA=
function(){return!0};a.prototype.Ln=function(){return!0};a.prototype.eA=function(){return!0};d.H=new a;c.prototype.jr=function(a){this.i.cb||(this.Z.value=a)};c.prototype.Qn=function(a){this.i.cb||(this.visible=0!==a)};c.prototype.Of=function(a){this.i.cb||(this.Z.disabled=0===a)};d.ka=new c;b.prototype.Text=function(a){this.i.cb?a.vd(""):a.vd(this.Z.value)};d.Ka=new b})();function Dd(a){this.i=a}
(function(){var a=Dd.prototype;a.xa=function(a){this.fb=a;this.i=a.i};var c=a.xa.prototype;c.na=function(){this.Aa||(this.Da=new Image,this.Da.po=this.qn,this.i.Uq(this.Da,this.pn),this.lb=this.pattern=null)};c.Hk=function(){this.Aa||(this.lb=null)};c.Mm=function(){if(!this.Aa&&this.G.length){this.lb||(this.lb=this.i.la.vk(this.Da,!0,this.i.Ya,this.rn));var a,c;a=0;for(c=this.G.length;a<c;a++)this.G[a].lb=this.lb}};c.wk=function(){this.Aa||this.lb||!this.i.la||(this.lb=this.i.la.vk(this.Da,!0,this.i.Ya,
this.rn))};c.wn=function(){this.Aa||this.G.length||!this.lb||(this.i.la.deleteTexture(this.lb),this.lb=null)};c.Qm=function(a){a.drawImage(this.Da,0,0)};a.ta=function(a){this.type=a;this.i=a.i};c=a.ta.prototype;c.na=function(){this.visible=0===this.U[0];this.pi=new Aa(0,0,0,0);this.xw=!1;this.Da=this.type.Da;this.i.la?(this.type.wk(),this.lb=this.type.lb):(this.type.pattern||(this.type.pattern=this.i.Ab.createPattern(this.type.Da,"repeat")),this.pattern=this.type.pattern)};c.of=function(){this.xw=
!1;this.Da=this.type.Da};c.cf=function(){this.i.la&&this.xw&&this.lb&&(this.i.la.deleteTexture(this.lb),this.lb=null)};c.Wd=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,g=this.y;this.i.xe&&(c=Math.round(c),g=Math.round(g));var e=-(this.pe*this.width),f=-(this.qe*this.height),h=e%this.Da.width,m=f%this.Da.height;0>h&&(h+=this.Da.width);0>m&&(m+=this.Da.height);a.translate(c,g);a.rotate(this.M);a.translate(h,m);a.fillRect(e-h,f-m,this.width,this.height);a.restore()};
c.Qh=function(a){this.zc(a)};c.zc=function(a){a.ge(this.lb);a.qh(this.opacity);var c=this.pi;c.right=this.width/this.Da.width;c.bottom=this.height/this.Da.height;var g=this.Kb;if(this.i.xe){var e=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;a.ag(g.Uc+e,g.Vc+f,g.Rd+e,g.Sd+f,g.Cd+e,g.Dd+f,g.Ad+e,g.Bd+f,c)}else a.ag(g.Uc,g.Vc,g.Rd,g.Sd,g.Cd,g.Dd,g.Ad,g.Bd,c)};a.H=new function(){};a.ka=new function(){};a.Ka=new function(){}})();function Ed(a){this.i=a}
(function(){function a(){this.Kq=this.id=-1;this.Ev=this.Xj=this.Dn=this.Ol=!1;this.Db=new Aa(0,0,0,0)}function c(a){1E4>q.length&&q.push(a)}function b(){this.id=-1;this.Db=new Aa(0,0,0,0);this.de=null}function d(a){1E4>r.length&&r.push(a)}function g(a,b,c){var d;return v.length?(d=v.pop(),d.n=a,d.x=b,d.y=c,d.left=d.x*d.n.Nc*d.n.Qd,d.top=d.y*d.n.Yc*d.n.Pd,d.clear(),d.Vm=!1,d):new e(a,b,c)}function e(a,b,c){this.n=a;this.x=b;this.y=c;this.left=this.x*this.n.Nc*this.n.Qd;this.top=this.y*this.n.Yc*this.n.Pd;
this.Lg=[];this.sd=[];this.Vd=[];this.Vm=!1;var d,e;a=0;for(b=this.n.Yc;a<b;++a){e=[];c=0;for(d=this.n.Nc;c<d;++c)e.push(-1);this.Lg.push(e)}}var f=Ed.prototype;f.xa=function(a){this.fb=a;this.i=a.i};var h=f.xa.prototype;h.na=function(){var a,b,c;if(!this.Aa&&(this.Da=new Image,this.Da.po=this.qn,this.i.Uq(this.Da,this.pn),this.Pi=[],this.Pr=!1,this.eg=[],this.Ny=!1,this.Jq&&this.Jq.length))for(a=0,b=this.Jq.length;a<b;++a)(c=this.Jq[a])?this.eg.push({de:c,Po:[[[null,null],[null,null]],[[null,null],
[null,null]]]}):this.eg.push(null)};h.Jh=function(a,b,c,d,e,f){if(!(0>a||a>=this.eg.length)&&this.eg[a]){var g=this.eg[a].Po;a=new Eb(this.eg[a].de);a.Kh(b,c,0);f&&a.YB();d&&a.xE(b/2);e&&a.hD(c/2);g[d?1:0][e?1:0][f?1:0]=a}};h.ED=function(a){if(-1===a)return null;var b=a&n;return 0>b||b>=this.eg.length||!this.eg[b]?null:this.eg[b].Po[a&m?1:0][a&l?1:0][a&k?1:0]};h.as=function(){var a,b,c=this.i.la;if(c)for(a=0,b=this.Pi.length;a<b;++a)c.deleteTexture(this.Pi[a]);H(this.Pi);this.Pr=!1};h.xt=function(a,
b,c,d,e,f,g){if(!(this.Pr||0>=a||0>=b)){this.as();var h=this.Da.width,k=this.Da.height,l;for(l=d;l+b<=k;l+=b+f)for(d=c;d+a<=h;d+=a+e)this.Pi.push(this.Cz(d,l,a,b,g));this.Pr=!0}};h.Cz=function(a,b,c,d,e){if(this.i.la)return this.br(a,b,c,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=this.br(a,b,c,d,!1,!1,!1,e);return{Po:f,x:a,y:b,Kc:c,UD:d}};h.Tu=function(a,b,c,d,e){if(0>a||a>=this.Pi.length)return null;a=this.Pi[a];var f=a.Po;b=b?1:0;c=c?1:0;d=d?1:0;var g=f[b][c][d];
if(g)return g;g=this.br(a.x,a.y,a.Kc,a.UD,0!==b,0!==c,0!==d,e);return f[b][c][d]=g};h.br=function(a,b,c,d,e,f,g,h){var k=c,l=d;this.i.la&&!h&&(pa(k)||(k=ra(k)),pa(l)||(l=ra(l)));var m=document.createElement("canvas");m.width=k;m.height=l;var n=m.getContext("2d");if(this.i.Ab)return e?f?(g?(n.rotate(Math.PI/2),n.scale(-1,1)):n.scale(-1,-1),n.translate(-k,-l)):g?(n.rotate(Math.PI/2),n.translate(0,-l)):(n.scale(-1,1),n.translate(-k,0)):f?g?(n.rotate(-Math.PI/2),n.translate(-k,0)):(n.scale(1,-1),n.translate(0,
-l)):g&&(n.scale(-1,1),n.rotate(Math.PI/2)),n.drawImage(this.Da,a,b,c,d,0,0,k,l),h?m:this.i.Ab.createPattern(m,"repeat");n.drawImage(this.Da,a,b,c,d,0,0,k,l);a=this.i.la.Ie(k,l,this.i.Ya,!1,!h);this.i.la.fz(m,a);return a};h.Hk=function(){this.Aa||this.as()};h.Mm=function(){};h.wk=function(){};h.wn=function(){this.Aa||this.G.length||this.as()};h.Qm=function(){};f.ta=function(a){this.type=a;this.i=a.i};var h=f.ta.prototype,m=-2147483648,l=1073741824,k=536870912,n=536870911,q=[],r=[],v=[];e.prototype.clear=
function(){var a,b,c,d,e;this.Lg.length=this.n.Yc;a=0;for(b=this.Lg.length;a<b;++a)for(e=this.Lg[a],e||(e=[],this.Lg[a]=e),e.length=this.n.Nc,c=0,d=e.length;c<d;++c)e[c]=-1};e.prototype.Hm=function(){if(!this.Vm){var e=this.n.Qd,f=this.n.Pd;if(!(0>=e||0>=f)){var g,h,t,B,v,C;g=0;for(h=this.sd.length;g<h;++g)c(this.sd[g]);g=0;for(h=this.Vd.length;g<h;++g)d(this.Vd[g]);H(this.sd);H(this.Vd);var w=Math.min(this.n.Cf,Math.floor(this.n.width/e)),y=Math.min(this.n.Zf,Math.floor(this.n.height/f)),w=w-this.left/
e,y=y-this.top/f;w>this.n.Nc&&(w=this.n.Nc);y>this.n.Yc&&(y=this.n.Yc);var G=this.n.ri,I=null;g=0;for(h=y;g<h;++g){v=this.Lg[g];t=0;for(B=w;t<B;++t)C=v[t],-1===C?I&&(this.sd.push(I),I=null):G||!I||C!==I.id?(I&&this.sd.push(I),I=q.length?q.pop():new a,I.id=C,I.Kq=C&n,I.Ol=0!==(C&m),I.Dn=0!==(C&l),I.Xj=0!==(C&k),I.Ev=I.Ol||I.Dn||I.Xj,I.Db.left=t*e+this.left,I.Db.top=g*f+this.top,I.Db.right=I.Db.left+e,I.Db.bottom=I.Db.top+f):I.Db.right+=e;I&&(this.sd.push(I),I=null)}var I=null,T=!1;g=0;for(h=y;g<h;++g){v=
this.Lg[g];t=0;for(B=w;t<B;++t)C=v[t],-1===C?I&&(this.Vd.push(I),I=null,T=!1):(y=this.n.type.ED(C),!I||y||T?(I&&this.Vd.push(I),I=r.length?r.pop():new b,I.id=C,I.de=y?y:null,C=I.Db,C.left=t*e+this.left,C.top=g*f+this.top,C.right=C.left+e,C.bottom=C.top+f,T=!!y):I.Db.right+=e);I&&(this.Vd.push(I),I=null,T=!1)}if(!G)for(h=this.sd.length,g=0;g<h;++g)for(B=this.sd[g],e=g+1;e<h;++e)if(t=this.sd[e],!(t.Db.top<B.Db.bottom)){if(t.Db.top>B.Db.bottom)break;if(t.Db.right>B.Db.right||t.Db.left>B.Db.left)break;
t.id===B.id&&t.Db.left===B.Db.left&&t.Db.right===B.Db.right&&(c(this.sd[e]),this.sd.splice(e,1),--h,B.Db.bottom+=f,--e)}h=this.Vd.length;for(g=0;g<h;++g)if(B=this.Vd[g],!B.de)for(v=B.Db,e=g+1;e<h;++e)if(t=this.Vd[e],B=t.Db,!(B.top<v.bottom)){if(B.top>v.bottom)break;if(B.right>v.right||B.left>v.left)break;t.de||B.left!==v.left||B.right!==v.right||(d(this.Vd[e]),this.Vd.splice(e,1),--h,v.bottom+=f,--e)}this.Vm=!0}}};e.prototype.mu=function(a,b,c){this.Lg[b][a]!==c&&(this.Lg[b][a]=c,this.Vm=!1,this.n.Wn=
!0,this.n.ni=!0,this.n.i.Ua=!0)};h.na=function(){var a,b,c;this.visible=0===this.U[0];this.Qd=this.U[1];this.Pd=this.U[2];this.xu=this.U[3];this.zu=this.U[4];this.yu=this.U[5];this.Au=this.U[6];this.ri=0!==this.U[7];this.Cf=this.Qy;this.Zf=this.Py;this.hh=this.width;this.gh=this.height;var d=this.Qd,e=this.Pd;0===d&&(d=1);0===e&&(e=1);this.Nc=Math.ceil(this.i.Gc/d);this.Yc=Math.ceil(this.i.Fc/e);if(!this.type.Ny)for(this.type.Ny=!0,a=0,b=this.type.eg.length;a<b;++a)if(c=this.type.eg[a])this.type.Jh(a,
d,e,!1,!1,!1),this.type.Jh(a,d,e,!1,!1,!0),this.type.Jh(a,d,e,!1,!0,!1),this.type.Jh(a,d,e,!1,!0,!0),this.type.Jh(a,d,e,!0,!1,!1),this.type.Jh(a,d,e,!0,!1,!0),this.type.Jh(a,d,e,!0,!0,!1),this.type.Jh(a,d,e,!0,!0,!0);this.td||(this.he=[]);this.yt(!0);this.ry(this.Oy);this.type.xt(this.Qd,this.Pd,this.xu,this.zu,this.yu,this.Au,this.ri);this.ni=!1;this.Wn=!0;this.ut()};h.ut=function(){if(this.Wn){var a,b,c,d,e;a=0;for(b=this.he.length;a<b;++a)for(e=this.he[a],c=0,d=e.length;c<d;++c)e[c].Hm();this.Wn=
!1}};h.rq=function(){var a,b,c,d,e;a=0;for(b=this.he.length;a<b;++a)for(e=this.he[a],c=0,d=e.length;c<d;++c)e[c].Vm=!1;this.Wn=!0};h.yt=function(a){var b=wa(this.width/this.Qd),c=wa(this.height/this.Pd);if(!(b<=this.Cf&&c<=this.Zf)||a){var d;a?(a=Math.ceil(this.Zf/this.Yc),d=Math.ceil(this.Cf/this.Nc)):(a=this.he.length,d=Math.ceil(this.Cf/this.Nc),c>this.Zf&&(this.Zf=c,a=Math.ceil(this.Zf/this.Yc)),b>this.Cf&&(this.Cf=b,d=Math.ceil(this.Cf/this.Nc)),this.rq(),this.ni=!0,this.i.Ua=!0);for(var e,b=
0;b<a;++b)if(e=this.he[b])for(c=e.length;c<d;++c)e.push(g(this,c,b));else{e=[];for(c=0;c<d;++c)e.push(g(this,c,b));this.he[b]=e}}};h.Gr=function(a,b){if(0>a||0>b)return null;var c=wa(b/this.Yc);if(c>=this.he.length)return null;var c=this.he[c],d=wa(a/this.Nc);return d>=c.length?null:c[d]};h.Hr=function(a,b){if(0>a||0>b||b>=this.he.length)return null;var c=this.he[b];return a>=c.length?null:c[a]};h.ry=function(a){var b=[];a=a.split(",");var c,d,e,f,g;c=0;for(d=a.length;c<d;++c)if(e=a[c],f=e.indexOf("x"),
-1<f)for(g=parseInt(e.substring(0,f),10),e=e.substring(f+1),f=parseInt(e,10),-1<e.indexOf("h")&&(f|=m),-1<e.indexOf("v")&&(f|=l),-1<e.indexOf("d")&&(f|=k);0<g;--g)b.push(f);else f=parseInt(e,10),-1<e.indexOf("h")&&(f|=m),-1<e.indexOf("v")&&(f|=l),-1<e.indexOf("d")&&(f|=k),b.push(f);for(c=a=0;c<this.Zf;++c)for(d=0;d<this.Cf;++d)g=b[a++],(e=this.Gr(d,c))&&e.mu(d%this.Nc,c%this.Yc,g)};h.FD=function(){var a="";if(0>=this.Cf||0>=this.Zf)return a;var b=1,c=this.sw(0,0),d,e,f,g,h,q,r,t;g=wa(this.width/this.Qd);
e=wa(this.height/this.Pd);for(d=0;d<e;++d)for(f=0===d?1:0;f<g;++f)h=this.sw(f,d),h===c?++b:(-1===c?(q=-1,c=t=r=!1):(q=c&n,r=0!==(c&m),t=0!==(c&l),c=0!==(c&k)),a=1===b?a+(""+q):a+(""+b+"x"+q),r&&(a+="h"),t&&(a+="v"),c&&(a+="d"),a+=",",b=1,c=h);-1===c?(q=-1,c=t=r=!1):(q=c&n,r=0!==(c&m),t=0!==(c&l),c=0!==(c&k));a=1===b?a+(""+q):a+(""+b+"x"+q);r&&(a+="h");t&&(a+="v");c&&(a+="d");return a};h.sw=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Cf||b>=this.Zf)return-1;var c=this.Gr(a,b);
return c?c.Lg[b%this.Yc][a%this.Nc]:-1};h.mu=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Cf||b>=this.Zf)return-1;var d=this.Gr(a,b);if(!d)return-1;d.mu(a%this.Nc,b%this.Yc,c)};h.hz=function(a){return Math.floor((a-this.x)/(this.Nc*this.Qd))};h.iz=function(a){return Math.floor((a-this.y)/(this.Yc*this.Pd))};h.qD=function(a,b){var c=this.iz(a.top),d=this.hz(a.right),e=this.iz(a.bottom),f,g,h;for(f=this.hz(a.left);f<=d;++f)for(g=c;g<=e;++g)if(h=this.Hr(f,g))h.Hm(),Ia(b,h.Vd)};
h.nD=function(a){var b,c,d,e,f,g;b=0;for(c=this.he.length;b<c;++b)for(f=this.he[b],d=0,e=f.length;d<e;++d)g=f[d],g.Hm(),Ia(a,g.Vd)};h.cf=function(){var a,b,e,f,g;a=0;for(b=this.he.length;a<b;++a){g=this.he[a];e=0;for(f=g.length;e<f;++e){for(var h=g[e],k=void 0,l=void 0,k=0,l=h.sd.length;k<l;++k)c(h.sd[k]);H(h.sd);k=0;for(l=h.Vd.length;k<l;++k)d(h.Vd[k]);H(h.Vd);1E3>v.length&&v.push(h)}H(g)}H(this.he)};h.Ub=function(){this.yt();return{w:wa(this.width/this.Qd),h:wa(this.height/this.Pd),d:this.FD()}};
h.Xb=function(a){this.Cf=a.w;this.Zf=a.h;this.yt(!0);this.ry(a.d);this.ni=!0;this.rq()};h.Wd=function(a){if(!(0>=this.Qd||0>=this.Pd)){this.type.xt(this.Qd,this.Pd,this.xu,this.zu,this.yu,this.Au,this.ri);if(this.width!==this.hh||this.height!==this.gh)this.ni=!0,this.rq(),this.ut(),this.hh=this.width,this.gh=this.height;a.globalAlpha=this.opacity;var b=this.O,c=b.qb,d=b.rb,e=b.Fb,b=b.Eb,f=this.x,g=this.y,h=this.ri,k;this.i.xe&&(f=Math.round(f),g=Math.round(g));var l=this.Nc*this.Qd,m=this.Yc*this.Pd,
n=Math.floor((c-f)/l),l=Math.floor((e-f)/l),q=Math.floor((d-g)/m),m=Math.floor((b-g)/m),r=f%this.Qd,t=g%this.Pd;this.ri&&(t=r=0);if(0!==r||0!==t)a.save(),a.translate(r,t),f-=r,g-=t,c-=r,d-=t,e-=r,b-=t;for(var v,Z,S,R,J,M,O,K,N;n<=l;++n)for(v=q;v<=m;++v)if(Z=this.Hr(n,v))for(Z.Hm(),S=0,R=Z.sd.length;S<R;++S)J=Z.sd[S],-1!==J.id&&(k=J.Db,M=k.left+f,O=k.top+g,K=k.right+f,k=k.bottom+g,M>e||K<c||O>b||k<d||(N=this.type.Tu(J.Kq,J.Ol,J.Dn,J.Xj,this.ri),h?a.drawImage(N,M,O):(a.fillStyle=this.type.Tu(J.Kq,J.Ol,
J.Dn,J.Xj,this.ri),a.fillRect(M,O,K-M,k-O))));0===r&&0===t||a.restore()}};var t=new Aa(0,0,1,1);h.Qh=function(a){this.zc(a)};h.zc=function(a){if(!(0>=this.Qd||0>=this.Pd)){this.type.xt(this.Qd,this.Pd,this.xu,this.zu,this.yu,this.Au,this.ri);if(this.width!==this.hh||this.height!==this.gh)this.ni=!0,this.rq(),this.ut(),this.hh=this.width,this.gh=this.height;a.qh(this.opacity);var b=this.type.Pi,c=this.O,d=c.qb,e=c.rb,f=c.Fb,c=c.Eb,g=this.x,h=this.y,k;this.i.xe&&(g=Math.round(g),h=Math.round(h));var l=
this.Nc*this.Qd,m=this.Yc*this.Pd,n=Math.floor((f-g)/l),q=Math.floor((e-h)/m),m=Math.floor((c-h)/m),r,v,F,Z,S,R,J,M,O,K,N,U,ga,P,qa,ma,Xa;for(qa=Math.floor((d-g)/l);qa<=n;++qa)for(ma=q;ma<=m;++ma)if(Xa=this.Hr(qa,ma))for(Xa.Hm(),l=0,r=Xa.sd.length;l<r;++l)v=Xa.sd[l],-1!==v.id&&(k=v.Db,F=k.left+g,Z=k.top+h,S=k.right+g,k=k.bottom+h,F>f||S<d||Z>c||k<e||(a.ge(b[v.Kq]),t.right=(S-F)/this.Qd,t.bottom=(k-Z)/this.Pd,v.Ev?(v.Xj&&(P=t.right,t.right=t.bottom,t.bottom=P),J=R=0,M=t.right,O=0,K=t.right,N=t.bottom,
U=0,ga=t.bottom,v.Xj&&(P=U,U=M,M=P,P=ga,ga=O,O=P),v.Ol&&(P=R,R=M,M=P,P=J,J=O,O=P,P=U,U=K,K=P,P=ga,ga=N,N=P),v.Dn&&(P=R,R=U,U=P,P=J,J=ga,ga=P,P=M,M=K,K=P,P=O,O=N,N=P),a.ZE(F,Z,S,Z,S,k,F,k,R,J,M,O,K,N,U,ga)):a.ag(F,Z,S,Z,S,k,F,k,t)))}};f.H=new function(){};f.ka=new function(){};f.Ka=new function(){}})();function Fd(a){this.i=a}
(function(){function a(a){m=a.x;l=a.y;k=a.z}function c(a,c,d,e){var f;f=n.length?n.pop():new b;f.init(a,c,d,e);return f}function b(){this.hn=this.id=this.mj=this.lj=this.y=this.x=this.Fq=this.Eq=this.dt=this.time=this.uu=0;this.tn=this.Nq=!1}function d(){}function g(){}var e=Fd.prototype;e.xa=function(a){this.fb=a;this.i=a.i};e.xa.prototype.na=function(){};e.ta=function(a){this.type=a;this.i=a.i;this.touches=[];this.At=!1};var f=e.ta.prototype,h={left:0,top:0};f.Cl=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var m=0,l=0,k=0,n=[];b.prototype.init=function(a,b,c,d){var e=tb();this.uu=this.dt=this.time=e;this.Eq=a;this.Fq=b;this.x=a;this.y=b;this.lj=a;this.mj=b;this.pressure=this.height=this.width=0;this.id=c;this.hn=d;this.tn=this.Nq=!1};b.prototype.update=function(a,b,c,d,e,f){this.dt=this.time;this.time=a;this.lj=this.x;this.mj=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.tn&&15<=db(this.Eq,this.Fq,this.x,this.y)&&(this.tn=
!0)};b.prototype.uE=function(a,b){!this.Nq&&500<=tb()-this.uu&&!this.tn&&15>db(this.Eq,this.Fq,this.x,this.y)&&(this.Nq=!0,a.Mg=this.hn,a.Wk=this.id,a.bk=b,a.i.trigger(Fd.prototype.H.nA,a),a.Sg=this.x,a.Tg=this.y,a.i.trigger(Fd.prototype.H.oA,a),a.bk=0)};var q=-1E3,r=-1E3,v=-1E4;b.prototype.ox=function(a,b){if(!this.Nq){var c=tb();333>=c-this.uu&&!this.tn&&15>db(this.Eq,this.Fq,this.x,this.y)&&(a.Mg=this.hn,a.Wk=this.id,a.bk=b,666>=c-v&&25>db(q,r,this.x,this.y)?(a.i.trigger(Fd.prototype.H.fA,a),a.Sg=
this.x,a.Tg=this.y,a.i.trigger(Fd.prototype.H.gA,a),r=q=-1E3,v=-1E4):(a.i.trigger(Fd.prototype.H.LA,a),a.Sg=this.x,a.Tg=this.y,a.i.trigger(Fd.prototype.H.MA,a),q=this.x,r=this.y,v=c),a.bk=0)}};f.na=function(){this.mE=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.bk=this.Wk=this.Mg=this.Tg=this.Sg=this.Av=this.zv=this.yv=this.zB=this.yB=this.xB=this.Tp=this.Sp=this.Rp=0;this.JF=0!==this.U[0];var b=0<this.i.Xd?document:this.i.canvas,c=document;this.i.Id?c=b=window.Canvas:this.i.yf&&
(c=b=window);var d=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",function(a){d.Gx(a)},!1),b.addEventListener("pointermove",function(a){d.Fx(a)},!1),c.addEventListener("pointerup",function(a){d.Pp(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.Pp(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.i.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){d.Gx(a)},!1),b.addEventListener("MSPointerMove",function(a){d.Fx(a)},!1),c.addEventListener("MSPointerUp",function(a){d.Pp(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.Pp(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",function(a){d.Ix(a)},!1),b.addEventListener("touchmove",function(a){d.Hx(a)},!1),c.addEventListener("touchend",function(a){d.Kt(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.Kt(a,!0)},!1));if(this.mE){var e=function(a){a=a.reading;d.yv=a.accelerationX;d.zv=a.accelerationY;d.Av=a.accelerationZ},f=function(a){a=a.reading;d.Rp=a.yawDegrees;d.Sp=a.pitchDegrees;d.Tp=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();
g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.Rp=a.alpha||0;d.Sp=a.beta||0;d.Tp=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.xB=a.accelerationIncludingGravity.x||0,d.yB=a.accelerationIncludingGravity.y||0,d.zB=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.yv=a.acceleration.x||0,d.zv=a.acceleration.y||0,d.Av=a.acceleration.z||0)},!1);this.JF&&!this.i.cb&&(jQuery(document).mousemove(function(a){d.It(a)}),jQuery(document).mousedown(function(a){d.Ht(a)}),
jQuery(document).mouseup(function(a){d.Jt(a)}));!this.i.mk&&this.i.Je&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(a,null,{frequency:40});this.i.BF(this)};f.Fx=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Cl(a.pointerId),c=tb();if(0<=b){var d=this.i.cb?h:jQuery(this.i.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,
a.width||0,a.height||0,a.pressure||0)}}};f.Gx=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.i.cb?h:jQuery(this.i.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;tb();this.Mg=this.touches.length;this.Wk=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.Mg));this.i.Qb=!0;this.i.trigger(Fd.prototype.H.nv,this);this.i.trigger(Fd.prototype.H.sv,this);this.Sg=d;this.Tg=b;this.i.trigger(Fd.prototype.H.rv,this);
this.i.Qb=!1}};f.Pp=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var c=this.Cl(a.pointerId);this.Mg=0<=c?this.touches[c].hn:-1;this.Wk=0<=c?this.touches[c].id:-1;this.i.Qb=!0;this.i.trigger(Fd.prototype.H.mv,this);this.i.trigger(Fd.prototype.H.qv,this);0<=c&&(b||this.touches[c].ox(this,c),100>n.length&&n.push(this.touches[c]),this.touches.splice(c,1));this.i.Qb=!1}};f.Hx=function(a){a.preventDefault&&a.preventDefault();
var b=tb(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Cl(e.identifier),0<=f){var g=this.i.cb?h:jQuery(this.i.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top,2*(e.LG||e.QG||e.FG||e.IG||0),2*(e.MG||e.RG||e.GG||e.JG||0),e.BG||e.PG||e.EG||e.HG||0)}};f.Ix=function(a){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.i.cb?h:jQuery(this.i.canvas).offset();tb();this.i.Qb=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=
a.changedTouches[d],g=this.Cl(f.identifier),-1===g){g=f.pageX-b.left;var k=f.pageY-b.top;this.Mg=this.touches.length;this.Wk=f.identifier;this.touches.push(c(g,k,f.identifier,this.Mg));this.i.trigger(Fd.prototype.H.nv,this);this.i.trigger(Fd.prototype.H.sv,this);this.Sg=g;this.Tg=k;this.i.trigger(Fd.prototype.H.rv,this)}this.i.Qb=!1};f.Kt=function(a,b){a.preventDefault&&Xb(a)&&a.preventDefault();this.i.Qb=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Cl(e.identifier),
0<=e&&(this.Mg=this.touches[e].hn,this.Wk=this.touches[e].id,this.i.trigger(Fd.prototype.H.mv,this),this.i.trigger(Fd.prototype.H.qv,this),b||this.touches[e].ox(this,e),100>n.length&&n.push(this.touches[e]),this.touches.splice(e,1));this.i.Qb=!1};f.j=function(){return this.i.Je&&0===this.Rp&&0!==k?90*k:this.Rp};f.k=function(){return this.i.Je&&0===this.Sp&&0!==l?90*l:this.Sp};f.B=function(){return this.i.Je&&0===this.Tp&&0!==m?90*m:this.Tp};f.Ht=function(a){this.Ix({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]});this.At=!0};f.It=function(a){this.At&&this.Hx({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};f.Jt=function(a){a.preventDefault&&this.i.bp&&!this.i.ah&&a.preventDefault();this.i.bp=!0;this.Kt({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.At=!1};f.sn=function(){var a,b,c,d=tb();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.dt=d),c.uE(this,a)};d.prototype.sv=function(){return!0};d.prototype.qv=function(){return!0};
d.prototype.rv=function(a){return a?this.i.ln(a,this.Sg,this.Tg):!1};var t=[];d.prototype.Sz=function(a){if(!a)return!1;var b=a.La(),c=b.Gd(),d,e,f,g,h,k;f=0;for(g=c.length;f<g;f++){var l=c[f];l.$a();h=0;for(k=this.touches.length;h<k;h++)if(e=this.touches[h],d=l.O.mc(e.x,e.y,!0),e=l.O.mc(e.x,e.y,!1),l.Ed(d,e)){t.push(l);break}}return t.length?(b.Za=!1,Ha(b.G,t),a.Ge(),H(t),!0):!1};d.prototype.nv=function(a){a=Math.floor(a);return a===this.Mg};d.prototype.mv=function(a){a=Math.floor(a);return a===
this.Mg};d.prototype.nA=function(){return!0};d.prototype.LA=function(){return!0};d.prototype.fA=function(){return!0};d.prototype.oA=function(a){return a?this.i.ln(a,this.Sg,this.Tg):!1};d.prototype.MA=function(a){return a?this.i.ln(a,this.Sg,this.Tg):!1};d.prototype.gA=function(a){return a?this.i.ln(a,this.Sg,this.Tg):!1};e.H=new d;g.prototype.nr=function(a,b){var c=this.bk;if(0>c||c>=this.touches.length)a.wa(0);else{var d,e,f,g,h;la(b)?(d=this.i.Yg(0),e=d.scale,f=d.Td,g=d.ve,h=d.M,d.scale=1,d.Td=
1,d.ve=1,d.M=0,a.wa(d.mc(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Td=f,d.ve=g,d.M=h):(d=na(b)?this.i.Yg(b):this.i.Hl(b))?a.wa(d.mc(this.touches[c].x,this.touches[c].y,!0)):a.wa(0)}};g.prototype.or=function(a,b){var c=this.bk;if(0>c||c>=this.touches.length)a.wa(0);else{var d,e,f,g,h;la(b)?(d=this.i.Yg(0),e=d.scale,f=d.Td,g=d.we,h=d.M,d.scale=1,d.Td=1,d.we=1,d.M=0,a.wa(d.mc(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.Td=f,d.we=g,d.M=h):(d=na(b)?this.i.Yg(b):this.i.Hl(b))?a.wa(d.mc(this.touches[c].x,
this.touches[c].y,!1)):a.wa(0)}};e.Ka=new g})();function Gd(a){this.i=a}
(function(){function a(a){var b;if(!k[a])for(k[a]=Array(20),b=0;20>b;++b)k[a][b]=0;return k[a]}function c(a){var b;if(!n[a])for(n[a]=Array(20),b=0;20>b;++b)n[a][b]=0;return n[a]}function b(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function d(a){l[a.gamepad.index]=a.gamepad;h.trigger(Gd.prototype.H.lA,m)}function g(a){h.trigger(Gd.prototype.H.mA,m);l[a.gamepad.index]=null}function e(){}var f=Gd.prototype;f.xa=function(a){this.fb=a;this.i=a.i};f.xa.prototype.na=function(){};var h=null,m=null,l=Array(16),
k=Array(16),n=Array(16),q="",r="",v=null,t={windows:{}};t.windows.firefox={};var p=[0,1,2,3,4,5,8,9,10,11],u=[0,1,[7,6],2,3,[14,15],[12,13]];t.windows.firefox.xbox360=function(a,b){return b?a>=u.length?-1:na(u[a])?u[a]+16:u[a]:a>=p.length?-1:p[a]};var x=[2,0,1,3,4,6,5,7,8,9],z=[0,1,2,3,[14,15],[12,13]];t.windows.firefox.logitechdualaction=function(a,b){return b?a>=z.length?-1:na(z[a])?z[a]+16:z[a]:a>=x.length?-1:x[a]};f.ta=function(a){this.type=a;h=this.i=a.i;m=this};var D=f.ta.prototype;D.na=function(){this.km=
0;var a=navigator.userAgent;q="windows";/mac/i.test(a)&&(q="mac");v=t[q];r="chrome";/firefox/i.test(a)&&(r="firefox");v&&(v=v[r]);window.addEventListener("webkitgamepadconnected",d,!1);window.addEventListener("webkitgamepaddisconnected",g,!1);window.addEventListener("MozGamepadConnected",d,!1);window.addEventListener("MozGamepadDisconnected",g,!1);window.addEventListener("gamepadconnected",d,!1);window.addEventListener("gamepaddisconnected",g,!1);this.i.yi(this);this.Rn=[]};D.mb=function(){this.Rn.length=
0;var d=null,e=!1;navigator.getGamepads?d=navigator.getGamepads():navigator.webkitGetGamepads?d=navigator.webkitGetGamepads():navigator.mozGetGamepads?d=navigator.mozGetGamepads():navigator.msGetGamepads?d=navigator.msGetGamepads():this.i.Jw&&window.cr_getGamepads?(d=window.cr_getGamepads(),e=!0):d=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||l;if(d){var f,g,h,m,q,p,r;f=0;for(g=d.length;f<g;f++){var t=d[f];if(t){var u=a(f),x=c(f);m=f;h=a(m);m=c(m);q=void 0;for(q=0;20>q;++q)m[q]=
h[q];e?h=b:v?(h="",m=t.id.toLowerCase(),-1<m.indexOf("xbox 360")?h="xbox360":-1<m.indexOf("logitech dual action")&&(h="logitechdualaction"),h=v[h]||b):h=b;q=h;h=0;for(m=t.buttons.length;h<m;h++)r="undefined"!==typeof t.buttons[h].value?t.buttons[h].value:t.buttons[h],p=q(h,!1,r),0<=p&&20>p&&(u[p]=100*r,50<=u[p]&&50>x[p]&&(this.km=p));h=0;for(m=t.axes.length;h<m;h++)r=t.axes[h],p=q(h,!0,r),na(p)?0<=p&&20>p&&(u[p]=100*r):(u[p[0]]=0,u[p[1]]=0,0>=r?u[p[0]]=Math.abs(100*r):u[p[1]]=Math.abs(100*r));this.Rn.push(t)}else t=
f,k[t]=null,n[t]=null}for(;20>f;++f)d=f,k[d]=null,n[d]=null}};D.Ub=function(){return{lastButton:this.km}};D.Xb=function(a){this.km=a.lastButton};e.prototype.lA=function(){return!0};e.prototype.mA=function(){return!0};e.prototype.Uu=function(b,c){b=Math.floor(b);if(0>b||b>=this.Rn.length)return!1;var d=a(b);if(!d)return!1;if(d=50<=d[c])this.km=c;return d};e.prototype.$z=function(b,d){b=Math.floor(b);if(0>b||b>=this.Rn.length)return!1;var e=a(b),f=c(b);if(!e||!f)return!1;if(e=50<=e[d]&&50>f[d])this.km=
d;return e};f.H=new e;f.ka=new function(){};f.Ka=new function(){}})();function Hd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=Hd.prototype;d.xa=function(a){this.behavior=a;this.i=a.i};d.xa.prototype.na=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var g=d.ta.prototype;g.na=function(){var a=this.U[0];this.ke=this.U[1];this.od=this.U[2];this.JB=0!==this.U[3];this.ku=0!==this.U[4];this.Y=Math.cos(this.n.M)*a;this.ba=Math.sin(this.n.M)*a;this.lj=this.n.x;this.mj=this.n.y;this.Kd=this.n.M;this.vn=0;this.enabled=0!==this.U[5]};
g.Ub=function(){return{acc:this.ke,g:this.od,dx:this.Y,dy:this.ba,lx:this.lj,ly:this.mj,lka:this.Kd,t:this.vn,e:this.enabled}};g.Xb=function(a){this.ke=a.acc;this.od=a.g;this.Y=a.dx;this.ba=a.dy;this.lj=a.lx;this.mj=a.ly;this.Kd=a.lka;this.vn=a.t;this.enabled=a.e};g.mb=function(){if(this.enabled){var a=this.i.yg(this.n),b,c;this.n.M!==this.Kd&&(this.ku&&(b=db(0,0,this.Y,this.ba),this.Y=Math.cos(this.n.M)*b,this.ba=Math.sin(this.n.M)*b),this.Kd=this.n.M);0!==this.ke&&(b=db(0,0,this.Y,this.ba),c=0===
this.Y&&0===this.ba?this.n.M:Wa(0,0,this.Y,this.ba),b+=this.ke*a,0>b&&(b=0),this.Y=Math.cos(c)*b,this.ba=Math.sin(c)*b);0!==this.od&&(this.ba+=this.od*a);this.lj=this.n.x;this.mj=this.n.y;if(0!==this.Y||0!==this.ba)if(this.n.x+=this.Y*a,this.n.y+=this.ba*a,this.vn+=db(0,0,this.Y*a,this.ba*a),this.ku&&(this.n.M=Wa(0,0,this.Y,this.ba),this.n.aa(),this.Kd=this.n.M),this.n.aa(),this.JB&&(b=this.i.gd(this.n)))this.i.yj(this.n,b),b=db(0,0,this.Y,this.ba),c=this.i.MB(this.n,this.lj,this.mj),this.Y=Math.cos(c)*
b,this.ba=Math.sin(c)*b,this.n.x+=this.Y*a,this.n.y+=this.ba*a,this.n.aa(),this.ku&&(this.Kd=this.n.M=c,this.n.aa()),this.i.Ff(this.n,this.Y/b,this.ba/b,Math.max(2.5*b*a,30))||this.i.by(this.n,100)}};a.prototype.wz=function(a,b){return Wc(this.vn,a,b)};d.H=new a;c.prototype.vv=function(a){var b=Wa(0,0,this.Y,this.ba);this.Y=Math.cos(b)*a;this.ba=Math.sin(b)*a};c.prototype.uv=function(a){a=Pa(a);var b=db(0,0,this.Y,this.ba);this.Y=Math.cos(a)*b;this.ba=Math.sin(a)*b};c.prototype.Of=function(a){this.enabled=
1===a};d.ka=new c;b.prototype.kr=function(a){var b=db(0,0,this.Y,this.ba),b=Qb(b);a.wa(b)};d.Ka=new b})();function Id(a){this.i=a}
(function(){function a(){}function c(){}var b=Id.prototype;b.xa=function(a){this.behavior=a;this.i=a.i};b.xa.prototype.na=function(){};b.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.ta.prototype;d.na=function(){this.qr=1===this.U[0];this.oy=!1;this.zl=this.U[1];this.Gn=this.U[2];this.Ho=this.U[3];this.XB=this.U[4];this.Jc=this.qr?0:3;this.td?this.If.reset():this.If=new Bb;this.fi=this.n.opacity?this.n.opacity:1;this.qr&&(0===this.zl?(this.Jc=1,0===this.Gn&&(this.Jc=
2)):(this.n.opacity=0,this.i.Ua=!0))};d.Ub=function(){return{fit:this.zl,wt:this.Gn,fot:this.Ho,s:this.Jc,st:this.If.Va,mo:this.fi}};d.Xb=function(a){this.zl=a.fit;this.Gn=a.wt;this.Ho=a.fot;this.Jc=a.s;this.If.reset();this.If.Va=a.st;this.fi=a.mo};d.mb=function(){this.If.add(this.i.yg(this.n));0===this.Jc&&(this.n.opacity=this.If.Va/this.zl*this.fi,this.i.Ua=!0,this.n.opacity>=this.fi&&(this.n.opacity=this.fi,this.Jc=1,this.If.reset(),this.i.trigger(Id.prototype.H.hA,this.n)));1===this.Jc&&this.If.Va>=
this.Gn&&(this.Jc=2,this.If.reset(),this.i.trigger(Id.prototype.H.OA,this.n));2===this.Jc&&0!==this.Ho&&(this.n.opacity=this.fi-this.If.Va/this.Ho*this.fi,this.i.Ua=!0,0>this.n.opacity&&(this.n.opacity=0,this.Jc=3,this.If.reset(),this.i.trigger(Id.prototype.H.iA,this.n),1===this.XB&&this.i.Ce(this.n)))};d.qC=function(){this.Jc=0;this.If.reset();0===this.zl?(this.Jc=1,0===this.Gn&&(this.Jc=2)):(this.n.opacity=0,this.i.Ua=!0)};a.prototype.iA=function(){return!0};a.prototype.hA=function(){return!0};
a.prototype.OA=function(){return!0};b.H=new a;c.prototype.lB=function(){this.qr||this.oy||(this.fi=this.n.opacity?this.n.opacity:1,this.oy=!0);3===this.Jc&&this.qC()};b.ka=new c;b.Ka=new function(){}})();function Jd(a){this.i=a}
(function(){function a(){}function c(){}var b=Jd.prototype;b.xa=function(a){this.behavior=a;this.i=a.i};b.xa.prototype.na=function(){};b.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.ta.prototype;d.na=function(){this.Ai=this.Hg=this.Jc=this.Np=this.Qp=0};d.Ub=function(){return{ontime:this.Qp,offtime:this.Np,stage:this.Jc,stagetimeleft:this.Hg,timeleft:this.Ai}};d.Xb=function(a){this.Qp=a.ontime;this.Np=a.offtime;this.Jc=a.stage;this.Hg=a.stagetimeleft;this.Ai=
a.timeleft};d.mb=function(){if(!(0>=this.Ai)){var a=this.i.yg(this.n);this.Ai-=a;0>=this.Ai?(this.Ai=0,this.n.visible=!0,this.i.Ua=!0,this.i.trigger(Jd.prototype.H.av,this.n)):(this.Hg-=a,0>=this.Hg&&(0===this.Jc?(this.n.visible=!1,this.Jc=1,this.Hg+=this.Np):(this.n.visible=!0,this.Jc=0,this.Hg+=this.Qp),this.i.Ua=!0))}};a.prototype.av=function(){return!0};b.H=new a;c.prototype.Fz=function(a,b,c){this.Qp=a;this.Np=b;this.Jc=1;this.Hg=b;this.Ai=c;this.n.visible=!1;this.i.Ua=!0};b.ka=new c;b.Ka=new function(){}})();
function Kd(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var Ld=2/180*Math.PI,Md=8/180*Math.PI,Nd=.5*Math.PI,Od=Nd*Nd,Pd=2/180*Math.PI,Qd=Number.MIN_VALUE*Number.MIN_VALUE;function Td(a,c){return a.x*c.x+a.y*c.y}function Ud(a,c){return a.x*c.y-a.y*c.x}function Vd(a){return V(1*a.y,-1*a.x)}function Wd(a,c){return V(a.u.x*c.x+a.A.x*c.y,a.u.y*c.x+a.A.y*c.y)}function Xd(a,c){return V(Td(c,a.u),Td(c,a.A))}
function Yd(a,c){var b=Wd(a.D,c);b.x+=a.position.x;b.y+=a.position.y;return b}function Zd(a,c){var b=$d(c,a.position),d=b.x*a.D.u.x+b.y*a.D.u.y;b.y=b.x*a.D.A.x+b.y*a.D.A.y;b.x=d;return b}function $d(a,c){return V(a.x-c.x,a.y-c.y)}function ae(a,c,b){return a<c?c:a>b?b:a}function be(){this.u=V(0,0);this.A=V(0,0);this.u.Set(1,0);this.A.Set(0,1)}function ce(a){var c=new be;c.Set(a);return c}be.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.u.Set(c,a);this.A.Set(-a,c)};
be.prototype.Lc=function(){var a=new be;de(a,this);return a};function de(a,c){a.u.S(c.u);a.A.S(c.A)}be.prototype.Ia=function(){this.u.Set(0,0);this.A.Set(0,0)};be.prototype.Ei=function(){return Math.atan2(this.u.y,this.u.x)};function ee(a,c){var b=a.u.x*a.A.y-a.A.x*a.u.y;0!==b&&(b=1/b);c.u.x=b*a.A.y;c.A.x=-b*a.A.x;c.u.y=-b*a.u.y;c.A.y=b*a.u.x}function fe(a,c,b,d){var g=a.u.x*a.A.y-a.A.x*a.u.y;0!==g&&(g=1/g);c.x=g*(a.A.y*b-a.A.x*d);c.y=g*(a.u.x*d-a.u.y*b);return c}
function ge(a,c,b){this.u=new he(0,0,0);this.A=new he(0,0,0);this.j=new he(0,0,0);a&&this.u.S(a);c&&this.A.S(c);b&&this.j.S(b)}ge.prototype.Lc=function(){return new ge(this.u,this.A,this.j)};ge.prototype.Ia=function(){this.u.Set(0,0,0);this.A.Set(0,0,0);this.j.Set(0,0,0)};function ie(a,c,b,d){var g=a.u.x,e=a.A.x,f=a.u.y;a=a.A.y;var h=g*a-e*f;0!=h&&(h=1/h);c.x=h*(a*b-e*d);c.y=h*(g*d-f*b);return c}
function je(a,c,b,d,g){var e=a.u.x,f=a.u.y,h=a.u.z,m=a.A.x,l=a.A.y,k=a.A.z,n=a.j.x,q=a.j.y;a=a.j.z;var r=e*(l*a-k*q)+f*(k*n-m*a)+h*(m*q-l*n);0!=r&&(r=1/r);c.x=r*(b*(l*a-k*q)+d*(k*n-m*a)+g*(m*q-l*n));c.y=r*(e*(d*a-g*q)+f*(g*n-b*a)+h*(b*q-d*n));c.z=r*(e*(l*g-k*d)+f*(k*b-m*g)+h*(m*d-l*b));return c}function Ae(){this.V=V(0,0);this.Xc=V(0,0);this.I=V(0,0)}Ae.prototype.Set=function(a){this.V.S(a.V);this.Xc.S(a.Xc);this.I.S(a.I);this.lf=a.lf;this.T=a.T;this.Nd=a.Nd};
Ae.prototype.Lc=function(){var a=new Ae;a.V.S(this.V);a.Xc.S(this.Xc);a.I.S(this.I);a.lf=this.lf;a.T=this.T;a.Nd=this.Nd;return a};Ae.prototype.De=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.Xc.x+c*this.I.x;a.position.y=(1-c)*this.Xc.y+c*this.I.y;a.D.Set((1-c)*this.lf+c*this.T);var b=a.D;a.position.x-=b.u.x*this.V.x+b.A.x*this.V.y;a.position.y-=b.u.y*this.V.x+b.A.y*this.V.y};
Ae.prototype.Bh=function(a){void 0===a&&(a=0);if(this.Nd<a&&1-this.Nd>Number.MIN_VALUE){var c=(a-this.Nd)/(1-this.Nd);this.Xc.x=(1-c)*this.Xc.x+c*this.I.x;this.Xc.y=(1-c)*this.Xc.y+c*this.I.y;this.lf=(1-c)*this.lf+c*this.T;this.Nd=a}};function Be(a,c){this.position=V(0,0);this.D=new be;a&&this.position.S(a);c&&de(this.D,c)}Be.prototype.Set=function(a){this.position.S(a.position);de(this.D,a.D)};Be.prototype.Ei=function(){return Math.atan2(this.D.u.y,this.D.u.x)};
function Ce(a,c){this.x=a;this.y=c}var De=[];function V(a,c){if(0<De.length){var b=De.pop();b.Set(a,c);return b}return new Ce(a,c)}function Ee(a){De.push(a)}A=Ce.prototype;A.Ia=function(){this.y=this.x=0};A.Set=function(a,c){this.x=a;this.y=c};A.S=function(a){this.x=a.x;this.y=a.y};A.Ch=function(){return V(-this.x,-this.y)};A.Lc=function(){return V(this.x,this.y)};A.kg=function(a){this.x+=a.x;this.y+=a.y};A.xv=function(a){this.x-=a.x;this.y-=a.y};A.Se=function(a){this.x*=a;this.y*=a};
function Fe(a){return Math.sqrt(Ge(a))}function Ge(a){return a.x*a.x+a.y*a.y}function He(a){var c=Fe(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function he(a,c,b){this.x=a;this.y=c;this.z=b}A=he.prototype;A.Ia=function(){this.z=this.y=this.x=0};A.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};A.S=function(a){this.x=a.x;this.y=a.y;this.z=a.z};A.Ch=function(){return new he(-this.x,-this.y,-this.z)};A.Lc=function(){return new he(this.x,this.y,this.z)};
A.kg=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};A.xv=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};A.Se=function(a){this.x*=a;this.y*=a;this.z*=a};function Ie(){this.ob=.005}A=Ie.prototype;A.Gi=function(){};A.Lc=function(){};A.Set=function(a){this.ob=a.ob};A.Hj=function(){};A.dl=function(){};A.In=function(){};A.ir=function(){};function Je(a){this.ob=.005;this.ob=a;this.j=a*a;this.Gb=V(0,0)}Kd(Je,Ie);A=Je.prototype;A.Gi=function(){return"b2CircleShape"};
A.Lc=function(){var a=new Je(this.ob);a.Set(this);return a};A.Set=function(a){Ie.prototype.Set.call(this,a);a instanceof Je&&this.Gb.S(a.Gb)};A.Hj=function(a,c){var b=c.D,d=c.position.x+(b.u.x*this.Gb.x+b.A.x*this.Gb.y),b=c.position.y+(b.u.y*this.Gb.x+b.A.y*this.Gb.y);a.j.Set(d-this.ob,b-this.ob);a.k.Set(d+this.ob,b+this.ob)};A.dl=function(a,c){a.j=c*Math.PI*this.j;a.k.S(this.Gb);a.B=a.j*(.5*this.j+(this.Gb.x*this.Gb.x+this.Gb.y*this.Gb.y))};
A.In=function(a,c,b,d){b=Yd(b,this.Gb);var g=-(Td(a,b)-c);if(g<-this.ob+Number.MIN_VALUE)return 0;if(g>this.ob)return d.S(b),Math.PI*this.j;c=g*g;g=this.j*(Math.asin(g/this.ob)+Math.PI/2)+g*Math.sqrt(this.j-c);c=-2/3*Math.pow(this.j-c,1.5)/g;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return g};A.ir=function(a){a.W=[this.Gb];a.j=1;a.ob=this.ob};
function Ke(a,c){this.ob=.005;this.j=a;this.k=c;this.B=V(this.k.x-this.j.x,this.k.y-this.j.y);He(this.B);this.F=V(this.B.y,-this.B.x);V(-.04*(this.F.x-this.B.x)+this.j.x,-.04*(this.F.y-this.B.y)+this.j.y);V(-.04*(this.F.x+this.B.x)+this.k.x,-.04*(this.F.y+this.B.y)+this.k.y);V(-this.F.x,-this.F.y)}Kd(Ke,Ie);Ke.prototype.Gi=function(){return"b2EdgeShape"};
Ke.prototype.Hj=function(a,c){var b=c.D,d=c.position.x+(b.u.x*this.j.x+b.A.x*this.j.y),g=c.position.y+(b.u.y*this.j.x+b.A.y*this.j.y),e=c.position.x+(b.u.x*this.k.x+b.A.x*this.k.y),b=c.position.y+(b.u.y*this.k.x+b.A.y*this.k.y);d<e?(a.j.x=d,a.k.x=e):(a.j.x=e,a.k.x=d);g<b?(a.j.y=g,a.k.y=b):(a.j.y=b,a.k.y=g)};Ke.prototype.dl=function(a){a.j=0;a.k.S(this.j);a.B=0};
Ke.prototype.In=function(a,c,b,d){void 0===c&&(c=0);var g=V(a.x*c,a.y*c),e=Yd(b,this.j);b=Yd(b,this.k);var f=Td(a,e)-c;a=Td(a,b)-c;if(0<f){if(0<a)return 0;e.x=-a/(f-a)*e.x+f/(f-a)*b.x;e.y=-a/(f-a)*e.y+f/(f-a)*b.y}else 0<a&&(b.x=-a/(f-a)*e.x+f/(f-a)*b.x,b.y=-a/(f-a)*e.y+f/(f-a)*b.y);d.x=(g.x+e.x+b.x)/3;d.y=(g.y+e.y+b.y)/3;return.5*((e.x-g.x)*(b.y-g.y)-(e.y-g.y)*(b.x-g.x))};function Le(){this.j=0;this.k=V(0,0);this.B=0}function Me(){this.ob=.005;this.j=V(0,0);this.W=[];this.Lb=[]}Kd(Me,Ie);A=Me.prototype;
A.Gi=function(){return"b2PolygonShape"};A.Lc=function(){var a=new Me;a.Set(this);return a};A.Set=function(a){Ie.prototype.Set.call(this,a);if(a instanceof Me){this.j.S(a.j);this.wb=a.wb;Ne(this,this.wb);for(var c=0;c<this.wb;c++)this.W[c].S(a.W[c]),this.Lb[c].S(a.Lb[c])}};
function Oe(a,c){var b=c.length;a.wb=b;Ne(a,b);for(b=b=0;b<a.wb;b++)a.W[b].S(c[b]);for(b=0;b<a.wb;++b){var d=$d(a.W[b+1<a.wb?b+1:0],a.W[b]);a.Lb[b].S(Vd(d));He(a.Lb[b])}for(var b=a.W,d=a.wb,g=V(0,0),e=0,f=1/3,h=0;h<d;++h){var m=b[h],l=h+1<d?b[h+1]:b[0],k=.5*((m.x-0)*(l.y-0)-(m.y-0)*(l.x-0)),e=e+k;g.x+=k*f*(0+m.x+l.x);g.y+=k*f*(0+m.y+l.y)}g.x*=1/e;g.y*=1/e;a.j=g}
function Pe(a,c,b){a.wb=4;Ne(a,4);a.W[0].Set(-c,-b);a.W[1].Set(c,-b);a.W[2].Set(c,b);a.W[3].Set(-c,b);a.Lb[0].Set(0,-1);a.Lb[1].Set(1,0);a.Lb[2].Set(0,1);a.Lb[3].Set(-1,0);a.j.Ia()}
A.Hj=function(a,c){for(var b=c.D,d=this.W[0],g=c.position.x+(b.u.x*d.x+b.A.x*d.y),e=c.position.y+(b.u.y*d.x+b.A.y*d.y),f=g,h=e,m=1;m<this.wb;++m)var d=this.W[m],l=c.position.x+(b.u.x*d.x+b.A.x*d.y),d=c.position.y+(b.u.y*d.x+b.A.y*d.y),g=g<l?g:l,e=e<d?e:d,f=f>l?f:l,h=h>d?h:d;a.j.x=g-this.ob;a.j.y=e-this.ob;a.k.x=f+this.ob;a.k.y=h+this.ob};
A.dl=function(a,c){if(2==this.wb)a.k.x=.5*(this.W[0].x+this.W[1].x),a.k.y=.5*(this.W[0].y+this.W[1].y),a.j=0,a.B=0;else{for(var b=0,d=0,g=0,e=0,f=1/3,h=0;h<this.wb;++h)var m=this.W[h],l=h+1<this.wb?this.W[h+1]:this.W[0],k=m.x-0,n=m.y-0,q=l.x-0,r=l.y-0,v=k*r-n*q,t=.5*v,g=g+t,b=b+t*f*(0+m.x+l.x),d=d+t*f*(0+m.y+l.y),m=k,e=e+v*(f*(.25*(m*m+q*m+q*q)+(0*m+0*q))+0+(f*(.25*(n*n+r*n+r*r)+(0*n+0*r))+0));a.j=c*g;a.k.Set(1/g*b,1/g*d);a.B=c*e}};
A.In=function(a,c,b,d){var g=Xd(b.D,a),e=c-Td(a,b.position),f=[],h=0,m=-1;c=-1;var l=!1;for(a=a=0;a<this.wb;++a){f[a]=Td(g,this.W[a])-e;var k=f[a]<-Number.MIN_VALUE;0<a&&(k?l||(m=a-1,h++):l&&(c=a-1,h++));l=k}switch(h){case 0:return l?(a=new Le,this.dl(a,1),d.S(Yd(b,a.k)),a.j):0;case 1:-1==m?m=this.wb-1:c=this.wb-1}a=(m+1)%this.wb;g=(c+1)%this.wb;e=(0-f[m])/(f[a]-f[m]);f=(0-f[c])/(f[g]-f[c]);m=V(this.W[m].x*(1-e)+this.W[a].x*e,this.W[m].y*(1-e)+this.W[a].y*e);c=V(this.W[c].x*(1-f)+this.W[g].x*f,this.W[c].y*
(1-f)+this.W[g].y*f);f=0;e=V(0,0);for(h=this.W[a];a!=g;)a=(a+1)%this.wb,l=a==g?c:this.W[a],k=.5*((h.x-m.x)*(l.y-m.y)-(h.y-m.y)*(l.x-m.x)),f+=k,e.x+=k*(m.x+h.x+l.x)/3,e.y+=k*(m.y+h.y+l.y)/3,h=l;e.Se(1/f);d.S(Yd(b,e));return f};A.ir=function(a){a.W=this.W;a.j=this.wb;a.ob=this.ob};A.Jn=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.wb;++d){var g=this.W[d].x*a.x+this.W[d].y*a.y;g>b&&(c=d,b=g)}return c};
A.gl=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.wb;++d){var g=this.W[d].x*a.x+this.W[d].y*a.y;g>b&&(c=d,b=g)}return this.W[c]};function Ne(a,c){a.W=[];a.Lb=[];for(var b=a.W.length;b<c;b++)a.W[b]=V(0,0),a.Lb[b]=V(0,0)}new be;function Qe(){this.k=this.j=this.B=this.lc=0}function Re(a,c){a.lc=c;a.B=a.lc&255;a.j=(a.lc&65280)>>8&255;a.k=(a.lc&16711680)>>16&255;a.F=(a.lc&4278190080)>>24&255}Qe.prototype.Set=function(a){Re(this,a.lc)};
Qe.prototype.Lc=function(){var a=new Qe;a.Set(this);return a};function Se(){this.kf=V(0,0);this.id=new Qe}Se.prototype.Set=function(a){this.kf.S(a.kf);this.id.Set(a.id)};function Te(){this.j=V(0,0);this.k=V(0,0)}var Xe=[];function Ye(){if(0<Xe.length){var a=Xe.pop();a.Ia();return a}return new Te}Te.prototype.Ia=function(){this.j.Set(0,0);this.k.Set(0,0)};function Ze(a,c){var b;return b=(b=(b=(b=a.j.x<=c.j.x)&&a.j.y<=c.j.y)&&c.k.x<=a.k.x)&&c.k.y<=a.k.y}
Te.prototype.il=function(a){return 0<a.j.x-this.k.x||0<a.j.y-this.k.y||0<this.j.x-a.k.x||0<this.j.y-a.k.y?!1:!0};function $e(a,c,b){a.j.x=Math.min(c.j.x,b.j.x);a.j.y=Math.min(c.j.y,b.j.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function af(a,c,b,d){var g=0,e=c[0].kf,f=c[1].kf,h=b.x*e.x+b.y*e.y-d;b=b.x*f.x+b.y*f.y-d;0>=h&&a[g++].Set(c[0]);0>=b&&a[g++].Set(c[1]);0>h*b&&(b=h/(h-b),d=a[g].kf,d.x=e.x+b*(f.x-e.x),d.y=e.y+b*(f.y-e.y),a[g].id=0<h?c[0].id:c[1].id,g++);return g}
function bf(a,c,b,d,g){for(var e=c.D.u.x*a.Lb[b].x+c.D.A.x*a.Lb[b].y,f=c.D.u.y*a.Lb[b].x+c.D.A.y*a.Lb[b].y,h=g.D.u.x*e+g.D.u.y*f,m=g.D.A.x*e+g.D.A.y*f,l=0,k=Number.MAX_VALUE,n=0;n<d.wb;n++){var q=d.W[n].x*h+d.W[n].y*m;q<k&&(k=q,l=n)}return(g.position.x+(g.D.u.x*d.W[l].x+g.D.A.x*d.W[l].y)-(c.position.x+(c.D.u.x*a.W[b].x+c.D.A.x*a.W[b].y)))*e+(g.position.y+(g.D.u.y*d.W[l].x+g.D.A.y*d.W[l].y)-(c.position.y+(c.D.u.y*a.W[b].x+c.D.A.y*a.W[b].y)))*f}
function cf(a,c,b,d){for(var g=d.position.x+(d.D.u.x*b.j.x+d.D.A.x*b.j.y),e=d.position.y+(d.D.u.y*b.j.x+d.D.A.y*b.j.y),g=g-(c.position.x+(c.D.u.x*a.j.x+c.D.A.x*a.j.y)),e=e-(c.position.y+(c.D.u.y*a.j.x+c.D.A.y*a.j.y)),f=g*c.D.u.x+e*c.D.u.y,e=g*c.D.A.x+e*c.D.A.y,g=0,h=-Number.MAX_VALUE,m=0;m<a.wb;++m){var l=a.Lb[m].x*f+a.Lb[m].y*e;l>h&&(h=l,g=m)}f=bf(a,c,g,b,d);e=g-1;0>e&&(e=a.wb-1);h=bf(a,c,e,b,d);m=g+1;m>=a.wb&&(m=0);var l=bf(a,c,m,b,d),k=0,n=0;if(h>f&&h>l)for(k=e,n=h;;)if(g=k-1,0>g&&(g=a.wb-1),f=
bf(a,c,g,b,d),f>n)k=g,n=f;else break;else if(l>f)for(k=m,n=l;;)if(g=k+1,g>=a.wb&&(g=0),f=bf(a,c,g,b,d),f>n)k=g,n=f;else break;else k=g,n=f;return{Hv:k,qq:n}}
function df(a,c,b){var d=new ef,g=b.nh,e=b.j,f=b.oh,h=b.k,m,l;d.j=c.count;for(var k=d.W,n=0;n<d.j;n++){var q=k[n];q.nc=c.nc[n];q.oc=c.oc[n];m=ff(g,q.nc);l=ff(f,q.oc);q.xd=Yd(e,m);q.Nf=Yd(h,l);q.Kc=$d(q.Nf,q.xd);q.T=0}1<d.j&&(m=c.j,l=gf(d),l<.5*m||2*m<l||l<Number.MIN_VALUE)&&(d.j=0);0==d.j&&(q=k[0],q.nc=0,q.oc=0,m=ff(g,0),l=ff(f,0),q.xd=Yd(e,m),q.Nf=Yd(h,l),q.Kc=$d(q.Nf,q.xd),d.j=1);for(g=0;20>g;){e=[];for(f=0;f<d.j;f++)e[f]={},e[f].nc=d.W[f].nc,e[f].oc=d.W[f].oc;if(2==d.j)f=d,h=f.k.Kc,k=f.B.Kc,m=
$d(k,h),h=-(h.x*m.x+h.y*m.y),0>=h?(f.k.T=1,f.j=1):(k=k.x*m.x+k.y*m.y,0>=k?(f.B.T=1,f.j=1,f.k.Set(f.B)):(m=1/(k+h),f.k.T=k*m,f.B.T=h*m,f.j=2));else if(3==d.j){var f=d,r=f.k.Kc,v=f.B.Kc,t=f.F.Kc,p=$d(v,r),h=Td(v,p),k=-Td(r,p),u=$d(t,r);m=Td(t,u);l=-Td(r,u);q=$d(t,v);n=Td(t,q);q=-Td(v,q);u=Ud(p,u);p=u*Ud(v,t);t=u*Ud(t,r);r=u*Ud(r,v);0>=k&&0>=l?(f.k.T=1,f.j=1):0<h&&0<k&&0>=r?(m=1/(h+k),f.k.T=h*m,f.B.T=k*m,f.j=2):0<m&&0<l&&0>=t?(h=1/(m+l),f.k.T=m*h,f.F.T=l*h,f.j=2,f.B.Set(f.F)):0>=h&&0>=q?(f.B.T=1,f.j=
1,f.k.Set(f.B)):0>=m&&0>=n?(f.F.T=1,f.j=1,f.k.Set(f.F)):0<n&&0<q&&0>=p?(h=1/(n+q),f.B.T=n*h,f.F.T=q*h,f.j=2,f.k.Set(f.F)):(h=1/(p+t+r),f.k.T=p*h,f.B.T=t*h,f.F.T=r*h,f.j=3)}if(3==d.j)break;f=d;1==f.j?f=f.k.Kc.Ch():2==f.j?(h=$d(f.B.Kc,f.k.Kc),f=0<Ud(h,f.k.Kc.Ch())?V(-1*h.y,1*h.x):Vd(h)):f=V(0,0);if(Ge(f)<Qd)break;h=f.Ch();d.W[d.j].nc=b.nh.Jn(Xd(b.j.D,h));d.W[d.j].xd=Yd(b.j,ff(b.nh,d.W[d.j].nc));d.W[d.j].oc=b.oh.Jn(Xd(b.k.D,f));d.W[d.j].Nf=Yd(b.k,ff(b.oh,d.W[d.j].oc));d.W[d.j].Kc=$d(d.W[d.j].Nf,d.W[d.j].xd);
Ee(f);Ee(h);g++;h=!1;for(f=0;f<e.length;f++)if(d.W[d.j].nc==e[f].nc&&d.W[d.j].oc==e[f].oc){h=!0;break}if(h)break;d.j++}g=a.j;e=a.k;1==d.j?(g.S(d.k.xd),e.S(d.k.Nf)):2==d.j?(g.x=d.k.T*d.k.xd.x+d.B.T*d.B.xd.x,g.y=d.k.T*d.k.xd.y+d.B.T*d.B.xd.y,e.x=d.k.T*d.k.Nf.x+d.B.T*d.B.Nf.x,e.y=d.k.T*d.k.Nf.y+d.B.T*d.B.Nf.y):3==d.j&&(e.x=g.x=d.k.T*d.k.xd.x+d.B.T*d.B.xd.x+d.F.T*d.F.xd.x,e.y=g.y=d.k.T*d.k.xd.y+d.B.T*d.B.xd.y+d.F.T*d.F.xd.y);a.B=Fe($d(a.j,a.k));c.j=gf(d);c.count=d.j;g=d.W;for(e=0;e<d.j;e++)c.nc[e]=g[e].nc,
c.oc[e]=g[e].oc;b.B&&(c=b.nh.ob,b=b.oh.ob,a.B>c+b&&a.B>Number.MIN_VALUE?(a.B-=c+b,d=$d(a.k,a.j),He(d),a.j.x+=c*d.x,a.j.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,Ee(d)):(b=V(0,0),b.x=.5*(a.j.x+a.k.x),b.y=.5*(a.j.y+a.k.y),a.j.x=a.k.x=b.x,a.j.y=a.k.y=b.y,a.B=0,Ee(b)))}function hf(){}function jf(){this.j=V(0,0);this.k=V(0,0);this.B=0}function kf(){}kf.prototype.Set=function(a){a.ir(this)};
kf.prototype.Jn=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.j;d++){var g=this.W[d].x*a.x+this.W[d].y*a.y;g>b&&(c=d,b=g)}return c};kf.prototype.gl=function(a){return this.W[this.Jn(a)]};function ff(a,c){void 0===c&&(c=0);return a.W[c]}function lf(){this.j=null}lf.prototype.el=function(a){mf(this,a);a.Ud()};function nf(a,c,b){if(null!==a.j){var d=[];for(d.push(a.j);0<d.length;)if(a=d.pop(),a.hb.il(b))if(null===a.le){if(!c(a.wf))break}else d.push(a.le),d.push(a.tg)}}
function of(a,c){if(null===a.j)a.j=c,a.j.parent=null;else{var b;b=c.hb;b=V((b.j.x+b.k.x)/2,(b.j.y+b.k.y)/2);for(var d=a.j;null!==d.le;)var g=d.le,d=d.tg,e=Math.abs((g.hb.j.x+g.hb.k.x)/2-b.x)+Math.abs((g.hb.j.y+g.hb.k.y)/2-b.y),f=Math.abs((d.hb.j.x+d.hb.k.x)/2-b.x)+Math.abs((d.hb.j.y+d.hb.k.y)/2-b.y),d=e<f?g:d;Ee(b);b=d;g=b.parent;d=pf();d.parent=g;$e(d.hb,c.hb,b.hb);if(g)for(b.parent.le==b?g.le=d:g.tg=d,d.le=b,d.tg=c,b.parent=d,c.parent=d;g&&!Ze(g.hb,d.hb);)$e(g.hb,g.le.hb,g.tg.hb),d=g,g=g.parent;
else d.le=b,d.tg=c,b.parent=d,c.parent=d,a.j=d}}function mf(a,c){if(c==a.j)a.j=null;else{var b=c.parent,d=b.parent,g;g=b.le==c?b.tg:b.le;if(d)for(d.le==b?d.le=g:d.tg=g,g.parent=d;d;){g=d.hb;$e(d.hb,d.le.hb,d.tg.hb);if(Ze(g,d.hb))break;d=d.parent}else a.j=g,g.parent=null;b.Ud()}}function qf(){this.k=new lf;this.j=[]}qf.prototype.el=function(a){La(this.j,a);this.k.el(a)};qf.prototype.il=function(a,c){return a.hb.il(c.hb)};
function rf(a,c){for(var b=[];0<a.j.length;){var d=a.j.pop();nf(a.k,function(a){a!=d.wf&&b.push(new sf(d.wf,a));return!0},d.hb)}for(var g=0;g<b.length;){var e=b[g];c(e.Dl,e.El);for(g++;g<b.length;){var f=b[g];if(!(f.Dl==e.Dl&&f.El==e.El||f.Dl==e.El&&f.El==e.Dl))break;g++}}}function tf(a){this.hb=Ye();this.wf=this.parent=this.tg=this.le=null;"undefined"!=typeof a&&(this.wf=a)}var uf=[];
function pf(a){if(0<uf.length){var c=uf.pop();"undefined"!=typeof a&&(c.wf=a);c.hb.Ia();return c}return new tf(a)}tf.prototype.Ud=function(){this.wf=this.parent=this.tg=this.le=null;uf.push(this)};function sf(a,c){this.Dl=a;this.El=c}function vf(){this.pb=this.hc=0;this.Ea=[];for(var a=0;2>a;a++)this.Ea[a]=new wf;this.cd=V(0,0);this.Oa=V(0,0)}vf.prototype.Wc=function(){for(var a=0;2>a;a++)this.Ea[a].Wc();this.cd.Ia();this.Oa.Ia();this.hc=this.pb=0};
vf.prototype.Set=function(a){this.hc=a.hc;for(var c=0;2>c;c++)this.Ea[c].Set(a.Ea[c]);this.cd.S(a.cd);this.Oa.S(a.Oa);this.pb=a.pb};vf.prototype.Lc=function(){var a=new vf;a.Set(this);return a};function wf(){this.Oa=V(0,0);this.Bf=new Qe;this.Wc()}wf.prototype.Wc=function(){this.Oa.Ia();this.rj=this.qj=0;Re(this.Bf,0)};wf.prototype.Set=function(a){this.Oa.S(a.Oa);this.qj=a.qj;this.rj=a.rj;this.Bf.Set(a.Bf)};
function xf(){var a=yf,c=Ef,b=Jf,d,g,e=0;switch(a.pb){case Qf:d=Xd(c.D,a.j);g=Xd(b.D,a.j.Ch());d=a.k.gl(d);g=a.B.gl(g);c=Yd(c,d);b=Yd(b,g);e=(b.x-c.x)*a.j.x+(b.y-c.y)*a.j.y;break;case Rf:e=Wd(c.D,a.j);c=Yd(c,a.Oa);g=Xd(b.D,e.Ch());g=a.B.gl(g);b=Yd(b,g);e=(b.x-c.x)*e.x+(b.y-c.y)*e.y;break;case Sf:e=Wd(b.D,a.j),b=Yd(b,a.Oa),d=Xd(c.D,e.Ch()),d=a.k.gl(d),c=Yd(c,d),e=(c.x-b.x)*e.x+(c.y-b.y)*e.y}return e}var Qf=1,Rf=2,Sf=4;
function ef(){this.k=new Tf;this.B=new Tf;this.F=new Tf;this.W=[this.k,this.B,this.F]}function gf(a){return 1==a.j?0:2==a.j?Fe($d(a.k.Kc,a.B.Kc)):3==a.j?Ud($d(a.B.Kc,a.k.Kc),$d(a.F.Kc,a.k.Kc)):0}function Uf(){this.nc=[0,0,0];this.oc=[0,0,0]}function Tf(){}Tf.prototype.Set=function(a){this.xd.S(a.xd);this.Nf.S(a.Nf);this.Kc.S(a.Kc);this.T=a.T;this.nc=a.nc;this.oc=a.oc};function Vf(){this.nh=new kf;this.oh=new kf;this.Gy=new Ae;this.Hy=new Ae}
function Wf(a,c){this.ea="Body"+Xf++;this.J=new Be;this.J.position.S(a.position);this.J.D.Set(a.M);this.q=new Ae;this.q.V.Ia();this.q.Nd=1;this.q.lf=this.q.T=a.M;this.q.I.x=this.J.D.u.x*this.q.V.x+this.J.D.A.x*this.q.V.y;this.q.I.y=this.J.D.u.y*this.q.V.x+this.J.D.A.y*this.q.V.y;this.q.I.x+=this.J.position.x;this.q.I.y+=this.J.position.y;this.q.Xc.S(this.q.I);this.C=a.R.Lc();this.k=V(0,0);this.K=a.Qj;this.Ib=a.j;this.Wa=a.k;this.Le=a.F;this.ra=a.vc;this.Me=c;this.Yb=null;this.ne=new Yf;this.qa=new Zf;
this.L=a.B;this.ub=a.tk;this.ab=a.Oj;this.R=this.F=0;this.pb=a.type;this.da=2==this.pb?1:0;this.P=2==this.pb?1:0;this.ca=this.j=0;this.bb=a.K;this.B=new $f;this.N=[]}function ag(a,c){var b=new bg(a,0,c);if(a.ra){var d=a.Me.j.j;b.Ec.Hj(b.j,a.J);var g=d.k,e=b.j,f=pf(b);f.hb.j.x=e.j.x-.1;f.hb.j.y=e.j.y-.1;f.hb.k.x=e.k.x+.1;f.hb.k.y=e.k.y+.1;of(g,f);d.j.push(f);b.k=f}d=a.B;g=b.Ru;null==d.j[g]&&(e=new cg(b),f=d.B,null!=f?f.next=e:d.k=e,e.Og(f),d.B=e,d.j[g]=e);b.qt=a;0<b.F&&dg(a);a.Me.k=!0}A=Wf.prototype;
A.Ud=function(){Ee(this.C);Ee(this.k)};function eg(a,c,b){a.J.D.Set(b);a.J.position.S(c);c=a.J.D;var d=a.q.V;a.q.I.x=c.u.x*d.x+c.A.x*d.y;a.q.I.y=c.u.y*d.x+c.A.y*d.y;a.q.I.x+=a.J.position.x;a.q.I.y+=a.J.position.y;a.q.Xc.S(a.q.I);a.q.lf=a.q.T=b;b=a.Me.j.j;for(c=a.B.tb();c;c=c.gb())fg(c.wf,b,a.J,a.J);gg(a.Me.j)}A.De=function(){return this.J};A.Ei=function(){return this.q.T};A.tv=function(a){eg(this,this.J.position,a)};function hg(a,c){0!=a.pb&&a.C.S(c)}
A.Pn=function(a){void 0===a&&(a=0);0!=this.pb&&(this.L=a)};A.Ci=function(a,c){2==this.pb&&(ig(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.F+=(c.x-this.q.I.x)*a.y-(c.y-this.q.I.y)*a.x)};A.$q=function(a){void 0===a&&(a=0);2==this.pb&&(ig(this,!0),this.F+=a)};
function dg(a){a.da=0;a.P=0;a.j=0;a.ca=0;a.q.V.Ia();if(0!=a.pb&&1!=a.pb){for(var c=V(0,0),b=a.B.tb();b;b=b.gb()){var d=b.wf;if(0!=d.F){var g=void 0,g=new Le;d.Ec.dl(g,d.F);d=g;a.da+=d.j;c.x+=d.k.x*d.j;c.y+=d.k.y*d.j;a.j+=d.B}}0<a.da?(a.P=1/a.da,c.x*=a.P,c.y*=a.P):(a.da=1,a.P=1);0<a.j&&!a.Ib?(a.j-=a.da*(c.x*c.x+c.y*c.y),a.j*=a.bb,a.ca=1/a.j):(a.j=0,a.ca=0);b=a.q.I.Lc();a.q.V.S(c);a.q.Xc.S(Yd(a.J,a.q.V));a.q.I.S(a.q.Xc);a.C.x+=a.L*-(a.q.I.y-b.y);a.C.y+=a.L*+(a.q.I.x-b.x);Ee(c);Ee(b)}}
function jg(a,c){var b=a.J.D,b=V(b.u.x*c.x+b.A.x*c.y,b.u.y*c.x+b.A.y*c.y);b.x+=a.J.position.x;b.y+=a.J.position.y;return b}A.hd=function(){return this.pb};function ig(a,c){if(a.Le!=c){a.Le=c;a.R=0;c||(a.C.Ia(),a.L=0,a.k.Ia(),a.F=0);for(var b=0;b<a.N.length;b++)kg(a.N[b],a)}}A.Kj=function(){return this.ra};A.Fi=function(){return this.ne};
function lg(a){mg.D.Set(a.q.lf);var c=mg.D,b=a.q.V;mg.position.x=a.q.Xc.x-(c.u.x*b.x+c.A.x*b.y);mg.position.y=a.q.Xc.y-(c.u.y*b.x+c.A.y*b.y);c=a.Me.j.j;for(b=a.B.tb();b;b=b.gb())fg(b.wf,c,mg,a.J)}function ng(a){a.J.D.Set(a.q.T);var c=a.J.D,b=a.q.V;a.J.position.x=a.q.I.x-(c.u.x*b.x+c.A.x*b.y);a.J.position.y=a.q.I.y-(c.u.y*b.x+c.A.y*b.y)}function og(a,c){if(2!=a.pb&&2!=c.pb)return!1;for(var b=a.Yb;b;b=b.next)if(b.ef==c&&0==b.dh.nx)return!1;return!0}
A.Bh=function(a){this.q.Bh(a);this.q.I.S(this.q.Xc);this.q.T=this.q.lf;ng(this)};var Xf=0;function pg(){this.position=V(0,0);this.R=V(0,0);this.Oj=this.tk=this.B=this.M=0;this.F=this.k=!0;this.Qj=this.j=!1;this.type=0;this.vc=!0;this.K=1}function qg(){this.k=[];for(var a=0;a<=rg;a++)this.k[a]=null;this.B=[];for(a=0;a<=rg;a++)this.B[a]=null;this.j={}}qg.prototype.tb=function(a){return this.k[a]};
function kg(a,c){var b=c.hd(),d=c.ea,g=c.Le,e=c.Kj();2==b?sg(a,c,d,tg):ug(a,d,tg);0!=b?sg(a,c,d,vg):ug(a,d,vg);0!=b&&e&&g?sg(a,c,d,wg):ug(a,d,wg);g?sg(a,c,d,xg):ug(a,d,xg);e?sg(a,c,d,yg):ug(a,d,yg)}qg.prototype.On=function(a){var c=a.ea;if(null!=this.j[c]){La(a.N,this);for(a=0;a<=rg;a++)ug(this,c,a);delete this.j[c]}};function ug(a,c,b){var d=a.j[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.j,c=c.gb(),null==d?a.k[b]=c:d.next=c,null==c?a.B[b]=d:c.Og(d)))}
function sg(a,c,b,d){var g=a.j[b];if(null==g){for(var g=[],e=0;e<=rg;e++)g[e]=null;a.j[b]=g}null==g[d]&&(g[d]=new zg(c),c=a.B[d],null!=c?c.next=g[d]:a.k[d]=g[d],g[d].Og(c),a.B[d]=g[d])}var tg=0,vg=1,yg=2,wg=3,xg=4,rg=5;function zg(a){this.body=a;this.j=this.next=null}zg.prototype.Og=function(a){this.j=a};zg.prototype.sb=function(){return this.body};zg.prototype.gb=function(){return this.next};function Ag(){}
Ag.prototype.j=function(a,c){var b=a.K.Lc(),d=c.K.Lc();return b.j==d.j&&0!=b.j?0<b.j:0!=(b.B&d.k)&&0!=(b.k&d.B)};var Bg=new Ag;function Cg(){this.j=[];this.k=[]}function Dg(){}Dg.prototype.BeginContact=function(){};Dg.prototype.EndContact=function(){};function Eg(a){this.Me=a;this.B=Bg;this.k=Fg;this.F=new Gg;this.j=new qf}
function gg(a){rf(a.j,function(c,b){a:{var d=c.sb(),g=b.sb();if(d!=g&&og(g,d)&&a.B.j(c,b)){for(d=g.ne.tb(Hg);d;d=d.gb())if(g=d.Pc.qc,g==c){if(g=d.Pc.gc,g==b)break a}else if(g==b&&(g=d.Pc.gc,g==c))break a;a.F.B(c,b)}}})}Eg.prototype.Ud=function(a){a.Fj&&this.k.EndContact(a);0<a.$e.hc&&(ig(a.qc.sb(),!0),ig(a.gc.sb(),!0));Ig(a.bo,a);Ig(a.co,a);Ig(a.Wq,a);this.F.Ud(a)};function Jg(){this.k=1;this.B=65535;this.j=0}Jg.prototype.Lc=function(){var a=new Jg;a.k=this.k;a.B=this.B;a.j=this.j;return a};
function bg(a,c,b){this.Ru="Fixture"+Kg++;this.K=b.j.Lc();this.j=Ye();this.qt=a;this.Ec=b.shape.Lc();this.F=b.Ph;this.R=b.Uh;this.N=b.qi;this.B=b.k}bg.prototype.sb=function(){return this.qt};bg.prototype.Ud=function(){Xe.push(this.j)};bg.prototype.el=function(a){null!=this.k&&(a.el(this.k),this.k=null)};
function fg(a,c,b,d){if(a.k){var g=Ye(),e=Ye();a.Ec.Hj(g,b);a.Ec.Hj(e,d);$e(a.j,g,e);Xe.push(g);Xe.push(e);b=$d(d.position,b.position);d=a.k;g=c.k;a=a.j;if(Ze(d.hb,a))a=!1;else{mf(g,d);var e=.1+2*Math.abs(b.x),f=.1+2*Math.abs(b.y);d.hb.j.x=a.j.x-e;d.hb.j.y=a.j.y-f;d.hb.k.x=a.k.x+e;d.hb.k.y=a.k.y+f;of(g,d);a=!0}a&&c.j.push(d);Ee(b)}}var Kg=0;function Lg(){this.j=new Jg;this.j.k=1;this.j.B=65535;this.j.j=0;this.shape=null;this.Uh=.2;this.Ph=this.qi=0;this.k=!1}
function $f(){this.B=this.k=null;this.j={}}$f.prototype.tb=function(){return this.k};function cg(a){this.wf=a;this.j=this.next=null}cg.prototype.Og=function(a){this.j=a};cg.prototype.gb=function(){return this.next};function Mg(a,c){this.ra=a;this.F=c;this.k=[];this.R=[];this.K=[];this.B=[];this.j=[]}function Ng(a){a.k=[];a.R=[];a.K=[];a.B=[];a.j=[]}function Og(a,c){if(null!=a.ra)for(var b=0;b<a.B.length;++b)for(var d=c[b],g=new Cg,e=0;e<d.K;++e)g.j[e]=d.B[e].ic,g.k[e]=d.B[e].Jg}
function Pg(a,c){a.k.push(c);0!=c.hd()&&(a.K.push(c),2==c.hd()&&a.R.push(c))}function Qg(a,c,b,d,g){this.Xa=a;var e=0;0<a&&(e=1/a);this.j=e;this.Ac=c;this.Pm=b;this.Cn=d;this.zh=g}function Rg(a,c){this.j=new Eg(this);this.B=new Sg;this.k=!1;this.Di=new qg;this.ne=new Yf;this.Yb=null;this.R=new Zf;this.N=0;this.ea=c;this.F=a;this.K=0;this.sE=Tg(this,new pg)}var Ug=1-100*Number.MIN_VALUE;function Tg(a,c){var b=new Wf(c,a),d=a.Di,g=b.ea;null==d.j[g]&&(sg(d,b,g,rg),kg(d,b),b.N.push(d));return b}
function Vg(a,c){for(var b=c.Yb;b;){var d=b,b=b.next;Wg(a,d.dh)}for(b=c.qa.tb();b;b=b.gb())b.RB.On(c);for(b=c.ne.tb(Hg);b;b=b.gb())a.j.Ud(b.Pc);for(b=c.B.tb();b;b=b.gb()){var d=c,g=b.wf,e=d.B,f=g.Ru,h=e.j[f];if(null!=h){var m=h.j,h=h.gb();null==m?e.k=h:m.next=h;null==h?e.B=m:h.Og(m);delete e.j[f]}for(e=d.ne.tb(Hg);e;e=e.gb())g!=e.Pc.qc&&g!=e.Pc.gc||d.Me.j.Ud(e.Pc);d.ra&&g.el(d.Me.j.j);g.Ud();g.qt=null;dg(d)}c.Ud();a.Di.On(c)}
function Xg(a,c){var b=c.B();b.zk=null;if(b.ei=a.Yb)a.Yb.zk=b;a.Yb=b;a.N++;b.$d.dh=b;b.$d.ef=b.ja;b.$d.prev=null;if(b.$d.next=b.fa.Yb)b.fa.Yb.prev=b.$d;b.fa.Yb=b.$d;b.ae.dh=b;b.ae.ef=b.fa;b.ae.prev=null;if(b.ae.next=b.ja.Yb)b.ja.Yb.prev=b.ae;b.ja.Yb=b.ae;var d=c.j,g=c.k;if(!c.R)for(var e=g.ne.tb(Hg);e;e=e.gb())Yg(e.Pc,g)==d&&(e.Pc.Bl=!0);return b}
function Wg(a,c){var b=c.nx;c.zk&&(c.zk.ei=c.ei);c.ei&&(c.ei.zk=c.zk);c==a.Yb&&(a.Yb=c.ei);var d=c.fa,g=c.ja;ig(d,!0);ig(g,!0);c.$d.prev&&(c.$d.prev.next=c.$d.next);c.$d.next&&(c.$d.next.prev=c.$d.prev);c.$d==d.Yb&&(d.Yb=c.$d.next);c.$d.prev=null;c.$d.next=null;c.ae.prev&&(c.ae.prev.next=c.ae.next);c.ae.next&&(c.ae.next.prev=c.ae.prev);c.ae==g.Yb&&(g.Yb=c.ae.next);c.ae.prev=null;c.ae.next=null;a.N--;if(!b)for(b=g.ne.tb(Hg);b;b=b.gb())Yg(b.Pc,g)==d&&(b.Pc.Bl=!0)}
Rg.prototype.Eh=function(a,c,b){var d,g;this.k&&(gg(this.j),this.k=!1);for(var e=new Qg(a,this.K*a,c,b,!0),f=this.j,h=f.Me.ne.tb(Hg);h;h=h.gb()){var m=h.Pc,l=m.qc,k=m.gc,n=l.sb(),q=k.sb();if(0!=n.Le||0!=q.Le){if(m.Bl){if(0==og(q,n)){f.Ud(m);continue}if(0==f.B.j(l,k)){f.Ud(m);continue}m.Bl=!1}0==f.j.il(l.k,k.k)?f.Ud(m):Zg(m,f.k)}}if(0<e.Xa){for(var r=this.R.tb();r;r=r.gb())r.RB.Eh(e);for(var v=new Mg(this.j.k,this.B),t=this.Di.tb(rg);t;t=t.gb())t.body.Tb=!1;for(var p=this.ne.tb(Hg);p;p=p.gb())p.Pc.Tb=
!1;for(var u=this.Yb;u;u=u.ei)u.Tb=!1;for(t=this.Di.tb(wg);t;t=t.gb()){var x=t.body;if(!x.Tb){Ng(v);$g.length=0;var z=$g;z.push(x);for(x.Tb=!0;0<z.length;){var D=z.pop();Pg(v,D);D.Le||ig(D,!0);if(0!=D.hd()){for(p=D.ne.tb(gh);p;p=p.gb()){var B=p.Pc;if(!B.Tb){v.B.push(B);B.Tb=!0;var E=Yg(B,D);E.Tb||(z.push(E),E.Tb=!0)}}for(var C=D.Yb;C;C=C.next)!C.dh.Tb&&C.ef.Kj()&&(v.j.push(C.dh),C.dh.Tb=!0,C.ef.Tb||(z.push(C.ef),C.ef.Tb=!0))}}for(var w=v,y=e,G=this.ea,I=w,T=y,da=this.F,Q=0;Q<I.R.length;Q++){var F=
I.R[Q];F.C.x+=T.Xa*(da.x+F.P*F.k.x);F.C.y+=T.Xa*(da.y+F.P*F.k.y);F.L+=T.Xa*F.ca*F.F;F.C.Se(ae(1-T.Xa*F.ub,0,1));F.L*=ae(1-T.Xa*F.ab,0,1)}hh(w.F,w.B,w.B.length);for(var Z=w,S=y,R=Z.F,J=0;J<R.k;++J){var M=R.j[J],O=M.j,K=M.k,N=O.P,U=O.ca,ga=K.P,P=K.ca,qa=M.F.x,ma=M.F.y,Xa=ma,Rd=-qa,Ma=0,Nb=0;if(S.zh)for(Nb=M.K,Ma=0;Ma<Nb;++Ma){var xa=M.B[Ma];xa.ic*=S.Ac;xa.Jg*=S.Ac;var zb=xa.ic*qa+xa.Jg*Xa,wb=xa.ic*ma+xa.Jg*Rd;O.L-=U*(xa.Zb.x*wb-xa.Zb.y*zb);O.C.x-=N*zb;O.C.y-=N*wb;K.L+=P*(xa.$b.x*wb-xa.$b.y*zb);K.C.x+=
ga*zb;K.C.y+=ga*wb}else for(Nb=M.K,Ma=0;Ma<Nb;++Ma){var ha=M.B[Ma];ha.ic=0;ha.Jg=0}}for(var dd=0;dd<Z.j.length;dd++)Z.j[dd].lg(S);for(var cc=0;cc<S.Cn;cc++){for(var Ga=0;Ga<Z.j.length;Ga++)Z.j[Ga].ng(S);ih(Z.F)}for(var Ob=0;Ob<Z.j.length;Ob++);for(var Pb=Z.F,yb=0;yb<Pb.k;++yb)for(var Ue=Pb.j[yb],Ji=Ue.ra,Sd=0;Sd<Ue.K;++Sd){var ah=Ji.Ea[Sd],bh=Ue.B[Sd];ah.qj=bh.ic;ah.rj=bh.Jg}for(var ch=w,xb=y,Ve=0;Ve<ch.K.length;++Ve){var ia=ch.K[Ve],dh=xb.Xa*ia.C.x,eh=xb.Xa*ia.C.y;4<dh*dh+eh*eh&&(He(ia.C),ia.C.x=
2*ia.C.x*xb.j,ia.C.y=2*ia.C.y*xb.j);var fh=xb.Xa*ia.L;fh*fh>Od&&(ia.L=0>ia.L?-Nd*xb.j:Nd*xb.j);ia.q.Xc.S(ia.q.I);ia.q.lf=ia.q.T;ia.q.I.x+=xb.Xa*ia.C.x;ia.q.I.y+=xb.Xa*ia.C.y;ia.q.T+=xb.Xa*ia.L;ng(ia)}for(var We=w,Ki=y,Uh=0;Uh<Ki.Pm;Uh++){for(var Yi=jh(We.F,.2),zf=!0,Af=0;Af<We.j.length;Af++)var Zi=We.j[Af].mg(.2),zf=zf&&Zi;if(Yi&&zf)break}Og(w,w.F.j);if(G){for(var ke=w,$i=y,le=Number.MAX_VALUE,Bf=0;Bf<ke.K.length;Bf++){var Rb=ke.K[Bf];!Rb.Wa||Math.abs(Rb.L)>Pd||1E-4<Td(Rb.C,Rb.C)?le=Rb.R=0:(Rb.R+=
$i.Xa,le=Math.min(le,Rb.R))}if(.5<=le)for(var Cf=0;Cf<ke.k.length;Cf++)ig(ke.k[Cf],!1)}}}for(t=this.Di.tb(wg);t;t=t.gb())lg(t.body);gg(this.j);for(var Da=new Mg(this.j.k,this.B),me=this.Di.tb(rg);me;me=me.gb()){var Cb=me.body;Cb.Tb=!1;Cb.q.Nd=0}for(var Sa=this.ne.tb(Hg);Sa;Sa=Sa.gb())Sa.Pc.Tb=!1,Sa.Pc.j=null;for(var ne=this.Yb;ne;ne=ne.ei)ne.Tb=!1;for(;;){for(var Wh=null,Df=1,oe=this.ne.tb(kh);oe;oe=oe.gb()){var mb=oe.Pc,Xh=mb.qc.sb(),Yh=mb.gc.sb();if(2==Xh.hd()&&Xh.Le||2==Yh.hd()&&Yh.Le){var fb=
1;if(null!=mb.j)fb=mb.j;else if(mb.Fj)fb=1,mb.j=fb;else{var Gc=mb.qc.sb(),od=mb.gc.sb(),pd=Gc.q.Nd;Gc.q.Nd<od.q.Nd?(pd=od.q.Nd,Gc.q.Bh(pd)):od.q.Nd<Gc.q.Nd&&(pd=Gc.q.Nd,od.q.Bh(pd));var Zh=mb,aj=Gc.q,bj=od.q;lh.nh.Set(Zh.qc.Ec);lh.oh.Set(Zh.gc.Ec);lh.Gy=aj;lh.Hy=bj;lh.CF=.005;var qd=lh;mh++;var Ff=qd.nh,Gf=qd.oh,Hf=qd.Gy,If=qd.Hy,pe=Ff.ob+Gf.ob,qe=qd.CF,nb=0,rd=0,Hc=0;nh.count=0;for(oh.B=!1;;){Hf.De(Ef,nb);If.De(Jf,nb);oh.nh=Ff;oh.oh=Gf;oh.j=Ef;oh.k=Jf;df(ph,nh,oh);if(0>=ph.B){nb=1;break}var dj=Gf,
W=yf,Ja=nh,ob=Ef,pb=Jf;W.k=Ff;W.B=dj;var Sb=void 0,qb=void 0,Hb=void 0,Tb=void 0,rb=void 0,Ib=void 0,Jc=0,Kc=0,Lc=0,Mc=0,re=0,se=0,X=void 0,Y=void 0,gb=0;if(1==Ja.count)W.pb=Qf,Sb=ff(W.k,Ja.nc[0]),Tb=ff(W.B,Ja.oc[0]),Y=Sb,X=ob.D,Jc=ob.position.x+(X.u.x*Y.x+X.A.x*Y.y),Kc=ob.position.y+(X.u.y*Y.x+X.A.y*Y.y),Y=Tb,X=pb.D,Lc=pb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Mc=pb.position.y+(X.u.y*Y.x+X.A.y*Y.y),W.j.x=Lc-Jc,W.j.y=Mc-Kc,He(W.j);else{if(Ja.oc[0]==Ja.oc[1])W.pb=Rf,qb=ff(W.k,Ja.nc[0]),Hb=ff(W.k,Ja.nc[1]),
Tb=ff(W.B,Ja.oc[0]),W.Oa.x=.5*(qb.x+Hb.x),W.Oa.y=.5*(qb.y+Hb.y),W.j=Vd($d(Hb,qb)),He(W.j),Y=W.j,X=ob.D,re=X.u.x*Y.x+X.A.x*Y.y,se=X.u.y*Y.x+X.A.y*Y.y,Y=W.Oa,X=ob.D,Jc=ob.position.x+(X.u.x*Y.x+X.A.x*Y.y),Kc=ob.position.y+(X.u.y*Y.x+X.A.y*Y.y),Y=Tb,X=pb.D,Lc=pb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Mc=pb.position.y+(X.u.y*Y.x+X.A.y*Y.y),gb=(Lc-Jc)*re+(Mc-Kc)*se;else if(Ja.nc[0]==Ja.nc[0])W.pb=Sf,rb=ff(W.B,Ja.oc[0]),Ib=ff(W.B,Ja.oc[1]),Sb=ff(W.k,Ja.nc[0]),W.Oa.x=.5*(rb.x+Ib.x),W.Oa.y=.5*(rb.y+Ib.y),W.j=Vd($d(Ib,
rb)),He(W.j),Y=W.j,X=pb.D,re=X.u.x*Y.x+X.A.x*Y.y,se=X.u.y*Y.x+X.A.y*Y.y,Y=W.Oa,X=pb.D,Lc=pb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Mc=pb.position.y+(X.u.y*Y.x+X.A.y*Y.y),Y=Sb,X=ob.D,Jc=ob.position.x+(X.u.x*Y.x+X.A.x*Y.y),Kc=ob.position.y+(X.u.y*Y.x+X.A.y*Y.y),gb=(Jc-Lc)*re+(Kc-Mc)*se;else{var qb=ff(W.k,Ja.nc[0]),Hb=ff(W.k,Ja.nc[1]),rb=ff(W.B,Ja.oc[0]),Ib=ff(W.B,Ja.oc[1]),Jb=Wd(ob.D,$d(Hb,qb)),Kb=Wd(pb.D,$d(Ib,rb)),ai=Jb.x*Jb.x+Jb.y*Jb.y,Kf=Kb.x*Kb.x+Kb.y*Kb.y,te=$d(Kb,Jb),bi=Jb.x*te.x+Jb.y*te.y,ci=Kb.x*
te.x+Kb.y*te.y,sd=Jb.x*Kb.x+Jb.y*Kb.y,di=ai*Kf-sd*sd,gb=0;0!=di&&(gb=ae((sd*ci-bi*Kf)/di,0,1));0>(sd*gb+ci)/Kf&&(gb=ae((sd-bi)/ai,0,1));Sb=V(0,0);Sb.x=qb.x+gb*(Hb.x-qb.x);Sb.y=qb.y+gb*(Hb.y-qb.y);Tb=V(0,0);Tb.x=rb.x+gb*(Ib.x-rb.x);Tb.y=rb.y+gb*(Ib.y-rb.y);0==gb||1==gb?(W.pb=Sf,W.j=Vd($d(Ib,rb)),He(W.j),W.Oa=Tb):(W.pb=Rf,W.j=Vd($d(Hb,qb)),W.Oa=Sb)}if(0>gb){var ue=W.j;ue.x=-ue.x;ue.y=-ue.y}}var td=xf();if(0>=td){nb=1;break}0==rd&&(Hc=td>pe?Math.max(pe-qe,.75*pe):Math.max(td-qe,.02*pe));if(td-Hc<.5*
qe){if(0==rd){nb=1;break}break}var Lf=nb,ve=nb,ud=1,Mf=td;Hf.De(Ef,ud);If.De(Jf,ud);var Nf=xf();if(Nf>=Hc){nb=1;break}for(var we=0;;){var Nc=0,Nc=we&1?ve+(Hc-Mf)*(ud-ve)/(Nf-Mf):.5*(ve+ud);Hf.De(Ef,Nc);If.De(Jf,Nc);var xe=xf();if(Math.abs(xe-Hc)<.025*qe){Lf=Nc;break}xe>Hc?(ve=Nc,Mf=xe):(ud=Nc,Nf=xe);we++;qh++;if(50==we)break}rh=Math.max(rh,we);if(Lf<(1+100*Number.MIN_VALUE)*nb)break;nb=Lf;rd++;sh++;if(1E3==rd)break}th=Math.max(th,rd);fb=nb;0<fb&&1>fb&&(fb=(1-fb)*pd+fb);mb.j=fb}Number.MIN_VALUE<fb&&
fb<Df&&(Wh=mb,Df=fb)}}d=Wh;g=Df;var Ub=d,Oc=g;if(null===Ub||Ug<Oc)break;var vd=Ub.qc.sb(),wd=Ub.gc.sb();uh.Set(vd.q);vh.Set(wd.q);vd.Bh(Oc);wd.Bh(Oc);Zg(Ub,this.j.k);Ub.j=null;if(Ub.K||!Ub.enabled)vd.q.Set(uh),wd.q.Set(vh),ng(vd),ng(wd);else if(Ub.Fj){var ye=vd;2!=ye.hd()&&(ye=wd);Ng(Da);$g.length=0;var xd=$g;xd.push(ye);for(ye.Tb=!0;0<xd.length;)if(Cb=xd.pop(),Pg(Da,Cb),Cb.Le||ig(Cb,!0),2==Cb.hd()){for(Sa=Cb.ne.tb(gh);Sa&&32!=Da.ea;Sa=Sa.gb()){var ze=Sa.Pc;if(!ze.Tb){Da.B.push(ze);ze.Tb=!0;var Pc=
Yg(ze,Cb);Pc.Tb||(0!=Pc.hd()&&(Pc.Bh(Oc),ig(Pc,!0),xd.push(Pc)),Pc.Tb=!0)}}for(var hb=Cb.Yb;hb;hb=hb.next)32!=Da.N&&!hb.dh.Tb&&hb.ef.Kj()&&(Da.j.push(hb.dh),hb.dh.Tb=!0,hb.ef.Tb||(0!=hb.ef.hd()&&(hb.ef.Bh(Oc),ig(hb.ef,!0),xd.push(hb.ef)),hb.ef.Tb=!0))}var ib=Da,bb=new Qg((1-Oc)*e.Xa,0,e.Cn,e.Pm,!1),cb=0,Vb=0;hh(ib.F,ib.B,ib.B.length);for(var Of=ib.F,cb=0;cb<ib.j.length;++cb)ib.j[cb].lg(bb);for(cb=0;cb<bb.Cn;++cb)for(ih(Of),Vb=0;Vb<ib.j.length;++Vb)ib.j[Vb].ng(bb);for(cb=0;cb<ib.K.length;++cb){var ka=
ib.K[cb],ii=bb.Xa*ka.C.x,ji=bb.Xa*ka.C.y;4<ii*ii+ji*ji&&(He(ka.C),ka.C.x=2*ka.C.x*bb.j,ka.C.y=2*ka.C.y*bb.j);var ki=bb.Xa*ka.L;ki*ki>Od&&(ka.L=0>ka.L?-Nd*bb.j:Nd*bb.j);ka.q.Xc.S(ka.q.I);ka.q.lf=ka.q.T;ka.q.I.x+=bb.Xa*ka.C.x;ka.q.I.y+=bb.Xa*ka.C.y;ka.q.T+=bb.Xa*ka.L;ng(ka)}for(cb=0;cb<bb.Pm;++cb){for(var gj=jh(Of,.75),Pf=!0,Vb=0;Vb<ib.j.length;++Vb)var hj=ib.j[Vb].mg(.2),Pf=Pf&&hj;if(gj&&Pf)break}Og(ib,Of.j);for(var Na=0;Na<Da.k.length;Na++)if(Da.k[Na].Tb=!1,Da.k[Na].Le&&2==Da.k[Na].hd())for(lg(Da.k[Na]),
Sa=Da.k[Na].ne.tb(Hg);Sa;Sa=Sa.gb())Sa.Pc.j=null;for(Na=0;Na<Da.ea;Na++)Da.B[Na].Tb=!1,Da.B[Na].j=null;for(Na=0;Na<Da.N;Na++)Da.j[Na].Tb=!1;gg(this.j)}}this.K=e.j}};Rg.prototype.Fi=function(){return this.ne};var $g=[];function wh(a,c){this.k="Contact"+xh++;this.$e=new vf;this.F=new vf;this.Fj=!1;var b=a.sb(),d=c.sb();this.R=2!=b.hd()||b.K||2!=d.hd()||d.K;this.K=a.B||c.B;this.Bl=!1;this.qc=a;this.gc=c;this.enabled=!0;this.bo=b.Fi();this.co=d.Fi();this.Wq=d.Me.Fi();yh(this)}
wh.prototype.Wc=function(a,c){this.$e.Wc();this.F.Wc();this.Fj=!1;var b=a.sb(),d=c.sb();this.R=2!=b.hd()||b.K||2!=d.hd()||d.K;this.K=a.B||c.B;this.Bl=!1;this.qc=a;this.gc=c;this.enabled=!0;this.bo=b.Fi();this.co=d.Fi();this.Wq=d.Me.Fi();yh(this)};function yh(a){zh(a.bo,a);zh(a.co,a);zh(a.Wq,a);Ah(a)}function Ah(a){var c=!1,b=!1;!a.K&&a.enabled&&(a.Fj&&(c=!0),a.R&&(b=!0));Bh(a.bo,a,c,b);Bh(a.co,a,c,b);Bh(a.Wq,a,c,b)}wh.prototype.Of=function(a){this.enabled=a;Ah(this)};
function Yg(a,c){var b=a.qc.sb();return b!=c?b:a.gc.sb()}
function Zg(a,c){var b=a.F;a.F=a.$e;a.$e=b;a.enabled=!0;var d=!1,b=a.Fj,g=a.qc.sb(),e=a.gc.sb(),f=a.qc.j.il(a.gc.j);if(a.K){if(f){var d=a.qc.Ec,g=g.De(),f=a.gc.Ec,h=e.De(),e=new hf;e.nh=new kf;e.nh.Set(d);e.oh=new kf;e.oh.Set(f);e.j=g;e.k=h;e.B=!0;g=new Uf;g.count=0;d=new jf;df(d,g,e);d=d.B<10*Number.MIN_VALUE}a.$e.hc=0}else{a.R=2!=g.hd()||g.K||2!=e.hd()||e.K?!0:!1;if(f)for(a.B(),d=0<a.$e.hc,f=0;f<a.$e.hc;f++){h=a.$e.Ea[f];h.qj=0;for(var m=h.rj=0;m<a.F.hc;m++){var l=a.F.Ea[m];if(l.Bf.lc==h.Bf.lc){h.qj=
l.qj;h.rj=l.rj;break}}}else a.$e.hc=0;d!=b&&(ig(g,!0),ig(e,!0))}a.Fj=d;d!=b&&Ah(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}wh.prototype.B=function(){};var lh=new Vf,xh=0;function Ch(a,c){wh.call(this,a,c)}Kd(Ch,wh);Ch.prototype.Wc=function(a,c){wh.prototype.Wc.call(this,a,c)};
Ch.prototype.B=function(){var a=this.$e,c=this.qc.Ec,b=this.qc.sb().J,d=this.gc.Ec,g=this.gc.sb().J;a.hc=0;var e=g.position.x+(g.D.u.x*d.Gb.x+g.D.A.x*d.Gb.y)-(b.position.x+(b.D.u.x*c.Gb.x+b.D.A.x*c.Gb.y)),b=g.position.y+(g.D.u.y*d.Gb.x+g.D.A.y*d.Gb.y)-(b.position.y+(b.D.u.y*c.Gb.x+b.D.A.y*c.Gb.y)),g=c.ob+d.ob;e*e+b*b>g*g||(a.pb=1,a.Oa.S(c.Gb),a.cd.Ia(),a.hc=1,a.Ea[0].Oa.S(d.Gb),Re(a.Ea[0].Bf,0))};
function Dh(){this.R=V(0,0);this.fc=V(0,0);this.F=V(0,0);this.ih=new be;this.N=new be;this.B=[];for(var a=0;2>a;a++)this.B[a]=new Eh}function Eh(){this.fc=V(0,0);this.Zb=V(0,0);this.$b=V(0,0)}Eh.prototype.Wc=function(){this.fc.Set(0,0);this.Zb.Set(0,0);this.$b.Set(0,0)};
function Gg(){this.j={};this.k={};Fh(this,Ch,"b2CircleShape","b2CircleShape");Fh(this,Gh,"b2PolygonShape","b2CircleShape");Fh(this,Hh,"b2PolygonShape","b2PolygonShape");Fh(this,Ih,"b2EdgeShape","b2CircleShape");Fh(this,Jh,"b2PolygonShape","b2EdgeShape")}function Fh(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.j[b]=a.j[b]||{};a.j[b][d]=new Kh;a.j[b][d].Qv=c;a.j[b][d].Yx=!0;b!=d&&(a.j[d]=a.j[d]||{},a.j[d][b]=new Kh,a.j[d][b].Qv=c,a.j[d][b].Yx=!1)}
Gg.prototype.B=function(a,c){var b=a.Ec.Gi(),d=c.Ec.Gi(),g=this.j[b][d],e=g.Qv;return null!=e?g.Yx?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.Wc(a,c),b):new e(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.Wc(c,a),b):new e(c,a):null};Gg.prototype.Ud=function(a){this.k[a.qc.Ec.Gi()][a.gc.Ec.Gi()].push(a)};function Yf(){this.k=[];for(var a=0;a<=Hg;a++)this.k[a]=null;this.B=[];for(a=0;a<=Hg;a++)this.B[a]=null;this.j={}}Yf.prototype.tb=function(a){return this.k[a]};
function zh(a,c){var b=c.k;if(null==a.j[b]){a.j[b]=[];for(var d=0;d<=Hg;d++)a.j[b][d]=null;Lh(a,c,b,Hg)}}function Bh(a,c,b,d){b?Lh(a,c,c.k,gh):Mh(a,c.k,gh);d?Lh(a,c,c.k,kh):Mh(a,c.k,kh)}function Ig(a,c){var b=c.k;if(null!=a.j[b]){for(var d=0;d<=Hg;d++)Mh(a,b,d);delete a.j[b]}}function Mh(a,c,b){var d=a.j[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.j,g=c.gb();null==d?a.k[b]=g:d.next=g;null==g?a.B[b]=d:g.Og(d);Nh.push(c)}}
function Lh(a,c,b,d){b=a.j[b];if(null==b[d]){if(0<Nh.length){var g=Nh.pop();g.next=null;g.j=null;g.Pc=c;c=g}else c=new Oh(c);b[d]=c;c=a.B[d];null!=c?(c.next=b[d],b[d].Og(c)):a.k[d]=b[d];a.B[d]=b[d]}}var gh=0,kh=1,Hg=2;function Oh(a){this.Pc=a;this.j=this.next=null}var Nh=[];Oh.prototype.Og=function(a){this.j=a};Oh.prototype.gb=function(){return this.next};function Kh(){}function Sg(){this.j=[]}
function hh(a,c,b){for(a.k=b;a.j.length<a.k;)a.j[a.j.length]=new Dh;for(var d=0;d<b;d++){var g=c[d],e=g.qc,f=g.gc,h=e.Ec.ob,m=f.Ec.ob,l=e.sb(),k=f.sb(),g=g.$e,n=Math.sqrt(e.R*f.R),q,e=e.N,f=f.N;q=e>f?e:f;var f=l.C.x,e=l.C.y,r=k.C.x,v=k.C.y,t=l.L,p=k.L,u=g,x=l.J,z=h,D=k.J,B=m,E=Ph;if(0!=u.hc){var C=0,w=void 0,y=void 0,G=0,I=0,T=0,da=0,Q=0,w=0;switch(u.pb){case 1:y=x.D;w=u.Oa;C=x.position.x+y.u.x*w.x+y.A.x*w.y;x=x.position.y+y.u.y*w.x+y.A.y*w.y;y=D.D;w=u.Ea[0].Oa;u=D.position.x+y.u.x*w.x+y.A.x*w.y;
D=D.position.y+y.u.y*w.x+y.A.y*w.y;w=u-C;y=D-x;G=w*w+y*y;G>Qd?(G=Math.sqrt(G),E.j.x=w/G,E.j.y=y/G):(E.j.x=1,E.j.y=0);w=x+z*E.j.y;D=D-B*E.j.y;E.Ea[0].x=.5*(C+z*E.j.x+(u-B*E.j.x));E.Ea[0].y=.5*(w+D);break;case 2:y=x.D;w=u.cd;G=y.u.x*w.x+y.A.x*w.y;I=y.u.y*w.x+y.A.y*w.y;y=x.D;w=u.Oa;T=x.position.x+y.u.x*w.x+y.A.x*w.y;da=x.position.y+y.u.y*w.x+y.A.y*w.y;E.j.x=G;E.j.y=I;for(C=0;C<u.hc;C++)y=D.D,w=u.Ea[C].Oa,Q=D.position.x+y.u.x*w.x+y.A.x*w.y,w=D.position.y+y.u.y*w.x+y.A.y*w.y,E.Ea[C].x=Q+.5*(z-(Q-T)*G-
(w-da)*I-B)*G,E.Ea[C].y=w+.5*(z-(Q-T)*G-(w-da)*I-B)*I;break;case 4:for(y=D.D,w=u.cd,G=y.u.x*w.x+y.A.x*w.y,I=y.u.y*w.x+y.A.y*w.y,y=D.D,w=u.Oa,T=D.position.x+y.u.x*w.x+y.A.x*w.y,da=D.position.y+y.u.y*w.x+y.A.y*w.y,E.j.x=-G,E.j.y=-I,C=0;C<u.hc;C++)y=x.D,w=u.Ea[C].Oa,Q=x.position.x+y.u.x*w.x+y.A.x*w.y,w=x.position.y+y.u.y*w.x+y.A.y*w.y,E.Ea[C].x=Q+.5*(B-(Q-T)*G-(w-da)*I-z)*G,E.Ea[C].y=w+.5*(B-(Q-T)*G-(w-da)*I-z)*I}}B=Ph.j.x;E=Ph.j.y;z=a.j[d];z.j=l;z.k=k;z.ra=g;z.F.x=B;z.F.y=E;z.K=g.hc;z.Uh=n;z.qi=q;z.R.x=
g.cd.x;z.R.y=g.cd.y;z.fc.x=g.Oa.x;z.fc.y=g.Oa.y;z.ea=h+m;z.type=g.pb;for(h=0;h<z.K;++h)n=g.Ea[h],m=z.B[h],m.ic=n.qj,m.Jg=n.rj,m.fc.S(n.Oa),n=m.Zb.x=Ph.Ea[h].x-l.q.I.x,q=m.Zb.y=Ph.Ea[h].y-l.q.I.y,D=m.$b.x=Ph.Ea[h].x-k.q.I.x,C=m.$b.y=Ph.Ea[h].y-k.q.I.y,u=n*E-q*B,w=D*E-C*B,u*=u,w*=w,m.ih=1/(l.P+k.P+l.ca*u+k.ca*w),y=l.da*l.P+k.da*k.P,y+=l.da*l.ca*u+k.da*k.ca*w,m.CC=1/y,w=E,y=-B,u=n*y-q*w,w=D*y-C*w,u*=u,w*=w,m.AF=1/(l.P+k.P+l.ca*u+k.ca*w),m.Bn=0,n=z.F.x*(r+-p*C-f- -t*q)+z.F.y*(v+p*D-e-t*n),-1>n&&(m.Bn+=
-z.qi*n);2==z.K&&(v=z.B[0],r=z.B[1],g=l.P,l=l.ca,f=k.P,k=k.ca,e=v.Zb.x*E-v.Zb.y*B,v=v.$b.x*E-v.$b.y*B,t=r.Zb.x*E-r.Zb.y*B,h=r.$b.x*E-r.$b.y*B,r=g+f+l*e*e+k*v*v,p=g+f+l*t*t+k*h*h,k=g+f+l*e*t+k*v*h,r*r<100*(r*p-k*k)?(z.N.u.Set(r,k),z.N.A.Set(k,p),ee(z.N,z.ih)):z.K=1)}}
function ih(a){for(var c=0;c<a.k;c++){for(var b=a.j[c],d=b.F.x,g=b.F.y,e=0;e<b.K;e++){var f=b,h=b.B[e],m=f.F.y,l=-f.F.x,k=f.Uh*h.ic,k=ae(h.Jg-h.AF*((f.k.C.x-f.k.L*h.$b.y-f.j.C.x+f.j.L*h.Zb.y)*m+(f.k.C.y+f.k.L*h.$b.x-f.j.C.y-f.j.L*h.Zb.x)*l),-k,k),n=k-h.Jg,m=n*m,l=n*l;f.j.C.x-=f.j.P*m;f.j.C.y-=f.j.P*l;f.j.L-=f.j.ca*(h.Zb.x*l-h.Zb.y*m);f.k.C.x+=f.k.P*m;f.k.C.y+=f.k.P*l;f.k.L+=f.k.ca*(h.$b.x*l-h.$b.y*m);h.Jg=k}if(1==b.K)e=b.B[0],f=e.ic-e.ih*((b.k.C.x-b.k.L*e.$b.y-b.j.C.x+b.j.L*e.Zb.y)*d+(b.k.C.y+b.k.L*
e.$b.x-b.j.C.y-b.j.L*e.Zb.x)*g-e.Bn),f=0<f?f:0,h=f-e.ic,d=h*d,g=h*g,b.j.C.x-=b.j.P*d,b.j.C.y-=b.j.P*g,b.j.L-=b.j.ca*(e.Zb.x*g-e.Zb.y*d),b.k.C.x+=b.k.P*d,b.k.C.y+=b.k.P*g,b.k.L+=b.k.ca*(e.$b.x*g-e.$b.y*d),e.ic=f;else for(e=b.B[0],f=b.B[1],h=e.ic,l=f.ic,k=(b.k.C.x-b.k.L*e.$b.y-b.j.C.x+b.j.L*e.Zb.y)*d+(b.k.C.y+b.k.L*e.$b.x-b.j.C.y-b.j.L*e.Zb.x)*g-e.Bn,g=(b.k.C.x-b.k.L*f.$b.y-b.j.C.x+b.j.L*f.Zb.y)*d+(b.k.C.y+b.k.L*f.$b.x-b.j.C.y-b.j.L*f.Zb.x)*g-f.Bn,k-=b.N.u.x*h+b.N.A.x*l,g-=b.N.u.y*h+b.N.A.y*l;;){d=
-(b.ih.u.x*k+b.ih.A.x*g);if(0<=d&&(m=-(b.ih.u.y*k+b.ih.A.y*g),0<=m)){Qh(b,e,f,d-h,m-l);e.ic=d;f.ic=m;break}d=-e.ih*k;if(0<=d&&0<=b.N.u.y*d+g){Qh(b,e,f,d-h,-l);e.ic=d;f.ic=0;break}d=-f.ih*g;if(0<=d&&0<=b.N.A.x*d+k){Qh(b,e,f,-h,d-l);e.ic=0;f.ic=d;break}if(0<=k&&0<=g){Qh(b,e,f,-h,-l);e.ic=0;f.ic=0;break}break}}}
function Qh(a,c,b,d,g){var e=d*a.F.x;d*=a.F.y;var f=g*a.F.x;g*=a.F.y;a.j.C.x-=a.j.P*(e+f);a.j.C.y-=a.j.P*(d+g);a.j.L-=a.j.ca*(c.Zb.x*d-c.Zb.y*e+b.Zb.x*g-b.Zb.y*f);a.k.C.x+=a.k.P*(e+f);a.k.C.y+=a.k.P*(d+g);a.k.L+=a.k.ca*(c.$b.x*d-c.$b.y*e+b.$b.x*g-b.$b.y*f);c.ic=0;b.ic=0}
function jh(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var g=a.j[d],e=g.j,f=g.k,h=e.da*e.P,m=e.da*e.ca,l=f.da*f.P,k=f.da*f.ca,n=g,q=Rh;switch(n.type){case 1:var r=n.j.J.D,v=n.fc,t=n.j.J.position.x+(r.u.x*v.x+r.A.x*v.y),p=n.j.J.position.y+(r.u.y*v.x+r.A.y*v.y),r=n.k.J.D,v=n.B[0].fc,u=n.k.J.position.x+(r.u.x*v.x+r.A.x*v.y),r=n.k.J.position.y+(r.u.y*v.x+r.A.y*v.y),v=u-t,x=r-p,z=v*v+x*x;z>Qd?(z=Math.sqrt(z),q.j.x=v/z,q.j.y=x/z):(q.j.x=1,q.j.y=0);q.Ea[0].x=.5*(t+u);q.Ea[0].y=.5*(p+r);q.k[0]=v*q.j.x+
x*q.j.y-n.ea;break;case 2:q.j.x=n.j.J.D.u.x*n.R.x+n.j.J.D.A.x*n.R.y;q.j.y=n.j.J.D.u.y*n.R.x+n.j.J.D.A.y*n.R.y;t=n.j.J.position.x+(n.j.J.D.u.x*n.fc.x+n.j.J.D.A.x*n.fc.y);p=n.j.J.position.y+(n.j.J.D.u.y*n.fc.x+n.j.J.D.A.y*n.fc.y);for(u=0;u<n.K;u++)r=n.k.J.position.x+(n.k.J.D.u.x*n.B[u].fc.x+n.k.J.D.A.x*n.B[u].fc.y),v=n.k.J.position.y+(n.k.J.D.u.y*n.B[u].fc.x+n.k.J.D.A.y*n.B[u].fc.y),q.k[u]=(r-t)*q.j.x+(v-p)*q.j.y-n.ea,q.Ea[u].x=r,q.Ea[u].y=v;break;case 4:q.j.x=n.k.J.D.u.x*n.R.x+n.k.J.D.A.x*n.R.y;q.j.y=
n.k.J.D.u.y*n.R.x+n.k.J.D.A.y*n.R.y;t=n.k.J.position.x+(n.k.J.D.u.x*n.fc.x+n.k.J.D.A.x*n.fc.y);p=n.k.J.position.y+(n.k.J.D.u.y*n.fc.x+n.k.J.D.A.y*n.fc.y);for(u=0;u<n.K;u++)r=n.j.J.position.x+(n.j.J.D.u.x*n.B[u].fc.x+n.j.J.D.A.x*n.B[u].fc.y),v=n.j.J.position.y+(n.j.J.D.u.y*n.B[u].fc.x+n.j.J.D.A.y*n.B[u].fc.y),q.k[u]=(r-t)*q.j.x+(v-p)*q.j.y-n.ea,q.Ea[u].Set(r,v);q.j.x*=-1;q.j.y*=-1}q=Rh.j;for(n=0;n<g.K;n++)v=g.B[n],r=Rh.Ea[n],x=Rh.k[n],t=r.x-e.q.I.x,p=r.y-e.q.I.y,u=r.x-f.q.I.x,r=r.y-f.q.I.y,b=b<x?b:
x,x=-v.CC*ae(c*(x+.005),-.2,0),v=x*q.x,x*=q.y,e.q.I.x-=h*v,e.q.I.y-=h*x,e.q.T-=m*(t*x-p*v),ng(e),f.q.I.x+=l*v,f.q.I.y+=l*x,f.q.T+=k*(u*x-r*v),ng(f)}return-.0075<b}function Ih(a,c){wh.call(this,a,c)}Kd(Ih,wh);Ih.prototype.Wc=function(a,c){wh.prototype.Wc.call(this,a,c)};Ih.prototype.B=function(){};function Gh(a,c){wh.call(this,a,c)}Kd(Gh,wh);Gh.prototype.Wc=function(a,c){wh.prototype.Wc.call(this,a,c)};
Gh.prototype.B=function(){a:{var a=this.$e,c=this.qc.Ec,b=this.qc.sb().J,d=this.gc.Ec,g=this.gc.sb().J;a.hc=0;for(var e=g.position.x+(g.D.u.x*d.Gb.x+g.D.A.x*d.Gb.y)-b.position.x,f=g.position.y+(g.D.u.y*d.Gb.x+g.D.A.y*d.Gb.y)-b.position.y,g=e*b.D.u.x+f*b.D.u.y,b=e*b.D.A.x+f*b.D.A.y,e=0,f=-Number.MAX_VALUE,h=c.ob+d.ob,m=0;m<c.wb;++m){var l=c.Lb[m].x*(g-c.W[m].x)+c.Lb[m].y*(b-c.W[m].y);if(l>h)break a;l>f&&(f=l,e=m)}l=e+1;l>=c.wb&&(l=0);var m=c.W[e],k=c.W[l];f<Number.MIN_VALUE?(a.hc=1,a.pb=2,a.cd.S(c.Lb[e]),
a.Oa.x=.5*(m.x+k.x),a.Oa.y=.5*(m.y+k.y),a.Ea[0].Oa.S(d.Gb),Re(a.Ea[0].Bf,0)):0>=(g-m.x)*(k.x-m.x)+(b-m.y)*(k.y-m.y)?(g-m.x)*(g-m.x)+(b-m.y)*(b-m.y)>h*h||(a.hc=1,a.pb=2,a.cd.x=g-m.x,a.cd.y=b-m.y,He(a.cd),a.Oa.S(m),a.Ea[0].Oa.S(d.Gb),Re(a.Ea[0].Bf,0)):0>=(g-k.x)*(m.x-k.x)+(b-k.y)*(m.y-k.y)?(g-k.x)*(g-k.x)+(b-k.y)*(b-k.y)>h*h||(a.hc=1,a.pb=2,a.cd.x=g-k.x,a.cd.y=b-k.y,He(a.cd),a.Oa.S(k),a.Ea[0].Oa.S(d.Gb),Re(a.Ea[0].Bf,0)):(l=.5*(m.x+k.x),m=.5*(m.y+k.y),f=(g-l)*c.Lb[e].x+(b-m)*c.Lb[e].y,f>h||(a.hc=1,
a.pb=2,a.cd.x=c.Lb[e].x,a.cd.y=c.Lb[e].y,He(a.cd),a.Oa.Set(l,m),a.Ea[0].Oa.S(d.Gb),Re(a.Ea[0].Bf,0)))}};function Jh(a,c){wh.call(this,a,c)}Kd(Jh,wh);Jh.prototype.Wc=function(a,c){wh.prototype.Wc.call(this,a,c)};Jh.prototype.B=function(){};function Hh(a,c){wh.call(this,a,c)}Kd(Hh,wh);Hh.prototype.Wc=function(a,c){wh.prototype.Wc.call(this,a,c)};
Hh.prototype.B=function(){var a=this.$e,c=this.qc.Ec,b=this.qc.sb().J,d=this.gc.Ec,g=this.gc.sb().J;a.hc=0;var e=c.ob+d.ob,f=cf(c,b,d,g),h=f.Hv;if(!(f.qq>e)){var m=cf(d,g,c,b);if(!(m.qq>e)){var l=c,k=d,n=b,q=g,r=0;a.pb=2;m.qq>.98*f.qq+.001&&(l=d,k=c,n=g,q=b,h=m.Hv,a.pb=4,r=1);c=h;b=k;d=q;k=Sh;void 0===c&&(c=0);for(var f=n.D.u.x*l.Lb[c].x+n.D.A.x*l.Lb[c].y,m=n.D.u.y*l.Lb[c].x+n.D.A.y*l.Lb[c].y,g=d.D.u.x*f+d.D.u.y*m,m=d.D.A.x*f+d.D.A.y*m,f=g,g=0,v=Number.MAX_VALUE,t=0;t<b.wb;t++){var p=f*b.Lb[t].x+
m*b.Lb[t].y;p<v&&(v=p,g=t)}f=g+1;f>=b.wb&&(f=0);k[0].kf.x=d.position.x+(d.D.u.x*b.W[g].x+d.D.A.x*b.W[g].y);k[0].kf.y=d.position.y+(d.D.u.y*b.W[g].x+d.D.A.y*b.W[g].y);m=k[0].id;m.B=c;m.lc=m.lc&4294967040|m.B&255;m=k[0].id;m.j=g;m.lc=m.lc&4294902015|m.j<<8&65280;g=k[0].id;g.k=0;g.lc=g.lc&4278255615|g.k<<16&16711680;k[1].kf.x=d.position.x+(d.D.u.x*b.W[f].x+d.D.A.x*b.W[f].y);k[1].kf.y=d.position.y+(d.D.u.y*b.W[f].x+d.D.A.y*b.W[f].y);b=k[1].id;b.B=c;b.lc=b.lc&4294967040|b.B&255;c=k[1].id;c.j=f;c.lc=c.lc&
4294902015|c.j<<8&65280;c=k[1].id;c.k=1;c.lc=c.lc&4278255615|c.k<<16&16711680;c=l.W[h];h=h+1<l.wb?l.W[h+1]:l.W[0];Th.Set(h.x-c.x,h.y-c.y);He(Th);Vh.x=Th.y;Vh.y=-Th.x;$h.Set(.5*(c.x+h.x),.5*(c.y+h.y));ei.x=n.D.u.x*Th.x+n.D.A.x*Th.y;ei.y=n.D.u.y*Th.x+n.D.A.y*Th.y;fi.x=-ei.x;fi.y=-ei.y;gi.x=ei.y;gi.y=-ei.x;hi.x=n.position.x+(n.D.u.x*c.x+n.D.A.x*c.y);hi.y=n.position.y+(n.D.u.y*c.x+n.D.A.y*c.y);li.x=n.position.x+(n.D.u.x*h.x+n.D.A.x*h.y);li.y=n.position.y+(n.D.u.y*h.x+n.D.A.y*h.y);if(!(2>af(mi,Sh,fi,-ei.x*
hi.x-ei.y*hi.y+e)||2>af(ni,mi,ei,ei.x*li.x+ei.y*li.y+e))){a.cd.S(Vh);a.Oa.S($h);n=gi.x*hi.x+gi.y*hi.y;for(l=h=0;2>l;++l)gi.x*ni[l].kf.x+gi.y*ni[l].kf.y-n<=e&&(c=ni[l].kf.x-q.position.x,k=ni[l].kf.y-q.position.y,a.Ea[h].Oa.x=c*q.D.u.x+k*q.D.u.y,a.Ea[h].Oa.y=c*q.D.A.x+k*q.D.A.y,a.Ea[h].Bf.Set(ni[l].id),c=a.Ea[h].Bf,c.F=r,c.lc=c.lc&16777215|c.F<<24&4278190080,h++);a.hc=h}}}};function oi(){this.K="Controller"+pi++;this.Me=null;this.j=new qg}oi.prototype.Eh=function(){};
oi.prototype.On=function(a){this.j.On(a);a=a.qa;var c=this.K,b=a.k[c];if(null!=b){var d=b.j(),b=b.gb();null==d?a.j=b:d.k(b);null==b||b.Og(d);delete a.k[c]}};var pi=0;function qi(){oi.call(this);this.B=V(0,-1);this.Ph=this.offset=0;this.F=V(0,0);this.k=null}Kd(qi,oi);
qi.prototype.Eh=function(){this.k=this.Me.F.Lc();for(var a=this.j.tb(xg);a;a=a.gb()){for(var c=a.body,b=V(0,0),d=V(0,0),g=0,e=0,f=c.B.tb();f;f=f.gb()){var h=V(0,0),m=f.wf.Ec.In(this.B,this.offset,c.De(),h),g=g+m;b.x+=m*h.x;b.y+=m*h.y;var l=0,l=1,e=e+m*l;d.x+=m*h.x*l;d.y+=m*h.y*l}g<Number.MIN_VALUE||(b.x/=g,b.y/=g,d.x/=e,d.y/=e,e=this.k.Ch(),e.Se(this.Ph*g),c.Ci(e,d),e=V(c.C.x-c.L*(b.y-c.q.I.y),c.C.y+c.L*(b.x-c.q.I.x)),e.xv(this.F),e.Se(-2*g),c.Ci(e,b),c.$q(-c.j/c.da*g*c.L*1),Ee(b),Ee(d))}};
function ri(){oi.call(this);this.k=V(0,0)}Kd(ri,oi);ri.prototype.Eh=function(a){a=V(this.k.x*a.Xa,this.k.y*a.Xa);for(var c=this.j.tb(xg);c;c=c.gb()){var b=c.body,d=b.C;hg(b,V(d.x+a.x,d.y+a.y))}Ee(a)};function si(){oi.call(this);this.k=V(0,0)}Kd(si,oi);si.prototype.Eh=function(){for(var a=this.j.tb(xg);a;a=a.gb()){var c=a.body;c.Ci(this.k,c.q.I)}};function Zf(){this.j=null;this.k={}}Zf.prototype.tb=function(){return this.j};function ti(){oi.call(this)}Kd(ti,oi);
ti.prototype.Eh=function(){for(var a=null,c=null,b=0,d=null,g=null,e=0,f=0,h=0,e=null,m=this.j.tb(rg);m;m=m.gb())for(var a=m.body,c=a.q.I,b=a.da,l=this.j.tb(rg);l;l=l.gb())if(d=l.body,a.Le||d.Le)g=d.q.I,e=g.x-c.x,f=g.y-c.y,h=e*e+f*f,h<Number.MIN_VALUE||(e=V(e,f),e.Se(1/h/Math.sqrt(h)*b*d.da),a.Le&&a.Ci(e,c),e.Se(-1),d.Le&&d.Ci(e,g),Ee(e))};function ui(){oi.call(this);this.B=new be;this.k=0}Kd(ui,oi);
ui.prototype.Eh=function(a){a=a.Xa;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.j.tb(xg);c;c=c.gb()){var b=c.body,d;d=Wd(this.B,Xd(b.J.D,b.C));d=Wd(b.J.D,d);hg(b,V(b.C.x+d.x*a,b.C.y+d.y*a))}}};function vi(a){this.$d=new wi;this.ae=new wi;this.pg=V(0,0);this.qg=V(0,0);this.pb=a.type;this.ei=this.zk=null;this.fa=a.j;this.ja=a.k;this.nx=a.R}A=vi.prototype;A.hd=function(){return this.pb};A.Kj=function(){return this.fa.Kj()&&this.ja.Kj()};A.lg=function(){};A.ng=function(){};
A.mg=function(){return!1};function xi(){this.type=0;this.k=this.j=null;this.R=!1}function wi(){}function yi(a){vi.call(this,a);this.Ba=V(0,0);this.Ca=V(0,0);this.j=V(0,0);this.Ba.S(a.N);this.Ca.S(a.ea);this.K=a.length;this.F=a.K;this.N=a.F;this.R=this.B=this.k=0}Kd(yi,vi);
yi.prototype.lg=function(a){var c,b=0,d=this.fa,g=this.ja;c=d.J.D;var e=this.Ba.x-d.q.V.x,f=this.Ba.y-d.q.V.y,b=c.u.x*e+c.A.x*f,f=c.u.y*e+c.A.y*f,e=b;c=g.J.D;var h=this.Ca.x-g.q.V.x,m=this.Ca.y-g.q.V.y,b=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=b;this.j.x=g.q.I.x+h-d.q.I.x-e;this.j.y=g.q.I.y+m-d.q.I.y-f;b=Math.sqrt(this.j.x*this.j.x+this.j.y*this.j.y);.005<b?this.j.Se(1/b):this.j.Ia();c=e*this.j.y-f*this.j.x;var l=h*this.j.y-m*this.j.x;c=d.P+d.ca*c*c+g.P+g.ca*l*l;this.da=0!=c?1/c:0;if(0<this.F){var b=
b-this.K,l=2*Math.PI*this.F,k=this.da*l*l;this.B=a.Xa*(2*this.da*this.N*l+a.Xa*k);this.B=0!=this.B?1/this.B:0;this.R=b*a.Xa*k*this.B;this.da=c+this.B;this.da=0!=this.da?1/this.da:0}a.zh?(this.k*=a.Ac,a=this.k*this.j.x,c=this.k*this.j.y,d.C.x-=d.P*a,d.C.y-=d.P*c,d.L-=d.ca*(e*c-f*a),g.C.x+=g.P*a,g.C.y+=g.P*c,g.L+=g.ca*(h*c-m*a)):this.k=0};
yi.prototype.ng=function(){var a=this.Ba.x-this.fa.q.V.x,c=this.Ba.y-this.fa.q.V.y,b=this.fa.J.D.u.x*a+this.fa.J.D.A.x*c,c=this.fa.J.D.u.y*a+this.fa.J.D.A.y*c,a=b,d=this.Ca.x-this.ja.q.V.x,g=this.Ca.y-this.ja.q.V.y,b=this.ja.J.D.u.x*d+this.ja.J.D.A.x*g,g=this.ja.J.D.u.y*d+this.ja.J.D.A.y*g,d=b,e=-this.da*(this.j.x*(this.ja.C.x-this.ja.L*g-(this.fa.C.x-this.fa.L*c))+this.j.y*(this.ja.C.y+this.ja.L*d-(this.fa.C.y+this.fa.L*a))+this.R+this.B*this.k);this.k+=e;b=e*this.j.x;e*=this.j.y;this.fa.C.x-=this.fa.P*
b;this.fa.C.y-=this.fa.P*e;this.fa.L-=this.fa.ca*(a*e-c*b);this.ja.C.x+=this.ja.P*b;this.ja.C.y+=this.ja.P*e;this.ja.L+=this.ja.ca*(d*e-g*b)};
yi.prototype.mg=function(){if(0<this.F)return!0;var a=this.Ba.x-this.fa.q.V.x,c=this.Ba.y-this.fa.q.V.y,b=this.fa.J.D.u.x*a+this.fa.J.D.A.x*c,c=this.fa.J.D.u.y*a+this.fa.J.D.A.y*c,a=b,d=this.Ca.x-this.ja.q.V.x,g=this.Ca.y-this.ja.q.V.y,b=this.ja.J.D.u.x*d+this.ja.J.D.A.x*g,g=this.ja.J.D.u.y*d+this.ja.J.D.A.y*g,d=b,e=this.ja.q.I.x+d-this.fa.q.I.x-a,f=this.ja.q.I.y+g-this.fa.q.I.y-c,h=Math.sqrt(e*e+f*f),b=ae(h-this.K,-.2,.2),m=-this.da*b;this.j.Set(e/h,f/h);e=m*this.j.x;m*=this.j.y;this.fa.q.I.x-=this.fa.P*
e;this.fa.q.I.y-=this.fa.P*m;this.fa.q.T-=this.fa.ca*(a*m-c*e);this.ja.q.I.x+=this.ja.P*e;this.ja.q.I.y+=this.ja.P*m;this.ja.q.T+=this.ja.ca*(d*m-g*e);ng(this.fa);ng(this.ja);return.005>Math.abs(b)};function zi(){xi.call(this);this.N=V(0,0);this.ea=V(0,0);this.type=3;this.length=1;this.F=this.K=0}Kd(zi,xi);zi.prototype.B=function(){return new yi(this)};
function Ai(a){vi.call(this,a);this.B=V(0,0);this.F=V(0,0);this.R=new be;this.j=V(0,0);this.B.S(a.F);this.F.S(a.K);this.R.Ia();this.K=0;this.j.Ia();this.k=0;this.N=a.N;this.ea=a.ea}Kd(Ai,vi);
Ai.prototype.lg=function(a){var c,b=0,d=this.fa,g=this.ja;c=d.J.D;var e=this.B.x-d.q.V.x,f=this.B.y-d.q.V.y,b=c.u.x*e+c.A.x*f,f=c.u.y*e+c.A.y*f,e=b;c=g.J.D;var h=this.F.x-g.q.V.x,m=this.F.y-g.q.V.y,b=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=b;c=d.P;var b=g.P,l=d.ca,k=g.ca,n=new be;n.u.x=c+b;n.A.x=0;n.u.y=0;n.A.y=c+b;n.u.x+=l*f*f;n.A.x+=-l*e*f;n.u.y+=-l*e*f;n.A.y+=l*e*e;n.u.x+=k*m*m;n.A.x+=-k*h*m;n.u.y+=-k*h*m;n.A.y+=k*h*h;ee(n,this.R);this.K=l+k;0<this.K&&(this.K=1/this.K);a.zh?(this.j.x*=a.Ac,this.j.y*=
a.Ac,this.k*=a.Ac,a=this.j,d.C.x-=c*a.x,d.C.y-=c*a.y,d.L-=l*(e*a.y-f*a.x+this.k),g.C.x+=b*a.x,g.C.y+=b*a.y,g.L+=k*(h*a.y-m*a.x+this.k)):(this.j.Ia(),this.k=0)};
Ai.prototype.ng=function(a){var c,b=0,d=this.fa,g=this.ja,e=d.C,f=d.L,h=g.C,m=g.L,l=d.P,k=g.P,n=d.ca,q=g.ca;c=d.J.D;var r=this.B.x-d.q.V.x,v=this.B.y-d.q.V.y,b=c.u.x*r+c.A.x*v,v=c.u.y*r+c.A.y*v,r=b;c=g.J.D;var t=this.F.x-g.q.V.x,p=this.F.y-g.q.V.y,b=c.u.x*t+c.A.x*p,p=c.u.y*t+c.A.y*p,t=b;c=0;var b=-this.K*(m-f),u=this.k;c=a.Xa*this.ea;this.k=ae(this.k+b,-c,c);b=this.k-u;f-=n*b;m+=q*b;c=Wd(this.R,V(-(h.x-m*p-e.x+f*v),-(h.y+m*t-e.y-f*r)));b=this.j.Lc();this.j.kg(c);c=a.Xa*this.N;Ge(this.j)>c*c&&(He(this.j),
this.j.Se(c));c=$d(this.j,b);e.x-=l*c.x;e.y-=l*c.y;f-=n*(r*c.y-v*c.x);h.x+=k*c.x;h.y+=k*c.y;m+=q*(t*c.y-p*c.x);d.L=f;g.L=m};Ai.prototype.mg=function(){return!0};function Bi(){xi.call(this);this.F=V(0,0);this.K=V(0,0);this.type=9;this.ea=this.N=0}Kd(Bi,xi);Bi.prototype.B=function(){return new Ai(this)};
function Ci(a){vi.call(this,a);this.ea=V(0,0);this.ra=V(0,0);this.Ba=V(0,0);this.Ca=V(0,0);this.j=new Di;var c=a.F.pb,b=a.K.pb;this.N=this.K=this.R=this.F=null;var d=0,g=0;this.Wa=a.F.fa;this.fa=a.F.ja;1==c?(this.F=a.F,this.ea.S(this.F.Ba),this.Ba.S(this.F.Ca),d=Ei(this.F)):(this.R=a.F,this.ea.S(this.R.Ba),this.Ba.S(this.R.Ca),d=this.R.fl());this.ab=a.K.fa;this.ja=a.K.ja;1==b?(this.K=a.K,this.ra.S(this.K.Ba),this.Ca.S(this.K.Ca),g=Ei(this.K)):(this.N=a.K,this.ra.S(this.N.Ba),this.Ca.S(this.N.Ca),
g=this.N.fl());this.k=a.N;this.qa=d+this.k*g;this.B=0}Kd(Ci,vi);
Ci.prototype.lg=function(a){var c=this.Wa,b=this.ab,d=this.fa,g=this.ja,e=0,f=0,h=0,m=0,l=h=0,k=0;this.j.Ia();this.F?(this.j.B=-1,k+=d.ca):(c=c.J.D,f=this.R.ue,e=c.u.x*f.x+c.A.x*f.y,f=c.u.y*f.x+c.A.y*f.y,c=d.J.D,h=this.Ba.x-d.q.V.x,m=this.Ba.y-d.q.V.y,l=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=l*f-m*e,this.j.j.Set(-e,-f),this.j.B=-h,k+=d.P+d.ca*h*h);this.K?(this.j.F=-this.k,k+=this.k*this.k*g.ca):(c=b.J.D,f=this.N.ue,e=c.u.x*f.x+c.A.x*f.y,f=c.u.y*f.x+c.A.y*f.y,c=g.J.D,h=this.Ca.x-g.q.V.x,m=this.Ca.y-g.q.V.y,
l=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=l*f-m*e,this.j.k.Set(-this.k*e,-this.k*f),this.j.F=-this.k*h,k+=this.k*this.k*(g.P+g.ca*h*h));this.da=0<k?1/k:0;a.zh?(d.C.x+=d.P*this.B*this.j.j.x,d.C.y+=d.P*this.B*this.j.j.y,d.L+=d.ca*this.B*this.j.B,g.C.x+=g.P*this.B*this.j.k.x,g.C.y+=g.P*this.B*this.j.k.y,g.L+=g.ca*this.B*this.j.F):this.B=0};
Ci.prototype.ng=function(){var a=this.fa,c=this.ja,b=this.j,d=a.C,g=a.L,e=c.C,f=c.L;void 0===g&&(g=0);void 0===f&&(f=0);b=-this.da*(b.j.x*d.x+b.j.y*d.y+b.B*g+(b.k.x*e.x+b.k.y*e.y)+b.F*f);this.B+=b;a.C.x+=a.P*b*this.j.j.x;a.C.y+=a.P*b*this.j.j.y;a.L+=a.ca*b*this.j.B;c.C.x+=c.P*b*this.j.k.x;c.C.y+=c.P*b*this.j.k.y;c.L+=c.ca*b*this.j.F};
Ci.prototype.mg=function(){var a=this.fa,c=this.ja,b=0,d=0;this.F?b=Ei(this.F):b=this.R.fl();this.K?d=Ei(this.K):d=this.N.fl();b=-this.da*(this.qa-(b+this.k*d));a.q.I.x+=a.P*b*this.j.j.x;a.q.I.y+=a.P*b*this.j.j.y;a.q.T+=a.ca*b*this.j.B;c.q.I.x+=c.P*b*this.j.k.x;c.q.I.y+=c.P*b*this.j.k.y;c.q.T+=c.ca*b*this.j.F;ng(a);ng(c);return!0};function Fi(){xi.call(this);this.type=6;this.K=this.F=null;this.N=1}Kd(Fi,xi);Fi.prototype.B=function(){return new Ci(this)};function Di(){this.j=V(0,0);this.k=V(0,0)}
Di.prototype.Ia=function(){this.j.Ia();this.B=0;this.k.Ia();this.F=0};Di.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.j.S(a);this.B=c;this.k.S(b);this.F=d};
function Gi(a){vi.call(this,a);this.Ba=V(0,0);this.Ca=V(0,0);this.ue=V(0,0);this.Ee=V(0,0);this.k=V(0,0);this.N=V(0,0);this.qa=new be;this.j=V(0,0);this.Ba.S(a.ea);this.Ca.S(a.ra);this.ue.S(a.F);this.Ee.x=-this.ue.y;this.Ee.y=this.ue.x;this.j.Ia();this.bb=this.Ib=0;this.Mc=a.qa;this.jd=a.Ib;this.lr=a.Wa;this.mr=a.ab;this.Hi=a.K;this.hl=a.N;this.ub=0;this.k.Ia();this.N.Ia()}Kd(Gi,vi);
Gi.prototype.fl=function(){var a=this.fa,c=this.ja,b=jg(a,this.Ba),d=jg(c,this.Ca),c=d.x-b.x,b=d.y-b.y,a=Wd(a.J.D,this.ue);return a.x*c+a.y*b};
Gi.prototype.lg=function(a){var c=this.fa,b=this.ja,d,g=0;this.pg.S(c.q.V);this.qg.S(b.q.V);var e=c.De();b.De();d=c.J.D;var f=this.Ba.x-this.pg.x,h=this.Ba.y-this.pg.y,g=d.u.x*f+d.A.x*h,h=d.u.y*f+d.A.y*h,f=g;d=b.J.D;var m=this.Ca.x-this.qg.x,l=this.Ca.y-this.qg.y,g=d.u.x*m+d.A.x*l,l=d.u.y*m+d.A.y*l,m=g;d=b.q.I.x+m-c.q.I.x-f;g=b.q.I.y+l-c.q.I.y-h;this.ea=c.P;this.ra=b.P;this.Wa=c.ca;this.ab=b.ca;this.k.S(Wd(e.D,this.ue));this.B=(d+f)*this.k.y-(g+h)*this.k.x;this.F=m*this.k.y-l*this.k.x;this.Ib=this.ea+
this.ra+this.Wa*this.B*this.B+this.ab*this.F*this.F;this.Ib=this.Ib>Number.MIN_VALUE?1/this.Ib:0;this.N.S(Wd(e.D,this.Ee));this.K=(d+f)*this.N.y-(g+h)*this.N.x;this.R=m*this.N.y-l*this.N.x;e=this.ea;f=this.ra;h=this.Wa;m=this.ab;this.qa.u.x=e+f+h*this.K*this.K+m*this.R*this.R;this.qa.u.y=h*this.K*this.B+m*this.R*this.F;this.qa.A.x=this.qa.u.y;this.qa.A.y=e+f+h*this.B*this.B+m*this.F*this.F;this.Hi?(d=this.k.x*d+this.k.y*g,.01>Math.abs(this.jd-this.Mc)?this.ub=3:d<=this.Mc?1!=this.ub&&(this.ub=1,this.j.y=
0):d>=this.jd?2!=this.ub&&(this.ub=2,this.j.y=0):(this.ub=0,this.j.y=0)):this.ub=0;0==this.hl&&(this.bb=0);a.zh?(this.j.x*=a.Ac,this.j.y*=a.Ac,this.bb*=a.Ac,a=this.j.x*this.N.x+(this.bb+this.j.y)*this.k.x,d=this.j.x*this.N.y+(this.bb+this.j.y)*this.k.y,g=this.j.x*this.K+(this.bb+this.j.y)*this.B,e=this.j.x*this.R+(this.bb+this.j.y)*this.F,c.C.x-=this.ea*a,c.C.y-=this.ea*d,c.L-=this.Wa*g,b.C.x+=this.ra*a,b.C.y+=this.ra*d,b.L+=this.ab*e):(this.j.Ia(),this.bb=0)};
Gi.prototype.ng=function(a){var c=this.fa,b=this.ja,d=c.C,g=c.L,e=b.C,f=b.L,h=0,m=0,l=0,k=0;this.hl&&3!=this.ub&&(k=this.Ib*(this.mr-(this.k.x*(e.x-d.x)+this.k.y*(e.y-d.y)+this.F*f-this.B*g)),h=this.bb,m=a.Xa*this.lr,this.bb=ae(this.bb+k,-m,m),k=this.bb-h,h=k*this.k.x,m=k*this.k.y,l=k*this.B,k*=this.F,d.x-=this.ea*h,d.y-=this.ea*m,g-=this.Wa*l,e.x+=this.ra*h,e.y+=this.ra*m,f+=this.ab*k);m=this.N.x*(e.x-d.x)+this.N.y*(e.y-d.y)+this.R*f-this.K*g;this.Hi&&0!=this.ub?(l=this.k.x*(e.x-d.x)+this.k.y*(e.y-
d.y)+this.F*f-this.B*g,h=this.j.Lc(),a=fe(this.qa,V(0,0),-m,-l),this.j.kg(a),1==this.ub?this.j.y=Math.max(this.j.y,0):2==this.ub&&(this.j.y=Math.min(this.j.y,0)),m=-m-(this.j.y-h.y)*this.qa.A.x,l=0,l=0!=this.qa.u.x?m/this.qa.u.x+h.x:h.x,this.j.x=l,a.x=this.j.x-h.x,a.y=this.j.y-h.y,h=a.x*this.N.x+a.y*this.k.x,m=a.x*this.N.y+a.y*this.k.y,l=a.x*this.K+a.y*this.B,k=a.x*this.R+a.y*this.F):(a=0,a=0!=this.qa.u.x?-m/this.qa.u.x:0,this.j.x+=a,h=a*this.N.x,m=a*this.N.y,l=a*this.K,k=a*this.R);d.x-=this.ea*h;
d.y-=this.ea*m;g-=this.Wa*l;e.x+=this.ra*h;e.y+=this.ra*m;f+=this.ab*k;c.C.S(d);c.L=g;b.C.S(e);b.L=f};
Gi.prototype.mg=function(){var a=this.fa,c=this.ja,b=a.q.I,d=a.q.T,g=c.q.I,e=c.q.T,f,h=0,m=0,l=0,k=0,n=f=0,q=0,m=!1,r=0,v=ce(d),l=ce(e);f=v;var q=this.Ba.x-this.pg.x,t=this.Ba.y-this.pg.y,h=f.u.x*q+f.A.x*t,t=f.u.y*q+f.A.y*t,q=h;f=l;l=this.Ca.x-this.qg.x;k=this.Ca.y-this.qg.y;h=f.u.x*l+f.A.x*k;k=f.u.y*l+f.A.y*k;l=h;f=g.x+l-b.x-q;h=g.y+k-b.y-t;if(this.Hi){this.k=Wd(v,this.ue);this.B=(f+q)*this.k.y-(h+t)*this.k.x;this.F=l*this.k.y-k*this.k.x;var p=this.k.x*f+this.k.y*h;.01>Math.abs(this.jd-this.Mc)?
(r=ae(p,-.2,.2),n=Math.abs(p),m=!0):p<=this.Mc?(r=ae(p-this.Mc+.005,-.2,0),n=this.Mc-p,m=!0):p>=this.jd&&(r=ae(p-this.jd+.005,0,.2),n=p-this.jd,m=!0)}this.N=Wd(v,this.Ee);this.K=(f+q)*this.N.y-(h+t)*this.N.x;this.R=l*this.N.y-k*this.N.x;v=V(0,0);t=this.N.x*f+this.N.y*h;n=Math.max(n,Math.abs(t));q=0;m?(m=this.ea,l=this.ra,k=this.Wa,f=this.ab,this.qa.u.x=m+l+k*this.K*this.K+f*this.R*this.R,this.qa.u.y=k*this.K*this.B+f*this.R*this.F,this.qa.A.x=this.qa.u.y,this.qa.A.y=m+l+k*this.B*this.B+f*this.F*this.F,
fe(this.qa,v,-t,-r)):(m=this.ea,l=this.ra,k=this.Wa,f=this.ab,r=m+l+k*this.K*this.K+f*this.R*this.R,v.x=0!=r?-t/r:0,v.y=0);r=v.x*this.N.x+v.y*this.k.x;m=v.x*this.N.y+v.y*this.k.y;t=v.x*this.K+v.y*this.B;v=v.x*this.R+v.y*this.F;b.x-=this.ea*r;b.y-=this.ea*m;d-=this.Wa*t;g.x+=this.ra*r;g.y+=this.ra*m;e+=this.ab*v;a.q.T=d;c.q.T=e;ng(a);ng(c);return.005>=n&&q<=Ld};
function Hi(){xi.call(this);this.ea=V(0,0);this.ra=V(0,0);this.F=V(0,0);this.type=7;this.F.Set(1,0);this.K=!1;this.Ib=this.qa=0;this.N=!1;this.ab=this.Wa=0}Kd(Hi,xi);Hi.prototype.B=function(){return new Gi(this)};
function Ii(a){vi.call(this,a);this.Ba=V(0,0);this.Ca=V(0,0);this.ue=V(0,0);this.Ee=V(0,0);this.N=V(0,0);this.qa=V(0,0);this.k=new ge;this.j=new he(0,0,0);this.Ba.S(a.ea);this.Ca.S(a.ra);this.ue.S(a.F);this.Ee.x=-this.ue.y;this.Ee.y=this.ue.x;this.qB=a.Ib;this.j.Ia();this.bb=this.Ib=0;this.Mc=a.qa;this.jd=a.bb;this.lr=a.Wa;this.mr=a.ab;this.Hi=a.K;this.hl=a.N;this.ub=0;this.N.Ia();this.qa.Ia()}Kd(Ii,vi);
Ii.prototype.fl=function(){var a=this.fa,c=this.ja,b=jg(a,this.Ba),d=jg(c,this.Ca),c=d.x-b.x,b=d.y-b.y,a=Wd(a.J.D,this.ue);return a.x*c+a.y*b};
Ii.prototype.lg=function(a){var c=this.fa,b=this.ja,d,g=0;this.pg.S(c.q.V);this.qg.S(b.q.V);var e=c.De();b.De();d=c.J.D;var f=this.Ba.x-this.pg.x,h=this.Ba.y-this.pg.y,g=d.u.x*f+d.A.x*h,h=d.u.y*f+d.A.y*h,f=g;d=b.J.D;var m=this.Ca.x-this.qg.x,l=this.Ca.y-this.qg.y,g=d.u.x*m+d.A.x*l,l=d.u.y*m+d.A.y*l,m=g;d=b.q.I.x+m-c.q.I.x-f;g=b.q.I.y+l-c.q.I.y-h;this.ea=c.P;this.ra=b.P;this.Wa=c.ca;this.ab=b.ca;this.N.S(Wd(e.D,this.ue));this.B=(d+f)*this.N.y-(g+h)*this.N.x;this.F=m*this.N.y-l*this.N.x;this.Ib=this.ea+
this.ra+this.Wa*this.B*this.B+this.ab*this.F*this.F;this.Ib>Number.MIN_VALUE&&(this.Ib=1/this.Ib);this.qa.S(Wd(e.D,this.Ee));this.K=(d+f)*this.qa.y-(g+h)*this.qa.x;this.R=m*this.qa.y-l*this.qa.x;e=this.ea;f=this.ra;h=this.Wa;m=this.ab;this.k.u.x=e+f+h*this.K*this.K+m*this.R*this.R;this.k.u.y=h*this.K+m*this.R;this.k.u.z=h*this.K*this.B+m*this.R*this.F;this.k.A.x=this.k.u.y;this.k.A.y=h+m;this.k.A.z=h*this.B+m*this.F;this.k.j.x=this.k.u.z;this.k.j.y=this.k.A.z;this.k.j.z=e+f+h*this.B*this.B+m*this.F*
this.F;this.Hi?(d=this.N.x*d+this.N.y*g,.01>Math.abs(this.jd-this.Mc)?this.ub=3:d<=this.Mc?1!=this.ub&&(this.ub=1,this.j.z=0):d>=this.jd?2!=this.ub&&(this.ub=2,this.j.z=0):(this.ub=0,this.j.z=0)):this.ub=0;0==this.hl&&(this.bb=0);a.zh?(this.j.x*=a.Ac,this.j.y*=a.Ac,this.bb*=a.Ac,a=this.j.x*this.qa.x+(this.bb+this.j.z)*this.N.x,d=this.j.x*this.qa.y+(this.bb+this.j.z)*this.N.y,g=this.j.x*this.K+this.j.y+(this.bb+this.j.z)*this.B,e=this.j.x*this.R+this.j.y+(this.bb+this.j.z)*this.F,c.C.x-=this.ea*a,
c.C.y-=this.ea*d,c.L-=this.Wa*g,b.C.x+=this.ra*a,b.C.y+=this.ra*d,b.L+=this.ab*e):(this.j.Ia(),this.bb=0)};
Ii.prototype.ng=function(a){var c=this.fa,b=this.ja,d=c.C,g=c.L,e=b.C,f=b.L,h=0,m=0,l=0,k=0;this.hl&&3!=this.ub&&(k=this.Ib*(this.mr-(this.N.x*(e.x-d.x)+this.N.y*(e.y-d.y)+this.F*f-this.B*g)),h=this.bb,a=a.Xa*this.lr,this.bb=ae(this.bb+k,-a,a),k=this.bb-h,h=k*this.N.x,m=k*this.N.y,l=k*this.B,k*=this.F,d.x-=this.ea*h,d.y-=this.ea*m,g-=this.Wa*l,e.x+=this.ra*h,e.y+=this.ra*m,f+=this.ab*k);l=this.qa.x*(e.x-d.x)+this.qa.y*(e.y-d.y)+this.R*f-this.K*g;m=f-g;this.Hi&&0!=this.ub?(a=this.N.x*(e.x-d.x)+this.N.y*
(e.y-d.y)+this.F*f-this.B*g,h=this.j.Lc(),a=je(this.k,new he(0,0,0),-l,-m,-a),this.j.kg(a),1==this.ub?this.j.z=Math.max(this.j.z,0):2==this.ub&&(this.j.z=Math.min(this.j.z,0)),l=-l-(this.j.z-h.z)*this.k.j.x,m=-m-(this.j.z-h.z)*this.k.j.y,m=ie(this.k,V(0,0),l,m),m.x+=h.x,m.y+=h.y,this.j.x=m.x,this.j.y=m.y,a.x=this.j.x-h.x,a.y=this.j.y-h.y,a.z=this.j.z-h.z,h=a.x*this.qa.x+a.z*this.N.x,m=a.x*this.qa.y+a.z*this.N.y,l=a.x*this.K+a.y+a.z*this.B,k=a.x*this.R+a.y+a.z*this.F,d.x-=this.ea*h,d.y-=this.ea*m,
g-=this.Wa*l,e.x+=this.ra*h,e.y+=this.ra*m,f+=this.ab*k):(a=ie(this.k,V(0,0),-l,-m),this.j.x+=a.x,this.j.y+=a.y,h=a.x*this.qa.x,m=a.x*this.qa.y,l=a.x*this.K+a.y,k=a.x*this.R+a.y,d.x-=this.ea*h,d.y-=this.ea*m,g-=this.Wa*l,e.x+=this.ra*h,e.y+=this.ra*m,f+=this.ab*k);c.C.S(d);c.L=g;b.C.S(e);b.L=f};
Ii.prototype.mg=function(){var a=this.fa,c=this.ja,b=a.q.I,d=a.q.T,g=c.q.I,e=c.q.T,f,h=0,m=0,l=0,k=h=f=0,n=0,m=!1,q=0,r=ce(d),v=ce(e);f=r;var n=this.Ba.x-this.pg.x,t=this.Ba.y-this.pg.y,h=f.u.x*n+f.A.x*t,t=f.u.y*n+f.A.y*t,n=h;f=v;v=this.Ca.x-this.qg.x;l=this.Ca.y-this.qg.y;h=f.u.x*v+f.A.x*l;l=f.u.y*v+f.A.y*l;v=h;f=g.x+v-b.x-n;h=g.y+l-b.y-t;if(this.Hi){this.N=Wd(r,this.ue);this.B=(f+n)*this.N.y-(h+t)*this.N.x;this.F=v*this.N.y-l*this.N.x;var p=this.N.x*f+this.N.y*h;.01>Math.abs(this.jd-this.Mc)?(q=
ae(p,-.2,.2),k=Math.abs(p),m=!0):p<=this.Mc?(q=ae(p-this.Mc+.005,-.2,0),k=this.Mc-p,m=!0):p>=this.jd&&(q=ae(p-this.jd+.005,0,.2),k=p-this.jd,m=!0)}this.qa=Wd(r,this.Ee);this.K=(f+n)*this.qa.y-(h+t)*this.qa.x;this.R=v*this.qa.y-l*this.qa.x;r=new he(0,0,0);t=this.qa.x*f+this.qa.y*h;v=e-d-this.qB;k=Math.max(k,Math.abs(t));n=Math.abs(v);m?(m=this.ea,l=this.ra,f=this.Wa,h=this.ab,this.k.u.x=m+l+f*this.K*this.K+h*this.R*this.R,this.k.u.y=f*this.K+h*this.R,this.k.u.z=f*this.K*this.B+h*this.R*this.F,this.k.A.x=
this.k.u.y,this.k.A.y=f+h,this.k.A.z=f*this.B+h*this.F,this.k.j.x=this.k.u.z,this.k.j.y=this.k.A.z,this.k.j.z=m+l+f*this.B*this.B+h*this.F*this.F,je(this.k,r,-t,-v,-q)):(m=this.ea,l=this.ra,f=this.Wa,h=this.ab,q=f*this.K+h*this.R,p=f+h,this.k.u.Set(m+l+f*this.K*this.K+h*this.R*this.R,q,0),this.k.A.Set(q,p,0),q=ie(this.k,V(0,0),-t,-v),r.x=q.x,r.y=q.y,r.z=0);q=r.x*this.qa.x+r.z*this.N.x;m=r.x*this.qa.y+r.z*this.N.y;t=r.x*this.K+r.y+r.z*this.B;r=r.x*this.R+r.y+r.z*this.F;b.x-=this.ea*q;b.y-=this.ea*
m;d-=this.Wa*t;g.x+=this.ra*q;g.y+=this.ra*m;e+=this.ab*r;a.q.T=d;c.q.T=e;ng(a);ng(c);return.005>=k&&n<=Ld};function Li(){xi.call(this);this.ea=V(0,0);this.ra=V(0,0);this.F=V(0,0);this.type=2;this.F.Set(1,0);this.Ib=0;this.K=!1;this.bb=this.qa=0;this.N=!1;this.ab=this.Wa=0}Kd(Li,xi);Li.prototype.B=function(){return new Ii(this)};
function Mi(a){vi.call(this,a);this.ea=V(0,0);this.ra=V(0,0);this.Ba=V(0,0);this.Ca=V(0,0);this.j=V(0,0);this.k=V(0,0);this.K=this.fa.Me.sE;this.ea.x=a.F.x-this.K.J.position.x;this.ea.y=a.F.y-this.K.J.position.y;this.ra.x=a.K.x-this.K.J.position.x;this.ra.y=a.K.y-this.K.J.position.y;this.Ba.S(a.N);this.Ca.S(a.ea);this.B=a.ra;this.ab=0+0*this.B;this.jd=Math.min(0,this.ab-this.B*Ni);this.Ee=Math.min(0,(this.ab-Ni)/this.B);this.N=this.R=this.F=0}Kd(Mi,vi);
Mi.prototype.lg=function(a){var c=this.fa,b=this.ja,d;d=c.J.D;var g=this.Ba.x-c.q.V.x,e=this.Ba.y-c.q.V.y,f=d.u.x*g+d.A.x*e,e=d.u.y*g+d.A.y*e,g=f;d=b.J.D;var h=this.Ca.x-b.q.V.x,m=this.Ca.y-b.q.V.y,f=d.u.x*h+d.A.x*m,m=d.u.y*h+d.A.y*m,h=f;d=b.q.I.x+h;var f=b.q.I.y+m,l=this.K.J.position.x+this.ra.x,k=this.K.J.position.y+this.ra.y;this.j.Set(c.q.I.x+g-(this.K.J.position.x+this.ea.x),c.q.I.y+e-(this.K.J.position.y+this.ea.y));this.k.Set(d-l,f-k);d=Fe(this.j);f=Fe(this.k);.005<d?this.j.Se(1/d):this.j.Ia();
.005<f?this.k.Se(1/f):this.k.Ia();0<this.ab-d-this.B*f?this.F=this.Mc=0:this.Mc=2;d<this.jd?this.R=this.bb=0:this.bb=2;f<this.Ee?this.N=this.ub=0:this.ub=2;d=g*this.j.y-e*this.j.x;f=h*this.k.y-m*this.k.x;this.qa=c.P+c.ca*d*d;this.Wa=b.P+b.ca*f*f;this.Ib=this.qa+this.B*this.B*this.Wa;this.qa=1/this.qa;this.Wa=1/this.Wa;this.Ib=1/this.Ib;a.zh?(this.F*=a.Ac,this.R*=a.Ac,this.N*=a.Ac,a=(-this.F-this.R)*this.j.x,d=(-this.F-this.R)*this.j.y,f=(-this.B*this.F-this.N)*this.k.x,l=(-this.B*this.F-this.N)*this.k.y,
c.C.x+=c.P*a,c.C.y+=c.P*d,c.L+=c.ca*(g*d-e*a),b.C.x+=b.P*f,b.C.y+=b.P*l,b.L+=b.ca*(h*l-m*f)):this.N=this.R=this.F=0};
Mi.prototype.ng=function(){var a=this.fa,c=this.ja,b;b=a.J.D;var d=this.Ba.x-a.q.V.x,g=this.Ba.y-a.q.V.y,e=b.u.x*d+b.A.x*g,g=b.u.y*d+b.A.y*g,d=e;b=c.J.D;var f=this.Ca.x-c.q.V.x,h=this.Ca.y-c.q.V.y,e=b.u.x*f+b.A.x*h,h=b.u.y*f+b.A.y*h,f=e,m=e=b=0,l=0;b=l=b=l=m=e=b=0;2==this.Mc&&(b=a.C.x+-a.L*g,e=a.C.y+a.L*d,m=c.C.x+-c.L*h,l=c.C.y+c.L*f,b=-(this.j.x*b+this.j.y*e)-this.B*(this.k.x*m+this.k.y*l),l=this.Ib*-b,b=this.F,this.F=Math.max(0,this.F+l),l=this.F-b,b=-l*this.j.x,e=-l*this.j.y,m=-this.B*l*this.k.x,
l=-this.B*l*this.k.y,a.C.x+=a.P*b,a.C.y+=a.P*e,a.L+=a.ca*(d*e-g*b),c.C.x+=c.P*m,c.C.y+=c.P*l,c.L+=c.ca*(f*l-h*m));2==this.bb&&(b=a.C.x+-a.L*g,e=a.C.y+a.L*d,b=-(this.j.x*b+this.j.y*e),l=-this.qa*b,b=this.R,this.R=Math.max(0,this.R+l),l=this.R-b,b=-l*this.j.x,e=-l*this.j.y,a.C.x+=a.P*b,a.C.y+=a.P*e,a.L+=a.ca*(d*e-g*b));2==this.ub&&(m=c.C.x+-c.L*h,l=c.C.y+c.L*f,b=-(this.k.x*m+this.k.y*l),l=-this.Wa*b,b=this.N,this.N=Math.max(0,this.N+l),l=this.N-b,m=-l*this.k.x,l=-l*this.k.y,c.C.x+=c.P*m,c.C.y+=c.P*
l,c.L+=c.ca*(f*l-h*m))};
Mi.prototype.mg=function(){var a=this.fa,c=this.ja,b,d=this.K.J.position.x+this.ea.x,g=this.K.J.position.y+this.ea.y,e=this.K.J.position.x+this.ra.x,f=this.K.J.position.y+this.ra.y,h=0,m=0,l=0,k=0,n=b=0,q=0,r=0,v=n=r=b=n=b=0;2==this.Mc&&(b=a.J.D,h=this.Ba.x-a.q.V.x,m=this.Ba.y-a.q.V.y,n=b.u.x*h+b.A.x*m,m=b.u.y*h+b.A.y*m,h=n,b=c.J.D,l=this.Ca.x-c.q.V.x,k=this.Ca.y-c.q.V.y,n=b.u.x*l+b.A.x*k,k=b.u.y*l+b.A.y*k,l=n,b=a.q.I.x+h,n=a.q.I.y+m,q=c.q.I.x+l,r=c.q.I.y+k,this.j.Set(b-d,n-g),this.k.Set(q-e,r-f),
b=Fe(this.j),n=Fe(this.k),.005<b?this.j.Se(1/b):this.j.Ia(),.005<n?this.k.Se(1/n):this.k.Ia(),b=this.ab-b-this.B*n,v=Math.max(v,-b),b=ae(b+.005,-.2,0),r=-this.Ib*b,b=-r*this.j.x,n=-r*this.j.y,q=-this.B*r*this.k.x,r=-this.B*r*this.k.y,a.q.I.x+=a.P*b,a.q.I.y+=a.P*n,a.q.T+=a.ca*(h*n-m*b),c.q.I.x+=c.P*q,c.q.I.y+=c.P*r,c.q.T+=c.ca*(l*r-k*q),ng(a),ng(c));2==this.bb&&(b=a.J.D,h=this.Ba.x-a.q.V.x,m=this.Ba.y-a.q.V.y,n=b.u.x*h+b.A.x*m,m=b.u.y*h+b.A.y*m,h=n,b=a.q.I.x+h,n=a.q.I.y+m,this.j.Set(b-d,n-g),b=Fe(this.j),
.005<b?(this.j.x*=1/b,this.j.y*=1/b):this.j.Ia(),b=this.jd-b,v=Math.max(v,-b),b=ae(b+.005,-.2,0),r=-this.qa*b,b=-r*this.j.x,n=-r*this.j.y,a.q.I.x+=a.P*b,a.q.I.y+=a.P*n,a.q.T+=a.ca*(h*n-m*b),ng(a));2==this.ub&&(b=c.J.D,l=this.Ca.x-c.q.V.x,k=this.Ca.y-c.q.V.y,n=b.u.x*l+b.A.x*k,k=b.u.y*l+b.A.y*k,l=n,q=c.q.I.x+l,r=c.q.I.y+k,this.k.Set(q-e,r-f),n=Fe(this.k),.005<n?(this.k.x*=1/n,this.k.y*=1/n):this.k.Ia(),b=this.Ee-n,v=Math.max(v,-b),b=ae(b+.005,-.2,0),r=-this.Wa*b,q=-r*this.k.x,r=-r*this.k.y,c.q.I.x+=
c.P*q,c.q.I.y+=c.P*r,c.q.T+=c.ca*(l*r-k*q),ng(c));return.005>v};var Ni=1;function Oi(){xi.call(this);this.F=V(0,0);this.K=V(0,0);this.N=V(0,0);this.ea=V(0,0);this.type=4;this.F.Set(-1,1);this.K.Set(1,1);this.N.Set(-1,0);this.ea.Set(1,0);this.ra=1;this.R=!0}Kd(Oi,xi);Oi.prototype.B=function(){return new Mi(this)};
function Pi(a){vi.call(this,a);this.qa=new be;this.N=new be;this.ea=new be;this.ra=new be;this.k=new he(0,0,0);this.F=V(0,0);this.R=V(0,0);this.Ba=V(0,0);this.Ca=V(0,0);this.j=new he(0,0,0);this.da=new ge;this.Ba.S(a.F);this.Ca.S(a.K);this.bb=a.ea;this.j.Ia();this.K=0;this.Wa=a.ra;this.ub=a.qa;this.Ee=a.Ib;this.jd=a.ab;this.ab=a.N;this.Mc=a.Wa;this.B=0}Kd(Pi,vi);function Ei(a){return a.ja.q.T-a.fa.q.T-a.bb}
Pi.prototype.lg=function(a){var c=this.fa,b=this.ja,d,g=0;d=c.J.D;var e=this.Ba.x-c.q.V.x,f=this.Ba.y-c.q.V.y,g=d.u.x*e+d.A.x*f,f=d.u.y*e+d.A.y*f,e=g;d=b.J.D;var h=this.Ca.x-b.q.V.x,m=this.Ca.y-b.q.V.y,g=d.u.x*h+d.A.x*m,m=d.u.y*h+d.A.y*m,h=g;d=c.P;var g=b.P,l=c.ca,k=b.ca;this.da.u.x=d+g+f*f*l+m*m*k;this.da.A.x=-f*e*l-m*h*k;this.da.j.x=-f*l-m*k;this.da.u.y=this.da.A.x;this.da.A.y=d+g+e*e*l+h*h*k;this.da.j.y=e*l+h*k;this.da.u.z=this.da.j.x;this.da.A.z=this.da.j.y;this.da.j.z=l+k;this.Ib=1/(l+k);this.Mc||
(this.K=0);if(this.ab){var n=b.q.T-c.q.T-this.bb;Math.abs(this.ub-this.Wa)<2*Ld?this.B=3:n<=this.Wa?(1!=this.B&&(this.j.z=0),this.B=1):n>=this.ub?(2!=this.B&&(this.j.z=0),this.B=2):(this.B=0,this.j.z=0)}else this.B=0;a.zh?(this.j.x*=a.Ac,this.j.y*=a.Ac,this.K*=a.Ac,a=this.j.x,n=this.j.y,c.C.x-=d*a,c.C.y-=d*n,c.L-=l*(e*n-f*a+this.K+this.j.z),b.C.x+=g*a,b.C.y+=g*n,b.L+=k*(h*n-m*a+this.K+this.j.z)):(this.j.Ia(),this.K=0)};
Pi.prototype.ng=function(a){var c=this.fa,b=this.ja,d=0,g=d=0,e=0,f=0,h=0,m=c.C,l=c.L,k=b.C,n=b.L,q=c.P,r=b.P,v=c.ca,t=b.ca;this.Mc&&3!=this.B&&(g=this.Ib*-(n-l-this.jd),e=this.K,f=a.Xa*this.Ee,this.K=ae(this.K+g,-f,f),g=this.K-e,l-=v*g,n+=t*g);if(this.ab&&0!=this.B){a=c.J.D;g=this.Ba.x-c.q.V.x;e=this.Ba.y-c.q.V.y;d=a.u.x*g+a.A.x*e;e=a.u.y*g+a.A.y*e;g=d;a=b.J.D;f=this.Ca.x-b.q.V.x;h=this.Ca.y-b.q.V.y;d=a.u.x*f+a.A.x*h;h=a.u.y*f+a.A.y*h;f=d;a=k.x+-n*h-m.x- -l*e;var p=k.y+n*f-m.y-l*g;je(this.da,this.k,
-a,-p,-(n-l));3==this.B?this.j.kg(this.k):1==this.B?(d=this.j.z+this.k.z,0>d&&(ie(this.da,this.R,-a,-p),this.k.x=this.R.x,this.k.y=this.R.y,this.k.z=-this.j.z,this.j.x+=this.R.x,this.j.y+=this.R.y,this.j.z=0)):2==this.B&&(d=this.j.z+this.k.z,0<d&&(ie(this.da,this.R,-a,-p),this.k.x=this.R.x,this.k.y=this.R.y,this.k.z=-this.j.z,this.j.x+=this.R.x,this.j.y+=this.R.y,this.j.z=0));m.x-=q*this.k.x;m.y-=q*this.k.y;l-=v*(g*this.k.y-e*this.k.x+this.k.z);k.x+=r*this.k.x;k.y+=r*this.k.y;n+=t*(f*this.k.y-h*this.k.x+
this.k.z)}else a=c.J.D,g=this.Ba.x-c.q.V.x,e=this.Ba.y-c.q.V.y,d=a.u.x*g+a.A.x*e,e=a.u.y*g+a.A.y*e,g=d,a=b.J.D,f=this.Ca.x-b.q.V.x,h=this.Ca.y-b.q.V.y,d=a.u.x*f+a.A.x*h,h=a.u.y*f+a.A.y*h,f=d,ie(this.da,this.F,-(k.x+-n*h-m.x- -l*e),-(k.y+n*f-m.y-l*g)),this.j.x+=this.F.x,this.j.y+=this.F.y,m.x-=q*this.F.x,m.y-=q*this.F.y,l-=v*(g*this.F.y-e*this.F.x),k.x+=r*this.F.x,k.y+=r*this.F.y,n+=t*(f*this.F.y-h*this.F.x);c.C.S(m);c.L=l;b.C.S(k);b.L=n};
Pi.prototype.mg=function(){var a=0,c,b=this.fa,d=this.ja,g=0,e=c=0,f=0,e=0;if(this.ab&&0!=this.B){var a=d.q.T-b.q.T-this.bb,h=0;3==this.B?(a=ae(a-this.Wa,-Md,Md),h=-this.Ib*a,g=Math.abs(a)):1==this.B?(a-=this.Wa,g=-a,a=ae(a+Ld,-Md,0),h=-this.Ib*a):2==this.B&&(g=a-=this.ub,a=ae(a-Ld,0,Md),h=-this.Ib*a);b.q.T-=b.ca*h;d.q.T+=d.ca*h;ng(b);ng(d)}c=b.J.D;h=this.Ba.x-b.q.V.x;a=this.Ba.y-b.q.V.y;e=c.u.x*h+c.A.x*a;a=c.u.y*h+c.A.y*a;h=e;c=d.J.D;var m=this.Ca.x-d.q.V.x,l=this.Ca.y-d.q.V.y,e=c.u.x*m+c.A.x*l,
l=c.u.y*m+c.A.y*l,m=e,f=d.q.I.x+m-b.q.I.x-h,e=d.q.I.y+l-b.q.I.y-a,k=f*f+e*e;c=Math.sqrt(k);var n=b.P,q=d.P,r=b.ca,v=d.ca;k>.05*.05&&(k=1/(n+q),f=k*-f,e=k*-e,b.q.I.x-=.5*n*f,b.q.I.y-=.5*n*e,d.q.I.x+=.5*q*f,d.q.I.y+=.5*q*e,f=d.q.I.x+m-b.q.I.x-h,e=d.q.I.y+l-b.q.I.y-a);this.N.u.x=n+q;this.N.A.x=0;this.N.u.y=0;this.N.A.y=n+q;this.ea.u.x=r*a*a;this.ea.A.x=-r*h*a;this.ea.u.y=-r*h*a;this.ea.A.y=r*h*h;this.ra.u.x=v*l*l;this.ra.A.x=-v*m*l;this.ra.u.y=-v*m*l;this.ra.A.y=v*m*m;de(this.qa,this.N);n=this.qa;q=
this.ea;n.u.kg(q.u);n.A.kg(q.A);n=this.qa;q=this.ra;n.u.kg(q.u);n.A.kg(q.A);fe(this.qa,Qi,-f,-e);f=Qi.x;e=Qi.y;b.q.I.x-=b.P*f;b.q.I.y-=b.P*e;b.q.T-=b.ca*(h*e-a*f);d.q.I.x+=d.P*f;d.q.I.y+=d.P*e;d.q.T+=d.ca*(m*e-l*f);ng(b);ng(d);return.005>=c&&g<=Ld};var Qi=V(0,0);function Ri(){xi.call(this);this.F=V(0,0);this.K=V(0,0);this.type=1;this.F.Ia();this.K.Ia();this.ab=this.Ib=this.qa=this.ra=this.ea=0;this.Wa=this.N=!1}Kd(Ri,xi);
function Si(a,c,b,d){a.j=c;a.k=b;a.F=Zd(a.j.J,d);a.K=Zd(a.k.J,d);a.ea=a.k.Ei()-a.j.Ei()}Ri.prototype.B=function(){return new Pi(this)};function Ti(a){vi.call(this,a);this.k=V(0,0);this.B=V(0,0);this.j=new he(0,0,0);this.da=new ge;this.k.S(a.F);this.B.S(a.K);this.F=a.N}Kd(Ti,vi);
Ti.prototype.lg=function(a){var c,b=0,d=this.fa,g=this.ja;c=d.J.D;var e=this.k.x-d.q.V.x,f=this.k.y-d.q.V.y,b=c.u.x*e+c.A.x*f,f=c.u.y*e+c.A.y*f,e=b;c=g.J.D;var h=this.B.x-g.q.V.x,m=this.B.y-g.q.V.y,b=c.u.x*h+c.A.x*m,m=c.u.y*h+c.A.y*m,h=b;c=d.P;var b=g.P,l=d.ca,k=g.ca;this.da.u.x=c+b+f*f*l+m*m*k;this.da.A.x=-f*e*l-m*h*k;this.da.j.x=-f*l-m*k;this.da.u.y=this.da.A.x;this.da.A.y=c+b+e*e*l+h*h*k;this.da.j.y=e*l+h*k;this.da.u.z=this.da.j.x;this.da.A.z=this.da.j.y;this.da.j.z=l+k;a.zh?(this.j.x*=a.Ac,this.j.y*=
a.Ac,this.j.z*=a.Ac,d.C.x-=c*this.j.x,d.C.y-=c*this.j.y,d.L-=l*(e*this.j.y-f*this.j.x+this.j.z),g.C.x+=b*this.j.x,g.C.y+=b*this.j.y,g.L+=k*(h*this.j.y-m*this.j.x+this.j.z)):this.j.Ia()};
Ti.prototype.ng=function(){var a,c=0,b=this.fa,d=this.ja,g=b.C,e=b.L,f=d.C,h=d.L,m=b.P,l=d.P,k=b.ca,n=d.ca;a=b.J.D;var q=this.k.x-b.q.V.x,r=this.k.y-b.q.V.y,c=a.u.x*q+a.A.x*r,r=a.u.y*q+a.A.y*r,q=c;a=d.J.D;var v=this.B.x-d.q.V.x,t=this.B.y-d.q.V.y,c=a.u.x*v+a.A.x*t,t=a.u.y*v+a.A.y*t,v=c;a=new he(0,0,0);je(this.da,a,-(f.x-h*t-g.x+e*r),-(f.y+h*v-g.y-e*q),-(h-e));this.j.kg(a);g.x-=m*a.x;g.y-=m*a.y;e-=k*(q*a.y-r*a.x+a.z);f.x+=l*a.x;f.y+=l*a.y;h+=n*(v*a.y-t*a.x+a.z);b.L=e;d.L=h};
Ti.prototype.mg=function(){var a,c=0,b=this.fa,d=this.ja;a=b.J.D;var g=this.k.x-b.q.V.x,e=this.k.y-b.q.V.y,c=a.u.x*g+a.A.x*e,e=a.u.y*g+a.A.y*e,g=c;a=d.J.D;var f=this.B.x-d.q.V.x,h=this.B.y-d.q.V.y,c=a.u.x*f+a.A.x*h,h=a.u.y*f+a.A.y*h,f=c;a=b.P;var c=d.P,m=b.ca,l=d.ca,k=d.q.I.x+f-b.q.I.x-g,n=d.q.I.y+h-b.q.I.y-e,q=d.q.T-b.q.T-this.F,r=Math.sqrt(k*k+n*n),v=Math.abs(q);.05<r&&(m*=1,l*=1);this.da.u.x=a+c+e*e*m+h*h*l;this.da.A.x=-e*g*m-h*f*l;this.da.j.x=-e*m-h*l;this.da.u.y=this.da.A.x;this.da.A.y=a+c+g*
g*m+f*f*l;this.da.j.y=g*m+f*l;this.da.u.z=this.da.j.x;this.da.A.z=this.da.j.y;this.da.j.z=m+l;var t=new he(0,0,0);je(this.da,t,-k,-n,-q);b.q.I.x-=a*t.x;b.q.I.y-=a*t.y;b.q.T-=m*(g*t.y-e*t.x+t.z);d.q.I.x+=c*t.x;d.q.I.y+=c*t.y;d.q.T+=l*(f*t.y-h*t.x+t.z);ng(b);ng(d);return.005>=r&&v<=Ld};function Ui(){xi.call(this);this.F=V(0,0);this.K=V(0,0);this.type=8;this.N=0}Kd(Ui,xi);Ui.prototype.B=function(){return new Ti(this)};
var Sh=[new Se,new Se],mi=[new Se,new Se],ni=[new Se,new Se],Th=V(0,0),Vh=V(0,0),$h=V(0,0),gi=V(0,0),ei=V(0,0),fi=V(0,0),hi=V(0,0),li=V(0,0),mh=0,sh=0,th=0,qh=0,rh=0,nh=new Uf,oh=new hf,Ef=new Be,Jf=new Be,yf=new function(){this.Oa=V(0,0);this.j=V(0,0)},ph=new jf,mg=new Be,Fg=new Dg;new function(){this.position=V(0,0);V(0,0);V(0,0);this.id=new Qe};new Be;
var uh=new Ae,vh=new Ae,lh=new Vf,Ph=new function(){this.j=V(0,0);this.Ea=[];for(var a=this.hc=0;2>a;a++)this.Ea[a]=V(0,0)},Rh=new function(){this.j=V(0,0);this.k=[];this.Ea=[];for(var a=0;2>a;a++)this.Ea[a]=V(0,0)};function Vi(a,c,b,d,g,e){var f;if(f=(b+.1>=a&&a>=g-.1||b-.1<=a&&a<=g+.1)&&(d+.1>=c&&c>=e-.1||d-.1<=c&&c<=e+.1))f=.1<Math.abs(g-b)?.1>Math.abs((e-d)/(g-b)*(a-b)+d-c):.1>Math.abs(a-b);return f}
function Wi(a,c){var b=Xi(a),d=[],g,e,f,h,m,l,k,n,q;m=0;for(l=b.length;m<l;m++){e=b[m];g=[];g.length=e.length;k=q=0;for(n=e.length;k<n;k++)f=e[k],h=e[(k+1)%n],q+=f.x*h.y-f.y*h.x,g[k]=V(f.x,f.y);q=Math.abs(q/2);q>=.001*c&&d.push(g)}return d}
function Xi(a){var c=[],b=0,d=0,g=0,e=0,f=0,h=f=0,m=0,l=0,k=0,e=0,n,q,r,v,t,p=e=b=0,u=0,g=[],m=[],x=!1,z=[],D=[];for(D.push(a);D.length;){c=D[0];d=c.length;x=!0;for(b=0;b<d;b++)if(l=b,k=b<d-1?b+1:b+1-d,e=b<d-2?b+2:b+2-d,a=c[l],n=c[k],q=c[e],e=a.x,g=a.y,m=n.x,f=n.y,h=q.x,q=q.y,e=e*f+m*q+h*g-g*m-f*h-q*e,0>e){x=!1;m=1E9;for(g=0;g<d;g++)if(g!==l&&g!==k){b=g;e=g<d-1?g+1:0;r=c[b];v=c[e];h=a.x;q=a.y;var B=n.x,E=n.y,f=r.x;r=r.y;var C=v.x;v=v.y;var w=B-h,y=E-q,G=C-f,I=v-r,G=(G*(r-q)-I*(f-h))/(y*G-w*I),w=h+
G*w,y=q+G*y,h=Vi(B,E,h,q,w,y),f=Vi(w,y,f,r,C,v);if(q=h&&f?V(w,y):null)f=n.x-q.x,h=n.y-q.y,f=f*f+h*h,f<m&&(u=b,p=e,t=q,m=f)}if(1E9===m)return[];g=[];m=[];b=u;e=p;r=c[b];v=c[e];p=t.y;u=v.y;.1>Math.abs(v.x-t.x)&&.1>Math.abs(u-p)||g.push(t);p=t.y;u=r.y;.1>Math.abs(r.x-t.x)&&.1>Math.abs(u-p)||m.push(t);u=-1;for(p=l;;){if(p!==e)g.push(c[p]);else{if(0>u||u>=d)return[];Vi(v.x,v.y,c[u].x,c[u].y,a.x,a.y)||g.push(c[p]);break}u=p;0>p-1?p=d-1:p--}g.reverse();u=-1;for(p=k;;){if(p!==b)m.push(c[p]);else{if(0>u||
u>=d)return[];p!==b||Vi(r.x,r.y,c[u].x,c[u].y,n.x,n.y)||m.push(c[p]);break}u=p;p+1>d-1?p=0:p++}D.push(g,m);D.shift();break}x&&z.push(D.shift())}return z}
function cj(a){for(var c=0;4E3>c;c++)De.push(new Ce(0,0));this.i=a;this.Be=new Rg(V(0,10),!0);this.bt=-1;a=new Dg;a.behavior=this;a.BeginContact=function(a){this.behavior.i.yj(a.qc.sb().sg.n,a.gc.sb().sg.n)};this.Be.j.k=a;a=new Ag;a.behavior=this;a.j=function(a,c){if(this.behavior.CB)return!0;var g=a.sb().sg.n.type,e=c.sb().sg.n.type,f=g.ma.Physics_DisabledCollisions;return f&&f.contains(e)?!1:(f=e.ma.Physics_DisabledCollisions)&&f.contains(g)?!1:!0};this.Be.j.B=a;this.yF=0;this.Cn=8;this.Pm=3;this.CB=
!0}
(function(){function a(){}var c=cj.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.na=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.Be=this.behavior.Be};var b=c.ta.prototype;b.na=function(){this.Ds=0!==this.U[0];this.Ov=this.U[1];this.Rt=0!==this.U[2];this.Ph=this.U[3];this.Uh=this.U[4];this.qi=this.U[5];this.tk=this.U[6];this.Oj=this.U[7];this.Qj=0!==this.U[8];this.enabled=0!==this.U[9];this.body=null;this.n.$a();this.rp=this.n.x;this.sp=
this.n.y;this.Kd=this.n.M;this.Ys=this.ct=0;this.cy=this.$s=!1;this.Vs=null;this.Ws=-1;this.Ne?(this.Ne.length=0,this.Df.length=0,this.bh.clear()):(this.Ne=[],this.Df=[],this.bh=new ca);var a=this;this.td||(this.li=function(b){a.uj(b)});this.i.Mj(this.li)};b.Wx=function(){this.n.$a();this.qo();this.Vs=this.n.Nb;this.Ws=this.n.za};b.cf=function(){this.Bo();this.Df.length=0;this.bh.clear();this.body&&(Vg(this.Be,this.body),this.body=null);this.i.$t(this.li)};b.Ub=function(){var a={e:this.enabled,im:this.Ds,
pr:this.Rt,d:this.Ph,fr:this.Uh,re:this.qi,ld:this.tk,ad:this.Oj,b:this.Qj,mcj:this.Df};if(this.enabled){var b=V(0,0);b.S(this.body.C);a.vx=b.x;a.vy=b.y;a.om=this.body.L}return a};b.Xb=function(a){this.Bo();this.Df.length=0;this.bh.clear();this.body&&(Vg(this.Be,this.body),this.body=null);this.enabled=a.e;this.Ds=a.im;this.Rt=a.pr;this.Ph=a.d;this.Uh=a.fr;this.qi=a.re;this.tk=a.ld;this.Oj=a.ad;this.Qj=a.b;this.rp=this.n.x;this.sp=this.n.y;this.Kd=this.n.M;this.ct=this.n.width;this.Ys=this.n.height;
this.enabled&&(this.qo(),hg(this.body,V(a.vx,a.vy)),this.body.Pn(a.om),0===a.vx&&0===a.vy&&0===a.om||ig(this.body,!0),this.Df=a.mcj)};b.of=function(){this.enabled&&this.Zt();this.behavior.bt=this.i.gf-1};b.uj=function(a){var b,c,d,m=a.uid;d=b=0;for(c=this.Df.length;b<c;b++)this.Df[d]=this.Df[b],d<this.Ne.length&&(this.Ne[d]=this.Ne[b]),this.Df[b].Cb[1]==m?Wg(this.Be,this.Ne[b]):d++;this.Df.length=d;d<this.Ne.length&&(this.Ne.length=d);this.bh.remove(a)};b.Bo=function(){var a,b;a=0;for(b=this.Ne.length;a<
b;a++)Wg(this.Be,this.Ne[a]);this.Ne.length=0};b.Zt=function(){var a,b,c;a=0;for(b=this.Df.length;a<b;a++)switch(c=this.Df[a],c.type){case 0:this.bC(c.Cb[0],c.Cb[1],c.Cb[2],c.Cb[3],c.Cb[4]);break;case 1:this.dC(c.Cb[0],c.Cb[1]);break;case 2:this.cC(c.Cb[0],c.Cb[1],c.Cb[2],c.Cb[3])}};b.Vv=function(){this.body&&(this.Bo(),Vg(this.Be,this.body),this.body=null,this.n.ma.qf=null)};var d=[];b.qo=function(){if(this.enabled){var a=this.n,b=!1,c=null,h=null,m,l,k,n,q,r,v,t,p,u,x,z,D;if(this.body){b=!0;c=V(0,
0);c.S(this.body.C);h=this.body.L;t=this.bh.ig();m=0;for(l=t.length;m<l;m++)p=t[m].ma.qf.sg,p.Bo();this.Vv()}p=new Lg;p.Ph=this.Ph;p.Uh=this.Uh;p.qi=this.qi;m=new pg;m.type=this.Ds?0:2;a.$a();m.position.x=.02*a.Kb.gi();m.position.y=.02*a.Kb.hi();m.M=a.M;m.j=this.Rt;m.tk=this.tk;m.Oj=this.Oj;m.Qj=this.Qj;t=this.n.ib&&!this.n.ib.fj();this.body=Tg(this.Be,m);this.body.sg=this;m=this.Ov;t||this.n.vh||0!==this.Ov||(m=1);l=Math.max(Math.abs(a.width),1);k=Math.max(Math.abs(a.height),1);u=0>a.width;x=0>a.height;
if(0===m)if(a.vh)for(z=a.Kb.gi()-a.x,v=a.Kb.hi()-a.y,a.nD(d),t=[],m=0,l=d.length;m<l;++m){u=d[m];x=u.Db;if(u.de){if(!u.de.no){q=u.de.Hb;n=u.de.ee;for(k=0;k<n;++k)t.push(V(q[2*k],q[2*k+1]));k=u.id&3758096384;(-2147483648===k||1073741824===k||536870912===k||k&-2147483648&&k&1073741824&&k&536870912)&&t.reverse();u.de.no=Wi(t,(x.right-x.left)*(x.bottom-x.top));k=0;for(n=t.length;k<n;++k)Ee(t[k]);t.length=0}k=0;for(n=u.de.no.length;k<n;++k){D=u.de.no[k];q=0;for(r=D.length;q<r;++q)t.push(V(.02*(x.left+
D[q].x-z),.02*(x.top+D[q].y-v)));p.shape=new Me;Oe(p.shape,t);ag(this.body,p);q=0;for(r=t.length;q<r;++q)Ee(t[q]);t.length=0}}else t.push(V(.02*(x.left-z),.02*(x.top-v))),t.push(V(.02*(x.right-z),.02*(x.top-v))),t.push(V(.02*(x.right-z),.02*(x.bottom-v))),t.push(V(.02*(x.left-z),.02*(x.bottom-v))),p.shape=new Me,Oe(p.shape,t),ag(this.body,p);k=0;for(n=t.length;k<n;++k)Ee(t[k]);t.length=0}else{m=a.M;a.M=0;a.aa();a.$a();z=a.Kb.gi()-a.x;v=a.Kb.hi()-a.y;a.M=m;a.aa();a.ib.Kh(u?-l:l,x?-k:k,0);q=a.ib.Hb;
n=a.ib.ee;t=[];t.length=n;for(m=0;m<n;m++)t[m]=V(q[2*m]-z,q[2*m+1]-v);u!==x&&t.reverse();z=Wi(t,l*k);for(m=0;m<n;m++)Ee(t[m]);if(z.length)for(m=0,l=z.length;m<l;m++){t=z[m];k=0;for(n=t.length;k<n;k++)v=t[k],v.x*=.02,v.y*=.02;p.shape=new Me;Oe(p.shape,t);ag(this.body,p);k=0;for(n=t.length;k<n;k++)Ee(t[k])}else p.shape=new Me,Pe(p.shape,.01*l,.01*k),ag(this.body,p)}else 1===m?(p.shape=new Me,Pe(p.shape,.01*l,.01*k)):p.shape=new Je(.01*Math.min(l,k)),ag(this.body,p);a.ma.qf=this.body;this.ct=a.width;
this.Ys=a.height;if(b)for(hg(this.body,c),this.body.Pn(h),Ee(c),this.Zt(),t=this.bh.ig(),m=0,l=t.length;m<l;m++)p=t[m].ma.qf.sg,p.Zt();d.length=0}};b.mb=function(){if(this.enabled){var a=this.n,b;0===this.behavior.yF?b=this.i.fg/60:(b=this.i.yg(this.n),b>1/30&&(b=1/30));if(this.i.gf>this.behavior.bt&&0<this.i.fg){this.Be.Eh(b,this.behavior.Cn,this.behavior.Pm);for(b=this.Be.Di.tb(tg);b;b=b.gb())b.body.k.Ia(),b.body.F=0;this.behavior.bt=this.i.gf}if(this.cy||a.width!==this.ct||a.height!==this.Ys||
a.Nb!==this.Vs||a.za!==this.Ws||a.vh&&a.ni)this.qo(),this.cy=!1,this.Vs=a.Nb,this.Ws=a.za,a.vh&&a.ni&&(a.ni=!1);b=a.M!==this.Kd;if(a.x!==this.rp||a.y!==this.sp){a.$a();var c=a.Kb.gi(),d=a.Kb.hi(),m=c-this.rp,l=d-this.sp,k=this.body,c=V(.02*c,.02*d);eg(k,c,k.Ei());hg(this.body,V(m,l));this.$s=!0;ig(this.body,!0)}else this.$s&&(this.$s=!1,hg(this.body,V(0,0)),m=this.body,l=V(.02*a.Kb.gi(),.02*a.Kb.hi()),eg(m,l,m.Ei()));b&&(this.body.tv(a.M),ig(this.body,!0));m=this.body.J.position;b=m.x/.02;m=m.y/.02;
l=this.body.Ei();if(b!==a.x||m!==a.y||l!==a.M)if(a.x=b,a.y=m,a.M=l,a.aa(),a.$a(),b=a.Kb.gi()-a.x,m=a.Kb.hi()-a.y,0!==b||0!==m)a.x-=b,a.y-=m,a.aa();this.rp=a.x;this.sp=a.y;this.Kd=a.M}};b.Vo=function(a){return-1!==a&&this.n.xf?0===a&&this.body?(this.body.J.position.x+this.body.q.V.x)/.02:this.n.xf(a,!0):this.n.x};b.Wo=function(a){return-1!==a&&this.n.xf?0===a&&this.body?(this.body.J.position.y+this.body.q.V.y)/.02:this.n.xf(a,!1):this.n.y};c.H=new function(){};a.prototype.Ci=function(a,b,c){if(this.enabled){var d=
this.Vo(c);c=this.Wo(c);this.body.Ci(V(a,b),V(.02*d,.02*c))}};a.prototype.$q=function(a){this.enabled&&this.body.$q(Pa(a))};a.prototype.Pn=function(a){this.enabled&&(this.body.Pn(Pa(a)),ig(this.body,!0))};b.bC=function(a,b,c,d,m){if(this.enabled){var l=this.i.Vf(b);if(l&&l!=this.n&&l.ma.qf){l.ma.qf.sg.bh.add(this.n);var k=this.Vo(a),n=this.Wo(a),q,r;l.xf?(q=l.xf(c,!0),r=l.xf(c,!1)):(q=l.x,r=l.y);c=k-q;a=n-r;b=new zi;l=l.ma.qf;k=V(.02*k,.02*n);q=V(.02*q,.02*r);b.j=this.body;b.k=l;b.N.S(Zd(b.j.J,k));
b.ea.S(Zd(b.k.J,q));l=q.x-k.x;k=q.y-k.y;b.length=Math.sqrt(l*l+k*k);b.K=0;b.F=0;b.length=.02*Math.sqrt(c*c+a*a);b.F=d;b.K=m;this.Ne.push(Xg(this.Be,b))}}};b.dC=function(a,b){if(this.enabled){var c=this.i.Vf(b);if(c&&c!=this.n&&c.ma.qf){c.ma.qf.sg.bh.add(this.n);var d=this.Vo(a),m=this.Wo(a),l=new Ri;Si(l,this.body,c.ma.qf,V(.02*d,.02*m));this.Ne.push(Xg(this.Be,l))}}};b.cC=function(a,b,c,d){if(this.enabled&&(b=this.i.Vf(b))&&b!=this.n&&b.ma.qf){b.ma.qf.sg.bh.add(this.n);var m=this.Vo(a);a=this.Wo(a);
var l=new Ri;Si(l,this.body,b.ma.qf,V(.02*m,.02*a));l.N=!0;l.ra=Pa(c);l.qa=Pa(d);this.Ne.push(Xg(this.Be,l))}};a.prototype.Of=function(a){this.enabled&&0===a?(this.Vv(),this.enabled=!1):this.enabled||1!==a||(this.enabled=!0,this.qo())};c.ka=new a;c.Ka=new function(){}})();function ej(a){this.i=a}
(function(){function a(){}var c=ej.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.na=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.na=function(){this.Tc=null;this.aq=-1;this.mode=this.Kd=this.Hq=this.Ek=this.mh=this.Om=0;var a=this;this.td||(this.li=function(b){a.uj(b)});this.i.Mj(this.li)};b.Ub=function(){return{uid:this.Tc?this.Tc.uid:-1,pa:this.Om,pd:this.mh,msa:this.Ek,tsa:this.Hq,lka:this.Kd,m:this.mode}};
b.Xb=function(a){this.aq=a.uid;this.Om=a.pa;this.mh=a.pd;this.Ek=a.msa;this.Hq=a.tsa;this.Kd=a.lka;this.mode=a.m};b.of=function(){-1===this.aq?this.Tc=null:this.Tc=this.i.Vf(this.aq);this.aq=-1};b.uj=function(a){this.Tc==a&&(this.Tc=null)};b.cf=function(){this.Tc=null;this.i.$t(this.li)};b.mb=function(){};b.sn=function(){if(this.Tc){this.Kd!==this.n.M&&(this.Ek=Ta(this.Ek+(this.n.M-this.Kd)));var a=this.n.x,b=this.n.y;if(3===this.mode||4===this.mode){var c=db(this.n.x,this.n.y,this.Tc.x,this.Tc.y);
if(c>this.mh||4===this.mode&&c<this.mh)b=Wa(this.Tc.x,this.Tc.y,this.n.x,this.n.y),a=this.Tc.x+Math.cos(b)*this.mh,b=this.Tc.y+Math.sin(b)*this.mh}else a=this.Tc.x+Math.cos(this.Tc.M+this.Om)*this.mh,b=this.Tc.y+Math.sin(this.Tc.M+this.Om)*this.mh;this.Kd=c=Ta(this.Ek+(this.Tc.M-this.Hq));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.n.x===a&&this.n.y===b||(this.n.x=a,this.n.y=b,this.n.aa());0!==this.mode&&2!==this.mode||this.n.M===c||(this.n.M=c,this.n.aa())}};c.H=new function(){};
a.prototype.TA=function(a,b){if(a){var c=a.ls(this.n);c&&(this.Tc=c,this.Om=Wa(c.x,c.y,this.n.x,this.n.y)-c.M,this.mh=db(c.x,c.y,this.n.x,this.n.y),this.Kd=this.Ek=this.n.M,this.Hq=c.M,this.mode=b)}};c.ka=new a;c.Ka=new function(){}})();function fj(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=fj.prototype;d.xa=function(a){this.behavior=a;this.i=a.i};d.xa.prototype.na=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.dn=this.yq=this.xq=this.Bs=this.nl=this.ul=this.nk=this.ok=this.Ym=this.um=!1;this.Yd=null;this.it=-1;this.hj=this.gj=0;this.Qo=!1;this.Th=this.Qf=0;this.No=!0;this.ba=this.Y=0};var g=d.ta.prototype;g.bz=function(){this.xc=Math.cos(this.ak);this.yc=Math.sin(this.ak);this.zj=
Math.cos(this.ak-Math.PI/2);this.Aj=Math.sin(this.ak-Math.PI/2);this.xc=Qb(this.xc);this.yc=Qb(this.yc);this.zj=Qb(this.zj);this.Aj=Qb(this.Aj);this.ds=this.od;0>this.od&&(this.xc*=-1,this.yc*=-1,this.od=Math.abs(this.od))};g.na=function(){this.Bk=this.U[0];this.ke=this.U[1];this.Vj=this.U[2];this.gm=this.U[3];this.ds=this.od=this.U[4];this.Hp=this.U[5];this.Ur=0!==this.U[6];this.Us=this.U[7]/1E3;this.WB=1===this.U[8];this.enabled=0!==this.U[9];this.bl=!1;this.cl=this.i.Kg(this.n);this.jt=-1;this.Ej=
0;this.ak=Pa(90);this.bz();var a=this;this.WB&&!this.i.cb&&(jQuery(document).keydown(function(b){a.Ft(b)}),jQuery(document).keyup(function(b){a.Gt(b)}));this.td||(this.li=function(b){a.uj(b)});this.i.Mj(this.li);this.n.ma.isPlatformBehavior=!0};g.Ub=function(){return{ii:this.Bs,lfx:this.gj,lfy:this.hj,lfo:this.Yd?this.Yd.uid:-1,am:this.Qf,en:this.enabled,fall:this.Th,ft:this.No,dx:this.Y,dy:this.ba,ms:this.Bk,acc:this.ke,dec:this.Vj,js:this.gm,g:this.od,g1:this.ds,mf:this.Hp,wof:this.bl,woj:this.cl?
this.cl.uid:-1,ga:this.ak,edj:this.Ur,cdj:this.nl,dj:this.ul,sus:this.Us}};g.Xb=function(a){this.Bs=a.ii;this.gj=a.lfx;this.hj=a.lfy;this.it=a.lfo;this.Qf=a.am;this.enabled=a.en;this.Th=a.fall;this.No=a.ft;this.Y=a.dx;this.ba=a.dy;this.Bk=a.ms;this.ke=a.acc;this.Vj=a.dec;this.gm=a.js;this.od=a.g;this.ds=a.g1;this.Hp=a.mf;this.bl=a.wof;this.jt=a.woj;this.ak=a.ga;this.Ur=a.edj;this.nl=a.cdj;this.ul=a.dj;this.Us=a.sus;this.dn=this.yq=this.xq=this.nk=this.ok=this.Ym=this.um=!1;this.Ej=0;this.bz()};g.of=
function(){-1===this.it?this.Yd=null:this.Yd=this.i.Vf(this.it);-1===this.jt?this.cl=null:this.cl=this.i.Vf(this.jt)};g.uj=function(a){this.Yd==a&&(this.Yd=null)};g.cf=function(){this.Yd=null;this.i.$t(this.li)};g.Ft=function(a){switch(a.which){case 38:a.preventDefault();this.ok=!0;break;case 37:a.preventDefault();this.um=!0;break;case 39:a.preventDefault(),this.Ym=!0}};g.Gt=function(a){switch(a.which){case 38:a.preventDefault();this.nk=this.ok=!1;break;case 37:a.preventDefault();this.um=!1;break;
case 39:a.preventDefault(),this.Ym=!1}};g.vj=function(){this.ok=this.Ym=this.um=!1};g.j=function(){return 0>this.od?-1:1};g.Gw=function(){var a=null,b=null,c,d;c=this.n.x;d=this.n.y;this.n.x+=this.xc;this.n.y+=this.yc;this.n.aa();if(this.Yd&&this.i.Od(this.n,this.Yd))return this.n.x=c,this.n.y=d,this.n.aa(),this.Yd;(a=this.i.gd(this.n))||0!==this.Th||(b=this.i.Kg(this.n,!0));this.n.x=c;this.n.y=d;this.n.aa();if(a){if(this.i.Od(this.n,a))return null;this.Qo=!1;return a}if(b&&b.length){d=a=0;for(c=
b.length;a<c;a++)b[d]=b[a],this.i.Od(this.n,b[a])||d++;if(1<=d)return this.Qo=!0,b[0]}return null};g.mb=function(){};g.Xx=function(){var a=this.i.yg(this.n),b,c,d,g,k,n,q,r,v;this.ok||this.dn||(this.nk=!1);var t=this.um||this.xq;d=this.Ym||this.yq;var p=(g=this.ok||this.dn)&&!this.nk;this.dn=this.yq=this.xq=!1;if(this.enabled){this.Bs&&(p=g=d=t=!1);g||(this.Ej=0);r=this.Yd;v=!1;this.No&&((this.i.gd(this.n)||this.i.Kg(this.n))&&this.i.Ff(this.n,-this.xc,-this.yc,4,!0),this.No=!1);!r||0!==this.ba||
r.y===this.hj&&r.x===this.gj||(b=r.x-this.gj,c=r.y-this.hj,this.n.x+=b,this.n.y+=c,this.n.aa(),this.gj=r.x,this.hj=r.y,v=!0,this.i.gd(this.n)&&this.i.Ff(this.n,-b,-c,2.5*Math.sqrt(b*b+c*c)));var u=this.Gw();if(c=this.i.gd(this.n))if(this.n.ma.inputPredicted)this.i.Ff(this.n,-this.xc,-this.yc,10,!1);else if(this.i.by(this.n,Math.max(this.n.width,this.n.height)/2))this.i.yj(this.n,c);else return;u?(this.nl=this.ul=!1,0<this.ba&&(this.bl||(this.i.Ut(this.n,-this.xc,-this.yc,u),this.bl=!0),this.ba=0),
r!=u)?(this.Yd=u,this.gj=u.x,this.hj=u.y,this.i.yj(this.n,u)):v&&(c=this.i.gd(this.n))&&(this.i.yj(this.n,c),0!==b&&(0<b?this.i.Ff(this.n,-this.zj,-this.Aj):this.i.Ff(this.n,this.zj,this.Aj)),this.i.Ff(this.n,-this.xc,-this.yc)):g||(this.nl=!0);if(u&&p||!u&&this.Ur&&g&&this.nl&&!this.ul)r=this.n.x,v=this.n.y,this.n.x-=this.xc,this.n.y-=this.yc,this.n.aa(),this.i.gd(this.n)?p=!1:(this.Ej=this.Us,this.i.trigger(fj.prototype.H.bv,this.n),this.Qf=2,this.ba=-this.gm,p=!0,u?this.nk=!0:this.ul=!0),this.n.x=
r,this.n.y=v,this.n.aa();u||(g&&0<this.Ej?(this.ba=-this.gm,this.Ej-=a):(this.Yd=null,this.ba+=this.od*a,this.ba>this.Hp&&(this.ba=this.Hp)),p&&(this.nk=!0));this.bl=!!u;t==d&&(0>this.Y?(this.Y+=this.Vj*a,0<this.Y&&(this.Y=0)):0<this.Y&&(this.Y-=this.Vj*a,0>this.Y&&(this.Y=0)));t&&!d&&(this.Y=0<this.Y?this.Y-(this.ke+this.Vj)*a:this.Y-this.ke*a);d&&!t&&(this.Y=0>this.Y?this.Y+(this.ke+this.Vj)*a:this.Y+this.ke*a);this.Y>this.Bk?this.Y=this.Bk:this.Y<-this.Bk&&(this.Y=-this.Bk);t=!1;0!==this.Y&&(r=
this.n.x,v=this.n.y,b=this.Y*a*this.zj,c=this.Y*a*this.Aj,this.n.x+=this.zj*(1<this.Y?1:-1)-this.xc,this.n.y+=this.Aj*(1<this.Y?1:-1)-this.yc,this.n.aa(),g=!1,k=this.i.gd(this.n),this.n.x=r+b,this.n.y=v+c,this.n.aa(),d=this.i.gd(this.n),!d&&u&&(d=this.i.Kg(this.n))&&(this.n.x=r,this.n.y=v,this.n.aa(),this.i.Od(this.n,d)?(d=null,g=!1):g=!0,this.n.x=r+b,this.n.y=v+c,this.n.aa()),d?(b=Math.abs(this.Y*a)+2,k||!this.i.Ff(this.n,-this.xc,-this.yc,b,g,d))?(this.i.yj(this.n,d),b=Math.max(Math.abs(this.Y*
a*2.5),30),this.i.Ff(this.n,this.zj*(0>this.Y?1:-1),this.Aj*(0>this.Y?1:-1),b,!1)?!u||g||this.Qo||(r=this.n.x,v=this.n.y,this.n.x+=this.xc,this.n.y+=this.yc,this.i.gd(this.n)?this.i.Ff(this.n,-this.xc,-this.yc,3,!1)||(this.n.x=r,this.n.y=v,this.n.aa()):(this.n.x=r,this.n.y=v,this.n.aa())):(this.n.x=r,this.n.y=v,this.n.aa()),g||(this.Y=0)):!k&&!p&&Math.abs(this.ba)<Math.abs(this.gm/4)&&(this.ba=0,u||(t=!0)):(r=this.Gw(),u&&!r?(c=Math.ceil(Math.abs(this.Y*a))+2,r=this.n.x,v=this.n.y,this.n.x+=this.xc*
c,this.n.y+=this.yc*c,this.n.aa(),this.i.gd(this.n)||this.i.Kg(this.n)?this.i.Ff(this.n,-this.xc,-this.yc,c+2,!0):(this.n.x=r,this.n.y=v,this.n.aa())):r&&0===this.ba&&this.i.Ut(this.n,-this.xc,-this.yc,r)));if(0!==this.ba){r=this.n.x;v=this.n.y;this.n.x+=this.ba*a*this.xc;this.n.y+=this.ba*a*this.yc;b=this.n.x;d=this.n.y;this.n.aa();c=this.i.gd(this.n);g=!1;if(!c&&0<this.ba&&!u){if((g=0<this.Th?null:this.i.Kg(this.n,!0))&&g.length){if(this.cl){this.n.x=r;this.n.y=v;this.n.aa();q=k=0;for(n=g.length;k<
n;k++)g[q]=g[k],this.i.Od(this.n,g[k])||q++;g.length=q;this.n.x=b;this.n.y=d;this.n.aa()}1<=g.length&&(c=g[0])}g=!!c}c&&(this.i.yj(this.n,c),this.Ej=0,b=g?Math.abs(this.ba*a*2.5+10):Math.max(Math.abs(this.ba*a*2.5+10),30),this.i.Ff(this.n,this.xc*(0>this.ba?1:-1),this.yc*(0>this.ba?1:-1),b,g,c)?(this.Yd=c,this.gj=c.x,this.hj=c.y,(this.Qo=g)&&(t=!0),this.ba=0):(this.n.x=r,this.n.y=v,this.n.aa(),this.bl=!0,g||(this.ba=0)))}3!==this.Qf&&0<this.ba&&!u&&(this.i.trigger(fj.prototype.H.jA,this.n),this.Qf=
3);if(u||t)3===this.Qf||t||p&&0===this.ba?(this.i.trigger(fj.prototype.H.hv,this.n),this.Qf=0===this.Y&&0===this.ba?0:1):(0!==this.Qf&&0===this.Y&&0===this.ba&&(this.i.trigger(fj.prototype.H.pv,this.n),this.Qf=0),1===this.Qf||0===this.Y&&0===this.ba||p||(this.i.trigger(fj.prototype.H.lv,this.n),this.Qf=1));0<this.Th&&this.Th--;this.cl=this.i.Kg(this.n)}};a.prototype.Vu=function(){return 0!==this.Y||0!==this.ba};a.prototype.Qz=function(){if(0!==this.ba)return!1;var a=null,b=null,c,d;c=this.n.x;d=this.n.y;
this.n.x+=this.xc;this.n.y+=this.yc;this.n.aa();(a=this.i.gd(this.n))||0!==this.Th||(b=this.i.Kg(this.n,!0));this.n.x=c;this.n.y=d;this.n.aa();if(a)return!this.i.Od(this.n,a);if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.i.Od(this.n,b[a])||d++;if(1<=d)return!0}return!1};a.prototype.Oz=function(){return 0>this.ba};a.prototype.bv=function(){return!0};a.prototype.jA=function(){return!0};a.prototype.pv=function(){return!0};a.prototype.lv=function(){return!0};a.prototype.hv=function(){return!0};
d.H=new a;c.prototype.jB=function(a){switch(a){case 0:this.xq=!0;break;case 1:this.yq=!0;break;case 2:this.dn=!0}};c.prototype.hB=function(a){this.Y=a};c.prototype.iB=function(a){this.ba=a};c.prototype.Of=function(a){this.enabled!==(1===a)&&(this.enabled=1===a,this.enabled||(this.Yd=null))};c.prototype.Ez=function(){var a=this.n.x,b=this.n.y;this.n.x+=this.xc;this.n.y+=this.yc;this.n.aa();var c=this.i.Kg(this.n,!1);this.n.x=a;this.n.y=b;this.n.aa();c&&(this.Th=3,this.Yd=null)};d.ka=new c;b.prototype.kr=
function(a){a.wa(Math.sqrt(this.Y*this.Y+this.ba*this.ba))};b.prototype.rB=function(a){a.wa(this.Y)};b.prototype.sB=function(a){a.wa(this.ba)};d.Ka=new b})();function ij(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=ij.prototype;d.xa=function(a){this.behavior=a;this.i=a.i};d.xa.prototype.na=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.Ni=this.ba=this.Y=0};var g=d.ta.prototype;g.na=function(){this.Uk=this.U[0];this.Wt=this.U[1];this.enabled=0!==this.U[2]};g.Ub=function(){return{dx:this.Y,dy:this.ba,cancelStep:this.Ni,enabled:this.enabled,stepMode:this.Uk,pxPerStep:this.Wt}};g.Xb=function(a){this.Y=a.dx;
this.ba=a.dy;this.Ni=a.cancelStep;this.enabled=a.enabled;this.Uk=a.stepMode;this.Wt=a.pxPerStep};g.Jl=function(){return Math.sqrt(this.Y*this.Y+this.ba*this.ba)};g.Sb=function(){return Math.atan2(this.ba,this.Y)};g.step=function(a,b,c){if(0!==a||0!==b){var d=this.n.x,g=this.n.y,k,n=Math.round(Math.sqrt(a*a+b*b)/this.Wt);0===n&&(n=1);var q;for(q=1;q<=n;q++)if(k=q/n,this.n.x=d+a*k,this.n.y=g+b*k,this.n.aa(),this.i.trigger(c,this.n),1===this.Ni){q--;k=q/n;this.n.x=d+a*k;this.n.y=g+b*k;this.n.aa();break}else if(2===
this.Ni)break}};g.mb=function(){var a=this.i.yg(this.n),b=this.Y*a,a=this.ba*a;0===this.Y&&0===this.ba||!this.enabled||(this.Ni=0,0===this.Uk?(this.n.x+=b,this.n.y+=a):1===this.Uk?this.step(b,a,ij.prototype.H.aA):2===this.Uk?(this.step(b,0,ij.prototype.H.Xu),this.Ni=0,this.step(0,a,ij.prototype.H.Yu)):3===this.Uk&&(this.step(0,a,ij.prototype.H.Yu),this.Ni=0,this.step(b,0,ij.prototype.H.Xu)),this.n.aa())};a.prototype.Vu=function(){return 0!=this.Y||0!=this.ba};a.prototype.aA=function(){return!0};a.prototype.Xu=
function(){return!0};a.prototype.Yu=function(){return!0};d.H=new a;c.prototype.vv=function(a,b){var c;switch(a){case 0:c=this.Sb();this.Y=Math.cos(c)*b;this.ba=Math.sin(c)*b;break;case 1:this.Y=b;break;case 2:this.ba=b}};c.prototype.jz=function(a,b,c){a=a*this.i.yg(this.n);b=Math.atan2(c-this.n.y,b-this.n.x);this.Y+=Math.cos(b)*a;this.ba+=Math.sin(b)*a};c.prototype.uv=function(a){a=Pa(a);var b=this.Jl();this.Y=Math.cos(a)*b;this.ba=Math.sin(a)*b};c.prototype.Of=function(a){this.enabled=1===a};d.ka=
new c;b.prototype.kr=function(a){a.wa(this.Jl())};b.prototype.Y=function(a){a.wa(this.Y)};b.prototype.ba=function(a){a.wa(this.ba)};d.Ka=new b})();function jj(a){this.i=a}
(function(){var a=jj.prototype;a.xa=function(a){this.behavior=a;this.i=a.i};a.xa.prototype.na=function(){};a.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.ta.prototype;a.na=function(){};a.mb=function(){this.n.$a();var a=this.n.Jb,b=this.n.O.pc;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.i.Ce(this.n)}})();function hd(a){this.i=a}
(function(){function a(){}var c=hd.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.na=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.na=function(){this.n.ma.jumpthruEnabled=0!==this.U[0]};b.mb=function(){};c.H=new function(){};a.prototype.Of=function(a){this.n.ma.jumpthruEnabled=!!a};c.ka=new a})();function kj(a){this.i=a;this.pu=this.wq=this.cn=this.ou=0}
(function(){function a(){}var c=kj.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.na=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.na=function(){this.enabled=0!==this.U[0]};b.Ub=function(){return{smg:this.behavior.ou,ss:this.behavior.cn,se:this.behavior.wq,smd:this.behavior.pu}};b.Xb=function(a){this.behavior.ou=a.smg;this.behavior.cn=a.ss;this.behavior.wq=a.se;this.behavior.pu=a.smd};b.mb=function(){};b.sn=
function(){if(this.enabled){var a=this.behavior.Ip.ig(),b=0,c=0,f,h,m,l=0;f=0;for(h=a.length;f<h;f++){a:{m=a[f];for(var k=void 0,n=void 0,q=void 0,k=0,n=m.Ja.length;k<n;++k)if(q=m.Ja[k],q.behavior instanceof kj){m=q;break a}m=null}m&&m.enabled&&(b+=a[f].x,c+=a[f].y,++l)}a=this.n.O.pc;h=this.i.bd.Va;m=f=0;h>=this.behavior.cn&&h<this.behavior.wq&&(f=this.behavior.ou*Math.min(this.i.fg,1),0===this.behavior.pu&&(f*=1-(h-this.behavior.cn)/(this.behavior.wq-this.behavior.cn)),h=Math.random()*Math.PI*2,
m=Math.random()*f,f=Math.cos(h)*m,m*=Math.sin(h));a.iu(b/l+f);a.ju(c/l+m)}};a.prototype.Of=function(a){this.enabled=0!==a};c.ka=new a})();function gd(a){this.i=a}
(function(){function a(){}var c=gd.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.na=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.na=function(){this.n.ma.solidEnabled=0!==this.U[0]};b.mb=function(){};c.H=new function(){};a.prototype.Of=function(a){this.n.ma.solidEnabled=!!a};c.ka=new a})();function lj(a){this.i=a}
(function(){var a=lj.prototype;a.xa=function(a){this.behavior=a;this.i=a.i};a.xa.prototype.na=function(){};a.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.ta.prototype;a.na=function(){this.mode=this.U[0]};a.mb=function(){var a=this.n;a.$a();var b=a.Jb,d=a.O,g=d.pc,e=0,f=0,h=0,m=0;0===this.mode?(f=g.width,m=g.height):(e=d.qb,f=d.Fb,h=d.rb,m=d.Eb);b.right<e?(a.x=f-1+(a.x-b.left),a.aa()):b.left>f?(a.x=e+1-(b.right-a.x),a.aa()):b.bottom<h?(a.y=m-1+(a.y-b.top),a.aa()):
b.top>m&&(a.y=h+1-(b.bottom-a.y),a.aa())}})();
function fd(){return[md,Gd,nd,yd,zd,Ad,id,Ed,Cd,Bd,Dd,Fd,kd,jd,ld,hd,cj,gd,ej,lj,kj,Jd,jj,ij,Hd,Id,fj,L.prototype.H.Dz,L.prototype.Ka.random,L.prototype.H.SA,L.prototype.H.uz,id.prototype.ka.kB,L.prototype.H.Nz,L.prototype.H.iv,Bd.prototype.ka.nz,Bd.prototype.ka.jr,md.prototype.H.Ln,L.prototype.ka.gB,Cd.prototype.Ka.Text,md.prototype.ka.Of,L.prototype.ka.VA,L.prototype.ka.Hz,ld.prototype.H.Mz,L.prototype.Ka.WE,kd.prototype.ka.UA,ld.prototype.H.hr,id.prototype.H.Rz,id.prototype.H.vz,L.prototype.ka.$A,
id.prototype.H.dA,id.prototype.ka.Ud,nd.prototype.H.Pz,Gd.prototype.H.Uu,fj.prototype.ka.jB,L.prototype.H.sz,fj.prototype.Ka.rB,id.prototype.ka.YA,id.prototype.ka.dB,nd.prototype.H.cv,Gd.prototype.H.$z,fj.prototype.ka.Ez,fj.prototype.H.lv,fj.prototype.H.Qz,id.prototype.ka.XA,L.prototype.ka.Bz,id.prototype.Ka.nr,id.prototype.Ka.or,id.prototype.Ka.Iz,Ad.prototype.ka.aB,Ad.prototype.ka.bB,fj.prototype.H.bv,fj.prototype.H.pv,fj.prototype.H.hv,fj.prototype.H.Vu,id.prototype.Ka.Az,Hd.prototype.ka.vv,Hd.prototype.Ka.kr,
ej.prototype.ka.TA,Ad.prototype.ka.wB,id.prototype.ka.eB,id.prototype.H.Kz,Hd.prototype.ka.uv,L.prototype.H.Su,Hd.prototype.H.wz,jd.prototype.ka.CallFunction,id.prototype.ka.kz,id.prototype.ka.cB,Jd.prototype.H.av,L.prototype.ka.lz,fj.prototype.H.Oz,fj.prototype.ka.iB,fj.prototype.Ka.sB,jd.prototype.H.Nn,id.prototype.ka.mB,Jd.prototype.ka.Fz,L.prototype.H.Gz,id.prototype.Ka.pB,id.prototype.H.yz,id.prototype.H.zz,id.prototype.H.$u,L.prototype.H.xz,ij.prototype.ka.jz,Id.prototype.ka.lB,id.prototype.ka.nB,
L.prototype.H.RA,fj.prototype.ka.Of,id.prototype.ka.ZA,fj.prototype.ka.hB,id.prototype.ka.WA,id.prototype.H.Ng,yd.prototype.H.dr,jd.prototype.Ka.QA,id.prototype.ka.wv,Bd.prototype.H.Ng,Fd.prototype.H.Sz,L.prototype.ka.fB,L.prototype.Ka.fg,Bd.prototype.ka.Qn,Dd.prototype.ka.Qn,id.prototype.Ka.tB]};
