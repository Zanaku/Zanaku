// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var z,ca,da,fa,ga,ka,ma,oa,pa,qa,ra,sa,ta,ua,wa,xa,ya,Aa,Ba,Ca,Da,Ea,Fa,Ha,H,Ia,Ka,La,Na,Oa,Pa,Qa,Ta,Ua,Va,Wa,Xa,Ya,$a,ab,bb,db,eb,fb,gb,jb,ob,pb,wb,xb,Cb,Db,Eb,Fb,Hb,Ib,Jb,Kb,Lb,Qb,Rb,Sb,Wb,Xb,cc,dc,ec,fc,gc,hc,ic,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Mc,Uc,Vc,Wc,Xc,Yc,Zc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,g,b,k){this.set(a,g,b,k)}function c(){this.Nd=this.Md=this.Pd=this.Od=this.ae=this.$d=this.ed=this.dd=0}function b(a,g,b,k){a<g?b<k?(u=a<b?a:b,t=g>k?g:k):(u=a<k?a:k,t=g>b?g:b):b<k?(u=g<b?g:b,t=a>k?a:k):(u=g<k?g:k,t=a>b?a:b)}function d(){this.items=this.Yg=null;this.qn=0;D&&(this.Yg=new Set);this.Tl=[];this.gi=!0}function h(a){C[E++]=a}function f(){this.Va=this.Or=this.y=this.I=0}function e(a){this.Ob=[];this.fp=this.hp=this.ip=this.gp=0;this.rp=null;this.ho(a)}function g(a,
g){this.Vc=a;this.jd=g;this.cells={}}function l(a,g){this.Vc=a;this.jd=g;this.cells={}}function m(a,g,b){var k;return A.length?(k=A.pop(),k.It=a,k.x=g,k.y=b,k):new da(a,g,b)}function k(a,g,b){this.It=a;this.x=g;this.y=b;this.od=new fa}function n(a,g,b){var k;return x.length?(k=x.pop(),k.It=a,k.x=g,k.y=b,k):new ga(a,g,b)}function p(a,g,b){this.It=a;this.x=g;this.y=b;this.od=[];this.el=!0;this.Wg=new fa;this.rm=!1}function q(a,g){return a.wg-g.wg}ka=function(a){window.console&&window.console.log&&window.console.log(a)};
ma=function(a){window.console&&window.console.error&&window.console.error(a)};ca=function(a){return a};oa=function(a){return"undefined"===typeof a};pa=function(a){return"number"===typeof a};qa=function(a){return"string"===typeof a};ra=function(a){return 0<a&&0===(a-1&a)};sa=function(a){--a;for(var g=1;32>g;g<<=1)a=a|a>>g;return a+1};ta=function(a){return 0>a?-a:a};ua=function(a,g){return a>g?a:g};wa=function(a,g){return a<g?a:g};xa=Math.PI;ya=function(a){return 0<=a?a|0:(a|0)-1};Aa=function(a){var g=
a|0;return g===a?g:g+1};Ba=function(a,g,b,k,l,c,d,e){var m,f,n,h;a<b?(f=a,m=b):(f=b,m=a);l<d?(h=l,n=d):(h=d,n=l);if(m<h||f>n)return!1;g<k?(f=g,m=k):(f=k,m=g);c<e?(h=c,n=e):(h=e,n=c);if(m<h||f>n)return!1;m=l-a+d-b;f=c-g+e-k;a=b-a;g=k-g;l=d-l;c=e-c;e=ta(g*l-c*a);return ta(l*f-c*m)>e?!1:ta(a*f-g*m)<=e};a.prototype.set=function(a,g,b,k){this.left=a;this.top=g;this.right=b;this.bottom=k};a.prototype.Fk=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=
function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,g){this.left+=a;this.top+=g;this.right+=a;this.bottom+=g;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.KG=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.LG=
function(a,g,b){return!(a.right+g<this.left||a.bottom+b<this.top||a.left+g>this.right||a.top+b>this.bottom)};a.prototype.Qd=function(a,g){return a>=this.left&&a<=this.right&&g>=this.top&&g<=this.bottom};a.prototype.Fm=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};Ca=a;c.prototype.Ll=function(a){this.dd=a.left;this.ed=a.top;this.$d=a.right;this.ae=a.top;this.Od=a.right;this.Pd=a.bottom;this.Md=a.left;this.Nd=a.bottom};c.prototype.Zz=function(a,
g){if(0===g)this.Ll(a);else{var b=Math.sin(g),k=Math.cos(g),l=a.left*b,c=a.top*b,d=a.right*b,b=a.bottom*b,e=a.left*k,m=a.top*k,f=a.right*k,k=a.bottom*k;this.dd=e-c;this.ed=m+l;this.$d=f-c;this.ae=m+d;this.Od=f-b;this.Pd=k+d;this.Md=e-b;this.Nd=k+l}};c.prototype.offset=function(a,g){this.dd+=a;this.ed+=g;this.$d+=a;this.ae+=g;this.Od+=a;this.Pd+=g;this.Md+=a;this.Nd+=g;return this};var u=0,t=0;c.prototype.gx=function(a){b(this.dd,this.$d,this.Od,this.Md);a.left=u;a.right=t;b(this.ed,this.ae,this.Pd,
this.Nd);a.top=u;a.bottom=t};c.prototype.Qd=function(a,g){var b=this.dd,k=this.ed,l=this.$d-b,c=this.ae-k,d=this.Od-b,e=this.Pd-k,m=a-b,f=g-k,n=l*l+c*c,h=l*d+c*e,c=l*m+c*f,p=d*d+e*e,q=d*m+e*f,r=1/(n*p-h*h),l=(p*c-h*q)*r,n=(n*q-h*c)*r;if(0<=l&&0<n&&1>l+n)return!0;l=this.Md-b;c=this.Nd-k;n=l*l+c*c;h=l*d+c*e;c=l*m+c*f;r=1/(n*p-h*h);l=(p*c-h*q)*r;n=(n*q-h*c)*r;return 0<=l&&0<n&&1>l+n};c.prototype.ag=function(a,g){if(g)switch(a){case 0:return this.dd;case 1:return this.$d;case 2:return this.Od;case 3:return this.Md;
case 4:return this.dd;default:return this.dd}else switch(a){case 0:return this.ed;case 1:return this.ae;case 2:return this.Pd;case 3:return this.Nd;case 4:return this.ed;default:return this.ed}};c.prototype.Oi=function(){return(this.dd+this.$d+this.Od+this.Md)/4};c.prototype.Pi=function(){return(this.ed+this.ae+this.Pd+this.Nd)/4};c.prototype.jy=function(a){var g=a.Oi(),b=a.Pi();if(this.Qd(g,b))return!0;g=this.Oi();b=this.Pi();if(a.Qd(g,b))return!0;var k,l,c,d,e,m,f,n;for(f=0;4>f;f++)for(n=0;4>n;n++)if(g=
this.ag(f,!0),b=this.ag(f,!1),k=this.ag(f+1,!0),l=this.ag(f+1,!1),c=a.ag(n,!0),d=a.ag(n,!1),e=a.ag(n+1,!0),m=a.ag(n+1,!1),Ba(g,b,k,l,c,d,e,m))return!0;return!1};Da=c;Ea=function(a,g){for(var b in g)g.hasOwnProperty(b)&&(a[b]=g[b]);return a};Fa=function(a,g){var b,k;g=ya(g);if(!(0>g||g>=a.length)){b=g;for(k=a.length-1;b<k;b++)a[b]=a[b+1];Ha(a,k)}};Ha=function(a,g){a.length=g};H=function(a){Ha(a,0)};Ia=function(a,g){H(a);var b,k;b=0;for(k=g.length;b<k;++b)a[b]=g[b]};Ka=function(a,g){a.push.apply(a,
g)};La=function(a,g){var b,k;b=0;for(k=a.length;b<k;++b)if(a[b]===g)return b;return-1};Na=function(a,g){var b=La(a,g);-1!==b&&Fa(a,b)};Oa=function(a,g,b){return a<g?g:a>b?b:a};Pa=function(a){return a/(180/xa)};Qa=function(a){return 180/xa*a};Ta=function(a){a%=360;0>a&&(a+=360);return a};Ua=function(a){a%=2*xa;0>a&&(a+=2*xa);return a};Va=function(a){return Ta(Qa(a))};Wa=function(a){return Ua(Pa(a))};Xa=function(a,g,b,k){return Math.atan2(k-g,b-a)};Ya=function(a,g){if(a===g)return 0;var b=Math.sin(a),
k=Math.cos(a),l=Math.sin(g),c=Math.cos(g),b=b*l+k*c;return 1<=b?0:-1>=b?xa:Math.acos(b)};$a=function(a,g,b){var k=Math.sin(a),l=Math.cos(a),c=Math.sin(g),d=Math.cos(g);return Math.acos(k*c+l*d)>b?0<l*c-k*d?Ua(a+b):Ua(a-b):Ua(g)};ab=function(a,g){var b=Math.sin(a),k=Math.cos(a),l=Math.sin(g),c=Math.cos(g);return 0>=k*l-b*c};bb=function(a,g,b,k,l,c){if(0===b)return c?a:g;var d=Math.sin(b);b=Math.cos(b);a-=k;g-=l;var e=a*d;a=a*b-g*d;g=g*b+e;return c?a+k:g+l};db=function(a,g,b,k){a=b-a;g=k-g;return Math.sqrt(a*
a+g*g)};eb=function(a,g){return!a!==!g};fb=function(a,g,b){return a===g?0:(b-a)/(g-a)};gb=function(a,g,b){var k=Ya(a,g);return ab(g,a)?a+k*b:a-k*b};jb=function(a){for(var g in a)if(a.hasOwnProperty(g))return!0;return!1};ob=function(a){for(var g in a)a.hasOwnProperty(g)&&delete a[g]};var v=+new Date;pb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==
typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-v};var r=!1,y=r=!1,B=!1;"undefined"!==typeof window&&(r=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),r=!r&&/safari/i.test(navigator.userAgent),y=/(iphone|ipod|ipad)/i.test(navigator.userAgent),B=window.c2ejecta);var D=!r&&!B&&!y&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.sh()?!1:D?this.Yg.has(a):this.items&&
this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(D)this.Yg.has(a)||(this.Yg.add(a),this.gi=!1);else{var g=a.toString(),b=this.items;b?b.hasOwnProperty(g)||(b[g]=a,this.qn++,this.gi=!1):(this.items={},this.items[g]=a,this.qn=1,this.gi=!1)}};d.prototype.remove=function(a){if(!this.sh())if(D)this.Yg.has(a)&&(this.Yg["delete"](a),this.gi=!1);else if(this.items){a=a.toString();var g=this.items;g.hasOwnProperty(a)&&(delete g[a],this.qn--,this.gi=!1)}};d.prototype.clear=function(){this.sh()||
(D?this.Yg.clear():(this.items=null,this.qn=0),H(this.Tl),this.gi=!0)};d.prototype.sh=function(){return 0===this.count()};d.prototype.count=function(){return D?this.Yg.size:this.qn};var C=null,E=0;d.prototype.rI=function(){if(!this.gi){if(D)H(this.Tl),C=this.Tl,E=0,this.Yg.forEach(h),C=null,E=0;else{var a=this.Tl;H(a);var g,b=0,k=this.items;if(k)for(g in k)k.hasOwnProperty(g)&&(a[b++]=k[g])}this.gi=!0}};d.prototype.vg=function(){this.rI();return this.Tl};fa=d;new fa;wb=function(a,g){D?xb(a,g.Yg):
Cb(a,g.vg())};xb=function(a,g){var b,k,l,c;k=b=0;for(l=a.length;b<l;++b)c=a[b],g.has(c)||(a[k++]=c);Ha(a,k)};Cb=function(a,g){var b,k,l,c;k=b=0;for(l=a.length;b<l;++b)c=a[b],-1===La(g,c)&&(a[k++]=c);Ha(a,k)};f.prototype.add=function(a){this.y=a-this.I;this.Or=this.Va+this.y;this.I=this.Or-this.Va-this.y;this.Va=this.Or};f.prototype.reset=function(){this.Va=this.Or=this.y=this.I=0};Db=f;Eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.ho=function(a){this.Gz=a;this.ne=
a.length/2;this.Ob.length=a.length;this.np=this.op=-1;this.jx=0};e.prototype.Qj=function(){return!this.Gz.length};e.prototype.cb=function(){for(var a=this.Ob,g=a[0],b=g,k=a[1],l=k,c,d,e=1,m=this.ne;e<m;++e)d=2*e,c=a[d],d=a[d+1],c<g&&(g=c),c>b&&(b=c),d<k&&(k=d),d>l&&(l=d);this.gp=g;this.hp=b;this.ip=k;this.fp=l};e.prototype.Ll=function(a,g,b){this.Ob.length=8;this.ne=4;var k=this.Ob;k[0]=a.left-g;k[1]=a.top-b;k[2]=a.right-g;k[3]=a.top-b;k[4]=a.right-g;k[5]=a.bottom-b;k[6]=a.left-g;k[7]=a.bottom-b;
this.op=a.right-a.left;this.np=a.bottom-a.top;this.cb()};e.prototype.Kl=function(a,g,b,k,l){this.Ob.length=8;this.ne=4;var c=this.Ob;c[0]=a.dd-g;c[1]=a.ed-b;c[2]=a.$d-g;c[3]=a.ae-b;c[4]=a.Od-g;c[5]=a.Pd-b;c[6]=a.Md-g;c[7]=a.Nd-b;this.op=k;this.np=l;this.cb()};e.prototype.Yz=function(a){this.ne=a.ne;Ia(this.Ob,a.Ob);this.gp=a.gp;this.ip-a.ip;this.hp=a.hp;this.fp=a.fp};e.prototype.fi=function(a,g,b){if(this.op!==a||this.np!==g||this.jx!==b){this.op=a;this.np=g;this.jx=b;var k,l,c,d,e,m=0,f=1,n=this.Gz,
h=this.Ob;0!==b&&(m=Math.sin(b),f=Math.cos(b));b=0;for(c=this.ne;b<c;b++)k=2*b,l=k+1,d=n[k]*a,e=n[l]*g,h[k]=d*f-e*m,h[l]=e*f+d*m;this.cb()}};e.prototype.Qd=function(a,g){var b=this.Ob;if(a===b[0]&&g===b[1])return!0;var k,l,c,d=this.ne,e=this.gp-110,m=this.ip-101,f=this.hp+131,n=this.fp+120,h,p,q=0,r=0;for(k=0;k<d;k++)l=2*k,c=(k+1)%d*2,h=b[l],l=b[l+1],p=b[c],c=b[c+1],Ba(e,m,a,g,h,l,p,c)&&q++,Ba(f,n,a,g,h,l,p,c)&&r++;return 1===q%2||1===r%2};e.prototype.bn=function(a,g,b){var k=a.Ob,l=this.Ob;if(this.Qd(k[0]+
g,k[1]+b)||a.Qd(l[0]-g,l[1]-b))return!0;var c,d,e,m,f,n,h,p,q,r,v,y;c=0;for(m=this.ne;c<m;c++)for(d=2*c,e=(c+1)%m*2,p=l[d],d=l[d+1],q=l[e],r=l[e+1],e=0,h=a.ne;e<h;e++)if(f=2*e,n=(e+1)%h*2,v=k[f]+g,f=k[f+1]+b,y=k[n]+g,n=k[n+1]+b,Ba(p,d,q,r,v,f,y,n))return!0;return!1};e.prototype.fH=function(a){var g,b,k;g=0;for(b=this.ne;g<b;++g)k=2*g,this.Ob[k]=2*a-this.Ob[k]};e.prototype.MF=function(a){var g,b,k;g=0;for(b=this.ne;g<b;++g)k=2*g+1,this.Ob[k]=2*a-this.Ob[k]};e.prototype.CE=function(){var a,g,b,k,l;
a=0;for(g=this.ne;a<g;++a)b=2*a,k=b+1,l=this.Ob[b],this.Ob[b]=this.Ob[k],this.Ob[k]=l};Fb=e;g.prototype.si=function(a,g,b){var k;k=this.cells[a];return k?(k=k[g])?k:b?(k=m(this,a,g),this.cells[a][g]=k):null:b?(k=m(this,a,g),this.cells[a]={},this.cells[a][g]=k):null};g.prototype.te=function(a){return ya(a/this.Vc)};g.prototype.ue=function(a){return ya(a/this.jd)};g.prototype.update=function(a,g,b){var k,l,c,d,e;if(g)for(k=g.left,l=g.right;k<=l;++k)for(c=g.top,d=g.bottom;c<=d;++c)if(!b||!b.Qd(k,c))if(e=
this.si(k,c,!1))e.remove(a),e.sh()&&(e.od.clear(),1E3>A.length&&A.push(e),this.cells[k][c]=null);if(b)for(k=b.left,l=b.right;k<=l;++k)for(c=b.top,d=b.bottom;c<=d;++c)g&&g.Qd(k,c)||this.si(k,c,!0).Tt(a)};g.prototype.jr=function(a,g){var b,k,l,c,d,e;b=this.te(a.left);l=this.ue(a.top);k=this.te(a.right);for(d=this.ue(a.bottom);b<=k;++b)for(c=l;c<=d;++c)(e=this.si(b,c,!1))&&e.dump(g)};Hb=g;l.prototype.si=function(a,g,b){var k;k=this.cells[a];return k?(k=k[g])?k:b?(k=n(this,a,g),this.cells[a][g]=k):null:
b?(k=n(this,a,g),this.cells[a]={},this.cells[a][g]=k):null};l.prototype.te=function(a){return ya(a/this.Vc)};l.prototype.ue=function(a){return ya(a/this.jd)};l.prototype.update=function(a,g,b){var k,l,c,d,e;if(g)for(k=g.left,l=g.right;k<=l;++k)for(c=g.top,d=g.bottom;c<=d;++c)if(!b||!b.Qd(k,c))if(e=this.si(k,c,!1))e.remove(a),e.sh()&&(e.reset(),1E3>x.length&&x.push(e),this.cells[k][c]=null);if(b)for(k=b.left,l=b.right;k<=l;++k)for(c=b.top,d=b.bottom;c<=d;++c)g&&g.Qd(k,c)||this.si(k,c,!0).Tt(a)};l.prototype.jr=
function(a,g,b,k,l){var c,d;a=this.te(a);g=this.ue(g);b=this.te(b);for(c=this.ue(k);a<=b;++a)for(k=g;k<=c;++k)(d=this.si(a,k,!1))&&d.dump(l)};l.prototype.bH=function(a){var g,b,k,l,c;g=a.left;k=a.top;b=a.right;for(l=a.bottom;g<=b;++g)for(a=k;a<=l;++a)if(c=this.si(g,a,!1))c.el=!1};Ib=l;var A=[];k.prototype.sh=function(){return this.od.sh()};k.prototype.Tt=function(a){this.od.add(a)};k.prototype.remove=function(a){this.od.remove(a)};k.prototype.dump=function(a){Ka(a,this.od.vg())};da=k;var x=[];p.prototype.sh=
function(){if(!this.od.length)return!0;if(this.od.length>this.Wg.count())return!1;this.mt();return!0};p.prototype.Tt=function(a){this.Wg.contains(a)?(this.Wg.remove(a),this.Wg.sh()&&(this.rm=!1)):this.od.length?(this.od[this.od.length-1].Og()>a.Og()&&(this.el=!1),this.od.push(a)):(this.od.push(a),this.el=!0)};p.prototype.remove=function(a){this.Wg.add(a);this.rm=!0;30<=this.Wg.count()&&this.mt()};p.prototype.mt=function(){this.rm&&(this.Wg.count()===this.od.length?this.reset():(wb(this.od,this.Wg),
this.Wg.clear(),this.rm=!1))};p.prototype.fF=function(){this.el||(this.od.sort(q),this.el=!0)};p.prototype.reset=function(){H(this.od);this.el=!0;this.Wg.clear();this.rm=!1};p.prototype.dump=function(a){this.mt();this.fF();this.od.length&&a.push(this.od)};ga=p;var w="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Jb=function(a){return 0>=a||11<=a?"source-over":w[a-1]};Kb=function(a,g,b){if(b)switch(a.Wd=b.ONE,a.Rd=b.ONE_MINUS_SRC_ALPHA,
g){case 1:a.Wd=b.ONE;a.Rd=b.ONE;break;case 3:a.Wd=b.ONE;a.Rd=b.ZERO;break;case 4:a.Wd=b.ONE_MINUS_DST_ALPHA;a.Rd=b.ONE;break;case 5:a.Wd=b.DST_ALPHA;a.Rd=b.ZERO;break;case 6:a.Wd=b.ZERO;a.Rd=b.SRC_ALPHA;break;case 7:a.Wd=b.ONE_MINUS_DST_ALPHA;a.Rd=b.ZERO;break;case 8:a.Wd=b.ZERO;a.Rd=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Wd=b.DST_ALPHA;a.Rd=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Wd=b.ONE_MINUS_DST_ALPHA,a.Rd=b.SRC_ALPHA}};Lb=function(a){return Math.round(1E6*a)/1E6};Qb=function(a,g){return"string"!==
typeof a||"string"!==typeof g||a.length!==g.length?!1:a===g?!0:a.toLowerCase()===g.toLowerCase()};Rb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Qb(a.tagName,"canvas")?!0:!1}})();var $c="undefined"!==typeof Float32Array?Float32Array:Array;function ad(a){var c=new $c(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function bd(a){var c=new $c(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function cd(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function dd(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function ed(a,c,b,d){d||(d=bd());var h,f,e,g,l,m,k,n,p=a[0],q=a[1];a=a[2];f=b[0];e=b[1];h=b[2];b=c[1];m=c[2];p===c[0]&&q===b&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=p-c[0],m=q-c[1],k=a-c[2],n=1/Math.sqrt(b*b+m*m+k*k),b*=n,m*=n,k*=n,c=e*k-h*m,h=h*b-f*k,f=f*m-e*b,(n=Math.sqrt(c*c+h*h+f*f))?(n=1/n,c*=n,h*=n,f*=n):f=h=c=0,e=m*f-k*h,g=k*c-b*f,l=b*h-m*c,(n=Math.sqrt(e*e+g*g+l*l))?(n=1/n,e*=n,g*=n,l*=n):l=g=e=0,
d[0]=c,d[1]=e,d[2]=b,d[3]=0,d[4]=h,d[5]=g,d[6]=m,d[7]=0,d[8]=f,d[9]=l,d[10]=k,d[11]=0,d[12]=-(c*p+h*q+f*a),d[13]=-(e*p+g*q+l*a),d[14]=-(b*p+m*q+k*a),d[15]=1)}
(function(){function a(a,b,c){this.uh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Wb=!!c;this.pq=this.gn=!1;this.zp=0;this.ls=1;this.Sv=1E3;this.zI=(this.Sv-this.ls)/32768;this.Ss=ad([0,0,100]);this.Hy=ad([0,0,0]);this.BA=ad([0,1,0]);this.Lo=ad([1,1,1]);this.Ex=!0;this.Gq=bd();this.lf=bd();this.ku=bd();this.$s=bd();this.Aa=a;this.fy()}function c(a,b,c){this.Aa=a;this.jo=b;this.name=c;this.Mf=a.getAttribLocation(b,"aPos");this.Li=a.getAttribLocation(b,
"aTex");this.Fy=a.getUniformLocation(b,"matP");this.Cq=a.getUniformLocation(b,"matMV");this.tl=a.getUniformLocation(b,"opacity");this.tu=a.getUniformLocation(b,"colorFill");this.Gy=a.getUniformLocation(b,"samplerFront");this.Cn=a.getUniformLocation(b,"samplerBack");this.Zj=a.getUniformLocation(b,"destStart");this.Yj=a.getUniformLocation(b,"destEnd");this.En=a.getUniformLocation(b,"seconds");this.vu=a.getUniformLocation(b,"pixelWidth");this.uu=a.getUniformLocation(b,"pixelHeight");this.Bn=a.getUniformLocation(b,
"layerScale");this.An=a.getUniformLocation(b,"layerAngle");this.Fn=a.getUniformLocation(b,"viewOrigin");this.Dn=a.getUniformLocation(b,"scrollPos");this.EG=!!(this.vu||this.uu||this.En||this.Cn||this.Zj||this.Yj||this.Bn||this.An||this.Fn||this.Dn);this.Py=this.Qy=-999;this.Fq=1;this.Ly=this.Ky=0;this.Ny=this.Jy=this.Iy=1;this.Ty=this.Sy=this.Ry=this.Vy=this.Uy=this.My=0;this.iu=[];this.Oy=bd();this.tl&&a.uniform1f(this.tl,1);this.tu&&a.uniform4f(this.tu,1,1,1,1);this.Gy&&a.uniform1i(this.Gy,0);this.Cn&&
a.uniform1i(this.Cn,1);this.Zj&&a.uniform2f(this.Zj,0,0);this.Yj&&a.uniform2f(this.Yj,1,1);this.Bn&&a.uniform1f(this.Bn,1);this.An&&a.uniform1f(this.An,0);this.Fn&&a.uniform2f(this.Fn,0,0);this.Dn&&a.uniform2f(this.Dn,0,0);this.En&&a.uniform1f(this.En,0);this.Jj=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function d(a,b){this.type=a;this.qa=b;this.Aa=b.Aa;this.Be=this.Gd=this.nz=0;this.hb=this.Vf=null;this.$z=[]}var h=bd();a.prototype.fy=function(){var a=this.Aa,b;this.Ay=1;this.Vj=this.Ci=null;this.yp=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Wb?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.By=a.ONE;this.zy=a.ONE_MINUS_SRC_ALPHA;
this.Jo=new Float32Array(8E3*(this.Wb?3:2));this.uo=new Float32Array(16E3);this.Xu=new Float32Array(32E3);this.Wu=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Wu);a.bufferData(a.ARRAY_BUFFER,this.Xu.byteLength,a.DYNAMIC_DRAW);this.Io=Array(4);this.so=Array(4);for(b=0;4>b;b++)this.Io[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Io[b]),a.bufferData(a.ARRAY_BUFFER,this.Jo.byteLength,a.DYNAMIC_DRAW),this.so[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.so[b]),a.bufferData(a.ARRAY_BUFFER,
this.uo.byteLength,a.DYNAMIC_DRAW);this.lh=0;this.IG=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.IG);for(var c=new Uint16Array(12E3),k=b=0;12E3>b;)c[b++]=k,c[b++]=k+1,c[b++]=k+2,c[b++]=k,c[b++]=k+2,c[b++]=k+3,k+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Dl=this.bj=this.Xf=0;this.qc=[];b=this.Wb?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Am({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.qc.push(c);c=this.Am({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.qc.push(c);c=this.Am({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.qc.push(c);c=this.Am({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.qc.push(c);for(var d in fd)fd.hasOwnProperty(d)&&this.qc.push(this.Am(fd[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.dg=[];this.Af=0;this.Bd=this.Zc=!1;this.tx=this.tn=-1;this.Hk=null;this.lt=a.createFramebuffer();this.Dp=this.lr=null;this.$w=!1;this.Wb&&(this.Dp=a.createRenderbuffer());this.fj=ad([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.eH=a[0];this.zu=a[1];2048<this.zu&&(this.zu=2048);this.Ie(0)};c.prototype.Lv=function(a){b(this.Oy,
a)||(cd(a,this.Oy),this.Aa.uniformMatrix4fv(this.Cq,!1,a))};a.prototype.Am=function(a,b,d){var k=this.Aa,e=k.createShader(k.FRAGMENT_SHADER);k.shaderSource(e,a.src);k.compileShader(e);if(!k.getShaderParameter(e,k.COMPILE_STATUS))return k.deleteShader(e),null;var f=k.createShader(k.VERTEX_SHADER);k.shaderSource(f,b);k.compileShader(f);if(!k.getShaderParameter(f,k.COMPILE_STATUS))return k.deleteShader(e),k.deleteShader(f),null;b=k.createProgram();k.attachShader(b,e);k.attachShader(b,f);k.linkProgram(b);
if(!k.getProgramParameter(b,k.LINK_STATUS))return k.deleteShader(e),k.deleteShader(f),k.deleteProgram(b),null;k.useProgram(b);k.deleteShader(e);k.deleteShader(f);d=new c(k,b,d);d.Im=a.Im||0;d.Jm=a.Jm||0;d.vp=!!a.vp;d.pf=!!a.pf;d.bp=!!a.bp;d.Qa=a.Qa||[];a=0;for(e=d.Qa.length;a<e;a++)d.Qa[a][1]=k.getUniformLocation(b,d.Qa[a][0]),d.iu.push(0),k.uniform1f(d.Qa[a][1],0);return d};a.prototype.Et=function(a){var b,c;b=0;for(c=this.qc.length;b<c;b++)if(this.qc[b].name===a)return b;return-1};a.prototype.Fz=
function(a,b,c){var k=this.lf,d=this.Gq,e=[0,0,0,0,0,0,0,0];e[0]=k[0]*a+k[4]*b+k[12];e[1]=k[1]*a+k[5]*b+k[13];e[2]=k[2]*a+k[6]*b+k[14];e[3]=k[3]*a+k[7]*b+k[15];e[4]=d[0]*e[0]+d[4]*e[1]+d[8]*e[2]+d[12]*e[3];e[5]=d[1]*e[0]+d[5]*e[1]+d[9]*e[2]+d[13]*e[3];e[6]=d[2]*e[0]+d[6]*e[1]+d[10]*e[2]+d[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],c[0]=(.5*e[4]+.5)*this.width,c[1]=(.5*e[5]+.5)*this.height)};a.prototype.Mh=function(a,b,c){if(this.width!==a||this.height!==b||c){this.Ig();
c=this.Aa;this.width=a;this.height=b;c.viewport(0,0,a,b);ed(this.Ss,this.Hy,this.BA,this.lf);if(this.Wb){var k=-a/2;a=a/2;var d=b/2;b=-b/2;var e=this.ls,f=this.Sv,h=this.Gq;h||(h=bd());var t=a-k,v=b-d,r=f-e;h[0]=2/t;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/v;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/r;h[11]=0;h[12]=-(k+a)/t;h[13]=-(b+d)/v;h[14]=-(f+e)/r;h[15]=1;this.Lo[0]=1;this.Lo[1]=1}else b=a/b,k=this.ls,a=this.Sv,h=this.Gq,f=k*Math.tan(45*Math.PI/360),b*=f,d=-b,e=-f,h||(h=bd()),t=b-d,v=f-e,r=a-k,h[0]=2*
k/t,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*k/v,h[6]=0,h[7]=0,h[8]=(b+d)/t,h[9]=(f+e)/v,h[10]=-(a+k)/r,h[11]=-1,h[12]=0,h[13]=0,h[14]=-(a*k*2)/r,h[15]=0,k=[0,0],a=[0,0],this.Fz(0,0,k),this.Fz(1,1,a),this.Lo[0]=1/(a[0]-k[0]),this.Lo[1]=-1/(a[1]-k[1]);k=0;for(a=this.qc.length;k<a;k++)d=this.qc[k],d.Jj=!1,d.Fy&&(c.useProgram(d.jo),c.uniformMatrix4fv(d.Fy,!1,this.Gq));c.useProgram(this.qc[this.tn].jo);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);
this.Vj=this.Ci=null;this.Dp&&(c.bindFramebuffer(c.FRAMEBUFFER,this.lt),c.bindRenderbuffer(c.RENDERBUFFER,this.Dp),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.$w||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.Dp),this.$w=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.lr=null)}};a.prototype.Rf=function(){ed(this.Ss,this.Hy,this.BA,this.lf);dd(this.lf,this.Lo)};a.prototype.translate=function(a,
b){if(0!==a||0!==b){this.fj[0]=a;this.fj[1]=b;this.fj[2]=0;var c=this.lf,k=this.fj,d=k[0],e=k[1],k=k[2];c[12]=c[0]*d+c[4]*e+c[8]*k+c[12];c[13]=c[1]*d+c[5]*e+c[9]*k+c[13];c[14]=c[2]*d+c[6]*e+c[10]*k+c[14];c[15]=c[3]*d+c[7]*e+c[11]*k+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.fj[0]=a,this.fj[1]=b,this.fj[2]=1,dd(this.lf,this.fj)};a.prototype.nr=function(a){if(0!==a){var b=this.lf,c,k=Math.sin(a);a=Math.cos(a);var d=b[0],e=b[1],f=b[2],h=b[3],t=b[4],v=b[5],r=b[6],y=b[7];c?b!==c&&(c[8]=
b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=d*a+t*k;c[1]=e*a+v*k;c[2]=f*a+r*k;c[3]=h*a+y*k;c[4]=d*-k+t*a;c[5]=e*-k+v*a;c[6]=f*-k+r*a;c[7]=h*-k+y*a}};a.prototype.tf=function(){if(!b(this.ku,this.lf)){var a=this.oe();a.type=5;a.hb?cd(this.lf,a.hb):a.hb=bd(this.lf);cd(this.lf,this.ku);this.Bd=this.Zc=!1}};a.prototype.ur=function(a){this.Wb&&(32760<a&&(a=32760),this.zp=this.Ss[2]-this.ls-a*this.zI)};d.prototype.PE=function(){var a=this.Aa,b=this.qa;
0!==this.Gd?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.lt),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.pq=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.pq=!1)};d.prototype.TE=function(){this.Aa.bindTexture(this.Aa.TEXTURE_2D,this.Vf)};d.prototype.UE=function(){var a=this.Aa;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,
this.Vf);a.activeTexture(a.TEXTURE0)};d.prototype.QE=function(){var a=this.nz,b=this.qa;b.yp=a;b=b.Hk;b.tl&&b.Fq!==a&&(b.Fq=a,this.Aa.uniform1f(b.tl,a))};d.prototype.KE=function(){this.Aa.drawElements(this.Aa.TRIANGLES,this.Be,this.Aa.UNSIGNED_SHORT,this.Gd)};d.prototype.ME=function(){this.Aa.blendFunc(this.Gd,this.Be)};d.prototype.WE=function(){var a,b,c,k=this.qa.qc,d=this.qa.tx;a=0;for(b=k.length;a<b;a++)c=k[a],a===d&&c.Cq?(c.Lv(this.hb),c.Jj=!0):c.Jj=!1;cd(this.hb,this.qa.$s)};d.prototype.LE=
function(){var a=this.Aa,b=this.qa;this.Vf?(b.Vj===this.Vf&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Vj=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.lt),b.pq||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Vf,0)):(b.Wb||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.FE=function(){var a=this.Aa,b=this.Gd;0===b?(a.clearColor(this.hb[0],this.hb[1],
this.hb[2],this.hb[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.hb[0],this.hb[1],this.hb[2],this.hb[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.OE=function(){var a=this.Aa;0!==this.Gd?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.JE=function(){var a=this.Aa,b=this.qa;b.Wb&&a.disable(a.DEPTH_TEST);var c=b.qc[1];a.useProgram(c.jo);!c.Jj&&c.Cq&&(c.Lv(b.$s),c.Jj=!0);a.enableVertexAttribArray(c.Mf);
a.bindBuffer(a.ARRAY_BUFFER,b.Wu);a.vertexAttribPointer(c.Mf,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Gd/4,this.Be);c=b.Hk;a.useProgram(c.jo);0<=c.Mf&&(a.enableVertexAttribArray(c.Mf),a.bindBuffer(a.ARRAY_BUFFER,b.Io[b.lh]),a.vertexAttribPointer(c.Mf,b.Wb?3:2,a.FLOAT,!1,0,0));0<=c.Li&&(a.enableVertexAttribArray(c.Li),a.bindBuffer(a.ARRAY_BUFFER,b.so[b.lh]),a.vertexAttribPointer(c.Li,2,a.FLOAT,!1,0,0));b.Wb&&a.enable(a.DEPTH_TEST)};d.prototype.RE=function(){var a=this.Aa,b=this.qa,c=b.qc[this.Gd];
b.tx=this.Gd;b.Hk=c;a.useProgram(c.jo);!c.Jj&&c.Cq&&(c.Lv(b.$s),c.Jj=!0);c.tl&&c.Fq!==b.yp&&(c.Fq=b.yp,a.uniform1f(c.tl,b.yp));0<=c.Mf&&(a.enableVertexAttribArray(c.Mf),a.bindBuffer(a.ARRAY_BUFFER,b.Io[b.lh]),a.vertexAttribPointer(c.Mf,b.Wb?3:2,a.FLOAT,!1,0,0));0<=c.Li&&(a.enableVertexAttribArray(c.Li),a.bindBuffer(a.ARRAY_BUFFER,b.so[b.lh]),a.vertexAttribPointer(c.Li,2,a.FLOAT,!1,0,0))};d.prototype.NE=function(){var a=this.hb;this.Aa.uniform4f(this.qa.Hk.tu,a[0],a[1],a[2],a[3])};d.prototype.SE=function(){var a,
b,c=this.qa.Hk,k=this.Aa;a=this.hb;c.Cn&&this.qa.Vj!==this.Vf&&(k.activeTexture(k.TEXTURE1),k.bindTexture(k.TEXTURE_2D,this.Vf),this.qa.Vj=this.Vf,k.activeTexture(k.TEXTURE0));var d=a[0];c.vu&&d!==c.Qy&&(c.Qy=d,k.uniform1f(c.vu,d));d=a[1];c.uu&&d!==c.Py&&(c.Py=d,k.uniform1f(c.uu,d));d=a[2];b=a[3];!c.Zj||d===c.Ky&&b===c.Ly||(c.Ky=d,c.Ly=b,k.uniform2f(c.Zj,d,b));d=a[4];b=a[5];!c.Yj||d===c.Iy&&b===c.Jy||(c.Iy=d,c.Jy=b,k.uniform2f(c.Yj,d,b));d=a[6];c.Bn&&d!==c.Ny&&(c.Ny=d,k.uniform1f(c.Bn,d));d=a[7];
c.An&&d!==c.My&&(c.My=d,k.uniform1f(c.An,d));d=a[8];b=a[9];!c.Fn||d===c.Uy&&b===c.Vy||(c.Uy=d,c.Vy=b,k.uniform2f(c.Fn,d,b));d=a[10];b=a[11];!c.Dn||d===c.Ry&&b===c.Sy||(c.Ry=d,c.Sy=b,k.uniform2f(c.Dn,d,b));d=a[12];c.En&&d!==c.Ty&&(c.Ty=d,k.uniform1f(c.En,d));if(c.Qa.length)for(a=0,b=c.Qa.length;a<b;a++)d=this.$z[a],d!==c.iu[a]&&(c.iu[a]=d,k.uniform1f(c.Qa[a][1],d))};a.prototype.oe=function(){this.Af===this.dg.length&&this.dg.push(new d(0,this));return this.dg[this.Af++]};a.prototype.Ig=function(){if(0!==
this.Af&&!this.Aa.isContextLost()){var a=this.Aa;0<this.Dl&&(a.bindBuffer(a.ARRAY_BUFFER,this.Wu),a.bufferSubData(a.ARRAY_BUFFER,0,this.Xu.subarray(0,this.Dl)),b&&0<=b.Mf&&"<point>"===b.name&&a.vertexAttribPointer(b.Mf,4,a.FLOAT,!1,0,0));if(0<this.Xf){var b=this.Hk;a.bindBuffer(a.ARRAY_BUFFER,this.Io[this.lh]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Jo.subarray(0,this.Xf));b&&0<=b.Mf&&"<point>"!==b.name&&a.vertexAttribPointer(b.Mf,this.Wb?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.so[this.lh]);
a.bufferSubData(a.ARRAY_BUFFER,0,this.uo.subarray(0,this.bj));b&&0<=b.Li&&"<point>"!==b.name&&a.vertexAttribPointer(b.Li,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.Af;a<b;a++)switch(c=this.dg[a],c.type){case 1:c.KE();break;case 2:c.TE();break;case 3:c.QE();break;case 4:c.ME();break;case 5:c.WE();break;case 6:c.LE();break;case 7:c.FE();break;case 8:c.JE();break;case 9:c.RE();break;case 10:c.SE();break;case 11:c.UE();break;case 12:c.NE();break;case 13:c.OE();break;case 14:c.PE()}this.Dl=this.bj=this.Xf=
this.Af=0;this.pq=this.Bd=this.Zc=!1;this.lh++;4<=this.lh&&(this.lh=0)}};a.prototype.Lh=function(a){if(a!==this.Ay&&!this.gn){var b=this.oe();b.type=3;this.Ay=b.nz=a;this.Bd=this.Zc=!1}};a.prototype.pe=function(a){if(a!==this.Ci){var b=this.oe();b.type=2;this.Ci=b.Vf=a;this.Bd=this.Zc=!1}};a.prototype.Zi=function(a,b){if((a!==this.By||b!==this.zy)&&!this.gn){var c=this.oe();c.type=4;c.Gd=a;c.Be=b;this.By=a;this.zy=b;this.Bd=this.Zc=!1}};a.prototype.Oz=function(){this.Zi(this.Aa.ONE,this.Aa.ONE_MINUS_SRC_ALPHA)};
a.prototype.El=function(a,b,c,k,d,e,f,h){15992<=this.Xf&&this.Ig();var t=this.Xf,v=this.bj,r=this.Jo,y=this.uo,B=this.zp;if(this.Zc)this.dg[this.Af-1].Be+=6;else{var D=this.oe();D.type=1;D.Gd=this.Wb?t:t/2*3;D.Be=6;this.Zc=!0;this.Bd=!1}this.Wb?(r[t++]=a,r[t++]=b,r[t++]=B,r[t++]=c,r[t++]=k,r[t++]=B,r[t++]=d,r[t++]=e,r[t++]=B,r[t++]=f,r[t++]=h,r[t++]=B):(r[t++]=a,r[t++]=b,r[t++]=c,r[t++]=k,r[t++]=d,r[t++]=e,r[t++]=f,r[t++]=h);y[v++]=0;y[v++]=0;y[v++]=1;y[v++]=0;y[v++]=1;y[v++]=1;y[v++]=0;y[v++]=1;
this.Xf=t;this.bj=v};a.prototype.ng=function(a,b,c,k,d,e,f,h,t){15992<=this.Xf&&this.Ig();var v=this.Xf,r=this.bj,y=this.Jo,B=this.uo,D=this.zp;if(this.Zc)this.dg[this.Af-1].Be+=6;else{var C=this.oe();C.type=1;C.Gd=this.Wb?v:v/2*3;C.Be=6;this.Zc=!0;this.Bd=!1}var C=t.left,E=t.top,A=t.right;t=t.bottom;this.Wb?(y[v++]=a,y[v++]=b,y[v++]=D,y[v++]=c,y[v++]=k,y[v++]=D,y[v++]=d,y[v++]=e,y[v++]=D,y[v++]=f,y[v++]=h,y[v++]=D):(y[v++]=a,y[v++]=b,y[v++]=c,y[v++]=k,y[v++]=d,y[v++]=e,y[v++]=f,y[v++]=h);B[r++]=
C;B[r++]=E;B[r++]=A;B[r++]=E;B[r++]=A;B[r++]=t;B[r++]=C;B[r++]=t;this.Xf=v;this.bj=r};a.prototype.IH=function(a,b,c,k,d,e,f,h,t,v,r,y,B,D,C,E){15992<=this.Xf&&this.Ig();var A=this.Xf,x=this.bj,w=this.Jo,F=this.uo,I=this.zp;if(this.Zc)this.dg[this.Af-1].Be+=6;else{var S=this.oe();S.type=1;S.Gd=this.Wb?A:A/2*3;S.Be=6;this.Zc=!0;this.Bd=!1}this.Wb?(w[A++]=a,w[A++]=b,w[A++]=I,w[A++]=c,w[A++]=k,w[A++]=I,w[A++]=d,w[A++]=e,w[A++]=I,w[A++]=f,w[A++]=h,w[A++]=I):(w[A++]=a,w[A++]=b,w[A++]=c,w[A++]=k,w[A++]=
d,w[A++]=e,w[A++]=f,w[A++]=h);F[x++]=t;F[x++]=v;F[x++]=r;F[x++]=y;F[x++]=B;F[x++]=D;F[x++]=C;F[x++]=E;this.Xf=A;this.bj=x};a.prototype.vH=function(a,b,c,k){7996<=this.Dl&&this.Ig();var d=this.Dl,e=this.Xu;if(this.Bd)this.dg[this.Af-1].Be++;else{var f=this.oe();f.type=8;f.Gd=d;f.Be=1;this.Bd=!0;this.Zc=!1}e[d++]=a;e[d++]=b;e[d++]=c;e[d++]=k;this.Dl=d};a.prototype.Ie=function(a){if(this.tn!==a){if(!this.qc[a]){if(0===this.tn)return;a=0}var b=this.oe();b.type=9;this.tn=b.Gd=a;this.Bd=this.Zc=!1}};a.prototype.Xn=
function(a){a=this.qc[a];return!(!a.Zj&&!a.Yj)};a.prototype.$u=function(a){a=this.qc[a];return!!(a.Zj||a.Yj||a.vp)};a.prototype.Zu=function(a){return this.qc[a].pf};a.prototype.EH=function(a){a=this.qc[a];return 0!==a.Im||0!==a.Jm};a.prototype.hG=function(a){return this.qc[a].Im};a.prototype.iG=function(a){return this.qc[a].Jm};a.prototype.jG=function(a,b){return this.qc[a].Qa[b][2]};a.prototype.hr=function(a){return this.qc[a].bp};a.prototype.Jl=function(a,b,c,k,d,e,f,h,t,v,r,y,B,D,C){var E=this.qc[this.tn],
A,x;if(E.EG||C.length){A=this.oe();A.type=10;A.hb?cd(this.lf,A.hb):A.hb=bd();x=A.hb;x[0]=b;x[1]=c;x[2]=k;x[3]=d;x[4]=e;x[5]=f;x[6]=h;x[7]=t;x[8]=v;x[9]=r;x[10]=y;x[11]=B;x[12]=D;E.Cn?A.Vf=a:A.Vf=null;if(C.length)for(c=A.$z,c.length=C.length,a=0,b=C.length;a<b;a++)c[a]=C[a];this.Bd=this.Zc=!1}};a.prototype.clear=function(a,b,c,k){var d=this.oe();d.type=7;d.Gd=0;d.hb||(d.hb=bd());d.hb[0]=a;d.hb[1]=b;d.hb[2]=c;d.hb[3]=k;this.Bd=this.Zc=!1};a.prototype.clearRect=function(a,b,c,k){if(!(0>c||0>k)){var d=
this.oe();d.type=7;d.Gd=1;d.hb||(d.hb=bd());d.hb[0]=a;d.hb[1]=b;d.hb[2]=c;d.hb[3]=k;this.Bd=this.Zc=!1}};a.prototype.Sz=function(a){if(this.Wb&&(a=!!a,this.gn!==a)){var b=this.oe();b.type=14;b.Gd=a?1:0;this.Bd=this.Zc=!1;this.gn=a;this.lr=null;this.gn?this.Ie(2):this.Ie(0)}};a.prototype.Qz=function(a){if(this.Wb){var b=this.oe();b.type=13;b.Gd=a?1:0;this.Bd=this.Zc=!1}};a.prototype.Nx=function(){cd(this.ku,h);this.Rf();this.tf();var a=this.width/2,b=this.height/2;this.El(-a,b,a,b,a,-b,-a,-b);cd(h,
this.lf);this.tf()};a.prototype.Pz=function(a,b,c){this.Ie(3);var k=this.oe();k.type=12;k.hb||(k.hb=bd());k.hb[0]=a;k.hb[1]=b;k.hb[2]=c;k.hb[3]=1;this.Bd=this.Zc=!1};a.prototype.bI=function(){this.Ie(0)};a.prototype.NH=function(){this.Ie(2)};a.prototype.BH=function(){this.Ig();this.Aa.flush()};var f=[],e={};a.prototype.tE=function(){H(f);e={}};a.prototype.ql=function(a,b,c,k){b=!!b;c=!!c;var d=a.src+","+b+","+c+(b?",undefined":""),h=null;if("undefined"!==typeof a.src&&e.hasOwnProperty(d))return h=
e[d],h.mp++,h;this.Ig();var q=this.Aa,u=ra(a.width)&&ra(a.height),h=q.createTexture();q.bindTexture(q.TEXTURE_2D,h);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var t=q.RGBA,v=q.RGBA,r=q.UNSIGNED_BYTE;if(k&&!this.uh)switch(k){case 1:v=t=q.RGB;break;case 2:r=q.UNSIGNED_SHORT_4_4_4_4;break;case 3:r=q.UNSIGNED_SHORT_5_5_5_1;break;case 4:v=t=q.RGB,r=q.UNSIGNED_SHORT_5_6_5}if(!u&&b){k=document.createElement("canvas");k.width=sa(a.width);k.height=sa(a.height);var y=k.getContext("2d");y.webkitImageSmoothingEnabled=
c;y.mozImageSmoothingEnabled=c;y.msImageSmoothingEnabled=c;y.imageSmoothingEnabled=c;y.drawImage(a,0,0,a.width,a.height,0,0,k.width,k.height);q.texImage2D(q.TEXTURE_2D,0,t,v,r,k)}else q.texImage2D(q.TEXTURE_2D,0,t,v,r,a);b?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.REPEAT),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.REPEAT)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE));c?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,
q.LINEAR),u&&this.Ex?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR_MIPMAP_LINEAR),q.generateMipmap(q.TEXTURE_2D)):q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST));q.bindTexture(q.TEXTURE_2D,null);this.Ci=null;h.vj=a.width;h.uj=a.height;h.mp=1;h.ix=d;f.push(h);return e[d]=h};a.prototype.Pe=function(a,b,c,k,d){this.Ig();var e=this.Aa;this.uh&&(k=!1);var h=
e.createTexture();e.bindTexture(e.TEXTURE_2D,h);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,k?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);d?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,
c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.Ci=null;h.vj=a;h.uj=b;f.push(h);return h};a.prototype.JA=function(a,b,c){this.Ig();var k=this.Aa;this.uh&&(c=!1);k.bindTexture(k.TEXTURE_2D,b);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,c?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,a)}catch(d){console&&console.error&&console.error("Error updating WebGL texture: ",d)}k.bindTexture(k.TEXTURE_2D,null);this.Ci=null};a.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.mp&&1<a.mp?a.mp--:(this.Ig(),a===this.Ci&&(this.Aa.bindTexture(this.Aa.TEXTURE_2D,null),this.Ci=null),a===this.Vj&&(this.Aa.activeTexture(this.Aa.TEXTURE1),this.Aa.bindTexture(this.Aa.TEXTURE_2D,null),this.Aa.activeTexture(this.Aa.TEXTURE0),this.Vj=null),Na(f,a),"undefined"!==typeof a.ix&&delete e[a.ix],this.Aa.deleteTexture(a)))};a.prototype.Sf=function(a){if(a!==this.lr){var b=this.oe();b.type=6;this.lr=b.Vf=a;this.Bd=this.Zc=!1}};Sb=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Re=(this.dn=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Td=!!a.dc;this.ky="undefined"!==typeof window.AppMobi||
this.Td;this.Kf=!!window.c2cocoonjs;this.jg=!!window.c2ejecta;this.Kf&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.jg&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.La=this.Td||this.Kf||this.jg;this.jn=
/edge\//i.test(navigator.userAgent);this.uh=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.jn;this.qy=/tizen/i.test(navigator.userAgent);this.nq=/android/i.test(navigator.userAgent)&&!this.qy&&!this.uh&&!this.jn;this.wy=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.uh&&!this.jn;this.VG=/ipad/i.test(navigator.userAgent);this.gl=this.wy||this.VG||this.jg;this.cn=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.uh&&!this.jn;this.Wt=/amazonwebappplatform/i.test(navigator.userAgent);this.OG=/firefox/i.test(navigator.userAgent);this.SG=/safari/i.test(navigator.userAgent)&&!this.cn&&!this.uh&&!this.jn;this.TG=/windows/i.test(navigator.userAgent);this.vi="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.ry=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.ty=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.bl=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.du=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.cu=!!window.cr_windows10;this.bu=this.ry||this.ty||this.du||this.cu;this.MG=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.oq=this.nq&&!this.cn&&!this.dn&&!this.OG&&!this.Wt&&!this.La;this.devicePixelRatio=
1;this.vh=this.Re||this.dn||this.ky||this.Kf||this.nq||this.gl||this.bl||this.du||this.MG||this.qy||this.jg;this.vh||(this.vh=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.mn=!!(this.gl&&this.Re&&window.indexedDB);this.Mt=null;this.GG="";this.mn&&(this.Mt=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.vi||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.vi=!0);this.canvas=a;this.hi=document.getElementById("c2canvasdiv");this.qa=this.Aa=null;this.Ht="(unavailable)";this.Wb=!1;this.Bj=0;this.Eb=null;this.pt="";this.Op=!1;this.hz=this.iz=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Td&&(window.c2runtime=this);this.vi&&(window.ondragover=function(a){a.preventDefault();return!1},
window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.oq&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.Ka=this.width;this.Ja=this.height;this.wp=this.width;this.Cm=this.height;this.ll=window.innerWidth;this.kl=window.innerHeight;this.NF=!1;this.Za=!0;this.Pj=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types=
{};this.za=[];this.ic=[];this.nl={};this.kg=[];this.kt={};this.ph=[];this.Vl=[];this.Xr=[];this.Ls=[];this.gE=[];this.yy=this.gA=null;this.Aj={};this.Yt=this.ti=!1;this.jf=0;this.Xt=this.$t=!1;this.fg=[];this.hn=!1;this.yh=this.Vd=this.zq=this.qv="";this.po=this.dA=!1;this.Np=[];this.oi=this.ab=0;this.Yy=30;this.Zs=this.Gn=0;this.sg=1;this.$c=new Db;this.Th=new Db;this.Mq=this.Wp=this.Ej=this.sf=this.Xj=this.nt=this.wq=0;this.xj=null;this.Gp=[];this.jt=[];this.Ip=-1;this.wu=[[]];this.Hv=this.Dq=0;
this.ir(null);this.Hn=[];this.In=-1;this.Lm=this.dz=this.Mn=0;this.qo=[];this.Ev=this.gv=-1;this.hl=!0;this.sl=0;this.kn=!1;this.fI=0;this.Dk=null;this.Fb=this.fq=!1;this.Hu=new fa;this.Iu=new fa;this.Ju=new fa;this.ao=[];this.qg=new Fb([]);this.zv=new Fb([]);this.Bk=[];this.Vk={};this.ji={};this.ci={};this.Ul={};this.bx={};this.Ey=this.yq=this.Lc=this.bd=this.Dy=this.xq=this.Ub=null;this.Sl=this.eu=!1;this.qt=[null,null];this.Gj=0;this.Mp="";this.Eh={};this.no=this.Ji=null;this.fA="";this.Lq=[];
this.MH()}}function c(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function h(a,b,c,k){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=k;e.onsuccess=function(d){d=d.target.result;d.onerror=k;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}catch(f){k(f)}}function f(a,b,c){try{var k=indexedDB.open("_C2SaveStates");
k.onupgradeneeded=d;k.onerror=c;k.onsuccess=function(k){k=k.target.result;k.onerror=c;var d=k.transaction(["saves"]).objectStore("saves").get(a);d.onsuccess=function(){d.result?b(d.result.data):b(null)}}}catch(e){c(e)}}function e(){ka("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function g(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof
fa||a[b]&&"undefined"!==typeof a[b].Fg||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.MH=function(){var a=this;if(this.mn)this.Mt?this.Mt.startServer({port:0,localhost_only:!0},function(b){a.GG=b;a.Kx(function(b){a.pl(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+
a)}):this.Kx(function(b){a.pl(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.bl?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.ry||this.bl||this.du||this.cu)c="data.json";b.open("GET",c,!0);var k=!1;if(!this.La&&"response"in b&&"responseType"in b)try{b.responseType="json",k="json"===b.responseType}catch(d){k=!1}if(!k&&"responseType"in b)try{b.responseType="text"}catch(e){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.bl?
b.onreadystatechange=function(){4===b.readyState&&a.pl(JSON.parse(b.responseText))}:(b.onload=function(){if(k)a.pl(b.response);else if(a.jg){var c=b.responseText,c=c.substr(c.indexOf("{"));a.pl(JSON.parse(c))}else a.pl(JSON.parse(b.responseText))},b.onerror=function(a){ma("Error requesting "+c+":");ma(a)});b.send()}};a.prototype.JG=function(){var a=this,b,c,k,d,e,f,g,l,h;this.Oj=(!this.La||this.jg||this.Re)&&this.sI&&!this.oq;0===this.ee&&this.gl&&(this.Oj=!1);this.devicePixelRatio=this.Oj?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Jd();c=!(!this.NF&&(!this.Ns||this.vi||this.bu||this.bl||this.dn||this.Re||this.Wt));0<this.ee&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.dF&&(this.Kf||this.jg||!this.La)&&(b={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.Aa=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(n){}if(this.Aa){if(b=this.Aa.getExtension("WEBGL_debug_renderer_info"))this.Ht=
this.Aa.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.Aa.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Wb&&(this.Ht+=" [front-to-back enabled]");this.La||(this.Dd=document.createElement("canvas"),jQuery(this.Dd).appendTo(this.canvas.parentNode),this.Dd.oncontextmenu=function(){return!1},this.Dd.onselectstart=function(){return!1},this.Dd.width=Math.round(this.wp*this.devicePixelRatio),this.Dd.height=Math.round(this.Cm*this.devicePixelRatio),jQuery(this.Dd).css({width:this.wp+"px",height:this.Cm+
"px"}),this.Bz(),this.Tu=this.Dd.getContext("2d"));this.qa=new Sb(this.Aa,this.vh,this.Wb);this.qa.Mh(this.canvas.width,this.canvas.height);this.qa.Ex=0!==this.XE;this.Eb=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.mH();ka("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.qa.fy();a.qa.Mh(a.qa.width,a.qa.height,!0);a.bd=null;a.Lc=null;a.qt[0]=null;a.qt[1]=null;a.nH();a.Za=!0;
ka("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(c=this.za.length;b<c;b++)for(e=this.za[b],k=0,d=e.Xa.length;k<d;k++)g=e.Xa[k],g.Qc=this.qa.Et(g.id),g.pf=this.qa.Zu(g.Qc),this.Sl=this.Sl||this.qa.Xn(g.Qc);b=0;for(c=this.kg.length;b<c;b++){l=this.kg[b];k=0;for(d=l.Xa.length;k<d;k++)g=l.Xa[k],g.Qc=this.qa.Et(g.id),g.pf=this.qa.Zu(g.Qc);l.ug();k=0;for(d=l.Ya.length;k<d;k++){h=l.Ya[k];e=0;for(f=h.Xa.length;e<f;e++)g=h.Xa[e],g.Qc=this.qa.Et(g.id),g.pf=this.qa.Zu(g.Qc),
this.Sl=this.Sl||this.qa.Xn(g.Qc);h.ug()}}}else{if(0<this.ee&&this.Td){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Eb=AppMobi.canvas.getContext("2d");try{this.Eb.samplingMode=this.bb?"smooth":"sharp",this.Eb.globalScale=1,this.Eb.HTML5CompatibilityMode=!0,this.Eb.imageSmoothingEnabled=this.bb}catch(m){}0!==this.width&&0!==this.height&&(this.Eb.width=this.width,this.Eb.height=this.height)}this.Eb||(this.Kf?(b={antialias:!!this.bb,alpha:c},
this.Eb=this.canvas.getContext("2d",b)):(b={alpha:c},this.Eb=this.canvas.getContext("2d",b)),this.Eb.webkitImageSmoothingEnabled=this.bb,this.Eb.mozImageSmoothingEnabled=this.bb,this.Eb.msImageSmoothingEnabled=this.bb,this.Eb.imageSmoothingEnabled=this.bb);this.Tu=this.Dd=null}this.pA=function(b){a.nb(!1,b)};window==window.top||this.La||this.bu||this.bl||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==
typeof cr_is_preview&&(this.Kf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ka("Reloading for continuous preview"),this.zq="__c2_continuouspreview",this.po=!0),this.tH&&!this.vh&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){a.fk()});this.La||(b=function(a){if(Rb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.ee&&this.Oj&&1<this.devicePixelRatio&&this.setSize(this.Oc,this.Nc,!0);this.yA();this.AG();this.go();this.ra={}};a.prototype.setSize=function(a,b,c){var k=0,d=0,e=0,f=0,f=0;if(this.ll!==
a||this.kl!==b||c){this.ll=a;this.kl=b;var g=this.ee,l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.kn)&&!this.Re;if(l||0!==this.ee||c)l&&0<this.Gj&&(g=this.Gj),c=this.devicePixelRatio,4<=g?(e=this.Oc/this.Nc,a/b>e?(e*=b,5===g?(f=e*c/this.Oc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),e=this.Oc*f/c,f=this.Nc*f/c,k=(a-e)/2,d=(b-f)/2,a=e,b=f):(k=(a-e)/2,a=e)):(f=a/e,5===g?(f=f*c/this.Nc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),
e=this.Oc*f/c,f=this.Nc*f/c,k=(a-e)/2,d=(b-f)/2,a=e):d=(b-f)/2,b=f),l&&!this.vi&&(d=k=0)):this.vi&&this.kn&&0===this.Ox&&(k=Math.floor((a-this.Oc)/2),d=Math.floor((b-this.Nc)/2),a=this.Oc,b=this.Nc),2>g&&(this.um=c),this.wp=Math.round(a),this.Cm=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.Za=!0,this.KA?(this.Ka=this.width,this.Ja=this.height,this.ef=!0):this.width<this.Oc&&this.height<this.Nc||1===g?(this.Ka=this.width,this.Ja=this.height,this.ef=!0):(this.Ka=this.Oc,
this.Ja=this.Nc,this.ef=!1,2===g?(e=this.Oc/this.Nc,g=this.ll/this.kl,g<e?this.Ka=this.Ja*g:g>e&&(this.Ja=this.Ka/g)):3===g&&(e=this.Oc/this.Nc,g=this.ll/this.kl,g>e?this.Ka=this.Ja*g:g<e&&(this.Ja=this.Ka/g))),this.hi&&!this.La&&(jQuery(this.hi).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(k)+"px","margin-top":Math.floor(d)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=
Math.round(a*c),this.canvas.height=Math.round(b*c),this.jg?(this.canvas.style.left=Math.floor(k)+"px",this.canvas.style.top=Math.floor(d)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.Oj&&!this.La&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.Dd&&(this.Dd.width=Math.round(a*c),this.Dd.height=Math.round(b*c),this.Dd.style.width=this.wp+"px",this.Dd.style.height=this.Cm+"px"),this.qa&&this.qa.Mh(Math.round(a*
c),Math.round(b*c)),this.Td&&this.Eb&&(this.Eb.width=Math.round(a),this.Eb.height=Math.round(b)),this.Eb&&(this.Eb.webkitImageSmoothingEnabled=this.bb,this.Eb.mozImageSmoothingEnabled=this.bb,this.Eb.msImageSmoothingEnabled=this.bb,this.Eb.imageSmoothingEnabled=this.bb),this.yA(),this.wy&&!this.Re&&window.scrollTo(0,0)}};a.prototype.yA=function(){if(this.kE&&0!==this.Ru){var a="portrait";2===this.Ru&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};a.prototype.mH=function(){this.qa.tE();this.eu=!0;var a,b,c;a=0;for(b=this.za.length;a<b;a++)c=this.za[a],c.Cl&&c.Cl()};a.prototype.nH=function(){this.eu=!1;var a,b,c;a=0;for(b=this.za.length;a<b;a++)c=this.za[a],c.Rn&&c.Rn()};
a.prototype.Bz=function(){if(!this.La){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.kn)&&!this.Re?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Dd).css(a)}};var m=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.Pj)for(ka("[Construct 2] Suspending"),
this.Pj=!0,-1!==this.gv&&m&&m(this.gv),-1!==this.Ev&&clearTimeout(this.Ev),a=0,b=this.qo.length;a<b;a++)this.qo[a](!0);else if(!a&&this.Pj){ka("[Construct 2] Resuming");this.Pj=!1;this.wq=pb();this.Xj=pb();a=this.Gn=this.Wp=0;for(b=this.qo.length;a<b;a++)this.qo[a](!1);this.nb(!1)}};a.prototype.Ks=function(a){this.qo.push(a)};a.prototype.Yh=function(a){return this.Lq[a]};a.prototype.pl=function(a){a&&a.project||ma("Project model unavailable");a=a.project;this.name=a[0];this.Mx=a[1];this.ee=a[12];
this.Ox=a[12];this.Oc=a[10];this.Nc=a[11];this.vz=this.Oc/2;this.wz=this.Nc/2;this.La&&!this.jg&&(4<=a[12]||0===a[12])&&(ka("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Ox=this.ee=3);this.Ov=a[18];this.Ki=a[19];if(0===this.Ki){var b=new Image;b.crossOrigin="anonymous";this.Tz(b,"loading-logo.png");this.Ji={Eq:b}}else if(4===this.Ki){b=new Image;b.src="";var c=new Image;c.src="";var k=new Image;k.src="";var d=new Image;d.src=
"";var e=new Image;e.src="";var f=new Image;f.src="";var g=new Image;g.src="";var l=new Image;l.src="";var h=new Image;h.src="";var n=new Image;n.src="";var m=new Image;m.src="";var p=new Image;p.src="";this.Ji={Eq:[b,c,k,d],yH:[e,f,g,l],wI:[h,n,m,p]}}this.Mn=a[21];this.Lq=gd();this.$g=new L(this);b=0;for(c=a[2].length;b<c;b++)g=a[2][b],k=this.Yh(g[0]),Wb(g,k.prototype),l=new k(this),l.Hr=g[1],l.wi=g[2],l.bz=g[9],l.ka&&l.ka(),this.plugins.push(l);this.Lq=gd();b=0;for(c=a[3].length;b<c;b++){g=a[3][b];
e=this.Yh(g[1]);l=null;k=0;for(d=this.plugins.length;k<d;k++)if(this.plugins[k]instanceof e){l=this.plugins[k];break}h=new l.wa(l);h.name=g[0];h.Ba=g[2];h.Vt=g[3].slice(0);h.uI=g[3].length;h.lE=g[4];h.PF=g[5];h.mb=g[11];h.Ba?(h.Rg=[],h.Lg=this.Lm++,h.gc=null):(h.Rg=null,h.Lg=-1,h.gc=[]);h.Mm=null;h.Ok=null;h.Fx=null;h.Ud=!1;h.Oe=null;g[6]?(h.vo=g[6][0],h.wo=g[6][1],h.xo=g[6][2]):(h.vo=null,h.wo=0,h.xo=0);g[7]?h.Ne=g[7]:h.Ne=null;h.index=b;h.H=[];h.Bp=[];h.Ph=[new Xb(h)];h.Hg=0;h.Ff=null;h.wx=0;h.Ol=
!0;h.Zr=cc;h.Tk=dc;h.fG=ec;h.Ha=fc;h.Zn=gc;h.Ih=hc;h.Qf=ic;h.Xp=kc;h.xt=lc;h.At=mc;h.Kd=nc;h.Bt=oc;h.xm=new Hb(this.Oc,this.Nc);h.cp=!0;h.dp=!1;h.ra={};h.toString=pc;h.ic=[];k=0;for(d=g[8].length;k<d;k++){n=g[8][k];m=this.Yh(n[1]);p=null;e=0;for(f=this.ic.length;e<f;e++)if(this.ic[e]instanceof m){p=this.ic[e];break}p||(p=new m(this),p.Jq=[],p.Iq=new fa,p.ka&&p.ka(),this.ic.push(p),id&&p instanceof id&&(this.gA=p),jd&&p instanceof jd&&(this.yy=p));-1===p.Jq.indexOf(h)&&p.Jq.push(h);e=new p.wa(p,h);
e.name=n[0];e.mb=n[2];e.ka();h.ic.push(e)}h.global=g[9];h.Zt=g[10];h.Xa=[];k=0;for(d=g[12].length;k<d;k++)h.Xa.push({id:g[12][k][0],name:g[12][k][1],Qc:-1,pf:!1,Ec:!0,index:k});h.Sr=g[13];this.Ov&&!h.Ba&&!h.Zt&&l.wi||h.ka();h.name&&(this.types[h.name]=h);this.za.push(h);l.Hr&&(k=new l.ta(h),k.uid=this.Mn++,k.Hz=this.dz++,k.Lj=0,k.Um=qc,k.toString=rc,k.S=g[14],k.ka(),h.H.push(k),this.Eh[k.uid.toString()]=k)}b=0;for(c=a[4].length;b<c;b++)for(e=a[4][b],f=this.za[e[0]],k=1,d=e.length;k<d;k++)g=this.za[e[k]],
g.gc.push(f),f.Rg.push(g);b=0;for(c=a[28].length;b<c;b++){e=a[28][b];f=[];k=0;for(d=e.length;k<d;k++)f.push(this.za[e[k]]);k=0;for(d=f.length;k<d;k++)f[k].Ud=!0,f[k].Oe=f}if(0<this.Lm)for(b=0,c=this.za.length;b<c;b++)if(g=this.za[b],!g.Ba&&g.gc.length){g.Mm=Array(this.Lm);g.Ok=Array(this.Lm);g.Fx=Array(this.Lm);h=[];k=p=m=n=0;for(d=g.gc.length;k<d;k++)for(l=g.gc[k],g.Mm[l.Lg]=n,n+=l.uI,g.Ok[l.Lg]=m,m+=l.lE,g.Fx[l.Lg]=p,p+=l.PF,e=0,f=l.Xa.length;e<f;e++)h.push(Ea({},l.Xa[e]));g.Xa=h.concat(g.Xa);k=
0;for(d=g.Xa.length;k<d;k++)g.Xa[k].index=k}b=0;for(c=a[5].length;b<c;b++)g=a[5][b],k=new sc(this,g),this.nl[k.name]=k,this.kg.push(k);b=0;for(c=a[6].length;b<c;b++)g=a[6][b],k=new tc(this,g),this.kt[k.name]=k,this.ph.push(k);b=0;for(c=this.ph.length;b<c;b++)this.ph[b].Dc();b=0;for(c=this.ph.length;b<c;b++)this.ph[b].Kv();b=0;for(c=this.Xr.length;b<c;b++)this.Xr[b].Dc();H(this.Xr);this.jE=a[7];this.Mp=a[8];this.Fe=a[9];this.um=1;this.dF=a[13];this.bb=a[14];this.Ns=a[15];this.vI=a[16];this.sI=a[17];
this.Ru=a[20];this.kE=0<this.Ru;this.tH=a[22];this.ef=this.KA=a[23];this.XE=a[24];this.zH=a[25];this.Wb=a[27]&&!this.uh;this.Lr=Date.now();H(this.Lq);this.JG()};var k=!1;a.prototype.ds=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){k=a.hx=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.jg?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){k=a.hx=!0;console&&console.error&&console.error("Error extracting image '"+
b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.Tz(a,b)));this.Vl.push(a)};a.prototype.LF=function(a){var b,c;b=0;for(c=this.Vl.length;b<c;b++)if(this.Vl[b].wE===a)return this.Vl[b];return null};var n=0,p=!1;a.prototype.AG=function(){this.Dk&&(n=this.Dk.$H(this.jE))};a.prototype.Zw=function(){var a=n,b=0,c=0,k=!0,d,e,c=0;for(d=this.Vl.length;c<d;c++){e=this.Vl[c];var g=e.tp;if(!g||0>=g)g=5E4;a+=g;e.src&&(e.complete||e.loaded)&&!e.hx?b+=g:k=!1}k&&this.zH&&this.Dk&&(p||(this.Dk.gI(),
p=!0),c=this.Dk.gG(),b+=c,c<n&&(k=!1));this.mg=0==a?1:b/a;return k};var q=!1;a.prototype.go=function(){if(this.Eb||this.qa){var a=this.Eb||this.Tu;this.Dd&&this.Bz();var b=window.innerWidth,c=window.innerHeight;this.ll===b&&this.kl===c||this.setSize(b,c);this.mg=0;this.Cy=-1;var d=this;if(this.Zw()&&(4!==this.Ki||q))this.BG();else{c=Date.now()-this.Lr;if(a){var e=this.width,g=this.height,b=this.devicePixelRatio;if(3>this.Ki&&(this.Kf||500<=c&&this.Cy!=this.mg)){a.clearRect(0,0,e,g);var c=e/2,g=g/
2,e=0===this.Ki&&this.Ji.Eq.complete,f=40*b,h=0,n=80*b,m;if(e){var p=this.Ji.Eq,n=p.width*b;m=p.height*b;f=n/2;h=m/2;a.drawImage(p,ya(c-f),ya(g-h),n,m)}1>=this.Ki?(c=ya(c-f)+.5,g=ya(g+(h+(e?12*b:0)))+.5,a.fillStyle=k?"red":"DodgerBlue",a.fillRect(c,g,Math.floor(n*this.mg),6*b),a.strokeStyle="black",a.strokeRect(c,g,n,6*b),a.strokeStyle="white",a.strokeRect(c-1*b,g-1*b,n+2*b,8*b)):2===this.Ki&&(a.font=this.jg?"12pt ArialMT":"12pt Arial",a.fillStyle=k?"#f00":"#999",a.BJ="middle",b=Math.round(100*this.mg)+
"%",e=a.measureText?a.measureText(b):null,a.fillText(b,c-(e?e.width:0)/2,g));this.Cy=this.mg}else if(4===this.Ki){this.bF(a);l?l(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.Kf?10:100)}}};var u=-1,t="undefined"===typeof cr_is_preview?200:0,v=!0,r=!1,y=0,B=0,D="undefined"===typeof cr_is_preview?3E3:0,C=null,E=null,A=0;a.prototype.bF=function(a){if(!q){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),e=this.Ji.Eq,g=this.Ji.yH,f=this.Ji.wI,
h=0;4>h;++h)if(!e[h].complete||!g[h].complete||!f[h].complete)return;0===A&&(u=Date.now());var h=Date.now(),l=!1,n=a,m,p;v||r?(a.clearRect(0,0,b,d),C&&C.width===b&&C.height===d||(C=document.createElement("canvas"),C.width=b,C.height=d,E=C.getContext("2d")),n=E,l=!0,v&&1===A&&(u=Date.now())):a.globalAlpha=1;n.fillStyle="#333333";n.fillRect(0,0,b,d);256<this.Cm?(m=Oa(.22*d,105,.6*b),p=.25*m,n.drawImage(c(g,m),.5*b-m/2,.2*d-p/2,m,p),p=m=Math.min(.395*d,.95*b),n.drawImage(c(e,m),.5*b-m/2,.485*d-p/2,m,
p),m=Oa(.22*d,105,.6*b),p=.25*m,n.drawImage(c(f,m),.5*b-m/2,.868*d-p/2,m,p),n.fillStyle="#3C3C3C",m=b,p=Math.max(.005*d,2),n.fillRect(0,.8*d-p/2,m,p),n.fillStyle=k?"red":"#E0FF65",m=b*this.mg,n.fillRect(.5*b-m/2,.8*d-p/2,m,p)):(p=m=.55*d,n.drawImage(c(e,m),.5*b-m/2,.45*d-p/2,m,p),n.fillStyle="#3C3C3C",m=b,p=Math.max(.005*d,2),n.fillRect(0,.85*d-p/2,m,p),n.fillStyle=k?"red":"#E0FF65",m=b*this.mg,n.fillRect(.5*b-m/2,.85*d-p/2,m,p));l&&(v?a.globalAlpha=0===A?0:Math.min((h-u)/300,1):r&&(a.globalAlpha=
Math.max(1-(h-B)/300,0)),a.drawImage(C,0,0,b,d));v&&300<=h-u&&2<=A&&(v=!1,y=h);!v&&h-y>=D&&!r&&1<=this.mg&&(r=!0,B=h);if(r&&h-B>=300+t||"undefined"!==typeof cr_is_preview&&1<=this.mg&&500>Date.now()-u)q=!0,r=v=!1,this.Ji=E=C=null;++A}};a.prototype.BG=function(){this.Dd&&(this.canvas.parentNode.removeChild(this.Dd),this.Dd=this.Tu=null);this.Lr=Date.now();this.Xj=pb();var a,b,c;if(this.Ov)for(a=0,b=this.za.length;a<b;a++)c=this.za[a],c.Ba||c.Zt||!c.Ta.wi||c.ka();else this.hl=!1;a=0;for(b=this.kg.length;a<
b;a++)this.kg[a].xE();2<=this.ee&&(a=this.Oc/this.Nc,b=this.width/this.height,this.um=2!==this.ee&&b>a||2===this.ee&&b<a?this.height/this.Nc:this.width/this.Oc);this.Mx?this.nl[this.Mx].xv():this.kg[0].xv();this.Ov||(this.sl=1,this.trigger(L.prototype.C.ww,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.za.length;a<b;a++)c=this.za[a],c.lH&&c.lH();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.nb(!1);this.Td&&AppMobi.webview.execute("onGameReady();")};a.prototype.nb=function(a,b,c){if(this.Ub){var k=pb();if(c||!this.Pj||a){a||(l?this.gv=l(this.pA):this.Ev=setTimeout(this.pA,this.vh?1:16));b=b||k;var d=this.ee;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Re)||this.kn)&&0<this.Gj&&(d=this.Gj);if(0<d){var d=window.innerWidth,e=window.innerHeight;this.ll===d&&this.kl===e||this.setSize(d,e)}this.La||(c?(this.Op||(this.pt=
jQuery(this.canvas).css("margin")||"0",this.Op=!0),this.cn||this.vi||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Op?(this.cn||this.vi||jQuery(this.canvas).css("margin",this.pt),this.pt="",this.Op=!1,0===this.ee&&this.setSize(Math.round(this.iz/this.devicePixelRatio),Math.round(this.hz/this.devicePixelRatio),!0)):(this.iz=this.width,this.hz=this.height));
this.hl&&(c=this.Zw(),this.sl=this.mg,c&&(this.hl=!1,this.mg=1,this.trigger(L.prototype.C.ww,null)));this.ZG(b);!this.Za&&!this.Kf||this.eu||this.po||a||(this.Za=!1,this.qa?this.wc():this.Sd(),this.no&&(this.canvas&&this.canvas.toDataURL&&(this.fA=this.canvas.toDataURL(this.no[0],this.no[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.fA),this.trigger(L.prototype.C.jC,null)),this.no=null));this.nJ||(this.sf++,this.Ej++,this.Wp++);this.Gn+=pb()-k}}};a.prototype.ZG=function(a){var b,c,k,d,e,g,f,
h;1E3<=a-this.Xj&&(this.Xj+=1E3,1E3<=a-this.Xj&&(this.Xj=a),this.nt=this.Wp,this.Wp=0,this.Zs=this.Gn,this.Gn=0);b=0;0!==this.wq&&(b=a-this.wq,0>b&&(b=0),this.oi=b/=1E3,.5<this.oi?this.oi=0:this.oi>1/this.Yy&&(this.oi=1/this.Yy));this.wq=a;this.ab=this.oi*this.sg;this.$c.add(this.ab);this.Th.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.kn)&&!this.Re;2<=this.ee||a&&0<this.Gj?(b=this.Oc/this.Nc,c=this.width/this.height,k=this.ee,
a&&0<this.Gj&&(k=this.Gj),this.um=2!==k&&c>b||2===k&&c<b?this.height/this.Nc:this.width/this.Oc,this.Ub&&(this.Ub.rv(this.Ub.scrollX),this.Ub.sv(this.Ub.scrollY))):this.um=this.Oj?this.devicePixelRatio:1;this.Jd();this.jf++;this.$g.RH();this.jf--;this.Jd();this.jf++;c=this.Hu.vg();a=0;for(b=c.length;a<b;a++)c[a].CH();a=0;for(b=this.za.length;a<b;a++)if(g=this.za[a],!g.Ba&&(g.ic.length||g.gc.length))for(c=0,k=g.H.length;c<k;c++)for(f=g.H[c],d=0,e=f.Na.length;d<e;d++)f.Na[d].nb();a=0;for(b=this.za.length;a<
b;a++)if(g=this.za[a],!g.Ba&&(g.ic.length||g.gc.length))for(c=0,k=g.H.length;c<k;c++)for(f=g.H[c],d=0,e=f.Na.length;d<e;d++)h=f.Na[d],h.Dz&&h.Dz();c=this.Iu.vg();a=0;for(b=c.length;a<b;a++)c[a].nb();this.jf--;this.DG();for(a=0;this.xj&&10>a++;)this.Bx(this.xj);a=0;for(b=this.ph.length;a<b;a++)this.ph[a].Lt=!1;this.Ub.Cj&&this.Ub.Cj.Pc();H(this.ao);this.jf++;a=0;for(b=this.za.length;a<b;a++)if(g=this.za[a],!g.Ba&&(g.ic.length||g.gc.length))for(c=0,k=g.H.length;c<k;c++)for(f=g.H[c],d=0,e=f.Na.length;d<
e;d++)h=f.Na[d],h.yo&&h.yo();c=this.Ju.vg();a=0;for(b=c.length;a<b;a++)c[a].yo();this.jf--};a.prototype.fk=function(){var a,b,c,k,d,e,g,f,h;a=0;for(b=this.za.length;a<b;a++)if(g=this.za[a],!g.Ba)for(c=0,k=g.H.length;c<k;c++)if(f=g.H[c],f.fk&&f.fk(),f.Na)for(d=0,e=f.Na.length;d<e;d++)h=f.Na[d],h.fk&&h.fk()};a.prototype.Bx=function(a){var b=this.Ub;this.Ub.iI();var c,k,d;if(this.qa)for(c=0,k=this.za.length;c<k;c++)d=this.za[c],d.Ba||!d.Bo||d.global&&0!==d.H.length||-1!==a.$m.indexOf(d)||d.Bo();b==a&&
H(this.$g.Ze);H(this.ao);this.Lz(!0);a.xv();this.Lz(!1);this.Za=!0;this.Jd()};a.prototype.Lz=function(a){var b,c,k,d,e,g,f,h,l;b=0;for(c=this.ic.length;b<c;b++)k=this.ic[b],a?k.Pn&&k.Pn():k.Qn&&k.Qn();b=0;for(c=this.za.length;b<c;b++)if(k=this.za[b],k.global||k.Ta.Hr)for(d=0,e=k.H.length;d<e;d++)if(g=k.H[d],a?g.Pn&&g.Pn():g.Qn&&g.Qn(),g.Na)for(f=0,h=g.Na.length;f<h;f++)l=g.Na[f],a?l.Pn&&l.Pn():l.Qn&&l.Qn()};a.prototype.DH=function(a){this.Hu.add(a)};a.prototype.Qh=function(a){this.Iu.add(a)};a.prototype.kI=
function(a){this.Ju.add(a)};a.prototype.gg=function(a){return a&&-1!==a.Ln?this.oi*a.Ln:this.ab};a.prototype.Sd=function(){this.Ub.Sd(this.Eb);this.Td&&this.Eb.present()};a.prototype.wc=function(){this.Wb&&(this.Bj=1,this.Ub.ni(this.qa));this.Ub.wc(this.qa);this.qa.BH()};a.prototype.Ak=function(a){a&&this.Gp.push(a)};a.prototype.jv=function(a){Na(this.Gp,a)};a.prototype.hg=function(a){a=a.toString();return this.Eh.hasOwnProperty(a)?this.Eh[a]:null};var x=[];a.prototype.Ke=function(a){var b,c;b=a.type.name;
var k=null;if(this.Aj.hasOwnProperty(b)){if(k=this.Aj[b],k.contains(a))return}else k=x.length?x.pop():new fa,this.Aj[b]=k;k.add(a);this.ti=!0;if(a.Ud)for(b=0,c=a.siblings.length;b<c;b++)this.Ke(a.siblings[b]);this.Yt&&k.Tl.push(a);this.Xt||(this.jf++,this.trigger(Object.getPrototypeOf(a.type.Ta).C.iw,a),this.jf--)};a.prototype.Jd=function(){if(this.ti){var a,b,c,k,d,e;this.Yt=!0;c=0;for(d=this.fg.length;c<d;++c)for(a=this.fg[c],b=a.type,b.H.push(a),k=0,e=b.gc.length;k<e;++k)b.gc[k].H.push(a),b.gc[k].Ol=
!0;H(this.fg);this.RB();ob(this.Aj);this.ti=this.Yt=!1}};a.prototype.RB=function(){for(var a in this.Aj)this.Aj.hasOwnProperty(a)&&this.$A(this.Aj[a])};a.prototype.$A=function(a){var b=a.vg(),c=b[0].type,k,d,e,g,f,h;wb(c.H,a);c.Ol=!0;0===c.H.length&&(c.dp=!1);k=0;for(d=c.gc.length;k<d;++k)h=c.gc[k],wb(h.H,a),h.Ol=!0;k=0;for(d=this.$g.Ze.length;k<d;++k)if(f=this.$g.Ze[k],f.Ye.hasOwnProperty(c.index)&&wb(f.Ye[c.index].Nj,a),!c.Ba)for(e=0,g=c.gc.length;e<g;++e)h=c.gc[e],f.Ye.hasOwnProperty(h.index)&&
wb(f.Ye[h.index].Nj,a);if(f=b[0].P){if(f.uf)for(e=f.H,k=0,d=e.length;k<d;++k)g=e[k],a.contains(g)&&(g.cb(),f.Fd.update(g,g.Ge,null),g.Ge.set(0,0,-1,-1));wb(f.H,a);f.fo(0)}for(k=0;k<b.length;++k)this.ZA(b[k],c);a.clear();x.push(a);this.Za=!0};a.prototype.ZA=function(a,b){var c,k,d;c=0;for(k=this.Gp.length;c<k;++c)this.Gp[c](a);a.Cf&&b.xm.update(a,a.Cf,null);(c=a.P)&&c.Fl(a,!0);if(a.Na)for(c=0,k=a.Na.length;c<k;++c)d=a.Na[c],d.je&&d.je(),d.behavior.Iq.remove(a);this.Hu.remove(a);this.Iu.remove(a);this.Ju.remove(a);
a.je&&a.je();this.Eh.hasOwnProperty(a.uid.toString())&&delete this.Eh[a.uid.toString()];this.Mq--;100>b.Bp.length&&b.Bp.push(a)};a.prototype.zm=function(a,b,c,k){if(a.Ba){var d=ya(Math.random()*a.Rg.length);return this.zm(a.Rg[d],b,c,k)}return a.Ff?this.ki(a.Ff,b,!1,c,k,!1):null};var w=[];a.prototype.ki=function(a,b,c,k,d,e){var g,f,h,l;if(!a)return null;var n=this.za[a[1]],m=n.Ta.wi;if(this.hl&&m&&!n.Zt||m&&!this.qa&&11===a[0][11])return null;var p=b;m||(b=null);var r;n.Bp.length?(r=n.Bp.pop(),r.rd=
!0,n.Ta.ta.call(r,n)):(r=new n.Ta.ta(n),r.rd=!1);!c||e||this.Eh.hasOwnProperty(a[2].toString())?r.uid=this.Mn++:r.uid=a[2];this.Eh[r.uid.toString()]=r;r.Hz=this.dz++;r.Lj=n.H.length;g=0;for(f=this.fg.length;g<f;++g)this.fg[g].type===n&&r.Lj++;r.Um=qc;r.toString=rc;h=a[3];if(r.rd)ob(r.ra);else{r.ra={};if("undefined"!==typeof cr_is_preview)for(r.iy=[],r.iy.length=h.length,g=0,f=h.length;g<f;g++)r.iy[g]=h[g][1];r.Xb=[];r.Xb.length=h.length}g=0;for(f=h.length;g<f;g++)r.Xb[g]=h[g][0];if(m){var q=a[0];
r.x=oa(k)?q[0]:k;r.y=oa(d)?q[1]:d;r.z=q[2];r.width=q[3];r.height=q[4];r.depth=q[5];r.L=q[6];r.opacity=q[7];r.ze=q[8];r.Ae=q[9];r.Ld=q[10];g=q[11];!this.qa&&n.Xa.length&&(r.Ld=g);r.ym=Jb(r.Ld);this.Aa&&Kb(r,r.Ld,this.Aa);if(r.rd){g=0;for(f=q[12].length;g<f;g++)for(h=0,l=q[12][g].length;h<l;h++)r.kc[g][h]=q[12][g][h];r.Qb.set(0,0,0,0);r.Cf.set(0,0,-1,-1);r.Ge.set(0,0,-1,-1);r.Rb.Ll(r.Qb);H(r.Qs)}else{r.kc=q[12].slice(0);g=0;for(f=r.kc.length;g<f;g++)r.kc[g]=q[12][g].slice(0);r.Cb=[];r.bi=[];r.bi.length=
n.Xa.length;r.Qb=new Ca(0,0,0,0);r.Cf=new Ca(0,0,-1,-1);r.Ge=new Ca(0,0,-1,-1);r.Rb=new Da;r.Qs=[];r.ba=uc;r.eE=vc;r.Qd=wc;r.cb=xc;r.GA=yc;r.Nv=zc;r.Og=Ac}r.Rh=!1;r.tA=0;r.sA=0;r.rA=null;14===q.length&&(r.Rh=!0,r.tA=q[13][0],r.sA=q[13][1],r.rA=q[13][2]);g=0;for(f=n.Xa.length;g<f;g++)r.bi[g]=!0;r.Nh=!0;r.ug=Bc;r.ug();r.HA=!!r.Cb.length;r.jp=!0;r.Vs=!0;n.cp=!0;r.visible=!0;r.Ln=-1;r.P=b;r.wg=b.H.length;r.Bj=0;"undefined"===typeof r.jb&&(r.jb=null);this.Za=r.Df=!0}var v;H(w);g=0;for(f=n.gc.length;g<
f;g++)w.push.apply(w,n.gc[g].ic);w.push.apply(w,n.ic);if(r.rd)for(g=0,f=w.length;g<f;g++){var y=w[g];v=r.Na[g];v.rd=!0;y.behavior.ta.call(v,y,r);q=a[4][g];h=0;for(l=q.length;h<l;h++)v.S[h]=q[h];v.ka();y.behavior.Iq.add(r)}else for(r.Na=[],g=0,f=w.length;g<f;g++)y=w[g],v=new y.behavior.ta(y,r),v.rd=!1,v.S=a[4][g].slice(0),v.ka(),r.Na.push(v),y.behavior.Iq.add(r);q=a[5];if(r.rd)for(g=0,f=q.length;g<f;g++)r.S[g]=q[g];else r.S=q.slice(0);this.fg.push(r);this.ti=!0;b&&(b.tm(r,!0),1!==b.De||1!==b.Ee)&&
(n.dp=!0);this.Mq++;if(n.Ud){if(r.Ud=!0,r.rd?H(r.siblings):r.siblings=[],!c&&!e){g=0;for(f=n.Oe.length;g<f;g++)if(n.Oe[g]!==n){if(!n.Oe[g].Ff)return null;r.siblings.push(this.ki(n.Oe[g].Ff,p,!1,m?r.x:k,m?r.y:d,!0))}g=0;for(f=r.siblings.length;g<f;g++)for(r.siblings[g].siblings.push(r),h=0;h<f;h++)g!==h&&r.siblings[g].siblings.push(r.siblings[h])}}else r.Ud=!1,r.siblings=null;r.ka();g=0;for(f=r.Na.length;g<f;g++)r.Na[g].Cz&&r.Na[g].Cz();return r};a.prototype.Rm=function(a){var b,c;b=0;for(c=this.Ub.Ya.length;b<
c;b++){var k=this.Ub.Ya[b];if(Qb(k.name,a))return k}return null};a.prototype.rh=function(a){a=ya(a);0>a&&(a=0);a>=this.Ub.Ya.length&&(a=this.Ub.Ya.length-1);return this.Ub.Ya[a]};a.prototype.Xs=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ha().Ua=!0};a.prototype.Zn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Zn()};a.prototype.Ih=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ih()};a.prototype.Qf=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Qf()};a.prototype.DA=function(a){if(a.cp){var b,
c,k=a.H;b=0;for(c=k.length;b<c;++b)k[b].Nv();k=this.fg;b=0;for(c=k.length;b<c;++b)k[b].type===a&&k[b].Nv();a.cp=!1}};a.prototype.yt=function(a,b,c,k){var d,e,g=a?1!==a.De||1!==a.Ee:!1;if(b.Ba)for(a=0,d=b.Rg.length;a<d;++a)e=b.Rg[a],g||e.dp?Ka(k,e.H):(this.DA(e),e.xm.jr(c,k));else g||b.dp?Ka(k,b.H):(this.DA(b),b.xm.jr(c,k))};a.prototype.$x=function(a,b,c,k){var d,e;d=0;for(e=b.length;d<e;++d)this.yt(a,b[d],c,k)};a.prototype.kG=function(a,b,c){var k=this.gA;k&&this.$x(a,k.Jq,b,c)};a.prototype.dG=function(a,
b,c){var k=this.yy;k&&this.$x(a,k.Jq,b,c)};a.prototype.ro=function(a,b,c){var k=a.Ha(),d,e,g,f,h=this.hc().vc.nf,l,n,m;if(k.Ua)for(k.Ua=!1,H(k.H),d=0,f=a.H.length;d<f;d++)g=a.H[d],g.cb(),l=g.P.uc(b,c,!0),n=g.P.uc(b,c,!1),g.Qd(l,n)?k.H.push(g):h&&k.Oa.push(g);else{e=0;m=h?k.Oa:k.H;d=0;for(f=m.length;d<f;d++)g=m[d],g.cb(),l=g.P.uc(b,c,!0),n=g.P.uc(b,c,!1),g.Qd(l,n)&&(h?k.H.push(g):(k.H[e]=k.H[d],e++));m.length=e}a.Kd();return k.Kt()};a.prototype.Hd=function(a,b){if(!(a&&b&&a!==b&&a.Df&&b.Df))return!1;
a.cb();b.cb();var c=a.P,k=b.P,d,e,g,f,h,l,n,m;if(c===k||c.De===k.De&&k.Ee===k.Ee&&c.scale===k.scale&&c.L===k.L&&c.be===k.be){if(!a.Qb.KG(b.Qb)||!a.Rb.jy(b.Rb)||a.Rh&&b.Rh)return!1;if(a.Rh)return this.mA(a,b);if(b.Rh)return this.mA(b,a);n=a.jb&&!a.jb.Qj();d=b.jb&&!b.jb.Qj();if(!n&&!d)return!0;n?(a.jb.fi(a.width,a.height,a.L),n=a.jb):(this.qg.Kl(a.Rb,a.x,a.y,a.width,a.height),n=this.qg);d?(b.jb.fi(b.width,b.height,b.L),m=b.jb):(this.qg.Kl(b.Rb,b.x,b.y,b.width,b.height),m=this.qg);return n.bn(m,b.x-
a.x,b.y-a.y)}n=a.jb&&!a.jb.Qj();d=b.jb&&!b.jb.Qj();n?(a.jb.fi(a.width,a.height,a.L),this.qg.Yz(a.jb)):this.qg.Kl(a.Rb,a.x,a.y,a.width,a.height);n=this.qg;d?(b.jb.fi(b.width,b.height,b.L),this.zv.Yz(b.jb)):this.zv.Kl(b.Rb,b.x,b.y,b.width,b.height);m=this.zv;d=0;for(e=n.ne;d<e;d++)g=2*d,f=g+1,h=n.Ob[g],l=n.Ob[f],n.Ob[g]=c.kb(h+a.x,l+a.y,!0),n.Ob[f]=c.kb(h+a.x,l+a.y,!1);n.cb();d=0;for(e=m.ne;d<e;d++)g=2*d,f=g+1,h=m.Ob[g],l=m.Ob[f],m.Ob[g]=k.kb(h+b.x,l+b.y,!0),m.Ob[f]=k.kb(h+b.x,l+b.y,!1);m.cb();return n.bn(m,
0,0)};var F=new Da;new Ca(0,0,0,0);var I=[];a.prototype.mA=function(a,b){var c,k,d,e,g=b.Qb,f=a.x,h=a.y;a.WF(g,I);var l=b.jb&&!b.jb.Qj();c=0;for(k=I.length;c<k;++c)if(d=I[c],e=d.Gb,g.LG(e,f,h)&&(F.Ll(e),F.offset(f,h),F.jy(b.Rb)))if(l)if(b.jb.fi(b.width,b.height,b.L),d.le){if(d.le.bn(b.jb,b.x-(f+e.left),b.y-(h+e.top)))return H(I),!0}else{if(this.qg.Kl(F,0,0,e.right-e.left,e.bottom-e.top),this.qg.bn(b.jb,b.x,b.y))return H(I),!0}else if(d.le){if(this.qg.Kl(b.Rb,0,0,b.width,b.height),d.le.bn(this.qg,
-(f+e.left),-(h+e.top)))return H(I),!0}else return H(I),!0;H(I);return!1};a.prototype.zA=function(a,b){if(!b)return!1;var c,k,d,e,g;c=0;for(k=a.ic.length;c<k;c++)if(a.ic[c].behavior instanceof b)return!0;if(!a.Ba)for(c=0,k=a.gc.length;c<k;c++)for(g=a.gc[c],d=0,e=g.ic.length;d<e;d++)if(g.ic[d].behavior instanceof b)return!0;return!1};a.prototype.Iv=function(a){return this.zA(a,Zc.SI)};a.prototype.Jv=function(a){return this.zA(a,Zc.TI)};var S=[];a.prototype.sd=function(a){var b,c,k;a.cb();this.kG(a.P,
a.Qb,S);b=0;for(c=S.length;b<c;++b)if(k=S[b],k.ra.solidEnabled&&this.Hd(a,k))return H(S),k;H(S);return null};var ea=[];a.prototype.bh=function(a,b){var c=null;b&&(c=ea,H(c));a.cb();this.dG(a.P,a.Qb,S);var k,d,e;k=0;for(d=S.length;k<d;++k)if(e=S[k],e.ra.jumpthruEnabled&&this.Hd(a,e))if(b)c.push(e);else return H(S),e;H(S);return c};a.prototype.qf=function(a,b,c,k,d,e){k=k||50;var g=a.x,f=a.y,h,l=null,n=null;for(h=0;h<k;h++)if(a.x=g+b*h,a.y=f+c*h,a.ba(),!this.Hd(a,l)&&((l=this.sd(a))&&(n=l),!l&&(d&&
(e?l=this.Hd(a,e)?e:null:l=this.bh(a),l&&(n=l)),!l)))return n&&this.av(a,b,c,n),!0;a.x=g;a.y=f;a.ba();return!1};a.prototype.HH=function(a,b,c,k,d){k=k||50;var e=a.x,g=a.y,f;for(f=0;f<k;f++)if(a.x=e+b*f,a.y=g+c*f,a.ba(),!this.Hd(a,d))return;a.x=e;a.y=g;a.ba()};a.prototype.av=function(a,b,c,k){var d=2,e,g=!1;e=!1;for(var f=a.x,h=a.y;16>=d;)e=1/d,d*=2,a.x+=b*e*(g?1:-1),a.y+=c*e*(g?1:-1),a.ba(),this.Hd(a,k)?e=g=!0:(e=g=!1,f=a.x,h=a.y);e&&(a.x=f,a.y=h,a.ba())};a.prototype.bv=function(a,b){var c=oa(b)?
100:b,k=0,d=a.x,e=a.y,g=0,f=0,h=0,l=this.sd(a);if(!l)return!0;for(;k<=c;){switch(g){case 0:f=0;h=-1;k++;break;case 1:f=1;h=-1;break;case 2:f=1;h=0;break;case 3:h=f=1;break;case 4:f=0;h=1;break;case 5:f=-1;h=1;break;case 6:f=-1;h=0;break;case 7:h=f=-1}g=(g+1)%8;a.x=ya(d+f*k);a.y=ya(e+h*k);a.ba();if(!this.Hd(a,l)&&(l=this.sd(a),!l))return!0}a.x=d;a.y=e;a.ba();return!1};a.prototype.ik=function(a,b){a.Df&&b.Df&&this.ao.push([a,b])};a.prototype.qE=function(a,b){var c,k,d;c=0;for(k=this.ao.length;c<k;c++)if(d=
this.ao[c],d[0]==a&&d[1]==b||d[0]==b&&d[1]==a)return!0;return!1};a.prototype.kx=function(a,b,c,k){var d=a.x,e=a.y,g=ua(10,db(b,c,d,e)),f=Xa(b,c,d,e),h=k||this.sd(a);if(!h)return Ua(f+xa);var l=h,n,m,r,p,q=Pa(5);for(n=1;36>n;n++)if(m=f-n*q,a.x=b+Math.cos(m)*g,a.y=c+Math.sin(m)*g,a.ba(),!this.Hd(a,l)&&(l=k?null:this.sd(a),!l)){r=m;break}36===n&&(r=Ua(f+xa));l=h;for(n=1;36>n;n++)if(m=f+n*q,a.x=b+Math.cos(m)*g,a.y=c+Math.sin(m)*g,a.ba(),!this.Hd(a,l)&&(l=k?null:this.sd(a),!l)){p=m;break}36===n&&(p=Ua(f+
xa));a.x=d;a.y=e;a.ba();if(p===r)return p;a=Ya(p,r)/2;a=ab(p,r)?Ua(r+a+xa):Ua(p+a);r=Math.cos(f);f=Math.sin(f);p=Math.cos(a);a=Math.sin(a);b=r*p+f*a;return Xa(0,0,r-2*b*p,f-2*b*a)};var T=-1;a.prototype.trigger=function(a,b,c){if(!this.Ub)return!1;var k=this.Ub.Cj;if(!k)return!1;var d=!1,e,g,f;T++;var h=k.et;g=0;for(f=h.length;g<f;++g)e=this.wA(a,b,h[g],c),d=d||e;e=this.wA(a,b,k,c);T--;return d||e};a.prototype.wA=function(a,b,c,k){var d=!1,e,g,f,h;if(b)for(f=this.Gv(a,b,b.type.name,c,k),d=d||f,h=b.type.gc,
e=0,g=h.length;e<g;++e)f=this.Gv(a,b,h[e].name,c,k),d=d||f;else f=this.Gv(a,b,"system",c,k),d=d||f;return d};a.prototype.Gv=function(a,b,c,k,d){var e,g=!1,f=!1,f="undefined"!==typeof d,h=(f?k.Hx:k.xA)[c];if(!h)return g;var l=null;k=0;for(e=h.length;k<e;++k)if(h[k].method==a){l=h[k].Hm;break}if(!l)return g;var n;f?n=l[d]:n=l;if(!n)return null;k=0;for(e=n.length;k<e;k++)a=n[k][0],d=n[k][1],f=this.JF(b,c,a,d),g=g||f;return g};a.prototype.JF=function(a,b,c,k){var d,e,g=!1;this.Hv++;var f=this.hc().vc;
f&&this.Zn(f.$i);var h=1<this.Hv;this.Zn(c.$i);h&&this.GH();var l=this.ir(c);l.vc=c;a&&(d=this.types[b].Ha(),d.Ua=!1,H(d.H),d.H[0]=a,this.types[b].Kd());a=!0;if(c.parent){b=l.lA;for(d=c.parent;d;)b.push(d),d=d.parent;b.reverse();d=0;for(e=b.length;d<e;d++)if(!b[d].TH()){a=!1;break}}a&&(this.Ej++,c.nf?c.SH(k):c.Pc(),g=g||l.Wj);this.cr();h&&this.xH();this.Qf(c.$i);f&&this.Qf(f.$i);this.ti&&0===this.jf&&0===T&&!this.$t&&this.Jd();this.Hv--;return g};a.prototype.Sk=function(){var a=this.hc();return a.vc.Wc[a.Fc]};
a.prototype.NG=function(){return 0===this.hc().Fc};a.prototype.XF=function(){var a=this.hc();return a.vc.yf[a.bf]};a.prototype.GH=function(){this.Dq++;this.Dq>=this.wu.length&&this.wu.push([])};a.prototype.xH=function(){this.Dq--};a.prototype.Rx=function(){return this.wu[this.Dq]};a.prototype.ir=function(a){this.Ip++;this.Ip>=this.jt.length&&this.jt.push(new Cc);var b=this.hc();b.reset(a);return b};a.prototype.cr=function(){this.Ip--};a.prototype.hc=function(){return this.jt[this.Ip]};a.prototype.Iz=
function(a){this.In++;this.In>=this.Hn.length&&this.Hn.push(ca({name:a,index:0,rc:!1}));var b=this.Sx();b.name=a;b.index=0;b.rc=!1;return b};a.prototype.Az=function(){this.In--};a.prototype.Sx=function(){return this.Hn[this.In]};a.prototype.Ux=function(a,b){for(var c,k,d,e,g,f;b;){c=0;for(k=b.Uf.length;c<k;c++)if(f=b.Uf[c],f instanceof Dc&&Qb(a,f.name))return f;b=b.parent}c=0;for(k=this.ph.length;c<k;c++)for(g=this.ph[c],d=0,e=g.pi.length;d<e;d++)if(f=g.pi[d],f instanceof Dc&&Qb(a,f.name))return f;
return null};a.prototype.Xx=function(a){var b,c;b=0;for(c=this.kg.length;b<c;b++)if(this.kg[b].mb===a)return this.kg[b];return null};a.prototype.aq=function(a){var b,c;b=0;for(c=this.za.length;b<c;b++)if(this.za[b].mb===a)return this.za[b];return null};a.prototype.aG=function(a){var b,c;b=0;for(c=this.Bk.length;b<c;b++)if(this.Bk[b].mb===a)return this.Bk[b];return null};a.prototype.DE=function(a,b){this.no=[a,b];this.Za=!0};a.prototype.DG=function(){var a=this,c=this.qv,k=this.yh,d=this.zq,g=!1;this.dA&&
(g=!0,c="__c2_continuouspreview",this.dA=!1);if(c.length){this.Jd();k=this.XH();if(b()&&!this.Kf)h(c,k,function(){ka("Saved state to IndexedDB storage ("+k.length+" bytes)");a.yh=k;a.trigger(L.prototype.C.ws,null);a.yh="";g&&e()},function(b){try{localStorage.setItem("__c2save_"+c,k),ka("Saved state to WebStorage ("+k.length+" bytes)"),a.yh=k,a.trigger(L.prototype.C.ws,null),a.yh="",g&&e()}catch(d){ka("Failed to save game state: "+b+"; "+d),a.trigger(L.prototype.C.Dw,null)}});else try{localStorage.setItem("__c2save_"+
c,k),ka("Saved state to WebStorage ("+k.length+" bytes)"),a.yh=k,this.trigger(L.prototype.C.ws,null),a.yh="",g&&e()}catch(l){ka("Error saving to WebStorage: "+l),a.trigger(L.prototype.C.Dw,null)}this.Vd=this.zq=this.qv=""}if(d.length){if(b()&&!this.Kf)f(d,function(b){b?(a.Vd=b,ka("Loaded state from IndexedDB storage ("+a.Vd.length+" bytes)")):(a.Vd=localStorage.getItem("__c2save_"+d)||"",ka("Loaded state from WebStorage ("+a.Vd.length+" bytes)"));a.po=!1;a.Vd.length||a.trigger(L.prototype.C.us,null)},
function(){a.Vd=localStorage.getItem("__c2save_"+d)||"";ka("Loaded state from WebStorage ("+a.Vd.length+" bytes)");a.po=!1;a.Vd.length||a.trigger(L.prototype.C.us,null)});else{try{this.Vd=localStorage.getItem("__c2save_"+d)||"",ka("Loaded state from WebStorage ("+this.Vd.length+" bytes)")}catch(n){this.Vd=""}this.po=!1;a.Vd.length||a.trigger(L.prototype.C.us,null)}this.qv=this.zq=""}this.Vd.length&&(this.Jd(),this.YG(this.Vd),this.yh=this.Vd,this.trigger(L.prototype.C.xC,null),this.Vd=this.yh="")};
a.prototype.XH=function(){var a,b,c,k,d,e,f,h={c2save:!0,version:1,rt:{time:this.$c.Va,walltime:this.Th.Va,timescale:this.sg,tickcount:this.sf,execcount:this.Ej,next_uid:this.Mn,running_layout:this.Ub.mb,start_time_offset:Date.now()-this.Lr},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.za.length;a<b;a++)if(d=this.za[a],!d.Ba&&!this.Iv(d)){e={instances:[]};jb(d.ra)&&(e.ex=g(d.ra));c=0;for(k=d.H.length;c<k;c++)e.instances.push(this.pv(d.H[c]));h.types[d.mb.toString()]=
e}a=0;for(b=this.kg.length;a<b;a++)c=this.kg[a],h.layouts[c.mb.toString()]=c.Mb();k=h.events.groups;a=0;for(b=this.Bk.length;a<b;a++)c=this.Bk[a],k[c.mb.toString()]=this.Vk[c.Vm].Ij;b=h.events.cnds;for(f in this.ji)this.ji.hasOwnProperty(f)&&(a=this.ji[f],jb(a.ra)&&(b[f]={ex:g(a.ra)}));b=h.events.acts;for(f in this.ci)this.ci.hasOwnProperty(f)&&(a=this.ci[f],jb(a.ra)&&(b[f]={ex:g(a.ra)}));b=h.events.vars;for(f in this.Ul)this.Ul.hasOwnProperty(f)&&(a=this.Ul[f],a.qq||a.parent&&!a.pn||(b[f]=a.data));
h.system=this.$g.Mb();return JSON.stringify(h)};a.prototype.Kz=function(){var a,b,c,k,d,e;this.Eh={};a=0;for(b=this.za.length;a<b;a++)if(c=this.za[a],!c.Ba)for(k=0,d=c.H.length;k<d;k++)e=c.H[k],this.Eh[e.uid.toString()]=e};a.prototype.YG=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.hn=!0;var b=a.rt;this.$c.reset();this.$c.Va=b.time;this.Th.reset();this.Th.Va=b.walltime||0;this.sg=b.timescale;this.sf=b.tickcount;this.Ej=b.execcount;this.Lr=Date.now()-b.start_time_offset;var c=b.running_layout;
if(c!==this.Ub.mb)if(c=this.Xx(c))this.Bx(c);else return;var k,d,e,g,f,h,l;h=a.types;for(d in h)if(h.hasOwnProperty(d)&&(g=this.aq(parseInt(d,10)))&&!g.Ba&&!this.Iv(g)){h[d].ex?g.ra=h[d].ex:ob(g.ra);f=g.H;e=h[d].instances;c=0;for(k=wa(f.length,e.length);c<k;c++)this.Aq(f[c],e[c]);c=e.length;for(k=f.length;c<k;c++)this.Ke(f[c]);c=f.length;for(k=e.length;c<k;c++){f=null;if(g.Ta.wi&&(f=this.Ub.$p(e[c].w.l),!f))continue;f=this.ki(g.Ff,f,!1,0,0,!0);this.Aq(f,e[c])}g.Ol=!0}this.Jd();this.Kz();k=a.layouts;
for(d in k)k.hasOwnProperty(d)&&(c=this.Xx(parseInt(d,10)))&&c.Sb(k[d]);k=a.events.groups;for(d in k)k.hasOwnProperty(d)&&(c=this.aG(parseInt(d,10)))&&this.Vk[c.Vm]&&this.Vk[c.Vm].Ar(k[d]);c=a.events.cnds;for(d in this.ji)this.ji.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.ji[d].ra=c[d].ex:this.ji[d].ra={});c=a.events.acts;for(d in this.ci)this.ci.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.ci[d].ra=c[d].ex:this.ci[d].ra={});c=a.events.vars;for(d in c)c.hasOwnProperty(d)&&this.Ul.hasOwnProperty(d)&&
(this.Ul[d].data=c[d]);this.Mn=b.next_uid;this.hn=!1;c=0;for(k=this.Np.length;c<k;++c)f=this.Np[c],this.trigger(Object.getPrototypeOf(f.type.Ta).C.Zh,f);H(this.Np);this.$g.Sb(a.system);c=0;for(k=this.za.length;c<k;c++)if(g=this.za[c],!g.Ba&&!this.Iv(g))for(d=0,a=g.H.length;d<a;d++){f=g.H[d];if(g.Ud)for(h=f.Um(),H(f.siblings),b=0,e=g.Oe.length;b<e;b++)l=g.Oe[b],g!==l&&f.siblings.push(l.H[h]);f.zf&&f.zf();if(f.Na)for(b=0,e=f.Na.length;b<e;b++)h=f.Na[b],h.zf&&h.zf()}this.Za=!0}};a.prototype.pv=function(a,
b){var c,k,d,e,f;e=a.type;d=e.Ta;var h={};b?h.c2=!0:h.uid=a.uid;jb(a.ra)&&(h.ex=g(a.ra));if(a.Xb&&a.Xb.length)for(h.ivs={},c=0,k=a.Xb.length;c<k;c++)h.ivs[a.type.Vt[c].toString()]=a.Xb[c];if(d.wi){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.P.mb,zi:a.Og()};0!==a.L&&(d.a=a.L);1!==a.opacity&&(d.o=a.opacity);.5!==a.ze&&(d.hX=a.ze);.5!==a.Ae&&(d.hY=a.Ae);0!==a.Ld&&(d.bm=a.Ld);a.visible||(d.v=a.visible);a.Df||(d.ce=a.Df);-1!==a.Ln&&(d.mts=a.Ln);if(e.Xa.length)for(d.fx=[],c=0,k=e.Xa.length;c<k;c++)f=e.Xa[c],
d.fx.push({name:f.name,active:a.bi[f.index],params:a.kc[f.index]});h.w=d}if(a.Na&&a.Na.length)for(h.behs={},c=0,k=a.Na.length;c<k;c++)e=a.Na[c],e.Mb&&(h.behs[e.type.mb.toString()]=e.Mb());a.Mb&&(h.data=a.Mb());return h};a.prototype.cG=function(a,b){var c,k;c=0;for(k=a.Vt.length;c<k;c++)if(a.Vt[c]===b)return c;return-1};a.prototype.VF=function(a,b){var c,k;c=0;for(k=a.Na.length;c<k;c++)if(a.Na[c].type.mb===b)return c;return-1};a.prototype.Aq=function(a,b,c){var k,d,e,g,f;f=a.type;g=f.Ta;if(c){if(!b.c2)return}else a.uid=
b.uid;b.ex?a.ra=b.ex:ob(a.ra);if(d=b.ivs)for(k in d)d.hasOwnProperty(k)&&(e=this.cG(f,parseInt(k,10)),0>e||e>=a.Xb.length||(a.Xb[e]=d[k]));if(g.wi){e=b.w;a.P.mb!==e.l&&(d=a.P,a.P=this.Ub.$p(e.l),a.P?(d.Fl(a,!0),a.P.tm(a,!0),a.ba(),a.P.fo(0)):(a.P=d,c||this.Ke(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.wg=e.zi;a.L=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.ze=e.hasOwnProperty("hX")?e.hX:.5;a.Ae=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.Df=
e.hasOwnProperty("ce")?e.ce:!0;a.Ln=e.hasOwnProperty("mts")?e.mts:-1;a.Ld=e.hasOwnProperty("bm")?e.bm:0;a.ym=Jb(a.Ld);this.Aa&&Kb(a,a.Ld,this.Aa);a.ba();if(e.hasOwnProperty("fx"))for(c=0,d=e.fx.length;c<d;c++)g=f.At(e.fx[c].name),0>g||(a.bi[g]=e.fx[c].active,a.kc[g]=e.fx[c].params);a.ug()}if(f=b.behs)for(k in f)f.hasOwnProperty(k)&&(c=this.VF(a,parseInt(k,10)),0>c||a.Na[c].Sb(f[k]));b.data&&a.Sb(b.data)};a.prototype.Ix=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(b,c)},c)};a.prototype.Kx=function(a,b){this.Ix("data.js",function(c){var k=new FileReader;k.onload=function(b){a(b.target.result)};k.onerror=b;k.readAsText(c)},b)};a.prototype.Jx=function(a,b,c){this.Ix(a,function(a){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.KF=function(a,b,c){this.Jx(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},c)};a.prototype.Tz=function(a,b){this.mn?this.KF(b,function(b){a.src=b},
function(a){alert("Failed to load image: "+a)}):a.src=b};Ec=function(b){return new a(document.getElementById(b))};Fc=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=Ec;window.cr_createDCRuntime=Fc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.j=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.DE(a,c)};
window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.i=a;this.Cj=null;this.scrollX=this.i.Oc/2;this.scrollY=this.i.Nc/2;this.scale=1;this.L=0;this.Pk=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.AA=b[3];this.aA=b[4];this.mb=b[5];var c=b[6],d,e;this.Ya=[];this.$m=[];d=0;for(e=c.length;d<e;d++){var g=new Gc(this,c[d]);g.fz=d;this.Ya.push(g)}c=b[7];this.Mj=[];d=0;for(e=c.length;d<e;d++){var g=c[d],f=this.i.za[g[1]];f.Ff||(f.Ff=g);this.Mj.push(g);-1===this.$m.indexOf(f)&&this.$m.push(f)}this.Xa=[];this.Cb=[];
this.Nh=!0;this.kc=[];d=0;for(e=b[8].length;d<e;d++)this.Xa.push({id:b[8][d][0],name:b[8][d][1],Qc:-1,pf:!1,Ec:!0,index:d}),this.kc.push(b[8][d][2].slice(0));this.ug();this.Wi=new Ca(0,0,1,1);this.hv=new Ca(0,0,1,1);this.Ui={}}function c(a,b){return a.wg-b.wg}function b(a,b){this.zc=a;this.i=a.i;this.H=[];this.scale=1;this.L=0;this.oh=!1;this.Sh=new Ca(0,0,0,0);this.uA=new Da;this.Ib=this.xb=this.Jb=this.wb=0;this.sk=!1;this.Vh=-1;this.Ys=0;this.name=b[0];this.index=b[1];this.mb=b[2];this.visible=
b[3];this.bg=b[4];this.tg=b[5];this.De=b[6];this.Ee=b[7];this.opacity=b[8];this.Vp=b[9];this.uf=b[10];this.be=b[11];this.Ld=b[12];this.cF=b[13];this.ym="source-over";this.Rd=this.Wd=0;this.Fd=null;this.zh=d();this.pg=!0;this.ml=new Ca(0,0,-1,-1);this.wd=new Ca(0,0,-1,-1);this.uf&&(this.Fd=new Ib(this.i.Oc,this.i.Nc));this.Xg=!1;var c=b[14],e,g;this.hA=[];this.gf=[];this.Bm=[];e=0;for(g=c.length;e<g;e++){var f=c[e],h=this.i.za[f[1]];h.Ff||(h.Ff=f,h.wx=this.index);this.gf.push(f);-1===this.zc.$m.indexOf(h)&&
this.zc.$m.push(h)}Ia(this.hA,this.gf);this.Xa=[];this.Cb=[];this.Nh=!0;this.kc=[];e=0;for(g=b[15].length;e<g;e++)this.Xa.push({id:b[15][e][0],name:b[15][e][1],Qc:-1,pf:!1,Ec:!0,index:e}),this.kc.push(b[15][e][2].slice(0));this.ug();this.Wi=new Ca(0,0,1,1);this.hv=new Ca(0,0,1,1)}function d(){return g.length?g.pop():[]}function h(a){H(a);g.push(a)}a.prototype.WH=function(a){var b=a.type.mb.toString();this.Ui.hasOwnProperty(b)||(this.Ui[b]=[]);this.Ui[b].push(this.i.pv(a))};a.prototype.ay=function(){var a=
this.Ya[0];return!a.tg&&1===a.opacity&&!a.Vp&&a.visible};a.prototype.ug=function(){H(this.Cb);this.Nh=!0;var a,b,c;a=0;for(b=this.Xa.length;a<b;a++)c=this.Xa[a],c.Ec&&(this.Cb.push(c),c.pf||(this.Nh=!1))};a.prototype.zt=function(a){var b,c,d;b=0;for(c=this.Xa.length;b<c;b++)if(d=this.Xa[b],d.name===a)return d;return null};var f=[],e=!0;a.prototype.xv=function(){this.aA&&(this.Cj=this.i.kt[this.aA],this.Cj.Kv());this.i.Ub=this;this.scrollX=this.i.Oc/2;this.scrollY=this.i.Nc/2;var a,b,d,g,h,l,m;a=0;
for(d=this.i.za.length;a<d;a++)if(b=this.i.za[a],!b.Ba)for(h=b.H,b=0,g=h.length;b<g;b++)if(l=h[b],l.P){var r=l.P.fz;r>=this.Ya.length&&(r=this.Ya.length-1);l.P=this.Ya[r];-1===l.P.H.indexOf(l)&&l.P.H.push(l);l.P.sk=!0}if(!e)for(a=0,d=this.Ya.length;a<d;++a)this.Ya[a].H.sort(c);H(f);this.mE();a=0;for(d=this.Ya.length;a<d;a++)l=this.Ya[a],l.yE(),l.as();h=!1;if(!this.Pk){for(m in this.Ui)if(this.Ui.hasOwnProperty(m)&&(b=this.i.aq(parseInt(m,10)))&&!b.Ba&&this.i.Jv(b)){g=this.Ui[m];a=0;for(d=g.length;a<
d;a++){l=null;if(b.Ta.wi&&(l=this.$p(g[a].w.l),!l))continue;l=this.i.ki(b.Ff,l,!1,0,0,!0);this.i.Aq(l,g[a]);h=!0;f.push(l)}H(g)}a=0;for(d=this.Ya.length;a<d;a++)this.Ya[a].H.sort(c),this.Ya[a].sk=!0}h&&(this.i.Jd(),this.i.Kz());for(a=0;a<f.length;a++)if(l=f[a],l.type.Ud)for(d=l.Um(),b=0,g=l.type.Oe.length;b<g;b++)m=l.type.Oe[b],l.type!==m&&(m.H.length>d?l.siblings.push(m.H[d]):m.Ff&&(h=this.i.ki(m.Ff,l.P,!0,l.x,l.y,!0),this.i.Jd(),m.Zr(),l.siblings.push(h),f.push(h)));a=0;for(d=this.Mj.length;a<d;a++)this.i.ki(this.Mj[a],
null,!0);this.i.xj=null;this.i.Jd();if(this.i.Eb&&!this.i.La)for(a=0,d=this.i.za.length;a<d;a++)m=this.i.za[a],!m.Ba&&m.H.length&&m.Wn&&m.Wn(this.i.Eb);if(this.i.hn)Ia(this.i.Np,f);else for(a=0,d=f.length;a<d;a++)l=f[a],this.i.trigger(Object.getPrototypeOf(l.type.Ta).C.Zh,l);H(f);this.i.hn||this.i.trigger(L.prototype.C.vw,null);this.Pk=!1};a.prototype.xE=function(){var a,b,c,d,e;b=a=0;for(c=this.Mj.length;a<c;a++)d=this.Mj[a],e=this.i.za[d[1]],e.global?e.Ud||this.i.ki(d,null,!0):(this.Mj[b]=d,b++);
Ha(this.Mj,b)};a.prototype.iI=function(){this.i.hn||this.i.trigger(L.prototype.C.wC,null);this.i.Xt=!0;H(this.i.$g.Ze);var a,b,c,d,g,f;if(!this.Pk)for(a=0,b=this.Ya.length;a<b;a++)for(this.Ya[a].Mv(),g=this.Ya[a].H,c=0,d=g.length;c<d;c++)f=g[c],f.type.global||this.i.Jv(f.type)&&this.WH(f);a=0;for(b=this.Ya.length;a<b;a++){g=this.Ya[a].H;c=0;for(d=g.length;c<d;c++)f=g[c],f.type.global||this.i.Ke(f);this.i.Jd();H(g);this.Ya[a].sk=!0}a=0;for(b=this.i.za.length;a<b;a++)if(g=this.i.za[a],!(g.global||g.Ta.wi||
g.Ta.Hr||g.Ba)){c=0;for(d=g.H.length;c<d;c++)this.i.Ke(g.H[c]);this.i.Jd()}e=!1;this.i.Xt=!1};new Ca(0,0,0,0);a.prototype.Sd=function(a){var b,c=a,d=!1,e=!this.i.ef;e&&(this.i.yq||(this.i.yq=document.createElement("canvas"),b=this.i.yq,b.width=this.i.Ka,b.height=this.i.Ja,this.i.Ey=b.getContext("2d"),d=!0),b=this.i.yq,c=this.i.Ey,b.width!==this.i.Ka&&(b.width=this.i.Ka,d=!0),b.height!==this.i.Ja&&(b.height=this.i.Ja,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.bb,c.mozImageSmoothingEnabled=this.i.bb,
c.msImageSmoothingEnabled=this.i.bb,c.imageSmoothingEnabled=this.i.bb));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.i.Ns&&!this.ay()&&c.clearRect(0,0,this.i.Ka,this.i.Ja);var g,f,d=0;for(g=this.Ya.length;d<g;d++)f=this.Ya[d],f.visible&&0<f.opacity&&11!==f.Ld&&(f.H.length||!f.tg)?f.Sd(c):f.as();e&&a.drawImage(b,0,0,this.i.width,this.i.height)};a.prototype.ni=function(a){a.Sz(!0);this.i.Lc||(this.i.Lc=a.Pe(this.i.Ka,this.i.Ja,this.i.bb));if(this.i.Lc.vj!==this.i.Ka||this.i.Lc.uj!==
this.i.Ja)a.deleteTexture(this.i.Lc),this.i.Lc=a.Pe(this.i.Ka,this.i.Ja,this.i.bb);a.Sf(this.i.Lc);this.i.ef||a.Mh(this.i.Ka,this.i.Ja);var b,c;for(b=this.Ya.length-1;0<=b;--b)c=this.Ya[b],c.visible&&1===c.opacity&&c.Nh&&0===c.Ld&&(c.H.length||!c.tg)?c.ni(a):c.as();a.Sz(!1)};a.prototype.wc=function(a){var b=0<this.Cb.length||this.i.Sl||!this.i.ef||this.i.Wb;if(b){this.i.Lc||(this.i.Lc=a.Pe(this.i.Ka,this.i.Ja,this.i.bb));if(this.i.Lc.vj!==this.i.Ka||this.i.Lc.uj!==this.i.Ja)a.deleteTexture(this.i.Lc),
this.i.Lc=a.Pe(this.i.Ka,this.i.Ja,this.i.bb);a.Sf(this.i.Lc);this.i.ef||a.Mh(this.i.Ka,this.i.Ja)}else this.i.Lc&&(a.Sf(null),a.deleteTexture(this.i.Lc),this.i.Lc=null);this.i.Ns&&!this.ay()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Ya.length;c<d;c++)e=this.Ya[c],e.visible&&0<e.opacity&&(e.H.length||!e.tg)?e.wc(a):e.as();b&&(0===this.Cb.length||1===this.Cb.length&&this.i.ef?(1===this.Cb.length?(b=this.Cb[0].index,a.Ie(this.Cb[0].Qc),a.Jl(null,1/this.i.Ka,1/this.i.Ja,0,0,1,1,this.scale,this.L,0,
0,this.i.Ka/2,this.i.Ja/2,this.i.$c.Va,this.kc[b]),a.hr(this.Cb[0].Qc)&&(this.i.Za=!0)):a.Ie(0),this.i.ef||a.Mh(this.i.width,this.i.height),a.Sf(null),a.Qz(!1),a.Lh(1),a.pe(this.i.Lc),a.Oz(),a.Rf(),a.tf(),b=this.i.width/2,c=this.i.height/2,a.El(-b,c,b,c,b,-c,-b,-c),a.pe(null),a.Qz(!0)):this.kv(a,null,null,null))};a.prototype.Sm=function(){return 0<this.Cb.length||this.i.Sl||!this.i.ef||this.i.Wb?this.i.Lc:null};a.prototype.Yx=function(){var a=this.Ya[0].Ad(),b,c,d;b=1;for(c=this.Ya.length;b<c;b++)d=
this.Ya[b],(0!==d.De||0!==d.Ee)&&d.Ad()<a&&(a=d.Ad());return a};a.prototype.rv=function(a){if(!this.AA){var b=1/this.Yx()*this.i.Ka/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.i.Za=!0)};a.prototype.sv=function(a){if(!this.AA){var b=1/this.Yx()*this.i.Ja/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.i.Za=!0)};a.prototype.mE=function(){this.rv(this.scrollX);this.sv(this.scrollY)};a.prototype.kv=function(a,b,c,d){var e=
c?c.Cb:b?b.Cb:this.Cb,g=1,f=0,h=0,l=0,m=this.i.Ka,D=this.i.Ja;c?(g=c.P.Ad(),f=c.P.Zb(),h=c.P.wb,l=c.P.xb,m=c.P.Jb,D=c.P.Ib):b&&(g=b.Ad(),f=b.Zb(),h=b.wb,l=b.xb,m=b.Jb,D=b.Ib);var C=this.i.qt,E,A,x,w,F=0,I=1,S,ea,T=this.i.Ka,G=this.i.Ja,ba=T/2,U=G/2,O=b?b.Wi:this.Wi,J=b?b.hv:this.hv,M=0,P=0,K=0,N=0,W=T,ha=T,R=G,va=G,na=x=0;w=c?c.P.Zb():0;if(c){E=0;for(A=e.length;E<A;E++)x+=a.hG(e[E].Qc),na+=a.iG(e[E].Qc);N=c.Qb;M=b.kb(N.left,N.top,!0,!0);K=b.kb(N.left,N.top,!1,!0);W=b.kb(N.right,N.bottom,!0,!0);R=
b.kb(N.right,N.bottom,!1,!0);0!==w&&(E=b.kb(N.right,N.top,!0,!0),A=b.kb(N.right,N.top,!1,!0),P=b.kb(N.left,N.bottom,!0,!0),N=b.kb(N.left,N.bottom,!1,!0),w=Math.min(M,W,E,P),W=Math.max(M,W,E,P),M=w,w=Math.min(K,R,A,N),R=Math.max(K,R,A,N),K=w);M-=x;K-=na;W+=x;R+=na;J.left=M/T;J.top=1-K/G;J.right=W/T;J.bottom=1-R/G;P=M=ya(M);N=K=ya(K);ha=W=Aa(W);va=R=Aa(R);P-=x;N-=na;ha+=x;va+=na;0>M&&(M=0);0>K&&(K=0);W>T&&(W=T);R>G&&(R=G);0>P&&(P=0);0>N&&(N=0);ha>T&&(ha=T);va>G&&(va=G);O.left=M/T;O.top=1-K/G;O.right=
W/T;O.bottom=1-R/G}else O.left=J.left=0,O.top=J.top=0,O.right=J.right=1,O.bottom=J.bottom=1;na=c&&(a.Xn(e[0].Qc)||0!==x||0!==na||1!==c.opacity||c.type.Ta.bz)||b&&!c&&1!==b.opacity;a.Oz();if(na){C[F]||(C[F]=a.Pe(T,G,this.i.bb));if(C[F].vj!==T||C[F].uj!==G)a.deleteTexture(C[F]),C[F]=a.Pe(T,G,this.i.bb);a.Ie(0);a.Sf(C[F]);ea=va-N;a.clearRect(P,G-N-ea,ha-P,ea);c?c.wc(a):(a.pe(this.i.bd),a.Lh(b.opacity),a.Rf(),a.translate(-ba,-U),a.tf(),a.ng(M,R,W,R,W,K,M,K,O));J.left=J.top=0;J.right=J.bottom=1;c&&(w=
O.top,O.top=O.bottom,O.bottom=w);F=1;I=0}a.Lh(1);x=e.length-1;var cb=a.$u(e[x].Qc)||!b&&!c&&!this.i.ef;E=w=0;for(A=e.length;E<A;E++){C[F]||(C[F]=a.Pe(T,G,this.i.bb));if(C[F].vj!==T||C[F].uj!==G)a.deleteTexture(C[F]),C[F]=a.Pe(T,G,this.i.bb);a.Ie(e[E].Qc);w=e[E].index;a.hr(e[E].Qc)&&(this.i.Za=!0);0!=E||na?(a.Jl(d,1/T,1/G,J.left,J.top,J.right,J.bottom,g,f,h,l,(h+m)/2,(l+D)/2,this.i.$c.Va,c?c.kc[w]:b?b.kc[w]:this.kc[w]),a.pe(null),E!==x||cb?(a.Sf(C[F]),ea=va-N,S=G-N-ea,a.clearRect(P,S,ha-P,ea)):(c?
a.Zi(c.Wd,c.Rd):b&&a.Zi(b.Wd,b.Rd),a.Sf(d)),a.pe(C[I]),a.Rf(),a.translate(-ba,-U),a.tf(),a.ng(M,R,W,R,W,K,M,K,O),E!==x||cb||a.pe(null)):(a.Sf(C[F]),ea=va-N,S=G-N-ea,a.clearRect(P,S,ha-P,ea),c?(c.vd&&c.vd.Fa?(S=c.vd.Fa,I=1/S.width,S=1/S.height):(I=1/c.width,S=1/c.height),a.Jl(d,I,S,J.left,J.top,J.right,J.bottom,g,f,h,l,(h+m)/2,(l+D)/2,this.i.$c.Va,c.kc[w]),c.wc(a)):(a.Jl(d,1/T,1/G,0,0,1,1,g,f,h,l,(h+m)/2,(l+D)/2,this.i.$c.Va,b?b.kc[w]:this.kc[w]),a.pe(b?this.i.bd:this.i.Lc),a.Rf(),a.translate(-ba,
-U),a.tf(),a.ng(M,R,W,R,W,K,M,K,O)),J.left=J.top=0,J.right=J.bottom=1,c&&!cb&&(w=R,R=K,K=w));F=0===F?1:0;I=0===F?1:0}cb&&(a.Ie(0),c?a.Zi(c.Wd,c.Rd):b?a.Zi(b.Wd,b.Rd):this.i.ef||(a.Mh(this.i.width,this.i.height),ba=this.i.width/2,U=this.i.height/2,K=M=0,W=this.i.width,R=this.i.height),a.Sf(d),a.pe(C[I]),a.Rf(),a.translate(-ba,-U),a.tf(),c&&1===e.length&&!na?a.ng(M,K,W,K,W,R,M,R,O):a.ng(M,R,W,R,W,K,M,K,O),a.pe(null))};a.prototype.$p=function(a){var b,c;b=0;for(c=this.Ya.length;b<c;b++)if(this.Ya[b].mb===
a)return this.Ya[b];return null};a.prototype.Mb=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.L,w:this.width,h:this.height,fv:this.Pk,persist:this.Ui,fx:[],layers:{}};a=0;for(b=this.Xa.length;a<b;a++)c=this.Xa[a],d.fx.push({name:c.name,active:c.Ec,params:this.kc[c.index]});a=0;for(b=this.Ya.length;a<b;a++)c=this.Ya[a],d.layers[c.mb.toString()]=c.Mb();return d};a.prototype.Sb=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.L=a.a;this.width=
a.w;this.height=a.h;this.Ui=a.persist;"undefined"!==typeof a.fv&&(this.Pk=a.fv);var g=a.fx;b=0;for(c=g.length;b<c;b++)if(d=this.zt(g[b].name))d.Ec=g[b].active,this.kc[d.index]=g[b].params;this.ug();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.$p(parseInt(e,10)))&&a.Sb(b[e])};sc=a;b.prototype.ug=function(){H(this.Cb);this.Nh=!0;var a,b,c;a=0;for(b=this.Xa.length;a<b;a++)c=this.Xa[a],c.Ec&&(this.Cb.push(c),c.pf||(this.Nh=!1))};b.prototype.zt=function(a){var b,c,d;b=0;for(c=this.Xa.length;b<c;b++)if(d=
this.Xa[b],d.name===a)return d;return null};b.prototype.yE=function(){var a,b,c,d,e,g;b=a=0;for(c=this.gf.length;a<c;a++){d=this.gf[a];e=this.i.za[d[1]];g=this.i.Jv(e);e=!0;if(!g||this.zc.Pk){d=this.i.ki(d,this,!0);if(!d)continue;f.push(d);d.type.global&&(e=!1,this.Bm.push(d.uid))}e&&(this.gf[b]=this.gf[a],b++)}this.gf.length=b;this.i.Jd();!this.i.qa&&this.Xa.length&&(this.Ld=this.cF);this.ym=Jb(this.Ld);this.i.Aa&&Kb(this,this.Ld,this.i.Aa);this.pg=!0};b.prototype.Fl=function(a,b){var c=La(this.H,
a);0>c||(b&&this.uf&&a.Ge&&a.Ge.right>=a.Ge.left&&(a.cb(),this.Fd.update(a,a.Ge,null),a.Ge.set(0,0,-1,-1)),c===this.H.length-1?this.H.pop():(Fa(this.H,c),this.fo(c)),this.pg=!0)};b.prototype.tm=function(a,b){a.wg=this.H.length;this.H.push(a);b&&this.uf&&a.Ge&&a.ba();this.pg=!0};b.prototype.AH=function(a){this.H.unshift(a);this.fo(0)};b.prototype.gH=function(a,b,c){var d=a.Og();b=b.Og();Fa(this.H,d);d<b&&b--;c&&b++;b===this.H.length?this.H.push(a):this.H.splice(b,0,a);this.fo(d<b?d:b)};b.prototype.fo=
function(a){-1===this.Vh?this.Vh=a:a<this.Vh&&(this.Vh=a);this.pg=this.sk=!0};b.prototype.Mv=function(){if(this.sk){-1===this.Vh&&(this.Vh=0);var a,b,c;if(this.uf)for(a=this.Vh,b=this.H.length;a<b;++a)c=this.H[a],c.wg=a,this.Fd.bH(c.Ge);else for(a=this.Vh,b=this.H.length;a<b;++a)this.H[a].wg=a;this.sk=!1;this.Vh=-1}};b.prototype.Ad=function(a){return this.eG()*(this.i.ef||a?this.i.um:1)};b.prototype.eG=function(){return(this.scale*this.zc.scale-1)*this.be+1};b.prototype.Zb=function(){return this.oh?
0:Ua(this.zc.L+this.L)};var g=[],l=[],m=[];b.prototype.Dt=function(){this.Mv();this.Fd.jr(this.wb,this.xb,this.Jb,this.Ib,m);if(!m.length)return d();if(1===m.length){var a=d();Ia(a,m[0]);H(m);return a}for(var b=!0;1<m.length;){for(var a=m,c=void 0,e=void 0,g=void 0,f=void 0,v=void 0,c=0,e=a.length;c<e-1;c+=2){var g=a[c],f=a[c+1],v=d(),r=g,y=f,B=v,D=0,C=0,E=0,A=r.length,x=y.length,w=void 0,F=void 0;for(B.length=A+x;D<A&&C<x;++E)w=r[D],F=y[C],w.wg<F.wg?(B[E]=w,++D):(B[E]=F,++C);for(;D<A;++D,++E)B[E]=
r[D];for(;C<x;++C,++E)B[E]=y[C];b||(h(g),h(f));l.push(v)}1===e%2&&(b?(g=d(),Ia(g,a[e-1]),l.push(g)):l.push(a[e-1]));Ia(a,l);H(l);b=!1}a=m[0];H(m);return a};b.prototype.Sd=function(a){this.Xg=this.Vp||1!==this.opacity||0!==this.Ld;var b=this.i.canvas,c=a,d=!1;this.Xg&&(this.i.xq||(this.i.xq=document.createElement("canvas"),b=this.i.xq,b.width=this.i.Ka,b.height=this.i.Ja,this.i.Dy=b.getContext("2d"),d=!0),b=this.i.xq,c=this.i.Dy,b.width!==this.i.Ka&&(b.width=this.i.Ka,d=!0),b.height!==this.i.Ja&&(b.height=
this.i.Ja,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.bb,c.mozImageSmoothingEnabled=this.i.bb,c.msImageSmoothingEnabled=this.i.bb,c.imageSmoothingEnabled=this.i.bb),this.tg&&c.clearRect(0,0,this.i.Ka,this.i.Ja));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.tg||(c.fillStyle="rgb("+this.bg[0]+","+this.bg[1]+","+this.bg[2]+")",c.fillRect(0,0,this.i.Ka,this.i.Ja));c.save();this.oh=!0;var d=this.uc(0,0,!0,!0),e=this.uc(0,0,!1,!0);this.oh=!1;this.i.Fe&&(d=Math.round(d),e=Math.round(e));
this.mr(d,e,c);var g=this.Ad();c.scale(g,g);c.translate(-d,-e);this.uf?(this.wd.left=this.Fd.te(this.wb),this.wd.top=this.Fd.ue(this.xb),this.wd.right=this.Fd.te(this.Jb),this.wd.bottom=this.Fd.ue(this.Ib),this.pg||!this.wd.Fm(this.ml)?(h(this.zh),d=this.Dt(),this.pg=!1,this.ml.Fk(this.wd)):d=this.zh):d=this.H;for(var f,l=null,e=0,g=d.length;e<g;++e)f=d[e],f!==l&&(this.YE(f,c),l=f);this.uf&&(this.zh=d);c.restore();this.Xg&&(a.globalCompositeOperation=this.ym,a.globalAlpha=this.opacity,a.drawImage(b,
0,0))};b.prototype.YE=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.cb();var c=a.Qb;c.right<this.wb||c.bottom<this.xb||c.left>this.Jb||c.top>this.Ib||(b.globalCompositeOperation=a.ym,a.Sd(b))}};b.prototype.as=function(){this.oh=!0;var a=this.uc(0,0,!0,!0),b=this.uc(0,0,!1,!0);this.oh=!1;this.i.Fe&&(a=Math.round(a),b=Math.round(b));this.mr(a,b,null)};b.prototype.mr=function(a,b,c){var d=this.Ad();this.wb=a;this.xb=b;this.Jb=a+1/d*this.i.Ka;this.Ib=b+1/d*this.i.Ja;this.wb>this.Jb&&(a=this.wb,
this.wb=this.Jb,this.Jb=a);this.xb>this.Ib&&(a=this.xb,this.xb=this.Ib,this.Ib=a);a=this.Zb();0!==a&&(c&&(c.translate(this.i.Ka/2,this.i.Ja/2),c.rotate(-a),c.translate(this.i.Ka/-2,this.i.Ja/-2)),this.Sh.set(this.wb,this.xb,this.Jb,this.Ib),this.Sh.offset((this.wb+this.Jb)/-2,(this.xb+this.Ib)/-2),this.uA.Zz(this.Sh,a),this.uA.gx(this.Sh),this.Sh.offset((this.wb+this.Jb)/2,(this.xb+this.Ib)/2),this.wb=this.Sh.left,this.xb=this.Sh.top,this.Jb=this.Sh.right,this.Ib=this.Sh.bottom)};b.prototype.ni=function(a){if(this.Xg=
this.Vp){this.i.bd||(this.i.bd=a.Pe(this.i.Ka,this.i.Ja,this.i.bb));if(this.i.bd.vj!==this.i.Ka||this.i.bd.uj!==this.i.Ja)a.deleteTexture(this.i.bd),this.i.bd=a.Pe(this.i.Ka,this.i.Ja,this.i.bb);a.Sf(this.i.bd)}this.oh=!0;var b=this.uc(0,0,!0,!0),c=this.uc(0,0,!1,!0);this.oh=!1;this.i.Fe&&(b=Math.round(b),c=Math.round(c));this.mr(b,c,null);b=this.Ad();a.Rf();a.scale(b,b);a.nr(-this.Zb());a.translate((this.wb+this.Jb)/-2,(this.xb+this.Ib)/-2);a.tf();this.uf?(this.wd.left=this.Fd.te(this.wb),this.wd.top=
this.Fd.ue(this.xb),this.wd.right=this.Fd.te(this.Jb),this.wd.bottom=this.Fd.ue(this.Ib),this.pg||!this.wd.Fm(this.ml)?(h(this.zh),b=this.Dt(),this.pg=!1,this.ml.Fk(this.wd)):b=this.zh):b=this.H;for(var d,e=null,c=b.length-1;0<=c;--c)d=b[c],d!==e&&(this.$E(b[c],a),e=d);this.uf&&(this.zh=b);this.tg||(this.Ys=this.i.Bj++,a.ur(this.Ys),a.Pz(1,1,1),a.Nx(),a.NH())};b.prototype.wc=function(a){var b=0,c=0;if(this.Xg=this.Vp||1!==this.opacity||0<this.Cb.length||0!==this.Ld){this.i.bd||(this.i.bd=a.Pe(this.i.Ka,
this.i.Ja,this.i.bb));if(this.i.bd.vj!==this.i.Ka||this.i.bd.uj!==this.i.Ja)a.deleteTexture(this.i.bd),this.i.bd=a.Pe(this.i.Ka,this.i.Ja,this.i.bb);a.Sf(this.i.bd);this.tg&&a.clear(0,0,0,0)}this.tg||(this.i.Wb?(a.ur(this.Ys),a.Pz(this.bg[0]/255,this.bg[1]/255,this.bg[2]/255),a.Nx(),a.bI()):a.clear(this.bg[0]/255,this.bg[1]/255,this.bg[2]/255,1));this.oh=!0;var d=this.uc(0,0,!0,!0),b=this.uc(0,0,!1,!0);this.oh=!1;this.i.Fe&&(d=Math.round(d),b=Math.round(b));this.mr(d,b,null);d=this.Ad();a.Rf();a.scale(d,
d);a.nr(-this.Zb());a.translate((this.wb+this.Jb)/-2,(this.xb+this.Ib)/-2);a.tf();this.uf?(this.wd.left=this.Fd.te(this.wb),this.wd.top=this.Fd.ue(this.xb),this.wd.right=this.Fd.te(this.Jb),this.wd.bottom=this.Fd.ue(this.Ib),this.pg||!this.wd.Fm(this.ml)?(h(this.zh),b=this.Dt(),this.pg=!1,this.ml.Fk(this.wd)):b=this.zh):b=this.H;var e,g,f=null,c=0;for(e=b.length;c<e;++c)g=b[c],g!==f&&(this.ZE(b[c],a),f=g);this.uf&&(this.zh=b);this.Xg&&(b=this.Cb.length?this.Cb[0].Qc:0,c=this.Cb.length?this.Cb[0].index:
0,0===this.Cb.length||1===this.Cb.length&&!a.$u(b)&&1===this.opacity?(1===this.Cb.length?(a.Ie(b),a.Jl(this.zc.Sm(),1/this.i.Ka,1/this.i.Ja,0,0,1,1,d,this.Zb(),this.wb,this.xb,(this.wb+this.Jb)/2,(this.xb+this.Ib)/2,this.i.$c.Va,this.kc[c]),a.hr(b)&&(this.i.Za=!0)):a.Ie(0),a.Sf(this.zc.Sm()),a.Lh(this.opacity),a.pe(this.i.bd),a.Zi(this.Wd,this.Rd),a.Rf(),a.tf(),d=this.i.Ka/2,b=this.i.Ja/2,a.El(-d,b,d,b,d,-b,-d,-b),a.pe(null)):this.zc.kv(a,this,null,this.zc.Sm()))};b.prototype.ZE=function(a,b){if(a.visible&&
0!==a.width&&0!==a.height){a.cb();var c=a.Qb;c.right<this.wb||c.bottom<this.xb||c.left>this.Jb||c.top>this.Ib||(b.ur(a.Bj),a.HA?this.aF(a,b):(b.Ie(0),b.Zi(a.Wd,a.Rd),a.wc(b)))}};b.prototype.$E=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.cb();var c=a.Qb;c.right<this.wb||c.bottom<this.xb||c.left>this.Jb||c.top>this.Ib||(a.Bj=this.i.Bj++,0===a.Ld&&1===a.opacity&&a.Nh&&a.ni&&(b.ur(a.Bj),a.ni(b)))}};b.prototype.aF=function(a,b){var c=a.Cb[0].Qc,d=a.Cb[0].index,e=this.Ad();if(1!==a.Cb.length||
b.$u(c)||b.EH(c)||(a.L||a.P.Zb())&&b.Xn(c)||1!==a.opacity||a.type.Ta.bz)this.zc.kv(b,this,a,this.Xg?this.i.bd:this.zc.Sm()),b.Rf(),b.scale(e,e),b.nr(-this.Zb()),b.translate((this.wb+this.Jb)/-2,(this.xb+this.Ib)/-2),b.tf();else{b.Ie(c);b.Zi(a.Wd,a.Rd);b.hr(c)&&(this.i.Za=!0);var g=0,f=0,h=0,l=0;b.Xn(c)&&(l=a.Qb,g=this.kb(l.left,l.top,!0,!0),f=this.kb(l.left,l.top,!1,!0),h=this.kb(l.right,l.bottom,!0,!0),l=this.kb(l.right,l.bottom,!1,!0),g=g/windowWidth,f=1-f/windowHeight,h=h/windowWidth,l=1-l/windowHeight);
var m;a.vd&&a.vd.Fa?(m=a.vd.Fa,c=1/m.width,m=1/m.height):(c=1/a.width,m=1/a.height);b.Jl(this.Xg?this.i.bd:this.zc.Sm(),c,m,g,f,h,l,e,this.Zb(),this.wb,this.xb,(this.wb+this.Jb)/2,(this.xb+this.Ib)/2,this.i.$c.Va,a.kc[d]);a.wc(b)}};b.prototype.uc=function(a,b,c,d){var e=this.i.devicePixelRatio;this.i.Oj&&(a*=e,b*=e);var e=this.i.vz,g=this.i.wz,e=(this.zc.scrollX-e)*this.De+e,g=(this.zc.scrollY-g)*this.Ee+g,f=e,h=g,l=1/this.Ad(!d);d?(f-=this.i.Ka*l/2,h-=this.i.Ja*l/2):(f-=this.i.width*l/2,h-=this.i.height*
l/2);f+=a*l;h+=b*l;b=this.Zb();0!==b&&(f-=e,h-=g,a=Math.cos(b),b=Math.sin(b),d=f*a-h*b,h=h*a+f*b,f=d+e,h+=g);return c?f:h};b.prototype.kb=function(a,b,c,d){var e=this.i.vz,g=this.i.wz,f=(this.zc.scrollX-e)*this.De+e,h=(this.zc.scrollY-g)*this.Ee+g,g=f,e=h,l=this.Zb();if(0!==l){a-=f;b-=h;var m=Math.cos(-l),l=Math.sin(-l),D=a*m-b*l;b=b*m+a*l;a=D+f;b+=h}f=1/this.Ad(!d);d?(g-=this.i.Ka*f/2,e-=this.i.Ja*f/2):(g-=this.i.width*f/2,e-=this.i.height*f/2);g=(a-g)/f;e=(b-e)/f;a=this.i.devicePixelRatio;this.i.Oj&&
!d&&(g/=a,e/=a);return c?g:e};b.prototype.Mb=function(){var a,b,c,d={s:this.scale,a:this.L,vl:this.wb,vt:this.xb,vr:this.Jb,vb:this.Ib,v:this.visible,bc:this.bg,t:this.tg,px:this.De,py:this.Ee,o:this.opacity,zr:this.be,fx:[],cg:this.Bm,instances:[]};a=0;for(b=this.Xa.length;a<b;a++)c=this.Xa[a],d.fx.push({name:c.name,active:c.Ec,params:this.kc[c.index]});return d};b.prototype.Sb=function(a){var b,d,e;this.scale=a.s;this.L=a.a;this.wb=a.vl;this.xb=a.vt;this.Jb=a.vr;this.Ib=a.vb;this.visible=a.v;this.bg=
a.bc;this.tg=a.t;this.De=a.px;this.Ee=a.py;this.opacity=a.o;this.be=a.zr;this.Bm=a.cg||[];Ia(this.gf,this.hA);var g=new fa;b=0;for(e=this.Bm.length;b<e;++b)g.add(this.Bm[b]);d=b=0;for(e=this.gf.length;b<e;++b)g.contains(this.gf[b][2])||(this.gf[d]=this.gf[b],++d);Ha(this.gf,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.zt(d[b].name))a.Ec=d[b].active,this.kc[a.index]=d[b].params;this.ug();this.H.sort(c);this.sk=!0};Gc=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,g,f;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=u.length&&(u.length=b.length+1);u[b.length]||(u[b.length]=[]);f=u[b.length];d=0;for(e=f.length;d<e;d++)if(g=f[d],a(b,g))return g;f.push(b);return b}
function d(a,b){this.i=a;this.xA={};this.Hx={};this.Lt=!1;this.ey=new fa;this.et=[];this.Os=[];this.name=b[0];var c=b[1];this.pi=[];var d,e;d=0;for(e=c.length;d<e;d++)this.gy(c[d],null,this.pi)}function h(a){this.type=a;this.H=[];this.Oa=[];this.Ua=!0}function f(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.pb=[];this.$i=[];this.by=this.Ur=this.Fv=this.Rt=this.group=this.vv=!1;this.Wc=[];this.yf=[];this.Uf=[];this.Vm="";this.Ij=this.Rt=this.group=!1;this.qp=null;c[1]&&(this.Vm=c[1][1].toLowerCase(),
this.group=!0,this.Rt=!!c[1][0],this.qp=[],this.Ij=this.Rt,this.i.Bk.push(this),this.i.Vk[this.Vm]=this);this.nf=c[2];this.mb=c[4];this.group||(this.i.bx[this.mb.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Hc(this,d[a]);e.index=a;this.Wc.push(e);this.Ww(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Ic(this,d[a]),e.index=a,this.yf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.gy(c[a],this,this.Uf);this.rq=!1;this.Wc.length&&(this.rq=null==this.Wc[0].type&&
this.Wc[0].yd==L.prototype.C.Yv)}function e(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Ud))for(c=0,d=a.Oe.length;c<d;c++)e=a.Oe[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function g(a,b){this.df=a;this.sheet=a.sheet;this.i=a.i;this.Qa=[];this.pc=[];this.ra={};this.index=-1;this.qm=!1;this.yd=this.i.Yh(b[1]);this.trigger=0<b[3];this.Gx=2===b[3];this.Qg=b[4];this.mq=b[5];this.WG=b[6];this.mb=b[7];this.i.ji[this.mb.toString()]=this;-1===b[0]?(this.type=null,this.Pc=this.ov,this.tj=null,this.eg=
-1):(this.type=this.i.za[b[0]],this.Pc=this.WG?this.UH:this.nv,b[2]?(this.tj=this.type.Xp(b[2]),this.eg=this.type.xt(b[2])):(this.tj=null,this.eg=-1),this.df.parent&&this.df.parent.Cr());this.Gx&&(this.Pc=this.VH);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var g=new Jc(this,e[c]);this.Qa.push(g)}this.pc.length=e.length}}function l(a,b){this.df=a;this.sheet=a.sheet;this.i=a.i;this.Qa=[];this.pc=[];this.ra={};this.index=-1;this.qm=!1;this.yd=this.i.Yh(b[1]);-1===b[0]?(this.type=null,
this.Pc=this.ov,this.tj=null,this.eg=-1):(this.type=this.i.za[b[0]],this.Pc=this.nv,b[2]?(this.tj=this.type.Xp(b[2]),this.eg=this.type.xt(b[2])):(this.tj=null,this.eg=-1));this.mb=b[3];this.i.ci[this.mb.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var g=new Jc(this,e[c]);this.Qa.push(g)}this.pc.length=e.length}}function m(){v++;t.length===v&&t.push(new Mc);return t[v]}function k(a,b){this.$b=a;this.df=a.df;this.sheet=a.sheet;this.i=a.i;this.type=b[0];this.Kg=null;this.Oh=
0;this.get=null;this.ox=0;this.zc=null;this.key=0;this.object=null;this.index=0;this.Do=this.pk=this.Do=this.pk=this.Lx=this.Dj=this.Eo=null;this.Wf=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Kg=new Uc(this,b[1]);this.Oh=0;this.get=this.qG;break;case 1:this.Kg=new Uc(this,b[1]);this.Oh=0;this.get=this.rG;break;case 5:this.Kg=new Uc(this,b[1]);this.Oh=0;this.get=this.vG;break;case 3:case 8:this.ox=b[1];this.get=this.oG;break;case 6:this.zc=this.i.nl[b[1]];this.get=this.wG;break;case 9:this.key=b[1];
this.get=this.uG;break;case 4:this.object=this.i.za[b[1]];this.get=this.xG;this.df.Ww(this.object);this.$b instanceof Ic?this.df.Cr():this.df.parent&&this.df.parent.Cr();break;case 10:this.index=b[1];a.type&&a.type.Ba?(this.get=this.sG,this.Wf=!0):this.get=this.tG;break;case 11:this.Eo=b[1];this.Dj=null;this.get=this.pG;break;case 2:case 12:this.Lx=b[1];this.get=this.nG;break;case 13:for(this.get=this.yG,this.pk=[],this.Do=[],c=1,d=b.length;c<d;c++)e=new Jc(this.$b,b[c]),this.pk.push(e),this.Do.push(0)}}
function n(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.pb=[];this.name=c[1];this.cs=c[2];this.jq=c[3];this.pn=!!c[4];this.qq=!!c[5];this.mb=c[6];this.i.Ul[this.mb.toString()]=this;this.data=this.jq;this.parent?(this.$j=this.pn||this.qq?-1:this.i.fI++,this.i.gE.push(this)):(this.$j=-1,this.i.Ls.push(this))}function p(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.pb=[];this.Zm=null;this.HG=c[1];this.Ec=!0}function q(){this.lA=[];this.reset(null)}var u=[];d.prototype.toString=function(){return this.name};
d.prototype.gy=function(a,b,c){switch(a[0]){case 0:a=new Vc(this,b,a);if(a.nf)for(c.push(a),c=0,b=a.Wc.length;c<b;c++)a.Wc[c].trigger&&this.hy(a,c);else a.uy()?this.hy(a,0):c.push(a);break;case 1:a=new Dc(this,b,a);c.push(a);break;case 2:a=new Wc(this,b,a),c.push(a)}};d.prototype.Dc=function(){var a,b;a=0;for(b=this.pi.length;a<b;a++)this.pi[a].Dc(a<b-1&&this.pi[a+1].rq)};d.prototype.Kv=function(){H(this.et);H(this.Os);this.Vw(this);H(this.Os)};d.prototype.Vw=function(a){var b,c,d,e,g=a.et,f=a.Os,
k=this.ey.vg();b=0;for(c=k.length;b<c;++b)d=k[b],e=d.Zm,!d.Ec||a===e||-1<f.indexOf(e)||(f.push(e),e.Vw(a),g.push(e))};d.prototype.Pc=function(a){this.i.zJ||(this.Lt=!0,a||(this.i.$t=!0));var b,c;b=0;for(c=this.pi.length;b<c;b++){var d=this.pi[b];d.Pc();this.i.Xs(d.pb);this.i.ti&&this.i.Jd()}a||(this.i.$t=!1)};d.prototype.hy=function(a,b){a.nf||this.i.Xr.push(a);var c,d,e=a.Wc[b],g;e.type?g=e.type.name:g="system";var f=(c=e.Gx)?this.Hx:this.xA;f[g]||(f[g]=[]);g=f[g];f=e.yd;if(c){if(e.Qa.length&&(e=
e.Qa[0],1===e.type&&2===e.Kg.type)){e=e.Kg.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==f){c=g[c].Hm;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];g.push({method:f,Hm:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==f){g[c].Hm.push([a,b]);return}Q&&f===Q.prototype.C.yk?g.unshift({method:f,Hm:[[a,b]]}):g.push({method:f,Hm:[[a,b]]})}};tc=d;h.prototype.Kt=function(){return this.Ua?this.type.H.length:this.H.length};h.prototype.kd=function(){return this.Ua?this.type.H:
this.H};h.prototype.hk=function(a){a&&(a.i.hc().vc.nf?(this.Ua&&(H(this.H),Ia(this.Oa,a.type.H),this.Ua=!1),a=this.Oa.indexOf(a),-1!==a&&(this.H.push(this.Oa[a]),this.Oa.splice(a,1))):(this.Ua=!1,H(this.H),this.H[0]=a))};Xb=h;window._c2hh_="5AFA373D7ADC68A1BB7AD7F0086E70B954407AFE";f.prototype.Dc=function(a){var c,d=this.parent;if(this.group)for(this.Ur=!0;d;){if(!d.group){this.Ur=!1;break}d=d.parent}this.Fv=!this.uy()&&(!this.parent||this.parent.group&&this.parent.Ur);this.by=!!a;this.$i=this.pb.slice(0);
for(d=this.parent;d;){a=0;for(c=d.pb.length;a<c;a++)this.dE(d.pb[a]);d=d.parent}this.pb=b(this.pb);this.$i=b(this.$i);a=0;for(c=this.Wc.length;a<c;a++)this.Wc[a].Dc();a=0;for(c=this.yf.length;a<c;a++)this.yf[a].Dc();a=0;for(c=this.Uf.length;a<c;a++)this.Uf[a].Dc(a<c-1&&this.Uf[a+1].rq)};f.prototype.Ar=function(a){if(this.Ij!==!!a){this.Ij=!!a;var b;a=0;for(b=this.qp.length;a<b;++a)this.qp[a].CA();0<b&&this.i.Ub.Cj&&this.i.Ub.Cj.Kv()}};f.prototype.Ww=function(a){e(a,this.pb)};f.prototype.dE=function(a){e(a,
this.$i)};f.prototype.Cr=function(){this.vv=!0;this.parent&&this.parent.Cr()};f.prototype.uy=function(){return this.Wc.length?this.Wc[0].trigger:!1};f.prototype.Pc=function(){var a,b,c=!1,d=this.i,e=this.i.hc();e.vc=this;var g=this.Wc;this.rq||(e.ht=!1);if(this.nf){0===g.length&&(c=!0);e.Fc=0;for(a=g.length;e.Fc<a;e.Fc++)b=g[e.Fc],b.trigger||(b=b.Pc())&&(c=!0);(e.Wj=c)&&this.or()}else{e.Fc=0;for(a=g.length;e.Fc<a;e.Fc++)if(b=g[e.Fc].Pc(),!b){e.Wj=!1;this.Fv&&d.ti&&d.Jd();return}e.Wj=!0;this.or()}this.eF(e)};
f.prototype.eF=function(a){a.Wj&&this.by&&(a.ht=!0);this.Fv&&this.i.ti&&this.i.Jd()};f.prototype.SH=function(a){this.i.hc().vc=this;this.Wc[a].Pc()&&(this.or(),this.i.hc().Wj=!0)};f.prototype.or=function(){var a=this.i.hc(),b;a.bf=0;for(b=this.yf.length;a.bf<b;a.bf++)if(this.yf[a.bf].Pc())return;this.Mz()};f.prototype.PH=function(){var a=this.i.hc(),b;for(b=this.yf.length;a.bf<b;a.bf++)if(this.yf[a.bf].Pc())return;this.Mz()};f.prototype.Mz=function(){if(this.Uf.length){var a,b,c,d,e=this.Uf.length-
1;this.i.ir(this);if(this.vv)for(a=0,b=this.Uf.length;a<b;a++)c=this.Uf[a],(d=!this.Ur||!this.group&&a<e)&&this.i.Ih(c.pb),c.Pc(),d?this.i.Qf(c.pb):this.i.Xs(c.pb);else for(a=0,b=this.Uf.length;a<b;a++)this.Uf[a].Pc();this.i.cr()}};f.prototype.TH=function(){var a=this.i.hc();a.vc=this;var b=!1,c;a.Fc=0;for(c=this.Wc.length;a.Fc<c;a.Fc++)if(this.Wc[a.Fc].Pc())b=!0;else if(!this.nf)return!1;return this.nf?b:!0};f.prototype.Jh=function(){this.i.Ej++;var a=this.i.hc().Fc,b=this.i.ir(this);if(!this.nf)for(b.Fc=
a+1,a=this.Wc.length;b.Fc<a;b.Fc++)if(!this.Wc[b.Fc].Pc()){this.i.cr();return}this.or();this.i.cr()};f.prototype.PG=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Wc[b].type===a.type)return!1;return!0};Vc=f;g.prototype.Dc=function(){var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.Dc(),c.Wf&&(this.qm=!0)};g.prototype.VH=function(){return!0};g.prototype.ov=function(){var a,b;a=0;for(b=this.Qa.length;a<b;a++)this.pc[a]=this.Qa[a].get();return eb(this.yd.apply(this.i.$g,
this.pc),this.mq)};g.prototype.UH=function(){var a,b;a=0;for(b=this.Qa.length;a<b;a++)this.pc[a]=this.Qa[a].get();a=this.yd.apply(this.tj?this.tj:this.type,this.pc);this.type.Kd();return a};g.prototype.nv=function(){var a,b,c,d,e,g,f,k,h=this.type,l=h.Ha(),m=this.df.nf&&!this.trigger;b=0;var n=h.Ud,v=h.Ba,p=h.Lg,q=this.eg,t=-1<q,u=this.qm,O=this.Qa,J=this.pc,M=this.mq,P=this.yd,K;if(u)for(b=0,e=O.length;b<e;++b)g=O[b],g.Wf||(J[b]=g.get(0));else for(b=0,e=O.length;b<e;++b)J[b]=O[b].get(0);if(l.Ua){H(l.H);
H(l.Oa);K=h.H;a=0;for(d=K.length;a<d;++a){k=K[a];if(u)for(b=0,e=O.length;b<e;++b)g=O[b],g.Wf&&(J[b]=g.get(a));t?(b=0,v&&(b=k.type.Ok[p]),b=P.apply(k.Na[q+b],J)):b=P.apply(k,J);(f=eb(b,M))?l.H.push(k):m&&l.Oa.push(k)}h.finish&&h.finish(!0);l.Ua=!1;h.Kd();return l.Kt()}c=0;K=(f=m&&!this.df.PG(this))?l.Oa:l.H;var N=!1;a=0;for(d=K.length;a<d;++a){k=K[a];if(u)for(b=0,e=O.length;b<e;++b)g=O[b],g.Wf&&(J[b]=g.get(a));t?(b=0,v&&(b=k.type.Ok[p]),b=P.apply(k.Na[q+b],J)):b=P.apply(k,J);if(eb(b,M))if(N=!0,f){if(l.H.push(k),
n)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.Ha().H.push(g)}else{K[c]=k;if(n)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.Ha().H[c]=g;c++}else if(f){K[c]=k;if(n)for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.Ha().Oa[c]=g;c++}else if(m&&(l.Oa.push(k),n))for(b=0,e=k.siblings.length;b<e;b++)g=k.siblings[b],g.type.Ha().Oa.push(g)}Ha(K,c);if(n)for(v=h.Oe,a=0,d=v.length;a<d;a++)k=v[a].Ha(),f?Ha(k.Oa,c):Ha(k.H,c);c=N;if(f&&!N)for(a=0,d=l.H.length;a<d;a++){k=l.H[a];
if(u)for(b=0,e=O.length;b<e;b++)g=O[b],g.Wf&&(J[b]=g.get(a));b=t?P.apply(k.Na[q],J):P.apply(k,J);if(eb(b,M)){N=!0;break}}h.finish&&h.finish(c||m);return m?N:l.Kt()};Hc=g;l.prototype.Dc=function(){var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.Dc(),c.Wf&&(this.qm=!0)};l.prototype.ov=function(){var a=this.i,b,c,d=this.Qa,e=this.pc;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.yd.apply(a.$g,e)};l.prototype.nv=function(){var a=this.type,b=this.eg,c=a.Lg,d=this.qm,e=this.Qa,g=this.pc,
f=this.yd,k=a.Ha().kd(),a=a.Ba,h=-1<b,l,m,n,v,p,q;if(d)for(m=0,v=e.length;m<v;++m)p=e[m],p.Wf||(g[m]=p.get(0));else for(m=0,v=e.length;m<v;++m)g[m]=e[m].get(0);l=0;for(n=k.length;l<n;++l){q=k[l];if(d)for(m=0,v=e.length;m<v;++m)p=e[m],p.Wf&&(g[m]=p.get(l));h?(m=0,a&&(m=q.type.Ok[c]),f.apply(q.Na[b+m],g)):f.apply(q,g)}return!1};Ic=l;var t=[],v=-1;k.prototype.Dc=function(){var a,b;if(11===this.type)this.Dj=this.i.Ux(this.Eo,this.df.parent);else if(13===this.type)for(a=0,b=this.pk.length;a<b;a++)this.pk[a].Dc();
this.Kg&&this.Kg.Dc()};k.prototype.dH=function(a){this.Wf||!a||a.Ta.Hr||(this.Wf=!0)};k.prototype.Xz=function(){this.Wf=!0};k.prototype.qG=function(a){this.Oh=a||0;a=m();this.Kg.get(a);v--;return a.data};k.prototype.rG=function(a){this.Oh=a||0;a=m();this.Kg.get(a);v--;return qa(a.data)?a.data:""};k.prototype.xG=function(){return this.object};k.prototype.oG=function(){return this.ox};k.prototype.vG=function(a){this.Oh=a||0;a=m();this.Kg.get(a);v--;return a.md()?this.i.rh(a.data):this.i.Rm(a.data)};
k.prototype.wG=function(){return this.zc};k.prototype.uG=function(){return this.key};k.prototype.tG=function(){return this.index};k.prototype.sG=function(a){a=a||0;var b=this.$b.type,c=null,c=b.Ha(),d=c.kd();if(d.length)c=d[a%d.length].type;else if(c.Oa.length)c=c.Oa[a%c.Oa.length].type;else if(b.H.length)c=b.H[a%b.H.length].type;else return 0;return this.index+c.Mm[b.Lg]};k.prototype.pG=function(){return this.Dj};k.prototype.nG=function(){return this.Lx};k.prototype.yG=function(){var a,b;a=0;for(b=
this.pk.length;a<b;a++)this.Do[a]=this.pk[a].get();return this.Do};Jc=k;n.prototype.Dc=function(){this.pb=b(this.pb)};n.prototype.mk=function(a){var b=this.i.Rx();this.parent&&!this.pn&&b?(this.$j>=b.length&&(b.length=this.$j+1),b[this.$j]=a):this.data=a};n.prototype.Tm=function(){var a=this.i.Rx();return!this.parent||this.pn||!a||this.qq?this.data:this.$j>=a.length||"undefined"===typeof a[this.$j]?this.jq:a[this.$j]};n.prototype.Pc=function(){!this.parent||this.pn||this.qq||this.mk(this.jq)};Dc=
n;p.prototype.toString=function(){return"include:"+this.Zm.toString()};p.prototype.Dc=function(){this.Zm=this.i.kt[this.HG];this.sheet.ey.add(this);this.pb=b(this.pb);for(var a=this.parent;a;)a.group&&a.qp.push(this),a=a.parent;this.CA()};p.prototype.Pc=function(){this.parent&&this.i.Zn(this.i.za);this.Zm.Lt||this.Zm.Pc(!0);this.parent&&this.i.Qf(this.i.za)};p.prototype.CA=function(){for(var a=this.parent;a;){if(a.group&&!a.Ij){this.Ec=!1;return}a=a.parent}this.Ec=!0};Wc=p;q.prototype.reset=function(a){this.vc=
a;this.bf=this.Fc=0;H(this.lA);this.ht=this.Wj=!1};q.prototype.ny=function(){return this.vc.vv?!0:this.Fc<this.vc.Wc.length-1?!!this.vc.pb.length:!1};Cc=q})();
(function(){function a(a,b){this.$b=a;this.i=a.i;this.type=b[0];this.get=[this.wF,this.sF,this.FF,this.IF,this.hF,this.GF,this.AF,this.pF,this.zF,this.EF,this.iF,this.DF,this.qF,this.BF,this.xF,this.yF,this.tF,this.uF,this.oF,this.HF,this.CF,this.vF,this.nF,this.rF][this.type];var c=null;this.Dh=this.Qa=this.pc=this.yd=this.Qr=this.second=this.first=this.value=null;this.eg=-1;this.ig=null;this.IA=-1;this.Dj=this.Eo=null;this.Hl=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Uc(a,b[1]);break;case 18:this.first=new Uc(a,b[1]);this.second=new Uc(a,b[2]);this.Qr=new Uc(a,b[3]);break;case 19:this.yd=this.i.Yh(b[1]);this.yd!==L.prototype.aa.random&&this.yd!==L.prototype.aa.rE||this.$b.Xz();this.pc=[];this.Qa=[];3===b.length?(c=b[2],this.pc.length=c.length+1):this.pc.length=1;break;case 20:this.Dh=this.i.za[b[1]];this.eg=-1;this.yd=this.i.Yh(b[2]);this.Hl=b[3];kd&&this.yd===kd.prototype.aa.XA&&this.$b.Xz();b[4]?this.ig=new Uc(a,b[4]):this.ig=null;this.pc=[];this.Qa=[];
6===b.length?(c=b[5],this.pc.length=c.length+1):this.pc.length=1;break;case 21:this.Dh=this.i.za[b[1]];this.Hl=b[2];b[3]?this.ig=new Uc(a,b[3]):this.ig=null;this.IA=b[4];break;case 22:this.Dh=this.i.za[b[1]];this.Dh.Xp(b[2]);this.eg=this.Dh.xt(b[2]);this.yd=this.i.Yh(b[3]);this.Hl=b[4];b[5]?this.ig=new Uc(a,b[5]):this.ig=null;this.pc=[];this.Qa=[];7===b.length?(c=b[6],this.pc.length=c.length+1):this.pc.length=1;break;case 23:this.Eo=b[1],this.Dj=null}this.$b.dH(this.Dh);4<=this.type&&17>=this.type&&
(this.first=new Uc(a,b[1]),this.second=new Uc(a,b[2]));if(c){var d,f;d=0;for(f=c.length;d<f;d++)this.Qa.push(new Uc(a,c[d]))}}function c(){++f;h.length===f&&h.push(new Mc);return h[f]}function b(a,b,c){var d,f;d=0;for(f=a.length;d<f;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Xc.vk;this.data=b||0;this.dk=null;this.type==Xc.vk&&(this.data=Math.floor(this.data))}a.prototype.Dc=function(){23===this.type&&(this.Dj=this.$b.i.Ux(this.Eo,this.$b.df.parent));this.first&&this.first.Dc();this.second&&
this.second.Dc();this.Qr&&this.Qr.Dc();this.ig&&this.ig.Dc();if(this.Qa){var a,b;a=0;for(b=this.Qa.length;a<b;a++)this.Qa[a].Dc()}};var h=[],f=-1;a.prototype.HF=function(a){var d=this.Qa,h=this.pc;h[0]=a;a=c();b(d,h,a);--f;this.yd.apply(this.i.$g,h)};a.prototype.CF=function(a){var d=this.Dh,h=this.pc,m=this.Qa,k=this.ig,n=this.yd,p=this.$b.Oh,q=d.Ha(),u=q.kd();if(!u.length)if(q.Oa.length)u=q.Oa;else{this.Hl?a.Hb(""):a.Ga(0);return}h[0]=a;a.dk=d;a=c();b(m,h,a);k&&(k.get(a),a.md()&&(p=a.data,u=d.H));
--f;d=u.length;if(p>=d||p<=-d)p%=d;0>p&&(p+=d);n.apply(u[p],h)};a.prototype.nF=function(a){var d=this.Dh,h=this.pc,m=this.Qa,k=this.ig,n=this.eg,p=this.yd,q=this.$b.Oh,u=d.Ha(),t=u.kd();if(!t.length)if(u.Oa.length)t=u.Oa;else{this.Hl?a.Hb(""):a.Ga(0);return}h[0]=a;a.dk=d;a=c();b(m,h,a);k&&(k.get(a),a.md()&&(q=a.data,t=d.H));--f;m=t.length;if(q>=m||q<=-m)q%=m;0>q&&(q+=m);q=t[q];t=0;d.Ba&&(t=q.type.Ok[d.Lg]);p.apply(q.Na[n+t],h)};a.prototype.vF=function(a){var b=this.ig,d=this.Dh,h=this.IA,k=this.$b.Oh,
n=d.Ha(),p=n.kd();if(!p.length)if(n.Oa.length)p=n.Oa;else{this.Hl?a.Hb(""):a.Ga(0);return}if(b){n=c();b.get(n);if(n.md()){k=n.data;p=d.H;0!==p.length&&(k%=p.length,0>k&&(k+=p.length));k=d.Bt(k);d=k.Xb[h];qa(d)?a.Hb(d):a.ya(d);--f;return}--f}b=p.length;if(k>=b||k<=-b)k%=b;0>k&&(k+=b);k=p[k];p=0;d.Ba&&(p=k.type.Mm[d.Lg]);d=k.Xb[h+p];qa(d)?a.Hb(d):a.ya(d)};a.prototype.wF=function(a){a.type=Xc.vk;a.data=this.value};a.prototype.sF=function(a){a.type=Xc.uk;a.data=this.value};a.prototype.FF=function(a){a.type=
Xc.String;a.data=this.value};a.prototype.IF=function(a){this.first.get(a);a.md()&&(a.data=-a.data)};a.prototype.hF=function(a){this.first.get(a);var b=c();this.second.get(b);a.md()&&b.md()&&(a.data+=b.data,b.cl()&&a.wl());--f};a.prototype.GF=function(a){this.first.get(a);var b=c();this.second.get(b);a.md()&&b.md()&&(a.data-=b.data,b.cl()&&a.wl());--f};a.prototype.AF=function(a){this.first.get(a);var b=c();this.second.get(b);a.md()&&b.md()&&(a.data*=b.data,b.cl()&&a.wl());--f};a.prototype.pF=function(a){this.first.get(a);
var b=c();this.second.get(b);a.md()&&b.md()&&(a.data/=b.data,a.wl());--f};a.prototype.zF=function(a){this.first.get(a);var b=c();this.second.get(b);a.md()&&b.md()&&(a.data%=b.data,b.cl()&&a.wl());--f};a.prototype.EF=function(a){this.first.get(a);var b=c();this.second.get(b);a.md()&&b.md()&&(a.data=Math.pow(a.data,b.data),b.cl()&&a.wl());--f};a.prototype.iF=function(a){this.first.get(a);var b=c();this.second.get(b);b.fl()||a.fl()?this.kF(a,b):this.jF(a,b);--f};a.prototype.kF=function(a,b){a.fl()&&
b.fl()?this.mF(a,b):this.lF(a,b)};a.prototype.mF=function(a,b){a.data+=b.data};a.prototype.lF=function(a,b){a.fl()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.Hb(a.data.toString()+b.data)};a.prototype.jF=function(a,b){a.Ga(a.data&&b.data?1:0)};a.prototype.DF=function(a){this.first.get(a);var b=c();this.second.get(b);a.md()&&b.md()&&(a.data||b.data?a.Ga(1):a.Ga(0));--f};a.prototype.oF=function(a){this.first.get(a);a.data?this.second.get(a):this.Qr.get(a)};a.prototype.qF=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Ga(a.data===b.data?1:0);--f};a.prototype.BF=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ga(a.data!==b.data?1:0);--f};a.prototype.xF=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ga(a.data<b.data?1:0);--f};a.prototype.yF=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ga(a.data<=b.data?1:0);--f};a.prototype.tF=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ga(a.data>b.data?1:0);--f};a.prototype.uF=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Ga(a.data>=b.data?1:0);--f};a.prototype.rF=function(a){var b=this.Dj.Tm();pa(b)?a.ya(b):a.Hb(b)};Uc=a;d.prototype.cl=function(){return this.type===Xc.uk};d.prototype.md=function(){return this.type===Xc.vk||this.type===Xc.uk};d.prototype.fl=function(){return this.type===Xc.String};d.prototype.wl=function(){this.cl()||(this.fl()&&(this.data=parseFloat(this.data)),this.type=Xc.uk)};d.prototype.Ga=function(a){this.type=Xc.vk;this.data=Math.floor(a)};d.prototype.ya=function(a){this.type=
Xc.uk;this.data=a};d.prototype.Hb=function(a){this.type=Xc.String;this.data=a};d.prototype.nk=function(a){pa(a)?(this.type=Xc.uk,this.data=a):qa(a)?(this.type=Xc.String,this.data=a.toString()):(this.type=Xc.vk,this.data=0)};Mc=d;Xc={vk:0,uk:1,String:2}})();function L(a){this.i=a;this.Ze=[]}
L.prototype.Mb=function(){var a={},c,b,d,h,f,e,g,l;a.waits=[];var m=a.waits,k;c=0;for(b=this.Ze.length;c<b;c++){e=this.Ze[c];k={t:e.time,st:e.eI,s:e.cA,ev:e.Gm.mb,sm:[],sols:{}};e.Gm.yf[e.bf]&&(k.act=e.Gm.yf[e.bf].mb);d=0;for(h=e.pb.length;d<h;d++)k.sm.push(e.pb[d].mb);for(f in e.Ye)if(e.Ye.hasOwnProperty(f)){g=this.i.za[parseInt(f,10)];l={sa:e.Ye[f].Nz,insts:[]};d=0;for(h=e.Ye[f].Nj.length;d<h;d++)l.insts.push(e.Ye[f].Nj[d].uid);k.sols[g.mb.toString()]=l}m.push(k)}return a};
L.prototype.Sb=function(a){a=a.waits;var c,b,d,h,f,e,g,l,m,k,n;H(this.Ze);c=0;for(b=a.length;c<b;c++)if(e=a[c],l=this.i.bx[e.ev.toString()]){m=-1;d=0;for(h=l.yf.length;d<h;d++)if(l.yf[d].mb===e.act){m=d;break}if(-1!==m){g={Ye:{},pb:[],yx:!1};g.time=e.t;g.eI=e.st||"";g.cA=!!e.s;g.Gm=l;g.bf=m;d=0;for(h=e.sm.length;d<h;d++)(l=this.i.aq(e.sm[d]))&&g.pb.push(l);for(f in e.sols)if(e.sols.hasOwnProperty(f)&&(l=this.i.aq(parseInt(f,10)))){m=e.sols[f];k={Nz:m.sa,Nj:[]};d=0;for(h=m.insts.length;d<h;d++)(n=
this.i.hg(m.insts[d]))&&k.Nj.push(n);g.Ye[l.index.toString()]=k}this.Ze.push(g)}}};
(function(){function a(){}function c(){}function b(){}var d=L.prototype;a.prototype.nB=function(){return!0};a.prototype.vw=function(){return!0};a.prototype.wC=function(){return!0};a.prototype.aB=function(a,b,c){return Yc(a,b,c)};a.prototype.qB=function(a,b,c){var d=this.i.hc(),e=d.vc,d=d.ny();a=this.i.Iz(a);if(c<b)if(d)for(;b>=c&&!a.rc;--b)this.i.Ih(e.pb),a.index=b,e.Jh(),this.i.Qf(e.pb);else for(;b>=c&&!a.rc;--b)a.index=b,e.Jh();else if(d)for(;b<=c&&!a.rc;++b)this.i.Ih(e.pb),a.index=b,e.Jh(),this.i.Qf(e.pb);
else for(;b<=c&&!a.rc;++b)a.index=b,e.Jh();this.i.Az();return!1};var h=[],f=-1;a.prototype.rB=function(a){var b=a.Ha();f++;h.length===f&&h.push([]);var c=h[f];Ia(c,b.kd());var d=this.i.hc(),e=d.vc,g=d.ny(),d=this.i.Iz(),u,t,v,r,y,B,D=a.Ud;if(g)for(g=0,u=c.length;g<u&&!d.rc;g++){this.i.Ih(e.pb);r=c[g];b=a.Ha();b.Ua=!1;H(b.H);b.H[0]=r;if(D)for(t=0,v=r.siblings.length;t<v;t++)y=r.siblings[t],B=y.type.Ha(),B.Ua=!1,H(B.H),B.H[0]=y;d.index=g;e.Jh();this.i.Qf(e.pb)}else for(b.Ua=!1,H(b.H),g=0,u=c.length;g<
u&&!d.rc;g++){r=c[g];b.H[0]=r;if(D)for(t=0,v=r.siblings.length;t<v;t++)y=r.siblings[t],B=y.type.Ha(),B.Ua=!1,H(B.H),B.H[0]=y;d.index=g;e.Jh()}H(c);this.i.Az();f--;return!1};a.prototype.YC=function(a,b,c,d){var e,g,u,t;if(a){f++;h.length===f&&h.push([]);var v=h[f],r=a.Ha();Ia(v,r.kd());r.Ua&&H(r.Oa);var y=this.i.Sk();u=e=0;for(g=v.length;e<g;e++)t=v[e],v[u]=t,b=y.Qa[1].get(e),d=y.Qa[3].get(e),Yc(b,c,d)?u++:r.Oa.push(t);Ha(v,u);r.Ua=!1;Ia(r.H,v);H(v);f--;a.Kd();return!!r.H.length}};a.prototype.ZC=function(a,
b){var c,d,e,g;if(a){f++;h.length===f&&h.push([]);var u=h[f],t=a.Ha();Ia(u,t.kd());t.Ua&&H(t.Oa);var v=this.i.Sk();e=c=0;for(d=u.length;c<d;c++)g=u[c],u[e]=g,(b=v.Qa[1].get(c))?e++:t.Oa.push(g);Ha(u,e);t.Ua=!1;Ia(t.H,u);H(u);f--;a.Kd();return!!t.H.length}};a.prototype.mB=function(a){var b=this.i.Sk(),c=b.ra.Every_lastTime||0,d=this.i.$c.Va;"undefined"===typeof b.ra.Every_seconds&&(b.ra.Every_seconds=a);var e=b.ra.Every_seconds;if(d>=c+e)return b.ra.Every_lastTime=c+e,d>=b.ra.Every_lastTime+.04&&(b.ra.Every_lastTime=
d),b.ra.Every_seconds=a,!0;d<c-.1&&(b.ra.Every_lastTime=d);return!1};a.prototype.$C=function(a,b){if(!a)return!1;var c=a.Ha(),d=c.kd();b=ya(b);if(0>b||b>=d.length)return!1;c.hk(d[b]);a.Kd();return!0};a.prototype.aD=function(a){if(!a)return!1;var b=a.Ha(),c=b.kd(),d=ya(Math.random()*c.length);if(d>=c.length)return!1;b.hk(c[d]);a.Kd();return!0};a.prototype.fB=function(a,b,c){return Yc(a.Tm(),b,c)};a.prototype.HB=function(a){return(a=this.i.Vk[a.toLowerCase()])&&a.Ij};a.prototype.XC=function(a){if(!a||
!a.H.length)return!1;a.Ha().Ua=!0;a.Kd();return!0};a.prototype.bB=function(a,b,c){return a>=b&&a<=c};a.prototype.Yv=function(){var a=this.i.hc();return a.ht?!1:!a.Wj};a.prototype.ww=function(){return!0};a.prototype.jC=function(){return!0};a.prototype.ws=function(){return!0};a.prototype.Dw=function(){return!0};a.prototype.xC=function(){return!0};a.prototype.us=function(){return!0};a.prototype.SA=function(a,b,c){return Ya(Pa(a),Pa(c))<=Pa(b)};a.prototype.EB=function(a,b){return ab(Pa(a),Pa(b))};a.prototype.CB=
function(a,b,c){a=Wa(a);b=Wa(b);c=Wa(c);return ab(c,b)?ab(a,b)&&!ab(a,c):!(!ab(a,b)&&ab(a,c))};d.C=new a;c.prototype.xB=function(a){this.i.hl||this.i.xj||(this.i.xj=a)};c.prototype.hB=function(a,b,c,d){if(b&&a&&(b=this.i.zm(a,b,c,d))){this.i.jf++;var e;this.i.trigger(Object.getPrototypeOf(a.Ta).C.Zh,b);if(b.Ud)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.i.trigger(Object.getPrototypeOf(e.type.Ta).C.Zh,e);this.i.jf--;a=a.Ha();a.Ua=!1;H(a.H);a.H[0]=b;if(b.Ud)for(c=0,d=b.siblings.length;c<
d;c++)e=b.siblings[c],a=e.type.Ha(),a.Ua=!1,H(a.H),a.H[0]=e}};c.prototype.vD=function(a,b){0===a.cs?pa(b)?a.mk(b):a.mk(parseFloat(b)):1===a.cs&&a.mk(b.toString())};c.prototype.RA=function(a,b){0===a.cs?pa(b)?a.mk(a.Tm()+b):a.mk(a.Tm()+parseFloat(b)):1===a.cs&&a.mk(a.Tm()+b.toString())};c.prototype.nD=function(a,b){var c=this.i.Vk[a.toLowerCase()];if(c)switch(b){case 0:c.Ar(!1);break;case 1:c.Ar(!0);break;case 2:c.Ar(!c.Ij)}};c.prototype.uD=function(a){0>a&&(a=0);this.i.sg=a};var e=[],g=[];c.prototype.gD=
function(){var a,b,c;a=0;for(b=this.i.Ls.length;a<b;a++)c=this.i.Ls[a],c.data=c.jq};c.prototype.yB=function(a){if(!this.i.hl&&!this.i.xj)for(var b in this.i.nl)if(this.i.nl.hasOwnProperty(b)&&Qb(b,a)){this.i.xj=this.i.nl[b];break}};d.R=new c;b.prototype["int"]=function(a,b){qa(b)?(a.Ga(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Ga(b)};b.prototype["float"]=function(a,b){qa(b)?(a.ya(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ya(b)};b.prototype.random=function(a,b,c){void 0===c?a.ya(Math.random()*
b):a.ya(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.ya(Math.sqrt(b))};b.prototype.abs=function(a,b){a.ya(Math.abs(b))};b.prototype.round=function(a,b){a.Ga(Math.round(b))};b.prototype.floor=function(a,b){a.Ga(Math.floor(b))};b.prototype.ceil=function(a,b){a.Ga(Math.ceil(b))};b.prototype.sin=function(a,b){a.ya(Math.sin(Pa(b)))};b.prototype.cos=function(a,b){a.ya(Math.cos(Pa(b)))};b.prototype.tan=function(a,b){a.ya(Math.tan(Pa(b)))};b.prototype.asin=function(a,b){a.ya(Qa(Math.asin(b)))};
b.prototype.acos=function(a,b){a.ya(Qa(Math.acos(b)))};b.prototype.atan=function(a,b){a.ya(Qa(Math.atan(b)))};b.prototype.exp=function(a,b){a.ya(Math.exp(b))};b.prototype.log10=function(a,b){a.ya(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.ya(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<
d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.ya(b)};b.prototype.ab=function(a){a.ya(this.i.ab)};b.prototype.sg=function(a){a.ya(this.i.sg)};b.prototype.time=function(a){a.ya(this.i.$c.Va)};b.prototype.sf=function(a){a.Ga(this.i.sf)};b.prototype.Mq=function(a){a.Ga(this.i.Mq)};b.prototype.nt=function(a){a.Ga(this.i.nt)};b.prototype.$G=function(a,b){var c,d;if(this.i.Hn.length)if(b){for(d=this.i.In;0<=d;--d)if(c=this.i.Hn[d],c.name===b){a.Ga(c.index);return}a.Ga(0)}else c=this.i.Sx(),a.Ga(c?
c.index:-1);else a.Ga(0)};b.prototype.L=function(a,b,c,d,e){a.ya(Qa(Xa(b,c,d,e)))};b.prototype.iH=function(a){a.Hb("\n")};b.prototype.yI=function(a){a.Ga(this.i.width)};b.prototype.xI=function(a){a.Ga(this.i.height)};b.prototype.left=function(a,b,c){a.Hb(qa(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.Hb(qa(b)?b.substr(b.length-c):"")};b.prototype.lI=function(a,b,c,d){qa(b)&&qa(d)?(b=b.split(d),c=ya(c),0>c||c>=b.length?a.Hb(""):a.Hb(b[c])):a.Hb("")};b.prototype.replace=function(a,b,c,
d){qa(b)&&qa(c)&&qa(d)?a.Hb(b.replace(new RegExp(Eb(c),"gi"),d)):a.Hb(qa(b)?b:"")};b.prototype.trim=function(a,b){a.Hb(qa(b)?b.trim():"")};b.prototype.rE=function(a){var b=ya(Math.random()*(arguments.length-1));a.nk(arguments[b+1])};b.prototype.FH=function(a){a.Hb(this.i.vI)};b.prototype.Zs=function(a){a.ya(this.i.Zs/1E3)};b.prototype.sl=function(a){a.ya(this.i.sl)};b.prototype.cI=function(a,b,c,d){c=c|0;a.Ga((b|0)&~(1<<c)|(0!==d?1:0)<<c)};b.prototype.zG=function(a,b,c){a.Ga((b|0)&1<<(c|0)?1:0)};
d.aa=new b;d.RH=function(){var a,b,c,d,f,h,u=this.i.hc();a=0;for(c=this.Ze.length;a<c;a++){d=this.Ze[a];if(-1===d.time){if(!d.cA)continue}else if(d.time>this.i.$c.Va)continue;u.vc=d.Gm;u.bf=d.bf;u.Fc=0;for(b in d.Ye)d.Ye.hasOwnProperty(b)&&(f=this.i.za[parseInt(b,10)].Ha(),h=d.Ye[b],f.Ua=h.Nz,Ia(f.H,h.Nj),f=h,H(f.Nj),g.push(f));d.Gm.PH();this.i.Xs(d.pb);d.yx=!0}b=a=0;for(c=this.Ze.length;a<c;a++)d=this.Ze[a],this.Ze[b]=d,d.yx?(ob(d.Ye),H(d.pb),e.push(d)):b++;Ha(this.Ze,b)}})();
(function(){Wb=function(a,b){var d=a[1],h=a[3],f=a[4],e=a[5],g=a[6],l=a[7],m=a[8];b.C||(b.C={});b.R||(b.R={});b.aa||(b.aa={});var k=b.C,n=b.R,p=b.aa;h&&(k.Wv=function(a,b){return Yc(this.x,a,b)},k.gB=function(a,b){return Yc(this.y,a,b)},k.KI=function(){var a=this.P;this.cb();var b=this.Qb;return!(b.right<a.wb||b.bottom<a.xb||b.left>a.Jb||b.top>a.Ib)},k.LI=function(){this.cb();var a=this.Qb,b=this.i.Ub;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.WI=function(a,b,c){var d=this.Ha(),
e=d.kd();if(!e.length)return!1;var f=e[0],g=f,h=db(f.x,f.y,b,c),k,l,m;k=1;for(l=e.length;k<l;k++)if(f=e[k],m=db(f.x,f.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=f;d.hk(g);return!0},n.yD=function(a){this.x!==a&&(this.x=a,this.ba())},n.gJ=function(a){this.y!==a&&(this.y=a,this.ba())},n.As=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ba()},n.eJ=function(a,b){var c=a.fG(this);if(c){var d;c.Jf?(d=c.Jf(b,!0),c=c.Jf(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ba()}},
n.QI=function(a){0!==a&&(this.x+=Math.cos(this.L)*a,this.y+=Math.sin(this.L)*a,this.ba())},n.OI=function(a,b){0!==b&&(this.x+=Math.cos(Pa(a))*b,this.y+=Math.sin(Pa(a))*b,this.ba())},p.mm=function(a){a.ya(this.x)},p.nm=function(a){a.ya(this.y)},p.ab=function(a){a.ya(this.i.gg(this))});f&&(k.HI=function(a,b){return Yc(this.width,a,b)},k.FI=function(a,b){return Yc(this.height,a,b)},n.Cs=function(a){this.width!==a&&(this.width=a,this.ba())},n.dJ=function(a){this.height!==a&&(this.height=a,this.ba())},
n.Nw=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ba()},p.Fs=function(a){a.ya(this.width)},p.qs=function(a){a.ya(this.height)},p.CI=function(a){this.cb();a.ya(this.Qb.left)},p.EI=function(a){this.cb();a.ya(this.Qb.top)},p.DI=function(a){this.cb();a.ya(this.Qb.right)},p.BI=function(a){this.cb();a.ya(this.Qb.bottom)});e&&(k.SA=function(a,b){return Ya(this.L,Pa(b))<=Pa(a)},k.EB=function(a){return ab(this.L,Pa(a))},k.CB=function(a,b){var c=Wa(a),d=Wa(b),e=Ua(this.L);
return ab(d,c)?ab(e,c)&&!ab(e,d):!(!ab(e,c)&&ab(e,d))},n.Uo=function(a){a=Pa(Ta(a));isNaN(a)||this.L===a||(this.L=a,this.ba())},n.hD=function(a){0===a||isNaN(a)||(this.L+=Pa(a),this.L=Ua(this.L),this.ba())},n.$I=function(a){0===a||isNaN(a)||(this.L-=Pa(a),this.L=Ua(this.L),this.ba())},n.aJ=function(a,b){var c=$a(this.L,Pa(b),Pa(a));isNaN(c)||this.L===c||(this.L=c,this.ba())},n.bJ=function(a,b,c){a=$a(this.L,Math.atan2(c-this.y,b-this.x),Pa(a));isNaN(a)||this.L===a||(this.L=a,this.ba())},n.fJ=function(a,
b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.L===c||(this.L=c,this.ba())},p.AI=function(a){a.ya(Va(this.L))});d||(k.No=function(a,b,c){return Yc(this.Xb[a],b,c)},k.$v=function(a){return this.Xb[a]},k.XI=function(a,b){var c=this.Ha(),d=c.kd();if(!d.length)return!1;var e=d[0],f=e,g=e.Xb[b],h,k,l;h=1;for(k=d.length;h<k;h++)if(e=d[h],l=e.Xb[b],0===a&&l<g||1===a&&l>g)g=l,f=e;c.hk(f);return!0},k.VI=function(a){var b,c,d,e,f;if(this.i.Sk().mq){f=this.Ha();if(f.Ua)for(f.Ua=!1,H(f.H),H(f.Oa),d=this.H,
b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.Oa.push(e):f.H.push(e);else{d=b=0;for(c=f.H.length;b<c;b++)e=f.H[b],f.H[d]=e,e.uid===a?f.Oa.push(e):d++;Ha(f.H,d)}this.Kd();return!!f.H.length}e=this.i.hg(a);if(!e)return!1;f=this.Ha();if(!f.Ua&&-1===f.H.indexOf(e))return!1;if(this.Ba)for(a=e.type.gc,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.hk(e),this.Kd(),!0}else if(e.type===this)return f.hk(e),this.Kd(),!0;return!1},k.Zh=function(){return!0},k.iw=function(){return!0},n.zs=function(a,b){var c=this.Xb;
pa(c[a])?c[a]=pa(b)?b:parseFloat(b):qa(c[a])&&(c[a]=qa(b)?b:b.toString())},n.PA=function(a,b){var c=this.Xb;pa(c[a])?c[a]=pa(b)?c[a]+b:c[a]+parseFloat(b):qa(c[a])&&(c[a]=qa(b)?c[a]+b:c[a]+b.toString())},n.ND=function(a,b){var c=this.Xb;pa(c[a])&&(c[a]=pa(b)?c[a]-b:c[a]-parseFloat(b))},n.Mw=function(a,b){this.Xb[a]=b?1:0},n.QD=function(a){this.Xb[a]=1-this.Xb[a]},n.fd=function(){this.i.Ke(this)},n.UB||(n.UB=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.i.Aq(this,b,!0);this.zf&&this.zf();
if(this.Na)for(a=0,b=this.Na.length;a<b;++a)c=this.Na[a],c.zf&&c.zf()}),p.Xv=function(a){var b=a.dk.H.length,c,d,e;c=0;for(d=this.i.fg.length;c<d;c++)e=this.i.fg[c],a.dk.Ba?0<=e.type.gc.indexOf(a.dk)&&b++:e.type===a.dk&&b++;a.Ga(b)},p.ZI=function(a){a.Ga(a.dk.Ha().kd().length)},p.SD=function(a){a.Ga(this.uid)},p.II=function(a){a.Ga(this.Um())},p.Mo||(p.Mo=function(a){a.Hb(JSON.stringify(this.i.pv(this,!0)))}));g&&(k.PB=function(){return this.visible},n.pj=function(a){!a!==!this.visible&&(this.visible=
!!a,this.i.Za=!0)},k.GI=function(a,b){return Yc(Lb(100*this.opacity),a,b)},n.sD=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.i.Za=!0)},p.Opacity=function(a){a.ya(Lb(100*this.opacity))});l&&(k.JI=function(a){return a?this.P===a:!1},k.YI=function(a){var b=this.Ha(),c=b.kd();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.P.index>e.P.index||d.P.index===e.P.index&&d.Og()>e.Og())e=d}else if(d.P.index<e.P.index||d.P.index===e.P.index&&
d.Og()<e.Og())e=d;b.hk(e);return!0},n.WB=function(){var a=this.P,b=a.H;b.length&&b[b.length-1]===this||(a.Fl(this,!1),a.tm(this,!1),this.i.Za=!0)},n.RI=function(){var a=this.P,b=a.H;b.length&&b[0]===this||(a.Fl(this,!1),a.AH(this),this.i.Za=!0)},n.cw=function(a){a&&a!=this.P&&(this.P.Fl(this,!0),this.P=a,a.tm(this,!0),this.i.Za=!0)},n.YD=function(a,b){var c=0===a;if(b){var d=b.Tk(this);d&&d.uid!==this.uid&&(this.P.index!==d.P.index&&(this.P.Fl(this,!0),this.P=d.P,d.P.tm(this,!0)),this.P.gH(this,d,
c),this.i.Za=!0)}},p.NI=function(a){a.Ga(this.P.fz)},p.MI=function(a){a.Hb(this.P.name)},p.hJ=function(a){a.Ga(this.Og())});m&&(n.cJ=function(a,b){if(this.i.qa){var c=this.type.At(b);if(!(0>c)){var d=1===a;this.bi[c]!==d&&(this.bi[c]=d,this.ug(),this.i.Za=!0)}}},n.mD=function(a,b,c){if(this.i.qa){var d=this.type.At(a);0>d||(a=this.type.Xa[d],d=this.kc[d],b=Math.floor(b),0>b||b>=d.length||(1===this.i.qa.jG(a.Qc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Ec&&(this.i.Za=!0))))}})};uc=function(){this.Vs=this.jp=
!0;this.type.cp=!0;this.i.Za=!0;var a,b,d=this.Qs;a=0;for(b=d.length;a<b;++a)d[a](this);this.P.uf&&this.cb()};vc=function(a){a&&this.Qs.push(a)};xc=function(){if(this.jp){var a=this.Qb,b=this.Rb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.ze*this.width,-this.Ae*this.height);this.L?(a.offset(-this.x,-this.y),b.Zz(a,this.L),b.offset(this.x,this.y),b.gx(a)):b.Ll(a);a.normalize();this.jp=!1;this.GA()}};var a=new Ca(0,0,0,0);yc=function(){if(this.P.uf){var c=this.P.Fd,b=this.Qb;
a.set(c.te(b.left),c.ue(b.top),c.te(b.right),c.ue(b.bottom));this.Ge.Fm(a)||(this.Ge.right<this.Ge.left?c.update(this,null,a):c.update(this,this.Ge,a),this.Ge.Fk(a),this.P.pg=!0)}};zc=function(){if(this.Vs&&this.Df){this.cb();var c=this.type.xm,b=this.Qb;a.set(c.te(b.left),c.ue(b.top),c.te(b.right),c.ue(b.bottom));this.Cf.Fm(a)||(this.Cf.right<this.Cf.left?c.update(this,null,a):c.update(this,this.Cf,a),this.Cf.Fk(a),this.Vs=!1)}};wc=function(a,b){return this.Qb.Qd(a,b)&&this.Rb.Qd(a,b)?this.jb&&!this.jb.Qj()?
(this.jb.fi(this.width,this.height,this.L),this.jb.Qd(a-this.x,b-this.y)):!0:!1};qc=function(){this.type.Zr();return this.Lj};Ac=function(){this.P.Mv();return this.wg};Bc=function(){H(this.Cb);var a,b,d,h=!0;a=0;for(b=this.bi.length;a<b;a++)this.bi[a]&&(d=this.type.Xa[a],this.Cb.push(d),d.pf||(h=!1));this.HA=!!this.Cb.length;this.Nh=h};rc=function(){return"Inst"+this.Hz};dc=function(a){if(a&&a.Ud&&a.type!=this){var b,d,h;b=0;for(d=a.siblings.length;b<d;b++)if(h=a.siblings[b],h.type==this)return h}a=
this.Ha().kd();return a.length?a[0]:null};ec=function(a){var b=this.Ha().kd();return b.length?b[a.Um()%b.length]:null};cc=function(){if(this.Ol&&!this.Ba){var a,b;a=0;for(b=this.H.length;a<b;a++)this.H[a].Lj=a;var d=a,h=this.i.fg;a=0;for(b=h.length;a<b;++a)h[a].type===this&&(h[a].Lj=d++);this.Ol=!1}};oc=function(a){if(a<this.H.length)return this.H[a];a-=this.H.length;var b=this.i.fg,d,h;d=0;for(h=b.length;d<h;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};fc=function(){return this.Ph[this.Hg]};
gc=function(){this.Hg++;this.Hg===this.Ph.length?this.Ph.push(new Xb(this)):(this.Ph[this.Hg].Ua=!0,H(this.Ph[this.Hg].Oa))};hc=function(){this.Hg++;this.Hg===this.Ph.length&&this.Ph.push(new Xb(this));var a=this.Ph[this.Hg],b=this.Ph[this.Hg-1];b.Ua?(a.Ua=!0,H(a.Oa)):(a.Ua=!1,Ia(a.H,b.H),Ia(a.Oa,b.Oa))};ic=function(){this.Hg--};kc=function(a){var b,d,h,f,e,g=0;if(!this.Ba)for(b=0,d=this.gc.length;b<d;b++)for(e=this.gc[b],h=0,f=e.ic.length;h<f;h++){if(a===e.ic[h].name)return this.ra.lastBehIndex=
g,e.ic[h];g++}b=0;for(d=this.ic.length;b<d;b++){if(a===this.ic[b].name)return this.ra.lastBehIndex=g,this.ic[b];g++}return null};lc=function(a){return this.Xp(a)?this.ra.lastBehIndex:-1};mc=function(a){var b,d;b=0;for(d=this.Xa.length;b<d;b++)if(this.Xa[b].name===a)return b;return-1};nc=function(){if(this.Ud&&!this.Ba){var a,b,d,h,f,e,g;this.Zr();e=this.Ha();var l=e.Ua,m=(a=this.i.hc())&&a.vc&&a.vc.nf;a=0;for(b=this.Oe.length;a<b;a++)if(f=this.Oe[a],f!==this&&(f.Zr(),g=f.Ha(),g.Ua=l,!l)){H(g.H);d=
0;for(h=e.H.length;d<h;++d)g.H[d]=f.Bt(e.H[d].Lj);if(m)for(H(g.Oa),d=0,h=e.Oa.length;d<h;++d)g.Oa[d]=f.Bt(e.Oa[d].Lj)}}};pc=function(){return"Type"+this.mb};Yc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();
var fd={glowhorizontal:{src:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump float pixelWidth;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",Im:8,
Jm:0,vp:!1,pf:!1,bp:!1,Qa:[["intensity",0,1]]},replacecolor:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float rsource;\nuniform mediump float gsource;\nuniform mediump float bsource;\nuniform mediump float rdest;\nuniform mediump float gdest;\nuniform mediump float bdest;\nuniform lowp float tolerance;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nlowp float diff = length(front.rgb - vec3(rsource, gsource, bsource) / 255.0);\nif (diff <= tolerance)\n{\nfront.rgb = mix(front.rgb, vec3(rdest, gdest, bdest) / 255.0, 1.0 - diff / tolerance);\n}\nfront.rgb *= a;\ngl_FragColor = front;\n}",
Im:0,Jm:0,vp:!1,pf:!0,bp:!1,Qa:[["rsource",0,0],["gsource",0,0],["bsource",0,0],["rdest",0,0],["gdest",0,0],["bdest",0,0],["tolerance",0,1]]}};function ld(a){this.i=a}
(function(){function a(){return g.length?g.pop():[]}function c(a){var b,d;b=0;for(d=a.length;b<d;b++)Array.isArray(a[b])&&c(a[b]);H(a);g.push(a)}function b(){}function d(){}function h(){}var f=ld.prototype;f.wa=function(a){this.Ta=a;this.i=a.i};f.wa.prototype.ka=function(){};f.ta=function(a){this.type=a;this.i=a.i};var e=f.ta.prototype,g=[];Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});e.ka=function(){this.ac=this.S[0];this.jc=this.S[1];this.Gc=
this.S[2];this.rd||(this.cf=a());var b=this.cf;b.length=this.ac;var c,d,e;for(c=0;c<this.ac;c++)for(b[c]||(b[c]=a()),b[c].length=this.jc,d=0;d<this.jc;d++)for(b[c][d]||(b[c][d]=a()),b[c][d].length=this.Gc,e=0;e<this.Gc;e++)b[c][d][e]=0;this.Qe=[];this.Mg=[];this.Fj=[];this.If=-1};e.je=function(){var a;for(a=0;a<this.ac;a++)c(this.cf[a]);H(this.cf)};e.ag=function(a,b,c){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);return isNaN(a)||0>a||a>this.ac-1||isNaN(b)||0>b||b>this.jc-1||isNaN(c)||0>c||c>this.Gc-
1?0:this.cf[a][b][c]};e.set=function(a,b,c,d){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);isNaN(a)||0>a||a>this.ac-1||isNaN(b)||0>b||b>this.jc-1||isNaN(c)||0>c||c>this.Gc-1||(this.cf[a][b][c]=d)};e.UF=function(){return JSON.stringify({c2array:!0,size:[this.ac,this.jc,this.Gc],data:this.cf})};e.Mb=function(){return{size:[this.ac,this.jc,this.Gc],data:this.cf}};e.Sb=function(a){var b=a.size;this.ac=b[0];this.jc=b[1];this.Gc=b[2];this.cf=a.data};e.Mh=function(b,c,d){0>b&&(b=0);0>c&&(c=0);0>d&&(d=
0);if(this.ac!==b||this.jc!==c||this.Gc!==d){this.ac=b;this.jc=c;this.Gc=d;var e,f,g=this.cf;g.length=b;for(b=0;b<this.ac;b++)for(oa(g[b])&&(g[b]=a()),g[b].length=c,e=0;e<this.jc;e++)for(oa(g[b][e])&&(g[b][e]=a()),g[b][e].length=d,f=0;f<this.Gc;f++)oa(g[b][e][f])&&(g[b][e][f]=0)}};e.YF=function(){return 0<=this.If&&this.If<this.Qe.length?this.Qe[this.If]:0};e.ZF=function(){return 0<=this.If&&this.If<this.Mg.length?this.Mg[this.If]:0};e.$F=function(){return 0<=this.If&&this.If<this.Fj.length?this.Fj[this.If]:
0};b.prototype.Wv=function(a,b,c){return Yc(this.ag(a,0,0),b,c)};e.gt=function(a){this.i.Ih(a.pb);a.Jh();this.i.Qf(a.pb)};b.prototype.UA=function(a){var b=this.i.hc().vc;this.If++;var c=this.If;c===this.Qe.length?(this.Qe.push(0),this.Mg.push(0),this.Fj.push(0)):(this.Qe[c]=0,this.Mg[c]=0,this.Fj[c]=0);switch(a){case 0:for(this.Qe[c]=0;this.Qe[c]<this.ac;this.Qe[c]++)for(this.Mg[c]=0;this.Mg[c]<this.jc;this.Mg[c]++)for(this.Fj[c]=0;this.Fj[c]<this.Gc;this.Fj[c]++)this.gt(b);break;case 1:for(this.Qe[c]=
0;this.Qe[c]<this.ac;this.Qe[c]++)for(this.Mg[c]=0;this.Mg[c]<this.jc;this.Mg[c]++)this.gt(b);break;case 2:for(this.Qe[c]=0;this.Qe[c]<this.ac;this.Qe[c]++)this.gt(b)}this.If--;return!1};b.prototype.dB=function(a,b,c){var d=0;switch(a){case 0:d=this.ac;break;case 1:d=this.jc;break;case 2:d=this.Gc}return Yc(d,b,c)};f.C=new b;d.prototype.kj=function(){var a,b,c;for(a=0;a<this.ac;a++)for(b=0;b<this.jc;b++)for(c=0;c<this.Gc;c++)this.cf[a][b][c]=0};d.prototype.Nw=function(a,b,c){this.Mh(a,b,c)};d.prototype.yD=
function(a,b){this.set(a,0,0,b)};d.prototype.fD=function(b,c,d){var e=0,f=0,g=0,h=this.cf;switch(d){case 0:0===b?(e=h.length,h.push(a())):(e=0,h.unshift(a()));for(h[e].length=this.jc;f<this.jc;f++)for(h[e][f]=a(),h[e][f].length=this.Gc,g=0;g<this.Gc;g++)h[e][f][g]=c;this.ac++;break;case 1:for(;e<this.ac;e++)for(0===b?(f=h[e].length,h[e].push(a())):(f=0,h[e].unshift(a())),h[e][f].length=this.Gc,g=0;g<this.Gc;g++)h[e][f][g]=c;this.jc++;break;case 2:for(;e<this.ac;e++)for(f=0;f<this.jc;f++)0===b?h[e][f].push(c):
h[e][f].unshift(c);this.Gc++}};d.prototype.eD=function(a,b){var d=0,e=0,f=this.cf;switch(b){case 0:if(0===this.ac)break;0===a?c(f.pop()):c(f.shift());this.ac--;break;case 1:if(0===this.jc)break;for(;d<this.ac;d++)0===a?c(f[d].pop()):c(f[d].shift());this.jc--;break;case 2:if(0===this.Gc)break;for(;d<this.ac;d++)for(e=0;e<this.jc;e++)0===a?f[d][e].pop():f[d][e].shift();this.Gc--}};d.prototype.bw=function(a){var b;try{b=JSON.parse(a)}catch(c){return}b.c2array&&(a=b.size,this.ac=a[0],this.jc=a[1],this.Gc=
a[2],this.cf=b.data)};f.R=new d;h.prototype.Fs=function(a){a.Ga(this.ac)};h.prototype.qs=function(a){a.Ga(this.jc)};h.prototype.iB=function(a){a.nk(this.ag(this.YF(),this.ZF(),this.$F()))};h.prototype.Mo=function(a){a.Hb(this.UF())};f.aa=new h})();function md(a){this.i=a}
(function(){function a(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function c(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function b(a){a=a.toLowerCase();return ia.hasOwnProperty(a)&&ia[a].length?ia[a][0].ff():G.destination}function d(){return G.createGain?G.createGain():G.createGainNode()}function h(a){return G.createDelay?G.createDelay(a):G.createDelayNode(a)}function f(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function e(a,b,c,d){a.start?a.start(d||
0,b):a.noteGrainOn(d||0,b,c-b)}function g(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function l(a,b,c,e,f,g){this.type="filter";this.ub=[a,b,c,e,f,g];this.rb=d();this.Wa=d();this.Wa.gain.value=g;this.Ra=d();this.Ra.gain.value=1-g;this.Kc=G.createBiquadFilter();this.Kc.type="number"===typeof this.Kc.type?a:hd[a];this.Kc.frequency.value=b;this.Kc.detune&&(this.Kc.detune.value=c);this.Kc.Q.value=e;this.Kc.gain.value=f;this.rb.connect(this.Kc);this.rb.connect(this.Ra);this.Kc.connect(this.Wa)}function m(a,
b,c){this.type="delay";this.ub=[a,b,c];this.rb=d();this.Wa=d();this.Wa.gain.value=c;this.Ra=d();this.Ra.gain.value=1-c;this.Jn=d();this.Gf=h(a);this.Gf.delayTime.value=a;this.Cp=d();this.Cp.gain.value=b;this.rb.connect(this.Jn);this.rb.connect(this.Ra);this.Jn.connect(this.Wa);this.Jn.connect(this.Gf);this.Gf.connect(this.Cp);this.Cp.connect(this.Jn)}function k(a,b,c,e){this.type="convolve";this.ub=[b,c,e];this.rb=d();this.Wa=d();this.Wa.gain.value=c;this.Ra=d();this.Ra.gain.value=1-c;this.yj=G.createConvolver();
a&&(this.yj.normalize=b,this.yj.buffer=a);this.rb.connect(this.yj);this.rb.connect(this.Ra);this.yj.connect(this.Wa)}function n(a,b,c,e,g){this.type="flanger";this.ub=[a,b,c,e,g];this.rb=d();this.Ra=d();this.Ra.gain.value=1-g/2;this.Wa=d();this.Wa.gain.value=g/2;this.Lp=d();this.Lp.gain.value=e;this.Gf=h(a+b);this.Gf.delayTime.value=a;this.qd=G.createOscillator();this.qd.frequency.value=c;this.Xe=d();this.Xe.gain.value=b;this.rb.connect(this.Gf);this.rb.connect(this.Ra);this.Gf.connect(this.Wa);this.Gf.connect(this.Lp);
this.Lp.connect(this.Gf);this.qd.connect(this.Xe);this.Xe.connect(this.Gf.delayTime);f(this.qd)}function p(a,b,c,e,g,h){this.type="phaser";this.ub=[a,b,c,e,g,h];this.rb=d();this.Ra=d();this.Ra.gain.value=1-h/2;this.Wa=d();this.Wa.gain.value=h/2;this.Kc=G.createBiquadFilter();this.Kc.type="number"===typeof this.Kc.type?7:"allpass";this.Kc.frequency.value=a;this.Kc.detune&&(this.Kc.detune.value=b);this.Kc.Q.value=c;this.qd=G.createOscillator();this.qd.frequency.value=g;this.Xe=d();this.Xe.gain.value=
e;this.rb.connect(this.Kc);this.rb.connect(this.Ra);this.Kc.connect(this.Wa);this.qd.connect(this.Xe);this.Xe.connect(this.Kc.frequency);f(this.qd)}function q(a){this.type="gain";this.ub=[a];this.Bb=d();this.Bb.gain.value=a}function u(a,b){this.type="tremolo";this.ub=[a,b];this.Bb=d();this.Bb.gain.value=1-b/2;this.qd=G.createOscillator();this.qd.frequency.value=a;this.Xe=d();this.Xe.gain.value=b/2;this.qd.connect(this.Xe);this.Xe.connect(this.Bb.gain);f(this.qd)}function t(a,b){this.type="ringmod";
this.ub=[a,b];this.rb=d();this.Wa=d();this.Wa.gain.value=b;this.Ra=d();this.Ra.gain.value=1-b;this.co=d();this.co.gain.value=0;this.qd=G.createOscillator();this.qd.frequency.value=a;this.qd.connect(this.co.gain);f(this.qd);this.rb.connect(this.co);this.rb.connect(this.Ra);this.co.connect(this.Wa)}function v(a,b,c,e,f){this.type="distortion";this.ub=[a,b,c,e,f];this.rb=d();this.er=d();this.dr=d();this.YH(c,Math.pow(10,e/20));this.Wa=d();this.Wa.gain.value=f;this.Ra=d();this.Ra.gain.value=1-f;this.es=
G.createWaveShaper();this.Ap=new Float32Array(65536);this.RF(a,b);this.es.Ap=this.Ap;this.rb.connect(this.er);this.rb.connect(this.Ra);this.er.connect(this.es);this.es.connect(this.dr);this.dr.connect(this.Wa)}function r(a,b,c,d,e){this.type="compressor";this.ub=[a,b,c,d,e];this.Bb=G.createDynamicsCompressor();try{this.Bb.threshold.value=a,this.Bb.knee.value=b,this.Bb.ratio.value=c,this.Bb.attack.value=d,this.Bb.release.value=e}catch(f){}}function y(a,b){this.type="analyser";this.ub=[a,b];this.Bb=
G.createAnalyser();this.Bb.fftSize=a;this.Bb.smoothingTimeConstant=b;this.OF=new Float32Array(this.Bb.frequencyBinCount);this.bA=new Uint8Array(a);this.Sn=0}function B(){this.Pa=null;this.Bq=0;this.aj=[];this.Fu=this.vq=this.uq=0}function D(a,b){this.src=a;this.lb=T;this.Lf=b;this.$o=!1;var c=this;this.Du=this.Su=null;this.Ti=[];this.qr=0;this.Qv=this.Kp=this.iA=this.Xq=!1;1===T&&b&&!yb&&(this.lb=0,this.Su=d());this.kh=this.Db=null;var e;switch(this.lb){case 0:this.Db=new Audio;this.Db.crossOrigin=
"anonymous";this.Db.addEventListener("canplaythrough",function(){c.Qv=!0});1===T&&G.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.iA=!0,this.Db.addEventListener("canplay",function(){c.Du||(c.Du=G.createMediaElementSource(c.Db),c.Du.connect(c.Su))}));this.Db.autoplay=!1;this.Db.wJ="auto";this.Db.src=a;break;case 1:F.mn?F.Jx(a,function(a){c.kh=a;c.ux()},function(){c.Kp=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.kh=e.response;
c.ux()},e.onerror=function(){c.Kp=!0},e.send());break;case 2:this.Db=!0;break;case 3:this.Db=!0}}function C(a,c){var e=this;this.tag=c;this.rc=this.Ng=!0;this.src=a.src;this.buffer=a;this.lb=T;this.Lf=a.Lf;this.playbackRate=1;this.Xk=!0;this.Se=this.rf=!1;this.He=0;this.nn=this.dl=this.Qg=!1;this.volume=1;this.Qu=function(a){if(!e.Se&&!e.rf){var b=this;b||(b=a.target);b===e.Zo&&(e.Xk=!0,e.rc=!0,S=e.tag,F.trigger(md.prototype.C.Ro,I))}};this.Zo=null;this.$k=1===M&&!this.Lf||2===M;this.yl=1;this.startTime=
this.$k?F.$c.Va:F.Th.Va;this.Cc=this.Yc=null;this.Ug=!1;this.Bc=null;this.rz=this.qz=this.pz=this.oz=this.uz=this.sz=0;this.Z=null;var f=!1;1!==this.lb||0!==this.buffer.lb||this.buffer.iA||(this.lb=0);switch(this.lb){case 0:this.Lf?(this.Z=a.Db,f=!a.$o,a.$o=!0):(this.Z=new Audio,this.Z.crossOrigin="anonymous",this.Z.autoplay=!1,this.Z.src=a.Db.src,f=!0);f&&this.Z.addEventListener("ended",function(){S=e.tag;e.rc=!0;F.trigger(md.prototype.C.Ro,I)});break;case 1:this.Yc=d();this.Yc.connect(b(c));1===
this.buffer.lb?a.Db&&(this.Z=G.createBufferSource(),this.Z.buffer=a.Db,this.Z.connect(this.Yc)):(this.Z=this.buffer.Db,this.buffer.Su.connect(this.Yc),this.buffer.$o||(this.buffer.$o=!0,this.buffer.Db.addEventListener("ended",function(){S=e.tag;e.rc=!0;F.trigger(md.prototype.C.Ro,I)})));break;case 2:this.Z=new window.Media(ea+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.Xk=!0,e.rc=!0,S=e.tag,F.trigger(md.prototype.C.Ro,I))});break;case 3:this.Z=!0}}function E(a,b){ia.hasOwnProperty(a)?
ia[a].push(b):ia[a]=[b];var c,d,e,f,g=G.destination;if(ia.hasOwnProperty(a)&&(e=ia[a],e.length))for(g=e[0].ff(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.Ef(G.destination):f.Ef(e[c+1].ff());H(Ab);if(a.length)for(c=0,d=U.length;c<d;c++)e=U[c],Qb(a,e.tag)&&Ab.push(e);else O&&!O.Kj()&&(H(Ab),Ab[0]=O);c=0;for(d=Ab.length;c<d;c++)Ab[c].JH(g);Ra&&Tb===a&&(Ra.disconnect(),Ra.connect(g))}function A(){}function x(){}var w=md.prototype;w.wa=function(a){this.Ta=a;this.i=a.i};w.wa.prototype.ka=function(){};var F=
null,I=null,S="",ea="",T=0,G=null,ba=[],U=[],O=null,J=!1,M=0,P=!1,K=1,N=0,W=0,ha=!1,R=1,va=1,na=10,cb=1E4,Vd=1,Ra=null,Tb="",za=!1,Bb=[],yb=!1,ia={},hd="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");l.prototype.Ef=function(a){this.Wa.disconnect();this.Wa.connect(a);this.Ra.disconnect();this.Ra.connect(a)};l.prototype.remove=function(){this.rb.disconnect();this.Kc.disconnect();this.Wa.disconnect();this.Ra.disconnect()};l.prototype.ff=function(){return this.rb};m.prototype.Ef=
function(a){this.Wa.disconnect();this.Wa.connect(a);this.Ra.disconnect();this.Ra.connect(a)};m.prototype.remove=function(){this.rb.disconnect();this.Jn.disconnect();this.Gf.disconnect();this.Cp.disconnect();this.Wa.disconnect();this.Ra.disconnect()};m.prototype.ff=function(){return this.rb};k.prototype.Ef=function(a){this.Wa.disconnect();this.Wa.connect(a);this.Ra.disconnect();this.Ra.connect(a)};k.prototype.remove=function(){this.rb.disconnect();this.yj.disconnect();this.Wa.disconnect();this.Ra.disconnect()};
k.prototype.ff=function(){return this.rb};n.prototype.Ef=function(a){this.Ra.disconnect();this.Ra.connect(a);this.Wa.disconnect();this.Wa.connect(a)};n.prototype.remove=function(){this.rb.disconnect();this.Gf.disconnect();this.qd.disconnect();this.Xe.disconnect();this.Ra.disconnect();this.Wa.disconnect();this.Lp.disconnect()};n.prototype.ff=function(){return this.rb};p.prototype.Ef=function(a){this.Ra.disconnect();this.Ra.connect(a);this.Wa.disconnect();this.Wa.connect(a)};p.prototype.remove=function(){this.rb.disconnect();
this.Kc.disconnect();this.qd.disconnect();this.Xe.disconnect();this.Ra.disconnect();this.Wa.disconnect()};p.prototype.ff=function(){return this.rb};q.prototype.Ef=function(a){this.Bb.disconnect();this.Bb.connect(a)};q.prototype.remove=function(){this.Bb.disconnect()};q.prototype.ff=function(){return this.Bb};u.prototype.Ef=function(a){this.Bb.disconnect();this.Bb.connect(a)};u.prototype.remove=function(){this.qd.disconnect();this.Xe.disconnect();this.Bb.disconnect()};u.prototype.ff=function(){return this.Bb};
t.prototype.Ef=function(a){this.Wa.disconnect();this.Wa.connect(a);this.Ra.disconnect();this.Ra.connect(a)};t.prototype.remove=function(){this.qd.disconnect();this.co.disconnect();this.rb.disconnect();this.Wa.disconnect();this.Ra.disconnect()};t.prototype.ff=function(){return this.rb};v.prototype.YH=function(a,b){.01>a&&(a=.01);this.er.gain.value=a;this.dr.gain.value=Math.pow(1/a,.6)*b};v.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));
return b*c};v.prototype.RF=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Ap[32768+f]=e,this.Ap[32768-f-1]=-e};v.prototype.Ef=function(a){this.Wa.disconnect();this.Wa.connect(a);this.Ra.disconnect();this.Ra.connect(a)};v.prototype.remove=function(){this.rb.disconnect();this.er.disconnect();this.es.disconnect();this.dr.disconnect();this.Wa.disconnect();this.Ra.disconnect()};v.prototype.ff=function(){return this.rb};r.prototype.Ef=
function(a){this.Bb.disconnect();this.Bb.connect(a)};r.prototype.remove=function(){this.Bb.disconnect()};r.prototype.ff=function(){return this.Bb};y.prototype.nb=function(){this.Bb.getFloatFrequencyData(this.OF);this.Bb.getByteTimeDomainData(this.bA);for(var a=this.Bb.fftSize,b=0,d=this.Sn=0,e=0;b<a;b++)e=(this.bA[b]-128)/128,0>e&&(e=-e),this.Sn<e&&(this.Sn=e),d+=e*e;this.Sn=c(this.Sn);c(Math.sqrt(d/a))};y.prototype.Ef=function(a){this.Bb.disconnect();this.Bb.connect(a)};y.prototype.remove=function(){this.Bb.disconnect()};
y.prototype.ff=function(){return this.Bb};B.prototype.Il=function(a){if(this.Pa=a)this.uq=this.Pa.x,this.vq=this.Pa.y;H(this.aj)};B.prototype.iq=function(){return!!this.Pa};B.prototype.nb=function(a){this.Pa&&0!==a&&(this.Fu=Xa(this.uq,this.vq,this.Pa.x,this.Pa.y),a=db(this.uq,this.vq,this.Pa.x,this.Pa.y)/a,4>this.aj.length||this.aj.shift(),this.aj.push(a),this.uq=this.Pa.x,this.vq=this.Pa.y)};B.prototype.bq=function(){if(!this.aj.length)return 0;var a,b,c=0;a=0;for(b=this.aj.length;a<b;a++)c+=this.aj[a];
return c/this.aj.length};B.prototype.Ft=function(){return Math.cos(this.Fu)*this.bq()};B.prototype.Gt=function(){return Math.sin(this.Fu)*this.bq()};var jc=!1;D.prototype.KH=function(){var a,b,c,d;c=a=0;for(b=U.length;a<b;++a)d=U[a],U[c]=d,d.buffer===this?d.stop():++c;U.length=c;this.kh=this.Db=null};D.prototype.ux=function(){if(!this.Db&&this.kh){var a=this;if(G.decodeAudioData)G.decodeAudioData(this.kh,function(b){a.Db=b;a.kh=null;var c,d,e;if(oa(a.$q)||P)oa(a.sp)||(c=a.sp.yj,c.normalize=a.ez,c.buffer=
b);else if(a.Ti.length){c=0;for(d=a.Ti.length;c<d;c++){b=a.Ti[c];e=new C(a,b.Rr);e.Br(!0);if("undefined"!==typeof b.gz&&(b.Pa=F.hg(b.gz),!b.Pa))continue;if(b.Pa){var f=bb(b.Pa.x,b.Pa.y,-b.Pa.P.Zb(),N,W,!0),g=bb(b.Pa.x,b.Pa.y,-b.Pa.P.Zb(),N,W,!1);e.eo(f,g,Qa(b.Pa.L-b.Pa.P.Zb()),b.Ym,b.Nn,b.On);e.Il(b.Pa)}else e.eo(b.x,b.y,b.W,b.Ym,b.Nn,b.On);e.play(a.xu,a.Pv,a.qr);a.Xq&&e.pause();U.push(e)}H(a.Ti)}else e=new C(a,a.$q||""),e.play(a.xu,a.Pv,a.qr),a.Xq&&e.pause(),U.push(e)},function(){a.Kp=!0});else if(this.Db=
G.createBuffer(this.kh,!1),this.kh=null,oa(this.$q)||P)oa(this.sp)||(b=this.sp.yj,b.normalize=this.ez,b.buffer=this.Db);else{var b=new C(this,this.$q);b.play(this.xu,this.Pv,this.qr);this.Xq&&b.pause();U.push(b)}}};D.prototype.my=function(){switch(this.lb){case 0:var a=4<=this.Db.readyState;a&&(this.Qv=!0);return a||this.Qv;case 1:return!!this.kh||!!this.Db;case 2:return!0;case 3:return!0}return!1};D.prototype.RG=function(){switch(this.lb){case 0:return this.my();case 1:return!!this.Db;case 2:return!0;
case 3:return!0}return!1};D.prototype.FG=function(){switch(this.lb){case 0:return!!this.Db.error;case 1:return this.Kp}return!1};C.prototype.Kj=function(){switch(this.lb){case 0:return this.Z.ended;case 1:return 1===this.buffer.lb?!this.Ng&&!this.rc&&this.Z.loop||this.Se?!1:this.Xk:this.Z.ended;case 2:return this.Xk;case 3:!0}return!0};C.prototype.pE=function(){return this.Ng||this.rc?!0:this.Kj()};C.prototype.Br=function(a){1===T&&(!this.Ug&&a?this.Yc&&(this.Cc||(this.Cc=G.createPanner(),this.Cc.panningModel=
"number"===typeof this.Cc.panningModel?R:["equalpower","HRTF","soundfield"][R],this.Cc.distanceModel="number"===typeof this.Cc.distanceModel?va:["linear","inverse","exponential"][va],this.Cc.refDistance=na,this.Cc.maxDistance=cb,this.Cc.rolloffFactor=Vd),this.Yc.disconnect(),this.Yc.connect(this.Cc),this.Cc.connect(b(this.tag)),this.Ug=!0):this.Ug&&!a&&this.Yc&&(this.Cc.disconnect(),this.Yc.disconnect(),this.Yc.connect(b(this.tag)),this.Ug=!1))};C.prototype.eo=function(a,b,c,d,e,f){this.Ug&&1===T&&
(this.Cc.setPosition(a,b,0),this.Cc.setOrientation(Math.cos(Pa(c)),Math.sin(Pa(c)),0),this.Cc.coneInnerAngle=d,this.Cc.coneOuterAngle=e,this.Cc.coneOuterGain=f,this.sz=a,this.uz=b,this.oz=c,this.pz=d,this.qz=e,this.rz=f)};C.prototype.Il=function(a){this.Ug&&1===T&&(this.Bc||(this.Bc=new B),this.Bc.Il(a))};C.prototype.nb=function(a){if(this.Ug&&1===T&&this.Bc&&this.Bc.iq()&&this.ln()){this.Bc.nb(a);a=this.Bc.Pa;var b=bb(a.x,a.y,-a.P.Zb(),N,W,!0),c=bb(a.x,a.y,-a.P.Zb(),N,W,!1);this.Cc.setPosition(b,
c,0);b=0;"undefined"!==typeof this.Bc.Pa.L&&(b=a.L-a.P.Zb(),this.Cc.setOrientation(Math.cos(b),Math.sin(b),0));b=bb(this.Bc.Ft(),this.Bc.Gt(),-a.P.Zb(),0,0,!0);c=bb(this.Bc.Ft(),this.Bc.Gt(),-a.P.Zb(),0,0,!1);this.Cc.setVelocity(b,c,0)}};C.prototype.play=function(a,b,c,d){var g=this.Z;this.Qg=a;this.volume=b;c=c||0;d=d||0;switch(this.lb){case 0:1!==g.playbackRate&&(g.playbackRate=1);g.volume!==b*K&&(g.volume=b*K);g.loop!==a&&(g.loop=a);g.muted&&(g.muted=!1);if(g.currentTime!==c)try{g.currentTime=
c}catch(h){}if(this.Lf&&za&&!F.Fb)Bb.push(this);else try{this.Z.play()}catch(k){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",k)}break;case 1:this.muted=!1;this.yl=1;if(1===this.buffer.lb)this.Yc.gain.value=b*K,this.Ng||(this.Z=G.createBufferSource(),this.Z.buffer=this.buffer.Db,this.Z.connect(this.Yc)),this.Z.onended=this.Qu,this.Zo=this.Z,this.Z.loop=a,this.Xk=!1,0===c?f(this.Z,d):e(this.Z,c,this.Hj(),d);else{1!==g.playbackRate&&(g.playbackRate=
1);g.loop!==a&&(g.loop=a);g.volume=b*K;if(g.currentTime!==c)try{g.currentTime=c}catch(l){}this.Lf&&za&&!F.Fb?Bb.push(this):g.play()}break;case 2:(!this.Ng&&this.rc||0!==c)&&g.seekTo(c);g.play();this.Xk=!1;break;case 3:F.Td?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.$k?F.$c.Va:F.Th.Va)-c;this.Se=this.rc=this.Ng=!1};C.prototype.stop=function(){switch(this.lb){case 0:this.Z.paused||this.Z.pause();break;case 1:1===this.buffer.lb?
g(this.Z):this.Z.paused||this.Z.pause();break;case 2:this.Z.stop();break;case 3:F.Td&&AppMobi.context.stopSound(this.src)}this.rc=!0;this.Se=!1};C.prototype.pause=function(){if(!(this.Ng||this.rc||this.Kj()||this.Se)){switch(this.lb){case 0:this.Z.paused||this.Z.pause();break;case 1:1===this.buffer.lb?(this.He=this.Ct(!0),this.Qg&&(this.He=this.He%this.Hj()),this.Se=!0,g(this.Z)):this.Z.paused||this.Z.pause();break;case 2:this.Z.pause();break;case 3:F.Td&&AppMobi.context.stopSound(this.src)}this.Se=
!0}};C.prototype.OH=function(){if(!(this.Ng||this.rc||this.Kj())&&this.Se){switch(this.lb){case 0:this.Z.play();break;case 1:1===this.buffer.lb?(this.Z=G.createBufferSource(),this.Z.buffer=this.buffer.Db,this.Z.connect(this.Yc),this.Z.onended=this.Qu,this.Zo=this.Z,this.Z.loop=this.Qg,this.Yc.gain.value=K*this.volume*this.yl,this.$r(),this.startTime=(this.$k?F.$c.Va:F.Th.Va)-this.He/(this.playbackRate||.001),e(this.Z,this.He,this.Hj())):this.Z.play();break;case 2:this.Z.play();break;case 3:F.Td&&
AppMobi.context.resumeSound(this.src)}this.Se=!1}};C.prototype.seek=function(a){if(!(this.Ng||this.rc||this.Kj()))switch(this.lb){case 0:try{this.Z.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.lb)this.Se?this.He=a:(this.pause(),this.He=a,this.OH());else try{this.Z.currentTime=a}catch(c){}break;case 3:F.Td&&AppMobi.context.seekSound(this.src,a)}};C.prototype.JH=function(a){1===this.lb&&(this.Ug?(this.Cc.disconnect(),this.Cc.connect(a)):(this.Yc.disconnect(),this.Yc.connect(a)))};C.prototype.Hj=
function(){var a=0;switch(this.lb){case 0:"undefined"!==typeof this.Z.duration&&(a=this.Z.duration);break;case 1:a=this.buffer.Db.duration;break;case 2:a=this.Z.getDuration();break;case 3:F.Td&&(a=AppMobi.context.getDurationSound(this.src))}return a};C.prototype.Ct=function(a){var b=this.Hj(),c=0;switch(this.lb){case 0:"undefined"!==typeof this.Z.currentTime&&(c=this.Z.currentTime);break;case 1:if(1===this.buffer.lb){if(this.Se)return this.He;c=(this.$k?F.$c.Va:F.Th.Va)-this.startTime}else"undefined"!==
typeof this.Z.currentTime&&(c=this.Z.currentTime);break;case 3:F.Td&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Qg&&c>b&&(c=b);return c};C.prototype.ln=function(){return!this.Se&&!this.Ng&&!this.rc&&!this.Kj()};C.prototype.dI=function(){return!this.Ng&&!this.rc&&!this.Kj()};C.prototype.qI=function(){var a=this.volume*K;isFinite(a)||(a=0);switch(this.lb){case 0:"undefined"!==typeof this.Z.volume&&this.Z.volume!==a&&(this.Z.volume=a);break;case 1:1===this.buffer.lb?
this.Yc.gain.value=a*this.yl:"undefined"!==typeof this.Z.volume&&this.Z.volume!==a&&(this.Z.volume=a)}};C.prototype.Hp=function(a){switch(this.lb){case 0:this.Z.muted!==!!a&&(this.Z.muted=!!a);break;case 1:1===this.buffer.lb?(this.yl=a?0:1,this.Yc.gain.value=K*this.volume*this.yl):this.Z.muted!==!!a&&(this.Z.muted=!!a)}};C.prototype.ZH=function(){this.dl=!0;this.Hp(this.dl||this.nn)};C.prototype.Vz=function(a){this.nn=!!a;this.Hp(this.dl||this.nn)};C.prototype.$r=function(){var a=this.playbackRate;
this.$k&&(a*=F.sg);switch(this.lb){case 0:this.Z.playbackRate!==a&&(this.Z.playbackRate=a);break;case 1:1===this.buffer.lb?this.Z.playbackRate.value!==a&&(this.Z.playbackRate.value=a):this.Z.playbackRate!==a&&(this.Z.playbackRate=a)}};C.prototype.aI=function(a){switch(this.lb){case 0:a?this.ln()?(this.rf=!0,this.Z.pause()):this.rf=!1:this.rf&&(this.Z.play(),this.rf=!1);break;case 1:a?this.ln()?(this.rf=!0,1===this.buffer.lb?(this.He=this.Ct(!0),this.Qg&&(this.He=this.He%this.Hj()),g(this.Z)):this.Z.pause()):
this.rf=!1:this.rf&&(1===this.buffer.lb?(this.Z=G.createBufferSource(),this.Z.buffer=this.buffer.Db,this.Z.connect(this.Yc),this.Z.onended=this.Qu,this.Zo=this.Z,this.Z.loop=this.Qg,this.Yc.gain.value=K*this.volume*this.yl,this.$r(),this.startTime=(this.$k?F.$c.Va:F.Th.Va)-this.He/(this.playbackRate||.001),e(this.Z,this.He,this.Hj())):this.Z.play(),this.rf=!1);break;case 2:a?this.ln()?(this.Z.pause(),this.rf=!0):this.rf=!1:this.rf&&(this.rf=!1,this.Z.play())}};w.ta=function(a){function b(){if(!ha&&
G.createBuffer){var a=G.createBuffer(1,220,22050),c=G.createBufferSource();c.buffer=a;c.connect(G.destination);f(c)}}this.type=a;F=this.i=a.i;I=this;this.ge=null;this.zn=-600;this.i.mn&&(yb=!0);!(this.i.gl||this.i.nq&&(this.i.cn||this.i.oq))||this.i.dn||this.i.La||this.i.Wt||yb||(za=!0);G=null;"undefined"!==typeof AudioContext?(T=1,G=new AudioContext):"undefined"!==typeof webkitAudioContext&&(T=1,G=new webkitAudioContext);this.i.gl&&G&&(G.close&&G.close(),"undefined"!==typeof AudioContext?G=new AudioContext:
"undefined"!==typeof webkitAudioContext&&(G=new webkitAudioContext));za?document.addEventListener("touchend",function(){!jc&&G&&(b(),jc=!0);var a,c,d;if(za){if(!P)for(a=0,c=Bb.length;a<c;++a)d=Bb[a],d.rc||d.Se||d.Z.play();H(Bb)}},!0):yb&&document.addEventListener("touchend",function(){!jc&&G&&(b(),jc=!0)},!0);1!==T&&(this.i.Re&&"undefined"!==typeof window.Media?T=2:this.i.ky&&(T=3));2===T&&(ea=location.href,a=ea.lastIndexOf("/"),-1<a&&(ea=ea.substr(0,a+1)),ea=ea.replace("file://",""));if(this.i.SG&&
this.i.TG&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.i.Ke(this);else{if(this.i.Td)J=this.i.nq;else try{J=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){J=!1}this.i.Qh(this)}};var Ja=w.ta.prototype;Ja.ka=function(){this.i.Dk=this;M=this.S[0];this.Kh=this.S[1];this.uH=0!==this.S[2];this.Kq=0;R=this.S[3];va=this.S[4];this.zn=-this.S[5];na=this.S[6];cb=this.S[7];Vd=this.S[8];
this.ge=new B;var a=this.i.Ka||this.i.width,c=this.i.Ja||this.i.height;1===T&&("undefined"!==typeof G.listener.dopplerFactor&&(G.listener.dopplerFactor=0),G.listener.setPosition(a/2,c/2,this.zn),G.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){Ra&&Ra.disconnect();Tb=c.toLowerCase();Ra=G.createMediaStreamSource(a);Ra.connect(b(Tb))});this.i.Ks(function(a){I.qH(a)});var d=this;this.i.Ak(function(a){d.ek(a)})};Ja.ek=function(a){var b,c,d;b=0;for(c=U.length;b<c;b++)d=U[b],
d.Bc&&d.Bc.Pa===a&&(d.Bc.Pa=null,d.Ug&&d.ln()&&d.Qg&&d.stop());this.ge.Pa===a&&(this.ge.Pa=null)};Ja.Mb=function(){var a={silent:P,masterVolume:K,listenerZ:this.zn,listenerUid:this.ge.iq()?this.ge.Pa.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,h;c=0;for(d=U.length;c<d;c++)e=U[c],!e.dI()||3===this.Kh||e.Lf&&1===this.Kh||!e.Lf&&2===this.Kh||(f=e.Ct(),e.Qg&&(f=f%e.Hj()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Lf,playbackTime:f,volume:e.volume,looping:e.Qg,muted:e.dl,playbackRate:e.playbackRate,
paused:e.Se,resume_position:e.He},e.Ug&&(f.pan={},h=f.pan,e.Bc&&e.Bc.iq()?h.objUid=e.Bc.Pa.uid:(h.x=e.sz,h.y=e.uz,h.a=e.oz),h.ia=e.pz,h.oa=e.qz,h.og=e.rz),b.push(f));b=a.effects;for(g in ia)if(ia.hasOwnProperty(g)){e=[];c=0;for(d=ia[g].length;c<d;c++)e.push({type:ia[g][c].type,params:ia[g][c].ub});b[g]=e}return a};var Ub=[];Ja.Sb=function(a){var b=a.silent;K=a.masterVolume;this.zn=a.listenerZ;this.ge.Il(null);var c=a.listenerUid;-1!==c&&(this.ge.Bq=c,Ub.push(this.ge));var c=a.playing,d,e,f,g,h,D,
C,A,x,w,F;if(3!==this.Kh)for(d=0,e=U.length;d<e;d++)x=U[d],x.Lf&&1===this.Kh||(x.Lf||2!==this.Kh)&&x.stop();for(h in ia)if(ia.hasOwnProperty(h))for(d=0,e=ia[h].length;d<e;d++)ia[h][d].remove();ob(ia);for(h in a.effects)if(a.effects.hasOwnProperty(h))for(D=a.effects[h],d=0,e=D.length;d<e;d++)switch(f=D[d].type,w=D[d].params,f){case "filter":E(h,new l(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "delay":E(h,new m(w[0],w[1],w[2]));break;case "convolve":f=w[2];x=this.Rk(f,!1);x.Db?f=new k(x.Db,w[0],w[1],
f):(f=new k(null,w[0],w[1],f),x.ez=w[0],x.sp=f);E(h,f);break;case "flanger":E(h,new n(w[0],w[1],w[2],w[3],w[4]));break;case "phaser":E(h,new p(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "gain":E(h,new q(w[0]));break;case "tremolo":E(h,new u(w[0],w[1]));break;case "ringmod":E(h,new t(w[0],w[1]));break;case "distortion":E(h,new v(w[0],w[1],w[2],w[3],w[4]));break;case "compressor":E(h,new r(w[0],w[1],w[2],w[3],w[4]));break;case "analyser":E(h,new y(w[0],w[1]))}d=0;for(e=c.length;d<e;d++)3===this.Kh||
(a=c[d],f=a.buffersrc,g=a.is_music,h=a.tag,D=a.playbackTime,C=a.looping,A=a.volume,F=(w=a.pan)&&w.hasOwnProperty("objUid")?w.objUid:-1,g&&1===this.Kh)||!g&&2===this.Kh||((x=this.ut(f,h,g,C,A))?(x.He=a.resume_position,x.Br(!!w),x.play(C,A,D),x.$r(),x.qI(),x.Hp(x.dl||x.nn),a.paused&&x.pause(),a.muted&&x.ZH(),x.Hp(x.dl||x.nn),w&&(-1!==F?(x.Bc=x.Bc||new B,x.Bc.Bq=F,Ub.push(x.Bc)):x.eo(w.x,w.y,w.a,w.ia,w.oa,w.og))):(x=this.Rk(f,g),x.qr=D,x.Xq=a.paused,w&&(-1!==F?x.Ti.push({gz:F,Ym:w.ia,Nn:w.oa,On:w.og,
Rr:h}):x.Ti.push({x:w.x,y:w.y,W:w.a,Ym:w.ia,Nn:w.oa,On:w.og,Rr:h}))));if(b&&!P){d=0;for(e=U.length;d<e;d++)U[d].Vz(!0);P=!0}else if(!b&&P){d=0;for(e=U.length;d<e;d++)U[d].Vz(!1);P=!1}};Ja.zf=function(){var a,b,c,d;a=0;for(b=Ub.length;a<b;a++)c=Ub[a],d=this.i.hg(c.Bq),c.Il(d),c.Bq=-1,d&&(N=d.x,W=d.y);H(Ub)};Ja.qH=function(a){if(!this.uH){!a&&G&&G.resume&&(G.resume(),ha=!1);var b,c;b=0;for(c=U.length;b<c;b++)U[b].aI(a);a&&G&&G.suspend&&(G.suspend(),ha=!0)}};Ja.nb=function(){var a=this.i.ab,b,c,d;b=
0;for(c=U.length;b<c;b++)d=U[b],d.nb(a),0!==M&&d.$r();var e,f;for(e in ia)if(ia.hasOwnProperty(e))for(d=ia[e],b=0,c=d.length;b<c;b++)f=d[b],f.nb&&f.nb();1===T&&this.ge.iq()&&(this.ge.nb(a),N=this.ge.Pa.x,W=this.ge.Pa.y,G.listener.setPosition(this.ge.Pa.x,this.ge.Pa.y,this.zn),G.listener.setVelocity(this.ge.Ft(),this.ge.Gt(),0))};var Vb=[];Ja.$H=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&J||!f&&!J)Vb.push({filename:e,
size:d,Pa:null}),g+=d;return g};Ja.gI=function(){var a,b,c,d;a=0;for(b=Vb.length;a<b;++a)c=Vb[a],d=this.i.Mp+c.filename,c.Pa=this.Rk(d,!1)};Ja.gG=function(){var a=0,b,c,d;b=0;for(c=Vb.length;b<c;++b)d=Vb[b],d.Pa.RG()||d.Pa.FG()||this.i.La||this.i.oq?a+=d.size:d.Pa.my()&&(a+=Math.floor(d.size/2));return a};Ja.LH=function(){var a,b,c,d;c=a=0;for(b=ba.length;a<b;++a)d=ba[a],ba[c]=d,d.Lf?d.KH():++c;ba.length=c};Ja.Rk=function(a,b){var c,d,e,f=null;c=0;for(d=ba.length;c<d;c++)if(e=ba[c],e.src===a){f=e;
break}f||(yb&&b&&this.LH(),f=new D(a,b),ba.push(f));return f};Ja.ut=function(a,b,c,d,e){var f,g,h;f=0;for(g=U.length;f<g;f++)if(h=U[f],h.src===a&&(h.pE()||c))return h.tag=b,h;a=this.Rk(a,c);if(!a.Db)return"<preload>"!==b&&(a.$q=b,a.xu=d,a.Pv=e),null;h=new C(a,b);U.push(h);return h};var Ab=[];A.prototype.Ro=function(a){return Qb(S,a)};w.C=new A;x.prototype.dD=function(b,c,d,e,f,g,h,k,l,m){if(!P){d=a(d);var n=b[1];b=this.i.Mp+b[0]+(J?".ogg":".m4a");(O=this.ut(b,m,n,0!==c,d))?(O.Br(!0),O.eo(e,f,g,h,
k,a(l)),O.play(0!==c,d,0,this.Kq),this.Kq=0):this.Rk(b,n).Ti.push({x:e,y:f,W:g,Ym:h,Nn:k,On:a(l),Rr:m})}};x.prototype.cD=function(b,c,d,e,f,g,h,k){if(!P&&e&&(e=e.Tk())){d=a(d);var l=b[1];b=this.i.Mp+b[0]+(J?".ogg":".m4a");(O=this.ut(b,k,l,0!==c,d))?(O.Br(!0),k=bb(e.x,e.y,-e.P.Zb(),N,W,!0),b=bb(e.x,e.y,-e.P.Zb(),N,W,!1),O.eo(k,b,Qa(e.L-e.P.Zb()),f,g,a(h)),O.Il(e),O.play(0!==c,d,0,this.Kq),this.Kq=0):this.Rk(b,l).Ti.push({Pa:e,Ym:f,Nn:g,On:a(h),Rr:k})}};w.R=new x;w.aa=new function(){}})();
function nd(a){this.i=a}
(function(){function a(){}var c=nd.prototype;c.wa=function(a){this.Ta=a;this.i=a.i};c.wa.prototype.ka=function(){};c.ta=function(a){this.type=a;this.i=a.i};c.ta.prototype.ka=function(){var a=this;window.addEventListener("resize",function(){a.i.trigger(nd.prototype.C.EC,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.i.trigger(nd.prototype.C.zC,a)}),window.addEventListener("offline",function(){a.i.trigger(nd.prototype.C.yC,a)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){a.i.sl=1;a.i.trigger(nd.prototype.C.xs,a)}),window.applicationCache.addEventListener("progress",function(c){a.i.sl=c.loaded/c.total||0}));this.i.Td||(document.addEventListener("appMobi.device.update.available",function(){a.i.trigger(nd.prototype.C.xs,a)}),document.addEventListener("backbutton",function(){a.i.trigger(nd.prototype.C.Qo,a)}),document.addEventListener("menubutton",function(){a.i.trigger(nd.prototype.C.xw,a)}),document.addEventListener("searchbutton",
function(){a.i.trigger(nd.prototype.C.GC,a)}),document.addEventListener("tizenhwkey",function(c){var h;switch(c.keyName){case "back":h=a.i.trigger(nd.prototype.C.Qo,a);!h&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(h=a.i.trigger(nd.prototype.C.xw,a))||c.preventDefault()}}));this.i.cu&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(c){a.i.trigger(nd.prototype.C.Qo,a)&&(c.hq=
!0)}):this.i.bu&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.i.trigger(nd.prototype.C.Qo,a)});this.i.Ks(function(c){c?a.i.trigger(nd.prototype.C.AC,a):a.i.trigger(nd.prototype.C.BC,a)})};a.prototype.zC=function(){return!0};a.prototype.yC=function(){return!0};a.prototype.GB=function(){return"undefined"===typeof window.applicationCache?!1:window.applicationCache.status===window.applicationCache.DOWNLOADING};a.prototype.xs=function(){return!0};a.prototype.BC=function(){return!0};
a.prototype.AC=function(){return!0};a.prototype.EC=function(){return!0};a.prototype.Qo=function(){return!0};a.prototype.xw=function(){return!0};a.prototype.GC=function(){return!0};c.C=new a;c.R=new function(){};c.aa=new function(){}})();function od(a){this.i=a}
(function(){function a(){}function c(){}var b=od.prototype;b.wa=function(a){this.Ta=a;this.i=a.i};b.wa.prototype.ka=function(){};b.ta=function(a){this.type=a;this.i=a.i};var d=b.ta.prototype;d.ka=function(){this.i.La?ka("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.Zk=1===this.S[0],this.hf=document.createElement("input"),this.N=this.Zk?document.createElement("label"):this.hf,this.sn=null,this.hf.type=this.Zk?"checkbox":"button",this.hf.id=this.S[6],
jQuery(this.N).appendTo(this.i.hi?this.i.hi:"body"),this.Zk?(jQuery(this.hf).appendTo(this.N),this.sn=document.createTextNode(this.S[1]),jQuery(this.N).append(this.sn),this.hf.checked=0!==this.S[7],jQuery(this.N).css("font-family","sans-serif"),jQuery(this.N).css("display","inline-block"),jQuery(this.N).css("color","black")):this.hf.value=this.S[1],this.N.title=this.S[2],this.hf.disabled=0===this.S[4],this.vm=0!==this.S[5],this.ye=!1,0===this.S[3]&&(jQuery(this.N).hide(),this.visible=!1,this.ye=!0),
this.hf.onclick=function(a){return function(b){b.stopPropagation();a.i.Fb=!0;a.i.trigger(od.prototype.C.xk,a);a.i.Fb=!1}}(this),this.N.addEventListener("touchstart",function(a){a.stopPropagation()},!1),this.N.addEventListener("touchmove",function(a){a.stopPropagation()},!1),this.N.addEventListener("touchend",function(a){a.stopPropagation()},!1),jQuery(this.N).mousedown(function(a){a.stopPropagation()}),jQuery(this.N).mouseup(function(a){a.stopPropagation()}),jQuery(this.N).keydown(function(a){a.stopPropagation()}),
jQuery(this.N).keyup(function(a){a.stopPropagation()}),this.Ei=this.Fi=this.yi=this.Bi=this.Di=this.Ai=0,this.hj(!0),this.i.Qh(this))};d.Mb=function(){var a={tooltip:this.N.title,disabled:!!this.hf.disabled};this.Zk?(a.checked=!!this.hf.checked,a.text=this.sn.nodeValue):a.text=this.N.value;return a};d.Sb=function(a){this.N.title=a.tooltip;this.hf.disabled=a.disabled;this.Zk?(this.hf.checked=a.checked,this.sn.nodeValue=a.text):this.N.value=a.text};d.je=function(){this.i.La||(jQuery(this.N).remove(),
this.N=null)};d.nb=function(){this.hj()};d.hj=function(a){if(!this.i.La){var b=this.P.kb(this.x,this.y,!0),c=this.P.kb(this.x,this.y,!1),d=this.P.kb(this.x+this.width,this.y+this.height,!0),l=this.P.kb(this.x+this.width,this.y+this.height,!1),m=this.i.width/this.i.devicePixelRatio,k=this.i.height/this.i.devicePixelRatio;!this.visible||!this.P.visible||0>=d||0>=l||b>=m||c>=k?(this.ye||jQuery(this.N).hide(),this.ye=!0):(1>b&&(b=1),1>c&&(c=1),d>=m&&(d=m-1),l>=k&&(l=k-1),m=window.innerWidth,k=window.innerHeight,
a||this.Ai!==b||this.Di!==c||this.Bi!==d||this.yi!==l||this.Fi!==m||this.Ei!==k?(this.Ai=b,this.Di=c,this.Bi=d,this.yi=l,this.Fi=m,this.Ei=k,this.ye&&(jQuery(this.N).show(),this.ye=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,m=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.N).css("position","absolute"),jQuery(this.N).offset({left:a,top:m}),jQuery(this.N).width(Math.round(d-b)),jQuery(this.N).height(Math.round(l-c)),this.vm&&jQuery(this.N).css("font-size",this.P.Ad(!0)/this.i.devicePixelRatio-
.2+"em")):this.ye&&(jQuery(this.N).show(),this.ye=!1))}};d.Sd=function(){};d.wc=function(){};a.prototype.xk=function(){return!0};b.C=new a;c.prototype.Bs=function(a){this.i.La||(this.Zk?this.sn.nodeValue=a:this.N.value=a)};c.prototype.pj=function(a){this.i.La||(this.visible=0!==a)};c.prototype.wf=function(a){this.i.La||(this.hf.disabled=0===a)};b.R=new c;b.aa=new function(){}})();function pd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=pd.prototype;d.wa=function(a){this.Ta=a;this.i=a.i};d.wa.prototype.ka=function(){};d.ta=function(a){this.type=a;this.i=a.i};var h=d.ta.prototype;h.ka=function(){this.xd={};this.Dm=""};h.Mb=function(){return this.xd};h.Sb=function(a){this.xd=a;for(var b in this.xd);};a.prototype.Vv=function(a,b,c){return Yc(this.xd[a],b,c)};a.prototype.sB=function(){var a=this.i.hc().vc,b;for(b in this.xd)this.xd.hasOwnProperty(b)&&(this.Dm=b,this.i.Ih(a.pb),
a.Jh(),this.i.Qf(a.pb));this.Dm="";return!1};a.prototype.zB=function(a){return this.xd.hasOwnProperty(a)};d.C=new a;c.prototype.QA=function(a,b){this.xd[a]=b};c.prototype.gh=function(a,b){this.xd.hasOwnProperty(a)&&(this.xd[a]=b)};c.prototype.kj=function(){ob(this.xd)};c.prototype.bw=function(a){var b;try{b=JSON.parse(a)}catch(c){return}if(b.c2dictionary){this.xd=b.data;for(var d in this.xd);}};d.R=new c;b.prototype.vB=function(a,b){this.xd.hasOwnProperty(b)?a.nk(this.xd[b]):a.Ga(0)};b.prototype.jB=
function(a){a.Hb(this.Dm)};b.prototype.kB=function(a){this.xd.hasOwnProperty(this.Dm)?a.nk(this.xd[this.Dm]):a.Ga(0)};b.prototype.Mo=function(a){a.Hb(JSON.stringify({c2dictionary:!0,data:this.xd}))};d.aa=new b})();function kd(a){this.i=a}
(function(){function a(){this.name="";this.Gl=0;this.ub=[]}function c(){l++;l===g.length&&g.push(new a);return g[l]}function b(){return 0>l?null:g[l]}function d(){}function h(){}function f(){}var e=kd.prototype;e.wa=function(a){this.Ta=a;this.i=a.i};e.wa.prototype.ka=function(){};e.ta=function(a){this.type=a;this.i=a.i};var g=[],l=-1;e.ta.prototype.ka=function(){var a=this;window.c2_callFunction=function(b,d){var e,f,g,h=c();h.name=b.toLowerCase();h.Gl=0;if(d)for(h.ub.length=d.length,e=0,f=d.length;e<
f;++e)g=d[e],h.ub[e]="number"===typeof g||"string"===typeof g?g:"boolean"===typeof g?g?1:0:0;else H(h.ub);a.i.trigger(kd.prototype.C.To,a,h.name);l--;return h.Gl}};d.prototype.To=function(a){var c=b();return c?Qb(a,c.name):!1};d.prototype.cB=function(a,c,d){var e=b();if(!e)return!1;a=ya(a);return 0>a||a>=e.ub.length?!1:Yc(e.ub[a],c,d)};e.C=new d;h.prototype.CallFunction=function(a,b){var d=c();d.name=a.toLowerCase();d.Gl=0;Ia(d.ub,b);this.i.trigger(kd.prototype.C.To,this,d.name);l--};h.prototype.tD=
function(a){var c=b();c&&(c.Gl=a)};e.R=new h;f.prototype.SC=function(a,c){c=ya(c);var d=b();d?0<=c&&c<d.ub.length?a.nk(d.ub[c]):a.Ga(0):a.Ga(0)};f.prototype.XA=function(a,b){var d=c();d.name=b.toLowerCase();d.Gl=0;H(d.ub);var e,f;e=2;for(f=arguments.length;e<f;e++)d.ub.push(arguments[e]);this.i.trigger(kd.prototype.C.To,this,d.name);l--;a.nk(d.Gl)};e.aa=new f})();function qd(a){this.i=a}
(function(){function a(){}function c(){}function b(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";
case 91:return"left window key";case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";
case 114:return"F3";case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
var d=qd.prototype;d.wa=function(a){this.Ta=a;this.i=a.i};d.wa.prototype.ka=function(){};d.ta=function(a){this.type=a;this.i=a.i;this.Rj=Array(256);this.Co=Array(256);this.eh=0};var h=d.ta.prototype;h.ka=function(){var a=this;this.i.La||(jQuery(document).keydown(function(b){a.Ku(b)}),jQuery(document).keyup(function(b){a.Lu(b)}))};var f=[32,33,34,35,36,37,38,39,40,44];h.Ku=function(a){var b=!1;window!=window.top&&-1<f.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());if(this.Rj[a.which])this.Co[a.which]&&
!b&&a.preventDefault();else{this.Rj[a.which]=!0;this.eh=a.which;this.i.Fb=!0;this.i.trigger(qd.prototype.C.dw,this);var c=this.i.trigger(qd.prototype.C.qw,this),d=this.i.trigger(qd.prototype.C.vC,this);this.i.Fb=!1;if(c||d)this.Co[a.which]=!0,b||a.preventDefault()}};h.Lu=function(a){this.Rj[a.which]=!1;this.eh=a.which;this.i.Fb=!0;this.i.trigger(qd.prototype.C.rs,this);var b=this.i.trigger(qd.prototype.C.sw,this),c=this.i.trigger(qd.prototype.C.rw,this);this.i.Fb=!1;if(b||c||this.Co[a.which])this.Co[a.which]=
!0,a.preventDefault()};h.fk=function(){var a;for(a=0;256>a;++a)if(this.Rj[a]){this.Rj[a]=!1;this.eh=a;this.i.trigger(qd.prototype.C.rs,this);var b=this.i.trigger(qd.prototype.C.sw,this),c=this.i.trigger(qd.prototype.C.rw,this);if(b||c)this.Co[a]=!0}};h.Mb=function(){return{triggerKey:this.eh}};h.Sb=function(a){this.eh=a.triggerKey};a.prototype.qw=function(a){return a===this.eh};a.prototype.dw=function(){return!0};a.prototype.rs=function(){return!0};a.prototype.sw=function(a){return a===this.eh};a.prototype.KB=
function(a){a=Math.floor(a);return 0>a||a>=this.Rj.length?!1:this.Rj[a]};a.prototype.vC=function(a){return a===this.eh};a.prototype.rw=function(a){return a===this.eh};d.C=new a;d.R=new function(){};c.prototype.TB=function(a){a.Ga(this.eh)};c.prototype.MD=function(a,c){a.Hb(b(c))};d.aa=new c})();function rd(a){this.i=a}
(function(){function a(){}function c(){}var b=rd.prototype;b.wa=function(a){this.Ta=a;this.i=a.i};b.wa.prototype.ka=function(){};b.ta=function(a){this.type=a;this.i=a.i};var d=b.ta.prototype;d.ka=function(){if(this.i.La)ka("[Construct 2] List plugin not supported on this platform - the object will not be created");else{this.N=document.createElement("select");this.N.id=this.S[7];jQuery(this.N).appendTo(this.i.hi?this.i.hi:"body");this.N.title=this.S[1];this.N.disabled=0===this.S[3];0===this.S[4]&&
(this.N.size=2);this.N.multiple=0!==this.S[5];this.vm=0!==this.S[6];0===this.S[2]&&(jQuery(this.N).hide(),this.visible=!1);if(this.S[0]){var a=this.S[0].split(";"),b,c,d;b=0;for(c=a.length;b<c;b++)d=document.createElement("option"),d.text=a[b],this.N.add(d)}var l=this;this.N.onchange=function(){l.i.trigger(rd.prototype.C.HC,l)};this.N.onclick=function(a){a.stopPropagation();l.i.Fb=!0;l.i.trigger(rd.prototype.C.xk,l);l.i.Fb=!1};this.N.ondblclick=function(a){a.stopPropagation();l.i.Fb=!0;l.i.trigger(rd.prototype.C.ts,
l);l.i.Fb=!1};this.N.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.N.addEventListener("touchmove",function(a){a.stopPropagation()},!1);this.N.addEventListener("touchend",function(a){a.stopPropagation()},!1);jQuery(this.N).mousedown(function(a){a.stopPropagation()});jQuery(this.N).mouseup(function(a){a.stopPropagation()});this.Ei=this.Fi=this.yi=this.Bi=this.Di=this.Ai=0;this.al=!0;this.hj(!0);this.i.Qh(this)}};d.Mb=function(){var a={tooltip:this.N.title,disabled:!!this.N.disabled,
items:[],sel:[]},b,c,d=a.items;b=0;for(c=this.N.length;b<c;b++)d.push(this.N.options[b].text);d=a.sel;if(this.N.multiple)for(b=0,c=this.N.length;b<c;b++)this.N.options[b].selected&&d.push(b);else d.push(this.N.selectedIndex);return a};d.Sb=function(a){this.N.title=a.tooltip;this.N.disabled=a.disabled;for(var b=a.items;this.N.length;)this.N.remove(this.N.length-1);var c,d,l;c=0;for(d=b.length;c<d;c++)l=document.createElement("option"),l.text=b[c],this.N.add(l);a=a.sel;if(this.N.multiple)for(c=0,d=
a.length;c<d;c++)a[c]<this.N.length&&(this.N.options[a[c]].selected=!0);else 1<=a.length&&(this.N.selectedIndex=a[0])};d.je=function(){this.i.La||(jQuery(this.N).remove(),this.N=null)};d.nb=function(){this.hj()};d.hj=function(a){if(!this.i.La){var b=this.P.kb(this.x,this.y,!0),c=this.P.kb(this.x,this.y,!1),d=this.P.kb(this.x+this.width,this.y+this.height,!0),l=this.P.kb(this.x+this.width,this.y+this.height,!1),m=this.i.width/this.i.devicePixelRatio,k=this.i.height/this.i.devicePixelRatio;!this.visible||
!this.P.visible||0>=d||0>=l||b>=m||c>=k?(this.al&&jQuery(this.N).hide(),this.al=!1):(1>b&&(b=1),1>c&&(c=1),d>=m&&(d=m-1),l>=k&&(l=k-1),m=window.innerWidth,k=window.innerHeight,a||this.Ai!==b||this.Di!==c||this.Bi!==d||this.yi!==l||this.Fi!==m||this.Ei!==k?(this.Ai=b,this.Di=c,this.Bi=d,this.yi=l,this.Fi=m,this.Ei=k,this.al||(jQuery(this.N).show(),this.al=!0),a=Math.round(b)+jQuery(this.i.canvas).offset().left,m=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.N).css("position","absolute"),
jQuery(this.N).offset({left:a,top:m}),jQuery(this.N).width(Math.round(d-b)),jQuery(this.N).height(Math.round(l-c)),this.vm&&jQuery(this.N).css("font-size",this.P.Ad(!0)/this.i.devicePixelRatio-.2+"em")):this.al||(jQuery(this.N).show(),this.al=!0))}};d.Sd=function(){};d.wc=function(){};a.prototype.HC=function(){return!0};a.prototype.xk=function(){return!0};a.prototype.ts=function(){return!0};b.C=new a;c.prototype.pj=function(a){this.i.La||(this.visible=0!==a)};c.prototype.wf=function(a){this.i.La||
(this.N.disabled=0===a)};c.prototype.kj=function(){this.i.La||(this.N.innerHTML="")};b.R=new c;b.aa=new function(){}})();var Cd=!1;
try{!function(){var a,c,b;!function(){var d={},h={};a=function(a,b,c){d[a]={AE:b,oE:c}};b=c=function(a){function e(b){if("."!==b.charAt(0))return b;b=b.split("/");for(var c=a.split("/").slice(0,-1),d=0,e=b.length;e>d;d++){var g=b[d];".."===g?c.pop():"."!==g&&c.push(g)}return c.join("/")}if(b.iJ=d,h[a])return h[a];if(h[a]={},!d[a])throw Error("Could not find module "+a);for(var g,l=d[a],m=l.AE,l=l.oE,k=[],n=0,p=m.length;p>n;n++)"exports"===m[n]?k.push(g={}):k.push(c(e(m[n])));m=l.apply(this,k);return h[a]=
g||m}}();a("promise/all",["./utils","exports"],function(a,b){var c=a.isArray,e=a.isFunction;b.all=function(a){if(!c(a))throw new TypeError("You must pass an array to all.");return new this(function(b,c){function d(a){return function(c){h[a]=c;0===--q&&b(h)}}var f,h=[],q=a.length;0===q&&b([]);for(var u=0;u<a.length;u++)(f=a[u])&&e(f.then)?f.then(d(u),c):(h[u]=f,0===--q&&b(h))})}});a("promise/asap",["exports"],function(a){function b(){return function(){process.vJ(g)}}function c(){var a=0,b=new k(g),
d=document.createTextNode("");return b.observe(d,{characterData:!0}),function(){d.data=a=++a%2}}function e(){return function(){n.setTimeout(g,1)}}function g(){for(var a=0;a<p.length;a++){var b=p[a];(0,b[0])(b[1])}p=[]}var l,m="undefined"!=typeof window?window:{},k=m.MutationObserver||m.WebKitMutationObserver,n="undefined"!=typeof global?global:void 0===this?window:this,p=[];l="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():k?c():e();a.iE=function(a,b){1===p.push([a,
b])&&l()}});a("promise/config",["exports"],function(a){var b={oJ:!1};a.qx=b;a.sE=function(a,c){return 2!==arguments.length?b[a]:void(b[a]=c)}});a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){var e=a.Promise,g=b.isFunction;c.wH=function(){var a;a="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=
a}),g(b)}()||(a.Promise=e)}});a("promise/promise","./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "),function(a,b,c,e,g,l,m,k){function n(a){if(!x(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof n))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.Yo=[];p(a,this)}function p(a,b){function c(a){r(b,
a)}function d(a){B(b,a)}try{a(c,d)}catch(e){d(e)}}function q(a,b,c,d){var e,f,g,h,k=x(c);if(k)try{e=c(d),g=!0}catch(l){h=!0,f=l}else e=d,g=!0;v(b,e)||(k&&g?r(b,e):h?B(b,f):a===I?r(b,e):a===S&&B(b,e))}function u(a,b,c,d){a=a.Yo;var e=a.length;a[e]=b;a[e+I]=c;a[e+S]=d}function t(a,b){for(var c,d,e=a.Yo,f=a.Xo,g=0;g<e.length;g+=3)c=e[g],d=e[g+b],q(b,c,d,f);a.Yo=null}function v(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(A(b)&&(d=b.then,
x(d)))return d.call(b,function(d){return c?!0:(c=!0,void(b!==d?r(a,d):y(a,d)))},function(b){return c?!0:(c=!0,void B(a,b))}),!0}catch(e){return c?!0:(B(a,e),!0)}return!1}function r(a,b){a===b?y(a,b):v(a,b)||y(a,b)}function y(a,b){a.ih===w&&(a.ih=F,a.Xo=b,E.async(D,a))}function B(a,b){a.ih===w&&(a.ih=F,a.Xo=b,E.async(C,a))}function D(a){t(a,a.ih=I)}function C(a){t(a,a.ih=S)}var E=a.qx,A=(a.sE,b.jH),x=b.isFunction;a=(b.now,c.all);e=e.race;g=g.resolve;l=l.reject;E.async=m.iE;var w=void 0,F=0,I=1,S=2;
n.prototype={constructor:n,ih:void 0,Xo:void 0,Yo:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this.ih){var e=arguments;E.async(function(){q(c.ih,d,e[c.ih-1],c.Xo)})}else u(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}};n.all=a;n.race=e;n.resolve=g;n.reject=l;k.Promise=n});a("promise/race",["./utils","exports"],function(a,b){var c=a.isArray;b.race=function(a){if(!c(a))throw new TypeError("You must pass an array to race.");return new this(function(b,
c){for(var d,f=0;f<a.length;f++)(d=a[f])&&"function"==typeof d.then?d.then(b,c):b(d)})}});a("promise/reject",["exports"],function(a){a.reject=function(a){return new this(function(b,c){c(a)})}});a("promise/resolve",["exports"],function(a){a.resolve=function(a){return a&&"object"==typeof a&&a.constructor===this?a:new this(function(b){b(a)})}});a("promise/utils",["exports"],function(a){function b(a){return"function"==typeof a}var c=Date.now||function(){return(new Date).getTime()};a.jH=function(a){return b(a)||
"object"==typeof a&&null!==a};a.isFunction=b;a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.now=c});c("promise/polyfill").wH()}();var Dd=function(){return function(a){function c(d){if(b[d])return b[d].Jg;var h=b[d]={Jg:{},id:d,loaded:!1};return a[d].call(h.Jg,h,h.Jg,c),h.loaded=!0,h.Jg}var b={};return c.j=a,c.I=b,c.k="",c(0)}([function(a,c,b){c.Wo=!0;var d=function(a){function c(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,
c)})}}function d(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(q(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function g(a){for(var b in m)if(m.hasOwnProperty(b)&&m[b]===a)return!0;return!1}var l={},m={fm:"asyncStorage",gm:"localStorageWrapper",lm:"webSQLStorage"},k="clear getItem iterate key keys length removeItem setItem".split(" "),n={description:"",Mk:[m.fm,m.lm,m.gm].slice(),name:"localforage",size:4980736,Nb:"keyvaluepairs",
version:1},p=function(a){var b={},c;try{var d=d||a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.B||a.msIndexedDB;c="undefined"!=typeof a.openDatabase&&a.navigator&&a.navigator.userAgent&&/Safari/.test(a.navigator.userAgent)&&!/Chrome/.test(a.navigator.userAgent)?!1:d&&"function"==typeof d.open&&"undefined"!=typeof a.IDBKeyRange}catch(e){c=!1}b[m.fm]=!!c;var f;try{f=a.openDatabase}catch(g){f=!1}b[m.lm]=!!f;var h;try{h=a.localStorage&&"setItem"in a.localStorage&&a.localStorage.setItem}catch(k){h=
!1}return b[m.gm]=!!h,b}(a),q=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return new (function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.fm=m.fm;this.gm=m.gm;this.lm=m.lm;this.Gs=d({},n);this.qj=d({},this.Gs,b);this.Qw=this.Dg=null;this.ai=!1;this.Kb=null;this.Rw();this.Rz(this.qj.Mk)}return a.prototype.qx=function(a){if("object"==typeof a){if(this.ai)return Error("Can't call config() after localforage has been used.");
for(var b in a)"storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),this.qj[b]=a[b];return"driver"in a&&a.Mk&&this.Rz(this.qj.Mk),!0}return"string"==typeof a?this.qj[a]:this.qj},a.prototype.Mk=function(){return this.pm||null},a.prototype.Tx=function(a,c,d){var e=this,f=function(){if(g(a))switch(a){case e.fm:return new Promise(function(a){a(b(1))});case e.gm:return new Promise(function(a){a(b(2))});case e.lm:return new Promise(function(a){a(b(4))})}else if(l[a])return Promise.resolve(l[a]);return Promise.reject(Error("Driver not found."))}();
return f.then(c,d),f},a.prototype.ready=function(a){var b=this,c=b.Dg.then(function(){return null===b.ai&&(b.ai=b.Qw()),b.ai});return c.then(a,a),c},a.prototype.Rz=function(a,b,c){function d(){f.qj.Mk=f.Mk()}function e(a){return function(){function b(){for(;c<a.length;){var e=a[c];return c++,f.Kb=null,f.ai=null,f.Tx(e).then(function(a){return f.ZD(a),d(),f.ai=f.Is(f.qj),f.ai})["catch"](b)}d();return f.Dg=Promise.reject(Error("No available storage method found.")),f.Dg}var c=0;return b()}}var f=this;
q(a)||(a=[a]);var g=this.$D(a);return this.Dg=(null!==this.Dg?this.Dg["catch"](function(){return Promise.resolve()}):Promise.resolve()).then(function(){var a=g[0];return f.Kb=null,f.ai=null,f.Tx(a).then(function(a){f.pm=a.pm;d();f.Rw();f.Qw=e(g)})})["catch"](function(){d();return f.Dg=Promise.reject(Error("No available storage method found.")),f.Dg}),this.Dg.then(b,c),this.Dg},a.prototype.supports=function(a){return!!p[a]},a.prototype.ZD=function(a){d(this,a)},a.prototype.$D=function(a){for(var b=
[],c=0,d=a.length;d>c;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype.Rw=function(){for(var a=0;a<k.length;a++)c(this,k[a])},a.prototype.zm=function(b){return new a(b)},a}())}("undefined"!=typeof window?window:self);c["default"]=d;a.Jg=c["default"]},function(a,c){c.Wo=!0;c["default"]=function(a){function c(d,e){d=d||[];e=e||{};try{return new Blob(d,e)}catch(f){if("TypeError"!==f.name)throw f;for(var g=new (a.BlobBuilder||a.j||a.k||a.WebKitBlobBuilder),h=0;h<d.length;h+=1)g.append(d[h]);
return g.getBlob(e.type)}}function h(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.withCredentials=!0;d.responseType="arraybuffer";d.onreadystatechange=function(){return 4===d.readyState?200===d.status?b({response:d.response,type:d.getResponseHeader("Content-Type")}):void c({status:d.status,response:d.response}):void 0};d.send()})}function f(a){return(new Promise(function(b,e){var f=c([""],{type:"image/png"}),g=a.transaction([w],"readwrite");g.objectStore(w).put(f,
"key");g.oncomplete=function(){var c=a.transaction([w],"readwrite").objectStore(w).get("key");c.onerror=e;c.onsuccess=function(a){var c=URL.createObjectURL(a.target.result);h(c).then(function(a){b(!(!a||"image/png"!==a.type))},function(){b(!1)}).then(function(){URL.revokeObjectURL(c)})}};g.onerror=g.onabort=e}))["catch"](function(){return!1})}function e(a){return"boolean"==typeof A?Promise.resolve(A):f(a).then(function(a){return A=a})}function g(a){return new Promise(function(b,c){var d=new FileReader;
d.onerror=c;d.onloadend=function(c){b({Pw:!0,data:btoa(c.target.result||""),type:a.type})};d.readAsBinaryString(a)})}function l(a){for(var b=atob(a.data),e=b.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=0;e>h;h++)g[h]=b.charCodeAt(h);return c([f],{type:a.type})}function m(a){var b=this,c=b.Hs().then(function(){var a=x[b.Kb.name];return a&&a.Ik?a.Ik:void 0});return c.then(a,a),c}function k(a){a=x[a.name];var b={};b.promise=new Promise(function(a){b.resolve=a});a.xx.push(b);a.Ik?a.Ik=a.Ik.then(function(){return b.promise}):
a.Ik=b.promise}function n(c){function d(){return Promise.resolve()}var e=this,f={db:null};if(c)for(var g in c)f[g]=c[g];x||(x={});var h=x[f.name];h||(h={Up:[],db:null,Ik:null,xx:[]},x[f.name]=h);h.Up.push(e);e.Hs||(e.Hs=e.ready,e.ready=m);c=[];for(g=0;g<h.Up.length;g++){var k=h.Up[g];k!==e&&c.push(k.Hs()["catch"](d))}var l=h.Up.slice(0);return Promise.all(c).then(function(){return f.db=h.db,p(f,!1)}).then(function(c){f.db=c;var d;d=e.Gs.version;if(f.db){var g=!f.db.objectStoreNames.contains(f.Nb),
h=f.version>f.db.version;(f.version<f.db.version&&(f.version!==d&&a.console.warn('The database "'+f.name+"\" can't be downgraded from version "+f.db.version+" to version "+f.version+"."),f.version=f.db.version),h||g)?(g&&(d=f.db.version+1,d>f.version&&(f.version=d)),d=!0):d=!1}else d=!0;return d?p(f,!0):c}).then(function(a){f.db=h.db=a;e.Kb=f;for(a=0;a<l.length;a++){var b=l[a];b!==e&&(b.Kb.db=f.db,b.Kb.version=f.version)}})}function p(c,d){return new Promise(function(e,f){if(c.db){if(!d)return e(c.db);
k(c);c.db.close()}var g=[c.name];d&&g.push(c.version);var h=E.open.apply(E,g);d&&(h.onupgradeneeded=function(d){var e=h.result;try{e.createObjectStore(c.Nb),1>=d.oldVersion&&e.createObjectStore(w)}catch(f){if("ConstraintError"!==f.name)throw f;a.console.warn('The database "'+c.name+'" has been upgraded from version '+d.oldVersion+" to version "+d.newVersion+', but the storage "'+c.Nb+'" already exists.')}});h.onerror=function(){f(h.error)};h.onsuccess=function(){e(h.result);var a=x[c.name].xx.pop();
a&&a.resolve()}})}function q(c,d){var e=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var f=new Promise(function(a,b){e.ready().then(function(){var d=e.Kb,f=d.db.transaction(d.Nb,"readonly").objectStore(d.Nb).get(c);f.onsuccess=function(){var b=f.result;void 0===b&&(b=null);b&&b.Pw&&(b=l(b));a(b)};f.onerror=function(){b(f.error)}})["catch"](b)});return C(f,d),f}function u(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var e=
c.Kb,f=e.db.transaction(e.Nb,"readonly").objectStore(e.Nb).openCursor(),g=1;f.onsuccess=function(){var c=f.result;if(c){var d=c.value;d&&d.Pw&&(d=l(d));d=a(d,c.key,g++);void 0!==d?b(d):c["continue"]()}else b()};f.onerror=function(){d(f.error)}})["catch"](d)});return C(d,b),d}function t(c,d,f){var h=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var k=new Promise(function(a,b){var f;h.ready().then(function(){return f=h.Kb,d instanceof Blob?e(f.db).then(function(a){return a?
d:g(d)}):d}).then(function(d){var e=f.db.transaction(f.Nb,"readwrite"),g=e.objectStore(f.Nb);null===d&&(d=void 0);e.oncomplete=function(){void 0===d&&(d=null);a(d)};e.onabort=e.onerror=function(){b(h.error?h.error:h.transaction.error)};var h=g.put(d,c)})["catch"](b)});return C(k,f),k}function v(c,d){var e=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var f=new Promise(function(a,b){e.ready().then(function(){var d=e.Kb,f=d.db.transaction(d.Nb,"readwrite"),
g=f.objectStore(d.Nb)["delete"](c);f.oncomplete=function(){a()};f.onerror=function(){b(g.error)};f.onabort=function(){b(g.error?g.error:g.transaction.error)}})["catch"](b)});return C(f,d),f}function r(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Kb,e=d.db.transaction(d.Nb,"readwrite"),f=e.objectStore(d.Nb).clear();e.oncomplete=function(){a()};e.onabort=e.onerror=function(){c(f.error?f.error:f.transaction.error)}})["catch"](c)});return C(c,a),c}function y(a){var b=this,
c=new Promise(function(a,c){b.ready().then(function(){var d=b.Kb,e=d.db.transaction(d.Nb,"readonly").objectStore(d.Nb).count();e.onsuccess=function(){a(e.result)};e.onerror=function(){c(e.error)}})["catch"](c)});return C(c,a),c}function B(a,b){var c=this,d=new Promise(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c.Kb,f=!1,g=e.db.transaction(e.Nb,"readonly").objectStore(e.Nb).openCursor();g.onsuccess=function(){var c=g.result;return c?void(0===a?b(c.key):f?b(c.key):(f=
!0,c.advance(a))):void b(null)};g.onerror=function(){d(g.error)}})["catch"](d)});return C(d,b),d}function D(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Kb,e=d.db.transaction(d.Nb,"readonly").objectStore(d.Nb).openCursor(),f=[];e.onsuccess=function(){var b=e.result;return b?(f.push(b.key),void b["continue"]()):void a(f)};e.onerror=function(){c(e.error)}})["catch"](c)});return C(c,a),c}function C(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var E=E||a.indexedDB||
a.webkitIndexedDB||a.mozIndexedDB||a.B||a.msIndexedDB;if(E){var A,x,w="local-forage-detect-blob-support";return{pm:"asyncStorage",Is:n,xy:u,getItem:q,setItem:t,removeItem:v,clear:r,length:y,key:B,keys:D}}}("undefined"!=typeof window?window:self);a.Jg=c["default"]},function(a,c,b){c.Wo=!0;c["default"]=function(a){function c(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var f=null;try{if(!(a.localStorage&&"setItem"in a.localStorage))return;f=a.localStorage}catch(e){return}return{pm:"localStorageWrapper",
Is:function(a){var c={};if(a)for(var d in a)c[d]=a[d];return c.Pg=c.name+"/",c.Nb!==this.Gs.Nb&&(c.Pg+=c.Nb+"/"),this.Kb=c,(new Promise(function(a){a(b(3))})).then(function(a){return c.lk=a,Promise.resolve()})},xy:function(a,b){var d=this,e=d.ready().then(function(){for(var b=d.Kb,c=b.Pg,e=c.length,h=f.length,k=1,l=0;h>l;l++){var r=f.key(l);if(0===r.indexOf(c)){var y=f.getItem(r);if(y&&(y=b.lk.Ep(y)),y=a(y,r.substring(e),k++),void 0!==y)return y}}});return c(e,b),e},getItem:function(b,e){var m=this;
"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var k=m.ready().then(function(){var a=m.Kb,c=f.getItem(a.Pg+b);return c&&(c=a.lk.Ep(c)),c});return c(k,e),k},setItem:function(b,e,m){var k=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var n=k.ready().then(function(){void 0===e&&(e=null);var a=e;return new Promise(function(c,d){var h=k.Kb;h.lk.serialize(e,function(e,k){if(k)d(k);else try{f.setItem(h.Pg+
b,e),c(a)}catch(l){"QuotaExceededError"!==l.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==l.name||d(l),d(l)}})})});return c(n,m),n},removeItem:function(b,e){var m=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var k=m.ready().then(function(){f.removeItem(m.Kb.Pg+b)});return c(k,e),k},clear:function(a){var b=this,d=b.ready().then(function(){for(var a=b.Kb.Pg,c=f.length-1;0<=c;c--){var d=f.key(c);0===d.indexOf(a)&&f.removeItem(d)}});return c(d,a),d},length:function(a){var b=
this.keys().then(function(a){return a.length});return c(b,a),b},key:function(a,b){var d=this,e=d.ready().then(function(){var b,c=d.Kb;try{b=f.key(a)}catch(e){b=null}return b&&(b=b.substring(c.Pg.length)),b});return c(e,b),e},keys:function(a){var b=this,d=b.ready().then(function(){for(var a=b.Kb,c=f.length,d=[],e=0;c>e;e++)0===f.key(e).indexOf(a.Pg)&&d.push(f.key(e).substring(a.Pg.length));return d});return c(d,a),d}}}("undefined"!=typeof window?window:self);a.Jg=c["default"]},function(a,c){c.Wo=!0;
c["default"]=function(a){function c(a){var b,d,e,h,p;b=.75*a.length;var q=a.length,u=0;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);var t=new ArrayBuffer(b),v=new Uint8Array(t);for(b=0;q>b;b+=4)d=f.indexOf(a[b]),e=f.indexOf(a[b+1]),h=f.indexOf(a[b+2]),p=f.indexOf(a[b+3]),v[u++]=d<<2|e>>4,v[u++]=(15&e)<<4|h>>2,v[u++]=(3&h)<<6|63&p;return t}function h(a){var b=new Uint8Array(a),c="";for(a=0;a<b.length;a+=3)c+=f[b[a]>>2],c+=f[(3&b[a])<<4|b[a+1]>>4],c+=f[(15&b[a+1])<<2|b[a+2]>>6],c+=f[63&b[a+2]];
return 2===b.length%3?c=c.substring(0,c.length-1)+"=":1===b.length%3&&(c=c.substring(0,c.length-2)+"=="),c}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=/^~~local_forage_type~([^~]+)~/;return{serialize:function(a,b){var c="";if(a&&(c=a.toString()),a&&("[object ArrayBuffer]"===a.toString()||a.buffer&&"[object ArrayBuffer]"===a.buffer.toString())){var d,e="__lfsc__:";a instanceof ArrayBuffer?(d=a,e+="arbf"):(d=a.buffer,"[object Int8Array]"===c?e+="si08":"[object Uint8Array]"===
c?e+="ui08":"[object Uint8ClampedArray]"===c?e+="uic8":"[object Int16Array]"===c?e+="si16":"[object Uint16Array]"===c?e+="ur16":"[object Int32Array]"===c?e+="si32":"[object Uint32Array]"===c?e+="ui32":"[object Float32Array]"===c?e+="fl32":"[object Float64Array]"===c?e+="fl64":b(Error("Failed to get type for BinaryArray")));b(e+h(d))}else if("[object Blob]"===c)c=new FileReader,c.onload=function(){var c="~~local_forage_type~"+a.type+"~"+h(this.result);b("__lfsc__:blob"+c)},c.readAsArrayBuffer(a);else try{b(JSON.stringify(a))}catch(f){console.error("Couldn't convert value into a JSON string: ",
a),b(null,f)}},Ep:function(f){if("__lfsc__:"!==f.substring(0,9))return JSON.parse(f);var h,m=f.substring(13);f=f.substring(9,13);if("blob"===f&&e.test(m)){var k=m.match(e);h=k[1];m=m.substring(k[0].length)}m=c(m);switch(f){case "arbf":return m;case "blob":var n;m=[m];h={type:h};m=m||[];h=h||{};try{n=new Blob(m,h)}catch(p){if("TypeError"!==p.name)throw p;n=new (a.BlobBuilder||a.j||a.k||a.WebKitBlobBuilder);for(f=0;f<m.length;f+=1)n.append(m[f]);n=n.getBlob(h.type)}return n;case "si08":return new Int8Array(m);
case "ui08":return new Uint8Array(m);case "uic8":return new Uint8ClampedArray(m);case "si16":return new Int16Array(m);case "ur16":return new Uint16Array(m);case "si32":return new Int32Array(m);case "ui32":return new Uint32Array(m);case "fl32":return new Float32Array(m);case "fl64":return new Float64Array(m);default:throw Error("Unkown type: "+f);}},AJ:c,kJ:h}}("undefined"!=typeof window?window:self);a.Jg=c["default"]},function(a,c,b){c.Wo=!0;c["default"]=function(a){function c(a){var d=this,e={db:null};
if(a)for(var f in a)e[f]="string"!=typeof a[f]?a[f].toString():a[f];var g=new Promise(function(a,b){try{e.db=u(e.name,String(e.version),e.description,e.size)}catch(c){return b(c)}e.db.transaction(function(c){c.executeSql("CREATE TABLE IF NOT EXISTS "+e.Nb+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){d.Kb=e;a()},function(a,c){b(c)})})});return(new Promise(function(a){a(b(3))})).then(function(a){return e.lk=a,g})}function f(b,c){var e=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),
b=String(b));var f=new Promise(function(a,c){e.ready().then(function(){var d=e.Kb;d.db.transaction(function(e){e.executeSql("SELECT * FROM "+d.Nb+" WHERE key = ? LIMIT 1",[b],function(b,c){var e=c.rows.length?c.rows.item(0).value:null;e&&(e=d.lk.Ep(e));a(e)},function(a,b){c(b)})})})["catch"](c)});return q(f,c),f}function e(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var e=c.Kb;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.Nb,[],function(c,d){for(var f=d.rows,
g=f.length,h=0;g>h;h++){var k=f.item(h),l=k.value;if(l&&(l=e.lk.Ep(l)),l=a(l,k.key,h+1),void 0!==l)return void b(l)}b()},function(a,b){d(b)})})})["catch"](d)});return q(d,b),d}function g(b,c,e){var f=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var g=new Promise(function(a,d){f.ready().then(function(){void 0===c&&(c=null);var e=c,g=f.Kb;g.lk.serialize(c,function(c,f){f?d(f):g.db.transaction(function(f){f.executeSql("INSERT OR REPLACE INTO "+g.Nb+
" (key, value) VALUES (?, ?)",[b,c],function(){a(e)},function(a,b){d(b)})},function(a){a.code===a.QUOTA_ERR&&d(a)})})})["catch"](d)});return q(g,e),g}function l(b,c){var e=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var f=new Promise(function(a,c){e.ready().then(function(){var d=e.Kb;d.db.transaction(function(e){e.executeSql("DELETE FROM "+d.Nb+" WHERE key = ?",[b],function(){a()},function(a,b){c(b)})})})["catch"](c)});return q(f,c),f}function m(a){var b=
this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Kb;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.Nb,[],function(){a()},function(a,b){c(b)})})})["catch"](c)});return q(c,a),c}function k(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Kb;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.Nb,[],function(b,c){var d=c.rows.item(0).I;a(d)},function(a,b){c(b)})})})["catch"](c)});return q(c,a),c}function n(a,b){var c=this,
d=new Promise(function(b,d){c.ready().then(function(){var e=c.Kb;e.db.transaction(function(c){c.executeSql("SELECT key FROM "+e.Nb+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})["catch"](d)});return q(d,b),d}function p(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Kb;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.Nb,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);
a(d)},function(a,b){c(b)})})})["catch"](c)});return q(c,a),c}function q(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var u=a.openDatabase;if(u)return{pm:"webSQLStorage",Is:c,xy:e,getItem:f,setItem:g,removeItem:l,clear:m,length:k,key:n,keys:p}}("undefined"!=typeof window?window:self);a.Jg=c["default"]}])};"object"==typeof exports&&"object"==typeof module?module.Jg=Dd():"function"==typeof define&&define.jJ?define([],Dd):"object"==typeof exports?exports.localforage=Dd():this.localforage=
Dd()}catch(Ed){Cd=!0}function Fd(a){this.i=a}
(function(){function a(a){a.i.trigger(Fd.prototype.C.So,a)}function c(){}function b(){}function d(){}var h="",f="",e="";"undefined"!==typeof window.is_scirra_arcade&&(e="sa"+window.scirra_arcade_id+"_");var g=Fd.prototype;g.wa=function(a){this.Ta=a;this.i=a.i};g.wa.prototype.ka=function(){};g.ta=function(a){this.type=a;this.i=a.i};var l=g.ta.prototype;l.ka=function(){this.Uu=this.Vu=0};l.je=function(){};l.Mb=function(){return{}};l.Sb=function(){};c.prototype.uC=function(a){return h===a};c.prototype.gC=
function(){return!0};c.prototype.mw=function(a){return h===a};c.prototype.fC=function(){return!0};c.prototype.So=function(){return!0};c.prototype.lw=function(a){return h===a};c.prototype.ow=function(a){return h===a};c.prototype.Vv=function(a,b){return Yc(f,a,b)};c.prototype.$B=function(){return!0};c.prototype.ZB=function(){return!0};g.C=new c;b.prototype.qD=function(b,c){if(Cd)a(this);else{var d=e+b;this.Vu++;var g=this;localforage.setItem(d,c,function(a,c){g.Vu--;a?g.i.trigger(Fd.prototype.C.So,
g):(h=b,f=c,g.i.trigger(Fd.prototype.C.gC,g),g.i.trigger(Fd.prototype.C.uC,g),f=h="");0===g.Vu&&g.i.trigger(Fd.prototype.C.$B,g)})}};b.prototype.wB=function(b){if(Cd)a(this);else{var c=e+b;this.Uu++;var d=this;localforage.getItem(c,function(a,c){d.Uu--;if(a)d.i.trigger(Fd.prototype.C.So,d);else{h=b;f=c;if("undefined"===typeof f||null===f)f="";d.i.trigger(Fd.prototype.C.fC,d);d.i.trigger(Fd.prototype.C.mw,d);f=h=""}0===d.Uu&&d.i.trigger(Fd.prototype.C.ZB,d)})}};b.prototype.YA=function(b){if(Cd)a(this);
else{var c=this;localforage.getItem(e+b,function(a,d){a?c.i.trigger(Fd.prototype.C.So,c):(h=b,null===d?(f="",c.i.trigger(Fd.prototype.C.ow,c)):(f=d,c.i.trigger(Fd.prototype.C.lw,c)),f=h="")})}};g.R=new b;d.prototype.QB=function(a){a.nk(f)};g.aa=new d})();function Gd(a){this.i=a}
(function(){function a(){}function c(){}var b=Gd.prototype;b.wa=function(a){this.Ta=a;this.i=a.i};b.wa.prototype.ka=function(){};b.ta=function(a){this.type=a;this.i=a.i;this.Rs=Array(4);this.vA=this.Vr=this.Ql=this.Ri=this.Qi=0;this.hq=!1};var d=b.ta.prototype;d.ka=function(){var a=this;if(!this.i.La){jQuery(document).mousemove(function(b){a.Nu(b)});jQuery(document).mousedown(function(b){a.Mu(b)});jQuery(document).mouseup(function(b){a.Ou(b)});jQuery(document).dblclick(function(b){a.oH(b)});var b=
function(b){a.rH(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var h={left:0,top:0};d.Nu=function(a){var b=this.i.La?h:jQuery(this.i.canvas).offset();this.Qi=a.pageX-b.left;this.Ri=a.pageY-b.top};d.Zy=function(){return 0<this.i.ee?!0:0<=this.Qi&&0<=this.Ri&&this.Qi<this.i.width&&this.Ri<this.i.height};d.Mu=function(a){this.Zy()&&(this.Rs[a.which]=!0,this.i.Fb=!0,this.i.trigger(Gd.prototype.C.eC,this),this.Ql=a.which-1,this.Vr=0,this.i.trigger(Gd.prototype.C.gw,
this),this.i.trigger(Gd.prototype.C.vs,this),this.i.Fb=!1)};d.Ou=function(a){this.Rs[a.which]&&(this.i.fq&&!this.i.vh&&a.preventDefault(),this.i.fq=!0,this.Rs[a.which]=!1,this.i.Fb=!0,this.Ql=a.which-1,this.i.trigger(Gd.prototype.C.DC,this),this.i.Fb=!1)};d.oH=function(a){this.Zy()&&(a.preventDefault(),this.i.Fb=!0,this.Ql=a.which-1,this.Vr=1,this.i.trigger(Gd.prototype.C.gw,this),this.i.trigger(Gd.prototype.C.vs,this),this.i.Fb=!1)};d.rH=function(a){this.vA=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.hq=!1;this.i.Fb=!0;this.i.trigger(Gd.prototype.C.RC,this);this.i.Fb=!1;this.hq&&Rb(a)&&a.preventDefault()};a.prototype.gw=function(a,b){return a===this.Ql&&b===this.Vr};a.prototype.eC=function(){return!0};a.prototype.DC=function(a){return a===this.Ql};a.prototype.vs=function(a,b,c){return a!==this.Ql||b!==this.Vr?!1:this.i.ro(c,this.Qi,this.Ri)};a.prototype.RC=function(a){this.hq=!0;return a===this.vA};b.C=new a;b.R=new function(){};c.prototype.mm=function(a,b){var c,d,h,k,n;
oa(b)?(c=this.i.rh(0),d=c.scale,h=c.be,k=c.De,n=c.L,c.scale=1,c.be=1,c.De=1,c.L=0,a.ya(c.uc(this.Qi,this.Ri,!0)),c.scale=d,c.be=h,c.De=k,c.L=n):(c=pa(b)?this.i.rh(b):this.i.Rm(b))?a.ya(c.uc(this.Qi,this.Ri,!0)):a.ya(0)};c.prototype.nm=function(a,b){var c,d,h,k,n;oa(b)?(c=this.i.rh(0),d=c.scale,h=c.be,k=c.Ee,n=c.L,c.scale=1,c.be=1,c.Ee=1,c.L=0,a.ya(c.uc(this.Qi,this.Ri,!1)),c.scale=d,c.be=h,c.Ee=k,c.L=n):(c=pa(b)?this.i.rh(b):this.i.Rm(b))?a.ya(c.uc(this.Qi,this.Ri,!1)):a.ya(0)};b.aa=new c})();
function V(a){this.i=a}
(function(){function a(a){this.n=a;this.history=[]}function c(a){this.kH=a;this.L=this.y=this.x=this.timestamp=0;this.xi=[]}function b(a,b,c,d){a=b-a;if(0===a)return 0;b=ta(a);if(b<=ta(c/10)||1>b||1E3<=b)return a;var e=b/50;d&&(e=ua(e,1));d=ta(c/5);10<=b&&(e=b/10,d=ta(c/2));c=ua(e,d);c>b&&(c=b);return 0<a?c:-c}function d(){}function h(){}function f(a){switch(a){case 0:return"o";case 1:return"r";case 2:return"u";default:return"o"}}function e(){}var g=V.prototype;g.wa=function(a){this.Ta=a;this.i=a.i};
g.wa.prototype.ka=function(){};g.ta=function(a){this.type=a;this.i=a.i};var l=g.ta.prototype,m=!1;l.ka=function(){this.ja=null;(m=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.ja=new window.C2Multiplayer);this.hH=this.Gu=this.az=this.$y=this.XG=this.Yq=this.Tn=this.eA="";this.Yr={};this.an={};this.Vg={};this.Wl=this.QH=this.QF=null;this.Yk=[];this.gj=[];this.Tg={};var a=this;m&&(this.ja.onserverlist=function(){a.i.trigger(V.prototype.C.IC,a)},this.ja.onsignallingerror=
function(){a.i.trigger(V.prototype.C.KC,a)},this.ja.onsignallingclose=function(){a.i.trigger(V.prototype.C.JC,a);a.eA=""},this.ja.onsignallingwelcome=function(){a.i.trigger(V.prototype.C.Ew,a)},this.ja.onsignallinglogin=function(){a.i.trigger(V.prototype.C.Gw,a)},this.ja.onsignallingjoin=function(b){a.an={};a.Vg={};a.gj.length=0;a.Yk.length=0;a.Tg={};a.i.trigger(V.prototype.C.Fw,a);a.i.Pj&&b&&a.Wl.postMessage("start")},this.ja.onsignallingleave=function(){a.i.trigger(V.prototype.C.MC,a)},this.ja.onsignallingkicked=
function(){a.i.trigger(V.prototype.C.LC,a)},this.ja.onbeforeclientupdate=function(){a.i.trigger(V.prototype.C.hw,a)},this.ja.onpeeropen=function(b){a.Tn=b.id;a.Yq=b.alias;a.i.trigger(V.prototype.C.Bw,a)},this.ja.onpeerclose=function(b,c){a.Tn=b.id;a.Yq=b.alias;a.XG=c||"unknown";var d=a.Qx(b);if(d){var e=a.Yr[d.type];e&&e.removeObjectNid(b.nid);a.i.Ke(d)}a.Vg.hasOwnProperty(b.id)&&delete a.Vg[b.id];a.i.trigger(V.prototype.C.CC,a)},this.ja.onpeermessage=function(b,c){a.az=c.t;a.Gu=c.f?c.f:b.id;a.hH=
a.ja.getAliasFromId(a.Gu);a.$y=c.m;a.i.trigger(V.prototype.C.hC,a);a.i.trigger(V.prototype.C.Cw,a)},this.ja.onsignallinginstancelist=function(b){a.QF=b;a.i.trigger(V.prototype.C.pC,a)},this.ja.onsignallingroomlist=function(b){a.QH=b;a.i.trigger(V.prototype.C.FC,a)},this.ja.ongetobjectcount=function(a){return a.H.length},this.ja.ongetobjectvalue=function(b,c,d){if(!d)return b.H[c].uid;b=b.H[c];switch(d.tag){case "x":return b.x;case "y":return b.y;case "a":return b.L;case "iv":if(d.clientvaluetag&&
(c=a.an[b.uid])&&a.ja.me!==c&&!c.wasRemoved&&c.hasClientState(d.clientvaluetag))return c.getInterpClientState(d.clientvaluetag);d=b.Xb[d.userdata];return"number"===typeof d?d:0;default:return 0}},this.ja.oninstancedestroyed=function(b,c,d){var e=b.userdata;b=e.Ut;e.dt||(e.dt={});e.dt[c]=d;b&&b.hasOwnProperty(c)&&((d=b[c])&&a.i.Ke(d),delete b[c])},this.i.Ak(function(b){var c,d=b.uid;a.an.hasOwnProperty(d)&&delete a.an[d];for(c in a.Vg)if(a.Vg.hasOwnProperty(c)&&a.Vg[c]===b){delete a.Vg[c];break}a.Tg.hasOwnProperty(d)&&
delete a.Tg[d];c=a.Yk.indexOf(b);-1<c&&a.Yk.splice(c,1);c=a.gj.indexOf(b);-1<c&&a.gj.splice(c,1);a.ja.removeObjectId(d)}),this.Wl=new Worker("waker.js"),this.Wl.addEventListener("message",function(b){"tick"===b.data&&a.i.Pj&&a.i.nb(!0)},!1),this.Wl.postMessage(""));this.i.Ks(function(b){m&&a.ja.isHost()&&(b?a.Wl.postMessage("start"):a.Wl.postMessage("stop"))});this.i.DH(this)};l.Qx=function(a){a=a.id;return this.Vg.hasOwnProperty(a)?this.Vg[a]:null};l.QG=function(a){return 0<=this.Yk.indexOf(a)};
l.CH=function(){if(m){this.ja.tick(this.i.oi);this.nI();var a,b,c;if(this.ja.isInRoom()&&!this.ja.isHost())for(a=0,b=this.ja.registeredObjects.length;a<b;++a)c=this.ja.registeredObjects[a],this.pI(c)}};var k=[];l.pI=function(a){a.tick();var b=a.obj,c=a.getCount(),d=a.netvalues,e=a.userdata;e.Ut||(e.Ut={});var f=e.Ut,e=e.dt,g=a.simTime,h,l,m,n,A,x,w,F=d.length;for(h in f)f.hasOwnProperty(h)&&(n=f[h],this.i.hg(n.uid)||delete f[h]);if(e)for(h in e)e.hasOwnProperty(h)&&e[h]<g-3E3&&delete e[h];for(h=0;h<
c;++h)if(l=a.getNetInstAt(h),m=l.nid,e&&e[m]>=g-3E3)k.push(l),f.hasOwnProperty(m)&&(this.i.Ke(f[m]),delete f[m]);else{if(f.hasOwnProperty(m))n=f[m],w=!1;else{if(n=this.ja.getPeerByNid(m))this.Tn=n.id,this.Yq=n.alias;else{if(a.hasOverriddenNids)continue;this.Yq=this.Tn=""}n=this.i.zm(b,this.i.Ub.Ya[b.wx],-1E3,-1E3);f[m]=n;w=!0}if(l.isTimedOut(g))k.push(l),f.hasOwnProperty(m)&&delete f[m],this.i.Ke(n);else{if(this.QG(n))this.vE(n,l,d,g);else for(x=0;x<F;++x)switch(m=l.getInterp(g,x),A=d[x],A.tag){case "x":n.x=
m;n.ba();break;case "y":n.y=m;n.ba();break;case "a":n.L=m;n.ba();break;case "iv":A=A.userdata;if(A>n.Xb.length||"number"!==typeof n.Xb[A])break;n.Xb[A]=m}w&&this.i.trigger(Object.getPrototypeOf(b.Ta).C.Zh,n)}}h=0;for(c=k.length;h<c;++h)a.removeNetInstance(k[h]);k.length=0};l.nI=function(){var a=this.ja.getHostInputArrivalTime(),b,c;b=0;for(c=this.gj.length;b<c;++b)this.oI(this.gj[b],a)};a.prototype.Wx=function(a){if(2>this.history.length)return 0;var b=this.history[this.history.length-2],c=this.history[this.history.length-
1];switch(a){case "x":return c.x-b.x;case "y":return c.y-b.y;case "a":return c.L-b.L;case "iv":return c.xi[void 0]-b.xi[void 0]}return 0};a.prototype.Vx=function(a,b,c,d){var e,f,g,h=null,k=null;e=0;for(f=this.history.length;e<f;++e)if(g=this.history[e],g.timestamp<c)h=g;else{e+1<this.history.length&&(k=this.history[e+1]);break}if(h){e=0;switch(a){case "x":e=h.x;break;case "y":e=h.y;break;case "a":e=h.L;break;case "iv":e=h.xi[b]}if(!k)return e;f=e;switch(a){case "x":f=k.x;break;case "y":f=k.y;break;
case "a":f=k.L;break;case "iv":f=k.xi[b]}return window.interpNetValue(d,e,f,fb(h.timestamp,k.timestamp,c),!1)}};a.prototype.hE=function(a,b,c){var d,e,f;d=0;for(e=this.history.length;d<e;++d)switch(f=this.history[d],a){case "x":f.x+=c;break;case "y":f.y+=c;break;case "a":f.L+=c;break;case "iv":f.xi[b]+=c}};var n=[];l.oI=function(b,d){this.Tg.hasOwnProperty(b.uid)||(this.Tg[b.uid]=new a(b));var e=this.Tg[b.uid],f;n.length?(f=n.pop(),f.kH=e):f=new c(e);f.timestamp=d;f.x=b.x;f.y=b.y;f.L=b.L;Ia(f.xi,
b.Xb);for(e.history.push(f);0<e.history.length&&e.history[0].timestamp<=d-2E3;)f=e.history.shift(),f.xi.length=0,1E3>n.length&&n.push(f)};l.vE=function(a,c,d,e){if(this.Tg.hasOwnProperty(a.uid)){var f=this.Tg[a.uid],g,h,k,l,m,n,A,x=d.length,w=db(0,0,f.Wx("x"),f.Wx("y")),F=!!a.ra.isPlatformBehavior;for(g=0;g<x;++g)if(m=d[g],n=m.tag,A=m.userdata,l=m.interp,h=c.getLatestUpdate())if(k=h.data[g],l=f.Vx(n,A,h.timestamp,l),"undefined"!==typeof l){h=0;switch(n){case "x":h=b(l,k,w,F);0!==h&&(a.x+=h,a.ba());
break;case "y":h=b(l,k,w,F);0!==h&&(a.y+=h,a.ba());break;case "a":h=gb(l,k,.5)-l;0!==h&&(a.L+=h,a.ba());break;case "iv":k=A;if(k>a.Xb.length||"number"!==typeof a.Xb[k])break;m.clientvaluetag||(a.Xb[k]=c.getInterp(e,g))}0!==h&&f.hE(n,A,h)}}};l.k=function(){};l.je=function(){};l.Mb=function(){return{}};l.Sb=function(){};d.prototype.IC=function(){return!0};d.prototype.KC=function(){return!0};d.prototype.Ew=function(){return!0};d.prototype.JC=function(){return!0};d.prototype.Gw=function(){return!0};d.prototype.Fw=
function(){return!0};d.prototype.MC=function(){return!0};d.prototype.LC=function(){return!0};d.prototype.Bw=function(){return!0};d.prototype.CC=function(){return!0};d.prototype.BD=function(){return m&&this.ja.isConnected()};d.prototype.IB=function(){return m&&this.ja.isHost()};d.prototype.NB=function(){return m};d.prototype.Cw=function(a){return this.az===a};d.prototype.hC=function(){return!0};d.prototype.hw=function(){return!0};d.prototype.pC=function(){return!0};d.prototype.FC=function(){return!0};
g.C=new d;h.prototype.AD=function(a){m&&!this.ja.isConnected()&&(this.eA=a,this.ja.signallingConnect(a))};h.prototype.ED=function(a){m&&this.ja.isConnected&&!this.ja.isLoggedIn()&&this.ja.signallingLogin(a)};h.prototype.CD=function(a,b,c,d){m&&this.ja.isLoggedIn()&&!this.ja.isInRoom()&&this.ja.signallingJoinGameRoom(a,b,c,d)};h.prototype.DD=function(){m&&this.ja.isInRoom()&&this.ja.signallingLeaveRoom()};h.prototype.iD=function(a,b,c,d){m&&(a||(a=this.ja.getHostID()),(a=this.ja.getPeerById(a))&&a.send(f(d),
JSON.stringify({c:"m",t:b,m:c})))};l.Cx=function(a,b,c,d){m&&(d=this.ja.registerObject(a,a.mb,d),1===b?(d.addValue(this.ja.INTERP_LINEAR,c,"x"),d.addValue(this.ja.INTERP_LINEAR,c,"y")):2===b?d.addValue(this.ja.INTERP_ANGULAR,c,"a"):3===b&&(d.addValue(this.ja.INTERP_LINEAR,c,"x"),d.addValue(this.ja.INTERP_LINEAR,c,"y"),d.addValue(this.ja.INTERP_ANGULAR,c,"a")),this.Yr[a]=d)};h.prototype.OD=function(a,b,c,d){if(m){var e,f;if(a.Ba)for(e=0,f=a.Rg.length;e<f;++e)this.Cx(a.Rg[e],b,c,d);else this.Cx(a,b,
c,d)}};l.Dx=function(a,b,c,d,e){if(m&&(a=this.Yr[a])){var f=this.ja.INTERP_NONE;1===d?f=this.ja.INTERP_LINEAR:2===d&&(f=this.ja.INTERP_ANGULAR);a.addValue(f,c,"iv",b,e)}};h.prototype.PD=function(a,b,c,d,e){if(m){var f,g,h;if(a.Ba)for(f=0,g=a.Rg.length;f<g;++f)h=a.Rg[f],this.Dx(h,b+h.Mm[a.Lg],c,d,e);else this.Dx(a,b,c,d,e)}};h.prototype.VA=function(a,b){if(m){var c=a.Tk();if(c){var d=this.Yr[a];if(d){var e=this.ja.getPeerById(b);e&&(this.ja.isHost()&&(d.overrideNid(c.uid,e.nid),-1===this.gj.indexOf(c)&&
this.gj.push(c)),this.an[c.uid]=e,this.Vg[e.id]=c)}}}};h.prototype.kD=function(a,b){m&&this.ja.setClientState(a,b)};h.prototype.OA=function(a,b,c){m&&this.ja.addClientInputValue(a,b,c)};h.prototype.BB=function(a){m&&a&&!this.ja.isHost()&&(!(a=a.Tk())||0<=this.Yk.indexOf(a)||(a.ra.inputPredicted=!0,this.gj.push(a),this.Yk.push(a)))};g.R=new h;e.prototype.XB=function(a){a.Hb(m?this.ja.getMyAlias():"")};e.prototype.YB=function(a){a.Hb(m?this.ja.getMyID():"")};e.prototype.UC=function(a){a.Hb(this.Tn)};
e.prototype.AB=function(a){a.Hb(m?this.ja.getHostID():"")};e.prototype.VB=function(a){a.Hb(this.$y)};e.prototype.tB=function(a){a.Hb(this.Gu)};e.prototype.VC=function(a,b){if(m){var c=this.ja.getPeerById(b);a.ya(c?c.latency:0)}else a.ya(0)};e.prototype.WC=function(a,b){if(m){var c=this.ja.getPeerById(b);a.ya(c?c.pdv:0)}else a.ya(0)};e.prototype.LD=function(a){a.Ga(m?this.ja.stats.outboundPerSec:0)};e.prototype.KD=function(a){a.Ga(m?this.ja.stats.outboundBandwidthPerSec:0)};e.prototype.JD=function(a){a.Ga(m?
this.ja.stats.inboundPerSec:0)};e.prototype.ID=function(a){a.Ga(m?this.ja.stats.inboundBandwidthPerSec:0)};e.prototype.TC=function(a){a.Ga(m?this.ja.getPeerCount():0)};l.j=function(a,b,c,d){if(!m||!this.ja.isHost())return 0;var e=this.ja.getPeerById(a);if(!e)return 0;var f=this.Qx(e);if(!f)return 0;a=0;switch(c){case "x":a=f.x;break;case "y":a=f.y;break;case "a":a=f.L}b=this.ja.getPeerById(b);if(!b||b===e||this.ja.me===b)return a;b=2*(b.latency+this.ja.clientDelay);f=f.uid;if(!this.Tg.hasOwnProperty(f))return a;
d=this.Tg[f].Vx(c,0,pb()-b,d);return"undefined"===typeof d?a:d};g.aa=new e})();function Hd(a){this.i=a}
(function(){function a(a){this.$b=a;this.Ec=!1;this.L=this.speed=this.y=this.x=0;this.opacity=1;this.di=this.Wk=this.size=this.cq=0}function c(){}var b=Hd.prototype;b.wa=function(a){this.Ta=a;this.i=a.i};var d=b.wa.prototype;d.ka=function(){this.Ba||(this.Fa=new Image,this.Fa.tp=this.wo,this.ob=null,this.i.ds(this.Fa,this.vo))};d.Cl=function(){this.Ba||(this.ob=null)};d.Rn=function(){this.Ba||!this.H.length||this.ob||(this.ob=this.i.qa.ql(this.Fa,!0,this.i.bb,this.xo))};d.rl=function(){this.Ba||this.ob||
!this.i.qa||(this.ob=this.i.qa.ql(this.Fa,!0,this.i.bb,this.xo))};d.Bo=function(){this.Ba||this.H.length||!this.ob||(this.i.qa.deleteTexture(this.ob),this.ob=null)};d.Wn=function(a){a.drawImage(this.Fa,0,0)};a.prototype.init=function(){var a=this.$b;this.x=a.x-a.hs/2+Math.random()*a.hs;this.y=a.y-a.ks/2+Math.random()*a.ks;this.speed=a.lq-a.Jr/2+Math.random()*a.Jr;this.L=a.L-a.Kr/2+Math.random()*a.Kr;this.opacity=a.St;this.size=a.kq-a.Ir/2+Math.random()*a.Ir;this.cq=a.Jt-a.dq/2+Math.random()*a.dq;
this.di=this.Wk=0};a.prototype.nb=function(a){var b=this.$b;this.x+=Math.cos(this.L)*this.speed*a;this.y+=Math.sin(this.L)*this.speed*a;this.y+=this.Wk*a;this.speed+=b.ve*a;this.size+=this.cq*a;this.Wk+=b.zd*a;this.di+=a;1>this.size?this.Ec=!1:(0!==b.wn&&(this.L+=Math.random()*b.wn*a-b.wn*a/2),0!==b.yn&&(this.speed+=Math.random()*b.yn*a-b.yn*a/2),0!==b.xn&&(this.opacity+=Math.random()*b.xn*a-b.xn*a/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=b.Kk&&this.di>=b.timeout&&(this.Ec=
!1),2===b.Kk&&0>=this.speed&&(this.Ec=!1))};a.prototype.Sd=function(a){var b=this.$b.opacity*this.opacity;if(0!==b){0===this.$b.Kk&&(b*=1-this.di/this.$b.timeout);a.globalAlpha=b;var b=this.x-this.size/2,c=this.y-this.size/2;this.$b.i.Fe&&(b=b+.5|0,c=c+.5|0);a.drawImage(this.$b.type.Fa,b,c,this.size,this.size)}};a.prototype.wc=function(a){var b=this.$b.opacity*this.opacity;0===this.$b.Kk&&(b*=1-this.di/this.$b.timeout);var c=this.size,d=c*this.$b.xz,h=this.x-c/2,k=this.y-c/2;this.$b.i.Fe&&(h=h+.5|
0,k=k+.5|0);1>d||0===b||(d<a.eH||d>a.zu?(a.Lh(b),a.El(h,k,h+c,k,h+c,k+c,h,k+c)):a.vH(this.x,this.y,d,b))};a.prototype.left=function(){return this.x-this.size/2};a.prototype.right=function(){return this.x+this.size/2};a.prototype.top=function(){return this.y-this.size/2};a.prototype.bottom=function(){return this.y+this.size/2};b.ta=function(a){this.type=a;this.i=a.i};var d=b.ta.prototype,h=[];d.ka=function(){var a=this.S;this.kr=a[0];this.Kr=Pa(a[1]);this.Ml=a[2];this.wv=!0;this.lq=a[3];this.kq=a[4];
this.St=a[5]/100;this.Jt=a[6];this.hs=a[7];this.ks=a[8];this.Jr=a[9];this.Ir=a[10];this.dq=a[11];this.ve=a[12];this.zd=a[13];this.wn=a[14];this.yn=a[15];this.xn=a[16];this.Kk=a[17];this.timeout=a[18];this.gk=0;this.xz=1;this.Uq=this.x;this.Wq=this.y;this.Vq=this.x;this.Tq=this.y;this.eE(function(a){a.Qb.set(a.Uq,a.Wq,a.Vq,a.Tq);a.Rb.Ll(a.Qb);a.jp=!1;a.Nv();a.GA()});this.rd||(this.ke=[]);this.i.Qh(this);this.type.rl();if(1===this.Ml)for(a=0;a<this.kr;a++)this.Ms().opacity=0;this.Qp=!0};d.Mb=function(){var a=
{r:this.kr,sc:this.Kr,st:this.Ml,s:this.wv,isp:this.lq,isz:this.kq,io:this.St,gr:this.Jt,xr:this.hs,yr:this.ks,spr:this.Jr,szr:this.Ir,grnd:this.dq,acc:this.ve,g:this.zd,lar:this.wn,lsr:this.yn,lor:this.xn,dm:this.Kk,to:this.timeout,pcc:this.gk,ft:this.Qp,p:[]},b,c,d,h=a.p;b=0;for(c=this.ke.length;b<c;b++)d=this.ke[b],h.push([d.x,d.y,d.speed,d.L,d.opacity,d.cq,d.size,d.Wk,d.di]);return a};d.Sb=function(a){this.kr=a.r;this.Kr=a.sc;this.Ml=a.st;this.wv=a.s;this.lq=a.isp;this.kq=a.isz;this.St=a.io;this.Jt=
a.gr;this.hs=a.xr;this.ks=a.yr;this.Jr=a.spr;this.Ir=a.szr;this.dq=a.grnd;this.ve=a.acc;this.zd=a.g;this.wn=a.lar;this.yn=a.lsr;this.xn=a.lor;this.Kk=a.dm;this.timeout=a.to;this.gk=a.pcc;this.Qp=a.ft;h.push.apply(h,this.ke);H(this.ke);var b,c,d,m=a.p;a=0;for(b=m.length;a<b;a++)c=this.Ms(),d=m[a],c.x=d[0],c.y=d[1],c.speed=d[2],c.L=d[3],c.opacity=d[4],c.cq=d[5],c.size=d[6],c.Wk=d[7],c.di=d[8]};d.je=function(){h.push.apply(h,this.ke);H(this.ke)};d.Ms=function(){var b;h.length?(b=h.pop(),b.$b=this):b=
new a(this);this.ke.push(b);b.Ec=!0;return b};d.nb=function(){var a=this.i.gg(this),b,c,d,m;if(0===this.Ml&&this.wv)for(this.gk+=a*this.kr,c=ya(this.gk),this.gk-=c,b=0;b<c;b++)d=this.Ms(),d.init();this.Uq=this.x;this.Wq=this.y;this.Vq=this.x;this.Tq=this.y;m=b=0;for(c=this.ke.length;b<c;b++)d=this.ke[b],this.ke[m]=d,this.i.Za=!0,1===this.Ml&&this.Qp&&d.init(),d.nb(a),d.Ec?(d.left()<this.Uq&&(this.Uq=d.left()),d.right()>this.Vq&&(this.Vq=d.right()),d.top()<this.Wq&&(this.Wq=d.top()),d.bottom()>this.Tq&&
(this.Tq=d.bottom()),m++):h.push(d);Ha(this.ke,m);this.ba();this.Qp=!1;1===this.Ml&&0===this.ke.length&&this.i.Ke(this)};d.Sd=function(a){var b,c,d,h=this.P;b=0;for(c=this.ke.length;b<c;b++)d=this.ke[b],d.right()>=h.wb&&d.bottom()>=h.xb&&d.left()<=h.Jb&&d.top()<=h.Ib&&d.Sd(a)};d.wc=function(a){this.xz=this.P.Ad();a.pe(this.type.ob);var b,c,d,h=this.P;b=0;for(c=this.ke.length;b<c;b++)d=this.ke[b],d.right()>=h.wb&&d.bottom()>=h.xb&&d.left()<=h.Jb&&d.top()<=h.Ib&&d.wc(a)};b.C=new function(){};c.prototype.pD=
function(a){this.lq=a};c.prototype.oD=function(a){this.kq=a};b.R=new c;b.aa=new function(){}})();function Q(a){this.i=a}
(function(){function a(){if(0===this.ct.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Nl?b.drawImage(this.Fa,this.Al,this.Bl,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Fa,0,0,this.width,this.height);this.ct=a.toDataURL("image/png")}return this.ct}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;p.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function h(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var h=p.length?p.pop():[0,0,0];h[0]=b;h[1]=c;h[2]=e;a[f]=h}}function f(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function e(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return q=a[b][2],!0;q=-2;return!1}function g(){}var l=Q.prototype;l.wa=function(a){this.Ta=a;this.i=a.i};var m=l.wa.prototype;m.ka=function(){if(!this.Ba){var b,c,d,e,f,h,g,k,l;this.Zf=[];this.Wm=!1;b=0;for(c=this.Ne.length;b<c;b++){f=this.Ne[b];g={};g.name=f[0];g.speed=f[1];g.loop=f[2];g.lv=f[3];
g.mv=f[4];g.yz=f[5];g.mb=f[6];g.frames=[];d=0;for(e=f[7].length;d<e;d++)h=f[7][d],k={},k.vo=h[0],k.wo=h[1],k.Al=h[2],k.Bl=h[3],k.width=h[4],k.height=h[5],k.duration=h[6],k.ze=h[7],k.Ae=h[8],k.Ot=h[9],k.br=h[10],k.zz=h[11],k.Nl=0!==k.width,k.ct="",k.mJ=a,l={left:0,top:0,right:1,bottom:1},k.uv=l,k.ob=null,(l=this.i.LF(h[0]))?k.Fa=l:(k.Fa=new Image,k.Fa.wE=h[0],k.Fa.tp=h[1],k.Fa.nE=null,this.i.ds(k.Fa,h[0])),g.frames.push(k),this.Zf.push(k);this.Ne[b]=g}}};m.EA=function(){var a,b,c;a=0;for(b=this.H.length;a<
b;a++)c=this.H[a],c.xp=c.vd.ob};m.Cl=function(){if(!this.Ba){var a,b,c;a=0;for(b=this.Zf.length;a<b;++a)c=this.Zf[a],c.Fa.nE=null,c.ob=null;this.Wm=!1;this.EA()}};m.Rn=function(){if(!this.Ba&&this.H.length){var a,b,c;a=0;for(b=this.Zf.length;a<b;++a)c=this.Zf[a],c.ob=this.i.qa.ql(c.Fa,!1,this.i.bb,c.zz);this.EA()}};m.rl=function(){if(!this.Ba&&!this.Wm&&this.i.qa){var a,b,c;a=0;for(b=this.Zf.length;a<b;++a)c=this.Zf[a],c.ob=this.i.qa.ql(c.Fa,!1,this.i.bb,c.zz);this.Wm=!0}};m.Bo=function(){if(!this.Ba&&
!this.H.length&&this.Wm){var a,b,c;a=0;for(b=this.Zf.length;a<b;++a)c=this.Zf[a],this.i.qa.deleteTexture(c.ob),c.ob=null;this.Wm=!1}};var k=[];m.Wn=function(a){var b,c,d;H(k);b=0;for(c=this.Zf.length;b<c;++b)d=this.Zf[b].Fa,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};l.ta=function(a){this.type=a;this.i=a.i;a=this.type.Ne[0].frames[0].br;this.rd?this.jb.ho(a):this.jb=new Fb(a)};var n=l.ta.prototype;n.ka=function(){this.visible=0===this.S[0];this.Qt=this.au=!1;this.Df=0!==this.S[3];this.Vb=this.Px(this.S[1])||
this.type.Ne[0];this.Ca=this.S[2];0>this.Ca&&(this.Ca=0);this.Ca>=this.Vb.frames.length&&(this.Ca=this.Vb.frames.length-1);var a=this.Vb.frames[this.Ca];this.jb.ho(a.br);this.ze=a.ze;this.Ae=a.Ae;this.Gk=this.Vb.speed;this.li=this.Vb.mv;1===this.type.Ne.length&&1===this.type.Ne[0].frames.length||0===this.Gk||(this.i.Qh(this),this.au=!0);this.rd?this.Eg.reset():this.Eg=new Db;this.qh=this.Eg.Va;this.sj=!0;this.jh=0;this.rj=!0;this.pp=this.Xw="";this.mx=0;this.Ws=-1;this.type.rl();var b,c,d,e,f,h,g,
a=0;for(b=this.type.Ne.length;a<b;a++)for(e=this.type.Ne[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Fa.width,f.height=f.Fa.height),f.Nl&&(g=f.Fa,h=f.uv,h.left=f.Al/g.width,h.top=f.Bl/g.height,h.right=(f.Al+f.width)/g.width,h.bottom=(f.Bl+f.height)/g.height,0===f.Al&&0===f.Bl&&f.width===g.width&&f.height===g.height&&(f.Nl=!1));this.vd=this.Vb.frames[this.Ca];this.xp=this.vd.ob};n.Mb=function(){var a={a:this.Vb.mb,f:this.Ca,cas:this.Gk,fs:this.qh,ar:this.jh,at:this.Eg.Va,
rt:this.li};this.sj||(a.ap=this.sj);this.rj||(a.af=this.rj);return a};n.Sb=function(a){var b=this.TF(a.a);b&&(this.Vb=b);this.Ca=a.f;0>this.Ca&&(this.Ca=0);this.Ca>=this.Vb.frames.length&&(this.Ca=this.Vb.frames.length-1);this.Gk=a.cas;this.qh=a.fs;this.jh=a.ar;this.Eg.reset();this.Eg.Va=a.at;this.sj=a.hasOwnProperty("ap")?a.ap:!0;this.rj=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.li=a.rt:this.li=this.Vb.mv;this.vd=this.Vb.frames[this.Ca];this.xp=this.vd.ob;this.jb.ho(this.vd.br);
this.ze=this.vd.ze;this.Ae=this.vd.Ae};n.Ps=function(a){this.Ca=a?0:this.Vb.frames.length-1;this.sj=!1;this.Xw=this.Vb.name;this.Qt=!0;this.i.trigger(Q.prototype.C.bC,this);this.i.trigger(Q.prototype.C.aC,this);this.Qt=!1;this.jh=0};n.j=function(){return this.Eg.Va};n.nb=function(){this.Eg.add(this.i.gg(this));this.pp.length&&this.Ax();0<=this.Ws&&this.EE();var a=this.Eg.Va,b=this.Vb,c=b.frames[this.Ca],d=c.duration/this.Gk;this.sj&&a>=this.qh+d&&(this.rj?this.Ca++:this.Ca--,this.qh+=d,this.Ca>=b.frames.length&&
(b.yz?(this.rj=!1,this.Ca=b.frames.length-2):b.loop?this.Ca=this.li:(this.jh++,this.jh>=b.lv?this.Ps(!1):this.Ca=this.li)),0>this.Ca&&(b.yz?(this.Ca=1,this.rj=!0,b.loop||(this.jh++,this.jh>=b.lv&&this.Ps(!0))):b.loop?this.Ca=this.li:(this.jh++,this.jh>=b.lv?this.Ps(!0):this.Ca=this.li)),0>this.Ca?this.Ca=0:this.Ca>=b.frames.length&&(this.Ca=b.frames.length-1),a>this.qh+b.frames[this.Ca].duration/this.Gk&&(this.qh=a),a=b.frames[this.Ca],this.yk(c,a),this.i.Za=!0)};n.Px=function(a){var b,c,d;b=0;for(c=
this.type.Ne.length;b<c;b++)if(d=this.type.Ne[b],Qb(d.name,a))return d;return null};n.TF=function(a){var b,c,d;b=0;for(c=this.type.Ne.length;b<c;b++)if(d=this.type.Ne[b],d.mb===a)return d;return null};n.Ax=function(){var a=this.Vb.frames[this.Ca],b=this.Px(this.pp);this.pp="";!b||Qb(b.name,this.Vb.name)&&this.sj||(this.Vb=b,this.Gk=b.speed,this.li=b.mv,0>this.Ca&&(this.Ca=0),this.Ca>=this.Vb.frames.length&&(this.Ca=this.Vb.frames.length-1),1===this.mx&&(this.Ca=0),this.sj=!0,this.qh=this.Eg.Va,this.rj=
!0,this.yk(a,this.Vb.frames[this.Ca]),this.i.Za=!0)};n.EE=function(){var a=this.Vb.frames[this.Ca],b=this.Ca;this.Ca=ya(this.Ws);0>this.Ca&&(this.Ca=0);this.Ca>=this.Vb.frames.length&&(this.Ca=this.Vb.frames.length-1);b!==this.Ca&&(this.yk(a,this.Vb.frames[this.Ca]),this.qh=this.Eg.Va,this.i.Za=!0);this.Ws=-1};n.yk=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.ze=b.ze;this.Ae=b.Ae;this.jb.ho(b.br);this.ba();this.vd=b;this.xp=b.ob;
c=0;for(d=this.Na.length;c<d;c++)e=this.Na[c],e.pH&&e.pH(a,b);this.i.trigger(Q.prototype.C.yk,this)};n.Sd=function(a){a.globalAlpha=this.opacity;var b=this.vd,c=b.Nl,d=b.Fa,e=this.x,f=this.y,h=this.width,g=this.height;if(0===this.L&&0<=h&&0<=g)e-=this.ze*h,f-=this.Ae*g,this.i.Fe&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Al,b.Bl,b.width,b.height,e,f,h,g):a.drawImage(d,e,f,h,g);else{this.i.Fe&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<h?1:-1,l=0<g?1:-1;a.translate(e,f);1===k&&1===
l||a.scale(k,l);a.rotate(this.L*k*l);e=0-this.ze*ta(h);f=0-this.Ae*ta(g);c?a.drawImage(d,b.Al,b.Bl,b.width,b.height,e,f,ta(h),ta(g)):a.drawImage(d,e,f,ta(h),ta(g));a.restore()}};n.ni=function(a){this.wc(a)};n.wc=function(a){a.pe(this.xp);a.Lh(this.opacity);var b=this.vd,c=this.Rb;if(this.i.Fe){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Nl?a.ng(c.dd+d,c.ed+e,c.$d+d,c.ae+e,c.Od+d,c.Pd+e,c.Md+d,c.Nd+e,b.uv):a.El(c.dd+d,c.ed+e,c.$d+d,c.ae+e,c.Od+d,c.Pd+e,c.Md+d,c.Nd+e)}else b.Nl?a.ng(c.dd,
c.ed,c.$d,c.ae,c.Od,c.Pd,c.Md,c.Nd,b.uv):a.El(c.dd,c.ed,c.$d,c.ae,c.Od,c.Pd,c.Md,c.Nd)};n.bG=function(a){var b=this.vd,c,d;c=0;for(d=b.Ot.length;c<d;c++)if(Qb(a,b.Ot[c][0]))return c;return-1};n.Jf=function(a,b){var c=this.vd,d=c.Ot,e;qa(a)?e=this.bG(a):e=a-1;e=ya(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.ze)*this.width,d=d[e][2],d=(d-c.Ae)*this.height,c=Math.cos(this.L);e=Math.sin(this.L);var h=f*c-d*e,d=d*c+f*e,f=h+this.x,d=d+this.y;return b?f:d};var p=[],q=-2,u=[];c.prototype.kC=
function(a){if(!a)return!1;var c=this.i,d=c.Sk(),g=d.type,k=null;d.ra.collmemory?k=d.ra.collmemory:(k={},d.ra.collmemory=k);d.ra.spriteCreatedDestroyCallback||(d.ra.spriteCreatedDestroyCallback=!0,c.Ak(function(a){var c=d.ra.collmemory;a=a.uid;var e,f;for(e in c)c.hasOwnProperty(e)&&(f=c[e],f[0]===a||f[1]===a)&&(b(c[e]),delete c[e])}));var l=g.Ha(),m=a.Ha(),l=l.kd(),n,v,r,p,y,B,t,O=this.i.sf,J=O-1,M=c.hc().vc;for(v=0;v<l.length;v++){r=l[v];m.Ua?(r.cb(),this.i.yt(r.P,a,r.Qb,u),n=u):n=m.kd();for(p=
0;p<n.length;p++)y=n[p],c.Hd(r,y)||c.qE(r,y)?(B=e(k,r,y),B=!B||q<J,h(k,r,y,O),B&&(c.Ih(M.pb),B=g.Ha(),t=a.Ha(),B.Ua=!1,t.Ua=!1,g===a?(B.H.length=2,B.H[0]=r,B.H[1]=y,g.Kd()):(B.H.length=1,t.H.length=1,B.H[0]=r,t.H[0]=y,g.Kd(),a.Kd()),M.Jh(),c.Qf(M.pb))):f(k,r,y);H(u)}return!1};var t=null,v=new fa,r=!1,y=[],B=new Ca(0,0,0,0);m.finish=function(a){if(r){if(a){var b=this.i.hc().vc.nf;a=t.Ha();var c=v.vg(),d,e;if(a.Ua){a.Ua=!1;H(a.H);d=0;for(e=c.length;d<e;++d)a.H[d]=c[d];if(b)for(H(a.Oa),d=0,e=t.H.length;d<
e;++d)c=t.H[d],v.contains(c)||a.Oa.push(c)}else if(b)for(b=a.H.length,d=0,e=c.length;d<e;++d)a.H[b+d]=c[d],Na(a.Oa,c[d]);else Ia(a.H,c);t.Kd()}v.clear();r=!1}};c.prototype.MB=function(a){if(a){var b=!1,c,d,e,f=this.i.Sk(),h=f.type,f=f.mq;c=a.Ha();d=this.i.hc().vc.nf;var g;c.Ua?(this.cb(),B.Fk(this.Qb),B.offset(0,0),this.i.yt(this.P,a,B,y),g=y):g=d?this.i.NG()&&!c.Oa.length&&c.H.length?c.H:c.Oa:c.H;t=a;r=h!==a&&!f;c=0;for(d=g.length;c<d;c++)if(e=g[c],this.i.Hd(this,e)){b=!0;if(f)break;h!==a&&v.add(e)}H(y);
a=b}else a=!1;return a};c.prototype.aC=function(a){return Qb(this.Xw,a)};c.prototype.bC=function(){return!0};c.prototype.yk=function(){return!0};l.C=new c;g.prototype.GD=function(a,b,c){if(a&&b&&(b=this.i.zm(a,b,this.Jf(c,!0),this.Jf(c,!1)))){"undefined"!==typeof b.L&&(b.L=this.L,b.ba());this.i.jf++;var d,e,f;this.i.trigger(Object.getPrototypeOf(a.Ta).C.Zh,b);if(b.Ud)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.i.trigger(Object.getPrototypeOf(f.type.Ta).C.Zh,f);this.i.jf--;d=this.i.XF();
c=!1;if(oa(d.ra.Spawn_LastExec)||d.ra.Spawn_LastExec<this.i.Ej)c=!0,d.ra.Spawn_LastExec=this.i.Ej;if(a!=this.type&&(a=a.Ha(),a.Ua=!1,c?(H(a.H),a.H[0]=b):a.H.push(b),b.Ud))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.Ha(),a.Ua=!1,c?(H(a.H),a.H[0]=f):a.H.push(f)}};g.prototype.jD=function(a,b){this.pp=a;this.mx=b;this.au||(this.i.Qh(this),this.au=!0);this.Qt||this.Ax()};g.prototype.rD=function(a){a=ta(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.ba())};g.prototype.lD=function(a){this.Df!==
(0!==a)&&((this.Df=0!==a)?this.ba():(this.Cf.right>=this.Cf.left&&this.type.xm.update(this,this.Cf,null),this.Cf.set(0,0,-1,-1)))};l.R=new g;l.aa=new function(){}})();function Id(a){this.i=a}
(function(){function a(){return m.length?m.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)m.push(a[b]);H(a)}function b(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function d(){}function h(){}function f(){}var e=Id.prototype;e.ka=function(){e.R.Cs=function(a){this.width!==a&&(this.width=a,this.cj=!0,this.ba())}};e.wa=function(a){this.Ta=a;this.i=a.i};var g=e.wa.prototype;g.ka=function(){};g.Cl=function(){if(!this.Ba){var a,b,c;a=0;for(b=this.H.length;a<b;a++)c=
this.H[a],c.Sg=null,c.ck=null,c.We=null}};e.ta=function(a){this.type=a;this.i=a.i;this.rd?H(this.Ii):this.Ii=[];this.cj=!0};g=e.ta.prototype;g.ka=function(){this.text=this.S[0];this.visible=0===this.S[1];this.font=this.S[2];this.color=this.S[3];this.gq=this.S[4];this.bs=this.S[5];this.Rv=0===this.S[7];this.pu=this.Bh=this.width;this.Ah=this.height;this.qu=this.S[8];this.Tp=this.Nk="";this.nA=this.oA=this.Yn=0;this.sH();this.We=this.ck=this.Sg=null;this.cz=!1;this.un=this.i.sf;this.rd?this.Wi.set(0,
0,1,1):this.Wi=new Ca(0,0,1,1);this.i.qa&&this.i.Qh(this)};g.sH=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Yn=parseInt(a[b].substr(0,a[b].length-2));this.cv=Math.ceil(this.Yn/72*96)+4;0<b&&(this.Tp=a[b-1]);this.Nk=a[b+1];for(b+=2;b<a.length;b++)this.Nk+=" "+a[b];break}};g.Mb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.gq,va:this.bs,wr:this.Rv,lho:this.qu,fn:this.Nk,fs:this.Tp,ps:this.Yn,pxh:this.cv,tw:this.oA,th:this.nA,
lrt:this.un}};g.Sb=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.gq=a.ha;this.bs=a.va;this.Rv=a.wr;this.qu=a.lho;this.Nk=a.fn;this.Tp=a.fs;this.Yn=a.ps;this.cv=a.pxh;this.oA=a.tw;this.nA=a.th;this.un=a.lrt;this.cj=!0;this.pu=this.Bh=this.width;this.Ah=this.height};g.nb=function(){if(this.i.qa&&this.We&&300<=this.i.sf-this.un){var a=this.P;this.cb();var b=this.Qb;if(b.right<a.wb||b.bottom<a.xb||b.left>a.Jb||b.top>a.Ib)this.i.qa.deleteTexture(this.We),this.Sg=this.ck=this.We=null}};g.je=
function(){this.Sg=this.ck=null;this.i.qa&&this.We&&this.i.qa.deleteTexture(this.We);this.We=null};g.j=function(){this.font=this.Tp+" "+this.Yn.toString()+"pt "+this.Nk;this.cj=!0;this.i.Za=!0};g.Sd=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.P.Ad()),a.save(),a.scale(c,c));if(this.cj||this.width!==this.pu)this.type.Ta.WD(this.text,this.Ii,a,this.width,this.Rv),this.cj=!1,this.pu=this.width;this.cb();var c=b?
0:this.Rb.dd,d=b?0:this.Rb.ed;this.i.Fe&&(c=c+.5|0,d=d+.5|0);0===this.L||b||(a.save(),a.translate(c,d),a.rotate(this.L),d=c=0);var e=d+this.height,f=this.cv,f=f+this.qu,h,g;1===this.bs?d+=Math.max(this.height/2-this.Ii.length*f/2,0):2===this.bs&&(d+=Math.max(this.height-this.Ii.length*f-2,0));for(g=0;g<this.Ii.length&&!(h=c,1===this.gq?h=c+(this.width-this.Ii[g].width)/2:2===this.gq&&(h=c+(this.width-this.Ii[g].width)),a.fillText(this.Ii[g].text,h,d),d+=f,d>=e-f);g++);(0!==this.L||b)&&a.restore();
this.un=this.i.sf};g.wc=function(a){if(!(1>this.width||1>this.height)){var b=this.cj||this.cz;this.cz=!1;var c=this.P.Ad(),d=this.P.Zb(),e=this.Wi,f=c*this.width,h=c*this.height,g=Math.ceil(f),l=Math.ceil(h),m=Math.abs(g),D=Math.abs(l),C=this.i.Ka/2,E=this.i.Ja/2;this.ck||(this.Sg=document.createElement("canvas"),this.Sg.width=m,this.Sg.height=D,this.Bh=m,this.Ah=D,b=!0,this.ck=this.Sg.getContext("2d"));if(m!==this.Bh||D!==this.Ah)this.Sg.width=m,this.Sg.height=D,this.We&&(a.deleteTexture(this.We),
this.We=null),b=!0;b&&(this.ck.clearRect(0,0,m,D),this.Sd(this.ck,!0),this.We||(this.We=a.Pe(m,D,this.i.bb,this.i.vh)),a.JA(this.Sg,this.We,this.i.vh));this.Bh=m;this.Ah=D;a.pe(this.We);a.Lh(this.opacity);a.Rf();a.translate(-C,-E);a.tf();var A=this.Rb,b=this.P.kb(A.dd,A.ed,!0,!0),m=this.P.kb(A.dd,A.ed,!1,!0),D=this.P.kb(A.$d,A.ae,!0,!0),C=this.P.kb(A.$d,A.ae,!1,!0),E=this.P.kb(A.Od,A.Pd,!0,!0),x=this.P.kb(A.Od,A.Pd,!1,!0),w=this.P.kb(A.Md,A.Nd,!0,!0),A=this.P.kb(A.Md,A.Nd,!1,!0);if(this.i.Fe||0===
this.L&&0===d)var F=(b+.5|0)-b,I=(m+.5|0)-m,b=b+F,m=m+I,D=D+F,C=C+I,E=E+F,x=x+I,w=w+F,A=A+I;0===this.L&&0===d?(D=b+g,C=m,E=D,x=m+l,w=b,A=x,e.right=1,e.bottom=1):(e.right=f/g,e.bottom=h/l);a.ng(b,m,D,C,E,x,w,A,e);a.Rf();a.scale(c,c);a.nr(-this.P.Zb());a.translate((this.P.wb+this.P.Jb)/-2,(this.P.xb+this.P.Ib)/-2);a.tf();this.un=this.i.sf}};var l=[];e.RD=function(a){H(l);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(l.push(b),b=""),l.push("\n"),++d;else if(" "===c||"\t"===c||"-"===
c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));l.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&l.push(b)};var m=[];e.WD=function(b,d,e,f,h){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var g=e.measureText(b).width;if(g<=f){c(d);d.push(a());d[0].text=b;d[0].width=g;return}}this.XD(b,d,e,f,h)}else c(d)};e.XD=function(c,d,e,f,h){h&&(this.RD(c),c=l);var g="",v,r,y,B=0;for(y=0;y<c.length;y++)"\n"===c[y]?(B>=d.length&&d.push(a()),g=b(g),
r=d[B],r.text=g,r.width=e.measureText(g).width,B++,g=""):(v=g,g+=c[y],r=e.measureText(g).width,r>=f&&(B>=d.length&&d.push(a()),v=b(v),r=d[B],r.text=v,r.width=e.measureText(v).width,B++,g=c[y],h||" "!==g||(g="")));g.length&&(B>=d.length&&d.push(a()),g=b(g),r=d[B],r.text=g,r.width=e.measureText(g).width,B++);for(y=B;y<d.length;y++)m.push(d[y]);d.length=B};d.prototype.Uv=function(a,b){return b?this.text==a:Qb(this.text,a)};e.C=new d;h.prototype.Bs=function(a){pa(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);
a=a.toString();this.text!==a&&(this.text=a,this.cj=!0,this.i.Za=!0)};h.prototype.TA=function(a){pa(a)&&(a=Math.round(1E10*a)/1E10);if(a=a.toString())this.text+=a,this.cj=!0,this.i.Za=!0};e.R=new h;f.prototype.Text=function(a){a.Hb(this.text)};e.aa=new f})();function Jd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=Jd.prototype;d.wa=function(a){this.Ta=a;this.i=a.i};d.wa.prototype.ka=function(){};d.ta=function(a){this.type=a;this.i=a.i};var h=d.ta.prototype,f="text password email number tel url".split(" ");-1<navigator.userAgent.indexOf("MSIE 9")&&(f[2]="text",f[3]="text",f[4]="text",f[5]="text");h.ka=function(){if(this.i.La)ka("[Construct 2] Textbox plugin not supported on this platform - the object will not be created");else{6===this.S[7]?(this.N=
document.createElement("textarea"),jQuery(this.N).css("resize","none")):(this.N=document.createElement("input"),this.N.type=f[this.S[7]]);this.N.id=this.S[9];jQuery(this.N).appendTo(this.i.hi?this.i.hi:"body");this.N.autocomplete="off";this.N.value=this.S[0];this.N.placeholder=this.S[1];this.N.title=this.S[2];this.N.disabled=0===this.S[4];this.N.readOnly=1===this.S[5];this.N.spellcheck=1===this.S[6];this.vm=0!==this.S[8];this.ye=!1;0===this.S[3]&&(jQuery(this.N).hide(),this.visible=!1,this.ye=!0);
var a=function(a){return function(){a.i.trigger(Jd.prototype.C.PC,a)}}(this);this.N.oninput=a;-1!==navigator.userAgent.indexOf("MSIE")&&(this.N.oncut=a);this.N.onclick=function(a){return function(b){b.stopPropagation();a.i.Fb=!0;a.i.trigger(Jd.prototype.C.xk,a);a.i.Fb=!1}}(this);this.N.ondblclick=function(a){return function(b){b.stopPropagation();a.i.Fb=!0;a.i.trigger(Jd.prototype.C.ts,a);a.i.Fb=!1}}(this);this.N.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.N.addEventListener("touchmove",
function(a){a.stopPropagation()},!1);this.N.addEventListener("touchend",function(a){a.stopPropagation()},!1);jQuery(this.N).mousedown(function(a){a.stopPropagation()});jQuery(this.N).mouseup(function(a){a.stopPropagation()});jQuery(this.N).keydown(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});jQuery(this.N).keyup(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});this.Ei=this.Fi=this.yi=this.Bi=this.Di=this.Ai=0;this.hj(!0);this.i.Qh(this)}};h.Mb=function(){return{text:this.N.value,
placeholder:this.N.placeholder,tooltip:this.N.title,disabled:!!this.N.disabled,readonly:!!this.N.readOnly,spellcheck:!!this.N.spellcheck}};h.Sb=function(a){this.N.value=a.text;this.N.placeholder=a.placeholder;this.N.title=a.tooltip;this.N.disabled=a.disabled;this.N.readOnly=a.readonly;this.N.spellcheck=a.spellcheck};h.je=function(){this.i.La||(jQuery(this.N).remove(),this.N=null)};h.nb=function(){this.hj()};h.hj=function(a){if(!this.i.La){var b=this.P.kb(this.x,this.y,!0),c=this.P.kb(this.x,this.y,
!1),d=this.P.kb(this.x+this.width,this.y+this.height,!0),f=this.P.kb(this.x+this.width,this.y+this.height,!1),h=this.i.width/this.i.devicePixelRatio,p=this.i.height/this.i.devicePixelRatio;!this.visible||!this.P.visible||0>=d||0>=f||b>=h||c>=p?(this.ye||jQuery(this.N).hide(),this.ye=!0):(1>b&&(b=1),1>c&&(c=1),d>=h&&(d=h-1),f>=p&&(f=p-1),h=window.innerWidth,p=window.innerHeight,a||this.Ai!==b||this.Di!==c||this.Bi!==d||this.yi!==f||this.Fi!==h||this.Ei!==p?(this.Ai=b,this.Di=c,this.Bi=d,this.yi=f,
this.Fi=h,this.Ei=p,this.ye&&(jQuery(this.N).show(),this.ye=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,h=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.N).css("position","absolute"),jQuery(this.N).offset({left:a,top:h}),jQuery(this.N).width(Math.round(d-b)),jQuery(this.N).height(Math.round(f-c)),this.vm&&jQuery(this.N).css("font-size",this.P.Ad(!0)/this.i.devicePixelRatio-.2+"em")):this.ye&&(jQuery(this.N).show(),this.ye=!1))}};h.Sd=function(){};h.wc=function(){};a.prototype.Uv=
function(a,b){return this.i.La?!1:0===b?Qb(this.N.value,a):this.N.value===a};a.prototype.PC=function(){return!0};a.prototype.xk=function(){return!0};a.prototype.ts=function(){return!0};d.C=new a;c.prototype.Bs=function(a){this.i.La||(this.N.value=a)};c.prototype.pj=function(a){this.i.La||(this.visible=0!==a)};c.prototype.wf=function(a){this.i.La||(this.N.disabled=0===a)};d.R=new c;b.prototype.Text=function(a){this.i.La?a.Hb(""):a.Hb(this.N.value)};d.aa=new b})();function Kd(a){this.i=a}
(function(){var a=Kd.prototype;a.wa=function(a){this.Ta=a;this.i=a.i};var c=a.wa.prototype;c.ka=function(){this.Ba||(this.Fa=new Image,this.Fa.tp=this.wo,this.i.ds(this.Fa,this.vo),this.ob=this.pattern=null)};c.Cl=function(){this.Ba||(this.ob=null)};c.Rn=function(){if(!this.Ba&&this.H.length){this.ob||(this.ob=this.i.qa.ql(this.Fa,!0,this.i.bb,this.xo));var a,c;a=0;for(c=this.H.length;a<c;a++)this.H[a].ob=this.ob}};c.rl=function(){this.Ba||this.ob||!this.i.qa||(this.ob=this.i.qa.ql(this.Fa,!0,this.i.bb,
this.xo))};c.Bo=function(){this.Ba||this.H.length||!this.ob||(this.i.qa.deleteTexture(this.ob),this.ob=null)};c.Wn=function(a){a.drawImage(this.Fa,0,0)};a.ta=function(a){this.type=a;this.i=a.i};c=a.ta.prototype;c.ka=function(){this.visible=0===this.S[0];this.Wi=new Ca(0,0,0,0);this.cy=!1;this.Fa=this.type.Fa;this.i.qa?(this.type.rl(),this.ob=this.type.ob):(this.type.pattern||(this.type.pattern=this.i.Eb.createPattern(this.type.Fa,"repeat")),this.pattern=this.type.pattern)};c.zf=function(){this.cy=
!1;this.Fa=this.type.Fa};c.je=function(){this.i.qa&&this.cy&&this.ob&&(this.i.qa.deleteTexture(this.ob),this.ob=null)};c.Sd=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,h=this.y;this.i.Fe&&(c=Math.round(c),h=Math.round(h));var f=-(this.ze*this.width),e=-(this.Ae*this.height),g=f%this.Fa.width,l=e%this.Fa.height;0>g&&(g+=this.Fa.width);0>l&&(l+=this.Fa.height);a.translate(c,h);a.rotate(this.L);a.translate(g,l);a.fillRect(f-g,e-l,this.width,this.height);a.restore()};
c.ni=function(a){this.wc(a)};c.wc=function(a){a.pe(this.ob);a.Lh(this.opacity);var c=this.Wi;c.right=this.width/this.Fa.width;c.bottom=this.height/this.Fa.height;var h=this.Rb;if(this.i.Fe){var f=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;a.ng(h.dd+f,h.ed+e,h.$d+f,h.ae+e,h.Od+f,h.Pd+e,h.Md+f,h.Nd+e,c)}else a.ng(h.dd,h.ed,h.$d,h.ae,h.Od,h.Pd,h.Md,h.Nd,c)};a.C=new function(){};a.R=new function(){};a.aa=new function(){}})();function Ld(a){this.i=a}
(function(){function a(){this.Tr=this.id=-1;this.Yw=this.Lk=this.Ho=this.Xm=!1;this.Gb=new Ca(0,0,0,0)}function c(a){1E4>p.length&&p.push(a)}function b(){this.id=-1;this.Gb=new Ca(0,0,0,0);this.le=null}function d(a){1E4>q.length&&q.push(a)}function h(a,b,c){var d;return u.length?(d=u.pop(),d.n=a,d.x=b,d.y=c,d.left=d.x*d.n.Vc*d.n.Zd,d.top=d.y*d.n.jd*d.n.Yd,d.clear(),d.$n=!1,d):new f(a,b,c)}function f(a,b,c){this.n=a;this.x=b;this.y=c;this.left=this.x*this.n.Vc*this.n.Zd;this.top=this.y*this.n.jd*this.n.Yd;
this.dh=[];this.Ed=[];this.de=[];this.$n=!1;var d,e;a=0;for(b=this.n.jd;a<b;++a){e=[];c=0;for(d=this.n.Vc;c<d;++c)e.push(-1);this.dh.push(e)}}var e=Ld.prototype;e.wa=function(a){this.Ta=a;this.i=a.i};var g=e.wa.prototype;g.ka=function(){var a,b,c;if(!this.Ba&&(this.Fa=new Image,this.Fa.tp=this.wo,this.i.ds(this.Fa,this.vo),this.zj=[],this.bt=!1,this.rg=[],this.qA=!1,this.Sr&&this.Sr.length))for(a=0,b=this.Sr.length;a<b;++a)(c=this.Sr[a])?this.rg.push({le:c,Rp:[[[null,null],[null,null]],[[null,null],
[null,null]]]}):this.rg.push(null)};g.ei=function(a,b,c,d,e,f){if(!(0>a||a>=this.rg.length)&&this.rg[a]){var h=this.rg[a].Rp;a=new Fb(this.rg[a].le);a.fi(b,c,0);f&&a.CE();d&&a.fH(b/2);e&&a.MF(c/2);h[d?1:0][e?1:0][f?1:0]=a}};g.lG=function(a){if(-1===a)return null;var b=a&n;return 0>b||b>=this.rg.length||!this.rg[b]?null:this.rg[b].Rp[a&l?1:0][a&m?1:0][a&k?1:0]};g.ot=function(){var a,b,c=this.i.qa;if(c)for(a=0,b=this.zj.length;a<b;++a)c.deleteTexture(this.zj[a]);H(this.zj);this.bt=!1};g.Bu=function(a,
b,c,d,e,f,h){if(!(this.bt||0>=a||0>=b)){this.ot();var g=this.Fa.width,k=this.Fa.height,l;for(l=d;l+b<=k;l+=b+f)for(d=c;d+a<=g;d+=a+e)this.zj.push(this.lB(d,l,a,b,h));this.bt=!0}};g.lB=function(a,b,c,d,e){if(this.i.qa)return this.os(a,b,c,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=this.os(a,b,c,d,!1,!1,!1,e);return{Rp:f,x:a,y:b,Sc:c,CG:d}};g.Zv=function(a,b,c,d,e){if(0>a||a>=this.zj.length)return null;a=this.zj[a];var f=a.Rp;b=b?1:0;c=c?1:0;d=d?1:0;var h=f[b][c][d];
if(h)return h;h=this.os(a.x,a.y,a.Sc,a.CG,0!==b,0!==c,0!==d,e);return f[b][c][d]=h};g.os=function(a,b,c,d,e,f,h,g){var k=c,l=d;this.i.qa&&!g&&(ra(k)||(k=sa(k)),ra(l)||(l=sa(l)));var m=document.createElement("canvas");m.width=k;m.height=l;var n=m.getContext("2d");if(this.i.Eb)return e?f?(h?(n.rotate(Math.PI/2),n.scale(-1,1)):n.scale(-1,-1),n.translate(-k,-l)):h?(n.rotate(Math.PI/2),n.translate(0,-l)):(n.scale(-1,1),n.translate(-k,0)):f?h?(n.rotate(-Math.PI/2),n.translate(-k,0)):(n.scale(1,-1),n.translate(0,
-l)):h&&(n.scale(-1,1),n.rotate(Math.PI/2)),n.drawImage(this.Fa,a,b,c,d,0,0,k,l),g?m:this.i.Eb.createPattern(m,"repeat");n.drawImage(this.Fa,a,b,c,d,0,0,k,l);a=this.i.qa.Pe(k,l,this.i.bb,!1,!g);this.i.qa.JA(m,a);return a};g.Cl=function(){this.Ba||this.ot()};g.Rn=function(){};g.rl=function(){};g.Bo=function(){this.Ba||this.H.length||this.ot()};g.Wn=function(){};e.ta=function(a){this.type=a;this.i=a.i};var g=e.ta.prototype,l=-2147483648,m=1073741824,k=536870912,n=536870911,p=[],q=[],u=[];f.prototype.clear=
function(){var a,b,c,d,e;this.dh.length=this.n.jd;a=0;for(b=this.dh.length;a<b;++a)for(e=this.dh[a],e||(e=[],this.dh[a]=e),e.length=this.n.Vc,c=0,d=e.length;c<d;++c)e[c]=-1};f.prototype.Kn=function(){if(!this.$n){var e=this.n.Zd,f=this.n.Yd;if(!(0>=e||0>=f)){var h,g,t,u,E,A;h=0;for(g=this.Ed.length;h<g;++h)c(this.Ed[h]);h=0;for(g=this.de.length;h<g;++h)d(this.de[h]);H(this.Ed);H(this.de);var x=Math.min(this.n.Of,Math.floor(this.n.width/e)),w=Math.min(this.n.lg,Math.floor(this.n.height/f)),x=x-this.left/
e,w=w-this.top/f;x>this.n.Vc&&(x=this.n.Vc);w>this.n.jd&&(w=this.n.jd);var F=this.n.Yi,I=null;h=0;for(g=w;h<g;++h){E=this.dh[h];t=0;for(u=x;t<u;++t)A=E[t],-1===A?I&&(this.Ed.push(I),I=null):F||!I||A!==I.id?(I&&this.Ed.push(I),I=p.length?p.pop():new a,I.id=A,I.Tr=A&n,I.Xm=0!==(A&l),I.Ho=0!==(A&m),I.Lk=0!==(A&k),I.Yw=I.Xm||I.Ho||I.Lk,I.Gb.left=t*e+this.left,I.Gb.top=h*f+this.top,I.Gb.right=I.Gb.left+e,I.Gb.bottom=I.Gb.top+f):I.Gb.right+=e;I&&(this.Ed.push(I),I=null)}var I=null,S=!1;h=0;for(g=w;h<g;++h){E=
this.dh[h];t=0;for(u=x;t<u;++t)A=E[t],-1===A?I&&(this.de.push(I),I=null,S=!1):(w=this.n.type.lG(A),!I||w||S?(I&&this.de.push(I),I=q.length?q.pop():new b,I.id=A,I.le=w?w:null,A=I.Gb,A.left=t*e+this.left,A.top=h*f+this.top,A.right=A.left+e,A.bottom=A.top+f,S=!!w):I.Gb.right+=e);I&&(this.de.push(I),I=null,S=!1)}if(!F)for(g=this.Ed.length,h=0;h<g;++h)for(u=this.Ed[h],e=h+1;e<g;++e)if(t=this.Ed[e],!(t.Gb.top<u.Gb.bottom)){if(t.Gb.top>u.Gb.bottom)break;if(t.Gb.right>u.Gb.right||t.Gb.left>u.Gb.left)break;
t.id===u.id&&t.Gb.left===u.Gb.left&&t.Gb.right===u.Gb.right&&(c(this.Ed[e]),this.Ed.splice(e,1),--g,u.Gb.bottom+=f,--e)}g=this.de.length;for(h=0;h<g;++h)if(u=this.de[h],!u.le)for(E=u.Gb,e=h+1;e<g;++e)if(t=this.de[e],u=t.Gb,!(u.top<E.bottom)){if(u.top>E.bottom)break;if(u.right>E.right||u.left>E.left)break;t.le||u.left!==E.left||u.right!==E.right||(d(this.de[e]),this.de.splice(e,1),--g,E.bottom+=f,--e)}this.$n=!0}}};f.prototype.tv=function(a,b,c){this.dh[b][a]!==c&&(this.dh[b][a]=c,this.$n=!1,this.n.ep=
!0,this.n.Vi=!0,this.n.i.Za=!0)};g.ka=function(){var a,b,c;this.visible=0===this.S[0];this.Zd=this.S[1];this.Yd=this.S[2];this.Av=this.S[3];this.Cv=this.S[4];this.Bv=this.S[5];this.Dv=this.S[6];this.Yi=0!==this.S[7];this.Of=this.tA;this.lg=this.sA;this.Bh=this.width;this.Ah=this.height;var d=this.Zd,e=this.Yd;0===d&&(d=1);0===e&&(e=1);this.Vc=Math.ceil(this.i.Oc/d);this.jd=Math.ceil(this.i.Nc/e);if(!this.type.qA)for(this.type.qA=!0,a=0,b=this.type.rg.length;a<b;++a)if(c=this.type.rg[a])this.type.ei(a,
d,e,!1,!1,!1),this.type.ei(a,d,e,!1,!1,!0),this.type.ei(a,d,e,!1,!0,!1),this.type.ei(a,d,e,!1,!0,!0),this.type.ei(a,d,e,!0,!1,!1),this.type.ei(a,d,e,!0,!1,!0),this.type.ei(a,d,e,!0,!0,!1),this.type.ei(a,d,e,!0,!0,!0);this.rd||(this.qe=[]);this.Cu(!0);this.Wz(this.rA);this.type.Bu(this.Zd,this.Yd,this.Av,this.Cv,this.Bv,this.Dv,this.Yi);this.Vi=!1;this.ep=!0;this.Au()};g.Au=function(){if(this.ep){var a,b,c,d,e;a=0;for(b=this.qe.length;a<b;++a)for(e=this.qe[a],c=0,d=e.length;c<d;++c)e[c].Kn();this.ep=
!1}};g.sr=function(){var a,b,c,d,e;a=0;for(b=this.qe.length;a<b;++a)for(e=this.qe[a],c=0,d=e.length;c<d;++c)e[c].$n=!1;this.ep=!0};g.Cu=function(a){var b=ya(this.width/this.Zd),c=ya(this.height/this.Yd);if(!(b<=this.Of&&c<=this.lg)||a){var d;a?(a=Math.ceil(this.lg/this.jd),d=Math.ceil(this.Of/this.Vc)):(a=this.qe.length,d=Math.ceil(this.Of/this.Vc),c>this.lg&&(this.lg=c,a=Math.ceil(this.lg/this.jd)),b>this.Of&&(this.Of=b,d=Math.ceil(this.Of/this.Vc)),this.sr(),this.Vi=!0,this.i.Za=!0);for(var e,b=
0;b<a;++b)if(e=this.qe[b])for(c=e.length;c<d;++c)e.push(h(this,c,b));else{e=[];for(c=0;c<d;++c)e.push(h(this,c,b));this.qe[b]=e}}};g.Ts=function(a,b){if(0>a||0>b)return null;var c=ya(b/this.jd);if(c>=this.qe.length)return null;var c=this.qe[c],d=ya(a/this.Vc);return d>=c.length?null:c[d]};g.Us=function(a,b){if(0>a||0>b||b>=this.qe.length)return null;var c=this.qe[b];return a>=c.length?null:c[a]};g.Wz=function(a){var b=[];a=a.split(",");var c,d,e,f,h;c=0;for(d=a.length;c<d;++c)if(e=a[c],f=e.indexOf("x"),
-1<f)for(h=parseInt(e.substring(0,f),10),e=e.substring(f+1),f=parseInt(e,10),-1<e.indexOf("h")&&(f|=l),-1<e.indexOf("v")&&(f|=m),-1<e.indexOf("d")&&(f|=k);0<h;--h)b.push(f);else f=parseInt(e,10),-1<e.indexOf("h")&&(f|=l),-1<e.indexOf("v")&&(f|=m),-1<e.indexOf("d")&&(f|=k),b.push(f);for(c=a=0;c<this.lg;++c)for(d=0;d<this.Of;++d)h=b[a++],(e=this.Ts(d,c))&&e.tv(d%this.Vc,c%this.jd,h)};g.mG=function(){var a="";if(0>=this.Of||0>=this.lg)return a;var b=1,c=this.Zx(0,0),d,e,f,h,g,p,q,t;h=ya(this.width/this.Zd);
e=ya(this.height/this.Yd);for(d=0;d<e;++d)for(f=0===d?1:0;f<h;++f)g=this.Zx(f,d),g===c?++b:(-1===c?(p=-1,c=t=q=!1):(p=c&n,q=0!==(c&l),t=0!==(c&m),c=0!==(c&k)),a=1===b?a+(""+p):a+(""+b+"x"+p),q&&(a+="h"),t&&(a+="v"),c&&(a+="d"),a+=",",b=1,c=g);-1===c?(p=-1,c=t=q=!1):(p=c&n,q=0!==(c&l),t=0!==(c&m),c=0!==(c&k));a=1===b?a+(""+p):a+(""+b+"x"+p);q&&(a+="h");t&&(a+="v");c&&(a+="d");return a};g.Zx=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Of||b>=this.lg)return-1;var c=this.Ts(a,b);
return c?c.dh[b%this.jd][a%this.Vc]:-1};g.tv=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Of||b>=this.lg)return-1;var d=this.Ts(a,b);if(!d)return-1;d.tv(a%this.Vc,b%this.jd,c)};g.LA=function(a){return Math.floor((a-this.x)/(this.Vc*this.Zd))};g.MA=function(a){return Math.floor((a-this.y)/(this.jd*this.Yd))};g.WF=function(a,b){var c=this.MA(a.top),d=this.LA(a.right),e=this.MA(a.bottom),f,h,g;for(f=this.LA(a.left);f<=d;++f)for(h=c;h<=e;++h)if(g=this.Us(f,h))g.Kn(),Ka(b,g.de)};
g.SF=function(a){var b,c,d,e,f,h;b=0;for(c=this.qe.length;b<c;++b)for(f=this.qe[b],d=0,e=f.length;d<e;++d)h=f[d],h.Kn(),Ka(a,h.de)};g.je=function(){var a,b,e,f,h;a=0;for(b=this.qe.length;a<b;++a){h=this.qe[a];e=0;for(f=h.length;e<f;++e){for(var g=h[e],k=void 0,l=void 0,k=0,l=g.Ed.length;k<l;++k)c(g.Ed[k]);H(g.Ed);k=0;for(l=g.de.length;k<l;++k)d(g.de[k]);H(g.de);1E3>u.length&&u.push(g)}H(h)}H(this.qe)};g.Mb=function(){this.Cu();return{w:ya(this.width/this.Zd),h:ya(this.height/this.Yd),d:this.mG()}};
g.Sb=function(a){this.Of=a.w;this.lg=a.h;this.Cu(!0);this.Wz(a.d);this.Vi=!0;this.sr()};g.Sd=function(a){if(!(0>=this.Zd||0>=this.Yd)){this.type.Bu(this.Zd,this.Yd,this.Av,this.Cv,this.Bv,this.Dv,this.Yi);if(this.width!==this.Bh||this.height!==this.Ah)this.Vi=!0,this.sr(),this.Au(),this.Bh=this.width,this.Ah=this.height;a.globalAlpha=this.opacity;var b=this.P,c=b.wb,d=b.xb,e=b.Jb,b=b.Ib,f=this.x,h=this.y,g=this.Yi,k;this.i.Fe&&(f=Math.round(f),h=Math.round(h));var l=this.Vc*this.Zd,m=this.jd*this.Yd,
n=Math.floor((c-f)/l),l=Math.floor((e-f)/l),p=Math.floor((d-h)/m),m=Math.floor((b-h)/m),q=f%this.Zd,t=h%this.Yd;this.Yi&&(t=q=0);if(0!==q||0!==t)a.save(),a.translate(q,t),f-=q,h-=t,c-=q,d-=t,e-=q,b-=t;for(var u,ba,U,O,J,M,P,K,N;n<=l;++n)for(u=p;u<=m;++u)if(ba=this.Us(n,u))for(ba.Kn(),U=0,O=ba.Ed.length;U<O;++U)J=ba.Ed[U],-1!==J.id&&(k=J.Gb,M=k.left+f,P=k.top+h,K=k.right+f,k=k.bottom+h,M>e||K<c||P>b||k<d||(N=this.type.Zv(J.Tr,J.Xm,J.Ho,J.Lk,this.Yi),g?a.drawImage(N,M,P):(a.fillStyle=this.type.Zv(J.Tr,
J.Xm,J.Ho,J.Lk,this.Yi),a.fillRect(M,P,K-M,k-P))));0===q&&0===t||a.restore()}};var t=new Ca(0,0,1,1);g.ni=function(a){this.wc(a)};g.wc=function(a){if(!(0>=this.Zd||0>=this.Yd)){this.type.Bu(this.Zd,this.Yd,this.Av,this.Cv,this.Bv,this.Dv,this.Yi);if(this.width!==this.Bh||this.height!==this.Ah)this.Vi=!0,this.sr(),this.Au(),this.Bh=this.width,this.Ah=this.height;a.Lh(this.opacity);var b=this.type.zj,c=this.P,d=c.wb,e=c.xb,f=c.Jb,c=c.Ib,h=this.x,g=this.y,k;this.i.Fe&&(h=Math.round(h),g=Math.round(g));
var l=this.Vc*this.Zd,m=this.jd*this.Yd,n=Math.floor((f-h)/l),p=Math.floor((e-g)/m),m=Math.floor((c-g)/m),q,u,G,ba,U,O,J,M,P,K,N,W,ha,R,va,na,cb;for(va=Math.floor((d-h)/l);va<=n;++va)for(na=p;na<=m;++na)if(cb=this.Us(va,na))for(cb.Kn(),l=0,q=cb.Ed.length;l<q;++l)u=cb.Ed[l],-1!==u.id&&(k=u.Gb,G=k.left+h,ba=k.top+g,U=k.right+h,k=k.bottom+g,G>f||U<d||ba>c||k<e||(a.pe(b[u.Tr]),t.right=(U-G)/this.Zd,t.bottom=(k-ba)/this.Yd,u.Yw?(u.Lk&&(R=t.right,t.right=t.bottom,t.bottom=R),J=O=0,M=t.right,P=0,K=t.right,
N=t.bottom,W=0,ha=t.bottom,u.Lk&&(R=W,W=M,M=R,R=ha,ha=P,P=R),u.Xm&&(R=O,O=M,M=R,R=J,J=P,P=R,R=W,W=K,K=R,R=ha,ha=N,N=R),u.Ho&&(R=O,O=W,W=R,R=J,J=ha,ha=R,R=M,M=K,K=R,R=P,P=N,N=R),a.IH(G,ba,U,ba,U,k,G,k,O,J,M,P,K,N,W,ha)):a.ng(G,ba,U,ba,U,k,G,k,t)))}};e.C=new function(){};e.R=new function(){};e.aa=new function(){}})();function Md(a){this.i=a}
(function(){function a(a){l=a.x;m=a.y;k=a.z}function c(a,c,d,e){var f;f=n.length?n.pop():new b;f.init(a,c,d,e);return f}function b(){this.oo=this.id=this.Hi=this.Gi=this.y=this.x=this.Nr=this.Mr=this.ou=this.time=this.yv=0;this.zo=this.Wr=!1}function d(){}function h(){}var f=Md.prototype;f.wa=function(a){this.Ta=a;this.i=a.i};f.wa.prototype.ka=function(){};f.ta=function(a){this.type=a;this.i=a.i;this.touches=[];this.Eu=!1};var e=f.ta.prototype,g={left:0,top:0};e.Om=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var l=0,m=0,k=0,n=[];b.prototype.init=function(a,b,c,d){var e=pb();this.yv=this.ou=this.time=e;this.Mr=a;this.Nr=b;this.x=a;this.y=b;this.Gi=a;this.Hi=b;this.pressure=this.height=this.width=0;this.id=c;this.oo=d;this.zo=this.Wr=!1};b.prototype.update=function(a,b,c,d,e,f){this.ou=this.time;this.time=a;this.Gi=this.x;this.Hi=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.zo&&15<=db(this.Mr,this.Nr,this.x,this.y)&&(this.zo=
!0)};b.prototype.cH=function(a,b){!this.Wr&&500<=pb()-this.yv&&!this.zo&&15>db(this.Mr,this.Nr,this.x,this.y)&&(this.Wr=!0,a.fh=this.oo,a.Rl=this.id,a.Uk=b,a.i.trigger(Md.prototype.C.sC,a),a.mh=this.x,a.nh=this.y,a.i.trigger(Md.prototype.C.tC,a),a.Uk=0)};var p=-1E3,q=-1E3,u=-1E4;b.prototype.Xy=function(a,b){if(!this.Wr){var c=pb();333>=c-this.yv&&!this.zo&&15>db(this.Mr,this.Nr,this.x,this.y)&&(a.fh=this.oo,a.Rl=this.id,a.Uk=b,666>=c-u&&25>db(p,q,this.x,this.y)?(a.i.trigger(Md.prototype.C.lC,a),a.mh=
this.x,a.nh=this.y,a.i.trigger(Md.prototype.C.mC,a),q=p=-1E3,u=-1E4):(a.i.trigger(Md.prototype.C.NC,a),a.mh=this.x,a.nh=this.y,a.i.trigger(Md.prototype.C.OC,a),p=this.x,q=this.y,u=c),a.Uk=0)}};e.ka=function(){this.UG=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Uk=this.Rl=this.fh=this.nh=this.mh=this.Uw=this.Tw=this.Sw=this.cE=this.bE=this.aE=this.Sq=this.Rq=this.Qq=0;this.tI=0!==this.S[0];var b=0<this.i.ee?document:this.i.canvas,c=document;this.i.Td?c=b=window.Canvas:this.i.Kf&&
(c=b=window);var d=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",function(a){d.kz(a)},!1),b.addEventListener("pointermove",function(a){d.jz(a)},!1),c.addEventListener("pointerup",function(a){d.Oq(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.Oq(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.i.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){d.kz(a)},!1),b.addEventListener("MSPointerMove",function(a){d.jz(a)},!1),c.addEventListener("MSPointerUp",function(a){d.Oq(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.Oq(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",function(a){d.mz(a)},!1),b.addEventListener("touchmove",function(a){d.lz(a)},!1),c.addEventListener("touchend",function(a){d.Pu(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.Pu(a,!0)},!1));if(this.UG){var e=function(a){a=a.reading;d.Sw=a.accelerationX;d.Tw=a.accelerationY;d.Uw=a.accelerationZ},f=function(a){a=a.reading;d.Qq=a.yawDegrees;d.Rq=a.pitchDegrees;d.Sq=a.rollDegrees},h=Windows.Devices.Sensors.Accelerometer.getDefault();
h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",e));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(h&&h.removeEventListener("readingchanged",e),g&&g.removeEventListener("readingchanged",f)):(h&&h.addEventListener("readingchanged",e),g&&g.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.Qq=a.alpha||0;d.Rq=a.beta||0;d.Sq=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.aE=a.accelerationIncludingGravity.x||0,d.bE=a.accelerationIncludingGravity.y||0,d.cE=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.Sw=a.acceleration.x||0,d.Tw=a.acceleration.y||0,d.Uw=a.acceleration.z||0)},!1);this.tI&&!this.i.La&&(jQuery(document).mousemove(function(a){d.Nu(a)}),jQuery(document).mousedown(function(a){d.Mu(a)}),
jQuery(document).mouseup(function(a){d.Ou(a)}));!this.i.gl&&this.i.Re&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(a,null,{frequency:40});this.i.kI(this)};e.jz=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Om(a.pointerId),c=pb();if(0<=b){var d=this.i.La?g:jQuery(this.i.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,
a.width||0,a.height||0,a.pressure||0)}}};e.kz=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Rb(a)&&a.preventDefault();var b=this.i.La?g:jQuery(this.i.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;pb();this.fh=this.touches.length;this.Rl=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.fh));this.i.Fb=!0;this.i.trigger(Md.prototype.C.Aw,this);this.i.trigger(Md.prototype.C.Kw,this);this.mh=d;this.nh=b;this.i.trigger(Md.prototype.C.Jw,this);
this.i.Fb=!1}};e.Oq=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Rb(a)&&a.preventDefault();var c=this.Om(a.pointerId);this.fh=0<=c?this.touches[c].oo:-1;this.Rl=0<=c?this.touches[c].id:-1;this.i.Fb=!0;this.i.trigger(Md.prototype.C.zw,this);this.i.trigger(Md.prototype.C.Iw,this);0<=c&&(b||this.touches[c].Xy(this,c),100>n.length&&n.push(this.touches[c]),this.touches.splice(c,1));this.i.Fb=!1}};e.lz=function(a){a.preventDefault&&a.preventDefault();
var b=pb(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Om(e.identifier),0<=f){var h=this.i.La?g:jQuery(this.i.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-h.left,e.pageY-h.top,2*(e.xJ||e.DJ||e.qJ||e.tJ||0),2*(e.yJ||e.EJ||e.rJ||e.uJ||0),e.lJ||e.CJ||e.pJ||e.sJ||0)}};e.mz=function(a){a.preventDefault&&Rb(a)&&a.preventDefault();var b=this.i.La?g:jQuery(this.i.canvas).offset();pb();this.i.Fb=!0;var d,e,f,h;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=
a.changedTouches[d],h=this.Om(f.identifier),-1===h){h=f.pageX-b.left;var k=f.pageY-b.top;this.fh=this.touches.length;this.Rl=f.identifier;this.touches.push(c(h,k,f.identifier,this.fh));this.i.trigger(Md.prototype.C.Aw,this);this.i.trigger(Md.prototype.C.Kw,this);this.mh=h;this.nh=k;this.i.trigger(Md.prototype.C.Jw,this)}this.i.Fb=!1};e.Pu=function(a,b){a.preventDefault&&Rb(a)&&a.preventDefault();this.i.Fb=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Om(e.identifier),
0<=e&&(this.fh=this.touches[e].oo,this.Rl=this.touches[e].id,this.i.trigger(Md.prototype.C.zw,this),this.i.trigger(Md.prototype.C.Iw,this),b||this.touches[e].Xy(this,e),100>n.length&&n.push(this.touches[e]),this.touches.splice(e,1));this.i.Fb=!1};e.j=function(){return this.i.Re&&0===this.Qq&&0!==k?90*k:this.Qq};e.k=function(){return this.i.Re&&0===this.Rq&&0!==m?90*m:this.Rq};e.B=function(){return this.i.Re&&0===this.Sq&&0!==l?90*l:this.Sq};e.Mu=function(a){this.mz({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]});this.Eu=!0};e.Nu=function(a){this.Eu&&this.lz({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};e.Ou=function(a){a.preventDefault&&this.i.fq&&!this.i.vh&&a.preventDefault();this.i.fq=!0;this.Pu({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Eu=!1};e.yo=function(){var a,b,c,d=pb();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.ou=d),c.cH(this,a)};d.prototype.Kw=function(){return!0};d.prototype.Iw=function(){return!0};
d.prototype.Jw=function(a){return a?this.i.ro(a,this.mh,this.nh):!1};var t=[];d.prototype.OB=function(a){if(!a)return!1;var b=a.Ha(),c=b.kd(),d,e,f,h,g,k;f=0;for(h=c.length;f<h;f++){var l=c[f];l.cb();g=0;for(k=this.touches.length;g<k;g++)if(e=this.touches[g],d=l.P.uc(e.x,e.y,!0),e=l.P.uc(e.x,e.y,!1),l.Qd(d,e)){t.push(l);break}}return t.length?(b.Ua=!1,Ia(b.H,t),a.Kd(),H(t),!0):!1};d.prototype.Aw=function(a){a=Math.floor(a);return a===this.fh};d.prototype.zw=function(a){a=Math.floor(a);return a===
this.fh};d.prototype.sC=function(){return!0};d.prototype.NC=function(){return!0};d.prototype.lC=function(){return!0};d.prototype.tC=function(a){return a?this.i.ro(a,this.mh,this.nh):!1};d.prototype.OC=function(a){return a?this.i.ro(a,this.mh,this.nh):!1};d.prototype.mC=function(a){return a?this.i.ro(a,this.mh,this.nh):!1};f.C=new d;h.prototype.mm=function(a,b){var c=this.Uk;if(0>c||c>=this.touches.length)a.ya(0);else{var d,e,f,h,g;oa(b)?(d=this.i.rh(0),e=d.scale,f=d.be,h=d.De,g=d.L,d.scale=1,d.be=
1,d.De=1,d.L=0,a.ya(d.uc(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.be=f,d.De=h,d.L=g):(d=pa(b)?this.i.rh(b):this.i.Rm(b))?a.ya(d.uc(this.touches[c].x,this.touches[c].y,!0)):a.ya(0)}};h.prototype.nm=function(a,b){var c=this.Uk;if(0>c||c>=this.touches.length)a.ya(0);else{var d,e,f,h,g;oa(b)?(d=this.i.rh(0),e=d.scale,f=d.be,h=d.Ee,g=d.L,d.scale=1,d.be=1,d.Ee=1,d.L=0,a.ya(d.uc(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.be=f,d.Ee=h,d.L=g):(d=pa(b)?this.i.rh(b):this.i.Rm(b))?a.ya(d.uc(this.touches[c].x,
this.touches[c].y,!1)):a.ya(0)}};f.aa=new h})();function Nd(a){this.i=a}
(function(){function a(a){var b;if(!n[a])for(n[a]=Array(20),b=0;20>b;++b)n[a][b]=0;return n[a]}function c(a){var b;if(!p[a])for(p[a]=Array(20),b=0;20>b;++b)p[a][b]=0;return p[a]}function b(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function d(a){k[a.gamepad.index]=a.gamepad;l.trigger(Nd.prototype.C.qC,m)}function h(a){l.trigger(Nd.prototype.C.rC,m);k[a.gamepad.index]=null}function f(){}function e(){}var g=Nd.prototype;g.wa=function(a){this.Ta=a;this.i=a.i};g.wa.prototype.ka=function(){};var l=null,m=null,
k=Array(16),n=Array(16),p=Array(16),q="",u="",t=null,v={windows:{}};v.windows.firefox={};var r=[0,1,2,3,4,5,8,9,10,11],y=[0,1,[7,6],2,3,[14,15],[12,13]];v.windows.firefox.xbox360=function(a,b){return b?a>=y.length?-1:pa(y[a])?y[a]+16:y[a]:a>=r.length?-1:r[a]};var B=[2,0,1,3,4,6,5,7,8,9],D=[0,1,2,3,[14,15],[12,13]];v.windows.firefox.logitechdualaction=function(a,b){return b?a>=D.length?-1:pa(D[a])?D[a]+16:D[a]:a>=B.length?-1:B[a]};g.ta=function(a){this.type=a;l=this.i=a.i;m=this};var C=g.ta.prototype;
C.ka=function(){this.Sj=0;var a=navigator.userAgent;q="windows";/mac/i.test(a)&&(q="mac");t=v[q];u="chrome";/firefox/i.test(a)&&(u="firefox");t&&(t=t[u]);window.addEventListener("webkitgamepadconnected",d,!1);window.addEventListener("webkitgamepaddisconnected",h,!1);window.addEventListener("MozGamepadConnected",d,!1);window.addEventListener("MozGamepadDisconnected",h,!1);window.addEventListener("gamepadconnected",d,!1);window.addEventListener("gamepaddisconnected",h,!1);this.i.Qh(this);this.zk=[]};
C.nb=function(){this.zk.length=0;var d=null,e=!1;navigator.getGamepads?d=navigator.getGamepads():navigator.webkitGetGamepads?d=navigator.webkitGetGamepads():navigator.mozGetGamepads?d=navigator.mozGetGamepads():navigator.msGetGamepads?d=navigator.msGetGamepads():this.i.ty&&window.cr_getGamepads?(d=window.cr_getGamepads(),e=!0):d=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||k;if(d){var f,h,g,l,m,q,r;f=0;for(h=d.length;f<h;f++){var u=d[f];if(u){var v=a(f),y=c(f);l=f;g=a(l);l=
c(l);m=void 0;for(m=0;20>m;++m)l[m]=g[m];e?g=b:t?(g="",l=u.id.toLowerCase(),-1<l.indexOf("xbox 360")?g="xbox360":-1<l.indexOf("logitech dual action")&&(g="logitechdualaction"),g=t[g]||b):g=b;m=g;g=0;for(l=u.buttons.length;g<l;g++)r="undefined"!==typeof u.buttons[g].value?u.buttons[g].value:u.buttons[g],q=m(g,!1,r),0<=q&&20>q&&(v[q]=100*r,50<=v[q]&&50>y[q]&&(this.Sj=q));g=0;for(l=u.axes.length;g<l;g++)r=u.axes[g],q=m(g,!0,r),pa(q)?0<=q&&20>q&&(v[q]=100*r):(v[q[0]]=0,v[q[1]]=0,0>=r?v[q[0]]=Math.abs(100*
r):v[q[1]]=Math.abs(100*r));this.zk.push(u)}else u=f,n[u]=null,p[u]=null}for(;20>f;++f)d=f,n[d]=null,p[d]=null}};C.Mb=function(){return{lastButton:this.Sj}};C.Sb=function(a){this.Sj=a.lastButton};f.prototype.qC=function(){return!0};f.prototype.rC=function(){return!0};f.prototype.cC=function(b){b=Math.floor(b);if(0>b||b>=this.zk.length)return!1;var d=a(b);b=c(b);if(!d||!b)return!1;var e,f;e=0;for(f=d.length;e<f;e++)if(50<=d[e]&&50>b[e])return this.Sj=e,!0;return!1};f.prototype.dC=function(b){b=Math.floor(b);
if(0>b||b>=this.zk.length)return!1;var d=a(b);b=c(b);if(!d||!b)return!1;var e,f;e=0;for(f=d.length;e<f;e++)if(50>d[e]&&50<=b[e])return this.Sj=e,!0;return!1};f.prototype.DB=function(b,c){b=Math.floor(b);if(0>b||b>=this.zk.length)return!1;var d=a(b);if(!d)return!1;c=Math.floor(c);if(0>c||c>=d.length)return!1;if(d=50<=d[c])this.Sj=c;return d};g.C=new f;g.R=new function(){};e.prototype.uB=function(a){a.Ga(this.zk.length)};e.prototype.SB=function(a){a.Ga(this.Sj)};g.aa=new e})();
function Od(a){this.i=a}
(function(){function a(){}function c(){}var b=Od.prototype;b.wa=function(a){this.behavior=a;this.i=a.i};b.wa.prototype.ka=function(){};b.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.ta.prototype;d.ka=function(){var a=this.S[0];this.ve=this.S[1];this.zd=this.S[2];this.cx=0!==this.S[3];this.tr=0!==this.S[4];this.ca=Math.cos(this.n.L)*a;this.ea=Math.sin(this.n.L)*a;this.Gi=this.n.x;this.Hi=this.n.y;this.Cd=this.n.L;this.Ao=0;this.enabled=0!==this.S[5]};d.Mb=function(){return{acc:this.ve,
g:this.zd,dx:this.ca,dy:this.ea,lx:this.Gi,ly:this.Hi,lka:this.Cd,t:this.Ao,e:this.enabled}};d.Sb=function(a){this.ve=a.acc;this.zd=a.g;this.ca=a.dx;this.ea=a.dy;this.Gi=a.lx;this.Hi=a.ly;this.Cd=a.lka;this.Ao=a.t;this.enabled=a.e};d.nb=function(){if(this.enabled){var a=this.i.gg(this.n),b,c;this.n.L!==this.Cd&&(this.tr&&(b=db(0,0,this.ca,this.ea),this.ca=Math.cos(this.n.L)*b,this.ea=Math.sin(this.n.L)*b),this.Cd=this.n.L);0!==this.ve&&(b=db(0,0,this.ca,this.ea),c=0===this.ca&&0===this.ea?this.n.L:
Xa(0,0,this.ca,this.ea),b+=this.ve*a,0>b&&(b=0),this.ca=Math.cos(c)*b,this.ea=Math.sin(c)*b);0!==this.zd&&(this.ea+=this.zd*a);this.Gi=this.n.x;this.Hi=this.n.y;if(0!==this.ca||0!==this.ea)if(this.n.x+=this.ca*a,this.n.y+=this.ea*a,this.Ao+=db(0,0,this.ca*a,this.ea*a),this.tr&&(this.n.L=Xa(0,0,this.ca,this.ea),this.n.ba(),this.Cd=this.n.L),this.n.ba(),this.cx&&(b=this.i.sd(this.n)))this.i.ik(this.n,b),b=db(0,0,this.ca,this.ea),c=this.i.kx(this.n,this.Gi,this.Hi),this.ca=Math.cos(c)*b,this.ea=Math.sin(c)*
b,this.n.x+=this.ca*a,this.n.y+=this.ea*a,this.n.ba(),this.tr&&(this.Cd=this.n.L=c,this.n.ba()),this.i.qf(this.n,this.ca/b,this.ea/b,Math.max(2.5*b*a,30))||this.i.bv(this.n,100)}};a.prototype.eB=function(a,b){return Yc(this.Ao,a,b)};b.C=new a;c.prototype.Lw=function(a){a=Pa(a);var b=db(0,0,this.ca,this.ea);this.ca=Math.cos(a)*b;this.ea=Math.sin(a)*b};c.prototype.WA=function(a){if(a&&(a=a.Tk(this.n))){var b=this.i.gg(this.n),c=db(0,0,this.ca,this.ea),d=this.i.kx(this.n,this.Gi,this.Hi,a);this.ca=Math.cos(d)*
c;this.ea=Math.sin(d)*c;this.n.x+=this.ca*b;this.n.y+=this.ea*b;this.n.ba();this.tr&&(this.Cd=this.n.L=d,this.n.ba());this.cx?this.i.qf(this.n,this.ca/c,this.ea/c,Math.max(2.5*c*b,30))||this.i.bv(this.n,100):0!==c&&this.i.HH(this.n,this.ca/c,this.ea/c,Math.max(2.5*c*b,30),a)}};c.prototype.wf=function(a){this.enabled=1===a};b.R=new c;b.aa=new function(){}})();function Pd(a){this.i=a}
(function(){function a(){}function c(){}var b=Pd.prototype;b.wa=function(a){this.behavior=a;this.i=a.i};b.wa.prototype.ka=function(){};b.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.ta.prototype;d.ka=function(){this.Js=1===this.S[0];this.Uz=!1;this.Km=this.S[1];this.Ko=this.S[2];this.Jp=this.S[3];this.BE=this.S[4];this.Rc=this.Js?0:3;this.rd?this.Tf.reset():this.Tf=new Db;this.Ni=this.n.opacity?this.n.opacity:1;this.Js&&(0===this.Km?(this.Rc=1,0===this.Ko&&(this.Rc=
2)):(this.n.opacity=0,this.i.Za=!0))};d.Mb=function(){return{fit:this.Km,wt:this.Ko,fot:this.Jp,s:this.Rc,st:this.Tf.Va,mo:this.Ni}};d.Sb=function(a){this.Km=a.fit;this.Ko=a.wt;this.Jp=a.fot;this.Rc=a.s;this.Tf.reset();this.Tf.Va=a.st;this.Ni=a.mo};d.nb=function(){this.Tf.add(this.i.gg(this.n));0===this.Rc&&(this.n.opacity=this.Tf.Va/this.Km*this.Ni,this.i.Za=!0,this.n.opacity>=this.Ni&&(this.n.opacity=this.Ni,this.Rc=1,this.Tf.reset(),this.i.trigger(Pd.prototype.C.nC,this.n)));1===this.Rc&&this.Tf.Va>=
this.Ko&&(this.Rc=2,this.Tf.reset(),this.i.trigger(Pd.prototype.C.QC,this.n));2===this.Rc&&0!==this.Jp&&(this.n.opacity=this.Ni-this.Tf.Va/this.Jp*this.Ni,this.i.Za=!0,0>this.n.opacity&&(this.n.opacity=0,this.Rc=3,this.Tf.reset(),this.i.trigger(Pd.prototype.C.oC,this.n),1===this.BE&&this.i.Ke(this.n)))};d.VE=function(){this.Rc=0;this.Tf.reset();0===this.Km?(this.Rc=1,0===this.Ko&&(this.Rc=2)):(this.n.opacity=0,this.i.Za=!0)};a.prototype.oC=function(){return!0};a.prototype.nC=function(){return!0};
a.prototype.QC=function(){return!0};b.C=new a;c.prototype.HD=function(){this.Js||this.Uz||(this.Ni=this.n.opacity?this.n.opacity:1,this.Uz=!0);3===this.Rc&&this.VE()};b.R=new c;b.aa=new function(){}})();function Qd(a){this.i=a}
(function(){function a(){}function c(){}var b=Qd.prototype;b.wa=function(a){this.behavior=a;this.i=a.i};b.wa.prototype.ka=function(){};b.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.ta.prototype;d.ka=function(){this.ej=this.Zg=this.Rc=this.Nq=this.Pq=0};d.Mb=function(){return{ontime:this.Pq,offtime:this.Nq,stage:this.Rc,stagetimeleft:this.Zg,timeleft:this.ej}};d.Sb=function(a){this.Pq=a.ontime;this.Nq=a.offtime;this.Rc=a.stage;this.Zg=a.stagetimeleft;this.ej=
a.timeleft};d.nb=function(){if(!(0>=this.ej)){var a=this.i.gg(this.n);this.ej-=a;0>=this.ej?(this.ej=0,this.n.visible=!0,this.i.Za=!0,this.i.trigger(Qd.prototype.C.kw,this.n)):(this.Zg-=a,0>=this.Zg&&(0===this.Rc?(this.n.visible=!1,this.Rc=1,this.Zg+=this.Nq):(this.n.visible=!0,this.Rc=0,this.Zg+=this.Pq),this.i.Za=!0))}};a.prototype.kw=function(){return!0};b.C=new a;c.prototype.pB=function(a,b,c){this.Pq=a;this.Nq=b;this.Rc=1;this.Zg=b;this.ej=c;this.n.visible=!1;this.i.Za=!0};b.R=new c;b.aa=new function(){}})();
function Rd(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var Sd=2/180*Math.PI,Td=8/180*Math.PI,Ud=.5*Math.PI,Xd=Ud*Ud,Yd=2/180*Math.PI,Zd=Number.MIN_VALUE*Number.MIN_VALUE;function $d(a,c){return a.x*c.x+a.y*c.y}function ae(a,c){return a.x*c.y-a.y*c.x}function be(a){return X(1*a.y,-1*a.x)}function ce(a,c){return X(a.u.x*c.x+a.A.x*c.y,a.u.y*c.x+a.A.y*c.y)}function de(a,c){return X($d(c,a.u),$d(c,a.A))}
function ee(a,c){var b=ce(a.F,c);b.x+=a.position.x;b.y+=a.position.y;return b}function fe(a,c){var b=ge(c,a.position),d=b.x*a.F.u.x+b.y*a.F.u.y;b.y=b.x*a.F.A.x+b.y*a.F.A.y;b.x=d;return b}function ge(a,c){return X(a.x-c.x,a.y-c.y)}function he(a,c,b){return a<c?c:a>b?b:a}function ie(){this.u=X(0,0);this.A=X(0,0);this.u.Set(1,0);this.A.Set(0,1)}function je(a){var c=new ie;c.Set(a);return c}ie.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.u.Set(c,a);this.A.Set(-a,c)};
ie.prototype.Tc=function(){var a=new ie;ke(a,this);return a};function ke(a,c){a.u.V(c.u);a.A.V(c.A)}ie.prototype.Ma=function(){this.u.Set(0,0);this.A.Set(0,0)};ie.prototype.lj=function(){return Math.atan2(this.u.y,this.u.x)};function le(a,c){var b=a.u.x*a.A.y-a.A.x*a.u.y;0!==b&&(b=1/b);c.u.x=b*a.A.y;c.A.x=-b*a.A.x;c.u.y=-b*a.u.y;c.A.y=b*a.u.x}function me(a,c,b,d){var h=a.u.x*a.A.y-a.A.x*a.u.y;0!==h&&(h=1/h);c.x=h*(a.A.y*b-a.A.x*d);c.y=h*(a.u.x*d-a.u.y*b);return c}
function ne(a,c,b){this.u=new oe(0,0,0);this.A=new oe(0,0,0);this.j=new oe(0,0,0);a&&this.u.V(a);c&&this.A.V(c);b&&this.j.V(b)}ne.prototype.Tc=function(){return new ne(this.u,this.A,this.j)};ne.prototype.Ma=function(){this.u.Set(0,0,0);this.A.Set(0,0,0);this.j.Set(0,0,0)};function pe(a,c,b,d){var h=a.u.x,f=a.A.x,e=a.u.y;a=a.A.y;var g=h*a-f*e;0!=g&&(g=1/g);c.x=g*(a*b-f*d);c.y=g*(h*d-e*b);return c}
function Ge(a,c,b,d,h){var f=a.u.x,e=a.u.y,g=a.u.z,l=a.A.x,m=a.A.y,k=a.A.z,n=a.j.x,p=a.j.y;a=a.j.z;var q=f*(m*a-k*p)+e*(k*n-l*a)+g*(l*p-m*n);0!=q&&(q=1/q);c.x=q*(b*(m*a-k*p)+d*(k*n-l*a)+h*(l*p-m*n));c.y=q*(f*(d*a-h*p)+e*(h*n-b*a)+g*(b*p-d*n));c.z=q*(f*(m*h-k*d)+e*(k*b-l*h)+g*(l*d-m*b));return c}function He(){this.X=X(0,0);this.hd=X(0,0);this.I=X(0,0)}He.prototype.Set=function(a){this.X.V(a.X);this.hd.V(a.hd);this.I.V(a.I);this.xf=a.xf;this.W=a.W;this.Xd=a.Xd};
He.prototype.Tc=function(){var a=new He;a.X.V(this.X);a.hd.V(this.hd);a.I.V(this.I);a.xf=this.xf;a.W=this.W;a.Xd=this.Xd;return a};He.prototype.Le=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.hd.x+c*this.I.x;a.position.y=(1-c)*this.hd.y+c*this.I.y;a.F.Set((1-c)*this.xf+c*this.W);var b=a.F;a.position.x-=b.u.x*this.X.x+b.A.x*this.X.y;a.position.y-=b.u.y*this.X.x+b.A.y*this.X.y};
He.prototype.Wh=function(a){void 0===a&&(a=0);if(this.Xd<a&&1-this.Xd>Number.MIN_VALUE){var c=(a-this.Xd)/(1-this.Xd);this.hd.x=(1-c)*this.hd.x+c*this.I.x;this.hd.y=(1-c)*this.hd.y+c*this.I.y;this.xf=(1-c)*this.xf+c*this.W;this.Xd=a}};function Ie(a,c){this.position=X(0,0);this.F=new ie;a&&this.position.V(a);c&&ke(this.F,c)}Ie.prototype.Set=function(a){this.position.V(a.position);ke(this.F,a.F)};Ie.prototype.lj=function(){return Math.atan2(this.F.u.y,this.F.u.x)};
function Je(a,c){this.x=a;this.y=c}var Ke=[];function X(a,c){if(0<Ke.length){var b=Ke.pop();b.Set(a,c);return b}return new Je(a,c)}function Le(a){Ke.push(a)}z=Je.prototype;z.Ma=function(){this.y=this.x=0};z.Set=function(a,c){this.x=a;this.y=c};z.V=function(a){this.x=a.x;this.y=a.y};z.Xh=function(){return X(-this.x,-this.y)};z.Tc=function(){return X(this.x,this.y)};z.xg=function(a){this.x+=a.x;this.y+=a.y};z.Ow=function(a){this.x-=a.x;this.y-=a.y};z.$e=function(a){this.x*=a;this.y*=a};
function Me(a){return Math.sqrt(Ne(a))}function Ne(a){return a.x*a.x+a.y*a.y}function Oe(a){var c=Me(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function oe(a,c,b){this.x=a;this.y=c;this.z=b}z=oe.prototype;z.Ma=function(){this.z=this.y=this.x=0};z.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};z.V=function(a){this.x=a.x;this.y=a.y;this.z=a.z};z.Xh=function(){return new oe(-this.x,-this.y,-this.z)};z.Tc=function(){return new oe(this.x,this.y,this.z)};
z.xg=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};z.Ow=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};z.$e=function(a){this.x*=a;this.y*=a;this.z*=a};function Pe(){this.sb=.005}z=Pe.prototype;z.nj=function(){};z.Tc=function(){};z.Set=function(a){this.sb=a.sb};z.tk=function(){};z.Zl=function(){};z.Oo=function(){};z.ys=function(){};function Qe(a){this.sb=.005;this.sb=a;this.j=a*a;this.Lb=X(0,0)}Rd(Qe,Pe);z=Qe.prototype;z.nj=function(){return"b2CircleShape"};
z.Tc=function(){var a=new Qe(this.sb);a.Set(this);return a};z.Set=function(a){Pe.prototype.Set.call(this,a);a instanceof Qe&&this.Lb.V(a.Lb)};z.tk=function(a,c){var b=c.F,d=c.position.x+(b.u.x*this.Lb.x+b.A.x*this.Lb.y),b=c.position.y+(b.u.y*this.Lb.x+b.A.y*this.Lb.y);a.j.Set(d-this.sb,b-this.sb);a.k.Set(d+this.sb,b+this.sb)};z.Zl=function(a,c){a.j=c*Math.PI*this.j;a.k.V(this.Lb);a.B=a.j*(.5*this.j+(this.Lb.x*this.Lb.x+this.Lb.y*this.Lb.y))};
z.Oo=function(a,c,b,d){b=ee(b,this.Lb);var h=-($d(a,b)-c);if(h<-this.sb+Number.MIN_VALUE)return 0;if(h>this.sb)return d.V(b),Math.PI*this.j;c=h*h;h=this.j*(Math.asin(h/this.sb)+Math.PI/2)+h*Math.sqrt(this.j-c);c=-2/3*Math.pow(this.j-c,1.5)/h;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return h};z.ys=function(a){a.Y=[this.Lb];a.j=1;a.sb=this.sb};
function Re(a,c){this.sb=.005;this.j=a;this.k=c;this.B=X(this.k.x-this.j.x,this.k.y-this.j.y);Oe(this.B);this.G=X(this.B.y,-this.B.x);X(-.04*(this.G.x-this.B.x)+this.j.x,-.04*(this.G.y-this.B.y)+this.j.y);X(-.04*(this.G.x+this.B.x)+this.k.x,-.04*(this.G.y+this.B.y)+this.k.y);X(-this.G.x,-this.G.y)}Rd(Re,Pe);Re.prototype.nj=function(){return"b2EdgeShape"};
Re.prototype.tk=function(a,c){var b=c.F,d=c.position.x+(b.u.x*this.j.x+b.A.x*this.j.y),h=c.position.y+(b.u.y*this.j.x+b.A.y*this.j.y),f=c.position.x+(b.u.x*this.k.x+b.A.x*this.k.y),b=c.position.y+(b.u.y*this.k.x+b.A.y*this.k.y);d<f?(a.j.x=d,a.k.x=f):(a.j.x=f,a.k.x=d);h<b?(a.j.y=h,a.k.y=b):(a.j.y=b,a.k.y=h)};Re.prototype.Zl=function(a){a.j=0;a.k.V(this.j);a.B=0};
Re.prototype.Oo=function(a,c,b,d){void 0===c&&(c=0);var h=X(a.x*c,a.y*c),f=ee(b,this.j);b=ee(b,this.k);var e=$d(a,f)-c;a=$d(a,b)-c;if(0<e){if(0<a)return 0;f.x=-a/(e-a)*f.x+e/(e-a)*b.x;f.y=-a/(e-a)*f.y+e/(e-a)*b.y}else 0<a&&(b.x=-a/(e-a)*f.x+e/(e-a)*b.x,b.y=-a/(e-a)*f.y+e/(e-a)*b.y);d.x=(h.x+f.x+b.x)/3;d.y=(h.y+f.y+b.y)/3;return.5*((f.x-h.x)*(b.y-h.y)-(f.y-h.y)*(b.x-h.x))};function Se(){this.j=0;this.k=X(0,0);this.B=0}function Te(){this.sb=.005;this.j=X(0,0);this.Y=[];this.Tb=[]}Rd(Te,Pe);z=Te.prototype;
z.nj=function(){return"b2PolygonShape"};z.Tc=function(){var a=new Te;a.Set(this);return a};z.Set=function(a){Pe.prototype.Set.call(this,a);if(a instanceof Te){this.j.V(a.j);this.Ab=a.Ab;Ue(this,this.Ab);for(var c=0;c<this.Ab;c++)this.Y[c].V(a.Y[c]),this.Tb[c].V(a.Tb[c])}};
function Ve(a,c){var b=c.length;a.Ab=b;Ue(a,b);for(b=b=0;b<a.Ab;b++)a.Y[b].V(c[b]);for(b=0;b<a.Ab;++b){var d=ge(a.Y[b+1<a.Ab?b+1:0],a.Y[b]);a.Tb[b].V(be(d));Oe(a.Tb[b])}for(var b=a.Y,d=a.Ab,h=X(0,0),f=0,e=1/3,g=0;g<d;++g){var l=b[g],m=g+1<d?b[g+1]:b[0],k=.5*((l.x-0)*(m.y-0)-(l.y-0)*(m.x-0)),f=f+k;h.x+=k*e*(0+l.x+m.x);h.y+=k*e*(0+l.y+m.y)}h.x*=1/f;h.y*=1/f;a.j=h}
function We(a,c,b){a.Ab=4;Ue(a,4);a.Y[0].Set(-c,-b);a.Y[1].Set(c,-b);a.Y[2].Set(c,b);a.Y[3].Set(-c,b);a.Tb[0].Set(0,-1);a.Tb[1].Set(1,0);a.Tb[2].Set(0,1);a.Tb[3].Set(-1,0);a.j.Ma()}
z.tk=function(a,c){for(var b=c.F,d=this.Y[0],h=c.position.x+(b.u.x*d.x+b.A.x*d.y),f=c.position.y+(b.u.y*d.x+b.A.y*d.y),e=h,g=f,l=1;l<this.Ab;++l)var d=this.Y[l],m=c.position.x+(b.u.x*d.x+b.A.x*d.y),d=c.position.y+(b.u.y*d.x+b.A.y*d.y),h=h<m?h:m,f=f<d?f:d,e=e>m?e:m,g=g>d?g:d;a.j.x=h-this.sb;a.j.y=f-this.sb;a.k.x=e+this.sb;a.k.y=g+this.sb};
z.Zl=function(a,c){if(2==this.Ab)a.k.x=.5*(this.Y[0].x+this.Y[1].x),a.k.y=.5*(this.Y[0].y+this.Y[1].y),a.j=0,a.B=0;else{for(var b=0,d=0,h=0,f=0,e=1/3,g=0;g<this.Ab;++g)var l=this.Y[g],m=g+1<this.Ab?this.Y[g+1]:this.Y[0],k=l.x-0,n=l.y-0,p=m.x-0,q=m.y-0,u=k*q-n*p,t=.5*u,h=h+t,b=b+t*e*(0+l.x+m.x),d=d+t*e*(0+l.y+m.y),l=k,f=f+u*(e*(.25*(l*l+p*l+p*p)+(0*l+0*p))+0+(e*(.25*(n*n+q*n+q*q)+(0*n+0*q))+0));a.j=c*h;a.k.Set(1/h*b,1/h*d);a.B=c*f}};
z.Oo=function(a,c,b,d){var h=de(b.F,a),f=c-$d(a,b.position),e=[],g=0,l=-1;c=-1;var m=!1;for(a=a=0;a<this.Ab;++a){e[a]=$d(h,this.Y[a])-f;var k=e[a]<-Number.MIN_VALUE;0<a&&(k?m||(l=a-1,g++):m&&(c=a-1,g++));m=k}switch(g){case 0:return m?(a=new Se,this.Zl(a,1),d.V(ee(b,a.k)),a.j):0;case 1:-1==l?l=this.Ab-1:c=this.Ab-1}a=(l+1)%this.Ab;h=(c+1)%this.Ab;f=(0-e[l])/(e[a]-e[l]);e=(0-e[c])/(e[h]-e[c]);l=X(this.Y[l].x*(1-f)+this.Y[a].x*f,this.Y[l].y*(1-f)+this.Y[a].y*f);c=X(this.Y[c].x*(1-e)+this.Y[h].x*e,this.Y[c].y*
(1-e)+this.Y[h].y*e);e=0;f=X(0,0);for(g=this.Y[a];a!=h;)a=(a+1)%this.Ab,m=a==h?c:this.Y[a],k=.5*((g.x-l.x)*(m.y-l.y)-(g.y-l.y)*(m.x-l.x)),e+=k,f.x+=k*(l.x+g.x+m.x)/3,f.y+=k*(l.y+g.y+m.y)/3,g=m;f.$e(1/e);d.V(ee(b,f));return e};z.ys=function(a){a.Y=this.Y;a.j=this.Ab;a.sb=this.sb};z.Po=function(a){for(var c=0,b=this.Y[0].x*a.x+this.Y[0].y*a.y,d=1;d<this.Ab;++d){var h=this.Y[d].x*a.x+this.Y[d].y*a.y;h>b&&(c=d,b=h)}return c};
z.em=function(a){for(var c=0,b=this.Y[0].x*a.x+this.Y[0].y*a.y,d=1;d<this.Ab;++d){var h=this.Y[d].x*a.x+this.Y[d].y*a.y;h>b&&(c=d,b=h)}return this.Y[c]};function Ue(a,c){a.Y=[];a.Tb=[];for(var b=a.Y.length;b<c;b++)a.Y[b]=X(0,0),a.Tb[b]=X(0,0)}new ie;function Xe(){this.k=this.j=this.B=this.tc=0}Xe.prototype.gh=function(a){this.tc=a;this.B=this.tc&255;this.j=(this.tc&65280)>>8&255;this.k=(this.tc&16711680)>>16&255;this.G=(this.tc&4278190080)>>24&255};Xe.prototype.Set=function(a){this.gh(a.tc)};
Xe.prototype.Tc=function(){var a=new Xe;a.Set(this);return a};function Ye(){this.vf=X(0,0);this.id=new Xe}Ye.prototype.Set=function(a){this.vf.V(a.vf);this.id.Set(a.id)};function Ze(){this.j=X(0,0);this.k=X(0,0)}var $e=[];function df(){if(0<$e.length){var a=$e.pop();a.Ma();return a}return new Ze}Ze.prototype.Ma=function(){this.j.Set(0,0);this.k.Set(0,0)};function ef(a,c){var b;return b=(b=(b=(b=a.j.x<=c.j.x)&&a.j.y<=c.j.y)&&c.k.x<=a.k.x)&&c.k.y<=a.k.y}
Ze.prototype.km=function(a){return 0<a.j.x-this.k.x||0<a.j.y-this.k.y||0<this.j.x-a.k.x||0<this.j.y-a.k.y?!1:!0};function ff(a,c,b){a.j.x=Math.min(c.j.x,b.j.x);a.j.y=Math.min(c.j.y,b.j.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function gf(a,c,b,d){var h=0,f=c[0].vf,e=c[1].vf,g=b.x*f.x+b.y*f.y-d;b=b.x*e.x+b.y*e.y-d;0>=g&&a[h++].Set(c[0]);0>=b&&a[h++].Set(c[1]);0>g*b&&(b=g/(g-b),d=a[h].vf,d.x=f.x+b*(e.x-f.x),d.y=f.y+b*(e.y-f.y),a[h].id=0<g?c[0].id:c[1].id,h++);return h}
function hf(a,c,b,d,h){for(var f=c.F.u.x*a.Tb[b].x+c.F.A.x*a.Tb[b].y,e=c.F.u.y*a.Tb[b].x+c.F.A.y*a.Tb[b].y,g=h.F.u.x*f+h.F.u.y*e,l=h.F.A.x*f+h.F.A.y*e,m=0,k=Number.MAX_VALUE,n=0;n<d.Ab;n++){var p=d.Y[n].x*g+d.Y[n].y*l;p<k&&(k=p,m=n)}return(h.position.x+(h.F.u.x*d.Y[m].x+h.F.A.x*d.Y[m].y)-(c.position.x+(c.F.u.x*a.Y[b].x+c.F.A.x*a.Y[b].y)))*f+(h.position.y+(h.F.u.y*d.Y[m].x+h.F.A.y*d.Y[m].y)-(c.position.y+(c.F.u.y*a.Y[b].x+c.F.A.y*a.Y[b].y)))*e}
function jf(a,c,b,d){for(var h=d.position.x+(d.F.u.x*b.j.x+d.F.A.x*b.j.y),f=d.position.y+(d.F.u.y*b.j.x+d.F.A.y*b.j.y),h=h-(c.position.x+(c.F.u.x*a.j.x+c.F.A.x*a.j.y)),f=f-(c.position.y+(c.F.u.y*a.j.x+c.F.A.y*a.j.y)),e=h*c.F.u.x+f*c.F.u.y,f=h*c.F.A.x+f*c.F.A.y,h=0,g=-Number.MAX_VALUE,l=0;l<a.Ab;++l){var m=a.Tb[l].x*e+a.Tb[l].y*f;m>g&&(g=m,h=l)}e=hf(a,c,h,b,d);f=h-1;0>f&&(f=a.Ab-1);g=hf(a,c,f,b,d);l=h+1;l>=a.Ab&&(l=0);var m=hf(a,c,l,b,d),k=0,n=0;if(g>e&&g>m)for(k=f,n=g;;)if(h=k-1,0>h&&(h=a.Ab-1),e=
hf(a,c,h,b,d),e>n)k=h,n=e;else break;else if(m>e)for(k=l,n=m;;)if(h=k+1,h>=a.Ab&&(h=0),e=hf(a,c,h,b,d),e>n)k=h,n=e;else break;else k=h,n=e;return{ax:k,rr:n}}
function kf(a,c,b){var d=new lf,h=b.Gh,f=b.j,e=b.Hh,g=b.k,l,m;d.j=c.count;for(var k=d.Y,n=0;n<d.j;n++){var p=k[n];p.xc=c.xc[n];p.yc=c.yc[n];l=mf(h,p.xc);m=mf(e,p.yc);p.Id=ee(f,l);p.Yf=ee(g,m);p.Sc=ge(p.Yf,p.Id);p.W=0}1<d.j&&(l=c.j,m=nf(d),m<.5*l||2*l<m||m<Number.MIN_VALUE)&&(d.j=0);0==d.j&&(p=k[0],p.xc=0,p.yc=0,l=mf(h,0),m=mf(e,0),p.Id=ee(f,l),p.Yf=ee(g,m),p.Sc=ge(p.Yf,p.Id),d.j=1);for(h=0;20>h;){f=[];for(e=0;e<d.j;e++)f[e]={},f[e].xc=d.Y[e].xc,f[e].yc=d.Y[e].yc;if(2==d.j)e=d,g=e.k.Sc,k=e.B.Sc,l=
ge(k,g),g=-(g.x*l.x+g.y*l.y),0>=g?(e.k.W=1,e.j=1):(k=k.x*l.x+k.y*l.y,0>=k?(e.B.W=1,e.j=1,e.k.Set(e.B)):(l=1/(k+g),e.k.W=k*l,e.B.W=g*l,e.j=2));else if(3==d.j){var e=d,q=e.k.Sc,u=e.B.Sc,t=e.G.Sc,v=ge(u,q),g=$d(u,v),k=-$d(q,v),r=ge(t,q);l=$d(t,r);m=-$d(q,r);p=ge(t,u);n=$d(t,p);p=-$d(u,p);r=ae(v,r);v=r*ae(u,t);t=r*ae(t,q);q=r*ae(q,u);0>=k&&0>=m?(e.k.W=1,e.j=1):0<g&&0<k&&0>=q?(l=1/(g+k),e.k.W=g*l,e.B.W=k*l,e.j=2):0<l&&0<m&&0>=t?(g=1/(l+m),e.k.W=l*g,e.G.W=m*g,e.j=2,e.B.Set(e.G)):0>=g&&0>=p?(e.B.W=1,e.j=
1,e.k.Set(e.B)):0>=l&&0>=n?(e.G.W=1,e.j=1,e.k.Set(e.G)):0<n&&0<p&&0>=v?(g=1/(n+p),e.B.W=n*g,e.G.W=p*g,e.j=2,e.k.Set(e.G)):(g=1/(v+t+q),e.k.W=v*g,e.B.W=t*g,e.G.W=q*g,e.j=3)}if(3==d.j)break;e=d;1==e.j?e=e.k.Sc.Xh():2==e.j?(g=ge(e.B.Sc,e.k.Sc),e=0<ae(g,e.k.Sc.Xh())?X(-1*g.y,1*g.x):be(g)):e=X(0,0);if(Ne(e)<Zd)break;g=e.Xh();d.Y[d.j].xc=b.Gh.Po(de(b.j.F,g));d.Y[d.j].Id=ee(b.j,mf(b.Gh,d.Y[d.j].xc));d.Y[d.j].yc=b.Hh.Po(de(b.k.F,e));d.Y[d.j].Yf=ee(b.k,mf(b.Hh,d.Y[d.j].yc));d.Y[d.j].Sc=ge(d.Y[d.j].Yf,d.Y[d.j].Id);
Le(e);Le(g);h++;g=!1;for(e=0;e<f.length;e++)if(d.Y[d.j].xc==f[e].xc&&d.Y[d.j].yc==f[e].yc){g=!0;break}if(g)break;d.j++}h=a.j;f=a.k;1==d.j?(h.V(d.k.Id),f.V(d.k.Yf)):2==d.j?(h.x=d.k.W*d.k.Id.x+d.B.W*d.B.Id.x,h.y=d.k.W*d.k.Id.y+d.B.W*d.B.Id.y,f.x=d.k.W*d.k.Yf.x+d.B.W*d.B.Yf.x,f.y=d.k.W*d.k.Yf.y+d.B.W*d.B.Yf.y):3==d.j&&(f.x=h.x=d.k.W*d.k.Id.x+d.B.W*d.B.Id.x+d.G.W*d.G.Id.x,f.y=h.y=d.k.W*d.k.Id.y+d.B.W*d.B.Id.y+d.G.W*d.G.Id.y);a.B=Me(ge(a.j,a.k));c.j=nf(d);c.count=d.j;h=d.Y;for(f=0;f<d.j;f++)c.xc[f]=h[f].xc,
c.yc[f]=h[f].yc;b.B&&(c=b.Gh.sb,b=b.Hh.sb,a.B>c+b&&a.B>Number.MIN_VALUE?(a.B-=c+b,d=ge(a.k,a.j),Oe(d),a.j.x+=c*d.x,a.j.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,Le(d)):(b=X(0,0),b.x=.5*(a.j.x+a.k.x),b.y=.5*(a.j.y+a.k.y),a.j.x=a.k.x=b.x,a.j.y=a.k.y=b.y,a.B=0,Le(b)))}function of(){}function pf(){this.j=X(0,0);this.k=X(0,0);this.B=0}function qf(){}qf.prototype.Set=function(a){a.ys(this)};
qf.prototype.Po=function(a){for(var c=0,b=this.Y[0].x*a.x+this.Y[0].y*a.y,d=1;d<this.j;d++){var h=this.Y[d].x*a.x+this.Y[d].y*a.y;h>b&&(c=d,b=h)}return c};qf.prototype.em=function(a){return this.Y[this.Po(a)]};function mf(a,c){void 0===c&&(c=0);return a.Y[c]}function rf(){this.j=null}rf.prototype.$l=function(a){sf(this,a);a.fd()};function tf(a,c,b){if(null!==a.j){var d=[];for(d.push(a.j);0<d.length;)if(a=d.pop(),a.ib.km(b))if(null===a.we){if(!c(a.Hf))break}else d.push(a.we),d.push(a.Gg)}}
function uf(a,c){if(null===a.j)a.j=c,a.j.parent=null;else{var b;b=c.ib;b=X((b.j.x+b.k.x)/2,(b.j.y+b.k.y)/2);for(var d=a.j;null!==d.we;)var h=d.we,d=d.Gg,f=Math.abs((h.ib.j.x+h.ib.k.x)/2-b.x)+Math.abs((h.ib.j.y+h.ib.k.y)/2-b.y),e=Math.abs((d.ib.j.x+d.ib.k.x)/2-b.x)+Math.abs((d.ib.j.y+d.ib.k.y)/2-b.y),d=f<e?h:d;Le(b);b=d;h=b.parent;d=vf();d.parent=h;ff(d.ib,c.ib,b.ib);if(h)for(b.parent.we==b?h.we=d:h.Gg=d,d.we=b,d.Gg=c,b.parent=d,c.parent=d;h&&!ef(h.ib,d.ib);)ff(h.ib,h.we.ib,h.Gg.ib),d=h,h=h.parent;
else d.we=b,d.Gg=c,b.parent=d,c.parent=d,a.j=d}}function sf(a,c){if(c==a.j)a.j=null;else{var b=c.parent,d=b.parent,h;h=b.we==c?b.Gg:b.we;if(d)for(d.we==b?d.we=h:d.Gg=h,h.parent=d;d;){h=d.ib;ff(d.ib,d.we.ib,d.Gg.ib);if(ef(h,d.ib))break;d=d.parent}else a.j=h,h.parent=null;b.fd()}}function wf(){this.k=new rf;this.j=[]}wf.prototype.$l=function(a){Na(this.j,a);this.k.$l(a)};wf.prototype.km=function(a,c){return a.ib.km(c.ib)};
function xf(a,c){for(var b=[];0<a.j.length;){var d=a.j.pop();tf(a.k,function(a){a!=d.Hf&&b.push(new yf(d.Hf,a));return!0},d.ib)}for(var h=0;h<b.length;){var f=b[h];c(f.Pm,f.Qm);for(h++;h<b.length;){var e=b[h];if(!(e.Pm==f.Pm&&e.Qm==f.Qm||e.Pm==f.Qm&&e.Qm==f.Pm))break;h++}}}function zf(a){this.ib=df();this.Hf=this.parent=this.Gg=this.we=null;"undefined"!=typeof a&&(this.Hf=a)}var Af=[];
function vf(a){if(0<Af.length){var c=Af.pop();"undefined"!=typeof a&&(c.Hf=a);c.ib.Ma();return c}return new zf(a)}zf.prototype.fd=function(){this.Hf=this.parent=this.Gg=this.we=null;Af.push(this)};function yf(a,c){this.Pm=a;this.Qm=c}function Bf(){this.tb=this.nc=0;this.Ia=[];for(var a=0;2>a;a++)this.Ia[a]=new Cf;this.nd=X(0,0);this.Sa=X(0,0)}Bf.prototype.gd=function(){for(var a=0;2>a;a++)this.Ia[a].gd();this.nd.Ma();this.Sa.Ma();this.nc=this.tb=0};
Bf.prototype.Set=function(a){this.nc=a.nc;for(var c=0;2>c;c++)this.Ia[c].Set(a.Ia[c]);this.nd.V(a.nd);this.Sa.V(a.Sa);this.tb=a.tb};Bf.prototype.Tc=function(){var a=new Bf;a.Set(this);return a};function Cf(){this.Sa=X(0,0);this.Nf=new Xe;this.gd()}Cf.prototype.gd=function(){this.Sa.Ma();this.bk=this.ak=0;this.Nf.gh(0)};Cf.prototype.Set=function(a){this.Sa.V(a.Sa);this.ak=a.ak;this.bk=a.bk;this.Nf.Set(a.Nf)};
function Df(){var a=Ef,c=Ff,b=Lf,d,h,f=0;switch(a.tb){case Qf:d=de(c.F,a.j);h=de(b.F,a.j.Xh());d=a.k.em(d);h=a.B.em(h);c=ee(c,d);b=ee(b,h);f=(b.x-c.x)*a.j.x+(b.y-c.y)*a.j.y;break;case Xf:f=ce(c.F,a.j);c=ee(c,a.Sa);h=de(b.F,f.Xh());h=a.B.em(h);b=ee(b,h);f=(b.x-c.x)*f.x+(b.y-c.y)*f.y;break;case Yf:f=ce(b.F,a.j),b=ee(b,a.Sa),d=de(c.F,f.Xh()),d=a.k.em(d),c=ee(c,d),f=(c.x-b.x)*f.x+(c.y-b.y)*f.y}return f}var Qf=1,Xf=2,Yf=4;
function lf(){this.k=new Zf;this.B=new Zf;this.G=new Zf;this.Y=[this.k,this.B,this.G]}function nf(a){return 1==a.j?0:2==a.j?Me(ge(a.k.Sc,a.B.Sc)):3==a.j?ae(ge(a.B.Sc,a.k.Sc),ge(a.G.Sc,a.k.Sc)):0}function $f(){this.xc=[0,0,0];this.yc=[0,0,0]}function Zf(){}Zf.prototype.Set=function(a){this.Id.V(a.Id);this.Yf.V(a.Yf);this.Sc.V(a.Sc);this.W=a.W;this.xc=a.xc;this.yc=a.yc};function ag(){this.Gh=new qf;this.Hh=new qf;this.jA=new He;this.kA=new He}
function bg(a,c){this.la="Body"+cg++;this.J=new Ie;this.J.position.V(a.position);this.J.F.Set(a.L);this.q=new He;this.q.X.Ma();this.q.Xd=1;this.q.xf=this.q.W=a.L;this.q.I.x=this.J.F.u.x*this.q.X.x+this.J.F.A.x*this.q.X.y;this.q.I.y=this.J.F.u.y*this.q.X.x+this.J.F.A.y*this.q.X.y;this.q.I.x+=this.J.position.x;this.q.I.y+=this.J.position.y;this.q.hd.V(this.q.I);this.D=a.U.Tc();this.k=X(0,0);this.K=a.Ek;this.Pb=a.j;this.$a=a.k;this.Te=a.G;this.xa=a.Ec;this.Ue=c;this.cc=null;this.xe=new dg;this.ua=new eg;
this.M=a.B;this.zb=a.ol;this.eb=a.Ck;this.U=this.G=0;this.tb=a.type;this.fa=2==this.tb?1:0;this.T=2==this.tb?1:0;this.da=this.j=0;this.gb=a.K;this.B=new fg;this.O=[]}function gg(a,c){var b=new hg(a,0,c);if(a.xa){var d=a.Ue.j.j;b.Mc.tk(b.j,a.J);var h=d.k,f=b.j,e=vf(b);e.ib.j.x=f.j.x-.1;e.ib.j.y=f.j.y-.1;e.ib.k.x=f.k.x+.1;e.ib.k.y=f.k.y+.1;uf(h,e);d.j.push(e);b.k=e}d=a.B;h=b.Tv;null==d.j[h]&&(f=new ig(b),e=d.B,null!=e?e.next=f:d.k=f,f.hh(e),d.B=f,d.j[h]=f);b.yu=a;0<b.G&&jg(a);a.Ue.k=!0}z=bg.prototype;
z.fd=function(){Le(this.D);Le(this.k)};function kg(a,c,b){a.J.F.Set(b);a.J.position.V(c);c=a.J.F;var d=a.q.X;a.q.I.x=c.u.x*d.x+c.A.x*d.y;a.q.I.y=c.u.y*d.x+c.A.y*d.y;a.q.I.x+=a.J.position.x;a.q.I.y+=a.J.position.y;a.q.hd.V(a.q.I);a.q.xf=a.q.W=b;b=a.Ue.j.j;for(c=a.B.qb();c;c=c.fb())lg(c.Hf,b,a.J,a.J);mg(a.Ue.j)}z.Le=function(){return this.J};z.lj=function(){return this.q.W};z.Uo=function(a){kg(this,this.J.position,a)};function ng(a,c){0!=a.tb&&a.D.V(c)}
z.Vo=function(a){void 0===a&&(a=0);0!=this.tb&&(this.M=a)};z.ij=function(a,c){2==this.tb&&(og(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.G+=(c.x-this.q.I.x)*a.y-(c.y-this.q.I.y)*a.x)};z.ns=function(a){void 0===a&&(a=0);2==this.tb&&(og(this,!0),this.G+=a)};
function jg(a){a.fa=0;a.T=0;a.j=0;a.da=0;a.q.X.Ma();if(0!=a.tb&&1!=a.tb){for(var c=X(0,0),b=a.B.qb();b;b=b.fb()){var d=b.Hf;if(0!=d.G){var h=void 0,h=new Se;d.Mc.Zl(h,d.G);d=h;a.fa+=d.j;c.x+=d.k.x*d.j;c.y+=d.k.y*d.j;a.j+=d.B}}0<a.fa?(a.T=1/a.fa,c.x*=a.T,c.y*=a.T):(a.fa=1,a.T=1);0<a.j&&!a.Pb?(a.j-=a.fa*(c.x*c.x+c.y*c.y),a.j*=a.gb,a.da=1/a.j):(a.j=0,a.da=0);b=a.q.I.Tc();a.q.X.V(c);a.q.hd.V(ee(a.J,a.q.X));a.q.I.V(a.q.hd);a.D.x+=a.M*-(a.q.I.y-b.y);a.D.y+=a.M*+(a.q.I.x-b.x);Le(c);Le(b)}}
function pg(a,c){var b=a.J.F,b=X(b.u.x*c.x+b.A.x*c.y,b.u.y*c.x+b.A.y*c.y);b.x+=a.J.position.x;b.y+=a.J.position.y;return b}z.td=function(){return this.tb};function og(a,c){if(a.Te!=c){a.Te=c;a.U=0;c||(a.D.Ma(),a.M=0,a.k.Ma(),a.G=0);for(var b=0;b<a.O.length;b++)qg(a.O[b],a)}}z.wk=function(){return this.xa};z.mj=function(){return this.xe};
function rg(a){sg.F.Set(a.q.xf);var c=sg.F,b=a.q.X;sg.position.x=a.q.hd.x-(c.u.x*b.x+c.A.x*b.y);sg.position.y=a.q.hd.y-(c.u.y*b.x+c.A.y*b.y);c=a.Ue.j.j;for(b=a.B.qb();b;b=b.fb())lg(b.Hf,c,sg,a.J)}function tg(a){a.J.F.Set(a.q.W);var c=a.J.F,b=a.q.X;a.J.position.x=a.q.I.x-(c.u.x*b.x+c.A.x*b.y);a.J.position.y=a.q.I.y-(c.u.y*b.x+c.A.y*b.y)}function ug(a,c){if(2!=a.tb&&2!=c.tb)return!1;for(var b=a.cc;b;b=b.next)if(b.of==c&&0==b.xh.Wy)return!1;return!0}
z.Wh=function(a){this.q.Wh(a);this.q.I.V(this.q.hd);this.q.W=this.q.xf;tg(this)};var cg=0;function vg(){this.position=X(0,0);this.U=X(0,0);this.Ck=this.ol=this.B=this.L=0;this.G=this.k=!0;this.Ek=this.j=!1;this.type=0;this.Ec=!0;this.K=1}function wg(){this.k=[];for(var a=0;a<=xg;a++)this.k[a]=null;this.B=[];for(a=0;a<=xg;a++)this.B[a]=null;this.j={}}wg.prototype.qb=function(a){return this.k[a]};
function qg(a,c){var b=c.td(),d=c.la,h=c.Te,f=c.wk();2==b?yg(a,c,d,zg):Ag(a,d,zg);0!=b?yg(a,c,d,Bg):Ag(a,d,Bg);0!=b&&f&&h?yg(a,c,d,Cg):Ag(a,d,Cg);h?yg(a,c,d,Dg):Ag(a,d,Dg);f?yg(a,c,d,Eg):Ag(a,d,Eg)}wg.prototype.hm=function(a){var c=a.la;if(null!=this.j[c]){Na(a.O,this);for(a=0;a<=xg;a++)Ag(this,c,a);delete this.j[c]}};function Ag(a,c,b){var d=a.j[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.j,c=c.fb(),null==d?a.k[b]=c:d.next=c,null==c?a.B[b]=d:c.hh(d)))}
function yg(a,c,b,d){var h=a.j[b];if(null==h){for(var h=[],f=0;f<=xg;f++)h[f]=null;a.j[b]=h}null==h[d]&&(h[d]=new Fg(c),c=a.B[d],null!=c?c.next=h[d]:a.k[d]=h[d],h[d].hh(c),a.B[d]=h[d])}var zg=0,Bg=1,Eg=2,Cg=3,Dg=4,xg=5;function Fg(a){this.body=a;this.j=this.next=null}Fg.prototype.hh=function(a){this.j=a};Fg.prototype.yb=function(){return this.body};Fg.prototype.fb=function(){return this.next};function Gg(){}
Gg.prototype.j=function(a,c){var b=a.K.Tc(),d=c.K.Tc();return b.j==d.j&&0!=b.j?0<b.j:0!=(b.B&d.k)&&0!=(b.k&d.B)};var Hg=new Gg;function Ig(){this.j=[];this.k=[]}function Jg(){}Jg.prototype.BeginContact=function(){};Jg.prototype.EndContact=function(){};function Kg(a){this.Ue=a;this.B=Hg;this.k=Lg;this.G=new Mg;this.j=new wf}
function mg(a){xf(a.j,function(c,b){a:{var d=c.yb(),h=b.yb();if(d!=h&&ug(h,d)&&a.B.j(c,b)){for(d=h.xe.qb(Ng);d;d=d.fb())if(h=d.Xc.Ac,h==c){if(h=d.Xc.mc,h==b)break a}else if(h==b&&(h=d.Xc.mc,h==c))break a;a.G.B(c,b)}}})}Kg.prototype.fd=function(a){a.rk&&this.k.EndContact(a);0<a.kf.nc&&(og(a.Ac.yb(),!0),og(a.mc.yb(),!0));Og(a.kp,a);Og(a.lp,a);Og(a.gs,a);this.G.fd(a)};function Pg(){this.k=1;this.B=65535;this.j=0}Pg.prototype.Tc=function(){var a=new Pg;a.k=this.k;a.B=this.B;a.j=this.j;return a};
function hg(a,c,b){this.Tv="Fixture"+Qg++;this.K=b.j.Tc();this.j=df();this.yu=a;this.Mc=b.shape.Tc();this.G=b.mi;this.U=b.ri;this.O=b.Xi;this.B=b.k}hg.prototype.yb=function(){return this.yu};hg.prototype.fd=function(){$e.push(this.j)};hg.prototype.$l=function(a){null!=this.k&&(a.$l(this.k),this.k=null)};
function lg(a,c,b,d){if(a.k){var h=df(),f=df();a.Mc.tk(h,b);a.Mc.tk(f,d);ff(a.j,h,f);$e.push(h);$e.push(f);b=ge(d.position,b.position);d=a.k;h=c.k;a=a.j;if(ef(d.ib,a))a=!1;else{sf(h,d);var f=.1+2*Math.abs(b.x),e=.1+2*Math.abs(b.y);d.ib.j.x=a.j.x-f;d.ib.j.y=a.j.y-e;d.ib.k.x=a.k.x+f;d.ib.k.y=a.k.y+e;uf(h,d);a=!0}a&&c.j.push(d);Le(b)}}var Qg=0;function Rg(){this.j=new Pg;this.j.k=1;this.j.B=65535;this.j.j=0;this.shape=null;this.ri=.2;this.mi=this.Xi=0;this.k=!1}
function fg(){this.B=this.k=null;this.j={}}fg.prototype.qb=function(){return this.k};function ig(a){this.Hf=a;this.j=this.next=null}ig.prototype.hh=function(a){this.j=a};ig.prototype.fb=function(){return this.next};function Sg(a,c){this.xa=a;this.G=c;this.k=[];this.U=[];this.K=[];this.B=[];this.j=[]}Sg.prototype.kj=function(){this.k=[];this.U=[];this.K=[];this.B=[];this.j=[]};
function Tg(a,c){if(null!=a.xa)for(var b=0;b<a.B.length;++b)for(var d=c[b],h=new Ig,f=0;f<d.K;++f)h.j[f]=d.B[f].oc,h.k[f]=d.B[f].ah}function Ug(a,c){a.k.push(c);0!=c.td()&&(a.K.push(c),2==c.td()&&a.U.push(c))}function Vg(a,c,b,d,h){this.ab=a;var f=0;0<a&&(f=1/a);this.j=f;this.Jc=c;this.Vn=b;this.Go=d;this.Uh=h}function Wg(a,c){this.j=new Kg(this);this.B=new Xg;this.k=!1;this.jj=new wg;this.xe=new dg;this.cc=null;this.U=new eg;this.O=0;this.la=c;this.G=a;this.K=0;this.aH=Yg(this,new vg)}
var Zg=1-100*Number.MIN_VALUE;function Yg(a,c){var b=new bg(c,a),d=a.jj,h=b.la;null==d.j[h]&&(yg(d,b,h,xg),qg(d,b),b.O.push(d));return b}
function $g(a,c){for(var b=c.cc;b;){var d=b,b=b.next;ah(a,d.xh)}for(b=c.ua.qb();b;b=b.fb())b.uE.hm(c);for(b=c.xe.qb(Ng);b;b=b.fb())a.j.fd(b.Xc);for(b=c.B.qb();b;b=b.fb()){var d=c,h=b.Hf,f=d.B,e=h.Tv,g=f.j[e];if(null!=g){var l=g.j,g=g.fb();null==l?f.k=g:l.next=g;null==g?f.B=l:g.hh(l);delete f.j[e]}for(f=d.xe.qb(Ng);f;f=f.fb())h!=f.Xc.Ac&&h!=f.Xc.mc||d.Ue.j.fd(f.Xc);d.xa&&h.$l(d.Ue.j.j);h.fd();h.yu=null;jg(d)}c.fd();a.jj.hm(c)}
function bh(a,c){var b=c.B();b.ul=null;if(b.Mi=a.cc)a.cc.ul=b;a.cc=b;a.O++;b.he.xh=b;b.he.of=b.na;b.he.prev=null;if(b.he.next=b.ma.cc)b.ma.cc.prev=b.he;b.ma.cc=b.he;b.ie.xh=b;b.ie.of=b.ma;b.ie.prev=null;if(b.ie.next=b.na.cc)b.na.cc.prev=b.ie;b.na.cc=b.ie;var d=c.j,h=c.k;if(!c.U)for(var f=h.xe.qb(Ng);f;f=f.fb())ch(f.Xc,h)==d&&(f.Xc.Nm=!0);return b}
function ah(a,c){var b=c.Wy;c.ul&&(c.ul.Mi=c.Mi);c.Mi&&(c.Mi.ul=c.ul);c==a.cc&&(a.cc=c.Mi);var d=c.ma,h=c.na;og(d,!0);og(h,!0);c.he.prev&&(c.he.prev.next=c.he.next);c.he.next&&(c.he.next.prev=c.he.prev);c.he==d.cc&&(d.cc=c.he.next);c.he.prev=null;c.he.next=null;c.ie.prev&&(c.ie.prev.next=c.ie.next);c.ie.next&&(c.ie.next.prev=c.ie.prev);c.ie==h.cc&&(h.cc=c.ie.next);c.ie.prev=null;c.ie.next=null;a.O--;if(!b)for(b=h.xe.qb(Ng);b;b=b.fb())ch(b.Xc,h)==d&&(b.Xc.Nm=!0)}
Wg.prototype.$h=function(a,c,b){var d,h;this.k&&(mg(this.j),this.k=!1);for(var f=new Vg(a,this.K*a,c,b,!0),e=this.j,g=e.Ue.xe.qb(Ng);g;g=g.fb()){var l=g.Xc,m=l.Ac,k=l.mc,n=m.yb(),p=k.yb();if(0!=n.Te||0!=p.Te){if(l.Nm){if(0==ug(p,n)){e.fd(l);continue}if(0==e.B.j(m,k)){e.fd(l);continue}l.Nm=!1}0==e.j.km(m.k,k.k)?e.fd(l):dh(l,e.k)}}if(0<f.ab){for(var q=this.U.qb();q;q=q.fb())q.uE.$h(f);for(var u=new Sg(this.j.k,this.B),t=this.jj.qb(xg);t;t=t.fb())t.body.Yb=!1;for(var v=this.xe.qb(Ng);v;v=v.fb())v.Xc.Yb=
!1;for(var r=this.cc;r;r=r.Mi)r.Yb=!1;for(t=this.jj.qb(Cg);t;t=t.fb()){var y=t.body;if(!y.Yb){u.kj();eh.length=0;var B=eh;B.push(y);for(y.Yb=!0;0<B.length;){var D=B.pop();Ug(u,D);D.Te||og(D,!0);if(0!=D.td()){for(v=D.xe.qb(fh);v;v=v.fb()){var C=v.Xc;if(!C.Yb){u.B.push(C);C.Yb=!0;var E=ch(C,D);E.Yb||(B.push(E),E.Yb=!0)}}for(var A=D.cc;A;A=A.next)!A.xh.Yb&&A.of.wk()&&(u.j.push(A.xh),A.xh.Yb=!0,A.of.Yb||(B.push(A.of),A.of.Yb=!0))}}for(var x=u,w=f,F=this.la,I=x,S=w,ea=this.G,T=0;T<I.U.length;T++){var G=
I.U[T];G.D.x+=S.ab*(ea.x+G.T*G.k.x);G.D.y+=S.ab*(ea.y+G.T*G.k.y);G.M+=S.ab*G.da*G.G;G.D.$e(he(1-S.ab*G.zb,0,1));G.M*=he(1-S.ab*G.eb,0,1)}mh(x.G,x.B,x.B.length);for(var ba=x,U=w,O=ba.G,J=0;J<O.k;++J){var M=O.j[J],P=M.j,K=M.k,N=P.T,W=P.da,ha=K.T,R=K.da,va=M.G.x,na=M.G.y,cb=na,Vd=-va,Ra=0,Tb=0;if(U.Uh)for(Tb=M.K,Ra=0;Ra<Tb;++Ra){var za=M.B[Ra];za.oc*=U.Jc;za.ah*=U.Jc;var Bb=za.oc*va+za.ah*cb,yb=za.oc*na+za.ah*Vd;P.M-=W*(za.ec.x*yb-za.ec.y*Bb);P.D.x-=N*Bb;P.D.y-=N*yb;K.M+=R*(za.fc.x*yb-za.fc.y*Bb);K.D.x+=
ha*Bb;K.D.y+=ha*yb}else for(Tb=M.K,Ra=0;Ra<Tb;++Ra){var ia=M.B[Ra];ia.oc=0;ia.ah=0}}for(var hd=0;hd<ba.j.length;hd++)ba.j[hd].yg(U);for(var jc=0;jc<U.Go;jc++){for(var Ja=0;Ja<ba.j.length;Ja++)ba.j[Ja].Ag(U);nh(ba.G)}for(var Ub=0;Ub<ba.j.length;Ub++);for(var Vb=ba.G,Ab=0;Ab<Vb.k;++Ab)for(var af=Vb.j[Ab],Ni=af.xa,Wd=0;Wd<af.K;++Wd){var gh=Ni.Ia[Wd],hh=af.B[Wd];gh.ak=hh.oc;gh.bk=hh.ah}for(var ih=x,zb=w,bf=0;bf<ih.K.length;++bf){var ja=ih.K[bf],jh=zb.ab*ja.D.x,kh=zb.ab*ja.D.y;4<jh*jh+kh*kh&&(Oe(ja.D),
ja.D.x=2*ja.D.x*zb.j,ja.D.y=2*ja.D.y*zb.j);var lh=zb.ab*ja.M;lh*lh>Xd&&(ja.M=0>ja.M?-Ud*zb.j:Ud*zb.j);ja.q.hd.V(ja.q.I);ja.q.xf=ja.q.W;ja.q.I.x+=zb.ab*ja.D.x;ja.q.I.y+=zb.ab*ja.D.y;ja.q.W+=zb.ab*ja.M;tg(ja)}for(var cf=x,Oi=w,Yh=0;Yh<Oi.Vn;Yh++){for(var bj=oh(cf.G,.2),Gf=!0,Hf=0;Hf<cf.j.length;Hf++)var cj=cf.j[Hf].zg(.2),Gf=Gf&&cj;if(bj&&Gf)break}Tg(x,x.G.j);if(F){for(var qe=x,dj=w,re=Number.MAX_VALUE,If=0;If<qe.K.length;If++){var Yb=qe.K[If];!Yb.$a||Math.abs(Yb.M)>Yd||1E-4<$d(Yb.D,Yb.D)?re=Yb.U=0:
(Yb.U+=dj.ab,re=Math.min(re,Yb.U))}if(.5<=re)for(var Jf=0;Jf<qe.k.length;Jf++)og(qe.k[Jf],!1)}}}for(t=this.jj.qb(Cg);t;t=t.fb())rg(t.body);mg(this.j);for(var Ga=new Sg(this.j.k,this.B),se=this.jj.qb(xg);se;se=se.fb()){var Gb=se.body;Gb.Yb=!1;Gb.q.Xd=0}for(var Za=this.xe.qb(Ng);Za;Za=Za.fb())Za.Xc.Yb=!1,Za.Xc.j=null;for(var te=this.cc;te;te=te.Mi)te.Yb=!1;for(;;){for(var $h=null,Kf=1,ue=this.xe.qb(ph);ue;ue=ue.fb()){var qb=ue.Xc,ai=qb.Ac.yb(),bi=qb.mc.yb();if(2==ai.td()&&ai.Te||2==bi.td()&&bi.Te){var kb=
1;if(null!=qb.j)kb=qb.j;else if(qb.rk)kb=1,qb.j=kb;else{var Kc=qb.Ac.yb(),sd=qb.mc.yb(),td=Kc.q.Xd;Kc.q.Xd<sd.q.Xd?(td=sd.q.Xd,Kc.q.Wh(td)):sd.q.Xd<Kc.q.Xd&&(td=Kc.q.Xd,sd.q.Wh(td));var ci=qb,ej=Kc.q,fj=sd.q;qh.Gh.Set(ci.Ac.Mc);qh.Hh.Set(ci.mc.Mc);qh.jA=ej;qh.kA=fj;qh.mI=.005;var ud=qh;rh++;var Mf=ud.Gh,Nf=ud.Hh,Of=ud.jA,Pf=ud.kA,ve=Mf.sb+Nf.sb,we=ud.mI,rb=0,vd=0,Lc=0;sh.count=0;for(th.B=!1;;){Of.Le(Ff,rb);Pf.Le(Lf,rb);th.Gh=Mf;th.Hh=Nf;th.j=Ff;th.k=Lf;kf(uh,sh,th);if(0>=uh.B){rb=1;break}var hj=Nf,
Y=Ef,Ma=sh,sb=Ff,tb=Lf;Y.k=Mf;Y.B=hj;var Zb=void 0,ub=void 0,Mb=void 0,$b=void 0,vb=void 0,Nb=void 0,Nc=0,Oc=0,Pc=0,Qc=0,xe=0,ye=0,Z=void 0,aa=void 0,lb=0;if(1==Ma.count)Y.tb=Qf,Zb=mf(Y.k,Ma.xc[0]),$b=mf(Y.B,Ma.yc[0]),aa=Zb,Z=sb.F,Nc=sb.position.x+(Z.u.x*aa.x+Z.A.x*aa.y),Oc=sb.position.y+(Z.u.y*aa.x+Z.A.y*aa.y),aa=$b,Z=tb.F,Pc=tb.position.x+(Z.u.x*aa.x+Z.A.x*aa.y),Qc=tb.position.y+(Z.u.y*aa.x+Z.A.y*aa.y),Y.j.x=Pc-Nc,Y.j.y=Qc-Oc,Oe(Y.j);else{if(Ma.yc[0]==Ma.yc[1])Y.tb=Xf,ub=mf(Y.k,Ma.xc[0]),Mb=mf(Y.k,
Ma.xc[1]),$b=mf(Y.B,Ma.yc[0]),Y.Sa.x=.5*(ub.x+Mb.x),Y.Sa.y=.5*(ub.y+Mb.y),Y.j=be(ge(Mb,ub)),Oe(Y.j),aa=Y.j,Z=sb.F,xe=Z.u.x*aa.x+Z.A.x*aa.y,ye=Z.u.y*aa.x+Z.A.y*aa.y,aa=Y.Sa,Z=sb.F,Nc=sb.position.x+(Z.u.x*aa.x+Z.A.x*aa.y),Oc=sb.position.y+(Z.u.y*aa.x+Z.A.y*aa.y),aa=$b,Z=tb.F,Pc=tb.position.x+(Z.u.x*aa.x+Z.A.x*aa.y),Qc=tb.position.y+(Z.u.y*aa.x+Z.A.y*aa.y),lb=(Pc-Nc)*xe+(Qc-Oc)*ye;else if(Ma.xc[0]==Ma.xc[0])Y.tb=Yf,vb=mf(Y.B,Ma.yc[0]),Nb=mf(Y.B,Ma.yc[1]),Zb=mf(Y.k,Ma.xc[0]),Y.Sa.x=.5*(vb.x+Nb.x),Y.Sa.y=
.5*(vb.y+Nb.y),Y.j=be(ge(Nb,vb)),Oe(Y.j),aa=Y.j,Z=tb.F,xe=Z.u.x*aa.x+Z.A.x*aa.y,ye=Z.u.y*aa.x+Z.A.y*aa.y,aa=Y.Sa,Z=tb.F,Pc=tb.position.x+(Z.u.x*aa.x+Z.A.x*aa.y),Qc=tb.position.y+(Z.u.y*aa.x+Z.A.y*aa.y),aa=Zb,Z=sb.F,Nc=sb.position.x+(Z.u.x*aa.x+Z.A.x*aa.y),Oc=sb.position.y+(Z.u.y*aa.x+Z.A.y*aa.y),lb=(Nc-Pc)*xe+(Oc-Qc)*ye;else{var ub=mf(Y.k,Ma.xc[0]),Mb=mf(Y.k,Ma.xc[1]),vb=mf(Y.B,Ma.yc[0]),Nb=mf(Y.B,Ma.yc[1]),Ob=ce(sb.F,ge(Mb,ub)),Pb=ce(tb.F,ge(Nb,vb)),ei=Ob.x*Ob.x+Ob.y*Ob.y,Rf=Pb.x*Pb.x+Pb.y*Pb.y,
ze=ge(Pb,Ob),fi=Ob.x*ze.x+Ob.y*ze.y,gi=Pb.x*ze.x+Pb.y*ze.y,wd=Ob.x*Pb.x+Ob.y*Pb.y,hi=ei*Rf-wd*wd,lb=0;0!=hi&&(lb=he((wd*gi-fi*Rf)/hi,0,1));0>(wd*lb+gi)/Rf&&(lb=he((wd-fi)/ei,0,1));Zb=X(0,0);Zb.x=ub.x+lb*(Mb.x-ub.x);Zb.y=ub.y+lb*(Mb.y-ub.y);$b=X(0,0);$b.x=vb.x+lb*(Nb.x-vb.x);$b.y=vb.y+lb*(Nb.y-vb.y);0==lb||1==lb?(Y.tb=Yf,Y.j=be(ge(Nb,vb)),Oe(Y.j),Y.Sa=$b):(Y.tb=Xf,Y.j=be(ge(Mb,ub)),Y.Sa=Zb)}if(0>lb){var Ae=Y.j;Ae.x=-Ae.x;Ae.y=-Ae.y}}var xd=Df();if(0>=xd){rb=1;break}0==vd&&(Lc=xd>ve?Math.max(ve-we,
.75*ve):Math.max(xd-we,.02*ve));if(xd-Lc<.5*we){if(0==vd){rb=1;break}break}var Sf=rb,Be=rb,yd=1,Tf=xd;Of.Le(Ff,yd);Pf.Le(Lf,yd);var Uf=Df();if(Uf>=Lc){rb=1;break}for(var Ce=0;;){var Rc=0,Rc=Ce&1?Be+(Lc-Tf)*(yd-Be)/(Uf-Tf):.5*(Be+yd);Of.Le(Ff,Rc);Pf.Le(Lf,Rc);var De=Df();if(Math.abs(De-Lc)<.025*we){Sf=Rc;break}De>Lc?(Be=Rc,Tf=De):(yd=Rc,Uf=De);Ce++;vh++;if(50==Ce)break}wh=Math.max(wh,Ce);if(Sf<(1+100*Number.MIN_VALUE)*rb)break;rb=Sf;vd++;xh++;if(1E3==vd)break}yh=Math.max(yh,vd);kb=rb;0<kb&&1>kb&&(kb=
(1-kb)*td+kb);qb.j=kb}Number.MIN_VALUE<kb&&kb<Kf&&($h=qb,Kf=kb)}}d=$h;h=Kf;var ac=d,Sc=h;if(null===ac||Zg<Sc)break;var zd=ac.Ac.yb(),Ad=ac.mc.yb();zh.Set(zd.q);Ah.Set(Ad.q);zd.Wh(Sc);Ad.Wh(Sc);dh(ac,this.j.k);ac.j=null;if(ac.K||!ac.enabled)zd.q.Set(zh),Ad.q.Set(Ah),tg(zd),tg(Ad);else if(ac.rk){var Ee=zd;2!=Ee.td()&&(Ee=Ad);Ga.kj();eh.length=0;var Bd=eh;Bd.push(Ee);for(Ee.Yb=!0;0<Bd.length;)if(Gb=Bd.pop(),Ug(Ga,Gb),Gb.Te||og(Gb,!0),2==Gb.td()){for(Za=Gb.xe.qb(fh);Za&&32!=Ga.la;Za=Za.fb()){var Fe=Za.Xc;
if(!Fe.Yb){Ga.B.push(Fe);Fe.Yb=!0;var Tc=ch(Fe,Gb);Tc.Yb||(0!=Tc.td()&&(Tc.Wh(Sc),og(Tc,!0),Bd.push(Tc)),Tc.Yb=!0)}}for(var mb=Gb.cc;mb;mb=mb.next)32!=Ga.O&&!mb.xh.Yb&&mb.of.wk()&&(Ga.j.push(mb.xh),mb.xh.Yb=!0,mb.of.Yb||(0!=mb.of.td()&&(mb.of.Wh(Sc),og(mb.of,!0),Bd.push(mb.of)),mb.of.Yb=!0))}var nb=Ga,hb=new Vg((1-Sc)*f.ab,0,f.Go,f.Vn,!1),ib=0,bc=0;mh(nb.G,nb.B,nb.B.length);for(var Vf=nb.G,ib=0;ib<nb.j.length;++ib)nb.j[ib].yg(hb);for(ib=0;ib<hb.Go;++ib)for(nh(Vf),bc=0;bc<nb.j.length;++bc)nb.j[bc].Ag(hb);
for(ib=0;ib<nb.K.length;++ib){var la=nb.K[ib],mi=hb.ab*la.D.x,ni=hb.ab*la.D.y;4<mi*mi+ni*ni&&(Oe(la.D),la.D.x=2*la.D.x*hb.j,la.D.y=2*la.D.y*hb.j);var oi=hb.ab*la.M;oi*oi>Xd&&(la.M=0>la.M?-Ud*hb.j:Ud*hb.j);la.q.hd.V(la.q.I);la.q.xf=la.q.W;la.q.I.x+=hb.ab*la.D.x;la.q.I.y+=hb.ab*la.D.y;la.q.W+=hb.ab*la.M;tg(la)}for(ib=0;ib<hb.Vn;++ib){for(var kj=oh(Vf,.75),Wf=!0,bc=0;bc<nb.j.length;++bc)var lj=nb.j[bc].zg(.2),Wf=Wf&&lj;if(kj&&Wf)break}Tg(nb,Vf.j);for(var Sa=0;Sa<Ga.k.length;Sa++)if(Ga.k[Sa].Yb=!1,Ga.k[Sa].Te&&
2==Ga.k[Sa].td())for(rg(Ga.k[Sa]),Za=Ga.k[Sa].xe.qb(Ng);Za;Za=Za.fb())Za.Xc.j=null;for(Sa=0;Sa<Ga.la;Sa++)Ga.B[Sa].Yb=!1,Ga.B[Sa].j=null;for(Sa=0;Sa<Ga.O;Sa++)Ga.j[Sa].Yb=!1;mg(this.j)}}this.K=f.j}};Wg.prototype.mj=function(){return this.xe};var eh=[];
function Bh(a,c){this.k="Contact"+Ch++;this.kf=new Bf;this.G=new Bf;this.rk=!1;var b=a.yb(),d=c.yb();this.U=2!=b.td()||b.K||2!=d.td()||d.K;this.K=a.B||c.B;this.Nm=!1;this.Ac=a;this.mc=c;this.enabled=!0;this.kp=b.mj();this.lp=d.mj();this.gs=d.Ue.mj();Dh(this)}Bh.prototype.gd=function(a,c){this.kf.gd();this.G.gd();this.rk=!1;var b=a.yb(),d=c.yb();this.U=2!=b.td()||b.K||2!=d.td()||d.K;this.K=a.B||c.B;this.Nm=!1;this.Ac=a;this.mc=c;this.enabled=!0;this.kp=b.mj();this.lp=d.mj();this.gs=d.Ue.mj();Dh(this)};
function Dh(a){Eh(a.kp,a);Eh(a.lp,a);Eh(a.gs,a);Fh(a)}function Fh(a){var c=!1,b=!1;!a.K&&a.enabled&&(a.rk&&(c=!0),a.U&&(b=!0));Gh(a.kp,a,c,b);Gh(a.lp,a,c,b);Gh(a.gs,a,c,b)}Bh.prototype.wf=function(a){this.enabled=a;Fh(this)};function ch(a,c){var b=a.Ac.yb();return b!=c?b:a.mc.yb()}
function dh(a,c){var b=a.G;a.G=a.kf;a.kf=b;a.enabled=!0;var d=!1,b=a.rk,h=a.Ac.yb(),f=a.mc.yb(),e=a.Ac.j.km(a.mc.j);if(a.K){if(e){var d=a.Ac.Mc,h=h.Le(),e=a.mc.Mc,g=f.Le(),f=new of;f.Gh=new qf;f.Gh.Set(d);f.Hh=new qf;f.Hh.Set(e);f.j=h;f.k=g;f.B=!0;h=new $f;h.count=0;d=new pf;kf(d,h,f);d=d.B<10*Number.MIN_VALUE}a.kf.nc=0}else{a.U=2!=h.td()||h.K||2!=f.td()||f.K?!0:!1;if(e)for(a.B(),d=0<a.kf.nc,e=0;e<a.kf.nc;e++){g=a.kf.Ia[e];g.ak=0;for(var l=g.bk=0;l<a.G.nc;l++){var m=a.G.Ia[l];if(m.Nf.tc==g.Nf.tc){g.ak=
m.ak;g.bk=m.bk;break}}}else a.kf.nc=0;d!=b&&(og(h,!0),og(f,!0))}a.rk=d;d!=b&&Fh(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}Bh.prototype.B=function(){};var qh=new ag,Ch=0;function Hh(a,c){Bh.call(this,a,c)}Rd(Hh,Bh);Hh.prototype.gd=function(a,c){Bh.prototype.gd.call(this,a,c)};
Hh.prototype.B=function(){var a=this.kf,c=this.Ac.Mc,b=this.Ac.yb().J,d=this.mc.Mc,h=this.mc.yb().J;a.nc=0;var f=h.position.x+(h.F.u.x*d.Lb.x+h.F.A.x*d.Lb.y)-(b.position.x+(b.F.u.x*c.Lb.x+b.F.A.x*c.Lb.y)),b=h.position.y+(h.F.u.y*d.Lb.x+h.F.A.y*d.Lb.y)-(b.position.y+(b.F.u.y*c.Lb.x+b.F.A.y*c.Lb.y)),h=c.sb+d.sb;f*f+b*b>h*h||(a.tb=1,a.Sa.V(c.Lb),a.nd.Ma(),a.nc=1,a.Ia[0].Sa.V(d.Lb),a.Ia[0].Nf.gh(0))};
function Ih(){this.U=X(0,0);this.lc=X(0,0);this.G=X(0,0);this.Ch=new ie;this.O=new ie;this.B=[];for(var a=0;2>a;a++)this.B[a]=new Jh}function Jh(){this.lc=X(0,0);this.ec=X(0,0);this.fc=X(0,0)}Jh.prototype.gd=function(){this.lc.Set(0,0);this.ec.Set(0,0);this.fc.Set(0,0)};
function Mg(){this.j={};this.k={};Kh(this,Hh,"b2CircleShape","b2CircleShape");Kh(this,Lh,"b2PolygonShape","b2CircleShape");Kh(this,Mh,"b2PolygonShape","b2PolygonShape");Kh(this,Nh,"b2EdgeShape","b2CircleShape");Kh(this,Oh,"b2PolygonShape","b2EdgeShape")}function Kh(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.j[b]=a.j[b]||{};a.j[b][d]=new Ph;a.j[b][d].rx=c;a.j[b][d].Ez=!0;b!=d&&(a.j[d]=a.j[d]||{},a.j[d][b]=new Ph,a.j[d][b].rx=c,a.j[d][b].Ez=!1)}
Mg.prototype.B=function(a,c){var b=a.Mc.nj(),d=c.Mc.nj(),h=this.j[b][d],f=h.rx;return null!=f?h.Ez?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.gd(a,c),b):new f(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.gd(c,a),b):new f(c,a):null};Mg.prototype.fd=function(a){this.k[a.Ac.Mc.nj()][a.mc.Mc.nj()].push(a)};function dg(){this.k=[];for(var a=0;a<=Ng;a++)this.k[a]=null;this.B=[];for(a=0;a<=Ng;a++)this.B[a]=null;this.j={}}dg.prototype.qb=function(a){return this.k[a]};
function Eh(a,c){var b=c.k;if(null==a.j[b]){a.j[b]=[];for(var d=0;d<=Ng;d++)a.j[b][d]=null;Qh(a,c,b,Ng)}}function Gh(a,c,b,d){b?Qh(a,c,c.k,fh):Rh(a,c.k,fh);d?Qh(a,c,c.k,ph):Rh(a,c.k,ph)}function Og(a,c){var b=c.k;if(null!=a.j[b]){for(var d=0;d<=Ng;d++)Rh(a,b,d);delete a.j[b]}}function Rh(a,c,b){var d=a.j[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.j,h=c.fb();null==d?a.k[b]=h:d.next=h;null==h?a.B[b]=d:h.hh(d);Sh.push(c)}}
function Qh(a,c,b,d){b=a.j[b];if(null==b[d]){if(0<Sh.length){var h=Sh.pop();h.next=null;h.j=null;h.Xc=c;c=h}else c=new Th(c);b[d]=c;c=a.B[d];null!=c?(c.next=b[d],b[d].hh(c)):a.k[d]=b[d];a.B[d]=b[d]}}var fh=0,ph=1,Ng=2;function Th(a){this.Xc=a;this.j=this.next=null}var Sh=[];Th.prototype.hh=function(a){this.j=a};Th.prototype.fb=function(){return this.next};function Ph(){}function Xg(){this.j=[]}
function mh(a,c,b){for(a.k=b;a.j.length<a.k;)a.j[a.j.length]=new Ih;for(var d=0;d<b;d++){var h=c[d],f=h.Ac,e=h.mc,g=f.Mc.sb,l=e.Mc.sb,m=f.yb(),k=e.yb(),h=h.kf,n=Math.sqrt(f.U*e.U),p,f=f.O,e=e.O;p=f>e?f:e;var e=m.D.x,f=m.D.y,q=k.D.x,u=k.D.y,t=m.M,v=k.M,r=h,y=m.J,B=g,D=k.J,C=l,E=Uh;if(0!=r.nc){var A=0,x=void 0,w=void 0,F=0,I=0,S=0,ea=0,T=0,x=0;switch(r.tb){case 1:w=y.F;x=r.Sa;A=y.position.x+w.u.x*x.x+w.A.x*x.y;y=y.position.y+w.u.y*x.x+w.A.y*x.y;w=D.F;x=r.Ia[0].Sa;r=D.position.x+w.u.x*x.x+w.A.x*x.y;
D=D.position.y+w.u.y*x.x+w.A.y*x.y;x=r-A;w=D-y;F=x*x+w*w;F>Zd?(F=Math.sqrt(F),E.j.x=x/F,E.j.y=w/F):(E.j.x=1,E.j.y=0);x=y+B*E.j.y;D=D-C*E.j.y;E.Ia[0].x=.5*(A+B*E.j.x+(r-C*E.j.x));E.Ia[0].y=.5*(x+D);break;case 2:w=y.F;x=r.nd;F=w.u.x*x.x+w.A.x*x.y;I=w.u.y*x.x+w.A.y*x.y;w=y.F;x=r.Sa;S=y.position.x+w.u.x*x.x+w.A.x*x.y;ea=y.position.y+w.u.y*x.x+w.A.y*x.y;E.j.x=F;E.j.y=I;for(A=0;A<r.nc;A++)w=D.F,x=r.Ia[A].Sa,T=D.position.x+w.u.x*x.x+w.A.x*x.y,x=D.position.y+w.u.y*x.x+w.A.y*x.y,E.Ia[A].x=T+.5*(B-(T-S)*F-
(x-ea)*I-C)*F,E.Ia[A].y=x+.5*(B-(T-S)*F-(x-ea)*I-C)*I;break;case 4:for(w=D.F,x=r.nd,F=w.u.x*x.x+w.A.x*x.y,I=w.u.y*x.x+w.A.y*x.y,w=D.F,x=r.Sa,S=D.position.x+w.u.x*x.x+w.A.x*x.y,ea=D.position.y+w.u.y*x.x+w.A.y*x.y,E.j.x=-F,E.j.y=-I,A=0;A<r.nc;A++)w=y.F,x=r.Ia[A].Sa,T=y.position.x+w.u.x*x.x+w.A.x*x.y,x=y.position.y+w.u.y*x.x+w.A.y*x.y,E.Ia[A].x=T+.5*(C-(T-S)*F-(x-ea)*I-B)*F,E.Ia[A].y=x+.5*(C-(T-S)*F-(x-ea)*I-B)*I}}C=Uh.j.x;E=Uh.j.y;B=a.j[d];B.j=m;B.k=k;B.xa=h;B.G.x=C;B.G.y=E;B.K=h.nc;B.ri=n;B.Xi=p;B.U.x=
h.nd.x;B.U.y=h.nd.y;B.lc.x=h.Sa.x;B.lc.y=h.Sa.y;B.la=g+l;B.type=h.tb;for(g=0;g<B.K;++g)n=h.Ia[g],l=B.B[g],l.oc=n.ak,l.ah=n.bk,l.lc.V(n.Sa),n=l.ec.x=Uh.Ia[g].x-m.q.I.x,p=l.ec.y=Uh.Ia[g].y-m.q.I.y,D=l.fc.x=Uh.Ia[g].x-k.q.I.x,A=l.fc.y=Uh.Ia[g].y-k.q.I.y,r=n*E-p*C,x=D*E-A*C,r*=r,x*=x,l.Ch=1/(m.T+k.T+m.da*r+k.da*x),w=m.fa*m.T+k.fa*k.T,w+=m.fa*m.da*r+k.fa*k.da*x,l.gF=1/w,x=E,w=-C,r=n*w-p*x,x=D*w-A*x,r*=r,x*=x,l.jI=1/(m.T+k.T+m.da*r+k.da*x),l.Fo=0,n=B.G.x*(q+-v*A-e- -t*p)+B.G.y*(u+v*D-f-t*n),-1>n&&(l.Fo+=
-B.Xi*n);2==B.K&&(u=B.B[0],q=B.B[1],h=m.T,m=m.da,e=k.T,k=k.da,f=u.ec.x*E-u.ec.y*C,u=u.fc.x*E-u.fc.y*C,t=q.ec.x*E-q.ec.y*C,g=q.fc.x*E-q.fc.y*C,q=h+e+m*f*f+k*u*u,v=h+e+m*t*t+k*g*g,k=h+e+m*f*t+k*u*g,q*q<100*(q*v-k*k)?(B.O.u.Set(q,k),B.O.A.Set(k,v),le(B.O,B.Ch)):B.K=1)}}
function nh(a){for(var c=0;c<a.k;c++){for(var b=a.j[c],d=b.G.x,h=b.G.y,f=0;f<b.K;f++){var e=b,g=b.B[f],l=e.G.y,m=-e.G.x,k=e.ri*g.oc,k=he(g.ah-g.jI*((e.k.D.x-e.k.M*g.fc.y-e.j.D.x+e.j.M*g.ec.y)*l+(e.k.D.y+e.k.M*g.fc.x-e.j.D.y-e.j.M*g.ec.x)*m),-k,k),n=k-g.ah,l=n*l,m=n*m;e.j.D.x-=e.j.T*l;e.j.D.y-=e.j.T*m;e.j.M-=e.j.da*(g.ec.x*m-g.ec.y*l);e.k.D.x+=e.k.T*l;e.k.D.y+=e.k.T*m;e.k.M+=e.k.da*(g.fc.x*m-g.fc.y*l);g.ah=k}if(1==b.K)f=b.B[0],e=f.oc-f.Ch*((b.k.D.x-b.k.M*f.fc.y-b.j.D.x+b.j.M*f.ec.y)*d+(b.k.D.y+b.k.M*
f.fc.x-b.j.D.y-b.j.M*f.ec.x)*h-f.Fo),e=0<e?e:0,g=e-f.oc,d=g*d,h=g*h,b.j.D.x-=b.j.T*d,b.j.D.y-=b.j.T*h,b.j.M-=b.j.da*(f.ec.x*h-f.ec.y*d),b.k.D.x+=b.k.T*d,b.k.D.y+=b.k.T*h,b.k.M+=b.k.da*(f.fc.x*h-f.fc.y*d),f.oc=e;else for(f=b.B[0],e=b.B[1],g=f.oc,m=e.oc,k=(b.k.D.x-b.k.M*f.fc.y-b.j.D.x+b.j.M*f.ec.y)*d+(b.k.D.y+b.k.M*f.fc.x-b.j.D.y-b.j.M*f.ec.x)*h-f.Fo,h=(b.k.D.x-b.k.M*e.fc.y-b.j.D.x+b.j.M*e.ec.y)*d+(b.k.D.y+b.k.M*e.fc.x-b.j.D.y-b.j.M*e.ec.x)*h-e.Fo,k-=b.O.u.x*g+b.O.A.x*m,h-=b.O.u.y*g+b.O.A.y*m;;){d=
-(b.Ch.u.x*k+b.Ch.A.x*h);if(0<=d&&(l=-(b.Ch.u.y*k+b.Ch.A.y*h),0<=l)){Vh(b,f,e,d-g,l-m);f.oc=d;e.oc=l;break}d=-f.Ch*k;if(0<=d&&0<=b.O.u.y*d+h){Vh(b,f,e,d-g,-m);f.oc=d;e.oc=0;break}d=-e.Ch*h;if(0<=d&&0<=b.O.A.x*d+k){Vh(b,f,e,-g,d-m);f.oc=0;e.oc=d;break}if(0<=k&&0<=h){Vh(b,f,e,-g,-m);f.oc=0;e.oc=0;break}break}}}
function Vh(a,c,b,d,h){var f=d*a.G.x;d*=a.G.y;var e=h*a.G.x;h*=a.G.y;a.j.D.x-=a.j.T*(f+e);a.j.D.y-=a.j.T*(d+h);a.j.M-=a.j.da*(c.ec.x*d-c.ec.y*f+b.ec.x*h-b.ec.y*e);a.k.D.x+=a.k.T*(f+e);a.k.D.y+=a.k.T*(d+h);a.k.M+=a.k.da*(c.fc.x*d-c.fc.y*f+b.fc.x*h-b.fc.y*e);c.oc=0;b.oc=0}
function oh(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var h=a.j[d],f=h.j,e=h.k,g=f.fa*f.T,l=f.fa*f.da,m=e.fa*e.T,k=e.fa*e.da,n=h,p=Wh;switch(n.type){case 1:var q=n.j.J.F,u=n.lc,t=n.j.J.position.x+(q.u.x*u.x+q.A.x*u.y),v=n.j.J.position.y+(q.u.y*u.x+q.A.y*u.y),q=n.k.J.F,u=n.B[0].lc,r=n.k.J.position.x+(q.u.x*u.x+q.A.x*u.y),q=n.k.J.position.y+(q.u.y*u.x+q.A.y*u.y),u=r-t,y=q-v,B=u*u+y*y;B>Zd?(B=Math.sqrt(B),p.j.x=u/B,p.j.y=y/B):(p.j.x=1,p.j.y=0);p.Ia[0].x=.5*(t+r);p.Ia[0].y=.5*(v+q);p.k[0]=u*p.j.x+
y*p.j.y-n.la;break;case 2:p.j.x=n.j.J.F.u.x*n.U.x+n.j.J.F.A.x*n.U.y;p.j.y=n.j.J.F.u.y*n.U.x+n.j.J.F.A.y*n.U.y;t=n.j.J.position.x+(n.j.J.F.u.x*n.lc.x+n.j.J.F.A.x*n.lc.y);v=n.j.J.position.y+(n.j.J.F.u.y*n.lc.x+n.j.J.F.A.y*n.lc.y);for(r=0;r<n.K;r++)q=n.k.J.position.x+(n.k.J.F.u.x*n.B[r].lc.x+n.k.J.F.A.x*n.B[r].lc.y),u=n.k.J.position.y+(n.k.J.F.u.y*n.B[r].lc.x+n.k.J.F.A.y*n.B[r].lc.y),p.k[r]=(q-t)*p.j.x+(u-v)*p.j.y-n.la,p.Ia[r].x=q,p.Ia[r].y=u;break;case 4:p.j.x=n.k.J.F.u.x*n.U.x+n.k.J.F.A.x*n.U.y;p.j.y=
n.k.J.F.u.y*n.U.x+n.k.J.F.A.y*n.U.y;t=n.k.J.position.x+(n.k.J.F.u.x*n.lc.x+n.k.J.F.A.x*n.lc.y);v=n.k.J.position.y+(n.k.J.F.u.y*n.lc.x+n.k.J.F.A.y*n.lc.y);for(r=0;r<n.K;r++)q=n.j.J.position.x+(n.j.J.F.u.x*n.B[r].lc.x+n.j.J.F.A.x*n.B[r].lc.y),u=n.j.J.position.y+(n.j.J.F.u.y*n.B[r].lc.x+n.j.J.F.A.y*n.B[r].lc.y),p.k[r]=(q-t)*p.j.x+(u-v)*p.j.y-n.la,p.Ia[r].Set(q,u);p.j.x*=-1;p.j.y*=-1}p=Wh.j;for(n=0;n<h.K;n++)u=h.B[n],q=Wh.Ia[n],y=Wh.k[n],t=q.x-f.q.I.x,v=q.y-f.q.I.y,r=q.x-e.q.I.x,q=q.y-e.q.I.y,b=b<y?b:
y,y=-u.gF*he(c*(y+.005),-.2,0),u=y*p.x,y*=p.y,f.q.I.x-=g*u,f.q.I.y-=g*y,f.q.W-=l*(t*y-v*u),tg(f),e.q.I.x+=m*u,e.q.I.y+=m*y,e.q.W+=k*(r*y-q*u),tg(e)}return-.0075<b}function Nh(a,c){Bh.call(this,a,c)}Rd(Nh,Bh);Nh.prototype.gd=function(a,c){Bh.prototype.gd.call(this,a,c)};Nh.prototype.B=function(){};function Lh(a,c){Bh.call(this,a,c)}Rd(Lh,Bh);Lh.prototype.gd=function(a,c){Bh.prototype.gd.call(this,a,c)};
Lh.prototype.B=function(){a:{var a=this.kf,c=this.Ac.Mc,b=this.Ac.yb().J,d=this.mc.Mc,h=this.mc.yb().J;a.nc=0;for(var f=h.position.x+(h.F.u.x*d.Lb.x+h.F.A.x*d.Lb.y)-b.position.x,e=h.position.y+(h.F.u.y*d.Lb.x+h.F.A.y*d.Lb.y)-b.position.y,h=f*b.F.u.x+e*b.F.u.y,b=f*b.F.A.x+e*b.F.A.y,f=0,e=-Number.MAX_VALUE,g=c.sb+d.sb,l=0;l<c.Ab;++l){var m=c.Tb[l].x*(h-c.Y[l].x)+c.Tb[l].y*(b-c.Y[l].y);if(m>g)break a;m>e&&(e=m,f=l)}m=f+1;m>=c.Ab&&(m=0);var l=c.Y[f],k=c.Y[m];e<Number.MIN_VALUE?(a.nc=1,a.tb=2,a.nd.V(c.Tb[f]),
a.Sa.x=.5*(l.x+k.x),a.Sa.y=.5*(l.y+k.y),a.Ia[0].Sa.V(d.Lb),a.Ia[0].Nf.gh(0)):0>=(h-l.x)*(k.x-l.x)+(b-l.y)*(k.y-l.y)?(h-l.x)*(h-l.x)+(b-l.y)*(b-l.y)>g*g||(a.nc=1,a.tb=2,a.nd.x=h-l.x,a.nd.y=b-l.y,Oe(a.nd),a.Sa.V(l),a.Ia[0].Sa.V(d.Lb),a.Ia[0].Nf.gh(0)):0>=(h-k.x)*(l.x-k.x)+(b-k.y)*(l.y-k.y)?(h-k.x)*(h-k.x)+(b-k.y)*(b-k.y)>g*g||(a.nc=1,a.tb=2,a.nd.x=h-k.x,a.nd.y=b-k.y,Oe(a.nd),a.Sa.V(k),a.Ia[0].Sa.V(d.Lb),a.Ia[0].Nf.gh(0)):(m=.5*(l.x+k.x),l=.5*(l.y+k.y),e=(h-m)*c.Tb[f].x+(b-l)*c.Tb[f].y,e>g||(a.nc=1,
a.tb=2,a.nd.x=c.Tb[f].x,a.nd.y=c.Tb[f].y,Oe(a.nd),a.Sa.Set(m,l),a.Ia[0].Sa.V(d.Lb),a.Ia[0].Nf.gh(0)))}};function Oh(a,c){Bh.call(this,a,c)}Rd(Oh,Bh);Oh.prototype.gd=function(a,c){Bh.prototype.gd.call(this,a,c)};Oh.prototype.B=function(){};function Mh(a,c){Bh.call(this,a,c)}Rd(Mh,Bh);Mh.prototype.gd=function(a,c){Bh.prototype.gd.call(this,a,c)};
Mh.prototype.B=function(){var a=this.kf,c=this.Ac.Mc,b=this.Ac.yb().J,d=this.mc.Mc,h=this.mc.yb().J;a.nc=0;var f=c.sb+d.sb,e=jf(c,b,d,h),g=e.ax;if(!(e.rr>f)){var l=jf(d,h,c,b);if(!(l.rr>f)){var m=c,k=d,n=b,p=h,q=0;a.tb=2;l.rr>.98*e.rr+.001&&(m=d,k=c,n=h,p=b,g=l.ax,a.tb=4,q=1);c=g;b=k;d=p;k=Xh;void 0===c&&(c=0);for(var e=n.F.u.x*m.Tb[c].x+n.F.A.x*m.Tb[c].y,l=n.F.u.y*m.Tb[c].x+n.F.A.y*m.Tb[c].y,h=d.F.u.x*e+d.F.u.y*l,l=d.F.A.x*e+d.F.A.y*l,e=h,h=0,u=Number.MAX_VALUE,t=0;t<b.Ab;t++){var v=e*b.Tb[t].x+
l*b.Tb[t].y;v<u&&(u=v,h=t)}e=h+1;e>=b.Ab&&(e=0);k[0].vf.x=d.position.x+(d.F.u.x*b.Y[h].x+d.F.A.x*b.Y[h].y);k[0].vf.y=d.position.y+(d.F.u.y*b.Y[h].x+d.F.A.y*b.Y[h].y);l=k[0].id;l.B=c;l.tc=l.tc&4294967040|l.B&255;l=k[0].id;l.j=h;l.tc=l.tc&4294902015|l.j<<8&65280;h=k[0].id;h.k=0;h.tc=h.tc&4278255615|h.k<<16&16711680;k[1].vf.x=d.position.x+(d.F.u.x*b.Y[e].x+d.F.A.x*b.Y[e].y);k[1].vf.y=d.position.y+(d.F.u.y*b.Y[e].x+d.F.A.y*b.Y[e].y);b=k[1].id;b.B=c;b.tc=b.tc&4294967040|b.B&255;c=k[1].id;c.j=e;c.tc=c.tc&
4294902015|c.j<<8&65280;c=k[1].id;c.k=1;c.tc=c.tc&4278255615|c.k<<16&16711680;c=m.Y[g];g=g+1<m.Ab?m.Y[g+1]:m.Y[0];Zh.Set(g.x-c.x,g.y-c.y);Oe(Zh);di.x=Zh.y;di.y=-Zh.x;ii.Set(.5*(c.x+g.x),.5*(c.y+g.y));ji.x=n.F.u.x*Zh.x+n.F.A.x*Zh.y;ji.y=n.F.u.y*Zh.x+n.F.A.y*Zh.y;ki.x=-ji.x;ki.y=-ji.y;li.x=ji.y;li.y=-ji.x;pi.x=n.position.x+(n.F.u.x*c.x+n.F.A.x*c.y);pi.y=n.position.y+(n.F.u.y*c.x+n.F.A.y*c.y);qi.x=n.position.x+(n.F.u.x*g.x+n.F.A.x*g.y);qi.y=n.position.y+(n.F.u.y*g.x+n.F.A.y*g.y);if(!(2>gf(ri,Xh,ki,-ji.x*
pi.x-ji.y*pi.y+f)||2>gf(si,ri,ji,ji.x*qi.x+ji.y*qi.y+f))){a.nd.V(di);a.Sa.V(ii);n=li.x*pi.x+li.y*pi.y;for(m=g=0;2>m;++m)li.x*si[m].vf.x+li.y*si[m].vf.y-n<=f&&(c=si[m].vf.x-p.position.x,k=si[m].vf.y-p.position.y,a.Ia[g].Sa.x=c*p.F.u.x+k*p.F.u.y,a.Ia[g].Sa.y=c*p.F.A.x+k*p.F.A.y,a.Ia[g].Nf.Set(si[m].id),c=a.Ia[g].Nf,c.G=q,c.tc=c.tc&16777215|c.G<<24&4278190080,g++);a.nc=g}}}};function ti(){this.K="Controller"+ui++;this.Ue=null;this.j=new wg}ti.prototype.$h=function(){};
ti.prototype.hm=function(a){this.j.hm(a);a=a.ua;var c=this.K,b=a.k[c];if(null!=b){var d=b.j(),b=b.fb();null==d?a.j=b:d.k(b);null==b||b.hh(d);delete a.k[c]}};ti.prototype.kj=function(){for(var a=this.j.qb(xg);a;a=a.fb())this.hm(a.body)};var ui=0;function vi(){ti.call(this);this.B=X(0,-1);this.mi=this.offset=0;this.G=X(0,0);this.k=null}Rd(vi,ti);
vi.prototype.$h=function(){this.k=this.Ue.G.Tc();for(var a=this.j.qb(Dg);a;a=a.fb()){for(var c=a.body,b=X(0,0),d=X(0,0),h=0,f=0,e=c.B.qb();e;e=e.fb()){var g=X(0,0),l=e.Hf.Mc.Oo(this.B,this.offset,c.Le(),g),h=h+l;b.x+=l*g.x;b.y+=l*g.y;var m=0,m=1,f=f+l*m;d.x+=l*g.x*m;d.y+=l*g.y*m}h<Number.MIN_VALUE||(b.x/=h,b.y/=h,d.x/=f,d.y/=f,f=this.k.Xh(),f.$e(this.mi*h),c.ij(f,d),f=X(c.D.x-c.M*(b.y-c.q.I.y),c.D.y+c.M*(b.x-c.q.I.x)),f.Ow(this.G),f.$e(-2*h),c.ij(f,b),c.ns(-c.j/c.fa*h*c.M*1),Le(b),Le(d))}};
function wi(){ti.call(this);this.k=X(0,0)}Rd(wi,ti);wi.prototype.$h=function(a){a=X(this.k.x*a.ab,this.k.y*a.ab);for(var c=this.j.qb(Dg);c;c=c.fb()){var b=c.body,d=b.D;ng(b,X(d.x+a.x,d.y+a.y))}Le(a)};function xi(){ti.call(this);this.k=X(0,0)}Rd(xi,ti);xi.prototype.$h=function(){for(var a=this.j.qb(Dg);a;a=a.fb()){var c=a.body;c.ij(this.k,c.q.I)}};function eg(){this.j=null;this.k={}}eg.prototype.qb=function(){return this.j};function yi(){ti.call(this)}Rd(yi,ti);
yi.prototype.$h=function(){for(var a=null,c=null,b=0,d=null,h=null,f=0,e=0,g=0,f=null,l=this.j.qb(xg);l;l=l.fb())for(var a=l.body,c=a.q.I,b=a.fa,m=this.j.qb(xg);m;m=m.fb())if(d=m.body,a.Te||d.Te)h=d.q.I,f=h.x-c.x,e=h.y-c.y,g=f*f+e*e,g<Number.MIN_VALUE||(f=X(f,e),f.$e(1/g/Math.sqrt(g)*b*d.fa),a.Te&&a.ij(f,c),f.$e(-1),d.Te&&d.ij(f,h),Le(f))};function zi(){ti.call(this);this.B=new ie;this.k=0}Rd(zi,ti);
zi.prototype.$h=function(a){a=a.ab;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.j.qb(Dg);c;c=c.fb()){var b=c.body,d;d=ce(this.B,de(b.J.F,b.D));d=ce(b.J.F,d);ng(b,X(b.D.x+d.x*a,b.D.y+d.y*a))}}};function Ai(a){this.he=new Bi;this.ie=new Bi;this.Bg=X(0,0);this.Cg=X(0,0);this.tb=a.type;this.Mi=this.ul=null;this.ma=a.j;this.na=a.k;this.Wy=a.U}z=Ai.prototype;z.td=function(){return this.tb};z.wk=function(){return this.ma.wk()&&this.na.wk()};z.yg=function(){};z.Ag=function(){};
z.zg=function(){return!1};function Ci(){this.type=0;this.k=this.j=null;this.U=!1}function Bi(){}function Di(a){Ai.call(this,a);this.Da=X(0,0);this.Ea=X(0,0);this.j=X(0,0);this.Da.V(a.O);this.Ea.V(a.la);this.K=a.length;this.G=a.K;this.O=a.G;this.U=this.B=this.k=0}Rd(Di,Ai);
Di.prototype.yg=function(a){var c,b=0,d=this.ma,h=this.na;c=d.J.F;var f=this.Da.x-d.q.X.x,e=this.Da.y-d.q.X.y,b=c.u.x*f+c.A.x*e,e=c.u.y*f+c.A.y*e,f=b;c=h.J.F;var g=this.Ea.x-h.q.X.x,l=this.Ea.y-h.q.X.y,b=c.u.x*g+c.A.x*l,l=c.u.y*g+c.A.y*l,g=b;this.j.x=h.q.I.x+g-d.q.I.x-f;this.j.y=h.q.I.y+l-d.q.I.y-e;b=Math.sqrt(this.j.x*this.j.x+this.j.y*this.j.y);.005<b?this.j.$e(1/b):this.j.Ma();c=f*this.j.y-e*this.j.x;var m=g*this.j.y-l*this.j.x;c=d.T+d.da*c*c+h.T+h.da*m*m;this.fa=0!=c?1/c:0;if(0<this.G){var b=
b-this.K,m=2*Math.PI*this.G,k=this.fa*m*m;this.B=a.ab*(2*this.fa*this.O*m+a.ab*k);this.B=0!=this.B?1/this.B:0;this.U=b*a.ab*k*this.B;this.fa=c+this.B;this.fa=0!=this.fa?1/this.fa:0}a.Uh?(this.k*=a.Jc,a=this.k*this.j.x,c=this.k*this.j.y,d.D.x-=d.T*a,d.D.y-=d.T*c,d.M-=d.da*(f*c-e*a),h.D.x+=h.T*a,h.D.y+=h.T*c,h.M+=h.da*(g*c-l*a)):this.k=0};
Di.prototype.Ag=function(){var a=this.Da.x-this.ma.q.X.x,c=this.Da.y-this.ma.q.X.y,b=this.ma.J.F.u.x*a+this.ma.J.F.A.x*c,c=this.ma.J.F.u.y*a+this.ma.J.F.A.y*c,a=b,d=this.Ea.x-this.na.q.X.x,h=this.Ea.y-this.na.q.X.y,b=this.na.J.F.u.x*d+this.na.J.F.A.x*h,h=this.na.J.F.u.y*d+this.na.J.F.A.y*h,d=b,f=-this.fa*(this.j.x*(this.na.D.x-this.na.M*h-(this.ma.D.x-this.ma.M*c))+this.j.y*(this.na.D.y+this.na.M*d-(this.ma.D.y+this.ma.M*a))+this.U+this.B*this.k);this.k+=f;b=f*this.j.x;f*=this.j.y;this.ma.D.x-=this.ma.T*
b;this.ma.D.y-=this.ma.T*f;this.ma.M-=this.ma.da*(a*f-c*b);this.na.D.x+=this.na.T*b;this.na.D.y+=this.na.T*f;this.na.M+=this.na.da*(d*f-h*b)};
Di.prototype.zg=function(){if(0<this.G)return!0;var a=this.Da.x-this.ma.q.X.x,c=this.Da.y-this.ma.q.X.y,b=this.ma.J.F.u.x*a+this.ma.J.F.A.x*c,c=this.ma.J.F.u.y*a+this.ma.J.F.A.y*c,a=b,d=this.Ea.x-this.na.q.X.x,h=this.Ea.y-this.na.q.X.y,b=this.na.J.F.u.x*d+this.na.J.F.A.x*h,h=this.na.J.F.u.y*d+this.na.J.F.A.y*h,d=b,f=this.na.q.I.x+d-this.ma.q.I.x-a,e=this.na.q.I.y+h-this.ma.q.I.y-c,g=Math.sqrt(f*f+e*e),b=he(g-this.K,-.2,.2),l=-this.fa*b;this.j.Set(f/g,e/g);f=l*this.j.x;l*=this.j.y;this.ma.q.I.x-=this.ma.T*
f;this.ma.q.I.y-=this.ma.T*l;this.ma.q.W-=this.ma.da*(a*l-c*f);this.na.q.I.x+=this.na.T*f;this.na.q.I.y+=this.na.T*l;this.na.q.W+=this.na.da*(d*l-h*f);tg(this.ma);tg(this.na);return.005>Math.abs(b)};function Ei(){Ci.call(this);this.O=X(0,0);this.la=X(0,0);this.type=3;this.length=1;this.G=this.K=0}Rd(Ei,Ci);Ei.prototype.B=function(){return new Di(this)};
function Fi(a){Ai.call(this,a);this.B=X(0,0);this.G=X(0,0);this.U=new ie;this.j=X(0,0);this.B.V(a.G);this.G.V(a.K);this.U.Ma();this.K=0;this.j.Ma();this.k=0;this.O=a.O;this.la=a.la}Rd(Fi,Ai);
Fi.prototype.yg=function(a){var c,b=0,d=this.ma,h=this.na;c=d.J.F;var f=this.B.x-d.q.X.x,e=this.B.y-d.q.X.y,b=c.u.x*f+c.A.x*e,e=c.u.y*f+c.A.y*e,f=b;c=h.J.F;var g=this.G.x-h.q.X.x,l=this.G.y-h.q.X.y,b=c.u.x*g+c.A.x*l,l=c.u.y*g+c.A.y*l,g=b;c=d.T;var b=h.T,m=d.da,k=h.da,n=new ie;n.u.x=c+b;n.A.x=0;n.u.y=0;n.A.y=c+b;n.u.x+=m*e*e;n.A.x+=-m*f*e;n.u.y+=-m*f*e;n.A.y+=m*f*f;n.u.x+=k*l*l;n.A.x+=-k*g*l;n.u.y+=-k*g*l;n.A.y+=k*g*g;le(n,this.U);this.K=m+k;0<this.K&&(this.K=1/this.K);a.Uh?(this.j.x*=a.Jc,this.j.y*=
a.Jc,this.k*=a.Jc,a=this.j,d.D.x-=c*a.x,d.D.y-=c*a.y,d.M-=m*(f*a.y-e*a.x+this.k),h.D.x+=b*a.x,h.D.y+=b*a.y,h.M+=k*(g*a.y-l*a.x+this.k)):(this.j.Ma(),this.k=0)};
Fi.prototype.Ag=function(a){var c,b=0,d=this.ma,h=this.na,f=d.D,e=d.M,g=h.D,l=h.M,m=d.T,k=h.T,n=d.da,p=h.da;c=d.J.F;var q=this.B.x-d.q.X.x,u=this.B.y-d.q.X.y,b=c.u.x*q+c.A.x*u,u=c.u.y*q+c.A.y*u,q=b;c=h.J.F;var t=this.G.x-h.q.X.x,v=this.G.y-h.q.X.y,b=c.u.x*t+c.A.x*v,v=c.u.y*t+c.A.y*v,t=b;c=0;var b=-this.K*(l-e),r=this.k;c=a.ab*this.la;this.k=he(this.k+b,-c,c);b=this.k-r;e-=n*b;l+=p*b;c=ce(this.U,X(-(g.x-l*v-f.x+e*u),-(g.y+l*t-f.y-e*q)));b=this.j.Tc();this.j.xg(c);c=a.ab*this.O;Ne(this.j)>c*c&&(Oe(this.j),
this.j.$e(c));c=ge(this.j,b);f.x-=m*c.x;f.y-=m*c.y;e-=n*(q*c.y-u*c.x);g.x+=k*c.x;g.y+=k*c.y;l+=p*(t*c.y-v*c.x);d.M=e;h.M=l};Fi.prototype.zg=function(){return!0};function Gi(){Ci.call(this);this.G=X(0,0);this.K=X(0,0);this.type=9;this.la=this.O=0}Rd(Gi,Ci);Gi.prototype.B=function(){return new Fi(this)};
function Hi(a){Ai.call(this,a);this.la=X(0,0);this.xa=X(0,0);this.Da=X(0,0);this.Ea=X(0,0);this.j=new Ii;var c=a.G.tb,b=a.K.tb;this.O=this.K=this.U=this.G=null;var d=0,h=0;this.$a=a.G.ma;this.ma=a.G.na;1==c?(this.G=a.G,this.la.V(this.G.Da),this.Da.V(this.G.Ea),d=Ji(this.G)):(this.U=a.G,this.la.V(this.U.Da),this.Da.V(this.U.Ea),d=this.U.cm());this.eb=a.K.ma;this.na=a.K.na;1==b?(this.K=a.K,this.xa.V(this.K.Da),this.Ea.V(this.K.Ea),h=Ji(this.K)):(this.O=a.K,this.xa.V(this.O.Da),this.Ea.V(this.O.Ea),
h=this.O.cm());this.k=a.O;this.ua=d+this.k*h;this.B=0}Rd(Hi,Ai);
Hi.prototype.yg=function(a){var c=this.$a,b=this.eb,d=this.ma,h=this.na,f=0,e=0,g=0,l=0,m=g=0,k=0;this.j.Ma();this.G?(this.j.B=-1,k+=d.da):(c=c.J.F,e=this.U.Ce,f=c.u.x*e.x+c.A.x*e.y,e=c.u.y*e.x+c.A.y*e.y,c=d.J.F,g=this.Da.x-d.q.X.x,l=this.Da.y-d.q.X.y,m=c.u.x*g+c.A.x*l,l=c.u.y*g+c.A.y*l,g=m*e-l*f,this.j.j.Set(-f,-e),this.j.B=-g,k+=d.T+d.da*g*g);this.K?(this.j.G=-this.k,k+=this.k*this.k*h.da):(c=b.J.F,e=this.O.Ce,f=c.u.x*e.x+c.A.x*e.y,e=c.u.y*e.x+c.A.y*e.y,c=h.J.F,g=this.Ea.x-h.q.X.x,l=this.Ea.y-h.q.X.y,
m=c.u.x*g+c.A.x*l,l=c.u.y*g+c.A.y*l,g=m*e-l*f,this.j.k.Set(-this.k*f,-this.k*e),this.j.G=-this.k*g,k+=this.k*this.k*(h.T+h.da*g*g));this.fa=0<k?1/k:0;a.Uh?(d.D.x+=d.T*this.B*this.j.j.x,d.D.y+=d.T*this.B*this.j.j.y,d.M+=d.da*this.B*this.j.B,h.D.x+=h.T*this.B*this.j.k.x,h.D.y+=h.T*this.B*this.j.k.y,h.M+=h.da*this.B*this.j.G):this.B=0};
Hi.prototype.Ag=function(){var a=this.ma,c=this.na,b=this.j,d=a.D,h=a.M,f=c.D,e=c.M;void 0===h&&(h=0);void 0===e&&(e=0);b=-this.fa*(b.j.x*d.x+b.j.y*d.y+b.B*h+(b.k.x*f.x+b.k.y*f.y)+b.G*e);this.B+=b;a.D.x+=a.T*b*this.j.j.x;a.D.y+=a.T*b*this.j.j.y;a.M+=a.da*b*this.j.B;c.D.x+=c.T*b*this.j.k.x;c.D.y+=c.T*b*this.j.k.y;c.M+=c.da*b*this.j.G};
Hi.prototype.zg=function(){var a=this.ma,c=this.na,b=0,d=0;this.G?b=Ji(this.G):b=this.U.cm();this.K?d=Ji(this.K):d=this.O.cm();b=-this.fa*(this.ua-(b+this.k*d));a.q.I.x+=a.T*b*this.j.j.x;a.q.I.y+=a.T*b*this.j.j.y;a.q.W+=a.da*b*this.j.B;c.q.I.x+=c.T*b*this.j.k.x;c.q.I.y+=c.T*b*this.j.k.y;c.q.W+=c.da*b*this.j.G;tg(a);tg(c);return!0};function Ki(){Ci.call(this);this.type=6;this.K=this.G=null;this.O=1}Rd(Ki,Ci);Ki.prototype.B=function(){return new Hi(this)};function Ii(){this.j=X(0,0);this.k=X(0,0)}
Ii.prototype.Ma=function(){this.j.Ma();this.B=0;this.k.Ma();this.G=0};Ii.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.j.V(a);this.B=c;this.k.V(b);this.G=d};
function Li(a){Ai.call(this,a);this.Da=X(0,0);this.Ea=X(0,0);this.Ce=X(0,0);this.Me=X(0,0);this.k=X(0,0);this.O=X(0,0);this.ua=new ie;this.j=X(0,0);this.Da.V(a.la);this.Ea.V(a.xa);this.Ce.V(a.G);this.Me.x=-this.Ce.y;this.Me.y=this.Ce.x;this.j.Ma();this.gb=this.Pb=0;this.Uc=a.ua;this.ud=a.Pb;this.Ds=a.$a;this.Es=a.eb;this.oj=a.K;this.jm=a.O;this.zb=0;this.k.Ma();this.O.Ma()}Rd(Li,Ai);
Li.prototype.cm=function(){var a=this.ma,c=this.na,b=pg(a,this.Da),d=pg(c,this.Ea),c=d.x-b.x,b=d.y-b.y,a=ce(a.J.F,this.Ce);return a.x*c+a.y*b};
Li.prototype.yg=function(a){var c=this.ma,b=this.na,d,h=0;this.Bg.V(c.q.X);this.Cg.V(b.q.X);var f=c.Le();b.Le();d=c.J.F;var e=this.Da.x-this.Bg.x,g=this.Da.y-this.Bg.y,h=d.u.x*e+d.A.x*g,g=d.u.y*e+d.A.y*g,e=h;d=b.J.F;var l=this.Ea.x-this.Cg.x,m=this.Ea.y-this.Cg.y,h=d.u.x*l+d.A.x*m,m=d.u.y*l+d.A.y*m,l=h;d=b.q.I.x+l-c.q.I.x-e;h=b.q.I.y+m-c.q.I.y-g;this.la=c.T;this.xa=b.T;this.$a=c.da;this.eb=b.da;this.k.V(ce(f.F,this.Ce));this.B=(d+e)*this.k.y-(h+g)*this.k.x;this.G=l*this.k.y-m*this.k.x;this.Pb=this.la+
this.xa+this.$a*this.B*this.B+this.eb*this.G*this.G;this.Pb=this.Pb>Number.MIN_VALUE?1/this.Pb:0;this.O.V(ce(f.F,this.Me));this.K=(d+e)*this.O.y-(h+g)*this.O.x;this.U=l*this.O.y-m*this.O.x;f=this.la;e=this.xa;g=this.$a;l=this.eb;this.ua.u.x=f+e+g*this.K*this.K+l*this.U*this.U;this.ua.u.y=g*this.K*this.B+l*this.U*this.G;this.ua.A.x=this.ua.u.y;this.ua.A.y=f+e+g*this.B*this.B+l*this.G*this.G;this.oj?(d=this.k.x*d+this.k.y*h,.01>Math.abs(this.ud-this.Uc)?this.zb=3:d<=this.Uc?1!=this.zb&&(this.zb=1,this.j.y=
0):d>=this.ud?2!=this.zb&&(this.zb=2,this.j.y=0):(this.zb=0,this.j.y=0)):this.zb=0;0==this.jm&&(this.gb=0);a.Uh?(this.j.x*=a.Jc,this.j.y*=a.Jc,this.gb*=a.Jc,a=this.j.x*this.O.x+(this.gb+this.j.y)*this.k.x,d=this.j.x*this.O.y+(this.gb+this.j.y)*this.k.y,h=this.j.x*this.K+(this.gb+this.j.y)*this.B,f=this.j.x*this.U+(this.gb+this.j.y)*this.G,c.D.x-=this.la*a,c.D.y-=this.la*d,c.M-=this.$a*h,b.D.x+=this.xa*a,b.D.y+=this.xa*d,b.M+=this.eb*f):(this.j.Ma(),this.gb=0)};
Li.prototype.Ag=function(a){var c=this.ma,b=this.na,d=c.D,h=c.M,f=b.D,e=b.M,g=0,l=0,m=0,k=0;this.jm&&3!=this.zb&&(k=this.Pb*(this.Es-(this.k.x*(f.x-d.x)+this.k.y*(f.y-d.y)+this.G*e-this.B*h)),g=this.gb,l=a.ab*this.Ds,this.gb=he(this.gb+k,-l,l),k=this.gb-g,g=k*this.k.x,l=k*this.k.y,m=k*this.B,k*=this.G,d.x-=this.la*g,d.y-=this.la*l,h-=this.$a*m,f.x+=this.xa*g,f.y+=this.xa*l,e+=this.eb*k);l=this.O.x*(f.x-d.x)+this.O.y*(f.y-d.y)+this.U*e-this.K*h;this.oj&&0!=this.zb?(m=this.k.x*(f.x-d.x)+this.k.y*(f.y-
d.y)+this.G*e-this.B*h,g=this.j.Tc(),a=me(this.ua,X(0,0),-l,-m),this.j.xg(a),1==this.zb?this.j.y=Math.max(this.j.y,0):2==this.zb&&(this.j.y=Math.min(this.j.y,0)),l=-l-(this.j.y-g.y)*this.ua.A.x,m=0,m=0!=this.ua.u.x?l/this.ua.u.x+g.x:g.x,this.j.x=m,a.x=this.j.x-g.x,a.y=this.j.y-g.y,g=a.x*this.O.x+a.y*this.k.x,l=a.x*this.O.y+a.y*this.k.y,m=a.x*this.K+a.y*this.B,k=a.x*this.U+a.y*this.G):(a=0,a=0!=this.ua.u.x?-l/this.ua.u.x:0,this.j.x+=a,g=a*this.O.x,l=a*this.O.y,m=a*this.K,k=a*this.U);d.x-=this.la*g;
d.y-=this.la*l;h-=this.$a*m;f.x+=this.xa*g;f.y+=this.xa*l;e+=this.eb*k;c.D.V(d);c.M=h;b.D.V(f);b.M=e};
Li.prototype.zg=function(){var a=this.ma,c=this.na,b=a.q.I,d=a.q.W,h=c.q.I,f=c.q.W,e,g=0,l=0,m=0,k=0,n=e=0,p=0,l=!1,q=0,u=je(d),m=je(f);e=u;var p=this.Da.x-this.Bg.x,t=this.Da.y-this.Bg.y,g=e.u.x*p+e.A.x*t,t=e.u.y*p+e.A.y*t,p=g;e=m;m=this.Ea.x-this.Cg.x;k=this.Ea.y-this.Cg.y;g=e.u.x*m+e.A.x*k;k=e.u.y*m+e.A.y*k;m=g;e=h.x+m-b.x-p;g=h.y+k-b.y-t;if(this.oj){this.k=ce(u,this.Ce);this.B=(e+p)*this.k.y-(g+t)*this.k.x;this.G=m*this.k.y-k*this.k.x;var v=this.k.x*e+this.k.y*g;.01>Math.abs(this.ud-this.Uc)?
(q=he(v,-.2,.2),n=Math.abs(v),l=!0):v<=this.Uc?(q=he(v-this.Uc+.005,-.2,0),n=this.Uc-v,l=!0):v>=this.ud&&(q=he(v-this.ud+.005,0,.2),n=v-this.ud,l=!0)}this.O=ce(u,this.Me);this.K=(e+p)*this.O.y-(g+t)*this.O.x;this.U=m*this.O.y-k*this.O.x;u=X(0,0);t=this.O.x*e+this.O.y*g;n=Math.max(n,Math.abs(t));p=0;l?(l=this.la,m=this.xa,k=this.$a,e=this.eb,this.ua.u.x=l+m+k*this.K*this.K+e*this.U*this.U,this.ua.u.y=k*this.K*this.B+e*this.U*this.G,this.ua.A.x=this.ua.u.y,this.ua.A.y=l+m+k*this.B*this.B+e*this.G*this.G,
me(this.ua,u,-t,-q)):(l=this.la,m=this.xa,k=this.$a,e=this.eb,q=l+m+k*this.K*this.K+e*this.U*this.U,u.x=0!=q?-t/q:0,u.y=0);q=u.x*this.O.x+u.y*this.k.x;l=u.x*this.O.y+u.y*this.k.y;t=u.x*this.K+u.y*this.B;u=u.x*this.U+u.y*this.G;b.x-=this.la*q;b.y-=this.la*l;d-=this.$a*t;h.x+=this.xa*q;h.y+=this.xa*l;f+=this.eb*u;a.q.W=d;c.q.W=f;tg(a);tg(c);return.005>=n&&p<=Sd};
function Mi(){Ci.call(this);this.la=X(0,0);this.xa=X(0,0);this.G=X(0,0);this.type=7;this.G.Set(1,0);this.K=!1;this.Pb=this.ua=0;this.O=!1;this.eb=this.$a=0}Rd(Mi,Ci);Mi.prototype.B=function(){return new Li(this)};
function Pi(a){Ai.call(this,a);this.Da=X(0,0);this.Ea=X(0,0);this.Ce=X(0,0);this.Me=X(0,0);this.O=X(0,0);this.ua=X(0,0);this.k=new ne;this.j=new oe(0,0,0);this.Da.V(a.la);this.Ea.V(a.xa);this.Ce.V(a.G);this.Me.x=-this.Ce.y;this.Me.y=this.Ce.x;this.TD=a.Pb;this.j.Ma();this.gb=this.Pb=0;this.Uc=a.ua;this.ud=a.gb;this.Ds=a.$a;this.Es=a.eb;this.oj=a.K;this.jm=a.O;this.zb=0;this.O.Ma();this.ua.Ma()}Rd(Pi,Ai);
Pi.prototype.cm=function(){var a=this.ma,c=this.na,b=pg(a,this.Da),d=pg(c,this.Ea),c=d.x-b.x,b=d.y-b.y,a=ce(a.J.F,this.Ce);return a.x*c+a.y*b};
Pi.prototype.yg=function(a){var c=this.ma,b=this.na,d,h=0;this.Bg.V(c.q.X);this.Cg.V(b.q.X);var f=c.Le();b.Le();d=c.J.F;var e=this.Da.x-this.Bg.x,g=this.Da.y-this.Bg.y,h=d.u.x*e+d.A.x*g,g=d.u.y*e+d.A.y*g,e=h;d=b.J.F;var l=this.Ea.x-this.Cg.x,m=this.Ea.y-this.Cg.y,h=d.u.x*l+d.A.x*m,m=d.u.y*l+d.A.y*m,l=h;d=b.q.I.x+l-c.q.I.x-e;h=b.q.I.y+m-c.q.I.y-g;this.la=c.T;this.xa=b.T;this.$a=c.da;this.eb=b.da;this.O.V(ce(f.F,this.Ce));this.B=(d+e)*this.O.y-(h+g)*this.O.x;this.G=l*this.O.y-m*this.O.x;this.Pb=this.la+
this.xa+this.$a*this.B*this.B+this.eb*this.G*this.G;this.Pb>Number.MIN_VALUE&&(this.Pb=1/this.Pb);this.ua.V(ce(f.F,this.Me));this.K=(d+e)*this.ua.y-(h+g)*this.ua.x;this.U=l*this.ua.y-m*this.ua.x;f=this.la;e=this.xa;g=this.$a;l=this.eb;this.k.u.x=f+e+g*this.K*this.K+l*this.U*this.U;this.k.u.y=g*this.K+l*this.U;this.k.u.z=g*this.K*this.B+l*this.U*this.G;this.k.A.x=this.k.u.y;this.k.A.y=g+l;this.k.A.z=g*this.B+l*this.G;this.k.j.x=this.k.u.z;this.k.j.y=this.k.A.z;this.k.j.z=f+e+g*this.B*this.B+l*this.G*
this.G;this.oj?(d=this.O.x*d+this.O.y*h,.01>Math.abs(this.ud-this.Uc)?this.zb=3:d<=this.Uc?1!=this.zb&&(this.zb=1,this.j.z=0):d>=this.ud?2!=this.zb&&(this.zb=2,this.j.z=0):(this.zb=0,this.j.z=0)):this.zb=0;0==this.jm&&(this.gb=0);a.Uh?(this.j.x*=a.Jc,this.j.y*=a.Jc,this.gb*=a.Jc,a=this.j.x*this.ua.x+(this.gb+this.j.z)*this.O.x,d=this.j.x*this.ua.y+(this.gb+this.j.z)*this.O.y,h=this.j.x*this.K+this.j.y+(this.gb+this.j.z)*this.B,f=this.j.x*this.U+this.j.y+(this.gb+this.j.z)*this.G,c.D.x-=this.la*a,
c.D.y-=this.la*d,c.M-=this.$a*h,b.D.x+=this.xa*a,b.D.y+=this.xa*d,b.M+=this.eb*f):(this.j.Ma(),this.gb=0)};
Pi.prototype.Ag=function(a){var c=this.ma,b=this.na,d=c.D,h=c.M,f=b.D,e=b.M,g=0,l=0,m=0,k=0;this.jm&&3!=this.zb&&(k=this.Pb*(this.Es-(this.O.x*(f.x-d.x)+this.O.y*(f.y-d.y)+this.G*e-this.B*h)),g=this.gb,a=a.ab*this.Ds,this.gb=he(this.gb+k,-a,a),k=this.gb-g,g=k*this.O.x,l=k*this.O.y,m=k*this.B,k*=this.G,d.x-=this.la*g,d.y-=this.la*l,h-=this.$a*m,f.x+=this.xa*g,f.y+=this.xa*l,e+=this.eb*k);m=this.ua.x*(f.x-d.x)+this.ua.y*(f.y-d.y)+this.U*e-this.K*h;l=e-h;this.oj&&0!=this.zb?(a=this.O.x*(f.x-d.x)+this.O.y*
(f.y-d.y)+this.G*e-this.B*h,g=this.j.Tc(),a=Ge(this.k,new oe(0,0,0),-m,-l,-a),this.j.xg(a),1==this.zb?this.j.z=Math.max(this.j.z,0):2==this.zb&&(this.j.z=Math.min(this.j.z,0)),m=-m-(this.j.z-g.z)*this.k.j.x,l=-l-(this.j.z-g.z)*this.k.j.y,l=pe(this.k,X(0,0),m,l),l.x+=g.x,l.y+=g.y,this.j.x=l.x,this.j.y=l.y,a.x=this.j.x-g.x,a.y=this.j.y-g.y,a.z=this.j.z-g.z,g=a.x*this.ua.x+a.z*this.O.x,l=a.x*this.ua.y+a.z*this.O.y,m=a.x*this.K+a.y+a.z*this.B,k=a.x*this.U+a.y+a.z*this.G,d.x-=this.la*g,d.y-=this.la*l,
h-=this.$a*m,f.x+=this.xa*g,f.y+=this.xa*l,e+=this.eb*k):(a=pe(this.k,X(0,0),-m,-l),this.j.x+=a.x,this.j.y+=a.y,g=a.x*this.ua.x,l=a.x*this.ua.y,m=a.x*this.K+a.y,k=a.x*this.U+a.y,d.x-=this.la*g,d.y-=this.la*l,h-=this.$a*m,f.x+=this.xa*g,f.y+=this.xa*l,e+=this.eb*k);c.D.V(d);c.M=h;b.D.V(f);b.M=e};
Pi.prototype.zg=function(){var a=this.ma,c=this.na,b=a.q.I,d=a.q.W,h=c.q.I,f=c.q.W,e,g=0,l=0,m=0,k=g=e=0,n=0,l=!1,p=0,q=je(d),u=je(f);e=q;var n=this.Da.x-this.Bg.x,t=this.Da.y-this.Bg.y,g=e.u.x*n+e.A.x*t,t=e.u.y*n+e.A.y*t,n=g;e=u;u=this.Ea.x-this.Cg.x;m=this.Ea.y-this.Cg.y;g=e.u.x*u+e.A.x*m;m=e.u.y*u+e.A.y*m;u=g;e=h.x+u-b.x-n;g=h.y+m-b.y-t;if(this.oj){this.O=ce(q,this.Ce);this.B=(e+n)*this.O.y-(g+t)*this.O.x;this.G=u*this.O.y-m*this.O.x;var v=this.O.x*e+this.O.y*g;.01>Math.abs(this.ud-this.Uc)?(p=
he(v,-.2,.2),k=Math.abs(v),l=!0):v<=this.Uc?(p=he(v-this.Uc+.005,-.2,0),k=this.Uc-v,l=!0):v>=this.ud&&(p=he(v-this.ud+.005,0,.2),k=v-this.ud,l=!0)}this.ua=ce(q,this.Me);this.K=(e+n)*this.ua.y-(g+t)*this.ua.x;this.U=u*this.ua.y-m*this.ua.x;q=new oe(0,0,0);t=this.ua.x*e+this.ua.y*g;u=f-d-this.TD;k=Math.max(k,Math.abs(t));n=Math.abs(u);l?(l=this.la,m=this.xa,e=this.$a,g=this.eb,this.k.u.x=l+m+e*this.K*this.K+g*this.U*this.U,this.k.u.y=e*this.K+g*this.U,this.k.u.z=e*this.K*this.B+g*this.U*this.G,this.k.A.x=
this.k.u.y,this.k.A.y=e+g,this.k.A.z=e*this.B+g*this.G,this.k.j.x=this.k.u.z,this.k.j.y=this.k.A.z,this.k.j.z=l+m+e*this.B*this.B+g*this.G*this.G,Ge(this.k,q,-t,-u,-p)):(l=this.la,m=this.xa,e=this.$a,g=this.eb,p=e*this.K+g*this.U,v=e+g,this.k.u.Set(l+m+e*this.K*this.K+g*this.U*this.U,p,0),this.k.A.Set(p,v,0),p=pe(this.k,X(0,0),-t,-u),q.x=p.x,q.y=p.y,q.z=0);p=q.x*this.ua.x+q.z*this.O.x;l=q.x*this.ua.y+q.z*this.O.y;t=q.x*this.K+q.y+q.z*this.B;q=q.x*this.U+q.y+q.z*this.G;b.x-=this.la*p;b.y-=this.la*
l;d-=this.$a*t;h.x+=this.xa*p;h.y+=this.xa*l;f+=this.eb*q;a.q.W=d;c.q.W=f;tg(a);tg(c);return.005>=k&&n<=Sd};function Qi(){Ci.call(this);this.la=X(0,0);this.xa=X(0,0);this.G=X(0,0);this.type=2;this.G.Set(1,0);this.Pb=0;this.K=!1;this.gb=this.ua=0;this.O=!1;this.eb=this.$a=0}Rd(Qi,Ci);Qi.prototype.B=function(){return new Pi(this)};
function Ri(a){Ai.call(this,a);this.la=X(0,0);this.xa=X(0,0);this.Da=X(0,0);this.Ea=X(0,0);this.j=X(0,0);this.k=X(0,0);this.K=this.ma.Ue.aH;this.la.x=a.G.x-this.K.J.position.x;this.la.y=a.G.y-this.K.J.position.y;this.xa.x=a.K.x-this.K.J.position.x;this.xa.y=a.K.y-this.K.J.position.y;this.Da.V(a.O);this.Ea.V(a.la);this.B=a.xa;this.eb=0+0*this.B;this.ud=Math.min(0,this.eb-this.B*Si);this.Me=Math.min(0,(this.eb-Si)/this.B);this.O=this.U=this.G=0}Rd(Ri,Ai);
Ri.prototype.yg=function(a){var c=this.ma,b=this.na,d;d=c.J.F;var h=this.Da.x-c.q.X.x,f=this.Da.y-c.q.X.y,e=d.u.x*h+d.A.x*f,f=d.u.y*h+d.A.y*f,h=e;d=b.J.F;var g=this.Ea.x-b.q.X.x,l=this.Ea.y-b.q.X.y,e=d.u.x*g+d.A.x*l,l=d.u.y*g+d.A.y*l,g=e;d=b.q.I.x+g;var e=b.q.I.y+l,m=this.K.J.position.x+this.xa.x,k=this.K.J.position.y+this.xa.y;this.j.Set(c.q.I.x+h-(this.K.J.position.x+this.la.x),c.q.I.y+f-(this.K.J.position.y+this.la.y));this.k.Set(d-m,e-k);d=Me(this.j);e=Me(this.k);.005<d?this.j.$e(1/d):this.j.Ma();
.005<e?this.k.$e(1/e):this.k.Ma();0<this.eb-d-this.B*e?this.G=this.Uc=0:this.Uc=2;d<this.ud?this.U=this.gb=0:this.gb=2;e<this.Me?this.O=this.zb=0:this.zb=2;d=h*this.j.y-f*this.j.x;e=g*this.k.y-l*this.k.x;this.ua=c.T+c.da*d*d;this.$a=b.T+b.da*e*e;this.Pb=this.ua+this.B*this.B*this.$a;this.ua=1/this.ua;this.$a=1/this.$a;this.Pb=1/this.Pb;a.Uh?(this.G*=a.Jc,this.U*=a.Jc,this.O*=a.Jc,a=(-this.G-this.U)*this.j.x,d=(-this.G-this.U)*this.j.y,e=(-this.B*this.G-this.O)*this.k.x,m=(-this.B*this.G-this.O)*this.k.y,
c.D.x+=c.T*a,c.D.y+=c.T*d,c.M+=c.da*(h*d-f*a),b.D.x+=b.T*e,b.D.y+=b.T*m,b.M+=b.da*(g*m-l*e)):this.O=this.U=this.G=0};
Ri.prototype.Ag=function(){var a=this.ma,c=this.na,b;b=a.J.F;var d=this.Da.x-a.q.X.x,h=this.Da.y-a.q.X.y,f=b.u.x*d+b.A.x*h,h=b.u.y*d+b.A.y*h,d=f;b=c.J.F;var e=this.Ea.x-c.q.X.x,g=this.Ea.y-c.q.X.y,f=b.u.x*e+b.A.x*g,g=b.u.y*e+b.A.y*g,e=f,l=f=b=0,m=0;b=m=b=m=l=f=b=0;2==this.Uc&&(b=a.D.x+-a.M*h,f=a.D.y+a.M*d,l=c.D.x+-c.M*g,m=c.D.y+c.M*e,b=-(this.j.x*b+this.j.y*f)-this.B*(this.k.x*l+this.k.y*m),m=this.Pb*-b,b=this.G,this.G=Math.max(0,this.G+m),m=this.G-b,b=-m*this.j.x,f=-m*this.j.y,l=-this.B*m*this.k.x,
m=-this.B*m*this.k.y,a.D.x+=a.T*b,a.D.y+=a.T*f,a.M+=a.da*(d*f-h*b),c.D.x+=c.T*l,c.D.y+=c.T*m,c.M+=c.da*(e*m-g*l));2==this.gb&&(b=a.D.x+-a.M*h,f=a.D.y+a.M*d,b=-(this.j.x*b+this.j.y*f),m=-this.ua*b,b=this.U,this.U=Math.max(0,this.U+m),m=this.U-b,b=-m*this.j.x,f=-m*this.j.y,a.D.x+=a.T*b,a.D.y+=a.T*f,a.M+=a.da*(d*f-h*b));2==this.zb&&(l=c.D.x+-c.M*g,m=c.D.y+c.M*e,b=-(this.k.x*l+this.k.y*m),m=-this.$a*b,b=this.O,this.O=Math.max(0,this.O+m),m=this.O-b,l=-m*this.k.x,m=-m*this.k.y,c.D.x+=c.T*l,c.D.y+=c.T*
m,c.M+=c.da*(e*m-g*l))};
Ri.prototype.zg=function(){var a=this.ma,c=this.na,b,d=this.K.J.position.x+this.la.x,h=this.K.J.position.y+this.la.y,f=this.K.J.position.x+this.xa.x,e=this.K.J.position.y+this.xa.y,g=0,l=0,m=0,k=0,n=b=0,p=0,q=0,u=n=q=b=n=b=0;2==this.Uc&&(b=a.J.F,g=this.Da.x-a.q.X.x,l=this.Da.y-a.q.X.y,n=b.u.x*g+b.A.x*l,l=b.u.y*g+b.A.y*l,g=n,b=c.J.F,m=this.Ea.x-c.q.X.x,k=this.Ea.y-c.q.X.y,n=b.u.x*m+b.A.x*k,k=b.u.y*m+b.A.y*k,m=n,b=a.q.I.x+g,n=a.q.I.y+l,p=c.q.I.x+m,q=c.q.I.y+k,this.j.Set(b-d,n-h),this.k.Set(p-f,q-e),
b=Me(this.j),n=Me(this.k),.005<b?this.j.$e(1/b):this.j.Ma(),.005<n?this.k.$e(1/n):this.k.Ma(),b=this.eb-b-this.B*n,u=Math.max(u,-b),b=he(b+.005,-.2,0),q=-this.Pb*b,b=-q*this.j.x,n=-q*this.j.y,p=-this.B*q*this.k.x,q=-this.B*q*this.k.y,a.q.I.x+=a.T*b,a.q.I.y+=a.T*n,a.q.W+=a.da*(g*n-l*b),c.q.I.x+=c.T*p,c.q.I.y+=c.T*q,c.q.W+=c.da*(m*q-k*p),tg(a),tg(c));2==this.gb&&(b=a.J.F,g=this.Da.x-a.q.X.x,l=this.Da.y-a.q.X.y,n=b.u.x*g+b.A.x*l,l=b.u.y*g+b.A.y*l,g=n,b=a.q.I.x+g,n=a.q.I.y+l,this.j.Set(b-d,n-h),b=Me(this.j),
.005<b?(this.j.x*=1/b,this.j.y*=1/b):this.j.Ma(),b=this.ud-b,u=Math.max(u,-b),b=he(b+.005,-.2,0),q=-this.ua*b,b=-q*this.j.x,n=-q*this.j.y,a.q.I.x+=a.T*b,a.q.I.y+=a.T*n,a.q.W+=a.da*(g*n-l*b),tg(a));2==this.zb&&(b=c.J.F,m=this.Ea.x-c.q.X.x,k=this.Ea.y-c.q.X.y,n=b.u.x*m+b.A.x*k,k=b.u.y*m+b.A.y*k,m=n,p=c.q.I.x+m,q=c.q.I.y+k,this.k.Set(p-f,q-e),n=Me(this.k),.005<n?(this.k.x*=1/n,this.k.y*=1/n):this.k.Ma(),b=this.Me-n,u=Math.max(u,-b),b=he(b+.005,-.2,0),q=-this.$a*b,p=-q*this.k.x,q=-q*this.k.y,c.q.I.x+=
c.T*p,c.q.I.y+=c.T*q,c.q.W+=c.da*(m*q-k*p),tg(c));return.005>u};var Si=1;function Ti(){Ci.call(this);this.G=X(0,0);this.K=X(0,0);this.O=X(0,0);this.la=X(0,0);this.type=4;this.G.Set(-1,1);this.K.Set(1,1);this.O.Set(-1,0);this.la.Set(1,0);this.xa=1;this.U=!0}Rd(Ti,Ci);Ti.prototype.B=function(){return new Ri(this)};
function Ui(a){Ai.call(this,a);this.ua=new ie;this.O=new ie;this.la=new ie;this.xa=new ie;this.k=new oe(0,0,0);this.G=X(0,0);this.U=X(0,0);this.Da=X(0,0);this.Ea=X(0,0);this.j=new oe(0,0,0);this.fa=new ne;this.Da.V(a.G);this.Ea.V(a.K);this.gb=a.la;this.j.Ma();this.K=0;this.$a=a.xa;this.zb=a.ua;this.Me=a.Pb;this.ud=a.eb;this.eb=a.O;this.Uc=a.$a;this.B=0}Rd(Ui,Ai);function Ji(a){return a.na.q.W-a.ma.q.W-a.gb}
Ui.prototype.yg=function(a){var c=this.ma,b=this.na,d,h=0;d=c.J.F;var f=this.Da.x-c.q.X.x,e=this.Da.y-c.q.X.y,h=d.u.x*f+d.A.x*e,e=d.u.y*f+d.A.y*e,f=h;d=b.J.F;var g=this.Ea.x-b.q.X.x,l=this.Ea.y-b.q.X.y,h=d.u.x*g+d.A.x*l,l=d.u.y*g+d.A.y*l,g=h;d=c.T;var h=b.T,m=c.da,k=b.da;this.fa.u.x=d+h+e*e*m+l*l*k;this.fa.A.x=-e*f*m-l*g*k;this.fa.j.x=-e*m-l*k;this.fa.u.y=this.fa.A.x;this.fa.A.y=d+h+f*f*m+g*g*k;this.fa.j.y=f*m+g*k;this.fa.u.z=this.fa.j.x;this.fa.A.z=this.fa.j.y;this.fa.j.z=m+k;this.Pb=1/(m+k);this.Uc||
(this.K=0);if(this.eb){var n=b.q.W-c.q.W-this.gb;Math.abs(this.zb-this.$a)<2*Sd?this.B=3:n<=this.$a?(1!=this.B&&(this.j.z=0),this.B=1):n>=this.zb?(2!=this.B&&(this.j.z=0),this.B=2):(this.B=0,this.j.z=0)}else this.B=0;a.Uh?(this.j.x*=a.Jc,this.j.y*=a.Jc,this.K*=a.Jc,a=this.j.x,n=this.j.y,c.D.x-=d*a,c.D.y-=d*n,c.M-=m*(f*n-e*a+this.K+this.j.z),b.D.x+=h*a,b.D.y+=h*n,b.M+=k*(g*n-l*a+this.K+this.j.z)):(this.j.Ma(),this.K=0)};
Ui.prototype.Ag=function(a){var c=this.ma,b=this.na,d=0,h=d=0,f=0,e=0,g=0,l=c.D,m=c.M,k=b.D,n=b.M,p=c.T,q=b.T,u=c.da,t=b.da;this.Uc&&3!=this.B&&(h=this.Pb*-(n-m-this.ud),f=this.K,e=a.ab*this.Me,this.K=he(this.K+h,-e,e),h=this.K-f,m-=u*h,n+=t*h);if(this.eb&&0!=this.B){a=c.J.F;h=this.Da.x-c.q.X.x;f=this.Da.y-c.q.X.y;d=a.u.x*h+a.A.x*f;f=a.u.y*h+a.A.y*f;h=d;a=b.J.F;e=this.Ea.x-b.q.X.x;g=this.Ea.y-b.q.X.y;d=a.u.x*e+a.A.x*g;g=a.u.y*e+a.A.y*g;e=d;a=k.x+-n*g-l.x- -m*f;var v=k.y+n*e-l.y-m*h;Ge(this.fa,this.k,
-a,-v,-(n-m));3==this.B?this.j.xg(this.k):1==this.B?(d=this.j.z+this.k.z,0>d&&(pe(this.fa,this.U,-a,-v),this.k.x=this.U.x,this.k.y=this.U.y,this.k.z=-this.j.z,this.j.x+=this.U.x,this.j.y+=this.U.y,this.j.z=0)):2==this.B&&(d=this.j.z+this.k.z,0<d&&(pe(this.fa,this.U,-a,-v),this.k.x=this.U.x,this.k.y=this.U.y,this.k.z=-this.j.z,this.j.x+=this.U.x,this.j.y+=this.U.y,this.j.z=0));l.x-=p*this.k.x;l.y-=p*this.k.y;m-=u*(h*this.k.y-f*this.k.x+this.k.z);k.x+=q*this.k.x;k.y+=q*this.k.y;n+=t*(e*this.k.y-g*this.k.x+
this.k.z)}else a=c.J.F,h=this.Da.x-c.q.X.x,f=this.Da.y-c.q.X.y,d=a.u.x*h+a.A.x*f,f=a.u.y*h+a.A.y*f,h=d,a=b.J.F,e=this.Ea.x-b.q.X.x,g=this.Ea.y-b.q.X.y,d=a.u.x*e+a.A.x*g,g=a.u.y*e+a.A.y*g,e=d,pe(this.fa,this.G,-(k.x+-n*g-l.x- -m*f),-(k.y+n*e-l.y-m*h)),this.j.x+=this.G.x,this.j.y+=this.G.y,l.x-=p*this.G.x,l.y-=p*this.G.y,m-=u*(h*this.G.y-f*this.G.x),k.x+=q*this.G.x,k.y+=q*this.G.y,n+=t*(e*this.G.y-g*this.G.x);c.D.V(l);c.M=m;b.D.V(k);b.M=n};
Ui.prototype.zg=function(){var a=0,c,b=this.ma,d=this.na,h=0,f=c=0,e=0,f=0;if(this.eb&&0!=this.B){var a=d.q.W-b.q.W-this.gb,g=0;3==this.B?(a=he(a-this.$a,-Td,Td),g=-this.Pb*a,h=Math.abs(a)):1==this.B?(a-=this.$a,h=-a,a=he(a+Sd,-Td,0),g=-this.Pb*a):2==this.B&&(h=a-=this.zb,a=he(a-Sd,0,Td),g=-this.Pb*a);b.q.W-=b.da*g;d.q.W+=d.da*g;tg(b);tg(d)}c=b.J.F;g=this.Da.x-b.q.X.x;a=this.Da.y-b.q.X.y;f=c.u.x*g+c.A.x*a;a=c.u.y*g+c.A.y*a;g=f;c=d.J.F;var l=this.Ea.x-d.q.X.x,m=this.Ea.y-d.q.X.y,f=c.u.x*l+c.A.x*m,
m=c.u.y*l+c.A.y*m,l=f,e=d.q.I.x+l-b.q.I.x-g,f=d.q.I.y+m-b.q.I.y-a,k=e*e+f*f;c=Math.sqrt(k);var n=b.T,p=d.T,q=b.da,u=d.da;k>.05*.05&&(k=1/(n+p),e=k*-e,f=k*-f,b.q.I.x-=.5*n*e,b.q.I.y-=.5*n*f,d.q.I.x+=.5*p*e,d.q.I.y+=.5*p*f,e=d.q.I.x+l-b.q.I.x-g,f=d.q.I.y+m-b.q.I.y-a);this.O.u.x=n+p;this.O.A.x=0;this.O.u.y=0;this.O.A.y=n+p;this.la.u.x=q*a*a;this.la.A.x=-q*g*a;this.la.u.y=-q*g*a;this.la.A.y=q*g*g;this.xa.u.x=u*m*m;this.xa.A.x=-u*l*m;this.xa.u.y=-u*l*m;this.xa.A.y=u*l*l;ke(this.ua,this.O);n=this.ua;p=
this.la;n.u.xg(p.u);n.A.xg(p.A);n=this.ua;p=this.xa;n.u.xg(p.u);n.A.xg(p.A);me(this.ua,Vi,-e,-f);e=Vi.x;f=Vi.y;b.q.I.x-=b.T*e;b.q.I.y-=b.T*f;b.q.W-=b.da*(g*f-a*e);d.q.I.x+=d.T*e;d.q.I.y+=d.T*f;d.q.W+=d.da*(l*f-m*e);tg(b);tg(d);return.005>=c&&h<=Sd};var Vi=X(0,0);function Wi(){Ci.call(this);this.G=X(0,0);this.K=X(0,0);this.type=1;this.G.Ma();this.K.Ma();this.eb=this.Pb=this.ua=this.xa=this.la=0;this.$a=this.O=!1}Rd(Wi,Ci);
function Xi(a,c,b,d){a.j=c;a.k=b;a.G=fe(a.j.J,d);a.K=fe(a.k.J,d);a.la=a.k.lj()-a.j.lj()}Wi.prototype.B=function(){return new Ui(this)};function Yi(a){Ai.call(this,a);this.k=X(0,0);this.B=X(0,0);this.j=new oe(0,0,0);this.fa=new ne;this.k.V(a.G);this.B.V(a.K);this.G=a.O}Rd(Yi,Ai);
Yi.prototype.yg=function(a){var c,b=0,d=this.ma,h=this.na;c=d.J.F;var f=this.k.x-d.q.X.x,e=this.k.y-d.q.X.y,b=c.u.x*f+c.A.x*e,e=c.u.y*f+c.A.y*e,f=b;c=h.J.F;var g=this.B.x-h.q.X.x,l=this.B.y-h.q.X.y,b=c.u.x*g+c.A.x*l,l=c.u.y*g+c.A.y*l,g=b;c=d.T;var b=h.T,m=d.da,k=h.da;this.fa.u.x=c+b+e*e*m+l*l*k;this.fa.A.x=-e*f*m-l*g*k;this.fa.j.x=-e*m-l*k;this.fa.u.y=this.fa.A.x;this.fa.A.y=c+b+f*f*m+g*g*k;this.fa.j.y=f*m+g*k;this.fa.u.z=this.fa.j.x;this.fa.A.z=this.fa.j.y;this.fa.j.z=m+k;a.Uh?(this.j.x*=a.Jc,this.j.y*=
a.Jc,this.j.z*=a.Jc,d.D.x-=c*this.j.x,d.D.y-=c*this.j.y,d.M-=m*(f*this.j.y-e*this.j.x+this.j.z),h.D.x+=b*this.j.x,h.D.y+=b*this.j.y,h.M+=k*(g*this.j.y-l*this.j.x+this.j.z)):this.j.Ma()};
Yi.prototype.Ag=function(){var a,c=0,b=this.ma,d=this.na,h=b.D,f=b.M,e=d.D,g=d.M,l=b.T,m=d.T,k=b.da,n=d.da;a=b.J.F;var p=this.k.x-b.q.X.x,q=this.k.y-b.q.X.y,c=a.u.x*p+a.A.x*q,q=a.u.y*p+a.A.y*q,p=c;a=d.J.F;var u=this.B.x-d.q.X.x,t=this.B.y-d.q.X.y,c=a.u.x*u+a.A.x*t,t=a.u.y*u+a.A.y*t,u=c;a=new oe(0,0,0);Ge(this.fa,a,-(e.x-g*t-h.x+f*q),-(e.y+g*u-h.y-f*p),-(g-f));this.j.xg(a);h.x-=l*a.x;h.y-=l*a.y;f-=k*(p*a.y-q*a.x+a.z);e.x+=m*a.x;e.y+=m*a.y;g+=n*(u*a.y-t*a.x+a.z);b.M=f;d.M=g};
Yi.prototype.zg=function(){var a,c=0,b=this.ma,d=this.na;a=b.J.F;var h=this.k.x-b.q.X.x,f=this.k.y-b.q.X.y,c=a.u.x*h+a.A.x*f,f=a.u.y*h+a.A.y*f,h=c;a=d.J.F;var e=this.B.x-d.q.X.x,g=this.B.y-d.q.X.y,c=a.u.x*e+a.A.x*g,g=a.u.y*e+a.A.y*g,e=c;a=b.T;var c=d.T,l=b.da,m=d.da,k=d.q.I.x+e-b.q.I.x-h,n=d.q.I.y+g-b.q.I.y-f,p=d.q.W-b.q.W-this.G,q=Math.sqrt(k*k+n*n),u=Math.abs(p);.05<q&&(l*=1,m*=1);this.fa.u.x=a+c+f*f*l+g*g*m;this.fa.A.x=-f*h*l-g*e*m;this.fa.j.x=-f*l-g*m;this.fa.u.y=this.fa.A.x;this.fa.A.y=a+c+h*
h*l+e*e*m;this.fa.j.y=h*l+e*m;this.fa.u.z=this.fa.j.x;this.fa.A.z=this.fa.j.y;this.fa.j.z=l+m;var t=new oe(0,0,0);Ge(this.fa,t,-k,-n,-p);b.q.I.x-=a*t.x;b.q.I.y-=a*t.y;b.q.W-=l*(h*t.y-f*t.x+t.z);d.q.I.x+=c*t.x;d.q.I.y+=c*t.y;d.q.W+=m*(e*t.y-g*t.x+t.z);tg(b);tg(d);return.005>=q&&u<=Sd};function Zi(){Ci.call(this);this.G=X(0,0);this.K=X(0,0);this.type=8;this.O=0}Rd(Zi,Ci);Zi.prototype.B=function(){return new Yi(this)};
var Xh=[new Ye,new Ye],ri=[new Ye,new Ye],si=[new Ye,new Ye],Zh=X(0,0),di=X(0,0),ii=X(0,0),li=X(0,0),ji=X(0,0),ki=X(0,0),pi=X(0,0),qi=X(0,0),rh=0,xh=0,yh=0,vh=0,wh=0,sh=new $f,th=new of,Ff=new Ie,Lf=new Ie,Ef=new function(){this.Sa=X(0,0);this.j=X(0,0)},uh=new pf,sg=new Ie,Lg=new Jg;new function(){this.position=X(0,0);X(0,0);X(0,0);this.id=new Xe};new Ie;
var zh=new He,Ah=new He,qh=new ag,Uh=new function(){this.j=X(0,0);this.Ia=[];for(var a=this.nc=0;2>a;a++)this.Ia[a]=X(0,0)},Wh=new function(){this.j=X(0,0);this.k=[];this.Ia=[];for(var a=0;2>a;a++)this.Ia[a]=X(0,0)};function $i(a,c,b,d,h,f){var e;if(e=(b+.1>=a&&a>=h-.1||b-.1<=a&&a<=h+.1)&&(d+.1>=c&&c>=f-.1||d-.1<=c&&c<=f+.1))e=.1<Math.abs(h-b)?.1>Math.abs((f-d)/(h-b)*(a-b)+d-c):.1>Math.abs(a-b);return e}
function aj(a,c){var b=gj(a),d=[],h,f,e,g,l,m,k,n,p;l=0;for(m=b.length;l<m;l++){f=b[l];h=[];h.length=f.length;k=p=0;for(n=f.length;k<n;k++)e=f[k],g=f[(k+1)%n],p+=e.x*g.y-e.y*g.x,h[k]=X(e.x,e.y);p=Math.abs(p/2);p>=.001*c&&d.push(h)}return d}
function gj(a){var c=[],b=0,d=0,h=0,f=0,e=0,g=e=0,l=0,m=0,k=0,f=0,n,p,q,u,t,v=f=b=0,r=0,h=[],l=[],y=!1,B=[],D=[];for(D.push(a);D.length;){c=D[0];d=c.length;y=!0;for(b=0;b<d;b++)if(m=b,k=b<d-1?b+1:b+1-d,f=b<d-2?b+2:b+2-d,a=c[m],n=c[k],p=c[f],f=a.x,h=a.y,l=n.x,e=n.y,g=p.x,p=p.y,f=f*e+l*p+g*h-h*l-e*g-p*f,0>f){y=!1;l=1E9;for(h=0;h<d;h++)if(h!==m&&h!==k){b=h;f=h<d-1?h+1:0;q=c[b];u=c[f];g=a.x;p=a.y;var C=n.x,E=n.y,e=q.x;q=q.y;var A=u.x;u=u.y;var x=C-g,w=E-p,F=A-e,I=u-q,F=(F*(q-p)-I*(e-g))/(w*F-x*I),x=g+
F*x,w=p+F*w,g=$i(C,E,g,p,x,w),e=$i(x,w,e,q,A,u);if(p=g&&e?X(x,w):null)e=n.x-p.x,g=n.y-p.y,e=e*e+g*g,e<l&&(r=b,v=f,t=p,l=e)}if(1E9===l)return[];h=[];l=[];b=r;f=v;q=c[b];u=c[f];v=t.y;r=u.y;.1>Math.abs(u.x-t.x)&&.1>Math.abs(r-v)||h.push(t);v=t.y;r=q.y;.1>Math.abs(q.x-t.x)&&.1>Math.abs(r-v)||l.push(t);r=-1;for(v=m;;){if(v!==f)h.push(c[v]);else{if(0>r||r>=d)return[];$i(u.x,u.y,c[r].x,c[r].y,a.x,a.y)||h.push(c[v]);break}r=v;0>v-1?v=d-1:v--}h.reverse();r=-1;for(v=k;;){if(v!==b)l.push(c[v]);else{if(0>r||
r>=d)return[];v!==b||$i(q.x,q.y,c[r].x,c[r].y,n.x,n.y)||l.push(c[v]);break}r=v;v+1>d-1?v=0:v++}D.push(h,l);D.shift();break}y&&B.push(D.shift())}return B}
function ij(a){for(var c=0;4E3>c;c++)Ke.push(new Je(0,0));this.i=a;this.Je=new Wg(X(0,10),!0);this.mu=-1;a=new Jg;a.behavior=this;a.BeginContact=function(a){this.behavior.i.ik(a.Ac.yb().Fg.n,a.mc.yb().Fg.n)};this.Je.j.k=a;a=new Gg;a.behavior=this;a.j=function(a,c){if(this.behavior.fE)return!0;var h=a.yb().Fg.n.type,f=c.yb().Fg.n.type,e=h.ra.Physics_DisabledCollisions;return e&&e.contains(f)?!1:(e=f.ra.Physics_DisabledCollisions)&&e.contains(h)?!1:!0};this.Je.j.B=a;this.hI=0;this.Go=8;this.Vn=3;this.fE=
!0}
(function(){function a(){}var c=ij.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ka=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.Je=this.behavior.Je};var b=c.ta.prototype;b.ka=function(){this.Pt=0!==this.S[0];this.nx=this.S[1];this.Yu=0!==this.S[2];this.mi=this.S[3];this.ri=this.S[4];this.Xi=this.S[5];this.ol=this.S[6];this.Ck=this.S[7];this.Ek=0!==this.S[8];this.enabled=0!==this.S[9];this.body=null;this.n.cb();this.sq=this.n.x;this.tq=
this.n.y;this.Cd=this.n.L;this.ju=this.nu=0;this.Jz=this.lu=!1;this.gu=null;this.hu=-1;this.Ve?(this.Ve.length=0,this.Pf.length=0,this.wh.clear()):(this.Ve=[],this.Pf=[],this.wh=new fa);var a=this;this.rd||(this.Si=function(b){a.ek(b)});this.i.Ak(this.Si)};b.Cz=function(){this.n.cb();this.up();this.gu=this.n.Vb;this.hu=this.n.Ca};b.je=function(){this.Fp();this.Pf.length=0;this.wh.clear();this.body&&($g(this.Je,this.body),this.body=null);this.i.jv(this.Si)};b.Mb=function(){var a={e:this.enabled,im:this.Pt,
pr:this.Yu,d:this.mi,fr:this.ri,re:this.Xi,ld:this.ol,ad:this.Ck,b:this.Ek,mcj:this.Pf};if(this.enabled){var b=X(0,0);b.V(this.body.D);a.vx=b.x;a.vy=b.y;a.om=this.body.M}return a};b.Sb=function(a){this.Fp();this.Pf.length=0;this.wh.clear();this.body&&($g(this.Je,this.body),this.body=null);this.enabled=a.e;this.Pt=a.im;this.Yu=a.pr;this.mi=a.d;this.ri=a.fr;this.Xi=a.re;this.ol=a.ld;this.Ck=a.ad;this.Ek=a.b;this.sq=this.n.x;this.tq=this.n.y;this.Cd=this.n.L;this.nu=this.n.width;this.ju=this.n.height;
this.enabled&&(this.up(),ng(this.body,X(a.vx,a.vy)),this.body.Vo(a.om),0===a.vx&&0===a.vy&&0===a.om||og(this.body,!0),this.Pf=a.mcj)};b.zf=function(){this.enabled&&this.iv();this.behavior.mu=this.i.sf-1};b.ek=function(a){var b,c,d,l=a.uid;d=b=0;for(c=this.Pf.length;b<c;b++)this.Pf[d]=this.Pf[b],d<this.Ve.length&&(this.Ve[d]=this.Ve[b]),this.Pf[b].ub[1]==l?ah(this.Je,this.Ve[b]):d++;this.Pf.length=d;d<this.Ve.length&&(this.Ve.length=d);this.wh.remove(a)};b.Fp=function(){var a,b;a=0;for(b=this.Ve.length;a<
b;a++)ah(this.Je,this.Ve[a]);this.Ve.length=0};b.iv=function(){var a,b,c;a=0;for(b=this.Pf.length;a<b;a++)switch(c=this.Pf[a],c.type){case 0:this.GE(c.ub[0],c.ub[1],c.ub[2],c.ub[3],c.ub[4]);break;case 1:this.IE(c.ub[0],c.ub[1]);break;case 2:this.HE(c.ub[0],c.ub[1],c.ub[2],c.ub[3])}};b.zx=function(){this.body&&(this.Fp(),$g(this.Je,this.body),this.body=null,this.n.ra.Bf=null)};var d=[];b.up=function(){if(this.enabled){var a=this.n,b=!1,c=null,g=null,l,m,k,n,p,q,u,t,v,r,y,B,D;if(this.body){b=!0;c=X(0,
0);c.V(this.body.D);g=this.body.M;t=this.wh.vg();l=0;for(m=t.length;l<m;l++)v=t[l].ra.Bf.Fg,v.Fp();this.zx()}v=new Rg;v.mi=this.mi;v.ri=this.ri;v.Xi=this.Xi;l=new vg;l.type=this.Pt?0:2;a.cb();l.position.x=.02*a.Rb.Oi();l.position.y=.02*a.Rb.Pi();l.L=a.L;l.j=this.Yu;l.ol=this.ol;l.Ck=this.Ck;l.Ek=this.Ek;t=this.n.jb&&!this.n.jb.Qj();this.body=Yg(this.Je,l);this.body.Fg=this;l=this.nx;t||this.n.Rh||0!==this.nx||(l=1);m=Math.max(Math.abs(a.width),1);k=Math.max(Math.abs(a.height),1);r=0>a.width;y=0>a.height;
if(0===l)if(a.Rh)for(B=a.Rb.Oi()-a.x,u=a.Rb.Pi()-a.y,a.SF(d),t=[],l=0,m=d.length;l<m;++l){r=d[l];y=r.Gb;if(r.le){if(!r.le.rp){p=r.le.Ob;n=r.le.ne;for(k=0;k<n;++k)t.push(X(p[2*k],p[2*k+1]));k=r.id&3758096384;(-2147483648===k||1073741824===k||536870912===k||k&-2147483648&&k&1073741824&&k&536870912)&&t.reverse();r.le.rp=aj(t,(y.right-y.left)*(y.bottom-y.top));k=0;for(n=t.length;k<n;++k)Le(t[k]);t.length=0}k=0;for(n=r.le.rp.length;k<n;++k){D=r.le.rp[k];p=0;for(q=D.length;p<q;++p)t.push(X(.02*(y.left+
D[p].x-B),.02*(y.top+D[p].y-u)));v.shape=new Te;Ve(v.shape,t);gg(this.body,v);p=0;for(q=t.length;p<q;++p)Le(t[p]);t.length=0}}else t.push(X(.02*(y.left-B),.02*(y.top-u))),t.push(X(.02*(y.right-B),.02*(y.top-u))),t.push(X(.02*(y.right-B),.02*(y.bottom-u))),t.push(X(.02*(y.left-B),.02*(y.bottom-u))),v.shape=new Te,Ve(v.shape,t),gg(this.body,v);k=0;for(n=t.length;k<n;++k)Le(t[k]);t.length=0}else{l=a.L;a.L=0;a.ba();a.cb();B=a.Rb.Oi()-a.x;u=a.Rb.Pi()-a.y;a.L=l;a.ba();a.jb.fi(r?-m:m,y?-k:k,0);p=a.jb.Ob;
n=a.jb.ne;t=[];t.length=n;for(l=0;l<n;l++)t[l]=X(p[2*l]-B,p[2*l+1]-u);r!==y&&t.reverse();B=aj(t,m*k);for(l=0;l<n;l++)Le(t[l]);if(B.length)for(l=0,m=B.length;l<m;l++){t=B[l];k=0;for(n=t.length;k<n;k++)u=t[k],u.x*=.02,u.y*=.02;v.shape=new Te;Ve(v.shape,t);gg(this.body,v);k=0;for(n=t.length;k<n;k++)Le(t[k])}else v.shape=new Te,We(v.shape,.01*m,.01*k),gg(this.body,v)}else 1===l?(v.shape=new Te,We(v.shape,.01*m,.01*k)):v.shape=new Qe(.01*Math.min(m,k)),gg(this.body,v);a.ra.Bf=this.body;this.nu=a.width;
this.ju=a.height;if(b)for(ng(this.body,c),this.body.Vo(g),Le(c),this.iv(),t=this.wh.vg(),l=0,m=t.length;l<m;l++)v=t[l].ra.Bf.Fg,v.iv();d.length=0}};b.nb=function(){if(this.enabled){var a=this.n,b;0===this.behavior.hI?b=this.i.sg/60:(b=this.i.gg(this.n),b>1/30&&(b=1/30));if(this.i.sf>this.behavior.mu&&0<this.i.sg){this.Je.$h(b,this.behavior.Go,this.behavior.Vn);for(b=this.Je.jj.qb(zg);b;b=b.fb())b.body.k.Ma(),b.body.G=0;this.behavior.mu=this.i.sf}if(this.Jz||a.width!==this.nu||a.height!==this.ju||
a.Vb!==this.gu||a.Ca!==this.hu||a.Rh&&a.Vi)this.up(),this.Jz=!1,this.gu=a.Vb,this.hu=a.Ca,a.Rh&&a.Vi&&(a.Vi=!1);b=a.L!==this.Cd;if(a.x!==this.sq||a.y!==this.tq){a.cb();var c=a.Rb.Oi(),d=a.Rb.Pi(),l=c-this.sq,m=d-this.tq,k=this.body,c=X(.02*c,.02*d);kg(k,c,k.lj());ng(this.body,X(l,m));this.lu=!0;og(this.body,!0)}else this.lu&&(this.lu=!1,ng(this.body,X(0,0)),l=this.body,m=X(.02*a.Rb.Oi(),.02*a.Rb.Pi()),kg(l,m,l.lj()));b&&(this.body.Uo(a.L),og(this.body,!0));l=this.body.J.position;b=l.x/.02;l=l.y/.02;
m=this.body.lj();if(b!==a.x||l!==a.y||m!==a.L)if(a.x=b,a.y=l,a.L=m,a.ba(),a.cb(),b=a.Rb.Oi()-a.x,l=a.Rb.Pi()-a.y,0!==b||0!==l)a.x-=b,a.y-=l,a.ba();this.sq=a.x;this.tq=a.y;this.Cd=a.L}};b.Yp=function(a){return-1!==a&&this.n.Jf?0===a&&this.body?(this.body.J.position.x+this.body.q.X.x)/.02:this.n.Jf(a,!0):this.n.x};b.Zp=function(a){return-1!==a&&this.n.Jf?0===a&&this.body?(this.body.J.position.y+this.body.q.X.y)/.02:this.n.Jf(a,!1):this.n.y};c.C=new function(){};a.prototype.ij=function(a,b,c){if(this.enabled){var d=
this.Yp(c);c=this.Zp(c);this.body.ij(X(a,b),X(.02*d,.02*c))}};a.prototype.ns=function(a){this.enabled&&this.body.ns(Pa(a))};a.prototype.Vo=function(a){this.enabled&&(this.body.Vo(Pa(a)),og(this.body,!0))};b.GE=function(a,b,c,d,l){if(this.enabled){var m=this.i.hg(b);if(m&&m!=this.n&&m.ra.Bf){m.ra.Bf.Fg.wh.add(this.n);var k=this.Yp(a),n=this.Zp(a),p,q;m.Jf?(p=m.Jf(c,!0),q=m.Jf(c,!1)):(p=m.x,q=m.y);c=k-p;a=n-q;b=new Ei;m=m.ra.Bf;k=X(.02*k,.02*n);p=X(.02*p,.02*q);b.j=this.body;b.k=m;b.O.V(fe(b.j.J,k));
b.la.V(fe(b.k.J,p));m=p.x-k.x;k=p.y-k.y;b.length=Math.sqrt(m*m+k*k);b.K=0;b.G=0;b.length=.02*Math.sqrt(c*c+a*a);b.G=d;b.K=l;this.Ve.push(bh(this.Je,b))}}};b.IE=function(a,b){if(this.enabled){var c=this.i.hg(b);if(c&&c!=this.n&&c.ra.Bf){c.ra.Bf.Fg.wh.add(this.n);var d=this.Yp(a),l=this.Zp(a),m=new Wi;Xi(m,this.body,c.ra.Bf,X(.02*d,.02*l));this.Ve.push(bh(this.Je,m))}}};b.HE=function(a,b,c,d){if(this.enabled&&(b=this.i.hg(b))&&b!=this.n&&b.ra.Bf){b.ra.Bf.Fg.wh.add(this.n);var l=this.Yp(a);a=this.Zp(a);
var m=new Wi;Xi(m,this.body,b.ra.Bf,X(.02*l,.02*a));m.O=!0;m.xa=Pa(c);m.ua=Pa(d);this.Ve.push(bh(this.Je,m))}};a.prototype.wf=function(a){this.enabled&&0===a?(this.zx(),this.enabled=!1):this.enabled||1!==a||(this.enabled=!0,this.up())};c.R=new a;c.aa=new function(){}})();function jj(a){this.i=a}
(function(){function a(){}var c=jj.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ka=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ka=function(){this.cd=null;this.Zq=-1;this.mode=this.Cd=this.Pr=this.zl=this.Fh=this.Un=0;var a=this;this.rd||(this.Si=function(b){a.ek(b)});this.i.Ak(this.Si)};b.Mb=function(){return{uid:this.cd?this.cd.uid:-1,pa:this.Un,pd:this.Fh,msa:this.zl,tsa:this.Pr,lka:this.Cd,m:this.mode}};
b.Sb=function(a){this.Zq=a.uid;this.Un=a.pa;this.Fh=a.pd;this.zl=a.msa;this.Pr=a.tsa;this.Cd=a.lka;this.mode=a.m};b.zf=function(){-1===this.Zq?this.cd=null:this.cd=this.i.hg(this.Zq);this.Zq=-1};b.ek=function(a){this.cd==a&&(this.cd=null)};b.je=function(){this.cd=null;this.i.jv(this.Si)};b.nb=function(){};b.yo=function(){if(this.cd){this.Cd!==this.n.L&&(this.zl=Ua(this.zl+(this.n.L-this.Cd)));var a=this.n.x,b=this.n.y;if(3===this.mode||4===this.mode){var c=db(this.n.x,this.n.y,this.cd.x,this.cd.y);
if(c>this.Fh||4===this.mode&&c<this.Fh)b=Xa(this.cd.x,this.cd.y,this.n.x,this.n.y),a=this.cd.x+Math.cos(b)*this.Fh,b=this.cd.y+Math.sin(b)*this.Fh}else a=this.cd.x+Math.cos(this.cd.L+this.Un)*this.Fh,b=this.cd.y+Math.sin(this.cd.L+this.Un)*this.Fh;this.Cd=c=Ua(this.zl+(this.cd.L-this.Pr));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.n.x===a&&this.n.y===b||(this.n.x=a,this.n.y=b,this.n.ba());0!==this.mode&&2!==this.mode||this.n.L===c||(this.n.L=c,this.n.ba())}};c.C=new function(){};
a.prototype.bD=function(a,b){if(a){var c=a.Tk(this.n);c&&(this.cd=c,this.Un=Xa(c.x,c.y,this.n.x,this.n.y)-c.L,this.Fh=db(c.x,c.y,this.n.x,this.n.y),this.Cd=this.zl=this.n.L,this.Pr=c.L,this.mode=b)}};c.R=new a;c.aa=new function(){}})();function mj(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=mj.prototype;d.wa=function(a){this.behavior=a;this.i=a.i};d.wa.prototype.ka=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.lo=this.Gr=this.Fr=this.Nt=this.wm=this.Em=this.il=this.jl=this.bo=this.vn=!1;this.fe=null;this.ru=-1;this.Uj=this.Tj=0;this.Sp=!1;this.qi=this.$f=0;this.Pp=!0;this.ea=this.ca=0};var h=d.ta.prototype;h.FA=function(){this.Hc=Math.cos(this.Qk);this.Ic=Math.sin(this.Qk);this.jk=
Math.cos(this.Qk-Math.PI/2);this.kk=Math.sin(this.Qk-Math.PI/2);this.Hc=Lb(this.Hc);this.Ic=Lb(this.Ic);this.jk=Lb(this.jk);this.kk=Lb(this.kk);this.tt=this.zd;0>this.zd&&(this.Hc*=-1,this.Ic*=-1,this.zd=Math.abs(this.zd))};h.ka=function(){this.xl=this.S[0];this.ve=this.S[1];this.Jk=this.S[2];this.rn=this.S[3];this.tt=this.zd=this.S[4];this.Hq=this.S[5];this.it=0!==this.S[6];this.fu=this.S[7]/1E3;this.zE=1===this.S[8];this.enabled=0!==this.S[9];this.Xl=!1;this.Yl=this.i.bh(this.n);this.su=-1;this.qk=
0;this.Qk=Pa(90);this.FA();var a=this;this.zE&&!this.i.La&&(jQuery(document).keydown(function(b){a.Ku(b)}),jQuery(document).keyup(function(b){a.Lu(b)}));this.rd||(this.Si=function(b){a.ek(b)});this.i.Ak(this.Si);this.n.ra.isPlatformBehavior=!0};h.Mb=function(){return{ii:this.Nt,lfx:this.Tj,lfy:this.Uj,lfo:this.fe?this.fe.uid:-1,am:this.$f,en:this.enabled,fall:this.qi,ft:this.Pp,dx:this.ca,dy:this.ea,ms:this.xl,acc:this.ve,dec:this.Jk,js:this.rn,g:this.zd,g1:this.tt,mf:this.Hq,wof:this.Xl,woj:this.Yl?
this.Yl.uid:-1,ga:this.Qk,edj:this.it,cdj:this.wm,dj:this.Em,sus:this.fu}};h.Sb=function(a){this.Nt=a.ii;this.Tj=a.lfx;this.Uj=a.lfy;this.ru=a.lfo;this.$f=a.am;this.enabled=a.en;this.qi=a.fall;this.Pp=a.ft;this.ca=a.dx;this.ea=a.dy;this.xl=a.ms;this.ve=a.acc;this.Jk=a.dec;this.rn=a.js;this.zd=a.g;this.tt=a.g1;this.Hq=a.mf;this.Xl=a.wof;this.su=a.woj;this.Qk=a.ga;this.it=a.edj;this.wm=a.cdj;this.Em=a.dj;this.fu=a.sus;this.lo=this.Gr=this.Fr=this.il=this.jl=this.bo=this.vn=!1;this.qk=0;this.FA()};h.zf=
function(){-1===this.ru?this.fe=null:this.fe=this.i.hg(this.ru);-1===this.su?this.Yl=null:this.Yl=this.i.hg(this.su)};h.ek=function(a){this.fe==a&&(this.fe=null)};h.je=function(){this.fe=null;this.i.jv(this.Si)};h.Ku=function(a){switch(a.which){case 38:a.preventDefault();this.jl=!0;break;case 37:a.preventDefault();this.vn=!0;break;case 39:a.preventDefault(),this.bo=!0}};h.Lu=function(a){switch(a.which){case 38:a.preventDefault();this.il=this.jl=!1;break;case 37:a.preventDefault();this.vn=!1;break;
case 39:a.preventDefault(),this.bo=!1}};h.fk=function(){this.jl=this.bo=this.vn=!1};h.j=function(){return 0>this.zd?-1:1};h.oy=function(){var a=null,b=null,c,d;c=this.n.x;d=this.n.y;this.n.x+=this.Hc;this.n.y+=this.Ic;this.n.ba();if(this.fe&&this.i.Hd(this.n,this.fe))return this.n.x=c,this.n.y=d,this.n.ba(),this.fe;(a=this.i.sd(this.n))||0!==this.qi||(b=this.i.bh(this.n,!0));this.n.x=c;this.n.y=d;this.n.ba();if(a){if(this.i.Hd(this.n,a))return null;this.Sp=!1;return a}if(b&&b.length){d=a=0;for(c=
b.length;a<c;a++)b[d]=b[a],this.i.Hd(this.n,b[a])||d++;if(1<=d)return this.Sp=!0,b[0]}return null};h.nb=function(){};h.Dz=function(){var a=this.i.gg(this.n),b,c,d,h,k,n,p,q,u;this.jl||this.lo||(this.il=!1);var t=this.vn||this.Fr;d=this.bo||this.Gr;var v=(h=this.jl||this.lo)&&!this.il;this.lo=this.Gr=this.Fr=!1;if(this.enabled){this.Nt&&(v=h=d=t=!1);h||(this.qk=0);q=this.fe;u=!1;this.Pp&&((this.i.sd(this.n)||this.i.bh(this.n))&&this.i.qf(this.n,-this.Hc,-this.Ic,4,!0),this.Pp=!1);!q||0!==this.ea||
q.y===this.Uj&&q.x===this.Tj||(b=q.x-this.Tj,c=q.y-this.Uj,this.n.x+=b,this.n.y+=c,this.n.ba(),this.Tj=q.x,this.Uj=q.y,u=!0,this.i.sd(this.n)&&this.i.qf(this.n,-b,-c,2.5*Math.sqrt(b*b+c*c)));var r=this.oy();if(c=this.i.sd(this.n))if(this.n.ra.inputPredicted)this.i.qf(this.n,-this.Hc,-this.Ic,10,!1);else if(this.i.bv(this.n,Math.max(this.n.width,this.n.height)/2))this.i.ik(this.n,c);else return;r?(this.wm=this.Em=!1,0<this.ea&&(this.Xl||(this.i.av(this.n,-this.Hc,-this.Ic,r),this.Xl=!0),this.ea=0),
q!=r)?(this.fe=r,this.Tj=r.x,this.Uj=r.y,this.i.ik(this.n,r)):u&&(c=this.i.sd(this.n))&&(this.i.ik(this.n,c),0!==b&&(0<b?this.i.qf(this.n,-this.jk,-this.kk):this.i.qf(this.n,this.jk,this.kk)),this.i.qf(this.n,-this.Hc,-this.Ic)):h||(this.wm=!0);if(r&&v||!r&&this.it&&h&&this.wm&&!this.Em)q=this.n.x,u=this.n.y,this.n.x-=this.Hc,this.n.y-=this.Ic,this.n.ba(),this.i.sd(this.n)?v=!1:(this.qk=this.fu,this.i.trigger(mj.prototype.C.pw,this.n),this.$f=2,this.ea=-this.rn,v=!0,r?this.il=!0:this.Em=!0),this.n.x=
q,this.n.y=u,this.n.ba();r||(h&&0<this.qk?(this.ea=-this.rn,this.qk-=a):(this.fe=null,this.ea+=this.zd*a,this.ea>this.Hq&&(this.ea=this.Hq)),v&&(this.il=!0));this.Xl=!!r;t==d&&(0>this.ca?(this.ca+=this.Jk*a,0<this.ca&&(this.ca=0)):0<this.ca&&(this.ca-=this.Jk*a,0>this.ca&&(this.ca=0)));t&&!d&&(this.ca=0<this.ca?this.ca-(this.ve+this.Jk)*a:this.ca-this.ve*a);d&&!t&&(this.ca=0>this.ca?this.ca+(this.ve+this.Jk)*a:this.ca+this.ve*a);this.ca>this.xl?this.ca=this.xl:this.ca<-this.xl&&(this.ca=-this.xl);
t=!1;0!==this.ca&&(q=this.n.x,u=this.n.y,b=this.ca*a*this.jk,c=this.ca*a*this.kk,this.n.x+=this.jk*(1<this.ca?1:-1)-this.Hc,this.n.y+=this.kk*(1<this.ca?1:-1)-this.Ic,this.n.ba(),h=!1,k=this.i.sd(this.n),this.n.x=q+b,this.n.y=u+c,this.n.ba(),d=this.i.sd(this.n),!d&&r&&(d=this.i.bh(this.n))&&(this.n.x=q,this.n.y=u,this.n.ba(),this.i.Hd(this.n,d)?(d=null,h=!1):h=!0,this.n.x=q+b,this.n.y=u+c,this.n.ba()),d?(b=Math.abs(this.ca*a)+2,k||!this.i.qf(this.n,-this.Hc,-this.Ic,b,h,d))?(this.i.ik(this.n,d),b=
Math.max(Math.abs(this.ca*a*2.5),30),this.i.qf(this.n,this.jk*(0>this.ca?1:-1),this.kk*(0>this.ca?1:-1),b,!1)?!r||h||this.Sp||(q=this.n.x,u=this.n.y,this.n.x+=this.Hc,this.n.y+=this.Ic,this.i.sd(this.n)?this.i.qf(this.n,-this.Hc,-this.Ic,3,!1)||(this.n.x=q,this.n.y=u,this.n.ba()):(this.n.x=q,this.n.y=u,this.n.ba())):(this.n.x=q,this.n.y=u,this.n.ba()),h||(this.ca=0)):!k&&!v&&Math.abs(this.ea)<Math.abs(this.rn/4)&&(this.ea=0,r||(t=!0)):(q=this.oy(),r&&!q?(c=Math.ceil(Math.abs(this.ca*a))+2,q=this.n.x,
u=this.n.y,this.n.x+=this.Hc*c,this.n.y+=this.Ic*c,this.n.ba(),this.i.sd(this.n)||this.i.bh(this.n)?this.i.qf(this.n,-this.Hc,-this.Ic,c+2,!0):(this.n.x=q,this.n.y=u,this.n.ba())):q&&0===this.ea&&this.i.av(this.n,-this.Hc,-this.Ic,q)));if(0!==this.ea){q=this.n.x;u=this.n.y;this.n.x+=this.ea*a*this.Hc;this.n.y+=this.ea*a*this.Ic;b=this.n.x;d=this.n.y;this.n.ba();c=this.i.sd(this.n);h=!1;if(!c&&0<this.ea&&!r){if((h=0<this.qi?null:this.i.bh(this.n,!0))&&h.length){if(this.Yl){this.n.x=q;this.n.y=u;this.n.ba();
p=k=0;for(n=h.length;k<n;k++)h[p]=h[k],this.i.Hd(this.n,h[k])||p++;h.length=p;this.n.x=b;this.n.y=d;this.n.ba()}1<=h.length&&(c=h[0])}h=!!c}c&&(this.i.ik(this.n,c),this.qk=0,b=h?Math.abs(this.ea*a*2.5+10):Math.max(Math.abs(this.ea*a*2.5+10),30),this.i.qf(this.n,this.Hc*(0>this.ea?1:-1),this.Ic*(0>this.ea?1:-1),b,h,c)?(this.fe=c,this.Tj=c.x,this.Uj=c.y,(this.Sp=h)&&(t=!0),this.ea=0):(this.n.x=q,this.n.y=u,this.n.ba(),this.Xl=!0,h||(this.ea=0)))}3!==this.$f&&0<this.ea&&!r&&(this.i.trigger(mj.prototype.C.jw,
this.n),this.$f=3);if(r||t)3===this.$f||t||v&&0===this.ea?(this.i.trigger(mj.prototype.C.uw,this.n),this.$f=0===this.ca&&0===this.ea?0:1):(0!==this.$f&&0===this.ca&&0===this.ea&&(this.i.trigger(mj.prototype.C.Hw,this.n),this.$f=0),1===this.$f||0===this.ca&&0===this.ea||v||(this.i.trigger(mj.prototype.C.yw,this.n),this.$f=1));0<this.qi&&this.qi--;this.Yl=this.i.bh(this.n)}};a.prototype.aw=function(){return 0!==this.ca||0!==this.ea};a.prototype.LB=function(){if(0!==this.ea)return!1;var a=null,b=null,
c,d;c=this.n.x;d=this.n.y;this.n.x+=this.Hc;this.n.y+=this.Ic;this.n.ba();(a=this.i.sd(this.n))||0!==this.qi||(b=this.i.bh(this.n,!0));this.n.x=c;this.n.y=d;this.n.ba();if(a)return!this.i.Hd(this.n,a);if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.i.Hd(this.n,b[a])||d++;if(1<=d)return!0}return!1};a.prototype.JB=function(){return 0>this.ea};a.prototype.pw=function(){return!0};a.prototype.jw=function(){return!0};a.prototype.Hw=function(){return!0};a.prototype.yw=function(){return!0};a.prototype.uw=
function(){return!0};d.C=new a;c.prototype.FD=function(a){switch(a){case 0:this.Fr=!0;break;case 1:this.Gr=!0;break;case 2:this.lo=!0}};c.prototype.wD=function(a){this.ca=a};c.prototype.xD=function(a){this.ea=a};c.prototype.wf=function(a){this.enabled!==(1===a)&&(this.enabled=1===a,this.enabled||(this.fe=null))};c.prototype.oB=function(){var a=this.n.x,b=this.n.y;this.n.x+=this.Hc;this.n.y+=this.Ic;this.n.ba();var c=this.i.bh(this.n,!1);this.n.x=a;this.n.y=b;this.n.ba();c&&(this.qi=3,this.fe=null)};
d.R=new c;b.prototype.UD=function(a){a.ya(this.ca)};b.prototype.VD=function(a){a.ya(this.ea)};d.aa=new b})();function nj(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=nj.prototype;d.wa=function(a){this.behavior=a;this.i=a.i};d.wa.prototype.ka=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.wj=this.ea=this.ca=0};var h=d.ta.prototype;h.ka=function(){this.Pl=this.S[0];this.dv=this.S[1];this.enabled=0!==this.S[2]};h.Mb=function(){return{dx:this.ca,dy:this.ea,cancelStep:this.wj,enabled:this.enabled,stepMode:this.Pl,pxPerStep:this.dv}};h.Sb=function(a){this.ca=a.dx;
this.ea=a.dy;this.wj=a.cancelStep;this.enabled=a.enabled;this.Pl=a.stepMode;this.dv=a.pxPerStep};h.bq=function(){return Math.sqrt(this.ca*this.ca+this.ea*this.ea)};h.Zb=function(){return Math.atan2(this.ea,this.ca)};h.step=function(a,b,c){if(0!==a||0!==b){var d=this.n.x,h=this.n.y,k,n=Math.round(Math.sqrt(a*a+b*b)/this.dv);0===n&&(n=1);var p;for(p=1;p<=n;p++)if(k=p/n,this.n.x=d+a*k,this.n.y=h+b*k,this.n.ba(),this.i.trigger(c,this.n),1===this.wj){p--;k=p/n;this.n.x=d+a*k;this.n.y=h+b*k;this.n.ba();
break}else if(2===this.wj)break}};h.nb=function(){var a=this.i.gg(this.n),b=this.ca*a,a=this.ea*a;0===this.ca&&0===this.ea||!this.enabled||(this.wj=0,0===this.Pl?(this.n.x+=b,this.n.y+=a):1===this.Pl?this.step(b,a,nj.prototype.C.iC):2===this.Pl?(this.step(b,0,nj.prototype.C.ew),this.wj=0,this.step(0,a,nj.prototype.C.fw)):3===this.Pl&&(this.step(0,a,nj.prototype.C.fw),this.wj=0,this.step(b,0,nj.prototype.C.ew)),this.n.ba())};a.prototype.aw=function(){return 0!=this.ca||0!=this.ea};a.prototype.iC=function(){return!0};
a.prototype.ew=function(){return!0};a.prototype.fw=function(){return!0};d.C=new a;c.prototype.NA=function(a,b,c){a=a*this.i.gg(this.n);b=Math.atan2(c-this.n.y,b-this.n.x);this.ca+=Math.cos(b)*a;this.ea+=Math.sin(b)*a};c.prototype.Lw=function(a){a=Pa(a);var b=this.bq();this.ca=Math.cos(a)*b;this.ea=Math.sin(a)*b};c.prototype.wf=function(a){this.enabled=1===a};d.R=new c;b.prototype.ca=function(a){a.ya(this.ca)};b.prototype.ea=function(a){a.ya(this.ea)};d.aa=new b})();function oj(a){this.i=a}
(function(){var a=oj.prototype;a.wa=function(a){this.behavior=a;this.i=a.i};a.wa.prototype.ka=function(){};a.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.ta.prototype;a.ka=function(){};a.nb=function(){this.n.cb();var a=this.n.Qb,b=this.n.P.zc;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.i.Ke(this.n)}})();function jd(a){this.i=a}
(function(){function a(){}var c=jd.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ka=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ka=function(){this.n.ra.jumpthruEnabled=0!==this.S[0]};b.nb=function(){};c.C=new function(){};a.prototype.wf=function(a){this.n.ra.jumpthruEnabled=!!a};c.R=new a})();function pj(a){this.i=a;this.Er=this.ko=this.ok=this.Dr=0}
(function(){function a(){}var c=pj.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ka=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ka=function(){this.enabled=0!==this.S[0]};b.Mb=function(){return{smg:this.behavior.Dr,ss:this.behavior.ok,se:this.behavior.ko,smd:this.behavior.Er}};b.Sb=function(a){this.behavior.Dr=a.smg;this.behavior.ok=a.ss;this.behavior.ko=a.se;this.behavior.Er=a.smd};b.nb=function(){};b.yo=
function(){if(this.enabled){var a=this.behavior.Iq.vg(),b=0,c=0,e,g,l,m=0;e=0;for(g=a.length;e<g;e++){a:{l=a[e];for(var k=void 0,n=void 0,p=void 0,k=0,n=l.Na.length;k<n;++k)if(p=l.Na[k],p.behavior instanceof pj){l=p;break a}l=null}l&&l.enabled&&(b+=a[e].x,c+=a[e].y,++m)}a=this.n.P.zc;g=this.i.$c.Va;l=e=0;g>=this.behavior.ok&&g<this.behavior.ko&&(e=this.behavior.Dr*Math.min(this.i.sg,1),0===this.behavior.Er&&(e*=1-(g-this.behavior.ok)/(this.behavior.ko-this.behavior.ok)),g=Math.random()*Math.PI*2,
l=Math.random()*e,e=Math.cos(g)*l,l*=Math.sin(g));a.rv(b/m+e);a.sv(c/m+l)}};a.prototype.zD=function(a,b,c){this.behavior.Dr=a;this.behavior.ok=this.i.$c.Va;this.behavior.ko=this.behavior.ok+b;this.behavior.Er=c};a.prototype.wf=function(a){this.enabled=0!==a};c.R=new a})();function id(a){this.i=a}
(function(){function a(){}var c=id.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ka=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ka=function(){this.n.ra.solidEnabled=0!==this.S[0]};b.nb=function(){};c.C=new function(){};a.prototype.wf=function(a){this.n.ra.solidEnabled=!!a};c.R=new a})();function qj(a){this.i=a}
(function(){var a=qj.prototype;a.wa=function(a){this.behavior=a;this.i=a.i};a.wa.prototype.ka=function(){};a.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.ta.prototype;a.ka=function(){this.mode=this.S[0]};a.nb=function(){var a=this.n;a.cb();var b=a.Qb,d=a.P,h=d.zc,f=0,e=0,g=0,l=0;0===this.mode?(e=h.width,l=h.height):(f=d.wb,e=d.Jb,g=d.xb,l=d.Ib);b.right<f?(a.x=e-1+(a.x-b.left),a.ba()):b.left>e?(a.x=f+1-(b.right-a.x),a.ba()):b.bottom<g?(a.y=l-1+(a.y-b.top),a.ba()):
b.top>l&&(a.y=g+1-(b.bottom-a.y),a.ba())}})();
function gd(){return[md,ld,pd,nd,od,kd,Fd,Gd,V,Nd,Hd,rd,qd,Id,Jd,Q,Kd,Md,Ld,jd,ij,id,jj,qj,pj,Qd,oj,nj,Pd,mj,Od,L.prototype.C.HB,L.prototype.C.mB,L.prototype.C.rB,kd.prototype.R.CallFunction,Q.prototype.aa.SD,Q.prototype.C.Wv,Q.prototype.aa.mm,mj.prototype.R.FD,L.prototype.C.bB,Q.prototype.C.gB,Q.prototype.aa.nm,L.prototype.C.Yv,mj.prototype.R.oB,nj.prototype.R.NA,Q.prototype.C.kC,Q.prototype.C.$v,Q.prototype.R.ND,Q.prototype.C.No,L.prototype.C.YC,Od.prototype.R.WA,Q.prototype.R.PA,Q.prototype.R.Nw,
Q.prototype.aa.Fs,Q.prototype.aa.qs,Q.prototype.R.zs,Q.prototype.R.fd,Q.prototype.C.iw,L.prototype.C.fB,L.prototype.R.vD,L.prototype.aa.random,Q.prototype.R.GD,Pd.prototype.R.HD,Q.prototype.R.QD,L.prototype.R.hB,mj.prototype.R.wf,Q.prototype.R.lD,mj.prototype.R.wD,Q.prototype.R.Mw,Q.prototype.R.hD,Q.prototype.C.Zh,kd.prototype.C.To,kd.prototype.aa.SC,Od.prototype.C.eB,Hd.prototype.R.fd,Q.prototype.R.Uo,L.prototype.aa.yI,L.prototype.aa.xI,Od.prototype.R.Lw,Q.prototype.aa.Xv,md.prototype.R.cD,jj.prototype.R.bD,
Hd.prototype.R.YD,Q.prototype.R.sD,Hd.prototype.R.Uo,Q.prototype.C.MB,L.prototype.R.yB,L.prototype.C.vw,Id.prototype.R.Bs,od.prototype.C.xk,Jd.prototype.aa.Text,od.prototype.R.wf,L.prototype.R.gD,L.prototype.R.xB,nd.prototype.C.GB,L.prototype.aa.FH,md.prototype.R.dD,Fd.prototype.R.YA,Id.prototype.R.TA,L.prototype.aa.iH,nd.prototype.C.xs,Fd.prototype.C.mw,Fd.prototype.aa.QB,Fd.prototype.C.lw,Fd.prototype.R.wB,Fd.prototype.C.ow,qd.prototype.C.qw,Gd.prototype.C.vs,L.prototype.R.uD,L.prototype.aa.sg,
L.prototype.C.aB,Id.prototype.R.pj,Q.prototype.R.pj,L.prototype.R.nD,V.prototype.C.BD,V.prototype.C.IB,L.prototype.C.aD,L.prototype.R.RA,od.prototype.C.No,L.prototype.C.XC,L.prototype.C.ZC,od.prototype.R.pj,Id.prototype.R.fd,pd.prototype.R.kj,V.prototype.C.hw,V.prototype.aa.YB,pd.prototype.aa.vB,qd.prototype.C.KB,L.prototype.aa.cI,Nd.prototype.C.DB,V.prototype.R.kD,V.prototype.R.iD,mj.prototype.C.JB,L.prototype.aa.zG,mj.prototype.R.xD,mj.prototype.aa.VD,mj.prototype.aa.UD,Q.prototype.R.rD,qd.prototype.C.dw,
pd.prototype.C.Vv,qd.prototype.aa.TB,qd.prototype.C.rs,L.prototype.C.qB,Nd.prototype.aa.uB,Nd.prototype.C.cC,L.prototype.aa.$G,Nd.prototype.aa.SB,Nd.prototype.C.dC,mj.prototype.C.yw,mj.prototype.C.LB,Q.prototype.R.jD,Hd.prototype.R.oD,Hd.prototype.R.pD,mj.prototype.C.pw,mj.prototype.C.jw,mj.prototype.C.Hw,mj.prototype.C.uw,mj.prototype.C.aw,L.prototype.C.$C,Qd.prototype.C.kw,Qd.prototype.R.pB,pj.prototype.R.zD,Hd.prototype.R.mD,Kd.prototype.C.No,Kd.prototype.R.fd,kd.prototype.R.tD,Q.prototype.R.As,
Id.prototype.R.As,Q.prototype.R.cw,Id.prototype.R.cw,Kd.prototype.R.zs,Kd.prototype.R.As,Kd.prototype.aa.Xv,Kd.prototype.aa.mm,Kd.prototype.aa.nm,Q.prototype.R.WB,Q.prototype.R.Cs,Md.prototype.C.OB,Kd.prototype.R.pj,ld.prototype.R.fD,ld.prototype.C.dB,ld.prototype.R.eD,ld.prototype.C.UA,ld.prototype.aa.iB,Jd.prototype.C.Uv,V.prototype.C.NB,V.prototype.R.OA,V.prototype.R.OD,V.prototype.R.PD,V.prototype.R.AD,V.prototype.C.Ew,V.prototype.R.ED,V.prototype.C.Gw,V.prototype.aa.XB,V.prototype.R.CD,V.prototype.C.Fw,
V.prototype.R.VA,V.prototype.C.Bw,V.prototype.aa.UC,V.prototype.R.BB,L.prototype.C.nB,V.prototype.aa.TC,V.prototype.aa.JD,L.prototype.aa.round,V.prototype.aa.ID,V.prototype.aa.LD,V.prototype.aa.KD,V.prototype.aa.VC,V.prototype.aa.AB,V.prototype.aa.WC,V.prototype.R.DD,V.prototype.C.Cw,V.prototype.aa.tB,L.prototype.aa["int"],V.prototype.aa.VB,pd.prototype.R.bw,kd.prototype.C.cB,pd.prototype.R.QA,Fd.prototype.R.qD,pd.prototype.aa.Mo,pd.prototype.C.zB,Id.prototype.C.$v,Id.prototype.C.PB,Id.prototype.R.Mw,
pd.prototype.R.gh,qd.prototype.aa.MD,Id.prototype.C.No,Id.prototype.R.zs,Id.prototype.R.Cs,Id.prototype.aa.qs,pd.prototype.C.sB,L.prototype.aa.lI,pd.prototype.aa.jB,Id.prototype.aa.mm,Id.prototype.aa.Fs,Id.prototype.aa.nm,pd.prototype.aa.kB]};
