// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var z,aa,ba,da,ea,fa,ga,ka,ma,na,pa,qa,ra,ta,ua,va,xa,ya,za,Aa,Ba,Da,Ea,Fa,G,Ha,Ja,Ka,Na,Oa,Pa,Qa,Sa,Ta,Ua,Wa,Xa,Ya,Za,$a,cb,db,ib,jb,kb,lb,mb,tb,ub,vb,wb,Bb,Db,Eb,Fb,Gb,Hb,Mb,Qb,Wb,Xb,Yb,Zb,$b,ac,bc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Kc,Sc,Tc,Uc,Vc,Wc,Xc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,g){this.set(a,b,c,g)}function c(){this.Ad=this.zd=this.Cd=this.Bd=this.Pd=this.Od=this.Wc=this.Vc=0}function b(a,b,c,g){a<b?c<g?(u=a<c?a:c,t=b>g?b:g):(u=a<g?a:g,t=b>c?b:c):c<g?(u=b<c?b:c,t=a>g?a:g):(u=b<g?b:g,t=a>c?a:c)}function d(){this.items=this.ac=null;this.vm=0;E&&(this.ac=new Set);this.gl=[];this.Sh=!0}function e(a){A[D++]=a}function h(){this.Sa=this.Cq=this.y=this.G=0}function f(a){this.Fb=[];this.fo=this.io=this.jo=this.ho=0;this.to=null;this.sn(a)}function g(a,
b){this.Nc=a;this.Zc=b;this.cells={}}function l(a,b){this.Nc=a;this.Zc=b;this.cells={}}function n(a,b,c){var g;return C.length?(g=C.pop(),g.xs=a,g.x=b,g.y=c,g):new ba(a,b,c)}function k(a,b,c){this.xs=a;this.x=b;this.y=c;this.fd=new da}function m(a,b,c){var g;return w.length?(g=w.pop(),g.xs=a,g.x=b,g.y=c,g):new ea(a,b,c)}function p(a,b,c){this.xs=a;this.x=b;this.y=c;this.fd=[];this.zk=!0;this.Mg=new da;this.ul=!1}function r(a,b){return a.mg-b.mg}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ga=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ka=function(a){return"undefined"===typeof a};ma=function(a){return"number"===typeof a};na=function(a){return"string"===typeof a};pa=function(a){return 0<a&&0===(a-1&a)};qa=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};ra=function(a){return 0>a?-a:a};ta=function(a,b){return a>b?a:b};ua=function(a,b){return a<b?a:b};va=Math.PI;xa=function(a){return 0<=a?a|0:(a|0)-1};ya=function(a){var b=
a|0;return b===a?b:b+1};za=function(a,b,c,g,k,l,d,m){var n,f,e,h;a<c?(f=a,n=c):(f=c,n=a);k<d?(h=k,e=d):(h=d,e=k);if(n<h||f>e)return!1;b<g?(f=b,n=g):(f=g,n=b);l<m?(h=l,e=m):(h=m,e=l);if(n<h||f>e)return!1;n=k-a+d-c;f=l-b+m-g;a=c-a;b=g-b;k=d-k;l=m-l;m=ra(b*k-l*a);return ra(k*f-l*n)>m?!1:ra(a*f-b*n)<=m};a.prototype.set=function(a,b,c,g){this.left=a;this.top=b;this.right=c;this.bottom=g};a.prototype.fk=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=
function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.Kw=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.Lw=
function(a,b,c){return!(a.right+b<this.left||a.bottom+c<this.top||a.left+b>this.right||a.top+c>this.bottom)};a.prototype.Dd=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.Hl=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};Aa=a;c.prototype.Oj=function(a){this.Vc=a.left;this.Wc=a.top;this.Od=a.right;this.Pd=a.top;this.Bd=a.right;this.Cd=a.bottom;this.zd=a.left;this.Ad=a.bottom};c.prototype.Jy=function(a,
b){if(0===b)this.Oj(a);else{var c=Math.sin(b),g=Math.cos(b),k=a.left*c,l=a.top*c,d=a.right*c,c=a.bottom*c,m=a.left*g,n=a.top*g,f=a.right*g,g=a.bottom*g;this.Vc=m-l;this.Wc=n+k;this.Od=f-l;this.Pd=n+d;this.Bd=f-c;this.Cd=g+d;this.zd=m-c;this.Ad=g+k}};c.prototype.offset=function(a,b){this.Vc+=a;this.Wc+=b;this.Od+=a;this.Pd+=b;this.Bd+=a;this.Cd+=b;this.zd+=a;this.Ad+=b;return this};var u=0,t=0;c.prototype.Hv=function(a){b(this.Vc,this.Od,this.Bd,this.zd);a.left=u;a.right=t;b(this.Wc,this.Pd,this.Cd,
this.Ad);a.top=u;a.bottom=t};c.prototype.Dd=function(a,b){var c=this.Vc,g=this.Wc,k=this.Od-c,l=this.Pd-g,d=this.Bd-c,m=this.Cd-g,n=a-c,f=b-g,e=k*k+l*l,h=k*d+l*m,l=k*n+l*f,p=d*d+m*m,r=d*n+m*f,q=1/(e*p-h*h),k=(p*l-h*r)*q,e=(e*r-h*l)*q;if(0<=k&&0<e&&1>k+e)return!0;k=this.zd-c;l=this.Ad-g;e=k*k+l*l;h=k*d+l*m;l=k*n+l*f;q=1/(e*p-h*h);k=(p*l-h*r)*q;e=(e*r-h*l)*q;return 0<=k&&0<e&&1>k+e};c.prototype.Qh=function(a,b){if(b)switch(a){case 0:return this.Vc;case 1:return this.Od;case 2:return this.Bd;case 3:return this.zd;
case 4:return this.Vc;default:return this.Vc}else switch(a){case 0:return this.Wc;case 1:return this.Pd;case 2:return this.Cd;case 3:return this.Ad;case 4:return this.Wc;default:return this.Wc}};c.prototype.qi=function(){return(this.Vc+this.Od+this.Bd+this.zd)/4};c.prototype.ri=function(){return(this.Wc+this.Pd+this.Cd+this.Ad)/4};c.prototype.Js=function(a){var b=a.qi(),c=a.ri();if(this.Dd(b,c))return!0;b=this.qi();c=this.ri();if(a.Dd(b,c))return!0;var g,k,l,d,m,n,f,e;for(f=0;4>f;f++)for(e=0;4>e;e++)if(b=
this.Qh(f,!0),c=this.Qh(f,!1),g=this.Qh(f+1,!0),k=this.Qh(f+1,!1),l=a.Qh(e,!0),d=a.Qh(e,!1),m=a.Qh(e+1,!0),n=a.Qh(e+1,!1),za(b,c,g,k,l,d,m,n))return!0;return!1};Ba=c;Da=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};Ea=function(a,b){var c,g;b=xa(b);if(!(0>b||b>=a.length)){c=b;for(g=a.length-1;c<g;c++)a[c]=a[c+1];Fa(a,g)}};Fa=function(a,b){a.length=b};G=function(a){Fa(a,0)};Ha=function(a,b){G(a);var c,g;c=0;for(g=b.length;c<g;++c)a[c]=b[c]};Ja=function(a,b){a.push.apply(a,
b)};Ka=function(a,b){var c,g;c=0;for(g=a.length;c<g;++c)if(a[c]===b)return c;return-1};Na=function(a,b){var c=Ka(a,b);-1!==c&&Ea(a,c)};Oa=function(a,b,c){return a<b?b:a>c?c:a};Pa=function(a){return a/(180/va)};Qa=function(a){return 180/va*a};Sa=function(a){a%=360;0>a&&(a+=360);return a};Ta=function(a){a%=2*va;0>a&&(a+=2*va);return a};Ua=function(a){return Sa(Qa(a))};Wa=function(a){return Ta(Pa(a))};Xa=function(a,b,c,g){return Math.atan2(g-b,c-a)};Ya=function(a,b){if(a===b)return 0;var c=Math.sin(a),
g=Math.cos(a),k=Math.sin(b),l=Math.cos(b),c=c*k+g*l;return 1<=c?0:-1>=c?va:Math.acos(c)};Za=function(a,b,c){var g=Math.sin(a),k=Math.cos(a),l=Math.sin(b),d=Math.cos(b);return Math.acos(g*l+k*d)>c?0<k*l-g*d?Ta(a+c):Ta(a-c):Ta(b)};$a=function(a,b){var c=Math.sin(a),g=Math.cos(a),k=Math.sin(b),l=Math.cos(b);return 0>=g*k-c*l};cb=function(a,b,c,g,k,l){if(0===c)return l?a:b;var d=Math.sin(c);c=Math.cos(c);a-=g;b-=k;var m=a*d;a=a*c-b*d;b=b*c+m;return l?a+g:b+k};db=function(a,b,c,g){a=c-a;b=g-b;return Math.sqrt(a*
a+b*b)};ib=function(a,b){return!a!==!b};jb=function(a,b,c){return a===b?0:(c-a)/(b-a)};kb=function(a,b,c){var g=Ya(a,b);return $a(b,a)?a+g*c:a-g*c};lb=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};mb=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var v=+new Date;tb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==
typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-v};var q=!1,x=q=!1,B=!1;"undefined"!==typeof window&&(q=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),q=!q&&/safari/i.test(navigator.userAgent),x=/(iphone|ipod|ipad)/i.test(navigator.userAgent),B=window.c2ejecta);var E=!q&&!B&&!x&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.jh()?!1:E?this.ac.has(a):this.items&&
this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(E)this.ac.has(a)||(this.ac.add(a),this.Sh=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.vm++,this.Sh=!1):(this.items={},this.items[b]=a,this.vm=1,this.Sh=!1)}};d.prototype.remove=function(a){if(!this.jh())if(E)this.ac.has(a)&&(this.ac["delete"](a),this.Sh=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.vm--,this.Sh=!1)}};d.prototype.clear=function(){this.jh()||
(E?this.ac.clear():(this.items=null,this.vm=0),G(this.gl),this.Sh=!0)};d.prototype.jh=function(){return 0===this.count()};d.prototype.count=function(){return E?this.ac.size:this.vm};var A=null,D=0;d.prototype.VF=function(){if(!this.Sh){if(E)G(this.gl),A=this.gl,D=0,this.ac.forEach(e),A=null,D=0;else{var a=this.gl;G(a);var b,c=0,g=this.items;if(g)for(b in g)g.hasOwnProperty(b)&&(a[c++]=g[b])}this.Sh=!0}};d.prototype.lg=function(){this.VF();return this.gl};da=d;new da;ub=function(a,b){E?vb(a,b.ac):
wb(a,b.lg())};vb=function(a,b){var c,g,k,l;g=c=0;for(k=a.length;c<k;++c)l=a[c],b.has(l)||(a[g++]=l);Fa(a,g)};wb=function(a,b){var c,g,k,l;g=c=0;for(k=a.length;c<k;++c)l=a[c],-1===Ka(b,l)&&(a[g++]=l);Fa(a,g)};h.prototype.add=function(a){this.y=a-this.G;this.Cq=this.Sa+this.y;this.G=this.Cq-this.Sa-this.y;this.Sa=this.Cq};h.prototype.reset=function(){this.Sa=this.Cq=this.y=this.G=0};Bb=h;Db=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.sn=function(a){this.ky=a;this.be=
a.length/2;this.Fb.length=a.length;this.po=this.qo=-1;this.Kv=0};f.prototype.fi=function(){return!this.ky.length};f.prototype.Wa=function(){for(var a=this.Fb,b=a[0],c=b,g=a[1],k=g,l,d,m=1,n=this.be;m<n;++m)d=2*m,l=a[d],d=a[d+1],l<b&&(b=l),l>c&&(c=l),d<g&&(g=d),d>k&&(k=d);this.ho=b;this.io=c;this.jo=g;this.fo=k};f.prototype.Oj=function(a,b,c){this.Fb.length=8;this.be=4;var g=this.Fb;g[0]=a.left-b;g[1]=a.top-c;g[2]=a.right-b;g[3]=a.top-c;g[4]=a.right-b;g[5]=a.bottom-c;g[6]=a.left-b;g[7]=a.bottom-c;
this.qo=a.right-a.left;this.po=a.bottom-a.top;this.Wa()};f.prototype.Nj=function(a,b,c,g,k){this.Fb.length=8;this.be=4;var l=this.Fb;l[0]=a.Vc-b;l[1]=a.Wc-c;l[2]=a.Od-b;l[3]=a.Pd-c;l[4]=a.Bd-b;l[5]=a.Cd-c;l[6]=a.zd-b;l[7]=a.Ad-c;this.qo=g;this.po=k;this.Wa()};f.prototype.Iy=function(a){this.be=a.be;Ha(this.Fb,a.Fb);this.ho=a.ho;this.jo-a.jo;this.io=a.io;this.fo=a.fo};f.prototype.$g=function(a,b,c){if(this.qo!==a||this.po!==b||this.Kv!==c){this.qo=a;this.po=b;this.Kv=c;var g,k,l,d,m,n=0,f=1,e=this.ky,
h=this.Fb;0!==c&&(n=Math.sin(c),f=Math.cos(c));c=0;for(l=this.be;c<l;c++)g=2*c,k=g+1,d=e[g]*a,m=e[k]*b,h[g]=d*f-m*n,h[k]=m*f+d*n;this.Wa()}};f.prototype.Dd=function(a,b){var c=this.Fb;if(a===c[0]&&b===c[1])return!0;var g,k,l,d=this.be,m=this.ho-110,n=this.jo-101,f=this.io+131,e=this.fo+120,h,p,r=0,q=0;for(g=0;g<d;g++)k=2*g,l=(g+1)%d*2,h=c[k],k=c[k+1],p=c[l],l=c[l+1],za(m,n,a,b,h,k,p,l)&&r++,za(f,e,a,b,h,k,p,l)&&q++;return 1===r%2||1===q%2};f.prototype.mj=function(a,b,c){var g=a.Fb,k=this.Fb;if(this.Dd(g[0]+
b,g[1]+c)||a.Dd(k[0]-b,k[1]-c))return!0;var l,d,m,n,f,e,h,p,r,q,v,x;l=0;for(n=this.be;l<n;l++)for(d=2*l,m=(l+1)%n*2,p=k[d],d=k[d+1],r=k[m],q=k[m+1],m=0,h=a.be;m<h;m++)if(f=2*m,e=(m+1)%h*2,v=g[f]+b,f=g[f+1]+c,x=g[e]+b,e=g[e+1]+c,za(p,d,r,q,v,f,x,e))return!0;return!1};f.prototype.JE=function(a){var b,c,g;b=0;for(c=this.be;b<c;++b)g=2*b,this.Fb[g]=2*a-this.Fb[g]};f.prototype.vD=function(a){var b,c,g;b=0;for(c=this.be;b<c;++b)g=2*b+1,this.Fb[g]=2*a-this.Fb[g]};f.prototype.kC=function(){var a,b,c,g,k;
a=0;for(b=this.be;a<b;++a)c=2*a,g=c+1,k=this.Fb[c],this.Fb[c]=this.Fb[g],this.Fb[g]=k};Eb=f;g.prototype.ci=function(a,b,c){var g;g=this.cells[a];return g?(g=g[b])?g:c?(g=n(this,a,b),this.cells[a][b]=g):null:c?(g=n(this,a,b),this.cells[a]={},this.cells[a][b]=g):null};g.prototype.fe=function(a){return xa(a/this.Nc)};g.prototype.ge=function(a){return xa(a/this.Zc)};g.prototype.update=function(a,b,c){var g,k,l,d,m;if(b)for(g=b.left,k=b.right;g<=k;++g)for(l=b.top,d=b.bottom;l<=d;++l)if(!c||!c.Dd(g,l))if(m=
this.ci(g,l,!1))m.remove(a),m.jh()&&(m.fd.clear(),1E3>C.length&&C.push(m),this.cells[g][l]=null);if(c)for(g=c.left,k=c.right;g<=k;++g)for(l=c.top,d=c.bottom;l<=d;++l)b&&b.Dd(g,l)||this.ci(g,l,!0).Gs(a)};g.prototype.iq=function(a,b){var c,g,k,l,d,m;c=this.fe(a.left);k=this.ge(a.top);g=this.fe(a.right);for(d=this.ge(a.bottom);c<=g;++c)for(l=k;l<=d;++l)(m=this.ci(c,l,!1))&&m.dump(b)};Fb=g;l.prototype.ci=function(a,b,c){var g;g=this.cells[a];return g?(g=g[b])?g:c?(g=m(this,a,b),this.cells[a][b]=g):null:
c?(g=m(this,a,b),this.cells[a]={},this.cells[a][b]=g):null};l.prototype.fe=function(a){return xa(a/this.Nc)};l.prototype.ge=function(a){return xa(a/this.Zc)};l.prototype.update=function(a,b,c){var g,k,l,d,m;if(b)for(g=b.left,k=b.right;g<=k;++g)for(l=b.top,d=b.bottom;l<=d;++l)if(!c||!c.Dd(g,l))if(m=this.ci(g,l,!1))m.remove(a),m.jh()&&(m.reset(),1E3>w.length&&w.push(m),this.cells[g][l]=null);if(c)for(g=c.left,k=c.right;g<=k;++g)for(l=c.top,d=c.bottom;l<=d;++l)b&&b.Dd(g,l)||this.ci(g,l,!0).Gs(a)};l.prototype.iq=
function(a,b,c,g,k){var l,d;a=this.fe(a);b=this.ge(b);c=this.fe(c);for(l=this.ge(g);a<=c;++a)for(g=b;g<=l;++g)(d=this.ci(a,g,!1))&&d.dump(k)};l.prototype.GE=function(a){var b,c,g,k,l;b=a.left;g=a.top;c=a.right;for(k=a.bottom;b<=c;++b)for(a=g;a<=k;++a)if(l=this.ci(b,a,!1))l.zk=!1};Gb=l;var C=[];k.prototype.jh=function(){return this.fd.jh()};k.prototype.Gs=function(a){this.fd.add(a)};k.prototype.remove=function(a){this.fd.remove(a)};k.prototype.dump=function(a){Ja(a,this.fd.lg())};ba=k;var w=[];p.prototype.jh=
function(){if(!this.fd.length)return!0;if(this.fd.length>this.Mg.count())return!1;this.$r();return!0};p.prototype.Gs=function(a){this.Mg.contains(a)?(this.Mg.remove(a),this.Mg.jh()&&(this.ul=!1)):this.fd.length?(this.fd[this.fd.length-1].Eg()>a.Eg()&&(this.zk=!1),this.fd.push(a)):(this.fd.push(a),this.zk=!0)};p.prototype.remove=function(a){this.Mg.add(a);this.ul=!0;30<=this.Mg.count()&&this.$r()};p.prototype.$r=function(){this.ul&&(this.Mg.count()===this.fd.length?this.reset():(ub(this.fd,this.Mg),
this.Mg.clear(),this.ul=!1))};p.prototype.PC=function(){this.zk||(this.fd.sort(r),this.zk=!0)};p.prototype.reset=function(){G(this.fd);this.zk=!0;this.Mg.clear();this.ul=!1};p.prototype.dump=function(a){this.$r();this.PC();this.fd.length&&a.push(this.fd)};ea=p;var y="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Hb=function(a){return 0>=a||11<=a?"source-over":y[a-1]};Mb=function(a,b,c){if(c)switch(a.Id=c.ONE,a.Ed=c.ONE_MINUS_SRC_ALPHA,
b){case 1:a.Id=c.ONE;a.Ed=c.ONE;break;case 3:a.Id=c.ONE;a.Ed=c.ZERO;break;case 4:a.Id=c.ONE_MINUS_DST_ALPHA;a.Ed=c.ONE;break;case 5:a.Id=c.DST_ALPHA;a.Ed=c.ZERO;break;case 6:a.Id=c.ZERO;a.Ed=c.SRC_ALPHA;break;case 7:a.Id=c.ONE_MINUS_DST_ALPHA;a.Ed=c.ZERO;break;case 8:a.Id=c.ZERO;a.Ed=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Id=c.DST_ALPHA;a.Ed=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Id=c.ONE_MINUS_DST_ALPHA,a.Ed=c.SRC_ALPHA}};Qb=function(a){return Math.round(1E6*a)/1E6};Wb=function(a,b){return"string"!==
typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};Xb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Wb(a.tagName,"canvas")?!0:!1}})();var Yc="undefined"!==typeof Float32Array?Float32Array:Array;function Zc(a){var c=new Yc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function $c(a){var c=new Yc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function ad(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function bd(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function cd(a,c,b,d){d||(d=$c());var e,h,f,g,l,n,k,m,p=a[0],r=a[1];a=a[2];h=b[0];f=b[1];e=b[2];b=c[1];n=c[2];p===c[0]&&r===b&&a===n?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=p-c[0],n=r-c[1],k=a-c[2],m=1/Math.sqrt(b*b+n*n+k*k),b*=m,n*=m,k*=m,c=f*k-e*n,e=e*b-h*k,h=h*n-f*b,(m=Math.sqrt(c*c+e*e+h*h))?(m=1/m,c*=m,e*=m,h*=m):h=e=c=0,f=n*h-k*e,g=k*c-b*h,l=b*e-n*c,(m=Math.sqrt(f*f+g*g+l*l))?(m=1/m,f*=m,g*=m,l*=m):l=g=f=0,
d[0]=c,d[1]=f,d[2]=b,d[3]=0,d[4]=e,d[5]=g,d[6]=n,d[7]=0,d[8]=h,d[9]=l,d[10]=k,d[11]=0,d[12]=-(c*p+e*r+h*a),d[13]=-(f*p+g*r+l*a),d[14]=-(b*p+n*r+k*a),d[15]=1)}
(function(){function a(a,b,c){this.kh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Nb=!!c;this.lp=this.km=!1;this.Ao=0;this.Wq=1;this.Ou=1E3;this.bG=(this.Ou-this.Wq)/32768;this.Br=Zc([0,0,100]);this.cx=Zc([0,0,0]);this.lz=Zc([0,1,0]);this.On=Zc([1,1,1]);this.cw=!0;this.Hp=$c();this.ef=$c();this.Zs=$c();this.Kr=$c();this.ya=a;this.Gw()}function c(a,b,c){this.ya=a;this.tn=b;this.name=c;this.Cf=a.getAttribLocation(b,"aPos");this.ni=a.getAttribLocation(b,
"aTex");this.ax=a.getUniformLocation(b,"matP");this.Cp=a.getUniformLocation(b,"matMV");this.Lk=a.getUniformLocation(b,"opacity");this.kt=a.getUniformLocation(b,"colorFill");this.bx=a.getUniformLocation(b,"samplerFront");this.Lm=a.getUniformLocation(b,"samplerBack");this.xj=a.getUniformLocation(b,"destStart");this.wj=a.getUniformLocation(b,"destEnd");this.Nm=a.getUniformLocation(b,"seconds");this.mt=a.getUniformLocation(b,"pixelWidth");this.lt=a.getUniformLocation(b,"pixelHeight");this.Km=a.getUniformLocation(b,
"layerScale");this.Jm=a.getUniformLocation(b,"layerAngle");this.Om=a.getUniformLocation(b,"viewOrigin");this.Mm=a.getUniformLocation(b,"scrollPos");this.kE=!!(this.mt||this.lt||this.Nm||this.Lm||this.xj||this.wj||this.Km||this.Jm||this.Om||this.Mm);this.ox=this.qx=-999;this.Gp=1;this.jx=this.ix=0;this.mx=this.hx=this.gx=1;this.wx=this.ux=this.tx=this.yx=this.xx=this.kx=0;this.Xs=[];this.nx=$c();this.Lk&&a.uniform1f(this.Lk,1);this.kt&&a.uniform4f(this.kt,1,1,1,1);this.bx&&a.uniform1i(this.bx,0);this.Lm&&
a.uniform1i(this.Lm,1);this.xj&&a.uniform2f(this.xj,0,0);this.wj&&a.uniform2f(this.wj,1,1);this.Km&&a.uniform1f(this.Km,1);this.Jm&&a.uniform1f(this.Jm,0);this.Om&&a.uniform2f(this.Om,0,0);this.Mm&&a.uniform2f(this.Mm,0,0);this.Nm&&a.uniform1f(this.Nm,0);this.hj=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function d(a,b){this.type=a;this.ma=b;this.ya=b.ya;this.Ze=this.Jd=this.Tx=0;this.eb=this.Nf=null;this.Ky=[]}var e=$c();a.prototype.Gw=function(){var a=this.ya,b;this.Ww=1;this.rj=this.ji=null;this.zo=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Nb?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Xw=a.ONE;this.Vw=a.ONE_MINUS_SRC_ALPHA;
this.Mn=new Float32Array(8E3*(this.Nb?3:2));this.Bn=new Float32Array(16E3);this.ey=new Float32Array(32E3);this.Ot=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Ot);a.bufferData(a.ARRAY_BUFFER,this.ey.byteLength,a.DYNAMIC_DRAW);this.Ln=Array(4);this.An=Array(4);for(b=0;4>b;b++)this.Ln[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Ln[b]),a.bufferData(a.ARRAY_BUFFER,this.Mn.byteLength,a.DYNAMIC_DRAW),this.An[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.An[b]),a.bufferData(a.ARRAY_BUFFER,
this.Bn.byteLength,a.DYNAMIC_DRAW);this.ah=0;this.oE=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.oE);for(var c=new Uint16Array(12E3),k=b=0;12E3>b;)c[b++]=k,c[b++]=k+1,c[b++]=k+2,c[b++]=k,c[b++]=k+2,c[b++]=k+3,k+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Pt=this.Hi=this.Pf=0;this.mc=[];b=this.Nb?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Cl({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.mc.push(c);c=this.Cl({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.mc.push(c);c=this.Cl({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.mc.push(c);c=this.Cl({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.mc.push(c);for(var d in ed)ed.hasOwnProperty(d)&&this.mc.push(this.Cl(ed[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.vg=[];this.Uf=0;this.bd=!1;this.Uv=this.Bm=-1;this.hk=null;this.Yr=a.createFramebuffer();this.Eo=this.jq=null;this.Ev=!1;this.Nb&&(this.Eo=a.createRenderbuffer());this.Ki=Zc([0,0,0]);this.Ax=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Ax&&(this.Ax=2048);this.xe(0)};c.prototype.Hu=function(a){b(this.nx,a)||(ad(a,this.nx),this.ya.uniformMatrix4fv(this.Cp,
!1,a))};a.prototype.Cl=function(a,b,d){var k=this.ya,m=k.createShader(k.FRAGMENT_SHADER);k.shaderSource(m,a.src);k.compileShader(m);if(!k.getShaderParameter(m,k.COMPILE_STATUS))return k.deleteShader(m),null;var f=k.createShader(k.VERTEX_SHADER);k.shaderSource(f,b);k.compileShader(f);if(!k.getShaderParameter(f,k.COMPILE_STATUS))return k.deleteShader(m),k.deleteShader(f),null;b=k.createProgram();k.attachShader(b,m);k.attachShader(b,f);k.linkProgram(b);if(!k.getProgramParameter(b,k.LINK_STATUS))return k.deleteShader(m),
k.deleteShader(f),k.deleteProgram(b),null;k.useProgram(b);k.deleteShader(m);k.deleteShader(f);d=new c(k,b,d);d.Wr=a.Wr||0;d.Xr=a.Xr||0;d.Sv=!!a.Sv;d.dg=!!a.dg;d.Bv=!!a.Bv;d.fb=a.fb||[];a=0;for(m=d.fb.length;a<m;a++)d.fb[a][1]=k.getUniformLocation(b,d.fb[a][0]),d.Xs.push(0),k.uniform1f(d.fb[a][1],0);return d};a.prototype.rs=function(a){var b,c;b=0;for(c=this.mc.length;b<c;b++)if(this.mc[b].name===a)return b;return-1};a.prototype.jy=function(a,b,c){var k=this.ef,d=this.Hp,f=[0,0,0,0,0,0,0,0];f[0]=k[0]*
a+k[4]*b+k[12];f[1]=k[1]*a+k[5]*b+k[13];f[2]=k[2]*a+k[6]*b+k[14];f[3]=k[3]*a+k[7]*b+k[15];f[4]=d[0]*f[0]+d[4]*f[1]+d[8]*f[2]+d[12]*f[3];f[5]=d[1]*f[0]+d[5]*f[1]+d[9]*f[2]+d[13]*f[3];f[6]=d[2]*f[0]+d[6]*f[1]+d[10]*f[2]+d[14]*f[3];f[7]=-f[2];0!==f[7]&&(f[7]=1/f[7],f[4]*=f[7],f[5]*=f[7],f[6]*=f[7],c[0]=(.5*f[4]+.5)*this.width,c[1]=(.5*f[5]+.5)*this.height)};a.prototype.Lj=function(a,b,c){if(this.width!==a||this.height!==b||c){this.fh();c=this.ya;this.width=a;this.height=b;c.viewport(0,0,a,b);cd(this.Br,
this.cx,this.lz,this.ef);if(this.Nb){var k=-a/2;a=a/2;var d=b/2;b=-b/2;var f=this.Wq,e=this.Ou,h=this.Hp;h||(h=$c());var t=a-k,v=b-d,q=e-f;h[0]=2/t;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/v;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/q;h[11]=0;h[12]=-(k+a)/t;h[13]=-(b+d)/v;h[14]=-(e+f)/q;h[15]=1;this.On[0]=1;this.On[1]=1}else b=a/b,k=this.Wq,a=this.Ou,h=this.Hp,e=k*Math.tan(45*Math.PI/360),b*=e,d=-b,f=-e,h||(h=$c()),t=b-d,v=e-f,q=a-k,h[0]=2*k/t,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*k/v,h[6]=0,h[7]=0,h[8]=(b+d)/
t,h[9]=(e+f)/v,h[10]=-(a+k)/q,h[11]=-1,h[12]=0,h[13]=0,h[14]=-(a*k*2)/q,h[15]=0,k=[0,0],a=[0,0],this.jy(0,0,k),this.jy(1,1,a),this.On[0]=1/(a[0]-k[0]),this.On[1]=-1/(a[1]-k[1]);k=0;for(a=this.mc.length;k<a;k++)d=this.mc[k],d.hj=!1,d.ax&&(c.useProgram(d.tn),c.uniformMatrix4fv(d.ax,!1,this.Hp));c.useProgram(this.mc[this.Bm].tn);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.rj=this.ji=null;this.Eo&&(c.bindFramebuffer(c.FRAMEBUFFER,
this.Yr),c.bindRenderbuffer(c.RENDERBUFFER,this.Eo),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.Ev||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.Eo),this.Ev=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.jq=null)}};a.prototype.Jf=function(){cd(this.Br,this.cx,this.lz,this.ef);bd(this.ef,this.On)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Ki[0]=a;this.Ki[1]=b;this.Ki[2]=
0;var c=this.ef,k=this.Ki,d=k[0],f=k[1],k=k[2];c[12]=c[0]*d+c[4]*f+c[8]*k+c[12];c[13]=c[1]*d+c[5]*f+c[9]*k+c[13];c[14]=c[2]*d+c[6]*f+c[10]*k+c[14];c[15]=c[3]*d+c[7]*f+c[11]*k+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ki[0]=a,this.Ki[1]=b,this.Ki[2]=1,bd(this.ef,this.Ki)};a.prototype.mq=function(a){if(0!==a){var b=this.ef,c,k=Math.sin(a);a=Math.cos(a);var d=b[0],f=b[1],e=b[2],h=b[3],t=b[4],v=b[5],q=b[6],x=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=
b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=d*a+t*k;c[1]=f*a+v*k;c[2]=e*a+q*k;c[3]=h*a+x*k;c[4]=d*-k+t*a;c[5]=f*-k+v*a;c[6]=e*-k+q*a;c[7]=h*-k+x*a}};a.prototype.nf=function(){if(!b(this.Zs,this.ef)){var a=this.te();a.type=5;a.eb?ad(this.ef,a.eb):a.eb=$c(this.ef);ad(this.ef,this.Zs);this.bd=!1}};a.prototype.rq=function(a){this.Nb&&(32760<a&&(a=32760),this.Ao=this.Br[2]-this.Wq-a*this.bG)};d.prototype.yC=function(){var a=this.ya,b=this.ma;0!==this.Jd?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.Yr),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.lp=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.lp=!1)};d.prototype.CC=function(){this.ya.bindTexture(this.ya.TEXTURE_2D,this.Nf)};d.prototype.DC=function(){var a=this.ya;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Nf);a.activeTexture(a.TEXTURE0)};d.prototype.zC=function(){var a=
this.Tx,b=this.ma;b.zo=a;b=b.hk;b.Lk&&b.Gp!==a&&(b.Gp=a,this.ya.uniform1f(b.Lk,a))};d.prototype.tC=function(){this.ya.drawElements(this.ya.TRIANGLES,this.Ze,this.ya.UNSIGNED_SHORT,this.Jd)};d.prototype.vC=function(){this.ya.blendFunc(this.Jd,this.Ze)};d.prototype.FC=function(){var a,b,c,k=this.ma.mc,d=this.ma.Uv;a=0;for(b=k.length;a<b;a++)c=k[a],a===d&&c.Cp?(c.Hu(this.eb),c.hj=!0):c.hj=!1;ad(this.eb,this.ma.Kr)};d.prototype.uC=function(){var a=this.ya,b=this.ma;this.Nf?(b.rj===this.Nf&&(a.activeTexture(a.TEXTURE1),
a.bindTexture(a.TEXTURE_2D,null),b.rj=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Yr),b.lp||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Nf,0)):(b.Nb||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.nC=function(){var a=this.ya,b=this.Jd;0===b?(a.clearColor(this.eb[0],this.eb[1],this.eb[2],this.eb[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.eb[0],
this.eb[1],this.eb[2],this.eb[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.xC=function(){var a=this.ya;0!==this.Jd?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.sC=function(){var a=this.ya,b=this.ma;b.Nb&&a.disable(a.DEPTH_TEST);var c=b.mc[1];a.useProgram(c.tn);!c.hj&&c.Cp&&(c.Hu(b.Kr),c.hj=!0);a.enableVertexAttribArray(c.Cf);a.bindBuffer(a.ARRAY_BUFFER,b.Ot);a.vertexAttribPointer(c.Cf,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,
this.Jd/4,this.Ze);c=b.hk;a.useProgram(c.tn);0<=c.Cf&&(a.enableVertexAttribArray(c.Cf),a.bindBuffer(a.ARRAY_BUFFER,b.Ln[b.ah]),a.vertexAttribPointer(c.Cf,b.Nb?3:2,a.FLOAT,!1,0,0));0<=c.ni&&(a.enableVertexAttribArray(c.ni),a.bindBuffer(a.ARRAY_BUFFER,b.An[b.ah]),a.vertexAttribPointer(c.ni,2,a.FLOAT,!1,0,0));b.Nb&&a.enable(a.DEPTH_TEST)};d.prototype.AC=function(){var a=this.ya,b=this.ma,c=b.mc[this.Jd];b.Uv=this.Jd;b.hk=c;a.useProgram(c.tn);!c.hj&&c.Cp&&(c.Hu(b.Kr),c.hj=!0);c.Lk&&c.Gp!==b.zo&&(c.Gp=
b.zo,a.uniform1f(c.Lk,b.zo));0<=c.Cf&&(a.enableVertexAttribArray(c.Cf),a.bindBuffer(a.ARRAY_BUFFER,b.Ln[b.ah]),a.vertexAttribPointer(c.Cf,b.Nb?3:2,a.FLOAT,!1,0,0));0<=c.ni&&(a.enableVertexAttribArray(c.ni),a.bindBuffer(a.ARRAY_BUFFER,b.An[b.ah]),a.vertexAttribPointer(c.ni,2,a.FLOAT,!1,0,0))};d.prototype.wC=function(){var a=this.eb;this.ya.uniform4f(this.ma.hk.kt,a[0],a[1],a[2],a[3])};d.prototype.BC=function(){var a,b,c=this.ma.hk,k=this.ya;a=this.eb;c.Lm&&this.ma.rj!==this.Nf&&(k.activeTexture(k.TEXTURE1),
k.bindTexture(k.TEXTURE_2D,this.Nf),this.ma.rj=this.Nf,k.activeTexture(k.TEXTURE0));var d=a[0];c.mt&&d!==c.qx&&(c.qx=d,k.uniform1f(c.mt,d));d=a[1];c.lt&&d!==c.ox&&(c.ox=d,k.uniform1f(c.lt,d));d=a[2];b=a[3];!c.xj||d===c.ix&&b===c.jx||(c.ix=d,c.jx=b,k.uniform2f(c.xj,d,b));d=a[4];b=a[5];!c.wj||d===c.gx&&b===c.hx||(c.gx=d,c.hx=b,k.uniform2f(c.wj,d,b));d=a[6];c.Km&&d!==c.mx&&(c.mx=d,k.uniform1f(c.Km,d));d=a[7];c.Jm&&d!==c.kx&&(c.kx=d,k.uniform1f(c.Jm,d));d=a[8];b=a[9];!c.Om||d===c.xx&&b===c.yx||(c.xx=
d,c.yx=b,k.uniform2f(c.Om,d,b));d=a[10];b=a[11];!c.Mm||d===c.tx&&b===c.ux||(c.tx=d,c.ux=b,k.uniform2f(c.Mm,d,b));d=a[12];c.Nm&&d!==c.wx&&(c.wx=d,k.uniform1f(c.Nm,d));if(c.fb.length)for(a=0,b=c.fb.length;a<b;a++)d=this.Ky[a],d!==c.Xs[a]&&(c.Xs[a]=d,k.uniform1f(c.fb[a][1],d))};a.prototype.te=function(){this.Uf===this.vg.length&&this.vg.push(new d(0,this));return this.vg[this.Uf++]};a.prototype.fh=function(){if(0!==this.Uf&&!this.ya.isContextLost()){var a=this.ya;0<this.Pt&&(a.bindBuffer(a.ARRAY_BUFFER,
this.Ot),a.bufferSubData(a.ARRAY_BUFFER,0,this.ey.subarray(0,this.Pt)),b&&0<=b.Cf&&"<point>"===b.name&&a.vertexAttribPointer(b.Cf,4,a.FLOAT,!1,0,0));if(0<this.Pf){var b=this.hk;a.bindBuffer(a.ARRAY_BUFFER,this.Ln[this.ah]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Mn.subarray(0,this.Pf));b&&0<=b.Cf&&"<point>"!==b.name&&a.vertexAttribPointer(b.Cf,this.Nb?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.An[this.ah]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Bn.subarray(0,this.Hi));b&&0<=b.ni&&"<point>"!==
b.name&&a.vertexAttribPointer(b.ni,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.Uf;a<b;a++)switch(c=this.vg[a],c.type){case 1:c.tC();break;case 2:c.CC();break;case 3:c.zC();break;case 4:c.vC();break;case 5:c.FC();break;case 6:c.uC();break;case 7:c.nC();break;case 8:c.sC();break;case 9:c.AC();break;case 10:c.BC();break;case 11:c.DC();break;case 12:c.wC();break;case 13:c.xC();break;case 14:c.yC()}this.Pt=this.Hi=this.Pf=this.Uf=0;this.lp=this.bd=!1;this.ah++;4<=this.ah&&(this.ah=0)}};a.prototype.Ei=function(a){if(a!==
this.Ww&&!this.km){var b=this.te();b.type=3;this.Ww=b.Tx=a;this.bd=!1}};a.prototype.we=function(a){if(a!==this.ji){var b=this.te();b.type=2;this.ji=b.Nf=a;this.bd=!1}};a.prototype.Di=function(a,b){if((a!==this.Xw||b!==this.Vw)&&!this.km){var c=this.te();c.type=4;c.Jd=a;c.Ze=b;this.Xw=a;this.Vw=b;this.bd=!1}};a.prototype.yy=function(){this.Di(this.ya.ONE,this.ya.ONE_MINUS_SRC_ALPHA)};a.prototype.gn=function(a,b,c,k,d,f,e,h){15992<=this.Pf&&this.fh();var t=this.Pf,v=this.Hi,q=this.Mn,x=this.Bn,B=this.Ao;
if(this.bd)this.vg[this.Uf-1].Ze+=6;else{var E=this.te();E.type=1;E.Jd=this.Nb?t:t/2*3;E.Ze=6;this.bd=!0}this.Nb?(q[t++]=a,q[t++]=b,q[t++]=B,q[t++]=c,q[t++]=k,q[t++]=B,q[t++]=d,q[t++]=f,q[t++]=B,q[t++]=e,q[t++]=h,q[t++]=B):(q[t++]=a,q[t++]=b,q[t++]=c,q[t++]=k,q[t++]=d,q[t++]=f,q[t++]=e,q[t++]=h);x[v++]=0;x[v++]=0;x[v++]=1;x[v++]=0;x[v++]=1;x[v++]=1;x[v++]=0;x[v++]=1;this.Pf=t;this.Hi=v};a.prototype.fg=function(a,b,c,k,d,f,e,h,t){15992<=this.Pf&&this.fh();var v=this.Pf,q=this.Hi,x=this.Mn,B=this.Bn,
E=this.Ao;if(this.bd)this.vg[this.Uf-1].Ze+=6;else{var A=this.te();A.type=1;A.Jd=this.Nb?v:v/2*3;A.Ze=6;this.bd=!0}var A=t.left,D=t.top,C=t.right;t=t.bottom;this.Nb?(x[v++]=a,x[v++]=b,x[v++]=E,x[v++]=c,x[v++]=k,x[v++]=E,x[v++]=d,x[v++]=f,x[v++]=E,x[v++]=e,x[v++]=h,x[v++]=E):(x[v++]=a,x[v++]=b,x[v++]=c,x[v++]=k,x[v++]=d,x[v++]=f,x[v++]=e,x[v++]=h);B[q++]=A;B[q++]=D;B[q++]=C;B[q++]=D;B[q++]=C;B[q++]=t;B[q++]=A;B[q++]=t;this.Pf=v;this.Hi=q};a.prototype.mF=function(a,b,c,k,d,f,e,h,t,v,q,x,B,E,A,D){15992<=
this.Pf&&this.fh();var C=this.Pf,w=this.Hi,y=this.Mn,H=this.Bn,I=this.Ao;if(this.bd)this.vg[this.Uf-1].Ze+=6;else{var P=this.te();P.type=1;P.Jd=this.Nb?C:C/2*3;P.Ze=6;this.bd=!0}this.Nb?(y[C++]=a,y[C++]=b,y[C++]=I,y[C++]=c,y[C++]=k,y[C++]=I,y[C++]=d,y[C++]=f,y[C++]=I,y[C++]=e,y[C++]=h,y[C++]=I):(y[C++]=a,y[C++]=b,y[C++]=c,y[C++]=k,y[C++]=d,y[C++]=f,y[C++]=e,y[C++]=h);H[w++]=t;H[w++]=v;H[w++]=q;H[w++]=x;H[w++]=B;H[w++]=E;H[w++]=A;H[w++]=D;this.Pf=C;this.Hi=w};a.prototype.xe=function(a){if(this.Bm!==
a){if(!this.mc[a]){if(0===this.Bm)return;a=0}var b=this.te();b.type=9;this.Bm=b.Jd=a;this.bd=!1}};a.prototype.an=function(a){a=this.mc[a];return!(!a.xj&&!a.wj)};a.prototype.St=function(a){a=this.mc[a];return!!(a.xj||a.wj||a.Sv)};a.prototype.Rt=function(a){return this.mc[a].dg};a.prototype.iF=function(a){a=this.mc[a];return 0!==a.Wr||0!==a.Xr};a.prototype.PD=function(a){return this.mc[a].Wr};a.prototype.QD=function(a){return this.mc[a].Xr};a.prototype.RD=function(a,b){return this.mc[a].fb[b][2]};a.prototype.gq=
function(a){return this.mc[a].Bv};a.prototype.Yk=function(a,b,c,k,d,f,e,h,t,v,q,x,B,E,A){var D=this.mc[this.Bm],C,w;if(D.kE||A.length){C=this.te();C.type=10;C.eb?ad(this.ef,C.eb):C.eb=$c();w=C.eb;w[0]=b;w[1]=c;w[2]=k;w[3]=d;w[4]=f;w[5]=e;w[6]=h;w[7]=t;w[8]=v;w[9]=q;w[10]=x;w[11]=B;w[12]=E;D.Lm?C.Nf=a:C.Nf=null;if(A.length)for(c=C.Ky,c.length=A.length,a=0,b=A.length;a<b;a++)c[a]=A[a];this.bd=!1}};a.prototype.clear=function(a,b,c,k){var d=this.te();d.type=7;d.Jd=0;d.eb||(d.eb=$c());d.eb[0]=a;d.eb[1]=
b;d.eb[2]=c;d.eb[3]=k;this.bd=!1};a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var f=this.te();f.type=7;f.Jd=1;f.eb||(f.eb=$c());f.eb[0]=a;f.eb[1]=b;f.eb[2]=c;f.eb[3]=d;this.bd=!1}};a.prototype.By=function(a){if(this.Nb&&(a=!!a,this.km!==a)){var b=this.te();b.type=14;b.Jd=a?1:0;this.bd=!1;this.km=a;this.jq=null;this.km?this.xe(2):this.xe(0)}};a.prototype.Ay=function(a){if(this.Nb){var b=this.te();b.type=13;b.Jd=a?1:0;this.bd=!1}};a.prototype.mw=function(){ad(this.Zs,e);this.Jf();this.nf();
var a=this.width/2,b=this.height/2;this.gn(-a,b,a,b,a,-b,-a,-b);ad(e,this.ef);this.nf()};a.prototype.zy=function(a,b,c){this.xe(3);var d=this.te();d.type=12;d.eb||(d.eb=$c());d.eb[0]=a;d.eb[1]=b;d.eb[2]=c;d.eb[3]=1;this.bd=!1};a.prototype.GF=function(){this.xe(0)};a.prototype.rF=function(){this.xe(2)};a.prototype.fF=function(){this.fh();this.ya.flush()};var h=[],f={};a.prototype.bC=function(){G(h);f={}};a.prototype.zp=function(a,b,c,d){b=!!b;c=!!c;var m=a.src+","+b+","+c+(b?",undefined":""),e=null;
if("undefined"!==typeof a.src&&f.hasOwnProperty(m))return e=f[m],e.oo++,e;this.fh();var r=this.ya,u=pa(a.width)&&pa(a.height),e=r.createTexture();r.bindTexture(r.TEXTURE_2D,e);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var t=r.RGBA,v=r.RGBA,q=r.UNSIGNED_BYTE;if(d&&!this.kh)switch(d){case 1:v=t=r.RGB;break;case 2:q=r.UNSIGNED_SHORT_4_4_4_4;break;case 3:q=r.UNSIGNED_SHORT_5_5_5_1;break;case 4:v=t=r.RGB,q=r.UNSIGNED_SHORT_5_6_5}if(!u&&b){d=document.createElement("canvas");d.width=qa(a.width);
d.height=qa(a.height);var x=d.getContext("2d");x.webkitImageSmoothingEnabled=c;x.mozImageSmoothingEnabled=c;x.msImageSmoothingEnabled=c;x.imageSmoothingEnabled=c;x.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);r.texImage2D(r.TEXTURE_2D,0,t,v,q,d)}else r.texImage2D(r.TEXTURE_2D,0,t,v,q,a);b?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,
r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE));c?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),u&&this.cw?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.generateMipmap(r.TEXTURE_2D)):r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST));r.bindTexture(r.TEXTURE_2D,null);this.ji=null;e.Vi=a.width;e.Ui=a.height;e.oo=1;e.Jv=m;h.push(e);return f[m]=
e};a.prototype.Ee=function(a,b,c,d,f){this.fh();var e=this.ya;this.kh&&(d=!1);var r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);f?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.ji=null;r.Vi=a;r.Ui=b;h.push(r);return r};a.prototype.uz=function(a,b,c){this.fh();var d=this.ya;this.kh&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",
f)}d.bindTexture(d.TEXTURE_2D,null);this.ji=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.oo&&1<a.oo?a.oo--:(this.fh(),a===this.ji&&(this.ya.bindTexture(this.ya.TEXTURE_2D,null),this.ji=null),a===this.rj&&(this.ya.activeTexture(this.ya.TEXTURE1),this.ya.bindTexture(this.ya.TEXTURE_2D,null),this.ya.activeTexture(this.ya.TEXTURE0),this.rj=null),Na(h,a),"undefined"!==typeof a.Jv&&delete f[a.Jv],this.ya.deleteTexture(a)))};a.prototype.Kf=function(a){if(a!==this.jq){var b=this.te();
b.type=6;this.jq=b.Nf=a;this.bd=!1}};Yb=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Ge=(this.jm=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Fd=!!a.dc;this.Mw="undefined"!==typeof window.AppMobi||
this.Fd;this.Af=!!window.c2cocoonjs;this.$f=!!window.c2ejecta;this.Af&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.$f&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Ya=this.Fd||this.Af||this.$f;this.mm=
/edge\//i.test(navigator.userAgent);this.kh=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.mm;this.Pw=/tizen/i.test(navigator.userAgent);this.jp=/android/i.test(navigator.userAgent)&&!this.Pw&&!this.kh&&!this.mm;this.Tw=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.kh&&!this.mm;this.AE=/ipad/i.test(navigator.userAgent);this.Bk=this.Tw||this.AE||this.$f;this.hm=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.kh&&!this.mm;this.Ks=/amazonwebappplatform/i.test(navigator.userAgent);this.sE=/firefox/i.test(navigator.userAgent);this.xE=/safari/i.test(navigator.userAgent)&&!this.hm&&!this.kh&&!this.mm;this.yE=/windows/i.test(navigator.userAgent);this.ei="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Qw=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Rw=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.wk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ss=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Rs=!!window.cr_windows10;this.Qs=this.Qw||this.Rw||this.Ss||this.Rs;this.qE=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.kp=this.jp&&!this.hm&&!this.jm&&!this.sE&&!this.Ks&&!this.Ya;this.devicePixelRatio=
1;this.Fg=this.Ge||this.jm||this.Mw||this.Af||this.jp||this.Bk||this.wk||this.Ss||this.qE||this.Pw||this.$f;this.Fg||(this.Fg=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.qm=!!(this.Bk&&this.Ge&&window.indexedDB);this.As=null;this.mE="";this.qm&&(this.As=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.ei||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.ei=!0);this.canvas=a;this.ek=document.getElementById("c2canvasdiv");this.ma=this.ya=null;this.ws="(unavailable)";this.Nb=!1;this.$i=0;this.zb=null;this.ds="";this.Oo=!1;this.Nx=this.Ox=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Fd&&(window.c2runtime=this);this.ei&&(window.ondragover=function(a){a.preventDefault();return!1},
window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.kp&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.Ga=this.width;this.Fa=this.height;this.xo=this.width;this.El=this.height;this.Gk=window.innerWidth;this.Fk=window.innerHeight;this.wD=!1;this.Va=!0;this.oj=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types=
{};this.wa=[];this.cc=[];this.gt={};this.ag=[];this.Vr={};this.gh=[];this.il=[];this.Mq=[];this.rr=[];this.QB=[];this.Uw=this.Ry=null;this.Zi={};this.Ms=this.di=!1;this.cf=0;this.Ls=this.Os=!1;this.Xf=[];this.lm=!1;this.nh=this.Hd=this.xp=this.gu="";this.yn=this.Oy=!1;this.No=[];this.Zh=this.Ua=0;this.Cx=30;this.Ir=this.Pm=0;this.ig=1;this.dd=new Bb;this.Gh=new Bb;this.Op=this.Vo=this.cj=this.lf=this.tj=this.as=this.up=0;this.zl=null;this.Go=[];this.Ur=[];this.Jo=-1;this.nt=[[]];this.Du=this.Dp=0;
this.hq(null);this.pt=[];this.Fp=-1;this.Ll=this.Jx=this.Tm=0;this.zn=[];this.Au=this.Wt=-1;this.um=!0;this.Kk=0;this.nm=!1;this.JF=0;this.ck=null;this.Pb=this.bp=!1;this.Bt=new da;this.Ct=new da;this.Dt=new da;this.ln=[];this.ye=new Eb([]);this.su=new Eb([]);this.ak=[];this.qk={};this.Th={};this.Ph={};this.hl={};this.Gv={};this.$w=this.wp=this.Dc=this.Sc=this.Zw=this.vp=this.ub=null;this.fl=this.Ts=!1;this.es=[null,null];this.ej=0;this.Zr="";this.wh={};this.wn=this.li=null;this.Qy="";this.Np=[];
this.qF()}}function c(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,k){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=d;f.onerror=k;f.onsuccess=function(d){d=d.target.result;d.onerror=k;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}catch(e){k(e)}}function h(a,b,c){try{var k=indexedDB.open("_C2SaveStates");
k.onupgradeneeded=d;k.onerror=c;k.onsuccess=function(d){d=d.target.result;d.onerror=c;var k=d.transaction(["saves"]).objectStore("saves").get(a);k.onsuccess=function(){k.result?b(k.result.data):b(null)}}}catch(f){c(f)}}function f(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function g(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof
da||a[b]&&"undefined"!==typeof a[b].wg||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.qF=function(){var a=this;if(this.qm)this.As?this.As.startServer({port:0,localhost_only:!0},function(b){a.mE=b;a.iw(function(b){a.Jk(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+
a)}):this.iw(function(b){a.Jk(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.wk?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.Qw||this.wk||this.Ss||this.Rs)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.Ya&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(k){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(f){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(e){}this.wk?
b.onreadystatechange=function(){4===b.readyState&&a.Jk(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.Jk(b.response);else if(a.$f){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Jk(JSON.parse(c))}else a.Jk(JSON.parse(b.responseText))},b.onerror=function(a){ga("Error requesting "+c+":");ga(a)});b.send()}};a.prototype.pE=function(){var a=this,b,c,d,k,f,e,m,l,g;this.nj=(!this.Ya||this.$f||this.Ge)&&this.XF&&!this.kp;0===this.Td&&this.Bk&&(this.nj=!1);this.devicePixelRatio=this.nj?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.xd();c=!(!this.wD&&(!this.sr||this.ei||this.Qs||this.wk||this.jm||this.Ge||this.Ks));0<this.Td&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.NC&&(this.Af||this.$f||!this.Ya)&&(b={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.ya=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(h){}if(this.ya){if(b=this.ya.getExtension("WEBGL_debug_renderer_info"))this.ws=
this.ya.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.ya.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Nb&&(this.ws+=" [front-to-back enabled]");this.Ya||(this.rd=document.createElement("canvas"),jQuery(this.rd).appendTo(this.canvas.parentNode),this.rd.oncontextmenu=function(){return!1},this.rd.onselectstart=function(){return!1},this.rd.width=Math.round(this.xo*this.devicePixelRatio),this.rd.height=Math.round(this.El*this.devicePixelRatio),jQuery(this.rd).css({width:this.xo+"px",height:this.El+
"px"}),this.fy(),this.Nt=this.rd.getContext("2d"));this.ma=new Yb(this.ya,this.Fg,this.Nb);this.ma.Lj(this.canvas.width,this.canvas.height);this.ma.cw=0!==this.GC;this.zb=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.QE();fa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.ma.Gw();a.ma.Lj(a.ma.width,a.ma.height,!0);a.Sc=null;a.Dc=null;a.es[0]=null;a.es[1]=null;a.RE();a.Va=!0;
fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(c=this.wa.length;b<c;b++)for(f=this.wa[b],d=0,k=f.Qa.length;d<k;d++)m=f.Qa[d],m.Ic=this.ma.rs(m.id),m.dg=this.ma.Rt(m.Ic),this.fl=this.fl||this.ma.an(m.Ic);b=0;for(c=this.ag.length;b<c;b++){l=this.ag[b];d=0;for(k=l.Qa.length;d<k;d++)m=l.Qa[d],m.Ic=this.ma.rs(m.id),m.dg=this.ma.Rt(m.Ic);l.kg();d=0;for(k=l.Ra.length;d<k;d++){g=l.Ra[d];f=0;for(e=g.Qa.length;f<e;f++)m=g.Qa[f],m.Ic=this.ma.rs(m.id),m.dg=this.ma.Rt(m.Ic),
this.fl=this.fl||this.ma.an(m.Ic);g.kg()}}}else{if(0<this.Td&&this.Fd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.zb=AppMobi.canvas.getContext("2d");try{this.zb.samplingMode=this.bb?"smooth":"sharp",this.zb.globalScale=1,this.zb.HTML5CompatibilityMode=!0,this.zb.imageSmoothingEnabled=this.bb}catch(n){}0!==this.width&&0!==this.height&&(this.zb.width=this.width,this.zb.height=this.height)}this.zb||(this.Af?(b={antialias:!!this.bb,alpha:c},
this.zb=this.canvas.getContext("2d",b)):(b={alpha:c},this.zb=this.canvas.getContext("2d",b)),this.zb.webkitImageSmoothingEnabled=this.bb,this.zb.mozImageSmoothingEnabled=this.bb,this.zb.msImageSmoothingEnabled=this.bb,this.zb.imageSmoothingEnabled=this.bb);this.Nt=this.rd=null}this.$y=function(b){a.wb(!1,b)};window==window.top||this.Ya||this.Qs||this.wk||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==
typeof cr_is_preview&&(this.Af&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.xp="__c2_continuouspreview",this.yn=!0),this.ZE&&!this.Fg&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Fj()});this.Ya||(b=function(a){if(Xb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Td&&this.nj&&1<this.devicePixelRatio&&this.setSize(this.Gc,this.Fc,!0);this.iz();this.gE();this.go();this.ja={}};a.prototype.setSize=function(a,b,c){var d=0,k=0,f=0,m=0,m=0;if(this.Gk!==
a||this.Fk!==b||c){this.Gk=a;this.Fk=b;var e=this.Td,l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.nm)&&!this.Ge;if(l||0!==this.Td||c)l&&0<this.ej&&(e=this.ej),c=this.devicePixelRatio,4<=e?(f=this.Gc/this.Fc,a/b>f?(f*=b,5===e?(m=f*c/this.Gc,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),f=this.Gc*m/c,m=this.Fc*m/c,d=(a-f)/2,k=(b-m)/2,a=f,b=m):(d=(a-f)/2,a=f)):(m=a/f,5===e?(m=m*c/this.Fc,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),
f=this.Gc*m/c,m=this.Fc*m/c,d=(a-f)/2,k=(b-m)/2,a=f):k=(b-m)/2,b=m),l&&!this.ei&&(k=d=0)):this.ei&&this.nm&&0===this.ow&&(d=Math.floor((a-this.Gc)/2),k=Math.floor((b-this.Fc)/2),a=this.Gc,b=this.Fc),2>e&&(this.xl=c),this.xo=Math.round(a),this.El=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.Va=!0,this.vz?(this.Ga=this.width,this.Fa=this.height,this.Xe=!0):this.width<this.Gc&&this.height<this.Fc||1===e?(this.Ga=this.width,this.Fa=this.height,this.Xe=!0):(this.Ga=this.Gc,
this.Fa=this.Fc,this.Xe=!1,2===e?(f=this.Gc/this.Fc,e=this.Gk/this.Fk,e<f?this.Ga=this.Fa*e:e>f&&(this.Fa=this.Ga/e)):3===e&&(f=this.Gc/this.Fc,e=this.Gk/this.Fk,e>f?this.Ga=this.Fa*e:e<f&&(this.Fa=this.Ga/e))),this.ek&&!this.Ya&&(jQuery(this.ek).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=
Math.round(a*c),this.canvas.height=Math.round(b*c),this.$f?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.nj&&!this.Ya&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.rd&&(this.rd.width=Math.round(a*c),this.rd.height=Math.round(b*c),this.rd.style.width=this.xo+"px",this.rd.style.height=this.El+"px"),this.ma&&this.ma.Lj(Math.round(a*
c),Math.round(b*c)),this.Fd&&this.zb&&(this.zb.width=Math.round(a),this.zb.height=Math.round(b)),this.zb&&(this.zb.webkitImageSmoothingEnabled=this.bb,this.zb.mozImageSmoothingEnabled=this.bb,this.zb.msImageSmoothingEnabled=this.bb,this.zb.imageSmoothingEnabled=this.bb),this.iz(),this.Tw&&!this.Ge&&window.scrollTo(0,0)}};a.prototype.iz=function(){if(this.TB&&0!==this.Lt){var a="portrait";2===this.Lt&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};a.prototype.QE=function(){this.ma.bC();this.Ts=!0;var a,b,c;a=0;for(b=this.wa.length;a<b;a++)c=this.wa[a],c.Wm&&c.Wm()};a.prototype.RE=function(){this.Ts=!1;var a,b,c;a=0;for(b=this.wa.length;a<b;a++)c=this.wa[a],c.Sp&&c.Sp()};
a.prototype.fy=function(){if(!this.Ya){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.nm)&&!this.Ge?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.rd).css(a)}};var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.oj)for(fa("[Construct 2] Suspending"),
this.oj=!0,-1!==this.Wt&&n&&n(this.Wt),-1!==this.Au&&clearTimeout(this.Au),a=0,b=this.zn.length;a<b;a++)this.zn[a](!0);else if(!a&&this.oj){fa("[Construct 2] Resuming");this.oj=!1;this.up=tb();this.tj=tb();a=this.Pm=this.Vo=0;for(b=this.zn.length;a<b;a++)this.zn[a](!1);this.wb(!1)}};a.prototype.qr=function(a){this.zn.push(a)};a.prototype.Lh=function(a){return this.Np[a]};a.prototype.Jk=function(a){a&&a.project||ga("Project model unavailable");a=a.project;this.name=a[0];this.lw=a[1];this.Td=a[12];
this.ow=a[12];this.Gc=a[10];this.Fc=a[11];this.$x=this.Gc/2;this.ay=this.Fc/2;this.Ya&&!this.$f&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.ow=this.Td=3);this.Ju=a[18];this.mi=a[19];if(0===this.mi){var b=new Image;b.crossOrigin="anonymous";this.Cy(b,"loading-logo.png");this.li={Ep:b}}else if(4===this.mi){b=new Image;b.src="";var c=new Image;c.src="";var d=new Image;d.src="";var k=new Image;k.src=
"";var f=new Image;f.src="";var m=new Image;m.src="";var e=new Image;e.src="";var l=new Image;l.src="";var g=new Image;g.src="";var h=new Image;h.src="";var n=new Image;n.src="";var r=new Image;r.src="";this.li={Ep:[b,c,d,k],cF:[f,m,e,l],aG:[g,h,n,r]}}this.Tm=a[21];this.Np=fd();this.Rg=new L(this);b=0;for(c=a[2].length;b<c;b++)e=a[2][b],d=this.Lh(e[0]),Zb(e,d.prototype),l=new d(this),l.yq=e[1],l.gi=e[2],l.Gx=e[9],l.ka&&l.ka(),this.plugins.push(l);this.Np=fd();b=0;for(c=a[3].length;b<c;b++){e=a[3][b];
f=this.Lh(e[1]);l=null;d=0;for(k=this.plugins.length;d<k;d++)if(this.plugins[d]instanceof f){l=this.plugins[d];break}g=new l.xa(l);g.name=e[0];g.Ca=e[2];g.Is=e[3].slice(0);g.ZF=e[3].length;g.UB=e[4];g.yD=e[5];g.Za=e[11];g.Ca?(g.Hg=[],g.Bg=this.Ll++,g.$b=null):(g.Hg=null,g.Bg=-1,g.$b=[]);g.Ml=null;g.kk=null;g.dw=null;g.Gd=!1;g.De=null;e[6]?(g.Dq=e[6][0],g.Eq=e[6][1],g.uu=e[6][2]):(g.Dq=null,g.Eq=0,g.uu=0);e[7]?g.Ce=e[7]:g.Ce=null;g.index=b;g.F=[];g.Co=[];g.Dh=[new $b(g)];g.yg=0;g.wf=null;g.Wv=0;g.$k=
!0;g.Pq=ac;g.Tl=bc;g.ND=dc;g.Ma=ec;g.cn=fc;g.dn=gc;g.yi=hc;g.Wo=ic;g.hs=jc;g.ls=kc;g.Te=lc;g.ns=mc;g.Al=new Fb(this.Gc,this.Fc);g.ao=!0;g.bo=!1;g.ja={};g.toString=nc;g.cc=[];d=0;for(k=e[8].length;d<k;d++){h=e[8][d];n=this.Lh(h[1]);r=null;f=0;for(m=this.cc.length;f<m;f++)if(this.cc[f]instanceof n){r=this.cc[f];break}r||(r=new n(this),r.Lp=[],r.Kp=new da,r.ka&&r.ka(),this.cc.push(r),gd&&r instanceof gd&&(this.Ry=r),hd&&r instanceof hd&&(this.Uw=r));-1===r.Lp.indexOf(g)&&r.Lp.push(g);f=new r.xa(r,g);
f.name=h[0];f.Za=h[2];f.ka();g.cc.push(f)}g.global=e[9];g.Ns=e[10];g.Qa=[];d=0;for(k=e[12].length;d<k;d++)g.Qa.push({id:e[12][d][0],name:e[12][d][1],Ic:-1,dg:!1,ie:!0,index:d});g.Hq=e[13];this.Ju&&!g.Ca&&!g.Ns&&l.gi||g.ka();g.name&&(this.types[g.name]=g);this.wa.push(g);l.yq&&(d=new l.qa(g),d.uid=this.Tm++,d.my=this.Jx++,d.jj=0,d.Yl=oc,d.toString=pc,d.R=e[14],d.ka(),g.F.push(d),this.wh[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(f=a[4][b],m=this.wa[f[0]],d=1,k=f.length;d<k;d++)e=this.wa[f[d]],
e.$b.push(m),m.Hg.push(e);b=0;for(c=a[28].length;b<c;b++){f=a[28][b];m=[];d=0;for(k=f.length;d<k;d++)m.push(this.wa[f[d]]);d=0;for(k=m.length;d<k;d++)m[d].Gd=!0,m[d].De=m}if(0<this.Ll)for(b=0,c=this.wa.length;b<c;b++)if(e=this.wa[b],!e.Ca&&e.$b.length){e.Ml=Array(this.Ll);e.kk=Array(this.Ll);e.dw=Array(this.Ll);g=[];d=r=n=h=0;for(k=e.$b.length;d<k;d++)for(l=e.$b[d],e.Ml[l.Bg]=h,h+=l.ZF,e.kk[l.Bg]=n,n+=l.UB,e.dw[l.Bg]=r,r+=l.yD,f=0,m=l.Qa.length;f<m;f++)g.push(Da({},l.Qa[f]));e.Qa=g.concat(e.Qa);d=
0;for(k=e.Qa.length;d<k;d++)e.Qa[d].index=d}b=0;for(c=a[5].length;b<c;b++)e=a[5][b],d=new qc(this,e),this.gt[d.name]=d,this.ag.push(d);b=0;for(c=a[6].length;b<c;b++)e=a[6][b],d=new rc(this,e),this.Vr[d.name]=d,this.gh.push(d);b=0;for(c=this.gh.length;b<c;b++)this.gh[b].wc();b=0;for(c=this.gh.length;b<c;b++)this.gh[b].Gu();b=0;for(c=this.Mq.length;b<c;b++)this.Mq[b].wc();G(this.Mq);this.SB=a[7];this.Zr=a[8];this.jf=a[9];this.xl=1;this.NC=a[13];this.bb=a[14];this.sr=a[15];this.$F=a[16];this.XF=a[17];
this.Lt=a[20];this.TB=0<this.Lt;this.ZE=a[22];this.Xe=this.vz=a[23];this.GC=a[24];this.dF=a[25];this.Nb=a[27]&&!this.kh;this.zq=Date.now();G(this.Np);this.pE()};var k=!1;a.prototype.Lu=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){k=a.Iv=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.$f?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){k=a.Iv=!0;console&&console.error&&console.error("Error extracting image '"+
b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.Cy(a,b)));this.il.push(a)};a.prototype.uD=function(a){var b,c;b=0;for(c=this.il.length;b<c;b++)if(this.il[b].fC===a)return this.il[b];return null};var m=0,p=!1;a.prototype.gE=function(){this.ck&&(m=this.ck.EF(this.SB))};a.prototype.Dv=function(){var a=m,b=0,c=0,d=!0,k,f,c=0;for(k=this.il.length;c<k;c++){f=this.il[c];var e=f.Jr;if(!e||0>=e)e=5E4;a+=e;f.src&&(f.complete||f.loaded)&&!f.Iv?b+=e:d=!1}d&&this.dF&&this.ck&&(p||(this.ck.KF(),
p=!0),c=this.ck.OD(),b+=c,c<m&&(d=!1));this.eg=0==a?1:b/a;return d};var r=!1;a.prototype.go=function(){if(this.zb||this.ma){var a=this.zb||this.Nt;this.rd&&this.fy();var b=window.innerWidth,c=window.innerHeight;this.Gk===b&&this.Fk===c||this.setSize(b,c);this.eg=0;this.Yw=-1;var d=this;if(this.Dv()&&(4!==this.mi||r))this.hE();else{c=Date.now()-this.zq;if(a){var f=this.width,e=this.height,b=this.devicePixelRatio;if(3>this.mi&&(this.Af||500<=c&&this.Yw!=this.eg)){a.clearRect(0,0,f,e);var c=f/2,e=e/
2,f=0===this.mi&&this.li.Ep.complete,m=40*b,g=0,h=80*b,n;if(f){var q=this.li.Ep,h=q.width*b;n=q.height*b;m=h/2;g=n/2;a.drawImage(q,xa(c-m),xa(e-g),h,n)}1>=this.mi?(c=xa(c-m)+.5,e=xa(e+(g+(f?12*b:0)))+.5,a.fillStyle=k?"red":"DodgerBlue",a.fillRect(c,e,Math.floor(h*this.eg),6*b),a.strokeStyle="black",a.strokeRect(c,e,h,6*b),a.strokeStyle="white",a.strokeRect(c-1*b,e-1*b,h+2*b,8*b)):2===this.mi&&(a.font=this.$f?"12pt ArialMT":"12pt Arial",a.fillStyle=k?"#f00":"#999",a.iH="middle",b=Math.round(100*this.eg)+
"%",f=a.measureText?a.measureText(b):null,a.fillText(b,c-(f?f.width:0)/2,e));this.Yw=this.eg}else if(4===this.mi){this.LC(a);l?l(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.Af?10:100)}}};var u=-1,t="undefined"===typeof cr_is_preview?200:0,v=!0,q=!1,x=0,B=0,E="undefined"===typeof cr_is_preview?3E3:0,A=null,D=null,C=0;a.prototype.LC=function(a){if(!r){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),f=this.li.Ep,e=this.li.cF,m=this.li.aG,
g=0;4>g;++g)if(!f[g].complete||!e[g].complete||!m[g].complete)return;0===C&&(u=Date.now());var g=Date.now(),l=!1,h=a,n,p;v||q?(a.clearRect(0,0,b,d),A&&A.width===b&&A.height===d||(A=document.createElement("canvas"),A.width=b,A.height=d,D=A.getContext("2d")),h=D,l=!0,v&&1===C&&(u=Date.now())):a.globalAlpha=1;h.fillStyle="#333333";h.fillRect(0,0,b,d);256<this.El?(n=Oa(.22*d,105,.6*b),p=.25*n,h.drawImage(c(e,n),.5*b-n/2,.2*d-p/2,n,p),p=n=Math.min(.395*d,.95*b),h.drawImage(c(f,n),.5*b-n/2,.485*d-p/2,n,
p),n=Oa(.22*d,105,.6*b),p=.25*n,h.drawImage(c(m,n),.5*b-n/2,.868*d-p/2,n,p),h.fillStyle="#3C3C3C",n=b,p=Math.max(.005*d,2),h.fillRect(0,.8*d-p/2,n,p),h.fillStyle=k?"red":"#E0FF65",n=b*this.eg,h.fillRect(.5*b-n/2,.8*d-p/2,n,p)):(p=n=.55*d,h.drawImage(c(f,n),.5*b-n/2,.45*d-p/2,n,p),h.fillStyle="#3C3C3C",n=b,p=Math.max(.005*d,2),h.fillRect(0,.85*d-p/2,n,p),h.fillStyle=k?"red":"#E0FF65",n=b*this.eg,h.fillRect(.5*b-n/2,.85*d-p/2,n,p));l&&(v?a.globalAlpha=0===C?0:Math.min((g-u)/300,1):q&&(a.globalAlpha=
Math.max(1-(g-B)/300,0)),a.drawImage(A,0,0,b,d));v&&300<=g-u&&2<=C&&(v=!1,x=g);!v&&g-x>=E&&!q&&1<=this.eg&&(q=!0,B=g);if(q&&g-B>=300+t||"undefined"!==typeof cr_is_preview&&1<=this.eg&&500>Date.now()-u)r=!0,q=v=!1,this.li=D=A=null;++C}};a.prototype.hE=function(){this.rd&&(this.canvas.parentNode.removeChild(this.rd),this.rd=this.Nt=null);this.zq=Date.now();this.tj=tb();var a,b,c;if(this.Ju)for(a=0,b=this.wa.length;a<b;a++)c=this.wa[a],c.Ca||c.Ns||!c.jb.gi||c.ka();else this.um=!1;a=0;for(b=this.ag.length;a<
b;a++)this.ag[a].gC();2<=this.Td&&(a=this.Gc/this.Fc,b=this.width/this.height,this.xl=2!==this.Td&&b>a||2===this.Td&&b<a?this.height/this.Fc:this.width/this.Gc);this.lw?this.gt[this.lw].qu():this.ag[0].qu();this.Ju||(this.Kk=1,this.trigger(L.prototype.D.gv,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.wa.length;a<b;a++)c=this.wa[a],c.PE&&c.PE();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.wb(!1);this.Fd&&AppMobi.webview.execute("onGameReady();")};a.prototype.wb=function(a,b,c){if(this.ub){var d=tb();if(c||!this.oj||a){a||(l?this.Wt=l(this.$y):this.Au=setTimeout(this.$y,this.Fg?1:16));b=b||d;var k=this.Td;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Ge)||this.nm)&&0<this.ej&&(k=this.ej);if(0<k){var k=window.innerWidth,f=window.innerHeight;this.Gk===k&&this.Fk===f||this.setSize(k,f)}this.Ya||(c?(this.Oo||(this.ds=
jQuery(this.canvas).css("margin")||"0",this.Oo=!0),this.hm||this.ei||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Oo?(this.hm||this.ei||jQuery(this.canvas).css("margin",this.ds),this.ds="",this.Oo=!1,0===this.Td&&this.setSize(Math.round(this.Ox/this.devicePixelRatio),Math.round(this.Nx/this.devicePixelRatio),!0)):(this.Ox=this.width,this.Nx=this.height));
this.um&&(c=this.Dv(),this.Kk=this.eg,c&&(this.um=!1,this.eg=1,this.trigger(L.prototype.D.gv,null)));this.EE(b);!this.Va&&!this.Af||this.Ts||this.yn||a||(this.Va=!1,this.ma?this.od():this.We(),this.wn&&(this.canvas&&this.canvas.toDataURL&&(this.Qy=this.canvas.toDataURL(this.wn[0],this.wn[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Qy),this.trigger(L.prototype.D.sA,null)),this.wn=null));this.YG||(this.lf++,this.cj++,this.Vo++);this.Pm+=tb()-d}}};a.prototype.EE=function(a){var b,c,d,k,f,e,m,
g;1E3<=a-this.tj&&(this.tj+=1E3,1E3<=a-this.tj&&(this.tj=a),this.as=this.Vo,this.Vo=0,this.Ir=this.Pm,this.Pm=0);b=0;0!==this.up&&(b=a-this.up,0>b&&(b=0),this.Zh=b/=1E3,.5<this.Zh?this.Zh=0:this.Zh>1/this.Cx&&(this.Zh=1/this.Cx));this.up=a;this.Ua=this.Zh*this.ig;this.dd.add(this.Ua);this.Gh.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.nm)&&!this.Ge;2<=this.Td||a&&0<this.ej?(b=this.Gc/this.Fc,c=this.width/this.height,d=this.Td,
a&&0<this.ej&&(d=this.ej),this.xl=2!==d&&c>b||2===d&&c<b?this.height/this.Fc:this.width/this.Gc,this.ub&&(this.ub.hu(this.ub.scrollX),this.ub.iu(this.ub.scrollY))):this.xl=this.nj?this.devicePixelRatio:1;this.xd();this.cf++;this.Rg.vF();this.cf--;this.xd();this.cf++;c=this.Bt.lg();a=0;for(b=c.length;a<b;a++)c[a].gF();a=0;for(b=this.wa.length;a<b;a++)if(e=this.wa[a],!e.Ca&&(e.cc.length||e.$b.length))for(c=0,d=e.F.length;c<d;c++)for(m=e.F[c],k=0,f=m.Ja.length;k<f;k++)m.Ja[k].wb();a=0;for(b=this.wa.length;a<
b;a++)if(e=this.wa[a],!e.Ca&&(e.cc.length||e.$b.length))for(c=0,d=e.F.length;c<d;c++)for(m=e.F[c],k=0,f=m.Ja.length;k<f;k++)g=m.Ja[k],g.hy&&g.hy();c=this.Ct.lg();a=0;for(b=c.length;a<b;a++)c[a].wb();this.cf--;this.jE();for(a=0;this.zl&&10>a++;)this.$v(this.zl);a=0;for(b=this.gh.length;a<b;a++)this.gh[a].zs=!1;this.ub.aj&&this.ub.aj.Hc();G(this.ln);this.cf++;a=0;for(b=this.wa.length;a<b;a++)if(e=this.wa[a],!e.Ca&&(e.cc.length||e.$b.length))for(c=0,d=e.F.length;c<d;c++)for(m=e.F[c],k=0,f=m.Ja.length;k<
f;k++)g=m.Ja[k],g.cl&&g.cl();c=this.Dt.lg();a=0;for(b=c.length;a<b;a++)c[a].cl();this.cf--};a.prototype.Fj=function(){var a,b,c,d,k,f,e,m,g;a=0;for(b=this.wa.length;a<b;a++)if(e=this.wa[a],!e.Ca)for(c=0,d=e.F.length;c<d;c++)if(m=e.F[c],m.Fj&&m.Fj(),m.Ja)for(k=0,f=m.Ja.length;k<f;k++)g=m.Ja[k],g.Fj&&g.Fj()};a.prototype.$v=function(a){var b=this.ub;this.ub.MF();var c,d,k;if(this.ma)for(c=0,d=this.wa.length;c<d;c++)k=this.wa[c],k.Ca||!k.Oq||k.global&&0!==k.F.length||-1!==a.fm.indexOf(k)||k.Oq();b==a&&
G(this.Rg.Oe);G(this.ln);this.uy(!0);a.qu();this.uy(!1);this.Va=!0;this.xd()};a.prototype.uy=function(a){var b,c,d,k,f,e,m,g,l;b=0;for(c=this.cc.length;b<c;b++)d=this.cc[b],a?d.Tk&&d.Tk():d.Vm&&d.Vm();b=0;for(c=this.wa.length;b<c;b++)if(d=this.wa[b],d.global||d.jb.yq)for(k=0,f=d.F.length;k<f;k++)if(e=d.F[k],a?e.Tk&&e.Tk():e.Vm&&e.Vm(),e.Ja)for(m=0,g=e.Ja.length;m<g;m++)l=e.Ja[m],a?l.Tk&&l.Tk():l.Vm&&l.Vm()};a.prototype.hF=function(a){this.Bt.add(a)};a.prototype.Rj=function(a){this.Ct.add(a)};a.prototype.PF=
function(a){this.Dt.add(a)};a.prototype.Dg=function(a){return a&&-1!==a.Sm?this.Zh*a.Sm:this.Ua};a.prototype.We=function(){this.ub.We(this.zb);this.Fd&&this.zb.present()};a.prototype.od=function(){this.Nb&&(this.$i=1,this.ub.Yh(this.ma));this.ub.od(this.ma);this.ma.fF()};a.prototype.$j=function(a){a&&this.Go.push(a)};a.prototype.Zt=function(a){Na(this.Go,a)};a.prototype.Yf=function(a){a=a.toString();return this.wh.hasOwnProperty(a)?this.wh[a]:null};var w=[];a.prototype.Pe=function(a){var b,c;b=a.type.name;
var d=null;if(this.Zi.hasOwnProperty(b)){if(d=this.Zi[b],d.contains(a))return}else d=w.length?w.pop():new da,this.Zi[b]=d;d.add(a);this.di=!0;if(a.Gd)for(b=0,c=a.siblings.length;b<c;b++)this.Pe(a.siblings[b]);this.Ms&&d.gl.push(a);this.Ls||(this.cf++,this.trigger(Object.getPrototypeOf(a.type.jb).D.Xu,a),this.cf--)};a.prototype.xd=function(){if(this.di){var a,b,c,d,k,f;this.Ms=!0;c=0;for(k=this.Xf.length;c<k;++c)for(a=this.Xf[c],b=a.type,b.F.push(a),d=0,f=b.$b.length;d<f;++d)b.$b[d].F.push(a),b.$b[d].$k=
!0;G(this.Xf);this.iA();mb(this.Zi);this.di=this.Ms=!1}};a.prototype.iA=function(){for(var a in this.Zi)this.Zi.hasOwnProperty(a)&&this.Iz(this.Zi[a])};a.prototype.Iz=function(a){var b=a.lg(),c=b[0].type,d,k,f,e,m,g;ub(c.F,a);c.$k=!0;0===c.F.length&&(c.bo=!1);d=0;for(k=c.$b.length;d<k;++d)g=c.$b[d],ub(g.F,a),g.$k=!0;d=0;for(k=this.Rg.Oe.length;d<k;++d)if(m=this.Rg.Oe[d],m.Ne.hasOwnProperty(c.index)&&ub(m.Ne[c.index].lj,a),!c.Ca)for(f=0,e=c.$b.length;f<e;++f)g=c.$b[f],m.Ne.hasOwnProperty(g.index)&&
ub(m.Ne[g.index].lj,a);if(m=b[0].M){if(m.of)for(f=m.F,d=0,k=f.length;d<k;++d)e=f[d],a.contains(e)&&(e.Wa(),m.vd.update(e,e.ue,null),e.ue.set(0,0,-1,-1));ub(m.F,a);m.rn(0)}for(d=0;d<b.length;++d)this.Hz(b[d],c);a.clear();w.push(a);this.Va=!0};a.prototype.Hz=function(a,b){var c,d,k;c=0;for(d=this.Go.length;c<d;++c)this.Go[c](a);a.uf&&b.Al.update(a,a.uf,null);(c=a.M)&&c.Vk(a,!0);if(a.Ja)for(c=0,d=a.Ja.length;c<d;++c)k=a.Ja[c],k.ff&&k.ff(),k.behavior.Kp.remove(a);this.Bt.remove(a);this.Ct.remove(a);this.Dt.remove(a);
a.ff&&a.ff();this.wh.hasOwnProperty(a.uid.toString())&&delete this.wh[a.uid.toString()];this.Op--;100>b.Co.length&&b.Co.push(a)};a.prototype.wo=function(a,b,c,d){if(a.Ca){var k=xa(Math.random()*a.Hg.length);return this.wo(a.Hg[k],b,c,d)}return a.wf?this.Vh(a.wf,b,!1,c,d,!1):null};var y=[];a.prototype.Vh=function(a,b,c,d,k,f){var e,m,g,l;if(!a)return null;var h=this.wa[a[1]],n=h.jb.gi;if(this.um&&n&&!h.Ns||n&&!this.ma&&11===a[0][11])return null;var r=b;n||(b=null);var q;h.Co.length?(q=h.Co.pop(),q.ud=
!0,h.jb.qa.call(q,h)):(q=new h.jb.qa(h),q.ud=!1);!c||f||this.wh.hasOwnProperty(a[2].toString())?q.uid=this.Tm++:q.uid=a[2];this.wh[q.uid.toString()]=q;q.my=this.Jx++;q.jj=h.F.length;e=0;for(m=this.Xf.length;e<m;++e)this.Xf[e].type===h&&q.jj++;q.Yl=oc;q.toString=pc;g=a[3];if(q.ud)mb(q.ja);else{q.ja={};if("undefined"!==typeof cr_is_preview)for(q.Jw=[],q.Jw.length=g.length,e=0,m=g.length;e<m;e++)q.Jw[e]=g[e][1];q.Ob=[];q.Ob.length=g.length}e=0;for(m=g.length;e<m;e++)q.Ob[e]=g[e][0];if(n){var p=a[0];
q.x=ka(d)?p[0]:d;q.y=ka(k)?p[1]:k;q.z=p[2];q.width=p[3];q.height=p[4];q.depth=p[5];q.K=p[6];q.opacity=p[7];q.Wd=p[8];q.Xd=p[9];q.yd=p[10];e=p[11];!this.ma&&h.Qa.length&&(q.yd=e);q.Bl=Hb(q.yd);this.ya&&Mb(q,q.yd,this.ya);if(q.ud){e=0;for(m=p[12].length;e<m;e++)for(g=0,l=p[12][e].length;g<l;g++)q.fc[e][g]=p[12][e][g];q.Lb.set(0,0,0,0);q.uf.set(0,0,-1,-1);q.ue.set(0,0,-1,-1);q.Jb.Oj(q.Lb);G(q.Ar)}else{q.fc=p[12].slice(0);e=0;for(m=q.fc.length;e<m;e++)q.fc[e]=p[12][e].slice(0);q.xb=[];q.Oh=[];q.Oh.length=
h.Qa.length;q.Lb=new Aa(0,0,0,0);q.uf=new Aa(0,0,-1,-1);q.ue=new Aa(0,0,-1,-1);q.Jb=new Ba;q.Ar=[];q.X=sc;q.WG=tc;q.Dd=uc;q.Wa=vc;q.WF=wc;q.qz=xc;q.Eg=yc}q.Ug=!1;q.dz=0;q.cz=0;q.bz=null;14===p.length&&(q.Ug=!0,q.dz=p[13][0],q.cz=p[13][1],q.bz=p[13][2]);e=0;for(m=h.Qa.length;e<m;e++)q.Oh[e]=!0;q.Bh=!0;q.kg=zc;q.kg();q.rz=!!q.xb.length;q.yr=!0;q.Er=!0;h.ao=!0;q.visible=!0;q.Sm=-1;q.M=b;q.mg=b.F.length;q.$i=0;"undefined"===typeof q.Pa&&(q.Pa=null);this.Va=q.Ve=!0}var v;G(y);e=0;for(m=h.$b.length;e<m;e++)y.push.apply(y,
h.$b[e].cc);y.push.apply(y,h.cc);if(q.ud)for(e=0,m=y.length;e<m;e++){var x=y[e];v=q.Ja[e];v.ud=!0;x.behavior.qa.call(v,x,q);p=a[4][e];g=0;for(l=p.length;g<l;g++)v.R[g]=p[g];v.ka();x.behavior.Kp.add(q)}else for(q.Ja=[],e=0,m=y.length;e<m;e++)x=y[e],v=new x.behavior.qa(x,q),v.ud=!1,v.R=a[4][e].slice(0),v.ka(),q.Ja.push(v),x.behavior.Kp.add(q);p=a[5];if(q.ud)for(e=0,m=p.length;e<m;e++)q.R[e]=p[e];else q.R=p.slice(0);this.Xf.push(q);this.di=!0;b&&(b.wl(q,!0),1!==b.pe||1!==b.qe)&&(h.bo=!0);this.Op++;if(h.Gd){if(q.Gd=
!0,q.ud?G(q.siblings):q.siblings=[],!c&&!f){e=0;for(m=h.De.length;e<m;e++)if(h.De[e]!==h){if(!h.De[e].wf)return null;q.siblings.push(this.Vh(h.De[e].wf,r,!1,n?q.x:d,n?q.y:k,!0))}e=0;for(m=q.siblings.length;e<m;e++)for(q.siblings[e].siblings.push(q),g=0;g<m;g++)e!==g&&q.siblings[e].siblings.push(q.siblings[g])}}else q.Gd=!1,q.siblings=null;q.ka();e=0;for(m=q.Ja.length;e<m;e++)q.Ja[e].gy&&q.Ja[e].gy();return q};a.prototype.Ul=function(a){var b,c;b=0;for(c=this.ub.Ra.length;b<c;b++){var d=this.ub.Ra[b];
if(Wb(d.name,a))return d}return null};a.prototype.ih=function(a){a=xa(a);0>a&&(a=0);a>=this.ub.Ra.length&&(a=this.ub.Ra.length-1);return this.ub.Ra[a]};a.prototype.Gr=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ma().kb=!0};a.prototype.cn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].cn()};a.prototype.dn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].dn()};a.prototype.yi=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].yi()};a.prototype.nz=function(a){if(a.ao){var b,c,d=a.F;b=
0;for(c=d.length;b<c;++b)d[b].qz();d=this.Xf;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].qz();a.ao=!1}};a.prototype.Xo=function(a,b,c,d){var k,e,f=a?1!==a.pe||1!==a.qe:!1;if(b.Ca)for(a=0,k=b.Hg.length;a<k;++a)e=b.Hg[a],f||e.bo?Ja(d,e.F):(this.nz(e),e.Al.iq(c,d));else f||b.bo?Ja(d,b.F):(this.nz(b),b.Al.iq(c,d))};a.prototype.ts=function(a,b,c,d){var k,e;k=0;for(e=b.length;k<e;++k)this.Xo(a,b[k],c,d)};a.prototype.Aw=function(a,b,c){var d=this.Ry;d&&this.ts(a,d.Lp,b,c)};a.prototype.LD=function(a,b,
c){var d=this.Uw;d&&this.ts(a,d.Lp,b,c)};a.prototype.bl=function(a,b,c,d){var k=a.Ma(),e,f,m,g,l=this.Cc().$c.gf,h,n,q;if(k.kb)for(d||(k.kb=!1,G(k.F)),e=0,g=a.F.length;e<g;e++)if(m=a.F[e],m.Wa(),h=m.M.oc(b,c,!0),n=m.M.oc(b,c,!1),m.Dd(h,n)){if(d)return!1;k.F.push(m)}else l&&k.Xa.push(m);else{f=0;q=l?k.Xa:k.F;e=0;for(g=q.length;e<g;e++)if(m=q[e],m.Wa(),h=m.M.oc(b,c,!0),n=m.M.oc(b,c,!1),m.Dd(h,n)){if(d)return!1;l?k.F.push(m):(k.F[f]=k.F[e],f++)}d||(q.length=f)}a.Te();return d?!0:k.ys()};a.prototype.Ld=
function(a,b){if(!(a&&b&&a!==b&&a.Ve&&b.Ve))return!1;a.Wa();b.Wa();var c=a.M,d=b.M,k,e,f,m,g,l,h,n;if(c===d||c.pe===d.pe&&d.qe===d.qe&&c.scale===d.scale&&c.K===d.K&&c.Qd===d.Qd){if(!a.Lb.Kw(b.Lb)||!a.Jb.Js(b.Jb)||a.Ug&&b.Ug)return!1;if(a.Ug)return this.Xy(a,b);if(b.Ug)return this.Xy(b,a);h=a.Pa&&!a.Pa.fi();k=b.Pa&&!b.Pa.fi();if(!h&&!k)return!0;h?(a.Pa.$g(a.width,a.height,a.K),h=a.Pa):(this.ye.Nj(a.Jb,a.x,a.y,a.width,a.height),h=this.ye);k?(b.Pa.$g(b.width,b.height,b.K),n=b.Pa):(this.ye.Nj(b.Jb,b.x,
b.y,b.width,b.height),n=this.ye);return h.mj(n,b.x-a.x,b.y-a.y)}h=a.Pa&&!a.Pa.fi();k=b.Pa&&!b.Pa.fi();h?(a.Pa.$g(a.width,a.height,a.K),this.ye.Iy(a.Pa)):this.ye.Nj(a.Jb,a.x,a.y,a.width,a.height);h=this.ye;k?(b.Pa.$g(b.width,b.height,b.K),this.su.Iy(b.Pa)):this.su.Nj(b.Jb,b.x,b.y,b.width,b.height);n=this.su;k=0;for(e=h.be;k<e;k++)f=2*k,m=f+1,g=h.Fb[f],l=h.Fb[m],h.Fb[f]=c.Ab(g+a.x,l+a.y,!0),h.Fb[m]=c.Ab(g+a.x,l+a.y,!1);h.Wa();k=0;for(e=n.be;k<e;k++)f=2*k,m=f+1,g=n.Fb[f],l=n.Fb[m],n.Fb[f]=d.Ab(g+b.x,
l+b.y,!0),n.Fb[m]=d.Ab(g+b.x,l+b.y,!1);n.Wa();return h.mj(n,0,0)};var H=new Ba;new Aa(0,0,0,0);var I=[];a.prototype.Xy=function(a,b){var c,d,k,e,f=b.Lb,m=a.x,g=a.y;a.sw(f,I);var l=b.Pa&&!b.Pa.fi();c=0;for(d=I.length;c<d;++c)if(k=I[c],e=k.tb,f.Lw(e,m,g)&&(H.Oj(e),H.offset(m,g),H.Js(b.Jb)))if(l)if(b.Pa.$g(b.width,b.height,b.K),k.sd){if(k.sd.mj(b.Pa,b.x-(m+e.left),b.y-(g+e.top)))return G(I),!0}else{if(this.ye.Nj(H,0,0,e.right-e.left,e.bottom-e.top),this.ye.mj(b.Pa,b.x,b.y))return G(I),!0}else if(k.sd){if(this.ye.Nj(b.Jb,
0,0,b.width,b.height),k.sd.mj(this.ye,-(m+e.left),-(g+e.top)))return G(I),!0}else return G(I),!0;G(I);return!1};a.prototype.tu=function(a,b){if(!b||!b.Ve)return!1;b.Wa();if(!b.Lb.Kw(a))return!1;if(b.Ug){b.sw(a,I);var c,d,k,e,f=b.x,m=b.y;c=0;for(d=I.length;c<d;++c)if(k=I[c],e=k.tb,a.Lw(e,f,m))if(k.sd){if(this.ye.Oj(a,0,0),k.sd.mj(this.ye,-(f+e.left),-(m+e.top)))return G(I),!0}else return G(I),!0;G(I);return!1}H.Oj(a);if(!b.Jb.Js(H))return!1;if(!b.Pa||b.Pa.fi())return!0;b.Pa.$g(b.width,b.height,b.K);
H.offset(-a.left,-a.top);this.ye.Nj(H,0,0,1,1);return b.Pa.mj(this.ye,a.left-b.x,a.top-b.y)};a.prototype.jz=function(a,b){if(!b)return!1;var c,d,k,e,f;c=0;for(d=a.cc.length;c<d;c++)if(a.cc[c].behavior instanceof b)return!0;if(!a.Ca)for(c=0,d=a.$b.length;c<d;c++)for(f=a.$b[c],k=0,e=f.cc.length;k<e;k++)if(f.cc[k].behavior instanceof b)return!0;return!1};a.prototype.Eu=function(a){return this.jz(a,Xc.yG)};a.prototype.Fu=function(a){return this.jz(a,Xc.zG)};var P=[];a.prototype.jd=function(a){var b,c,
d;a.Wa();this.Aw(a.M,a.Lb,P);b=0;for(c=P.length;b<c;++b)if(d=P[b],d.ja.solidEnabled&&this.Ld(a,d))return G(P),d;G(P);return null};a.prototype.OF=function(a){var b,c,d;this.Aw(null,a,P);b=0;for(c=P.length;b<c;++b)if(d=P[b],d.ja.solidEnabled&&this.tu(a,d))return G(P),d;G(P);return null};var ca=[];a.prototype.Tg=function(a,b){var c=null;b&&(c=ca,G(c));a.Wa();this.LD(a.M,a.Lb,P);var d,k,e;d=0;for(k=P.length;d<k;++d)if(e=P[d],e.ja.jumpthruEnabled&&this.Ld(a,e))if(b)c.push(e);else return G(P),e;G(P);return c};
a.prototype.If=function(a,b,c,d,k,e){d=d||50;var f=a.x,m=a.y,g,l=null,h=null;for(g=0;g<d;g++)if(a.x=f+b*g,a.y=m+c*g,a.X(),!this.Ld(a,l)&&((l=this.jd(a))&&(h=l),!l&&(k&&(e?l=this.Ld(a,e)?e:null:l=this.Tg(a),l&&(h=l)),!l)))return h&&this.Tt(a,b,c,h),!0;a.x=f;a.y=m;a.X();return!1};a.prototype.Tt=function(a,b,c,d){var k=2,e,f=!1;e=!1;for(var m=a.x,g=a.y;16>=k;)e=1/k,k*=2,a.x+=b*e*(f?1:-1),a.y+=c*e*(f?1:-1),a.X(),this.Ld(a,d)?e=f=!0:(e=f=!1,m=a.x,g=a.y);e&&(a.x=m,a.y=g,a.X())};a.prototype.ny=function(a,
b){var c=ka(b)?100:b,d=0,k=a.x,e=a.y,f=0,m=0,g=0,l=this.jd(a);if(!l)return!0;for(;d<=c;){switch(f){case 0:m=0;g=-1;d++;break;case 1:m=1;g=-1;break;case 2:m=1;g=0;break;case 3:g=m=1;break;case 4:m=0;g=1;break;case 5:m=-1;g=1;break;case 6:m=-1;g=0;break;case 7:g=m=-1}f=(f+1)%8;a.x=xa(k+m*d);a.y=xa(e+g*d);a.X();if(!this.Ld(a,l)&&(l=this.jd(a),!l))return!0}a.x=k;a.y=e;a.X();return!1};a.prototype.Ij=function(a,b){a.Ve&&b.Ve&&this.ln.push([a,b])};a.prototype.$B=function(a,b){var c,d,k;c=0;for(d=this.ln.length;c<
d;c++)if(k=this.ln[c],k[0]==a&&k[1]==b||k[0]==b&&k[1]==a)return!0;return!1};a.prototype.YB=function(a,b,c){var d=a.x,k=a.y,e=ta(10,db(b,c,d,k)),f=Xa(b,c,d,k),m=this.jd(a);if(!m)return Ta(f+va);var g=m,l,h,n,q,r=Pa(5);for(l=1;36>l;l++)if(h=f-l*r,a.x=b+Math.cos(h)*e,a.y=c+Math.sin(h)*e,a.X(),!this.Ld(a,g)&&(g=this.jd(a),!g)){n=h;break}36===l&&(n=Ta(f+va));g=m;for(l=1;36>l;l++)if(h=f+l*r,a.x=b+Math.cos(h)*e,a.y=c+Math.sin(h)*e,a.X(),!this.Ld(a,g)&&(g=this.jd(a),!g)){q=h;break}36===l&&(q=Ta(f+va));a.x=
d;a.y=k;a.X();if(q===n)return q;a=Ya(q,n)/2;a=$a(q,n)?Ta(n+a+va):Ta(q+a);n=Math.cos(f);f=Math.sin(f);q=Math.cos(a);a=Math.sin(a);b=n*q+f*a;return Xa(0,0,n-2*b*q,f-2*b*a)};var R=-1;a.prototype.trigger=function(a,b,c){if(!this.ub)return!1;var d=this.ub.aj;if(!d)return!1;var k=!1,e,f,m;R++;var g=d.Or;f=0;for(m=g.length;f<m;++f)e=this.gz(a,b,g[f],c),k=k||e;e=this.gz(a,b,d,c);R--;return k||e};a.prototype.gz=function(a,b,c,d){var k=!1,e,f,m,g;if(b)for(m=this.Cu(a,b,b.type.name,c,d),k=k||m,g=b.type.$b,e=
0,f=g.length;e<f;++e)m=this.Cu(a,b,g[e].name,c,d),k=k||m;else m=this.Cu(a,b,"system",c,d),k=k||m;return k};a.prototype.Cu=function(a,b,c,d,k){var e,f=!1,m=!1,m="undefined"!==typeof k,g=(m?d.fw:d.hz)[c];if(!g)return f;var l=null;d=0;for(e=g.length;d<e;++d)if(g[d].method==a){l=g[d].Jl;break}if(!l)return f;var h;m?h=l[k]:h=l;if(!h)return null;d=0;for(e=h.length;d<e;d++)a=h[d][0],k=h[d][1],m=this.sD(b,c,a,k),f=f||m;return f};a.prototype.sD=function(a,b,c,d){var k,e,f=!1;this.Du++;var m=this.Cc().$c;m&&
this.cn(m.Fi);var g=1<this.Du;this.cn(c.Fi);g&&this.kF();var l=this.hq(c);l.$c=c;a&&(k=this.types[b].Ma(),k.kb=!1,G(k.F),k.F[0]=a,this.types[b].Te());a=!0;if(c.parent){b=l.Wy;for(k=c.parent;k;)b.push(k),k=k.parent;b.reverse();k=0;for(e=b.length;k<e;k++)if(!b[k].xF()){a=!1;break}}a&&(this.cj++,c.gf?c.wF(d):c.Hc(),f=f||l.sj);this.bq();g&&this.aF();this.yi(c.Fi);m&&this.yi(m.Fi);this.di&&0===this.cf&&0===R&&!this.Os&&this.xd();this.Du--;return f};a.prototype.Sl=function(){var a=this.Cc();return a.$c.Oc[a.xc]};
a.prototype.rE=function(){return 0===this.Cc().xc};a.prototype.FD=function(){var a=this.Cc();return a.$c.sf[a.Re]};a.prototype.kF=function(){this.Dp++;this.Dp>=this.nt.length&&this.nt.push([])};a.prototype.aF=function(){this.Dp--};a.prototype.uw=function(){return this.nt[this.Dp]};a.prototype.hq=function(a){this.Jo++;this.Jo>=this.Ur.length&&this.Ur.push(new Ac);var b=this.Cc();b.reset(a);return b};a.prototype.bq=function(){this.Jo--};a.prototype.Cc=function(){return this.Ur[this.Jo]};a.prototype.lF=
function(){this.Fp++;this.Fp>=this.pt.length&&this.pt.push(aa({name:void 0,index:0,hd:!1}));var a=this.GD();a.name=void 0;a.index=0;a.hd=!1;return a};a.prototype.bF=function(){this.Fp--};a.prototype.GD=function(){return this.pt[this.Fp]};a.prototype.vw=function(a,b){for(var c,d,k,e,f,m;b;){c=0;for(d=b.Mf.length;c<d;c++)if(m=b.Mf[c],m instanceof Bc&&Wb(a,m.name))return m;b=b.parent}c=0;for(d=this.gh.length;c<d;c++)for(f=this.gh[c],k=0,e=f.$h.length;k<e;k++)if(m=f.$h[k],m instanceof Bc&&Wb(a,m.name))return m;
return null};a.prototype.yw=function(a){var b,c;b=0;for(c=this.ag.length;b<c;b++)if(this.ag[b].Za===a)return this.ag[b];return null};a.prototype.ok=function(a){var b,c;b=0;for(c=this.wa.length;b<c;b++)if(this.wa[b].Za===a)return this.wa[b];return null};a.prototype.ID=function(a){var b,c;b=0;for(c=this.ak.length;b<c;b++)if(this.ak[b].Za===a)return this.ak[b];return null};a.prototype.lC=function(a,b){this.wn=[a,b];this.Va=!0};a.prototype.jE=function(){var a=this,c=this.gu,d=this.nh,k=this.xp,m=!1;this.Oy&&
(m=!0,c="__c2_continuouspreview",this.Oy=!1);if(c.length){this.xd();d=this.BF();if(b()&&!this.Af)e(c,d,function(){fa("Saved state to IndexedDB storage ("+d.length+" bytes)");a.nh=d;a.trigger(L.prototype.D.cr,null);a.nh="";m&&f()},function(b){try{localStorage.setItem("__c2save_"+c,d),fa("Saved state to WebStorage ("+d.length+" bytes)"),a.nh=d,a.trigger(L.prototype.D.cr,null),a.nh="",m&&f()}catch(k){fa("Failed to save game state: "+b+"; "+k),a.trigger(L.prototype.D.lv,null)}});else try{localStorage.setItem("__c2save_"+
c,d),fa("Saved state to WebStorage ("+d.length+" bytes)"),a.nh=d,this.trigger(L.prototype.D.cr,null),a.nh="",m&&f()}catch(g){fa("Error saving to WebStorage: "+g),a.trigger(L.prototype.D.lv,null)}this.Hd=this.xp=this.gu=""}if(k.length){if(b()&&!this.Af)h(k,function(b){b?(a.Hd=b,fa("Loaded state from IndexedDB storage ("+a.Hd.length+" bytes)")):(a.Hd=localStorage.getItem("__c2save_"+k)||"",fa("Loaded state from WebStorage ("+a.Hd.length+" bytes)"));a.yn=!1;a.Hd.length||a.trigger(L.prototype.D.$q,null)},
function(){a.Hd=localStorage.getItem("__c2save_"+k)||"";fa("Loaded state from WebStorage ("+a.Hd.length+" bytes)");a.yn=!1;a.Hd.length||a.trigger(L.prototype.D.$q,null)});else{try{this.Hd=localStorage.getItem("__c2save_"+k)||"",fa("Loaded state from WebStorage ("+this.Hd.length+" bytes)")}catch(l){this.Hd=""}this.yn=!1;a.Hd.length||a.trigger(L.prototype.D.$q,null)}this.gu=this.xp=""}this.Hd.length&&(this.xd(),this.DE(this.Hd),this.nh=this.Hd,this.trigger(L.prototype.D.KA,null),this.Hd=this.nh="")};
a.prototype.BF=function(){var a,b,c,d,k,e,f,m={c2save:!0,version:1,rt:{time:this.dd.Sa,walltime:this.Gh.Sa,timescale:this.ig,tickcount:this.lf,execcount:this.cj,next_uid:this.Tm,running_layout:this.ub.Za,start_time_offset:Date.now()-this.zq},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.wa.length;a<b;a++)if(k=this.wa[a],!k.Ca&&!this.Eu(k)){e={instances:[]};lb(k.ja)&&(e.ex=g(k.ja));c=0;for(d=k.F.length;c<d;c++)e.instances.push(this.fu(k.F[c]));m.types[k.Za.toString()]=
e}a=0;for(b=this.ag.length;a<b;a++)c=this.ag[a],m.layouts[c.Za.toString()]=c.Sb();d=m.events.groups;a=0;for(b=this.ak.length;a<b;a++)c=this.ak[a],d[c.Za.toString()]=this.qk[c.Zl].gj;b=m.events.cnds;for(f in this.Th)this.Th.hasOwnProperty(f)&&(a=this.Th[f],lb(a.ja)&&(b[f]={ex:g(a.ja)}));b=m.events.acts;for(f in this.Ph)this.Ph.hasOwnProperty(f)&&(a=this.Ph[f],lb(a.ja)&&(b[f]={ex:g(a.ja)}));b=m.events.vars;for(f in this.hl)this.hl.hasOwnProperty(f)&&(a=this.hl[f],a.np||a.parent&&!a.tm||(b[f]=a.data));
m.system=this.Rg.Sb();return JSON.stringify(m)};a.prototype.ty=function(){var a,b,c,d,k,e;this.wh={};a=0;for(b=this.wa.length;a<b;a++)if(c=this.wa[a],!c.Ca)for(d=0,k=c.F.length;d<k;d++)e=c.F[d],this.wh[e.uid.toString()]=e};a.prototype.DE=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.lm=!0;var b=a.rt;this.dd.reset();this.dd.Sa=b.time;this.Gh.reset();this.Gh.Sa=b.walltime||0;this.ig=b.timescale;this.lf=b.tickcount;this.cj=b.execcount;this.zq=Date.now()-b.start_time_offset;var c=b.running_layout;
if(c!==this.ub.Za)if(c=this.yw(c))this.$v(c);else return;var d,k,e,f,m,g,l;g=a.types;for(k in g)if(g.hasOwnProperty(k)&&(f=this.ok(parseInt(k,10)))&&!f.Ca&&!this.Eu(f)){g[k].ex?f.ja=g[k].ex:mb(f.ja);m=f.F;e=g[k].instances;c=0;for(d=ua(m.length,e.length);c<d;c++)this.yp(m[c],e[c]);c=e.length;for(d=m.length;c<d;c++)this.Pe(m[c]);c=m.length;for(d=e.length;c<d;c++){m=null;if(f.jb.gi&&(m=this.ub.$o(e[c].w.l),!m))continue;m=this.Vh(f.wf,m,!1,0,0,!0);this.yp(m,e[c])}f.$k=!0}this.xd();this.ty();d=a.layouts;
for(k in d)d.hasOwnProperty(k)&&(c=this.yw(parseInt(k,10)))&&c.Wb(d[k]);d=a.events.groups;for(k in d)d.hasOwnProperty(k)&&(c=this.ID(parseInt(k,10)))&&this.qk[c.Zl]&&this.qk[c.Zl].sq(d[k]);c=a.events.cnds;for(k in this.Th)this.Th.hasOwnProperty(k)&&(c.hasOwnProperty(k)?this.Th[k].ja=c[k].ex:this.Th[k].ja={});c=a.events.acts;for(k in this.Ph)this.Ph.hasOwnProperty(k)&&(c.hasOwnProperty(k)?this.Ph[k].ja=c[k].ex:this.Ph[k].ja={});c=a.events.vars;for(k in c)c.hasOwnProperty(k)&&this.hl.hasOwnProperty(k)&&
(this.hl[k].data=c[k]);this.Tm=b.next_uid;this.lm=!1;c=0;for(d=this.No.length;c<d;++c)m=this.No[c],this.trigger(Object.getPrototypeOf(m.type.jb).D.Mh,m);G(this.No);this.Rg.Wb(a.system);c=0;for(d=this.wa.length;c<d;c++)if(f=this.wa[c],!f.Ca&&!this.Eu(f))for(k=0,a=f.F.length;k<a;k++){m=f.F[k];if(f.Gd)for(g=m.Yl(),G(m.siblings),b=0,e=f.De.length;b<e;b++)l=f.De[b],f!==l&&m.siblings.push(l.F[g]);m.Se&&m.Se();if(m.Ja)for(b=0,e=m.Ja.length;b<e;b++)g=m.Ja[b],g.Se&&g.Se()}this.Va=!0}};a.prototype.fu=function(a,
b){var c,d,k,e,f;e=a.type;k=e.jb;var m={};b?m.c2=!0:m.uid=a.uid;lb(a.ja)&&(m.ex=g(a.ja));if(a.Ob&&a.Ob.length)for(m.ivs={},c=0,d=a.Ob.length;c<d;c++)m.ivs[a.type.Is[c].toString()]=a.Ob[c];if(k.gi){k={x:a.x,y:a.y,w:a.width,h:a.height,l:a.M.Za,zi:a.Eg()};0!==a.K&&(k.a=a.K);1!==a.opacity&&(k.o=a.opacity);.5!==a.Wd&&(k.hX=a.Wd);.5!==a.Xd&&(k.hY=a.Xd);0!==a.yd&&(k.bm=a.yd);a.visible||(k.v=a.visible);a.Ve||(k.ce=a.Ve);-1!==a.Sm&&(k.mts=a.Sm);if(e.Qa.length)for(k.fx=[],c=0,d=e.Qa.length;c<d;c++)f=e.Qa[c],
k.fx.push({name:f.name,active:a.Oh[f.index],params:a.fc[f.index]});m.w=k}if(a.Ja&&a.Ja.length)for(m.behs={},c=0,d=a.Ja.length;c<d;c++)e=a.Ja[c],e.Sb&&(m.behs[e.type.Za.toString()]=e.Sb());a.Sb&&(m.data=a.Sb());return m};a.prototype.KD=function(a,b){var c,d;c=0;for(d=a.Is.length;c<d;c++)if(a.Is[c]===b)return c;return-1};a.prototype.ED=function(a,b){var c,d;c=0;for(d=a.Ja.length;c<d;c++)if(a.Ja[c].type.Za===b)return c;return-1};a.prototype.yp=function(a,b,c){var d,k,e,f,m;m=a.type;f=m.jb;if(c){if(!b.c2)return}else a.uid=
b.uid;b.ex?a.ja=b.ex:mb(a.ja);if(k=b.ivs)for(d in k)k.hasOwnProperty(d)&&(e=this.KD(m,parseInt(d,10)),0>e||e>=a.Ob.length||(a.Ob[e]=k[d]));if(f.gi){e=b.w;a.M.Za!==e.l&&(k=a.M,a.M=this.ub.$o(e.l),a.M?(k.Vk(a,!0),a.M.wl(a,!0),a.X(),a.M.rn(0)):(a.M=k,c||this.Pe(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.mg=e.zi;a.K=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.Wd=e.hasOwnProperty("hX")?e.hX:.5;a.Xd=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.Ve=
e.hasOwnProperty("ce")?e.ce:!0;a.Sm=e.hasOwnProperty("mts")?e.mts:-1;a.yd=e.hasOwnProperty("bm")?e.bm:0;a.Bl=Hb(a.yd);this.ya&&Mb(a,a.yd,this.ya);a.X();if(e.hasOwnProperty("fx"))for(c=0,k=e.fx.length;c<k;c++)f=m.ls(e.fx[c].name),0>f||(a.Oh[f]=e.fx[c].active,a.fc[f]=e.fx[c].params);a.kg()}if(m=b.behs)for(d in m)m.hasOwnProperty(d)&&(c=this.ED(a,parseInt(d,10)),0>c||a.Ja[c].Wb(m[d]));b.data&&a.Wb(b.data)};a.prototype.gw=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(b,c)},c)};a.prototype.iw=function(a,b){this.gw("data.js",function(c){var d=new FileReader;d.onload=function(b){a(b.target.result)};d.onerror=b;d.readAsText(c)},b)};a.prototype.hw=function(a,b,c){this.gw(a,function(a){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.tD=function(a,b,c){this.hw(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},c)};a.prototype.Cy=function(a,b){this.qm?this.tD(b,function(b){a.src=b},
function(a){alert("Failed to load image: "+a)}):a.src=b};Cc=function(b){return new a(document.getElementById(b))};Dc=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=Cc;window.cr_createDCRuntime=Dc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.j=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.lC(a,c)};
window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.i=a;this.aj=null;this.scrollX=this.i.Gc/2;this.scrollY=this.i.Fc/2;this.scale=1;this.K=0;this.lk=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.kz=b[3];this.Ly=b[4];this.Za=b[5];var c=b[6],d,e;this.Ra=[];this.fm=[];d=0;for(e=c.length;d<e;d++){var f=new Ec(this,c[d]);f.Lx=d;this.Ra.push(f)}c=b[7];this.kj=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.i.wa[f[1]];g.wf||(g.wf=f);this.kj.push(f);-1===this.fm.indexOf(g)&&this.fm.push(g)}this.Qa=[];this.xb=[];
this.Bh=!0;this.fc=[];d=0;for(e=b[8].length;d<e;d++)this.Qa.push({id:b[8][d][0],name:b[8][d][1],Ic:-1,dg:!1,ie:!0,index:d}),this.fc.push(b[8][d][2].slice(0));this.kg();this.Ai=new Aa(0,0,1,1);this.Xt=new Aa(0,0,1,1);this.wi={}}function c(a,b){return a.mg-b.mg}function b(a,b){this.sc=a;this.i=a.i;this.F=[];this.scale=1;this.K=0;this.eh=!1;this.Eh=new Aa(0,0,0,0);this.ez=new Ba;this.Gb=this.Cb=this.Hb=this.Bb=0;this.Uj=!1;this.Ih=-1;this.Hr=0;this.name=b[0];this.index=b[1];this.Za=b[2];this.visible=
b[3];this.Tf=b[4];this.jg=b[5];this.pe=b[6];this.qe=b[7];this.opacity=b[8];this.Uo=b[9];this.of=b[10];this.Qd=b[11];this.yd=b[12];this.MC=b[13];this.Bl="source-over";this.Ed=this.Id=0;this.vd=null;this.oh=d();this.gg=!0;this.Hk=new Aa(0,0,-1,-1);this.nd=new Aa(0,0,-1,-1);this.of&&(this.vd=new Gb(this.i.Gc,this.i.Fc));this.Pg=!1;var c=b[14],e,f;this.Sy=[];this.$e=[];this.Dl=[];e=0;for(f=c.length;e<f;e++){var g=c[e],l=this.i.wa[g[1]];l.wf||(l.wf=g,l.Wv=this.index);this.$e.push(g);-1===this.sc.fm.indexOf(l)&&
this.sc.fm.push(l)}Ha(this.Sy,this.$e);this.Qa=[];this.xb=[];this.Bh=!0;this.fc=[];e=0;for(f=b[15].length;e<f;e++)this.Qa.push({id:b[15][e][0],name:b[15][e][1],Ic:-1,dg:!1,ie:!0,index:e}),this.fc.push(b[15][e][2].slice(0));this.kg();this.Ai=new Aa(0,0,1,1);this.Xt=new Aa(0,0,1,1)}function d(){return g.length?g.pop():[]}function e(a){G(a);g.push(a)}a.prototype.AF=function(a){var b=a.type.Za.toString();this.wi.hasOwnProperty(b)||(this.wi[b]=[]);this.wi[b].push(this.i.fu(a))};a.prototype.Cw=function(){var a=
this.Ra[0];return!a.jg&&1===a.opacity&&!a.Uo&&a.visible};a.prototype.kg=function(){G(this.xb);this.Bh=!0;var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.ie&&(this.xb.push(c),c.dg||(this.Bh=!1))};a.prototype.ks=function(a){var b,c,d;b=0;for(c=this.Qa.length;b<c;b++)if(d=this.Qa[b],d.name===a)return d;return null};var h=[],f=!0;a.prototype.qu=function(){this.Ly&&(this.aj=this.i.Vr[this.Ly],this.aj.Gu());this.i.ub=this;this.scrollX=this.i.Gc/2;this.scrollY=this.i.Fc/2;var a,b,d,e,g,l,n;a=0;
for(d=this.i.wa.length;a<d;a++)if(b=this.i.wa[a],!b.Ca)for(g=b.F,b=0,e=g.length;b<e;b++)if(l=g[b],l.M){var q=l.M.Lx;q>=this.Ra.length&&(q=this.Ra.length-1);l.M=this.Ra[q];-1===l.M.F.indexOf(l)&&l.M.F.push(l);l.M.Uj=!0}if(!f)for(a=0,d=this.Ra.length;a<d;++a)this.Ra[a].F.sort(c);G(h);this.WB();a=0;for(d=this.Ra.length;a<d;a++)l=this.Ra[a],l.hC(),l.Rq();g=!1;if(!this.lk){for(n in this.wi)if(this.wi.hasOwnProperty(n)&&(b=this.i.ok(parseInt(n,10)))&&!b.Ca&&this.i.Fu(b)){e=this.wi[n];a=0;for(d=e.length;a<
d;a++){l=null;if(b.jb.gi&&(l=this.$o(e[a].w.l),!l))continue;l=this.i.Vh(b.wf,l,!1,0,0,!0);this.i.yp(l,e[a]);g=!0;h.push(l)}G(e)}a=0;for(d=this.Ra.length;a<d;a++)this.Ra[a].F.sort(c),this.Ra[a].Uj=!0}g&&(this.i.xd(),this.i.ty());for(a=0;a<h.length;a++)if(l=h[a],l.type.Gd)for(d=l.Yl(),b=0,e=l.type.De.length;b<e;b++)n=l.type.De[b],l.type!==n&&(n.F.length>d?l.siblings.push(n.F[d]):n.wf&&(g=this.i.Vh(n.wf,l.M,!0,l.x,l.y,!0),this.i.xd(),n.Pq(),l.siblings.push(g),h.push(g)));a=0;for(d=this.kj.length;a<d;a++)this.i.Vh(this.kj[a],
null,!0);this.i.zl=null;this.i.xd();if(this.i.zb&&!this.i.Ya)for(a=0,d=this.i.wa.length;a<d;a++)n=this.i.wa[a],!n.Ca&&n.F.length&&n.fq&&n.fq(this.i.zb);if(this.i.lm)Ha(this.i.No,h);else for(a=0,d=h.length;a<d;a++)l=h[a],this.i.trigger(Object.getPrototypeOf(l.type.jb).D.Mh,l);G(h);this.i.lm||this.i.trigger(L.prototype.D.dv,null);this.lk=!1};a.prototype.gC=function(){var a,b,c,d,e;b=a=0;for(c=this.kj.length;a<c;a++)d=this.kj[a],e=this.i.wa[d[1]],e.global?e.Gd||this.i.Vh(d,null,!0):(this.kj[b]=d,b++);
Fa(this.kj,b)};a.prototype.MF=function(){this.i.lm||this.i.trigger(L.prototype.D.JA,null);this.i.Ls=!0;G(this.i.Rg.Oe);var a,b,c,d,e,g;if(!this.lk)for(a=0,b=this.Ra.length;a<b;a++)for(this.Ra[a].Iu(),e=this.Ra[a].F,c=0,d=e.length;c<d;c++)g=e[c],g.type.global||this.i.Fu(g.type)&&this.AF(g);a=0;for(b=this.Ra.length;a<b;a++){e=this.Ra[a].F;c=0;for(d=e.length;c<d;c++)g=e[c],g.type.global||this.i.Pe(g);this.i.xd();G(e);this.Ra[a].Uj=!0}a=0;for(b=this.i.wa.length;a<b;a++)if(e=this.i.wa[a],!(e.global||e.jb.gi||
e.jb.yq||e.Ca)){c=0;for(d=e.F.length;c<d;c++)this.i.Pe(e.F[c]);this.i.xd()}f=!1;this.i.Ls=!1};new Aa(0,0,0,0);a.prototype.We=function(a){var b,c=a,d=!1,e=!this.i.Xe;e&&(this.i.wp||(this.i.wp=document.createElement("canvas"),b=this.i.wp,b.width=this.i.Ga,b.height=this.i.Fa,this.i.$w=b.getContext("2d"),d=!0),b=this.i.wp,c=this.i.$w,b.width!==this.i.Ga&&(b.width=this.i.Ga,d=!0),b.height!==this.i.Fa&&(b.height=this.i.Fa,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.bb,c.mozImageSmoothingEnabled=this.i.bb,
c.msImageSmoothingEnabled=this.i.bb,c.imageSmoothingEnabled=this.i.bb));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.i.sr&&!this.Cw()&&c.clearRect(0,0,this.i.Ga,this.i.Fa);var f,g,d=0;for(f=this.Ra.length;d<f;d++)g=this.Ra[d],g.visible&&0<g.opacity&&11!==g.yd&&(g.F.length||!g.jg)?g.We(c):g.Rq();e&&a.drawImage(b,0,0,this.i.width,this.i.height)};a.prototype.Yh=function(a){a.By(!0);this.i.Dc||(this.i.Dc=a.Ee(this.i.Ga,this.i.Fa,this.i.bb));if(this.i.Dc.Vi!==this.i.Ga||this.i.Dc.Ui!==
this.i.Fa)a.deleteTexture(this.i.Dc),this.i.Dc=a.Ee(this.i.Ga,this.i.Fa,this.i.bb);a.Kf(this.i.Dc);this.i.Xe||a.Lj(this.i.Ga,this.i.Fa);var b,c;for(b=this.Ra.length-1;0<=b;--b)c=this.Ra[b],c.visible&&1===c.opacity&&c.Bh&&0===c.yd&&(c.F.length||!c.jg)?c.Yh(a):c.Rq();a.By(!1)};a.prototype.od=function(a){var b=0<this.xb.length||this.i.fl||!this.i.Xe||this.i.Nb;if(b){this.i.Dc||(this.i.Dc=a.Ee(this.i.Ga,this.i.Fa,this.i.bb));if(this.i.Dc.Vi!==this.i.Ga||this.i.Dc.Ui!==this.i.Fa)a.deleteTexture(this.i.Dc),
this.i.Dc=a.Ee(this.i.Ga,this.i.Fa,this.i.bb);a.Kf(this.i.Dc);this.i.Xe||a.Lj(this.i.Ga,this.i.Fa)}else this.i.Dc&&(a.Kf(null),a.deleteTexture(this.i.Dc),this.i.Dc=null);this.i.sr&&!this.Cw()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Ra.length;c<d;c++)e=this.Ra[c],e.visible&&0<e.opacity&&(e.F.length||!e.jg)?e.od(a):e.Rq();b&&(0===this.xb.length||1===this.xb.length&&this.i.Xe?(1===this.xb.length?(b=this.xb[0].index,a.xe(this.xb[0].Ic),a.Yk(null,1/this.i.Ga,1/this.i.Fa,0,0,1,1,this.scale,this.K,0,
0,this.i.Ga/2,this.i.Fa/2,this.i.dd.Sa,this.fc[b]),a.gq(this.xb[0].Ic)&&(this.i.Va=!0)):a.xe(0),this.i.Xe||a.Lj(this.i.width,this.i.height),a.Kf(null),a.Ay(!1),a.Ei(1),a.we(this.i.Dc),a.yy(),a.Jf(),a.nf(),b=this.i.width/2,c=this.i.height/2,a.gn(-b,c,b,c,b,-c,-b,-c),a.we(null),a.Ay(!0)):this.$t(a,null,null,null))};a.prototype.Vl=function(){return 0<this.xb.length||this.i.fl||!this.i.Xe||this.i.Nb?this.i.Dc:null};a.prototype.zw=function(){var a=this.Ra[0].Vd(),b,c,d;b=1;for(c=this.Ra.length;b<c;b++)d=
this.Ra[b],(0!==d.pe||0!==d.qe)&&d.Vd()<a&&(a=d.Vd());return a};a.prototype.hu=function(a){if(!this.kz){var b=1/this.zw()*this.i.Ga/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.i.Va=!0)};a.prototype.iu=function(a){if(!this.kz){var b=1/this.zw()*this.i.Fa/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.i.Va=!0)};a.prototype.WB=function(){this.hu(this.scrollX);this.iu(this.scrollY)};a.prototype.$t=function(a,b,c,d){var e=
c?c.xb:b?b.xb:this.xb,f=1,g=0,l=0,h=0,n=this.i.Ga,E=this.i.Fa;c?(f=c.M.Vd(),g=c.M.Qb(),l=c.M.Bb,h=c.M.Cb,n=c.M.Hb,E=c.M.Gb):b&&(f=b.Vd(),g=b.Qb(),l=b.Bb,h=b.Cb,n=b.Hb,E=b.Gb);var A=this.i.es,D,C,w,y,H=0,I=1,P,ca,R=this.i.Ga,F=this.i.Fa,Z=R/2,T=F/2,S=b?b.Ai:this.Ai,J=b?b.Xt:this.Xt,M=0,O=0,K=0,N=0,U=R,ha=R,Q=F,sa=F,oa=w=0;y=c?c.M.Qb():0;if(c){D=0;for(C=e.length;D<C;D++)w+=a.PD(e[D].Ic),oa+=a.QD(e[D].Ic);N=c.Lb;M=b.Ab(N.left,N.top,!0,!0);K=b.Ab(N.left,N.top,!1,!0);U=b.Ab(N.right,N.bottom,!0,!0);Q=b.Ab(N.right,
N.bottom,!1,!0);0!==y&&(D=b.Ab(N.right,N.top,!0,!0),C=b.Ab(N.right,N.top,!1,!0),O=b.Ab(N.left,N.bottom,!0,!0),N=b.Ab(N.left,N.bottom,!1,!0),y=Math.min(M,U,D,O),U=Math.max(M,U,D,O),M=y,y=Math.min(K,Q,C,N),Q=Math.max(K,Q,C,N),K=y);M-=w;K-=oa;U+=w;Q+=oa;J.left=M/R;J.top=1-K/F;J.right=U/R;J.bottom=1-Q/F;O=M=xa(M);N=K=xa(K);ha=U=ya(U);sa=Q=ya(Q);O-=w;N-=oa;ha+=w;sa+=oa;0>M&&(M=0);0>K&&(K=0);U>R&&(U=R);Q>F&&(Q=F);0>O&&(O=0);0>N&&(N=0);ha>R&&(ha=R);sa>F&&(sa=F);S.left=M/R;S.top=1-K/F;S.right=U/R;S.bottom=
1-Q/F}else S.left=J.left=0,S.top=J.top=0,S.right=J.right=1,S.bottom=J.bottom=1;oa=c&&(a.an(e[0].Ic)||0!==w||0!==oa||1!==c.opacity||c.type.jb.Gx)||b&&!c&&1!==b.opacity;a.yy();if(oa){A[H]||(A[H]=a.Ee(R,F,this.i.bb));if(A[H].Vi!==R||A[H].Ui!==F)a.deleteTexture(A[H]),A[H]=a.Ee(R,F,this.i.bb);a.xe(0);a.Kf(A[H]);ca=sa-N;a.clearRect(O,F-N-ca,ha-O,ca);c?c.od(a):(a.we(this.i.Sc),a.Ei(b.opacity),a.Jf(),a.translate(-Z,-T),a.nf(),a.fg(M,Q,U,Q,U,K,M,K,S));J.left=J.top=0;J.right=J.bottom=1;c&&(y=S.top,S.top=S.bottom,
S.bottom=y);H=1;I=0}a.Ei(1);w=e.length-1;var Va=a.St(e[w].Ic)||!b&&!c&&!this.i.Xe;D=y=0;for(C=e.length;D<C;D++){A[H]||(A[H]=a.Ee(R,F,this.i.bb));if(A[H].Vi!==R||A[H].Ui!==F)a.deleteTexture(A[H]),A[H]=a.Ee(R,F,this.i.bb);a.xe(e[D].Ic);y=e[D].index;a.gq(e[D].Ic)&&(this.i.Va=!0);0!=D||oa?(a.Yk(d,1/R,1/F,J.left,J.top,J.right,J.bottom,f,g,l,h,(l+n)/2,(h+E)/2,this.i.dd.Sa,c?c.fc[y]:b?b.fc[y]:this.fc[y]),a.we(null),D!==w||Va?(a.Kf(A[H]),ca=sa-N,P=F-N-ca,a.clearRect(O,P,ha-O,ca)):(c?a.Di(c.Id,c.Ed):b&&a.Di(b.Id,
b.Ed),a.Kf(d)),a.we(A[I]),a.Jf(),a.translate(-Z,-T),a.nf(),a.fg(M,Q,U,Q,U,K,M,K,S),D!==w||Va||a.we(null)):(a.Kf(A[H]),ca=sa-N,P=F-N-ca,a.clearRect(O,P,ha-O,ca),c?(c.Qc&&c.Qc.Ia?(P=c.Qc.Ia,I=1/P.width,P=1/P.height):(I=1/c.width,P=1/c.height),a.Yk(d,I,P,J.left,J.top,J.right,J.bottom,f,g,l,h,(l+n)/2,(h+E)/2,this.i.dd.Sa,c.fc[y]),c.od(a)):(a.Yk(d,1/R,1/F,0,0,1,1,f,g,l,h,(l+n)/2,(h+E)/2,this.i.dd.Sa,b?b.fc[y]:this.fc[y]),a.we(b?this.i.Sc:this.i.Dc),a.Jf(),a.translate(-Z,-T),a.nf(),a.fg(M,Q,U,Q,U,K,M,K,
S)),J.left=J.top=0,J.right=J.bottom=1,c&&!Va&&(y=Q,Q=K,K=y));H=0===H?1:0;I=0===H?1:0}Va&&(a.xe(0),c?a.Di(c.Id,c.Ed):b?a.Di(b.Id,b.Ed):this.i.Xe||(a.Lj(this.i.width,this.i.height),Z=this.i.width/2,T=this.i.height/2,K=M=0,U=this.i.width,Q=this.i.height),a.Kf(d),a.we(A[I]),a.Jf(),a.translate(-Z,-T),a.nf(),c&&1===e.length&&!oa?a.fg(M,K,U,K,U,Q,M,Q,S):a.fg(M,Q,U,Q,U,K,M,K,S),a.we(null))};a.prototype.$o=function(a){var b,c;b=0;for(c=this.Ra.length;b<c;b++)if(this.Ra[b].Za===a)return this.Ra[b];return null};
a.prototype.Sb=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.K,w:this.width,h:this.height,fv:this.lk,persist:this.wi,fx:[],layers:{}};a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],d.fx.push({name:c.name,active:c.ie,params:this.fc[c.index]});a=0;for(b=this.Ra.length;a<b;a++)c=this.Ra[a],d.layers[c.Za.toString()]=c.Sb();return d};a.prototype.Wb=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.K=a.a;this.width=a.w;this.height=a.h;this.wi=a.persist;
"undefined"!==typeof a.fv&&(this.lk=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.ks(f[b].name))d.ie=f[b].active,this.fc[d.index]=f[b].params;this.kg();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.$o(parseInt(e,10)))&&a.Wb(b[e])};qc=a;b.prototype.kg=function(){G(this.xb);this.Bh=!0;var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.ie&&(this.xb.push(c),c.dg||(this.Bh=!1))};b.prototype.ks=function(a){var b,c,d;b=0;for(c=this.Qa.length;b<c;b++)if(d=this.Qa[b],d.name===a)return d;
return null};b.prototype.hC=function(){var a,b,c,d,e,f;b=a=0;for(c=this.$e.length;a<c;a++){d=this.$e[a];e=this.i.wa[d[1]];f=this.i.Fu(e);e=!0;if(!f||this.sc.lk){d=this.i.Vh(d,this,!0);if(!d)continue;h.push(d);d.type.global&&(e=!1,this.Dl.push(d.uid))}e&&(this.$e[b]=this.$e[a],b++)}this.$e.length=b;this.i.xd();!this.i.ma&&this.Qa.length&&(this.yd=this.MC);this.Bl=Hb(this.yd);this.i.ya&&Mb(this,this.yd,this.i.ya);this.gg=!0};b.prototype.Vk=function(a,b){var c=Ka(this.F,a);0>c||(b&&this.of&&a.ue&&a.ue.right>=
a.ue.left&&(a.Wa(),this.vd.update(a,a.ue,null),a.ue.set(0,0,-1,-1)),c===this.F.length-1?this.F.pop():(Ea(this.F,c),this.rn(c)),this.gg=!0)};b.prototype.wl=function(a,b){a.mg=this.F.length;this.F.push(a);b&&this.of&&a.ue&&a.X();this.gg=!0};b.prototype.eF=function(a){this.F.unshift(a);this.rn(0)};b.prototype.KE=function(a,b,c){var d=a.Eg();b=b.Eg();Ea(this.F,d);d<b&&b--;c&&b++;b===this.F.length?this.F.push(a):this.F.splice(b,0,a);this.rn(d<b?d:b)};b.prototype.rn=function(a){-1===this.Ih?this.Ih=a:a<
this.Ih&&(this.Ih=a);this.gg=this.Uj=!0};b.prototype.Iu=function(){if(this.Uj){-1===this.Ih&&(this.Ih=0);var a,b,c;if(this.of)for(a=this.Ih,b=this.F.length;a<b;++a)c=this.F[a],c.mg=a,this.vd.GE(c.ue);else for(a=this.Ih,b=this.F.length;a<b;++a)this.F[a].mg=a;this.Uj=!1;this.Ih=-1}};b.prototype.Vd=function(a){return this.MD()*(this.i.Xe||a?this.i.xl:1)};b.prototype.MD=function(){return(this.scale*this.sc.scale-1)*this.Qd+1};b.prototype.Qb=function(){return this.eh?0:Ta(this.sc.K+this.K)};var g=[],l=
[],n=[];b.prototype.qs=function(){this.Iu();this.vd.iq(this.Bb,this.Cb,this.Hb,this.Gb,n);if(!n.length)return d();if(1===n.length){var a=d();Ha(a,n[0]);G(n);return a}for(var b=!0;1<n.length;){for(var a=n,c=void 0,f=void 0,g=void 0,h=void 0,v=void 0,c=0,f=a.length;c<f-1;c+=2){var g=a[c],h=a[c+1],v=d(),q=g,x=h,B=v,E=0,A=0,D=0,C=q.length,w=x.length,y=void 0,H=void 0;for(B.length=C+w;E<C&&A<w;++D)y=q[E],H=x[A],y.mg<H.mg?(B[D]=y,++E):(B[D]=H,++A);for(;E<C;++E,++D)B[D]=q[E];for(;A<w;++A,++D)B[D]=x[A];b||
(e(g),e(h));l.push(v)}1===f%2&&(b?(g=d(),Ha(g,a[f-1]),l.push(g)):l.push(a[f-1]));Ha(a,l);G(l);b=!1}a=n[0];G(n);return a};b.prototype.We=function(a){this.Pg=this.Uo||1!==this.opacity||0!==this.yd;var b=this.i.canvas,c=a,d=!1;this.Pg&&(this.i.vp||(this.i.vp=document.createElement("canvas"),b=this.i.vp,b.width=this.i.Ga,b.height=this.i.Fa,this.i.Zw=b.getContext("2d"),d=!0),b=this.i.vp,c=this.i.Zw,b.width!==this.i.Ga&&(b.width=this.i.Ga,d=!0),b.height!==this.i.Fa&&(b.height=this.i.Fa,d=!0),d&&(c.webkitImageSmoothingEnabled=
this.i.bb,c.mozImageSmoothingEnabled=this.i.bb,c.msImageSmoothingEnabled=this.i.bb,c.imageSmoothingEnabled=this.i.bb),this.jg&&c.clearRect(0,0,this.i.Ga,this.i.Fa));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.jg||(c.fillStyle="rgb("+this.Tf[0]+","+this.Tf[1]+","+this.Tf[2]+")",c.fillRect(0,0,this.i.Ga,this.i.Fa));c.save();this.eh=!0;var d=this.oc(0,0,!0,!0),f=this.oc(0,0,!1,!0);this.eh=!1;this.i.jf&&(d=Math.round(d),f=Math.round(f));this.lq(d,f,c);var g=this.Vd();c.scale(g,g);c.translate(-d,
-f);this.of?(this.nd.left=this.vd.fe(this.Bb),this.nd.top=this.vd.ge(this.Cb),this.nd.right=this.vd.fe(this.Hb),this.nd.bottom=this.vd.ge(this.Gb),this.gg||!this.nd.Hl(this.Hk)?(e(this.oh),d=this.qs(),this.gg=!1,this.Hk.fk(this.nd)):d=this.oh):d=this.F;for(var l,h=null,f=0,g=d.length;f<g;++f)l=d[f],l!==h&&(this.HC(l,c),h=l);this.of&&(this.oh=d);c.restore();this.Pg&&(a.globalCompositeOperation=this.Bl,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.HC=function(a,b){if(a.visible&&0!==a.width&&
0!==a.height){a.Wa();var c=a.Lb;c.right<this.Bb||c.bottom<this.Cb||c.left>this.Hb||c.top>this.Gb||(b.globalCompositeOperation=a.Bl,a.We(b))}};b.prototype.Rq=function(){this.eh=!0;var a=this.oc(0,0,!0,!0),b=this.oc(0,0,!1,!0);this.eh=!1;this.i.jf&&(a=Math.round(a),b=Math.round(b));this.lq(a,b,null)};b.prototype.lq=function(a,b,c){var d=this.Vd();this.Bb=a;this.Cb=b;this.Hb=a+1/d*this.i.Ga;this.Gb=b+1/d*this.i.Fa;this.Bb>this.Hb&&(a=this.Bb,this.Bb=this.Hb,this.Hb=a);this.Cb>this.Gb&&(a=this.Cb,this.Cb=
this.Gb,this.Gb=a);a=this.Qb();0!==a&&(c&&(c.translate(this.i.Ga/2,this.i.Fa/2),c.rotate(-a),c.translate(this.i.Ga/-2,this.i.Fa/-2)),this.Eh.set(this.Bb,this.Cb,this.Hb,this.Gb),this.Eh.offset((this.Bb+this.Hb)/-2,(this.Cb+this.Gb)/-2),this.ez.Jy(this.Eh,a),this.ez.Hv(this.Eh),this.Eh.offset((this.Bb+this.Hb)/2,(this.Cb+this.Gb)/2),this.Bb=this.Eh.left,this.Cb=this.Eh.top,this.Hb=this.Eh.right,this.Gb=this.Eh.bottom)};b.prototype.Yh=function(a){if(this.Pg=this.Uo){this.i.Sc||(this.i.Sc=a.Ee(this.i.Ga,
this.i.Fa,this.i.bb));if(this.i.Sc.Vi!==this.i.Ga||this.i.Sc.Ui!==this.i.Fa)a.deleteTexture(this.i.Sc),this.i.Sc=a.Ee(this.i.Ga,this.i.Fa,this.i.bb);a.Kf(this.i.Sc)}this.eh=!0;var b=this.oc(0,0,!0,!0),c=this.oc(0,0,!1,!0);this.eh=!1;this.i.jf&&(b=Math.round(b),c=Math.round(c));this.lq(b,c,null);b=this.Vd();a.Jf();a.scale(b,b);a.mq(-this.Qb());a.translate((this.Bb+this.Hb)/-2,(this.Cb+this.Gb)/-2);a.nf();this.of?(this.nd.left=this.vd.fe(this.Bb),this.nd.top=this.vd.ge(this.Cb),this.nd.right=this.vd.fe(this.Hb),
this.nd.bottom=this.vd.ge(this.Gb),this.gg||!this.nd.Hl(this.Hk)?(e(this.oh),b=this.qs(),this.gg=!1,this.Hk.fk(this.nd)):b=this.oh):b=this.F;for(var d,f=null,c=b.length-1;0<=c;--c)d=b[c],d!==f&&(this.JC(b[c],a),f=d);this.of&&(this.oh=b);this.jg||(this.Hr=this.i.$i++,a.rq(this.Hr),a.zy(1,1,1),a.mw(),a.rF())};b.prototype.od=function(a){var b=0,c=0;if(this.Pg=this.Uo||1!==this.opacity||0<this.xb.length||0!==this.yd){this.i.Sc||(this.i.Sc=a.Ee(this.i.Ga,this.i.Fa,this.i.bb));if(this.i.Sc.Vi!==this.i.Ga||
this.i.Sc.Ui!==this.i.Fa)a.deleteTexture(this.i.Sc),this.i.Sc=a.Ee(this.i.Ga,this.i.Fa,this.i.bb);a.Kf(this.i.Sc);this.jg&&a.clear(0,0,0,0)}this.jg||(this.i.Nb?(a.rq(this.Hr),a.zy(this.Tf[0]/255,this.Tf[1]/255,this.Tf[2]/255),a.mw(),a.GF()):a.clear(this.Tf[0]/255,this.Tf[1]/255,this.Tf[2]/255,1));this.eh=!0;var d=this.oc(0,0,!0,!0),b=this.oc(0,0,!1,!0);this.eh=!1;this.i.jf&&(d=Math.round(d),b=Math.round(b));this.lq(d,b,null);d=this.Vd();a.Jf();a.scale(d,d);a.mq(-this.Qb());a.translate((this.Bb+this.Hb)/
-2,(this.Cb+this.Gb)/-2);a.nf();this.of?(this.nd.left=this.vd.fe(this.Bb),this.nd.top=this.vd.ge(this.Cb),this.nd.right=this.vd.fe(this.Hb),this.nd.bottom=this.vd.ge(this.Gb),this.gg||!this.nd.Hl(this.Hk)?(e(this.oh),b=this.qs(),this.gg=!1,this.Hk.fk(this.nd)):b=this.oh):b=this.F;var f,g,l=null,c=0;for(f=b.length;c<f;++c)g=b[c],g!==l&&(this.IC(b[c],a),l=g);this.of&&(this.oh=b);this.Pg&&(b=this.xb.length?this.xb[0].Ic:0,c=this.xb.length?this.xb[0].index:0,0===this.xb.length||1===this.xb.length&&!a.St(b)&&
1===this.opacity?(1===this.xb.length?(a.xe(b),a.Yk(this.sc.Vl(),1/this.i.Ga,1/this.i.Fa,0,0,1,1,d,this.Qb(),this.Bb,this.Cb,(this.Bb+this.Hb)/2,(this.Cb+this.Gb)/2,this.i.dd.Sa,this.fc[c]),a.gq(b)&&(this.i.Va=!0)):a.xe(0),a.Kf(this.sc.Vl()),a.Ei(this.opacity),a.we(this.i.Sc),a.Di(this.Id,this.Ed),a.Jf(),a.nf(),d=this.i.Ga/2,b=this.i.Fa/2,a.gn(-d,b,d,b,d,-b,-d,-b),a.we(null)):this.sc.$t(a,this,null,this.sc.Vl()))};b.prototype.IC=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Wa();var c=a.Lb;
c.right<this.Bb||c.bottom<this.Cb||c.left>this.Hb||c.top>this.Gb||(b.rq(a.$i),a.rz?this.KC(a,b):(b.xe(0),b.Di(a.Id,a.Ed),a.od(b)))}};b.prototype.JC=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Wa();var c=a.Lb;c.right<this.Bb||c.bottom<this.Cb||c.left>this.Hb||c.top>this.Gb||(a.$i=this.i.$i++,0===a.yd&&1===a.opacity&&a.Bh&&a.Yh&&(b.rq(a.$i),a.Yh(b)))}};b.prototype.KC=function(a,b){var c=a.xb[0].Ic,d=a.xb[0].index,e=this.Vd();if(1!==a.xb.length||b.St(c)||b.iF(c)||(a.K||a.M.Qb())&&b.an(c)||
1!==a.opacity||a.type.jb.Gx)this.sc.$t(b,this,a,this.Pg?this.i.Sc:this.sc.Vl()),b.Jf(),b.scale(e,e),b.mq(-this.Qb()),b.translate((this.Bb+this.Hb)/-2,(this.Cb+this.Gb)/-2),b.nf();else{b.xe(c);b.Di(a.Id,a.Ed);b.gq(c)&&(this.i.Va=!0);var f=0,g=0,l=0,h=0;b.an(c)&&(h=a.Lb,f=this.Ab(h.left,h.top,!0,!0),g=this.Ab(h.left,h.top,!1,!0),l=this.Ab(h.right,h.bottom,!0,!0),h=this.Ab(h.right,h.bottom,!1,!0),f=f/windowWidth,g=1-g/windowHeight,l=l/windowWidth,h=1-h/windowHeight);var n;a.Qc&&a.Qc.Ia?(n=a.Qc.Ia,c=
1/n.width,n=1/n.height):(c=1/a.width,n=1/a.height);b.Yk(this.Pg?this.i.Sc:this.sc.Vl(),c,n,f,g,l,h,e,this.Qb(),this.Bb,this.Cb,(this.Bb+this.Hb)/2,(this.Cb+this.Gb)/2,this.i.dd.Sa,a.fc[d]);a.od(b)}};b.prototype.oc=function(a,b,c,d){var e=this.i.devicePixelRatio;this.i.nj&&(a*=e,b*=e);var e=this.i.$x,f=this.i.ay,e=(this.sc.scrollX-e)*this.pe+e,f=(this.sc.scrollY-f)*this.qe+f,g=e,l=f,h=1/this.Vd(!d);d?(g-=this.i.Ga*h/2,l-=this.i.Fa*h/2):(g-=this.i.width*h/2,l-=this.i.height*h/2);g+=a*h;l+=b*h;b=this.Qb();
0!==b&&(g-=e,l-=f,a=Math.cos(b),b=Math.sin(b),d=g*a-l*b,l=l*a+g*b,g=d+e,l+=f);return c?g:l};b.prototype.Ab=function(a,b,c,d){var e=this.i.$x,f=this.i.ay,g=(this.sc.scrollX-e)*this.pe+e,l=(this.sc.scrollY-f)*this.qe+f,f=g,e=l,h=this.Qb();if(0!==h){a-=g;b-=l;var n=Math.cos(-h),h=Math.sin(-h),E=a*n-b*h;b=b*n+a*h;a=E+g;b+=l}g=1/this.Vd(!d);d?(f-=this.i.Ga*g/2,e-=this.i.Fa*g/2):(f-=this.i.width*g/2,e-=this.i.height*g/2);f=(a-f)/g;e=(b-e)/g;a=this.i.devicePixelRatio;this.i.nj&&!d&&(f/=a,e/=a);return c?
f:e};b.prototype.Sb=function(){var a,b,c,d={s:this.scale,a:this.K,vl:this.Bb,vt:this.Cb,vr:this.Hb,vb:this.Gb,v:this.visible,bc:this.Tf,t:this.jg,px:this.pe,py:this.qe,o:this.opacity,zr:this.Qd,fx:[],cg:this.Dl,instances:[]};a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],d.fx.push({name:c.name,active:c.ie,params:this.fc[c.index]});return d};b.prototype.Wb=function(a){var b,d,e;this.scale=a.s;this.K=a.a;this.Bb=a.vl;this.Cb=a.vt;this.Hb=a.vr;this.Gb=a.vb;this.visible=a.v;this.Tf=a.bc;this.jg=a.t;this.pe=
a.px;this.qe=a.py;this.opacity=a.o;this.Qd=a.zr;this.Dl=a.cg||[];Ha(this.$e,this.Sy);var f=new da;b=0;for(e=this.Dl.length;b<e;++b)f.add(this.Dl[b]);d=b=0;for(e=this.$e.length;b<e;++b)f.contains(this.$e[b][2])||(this.$e[d]=this.$e[b],++d);Fa(this.$e,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.ks(d[b].name))a.ie=d[b].active,this.fc[a.index]=d[b].params;this.kg();this.F.sort(c);this.Uj=!0};Ec=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,g;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=u.length&&(u.length=b.length+1);u[b.length]||(u[b.length]=[]);g=u[b.length];d=0;for(e=g.length;d<e;d++)if(f=g[d],a(b,f))return f;g.push(b);return b}
function d(a,b){this.i=a;this.hz={};this.fw={};this.zs=!1;this.Fw=new da;this.Or=[];this.tr=[];this.name=b[0];var c=b[1];this.$h=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Hw(c[d],null,this.$h)}function e(a){this.type=a;this.F=[];this.Xa=[];this.kb=!0}function h(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Ub=[];this.Fi=[];this.Dw=this.Jq=this.Bu=this.Fs=this.group=this.pu=!1;this.Oc=[];this.sf=[];this.Mf=[];this.Zl="";this.gj=this.Fs=this.group=!1;this.so=null;c[1]&&(this.Zl=c[1][1].toLowerCase(),
this.group=!0,this.Fs=!!c[1][0],this.so=[],this.gj=this.Fs,this.i.ak.push(this),this.i.qk[this.Zl]=this);this.gf=c[2];this.Za=c[4];this.group||(this.i.Gv[this.Za.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Fc(this,d[a]);e.index=a;this.Oc.push(e);this.zv(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Gc(this,d[a]),e.index=a,this.sf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Hw(c[a],this,this.Mf);this.pp=!1;this.Oc.length&&(this.pp=null==this.Oc[0].type&&
this.Oc[0].qd==L.prototype.D.Qu)}function f(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Gd))for(c=0,d=a.De.length;c<d;c++)e=a.De[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function g(a,b){this.Ue=a;this.sheet=a.sheet;this.i=a.i;this.fb=[];this.lc=[];this.ja={};this.index=-1;this.tl=!1;this.qd=this.i.Lh(b[1]);this.trigger=0<b[3];this.ew=2===b[3];this.Gg=b[4];this.sk=b[5];this.BE=b[6];this.Za=b[7];this.i.Th[this.Za.toString()]=this;-1===b[0]?(this.type=null,this.Hc=this.eu,this.Ti=null,this.Vf=
-1):(this.type=this.i.wa[b[0]],this.Hc=this.BE?this.yF:this.du,b[2]?(this.Ti=this.type.Wo(b[2]),this.Vf=this.type.hs(b[2])):(this.Ti=null,this.Vf=-1),this.Ue.parent&&this.Ue.parent.uq());this.ew&&(this.Hc=this.zF);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Hc(this,e[c]);this.fb.push(f)}this.lc.length=e.length}}function l(a,b){this.Ue=a;this.sheet=a.sheet;this.i=a.i;this.fb=[];this.lc=[];this.ja={};this.index=-1;this.tl=!1;this.qd=this.i.Lh(b[1]);-1===b[0]?(this.type=null,
this.Hc=this.eu,this.Ti=null,this.Vf=-1):(this.type=this.i.wa[b[0]],this.Hc=this.du,b[2]?(this.Ti=this.type.Wo(b[2]),this.Vf=this.type.hs(b[2])):(this.Ti=null,this.Vf=-1));this.Za=b[3];this.i.Ph[this.Za.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Hc(this,e[c]);this.fb.push(f)}this.lc.length=e.length}}function n(){v++;t.length===v&&t.push(new Kc);return t[v]}function k(a,b){this.Hf=a;this.Ue=a.Ue;this.sheet=a.sheet;this.i=a.i;this.type=b[0];this.Ag=null;this.Ch=
0;this.get=null;this.Qv=0;this.sc=null;this.key=0;this.object=null;this.index=0;this.Gn=this.Pj=this.Gn=this.Pj=this.jw=this.bj=this.Hn=null;this.Of=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Ag=new Sc(this,b[1]);this.Ch=0;this.get=this.XD;break;case 1:this.Ag=new Sc(this,b[1]);this.Ch=0;this.get=this.YD;break;case 5:this.Ag=new Sc(this,b[1]);this.Ch=0;this.get=this.bE;break;case 3:case 8:this.Qv=b[1];this.get=this.VD;break;case 6:this.sc=this.i.gt[b[1]];this.get=this.cE;break;case 9:this.key=b[1];
this.get=this.aE;break;case 4:this.object=this.i.wa[b[1]];this.get=this.dE;this.Ue.zv(this.object);this.Hf instanceof Gc?this.Ue.uq():this.Ue.parent&&this.Ue.parent.uq();break;case 10:this.index=b[1];a.type&&a.type.Ca?(this.get=this.ZD,this.Of=!0):this.get=this.$D;break;case 11:this.Hn=b[1];this.bj=null;this.get=this.WD;break;case 2:case 12:this.jw=b[1];this.get=this.UD;break;case 13:for(this.get=this.eE,this.Pj=[],this.Gn=[],c=1,d=b.length;c<d;c++)e=new Hc(this.Hf,b[c]),this.Pj.push(e),this.Gn.push(0)}}
function m(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Ub=[];this.name=c[1];this.Tq=c[2];this.gp=c[3];this.tm=!!c[4];this.np=!!c[5];this.Za=c[6];this.i.hl[this.Za.toString()]=this;this.data=this.gp;this.parent?(this.yj=this.tm||this.np?-1:this.i.JF++,this.i.QB.push(this)):(this.yj=-1,this.i.rr.push(this))}function p(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Ub=[];this.em=null;this.nE=c[1];this.ie=!0}function r(){this.Wy=[];this.reset(null)}var u=[];d.prototype.toString=function(){return this.name};
d.prototype.Hw=function(a,b,c){switch(a[0]){case 0:a=new Tc(this,b,a);if(a.gf)for(c.push(a),c=0,b=a.Oc.length;c<b;c++)a.Oc[c].trigger&&this.Iw(a,c);else a.Sw()?this.Iw(a,0):c.push(a);break;case 1:a=new Bc(this,b,a);c.push(a);break;case 2:a=new Uc(this,b,a),c.push(a)}};d.prototype.wc=function(){var a,b;a=0;for(b=this.$h.length;a<b;a++)this.$h[a].wc(a<b-1&&this.$h[a+1].pp)};d.prototype.Gu=function(){G(this.Or);G(this.tr);this.yv(this);G(this.tr)};d.prototype.yv=function(a){var b,c,d,e,f=a.Or,g=a.tr,
l=this.Fw.lg();b=0;for(c=l.length;b<c;++b)d=l[b],e=d.em,!d.ie||a===e||-1<g.indexOf(e)||(g.push(e),e.yv(a),f.push(e))};d.prototype.Hc=function(a){this.i.hH||(this.zs=!0,a||(this.i.Os=!0));var b,c;b=0;for(c=this.$h.length;b<c;b++){var d=this.$h[b];d.Hc();this.i.Gr(d.Ub);this.i.di&&this.i.xd()}a||(this.i.Os=!1)};d.prototype.Iw=function(a,b){a.gf||this.i.Mq.push(a);var c,d,e=a.Oc[b],f;e.type?f=e.type.name:f="system";var g=(c=e.ew)?this.fw:this.hz;g[f]||(g[f]=[]);f=g[f];g=e.qd;if(c){if(e.fb.length&&(e=
e.fb[0],1===e.type&&2===e.Ag.type)){e=e.Ag.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==g){c=f[c].Jl;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:g,Jl:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==g){f[c].Jl.push([a,b]);return}id&&g===id.prototype.D.Zj?f.unshift({method:g,Jl:[[a,b]]}):f.push({method:g,Jl:[[a,b]]})}};rc=d;e.prototype.ys=function(){return this.kb?this.type.F.length:this.F.length};e.prototype.Ud=function(){return this.kb?this.type.F:
this.F};e.prototype.Uk=function(a){a&&(a.i.Cc().$c.gf?(this.kb&&(G(this.F),Ha(this.Xa,a.type.F),this.kb=!1),a=this.Xa.indexOf(a),-1!==a&&(this.F.push(this.Xa[a]),this.Xa.splice(a,1))):(this.kb=!1,G(this.F),this.F[0]=a))};$b=e;window._c2hh_="5AFA373D7ADC68A1BB7AD7F0086E70B954407AFE";h.prototype.wc=function(a){var c,d=this.parent;if(this.group)for(this.Jq=!0;d;){if(!d.group){this.Jq=!1;break}d=d.parent}this.Bu=!this.Sw()&&(!this.parent||this.parent.group&&this.parent.Jq);this.Dw=!!a;this.Fi=this.Ub.slice(0);
for(d=this.parent;d;){a=0;for(c=d.Ub.length;a<c;a++)this.OB(d.Ub[a]);d=d.parent}this.Ub=b(this.Ub);this.Fi=b(this.Fi);a=0;for(c=this.Oc.length;a<c;a++)this.Oc[a].wc();a=0;for(c=this.sf.length;a<c;a++)this.sf[a].wc();a=0;for(c=this.Mf.length;a<c;a++)this.Mf[a].wc(a<c-1&&this.Mf[a+1].pp)};h.prototype.sq=function(a){if(this.gj!==!!a){this.gj=!!a;var b;a=0;for(b=this.so.length;a<b;++a)this.so[a].mz();0<b&&this.i.ub.aj&&this.i.ub.aj.Gu()}};h.prototype.zv=function(a){f(a,this.Ub)};h.prototype.OB=function(a){f(a,
this.Fi)};h.prototype.uq=function(){this.pu=!0;this.parent&&this.parent.uq()};h.prototype.Sw=function(){return this.Oc.length?this.Oc[0].trigger:!1};h.prototype.Hc=function(){var a,b,c=!1,d=this.i,e=this.i.Cc();e.$c=this;var f=this.Oc;this.pp||(e.Sr=!1);if(this.gf){0===f.length&&(c=!0);e.xc=0;for(a=f.length;e.xc<a;e.xc++)b=f[e.xc],b.trigger||(b=b.Hc())&&(c=!0);(e.sj=c)&&this.nq()}else{e.xc=0;for(a=f.length;e.xc<a;e.xc++)if(b=f[e.xc].Hc(),!b){e.sj=!1;this.Bu&&d.di&&d.xd();return}e.sj=!0;this.nq()}this.OC(e)};
h.prototype.OC=function(a){a.sj&&this.Dw&&(a.Sr=!0);this.Bu&&this.i.di&&this.i.xd()};h.prototype.wF=function(a){this.i.Cc().$c=this;this.Oc[a].Hc()&&(this.nq(),this.i.Cc().sj=!0)};h.prototype.nq=function(){var a=this.i.Cc(),b;a.Re=0;for(b=this.sf.length;a.Re<b;a.Re++)if(this.sf[a.Re].Hc())return;this.wy()};h.prototype.tF=function(){var a=this.i.Cc(),b;for(b=this.sf.length;a.Re<b;a.Re++)if(this.sf[a.Re].Hc())return;this.wy()};h.prototype.wy=function(){if(this.Mf.length){var a,b,c,d,e=this.Mf.length-
1;this.i.hq(this);if(this.pu)for(a=0,b=this.Mf.length;a<b;a++)c=this.Mf[a],(d=!this.Jq||!this.group&&a<e)&&this.i.dn(c.Ub),c.Hc(),d?this.i.yi(c.Ub):this.i.Gr(c.Ub);else for(a=0,b=this.Mf.length;a<b;a++)this.Mf[a].Hc();this.i.bq()}};h.prototype.xF=function(){var a=this.i.Cc();a.$c=this;var b=!1,c;a.xc=0;for(c=this.Oc.length;a.xc<c;a.xc++)if(this.Oc[a.xc].Hc())b=!0;else if(!this.gf)return!1;return this.gf?b:!0};h.prototype.cu=function(){this.i.cj++;var a=this.i.Cc().xc,b=this.i.hq(this);if(!this.gf)for(b.xc=
a+1,a=this.Oc.length;b.xc<a;b.xc++)if(!this.Oc[b.xc].Hc()){this.i.bq();return}this.nq();this.i.bq()};h.prototype.tE=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Oc[b].type===a.type)return!1;return!0};Tc=h;g.prototype.wc=function(){var a,b,c;a=0;for(b=this.fb.length;a<b;a++)c=this.fb[a],c.wc(),c.Of&&(this.tl=!0)};g.prototype.zF=function(){return!0};g.prototype.eu=function(){var a,b;a=0;for(b=this.fb.length;a<b;a++)this.lc[a]=this.fb[a].get();return ib(this.qd.apply(this.i.Rg,
this.lc),this.sk)};g.prototype.yF=function(){var a,b;a=0;for(b=this.fb.length;a<b;a++)this.lc[a]=this.fb[a].get();a=this.qd.apply(this.Ti?this.Ti:this.type,this.lc);this.type.Te();return a};g.prototype.du=function(){var a,b,c,d,e,f,g,l,h=this.type,k=h.Ma(),m=this.Ue.gf&&!this.trigger;b=0;var n=h.Gd,v=h.Ca,r=h.Bg,p=this.Vf,u=-1<p,t=this.tl,S=this.fb,J=this.lc,M=this.sk,O=this.qd,K;if(t)for(b=0,e=S.length;b<e;++b)f=S[b],f.Of||(J[b]=f.get(0));else for(b=0,e=S.length;b<e;++b)J[b]=S[b].get(0);if(k.kb){G(k.F);
G(k.Xa);K=h.F;a=0;for(d=K.length;a<d;++a){l=K[a];if(t)for(b=0,e=S.length;b<e;++b)f=S[b],f.Of&&(J[b]=f.get(a));u?(b=0,v&&(b=l.type.kk[r]),b=O.apply(l.Ja[p+b],J)):b=O.apply(l,J);(g=ib(b,M))?k.F.push(l):m&&k.Xa.push(l)}h.finish&&h.finish(!0);k.kb=!1;h.Te();return k.ys()}c=0;K=(g=m&&!this.Ue.tE(this))?k.Xa:k.F;var N=!1;a=0;for(d=K.length;a<d;++a){l=K[a];if(t)for(b=0,e=S.length;b<e;++b)f=S[b],f.Of&&(J[b]=f.get(a));u?(b=0,v&&(b=l.type.kk[r]),b=O.apply(l.Ja[p+b],J)):b=O.apply(l,J);if(ib(b,M))if(N=!0,g){if(k.F.push(l),
n)for(b=0,e=l.siblings.length;b<e;b++)f=l.siblings[b],f.type.Ma().F.push(f)}else{K[c]=l;if(n)for(b=0,e=l.siblings.length;b<e;b++)f=l.siblings[b],f.type.Ma().F[c]=f;c++}else if(g){K[c]=l;if(n)for(b=0,e=l.siblings.length;b<e;b++)f=l.siblings[b],f.type.Ma().Xa[c]=f;c++}else if(m&&(k.Xa.push(l),n))for(b=0,e=l.siblings.length;b<e;b++)f=l.siblings[b],f.type.Ma().Xa.push(f)}Fa(K,c);if(n)for(v=h.De,a=0,d=v.length;a<d;a++)l=v[a].Ma(),g?Fa(l.Xa,c):Fa(l.F,c);c=N;if(g&&!N)for(a=0,d=k.F.length;a<d;a++){l=k.F[a];
if(t)for(b=0,e=S.length;b<e;b++)f=S[b],f.Of&&(J[b]=f.get(a));b=u?O.apply(l.Ja[p],J):O.apply(l,J);if(ib(b,M)){N=!0;break}}h.finish&&h.finish(c||m);return m?N:k.ys()};Fc=g;l.prototype.wc=function(){var a,b,c;a=0;for(b=this.fb.length;a<b;a++)c=this.fb[a],c.wc(),c.Of&&(this.tl=!0)};l.prototype.eu=function(){var a=this.i,b,c,d=this.fb,e=this.lc;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.qd.apply(a.Rg,e)};l.prototype.du=function(){var a=this.type,b=this.Vf,c=a.Bg,d=this.tl,e=this.fb,f=this.lc,
g=this.qd,l=a.Ma().Ud(),a=a.Ca,h=-1<b,k,m,n,v,r,p;if(d)for(m=0,v=e.length;m<v;++m)r=e[m],r.Of||(f[m]=r.get(0));else for(m=0,v=e.length;m<v;++m)f[m]=e[m].get(0);k=0;for(n=l.length;k<n;++k){p=l[k];if(d)for(m=0,v=e.length;m<v;++m)r=e[m],r.Of&&(f[m]=r.get(k));h?(m=0,a&&(m=p.type.kk[c]),g.apply(p.Ja[b+m],f)):g.apply(p,f)}return!1};Gc=l;var t=[],v=-1;k.prototype.wc=function(){var a,b;if(11===this.type)this.bj=this.i.vw(this.Hn,this.Ue.parent);else if(13===this.type)for(a=0,b=this.Pj.length;a<b;a++)this.Pj[a].wc();
this.Ag&&this.Ag.wc()};k.prototype.IE=function(a){this.Of||!a||a.jb.yq||(this.Of=!0)};k.prototype.Gy=function(){this.Of=!0};k.prototype.XD=function(a){this.Ch=a||0;a=n();this.Ag.get(a);v--;return a.data};k.prototype.YD=function(a){this.Ch=a||0;a=n();this.Ag.get(a);v--;return na(a.data)?a.data:""};k.prototype.dE=function(){return this.object};k.prototype.VD=function(){return this.Qv};k.prototype.bE=function(a){this.Ch=a||0;a=n();this.Ag.get(a);v--;return a.cd()?this.i.ih(a.data):this.i.Ul(a.data)};
k.prototype.cE=function(){return this.sc};k.prototype.aE=function(){return this.key};k.prototype.$D=function(){return this.index};k.prototype.ZD=function(a){a=a||0;var b=this.Hf.type,c=null,c=b.Ma(),d=c.Ud();if(d.length)c=d[a%d.length].type;else if(c.Xa.length)c=c.Xa[a%c.Xa.length].type;else if(b.F.length)c=b.F[a%b.F.length].type;else return 0;return this.index+c.Ml[b.Bg]};k.prototype.WD=function(){return this.bj};k.prototype.UD=function(){return this.jw};k.prototype.eE=function(){var a,b;a=0;for(b=
this.Pj.length;a<b;a++)this.Gn[a]=this.Pj[a].get();return this.Gn};Hc=k;m.prototype.wc=function(){this.Ub=b(this.Ub)};m.prototype.Mj=function(a){var b=this.i.uw();this.parent&&!this.tm&&b?(this.yj>=b.length&&(b.length=this.yj+1),b[this.yj]=a):this.data=a};m.prototype.Xl=function(){var a=this.i.uw();return!this.parent||this.tm||!a||this.np?this.data:this.yj>=a.length||"undefined"===typeof a[this.yj]?this.gp:a[this.yj]};m.prototype.Hc=function(){!this.parent||this.tm||this.np||this.Mj(this.gp)};Bc=
m;p.prototype.toString=function(){return"include:"+this.em.toString()};p.prototype.wc=function(){this.em=this.i.Vr[this.nE];this.sheet.Fw.add(this);this.Ub=b(this.Ub);for(var a=this.parent;a;)a.group&&a.so.push(this),a=a.parent;this.mz()};p.prototype.Hc=function(){this.parent&&this.i.cn(this.i.wa);this.em.zs||this.em.Hc(!0);this.parent&&this.i.yi(this.i.wa)};p.prototype.mz=function(){for(var a=this.parent;a;){if(a.group&&!a.gj){this.ie=!1;return}a=a.parent}this.ie=!0};Uc=p;r.prototype.reset=function(a){this.$c=
a;this.Re=this.xc=0;G(this.Wy);this.Sr=this.sj=!1};r.prototype.wE=function(){return this.$c.pu?!0:this.xc<this.$c.Oc.length-1?!!this.$c.Ub.length:!1};Ac=r})();
(function(){function a(a,b){this.Hf=a;this.i=a.i;this.type=b[0];this.get=[this.fD,this.bD,this.oD,this.rD,this.RC,this.pD,this.jD,this.ZC,this.iD,this.nD,this.SC,this.mD,this.$C,this.kD,this.gD,this.hD,this.cD,this.dD,this.YC,this.qD,this.lD,this.eD,this.XC,this.aD][this.type];var c=null;this.vh=this.fb=this.lc=this.qd=this.Gq=this.second=this.first=this.value=null;this.Vf=-1;this.Zf=null;this.sz=-1;this.bj=this.Hn=null;this.Wk=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Sc(a,b[1]);break;case 18:this.first=new Sc(a,b[1]);this.second=new Sc(a,b[2]);this.Gq=new Sc(a,b[3]);break;case 19:this.qd=this.i.Lh(b[1]);this.qd!==L.prototype.La.random&&this.qd!==L.prototype.La.aC||this.Hf.Gy();this.lc=[];this.fb=[];3===b.length?(c=b[2],this.lc.length=c.length+1):this.lc.length=1;break;case 20:this.vh=this.i.wa[b[1]];this.Vf=-1;this.qd=this.i.Lh(b[2]);this.Wk=b[3];jd&&this.qd===jd.prototype.La.Gz&&this.Hf.Gy();b[4]?this.Zf=new Sc(a,b[4]):this.Zf=null;this.lc=[];this.fb=[];
6===b.length?(c=b[5],this.lc.length=c.length+1):this.lc.length=1;break;case 21:this.vh=this.i.wa[b[1]];this.Wk=b[2];b[3]?this.Zf=new Sc(a,b[3]):this.Zf=null;this.sz=b[4];break;case 22:this.vh=this.i.wa[b[1]];this.vh.Wo(b[2]);this.Vf=this.vh.hs(b[2]);this.qd=this.i.Lh(b[3]);this.Wk=b[4];b[5]?this.Zf=new Sc(a,b[5]):this.Zf=null;this.lc=[];this.fb=[];7===b.length?(c=b[6],this.lc.length=c.length+1):this.lc.length=1;break;case 23:this.Hn=b[1],this.bj=null}this.Hf.IE(this.vh);4<=this.type&&17>=this.type&&
(this.first=new Sc(a,b[1]),this.second=new Sc(a,b[2]));if(c){var d,e;d=0;for(e=c.length;d<e;d++)this.fb.push(new Sc(a,c[d]))}}function c(){++h;e.length===h&&e.push(new Kc);return e[h]}function b(a,b,c){var d,e;d=0;for(e=a.length;d<e;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Vc.Xj;this.data=b||0;this.Dj=null;this.type==Vc.Xj&&(this.data=Math.floor(this.data))}a.prototype.wc=function(){23===this.type&&(this.bj=this.Hf.i.vw(this.Hn,this.Hf.Ue.parent));this.first&&this.first.wc();this.second&&
this.second.wc();this.Gq&&this.Gq.wc();this.Zf&&this.Zf.wc();if(this.fb){var a,b;a=0;for(b=this.fb.length;a<b;a++)this.fb[a].wc()}};var e=[],h=-1;a.prototype.qD=function(a){var d=this.fb,e=this.lc;e[0]=a;a=c();b(d,e,a);--h;this.qd.apply(this.i.Rg,e)};a.prototype.lD=function(a){var d=this.vh,e=this.lc,n=this.fb,k=this.Zf,m=this.qd,p=this.Hf.Ch,r=d.Ma(),u=r.Ud();if(!u.length)if(r.Xa.length)u=r.Xa;else{this.Wk?a.Uc(""):a.Tb(0);return}e[0]=a;a.Dj=d;a=c();b(n,e,a);k&&(k.get(a),a.cd()&&(p=a.data,u=d.F));
--h;d=u.length;if(p>=d||p<=-d)p%=d;0>p&&(p+=d);m.apply(u[p],e)};a.prototype.XC=function(a){var d=this.vh,e=this.lc,n=this.fb,k=this.Zf,m=this.Vf,p=this.qd,r=this.Hf.Ch,u=d.Ma(),t=u.Ud();if(!t.length)if(u.Xa.length)t=u.Xa;else{this.Wk?a.Uc(""):a.Tb(0);return}e[0]=a;a.Dj=d;a=c();b(n,e,a);k&&(k.get(a),a.cd()&&(r=a.data,t=d.F));--h;n=t.length;if(r>=n||r<=-n)r%=n;0>r&&(r+=n);r=t[r];t=0;d.Ca&&(t=r.type.kk[d.Bg]);p.apply(r.Ja[m+t],e)};a.prototype.eD=function(a){var b=this.Zf,d=this.vh,e=this.sz,k=this.Hf.Ch,
m=d.Ma(),p=m.Ud();if(!p.length)if(m.Xa.length)p=m.Xa;else{this.Wk?a.Uc(""):a.Tb(0);return}if(b){m=c();b.get(m);if(m.cd()){k=m.data;p=d.F;0!==p.length&&(k%=p.length,0>k&&(k+=p.length));k=d.ns(k);d=k.Ob[e];na(d)?a.Uc(d):a.ua(d);--h;return}--h}b=p.length;if(k>=b||k<=-b)k%=b;0>k&&(k+=b);k=p[k];p=0;d.Ca&&(p=k.type.Ml[d.Bg]);d=k.Ob[e+p];na(d)?a.Uc(d):a.ua(d)};a.prototype.fD=function(a){a.type=Vc.Xj;a.data=this.value};a.prototype.bD=function(a){a.type=Vc.Wj;a.data=this.value};a.prototype.oD=function(a){a.type=
Vc.String;a.data=this.value};a.prototype.rD=function(a){this.first.get(a);a.cd()&&(a.data=-a.data)};a.prototype.RC=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data+=b.data,b.xk()&&a.Nk());--h};a.prototype.pD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data-=b.data,b.xk()&&a.Nk());--h};a.prototype.jD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data*=b.data,b.xk()&&a.Nk());--h};a.prototype.ZC=function(a){this.first.get(a);
var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data/=b.data,a.Nk());--h};a.prototype.iD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data%=b.data,b.xk()&&a.Nk());--h};a.prototype.nD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data=Math.pow(a.data,b.data),b.xk()&&a.Nk());--h};a.prototype.SC=function(a){this.first.get(a);var b=c();this.second.get(b);b.Ak()||a.Ak()?this.UC(a,b):this.TC(a,b);--h};a.prototype.UC=function(a,b){a.Ak()&&
b.Ak()?this.WC(a,b):this.VC(a,b)};a.prototype.WC=function(a,b){a.data+=b.data};a.prototype.VC=function(a,b){a.Ak()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.Uc(a.data.toString()+b.data)};a.prototype.TC=function(a,b){a.Tb(a.data&&b.data?1:0)};a.prototype.mD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data||b.data?a.Tb(1):a.Tb(0));--h};a.prototype.YC=function(a){this.first.get(a);a.data?this.second.get(a):this.Gq.get(a)};a.prototype.$C=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Tb(a.data===b.data?1:0);--h};a.prototype.kD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Tb(a.data!==b.data?1:0);--h};a.prototype.gD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Tb(a.data<b.data?1:0);--h};a.prototype.hD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Tb(a.data<=b.data?1:0);--h};a.prototype.cD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Tb(a.data>b.data?1:0);--h};a.prototype.dD=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Tb(a.data>=b.data?1:0);--h};a.prototype.aD=function(a){var b=this.bj.Xl();ma(b)?a.ua(b):a.Uc(b)};Sc=a;d.prototype.xk=function(){return this.type===Vc.Wj};d.prototype.cd=function(){return this.type===Vc.Xj||this.type===Vc.Wj};d.prototype.Ak=function(){return this.type===Vc.String};d.prototype.Nk=function(){this.xk()||(this.Ak()&&(this.data=parseFloat(this.data)),this.type=Vc.Wj)};d.prototype.Tb=function(a){this.type=Vc.Xj;this.data=Math.floor(a)};d.prototype.ua=function(a){this.type=
Vc.Wj;this.data=a};d.prototype.Uc=function(a){this.type=Vc.String;this.data=a};d.prototype.Hy=function(a){ma(a)?(this.type=Vc.Wj,this.data=a):na(a)?(this.type=Vc.String,this.data=a.toString()):(this.type=Vc.Xj,this.data=0)};Kc=d;Vc={Xj:0,Wj:1,String:2}})();function L(a){this.i=a;this.Oe=[]}
L.prototype.Sb=function(){var a={},c,b,d,e,h,f,g,l;a.waits=[];var n=a.waits,k;c=0;for(b=this.Oe.length;c<b;c++){f=this.Oe[c];k={t:f.time,st:f.IF,s:f.Ny,ev:f.Il.Za,sm:[],sols:{}};f.Il.sf[f.Re]&&(k.act=f.Il.sf[f.Re].Za);d=0;for(e=f.Ub.length;d<e;d++)k.sm.push(f.Ub[d].Za);for(h in f.Ne)if(f.Ne.hasOwnProperty(h)){g=this.i.wa[parseInt(h,10)];l={sa:f.Ne[h].xy,insts:[]};d=0;for(e=f.Ne[h].lj.length;d<e;d++)l.insts.push(f.Ne[h].lj[d].uid);k.sols[g.Za.toString()]=l}n.push(k)}return a};
L.prototype.Wb=function(a){a=a.waits;var c,b,d,e,h,f,g,l,n,k,m;G(this.Oe);c=0;for(b=a.length;c<b;c++)if(f=a[c],l=this.i.Gv[f.ev.toString()]){n=-1;d=0;for(e=l.sf.length;d<e;d++)if(l.sf[d].Za===f.act){n=d;break}if(-1!==n){g={Ne:{},Ub:[],Xv:!1};g.time=f.t;g.IF=f.st||"";g.Ny=!!f.s;g.Il=l;g.Re=n;d=0;for(e=f.sm.length;d<e;d++)(l=this.i.ok(f.sm[d]))&&g.Ub.push(l);for(h in f.sols)if(f.sols.hasOwnProperty(h)&&(l=this.i.ok(parseInt(h,10)))){n=f.sols[h];k={xy:n.sa,lj:[]};d=0;for(e=n.insts.length;d<e;d++)(m=
this.i.Yf(n.insts[d]))&&k.lj.push(m);g.Ne[l.index.toString()]=k}this.Oe.push(g)}}};
(function(){function a(){}function c(){}function b(){}var d=L.prototype;a.prototype.Tz=function(){return!0};a.prototype.dv=function(){return!0};a.prototype.JA=function(){return!0};a.prototype.Jz=function(a,b,c){return Wc(a,b,c)};var e=[],h=-1;a.prototype.Wz=function(a){var b=a.Ma();h++;e.length===h&&e.push([]);var c=e[h];Ha(c,b.Ud());var d=this.i.Cc(),f=d.$c,g=d.wE(),d=this.i.lF(),u,t,v,q,x,B,E=a.Gd;if(g)for(g=0,u=c.length;g<u&&!d.hd;g++){this.i.dn(f.Ub);q=c[g];b=a.Ma();b.kb=!1;G(b.F);b.F[0]=q;if(E)for(t=
0,v=q.siblings.length;t<v;t++)x=q.siblings[t],B=x.type.Ma(),B.kb=!1,G(B.F),B.F[0]=x;d.index=g;f.cu();this.i.yi(f.Ub)}else for(b.kb=!1,G(b.F),g=0,u=c.length;g<u&&!d.hd;g++){q=c[g];b.F[0]=q;if(E)for(t=0,v=q.siblings.length;t<v;t++)x=q.siblings[t],B=x.type.Ma(),B.kb=!1,G(B.F),B.F[0]=x;d.index=g;f.cu()}G(c);this.i.bF();h--;return!1};a.prototype.Sz=function(a){var b=this.i.Sl(),c=b.ja.Every_lastTime||0,d=this.i.dd.Sa;"undefined"===typeof b.ja.Every_seconds&&(b.ja.Every_seconds=a);var e=b.ja.Every_seconds;
if(d>=c+e)return b.ja.Every_lastTime=c+e,d>=b.ja.Every_lastTime+.04&&(b.ja.Every_lastTime=d),b.ja.Every_seconds=a,!0;d<c-.1&&(b.ja.Every_lastTime=d);return!1};a.prototype.iB=function(a){if(!a)return!1;var b=a.Ma(),c=b.Ud(),d=xa(Math.random()*c.length);if(d>=c.length)return!1;b.Uk(c[d]);a.Te();return!0};a.prototype.Nz=function(a,b,c){return Wc(a.Xl(),b,c)};a.prototype.bA=function(a){return(a=this.i.qk[a.toLowerCase()])&&a.gj};a.prototype.Kz=function(a,b,c){return a>=b&&a<=c};a.prototype.Qu=function(){var a=
this.i.Cc();return a.Sr?!1:!a.sj};a.prototype.gv=function(){return!0};a.prototype.sA=function(){return!0};a.prototype.cr=function(){return!0};a.prototype.lv=function(){return!0};a.prototype.KA=function(){return!0};a.prototype.$q=function(){return!0};a.prototype.Cz=function(a,b,c){return Ya(Pa(a),Pa(c))<=Pa(b)};a.prototype.$z=function(a,b){return $a(Pa(a),Pa(b))};a.prototype.Yz=function(a,b,c){a=Wa(a);b=Wa(b);c=Wa(c);return $a(c,b)?$a(a,b)&&!$a(a,c):!(!$a(a,b)&&$a(a,c))};d.D=new a;c.prototype.Xz=function(a){this.i.um||
this.i.zl||(this.i.zl=a)};c.prototype.Qz=function(a,b,c,d){if(b&&a&&(b=this.i.wo(a,b,c,d))){this.i.cf++;var e;this.i.trigger(Object.getPrototypeOf(a.jb).D.Mh,b);if(b.Gd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.i.trigger(Object.getPrototypeOf(e.type.jb).D.Mh,e);this.i.cf--;a=a.Ma();a.kb=!1;G(a.F);a.F[0]=b;if(b.Gd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.Ma(),a.kb=!1,G(a.F),a.F[0]=e}};c.prototype.vB=function(a,b){0===a.Tq?ma(b)?a.Mj(b):a.Mj(parseFloat(b)):1===a.Tq&&
a.Mj(b.toString())};c.prototype.Bz=function(a,b){0===a.Tq?ma(b)?a.Mj(a.Xl()+b):a.Mj(a.Xl()+parseFloat(b)):1===a.Tq&&a.Mj(a.Xl()+b.toString())};c.prototype.rB=function(a,b){var c=this.i.qk[a.toLowerCase()];if(c)switch(b){case 0:c.sq(!1);break;case 1:c.sq(!0);break;case 2:c.sq(!c.gj)}};c.prototype.uB=function(a){0>a&&(a=0);this.i.ig=a};var f=[],g=[];c.prototype.lB=function(){var a,b,c;a=0;for(b=this.i.rr.length;a<b;a++)c=this.i.rr[a],c.data=c.gp};d.da=new c;b.prototype["int"]=function(a,b){na(b)?(a.Tb(parseInt(b,
10)),isNaN(a.data)&&(a.data=0)):a.Tb(b)};b.prototype["float"]=function(a,b){na(b)?(a.ua(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ua(b)};b.prototype.random=function(a,b,c){void 0===c?a.ua(Math.random()*b):a.ua(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.ua(Math.sqrt(b))};b.prototype.abs=function(a,b){a.ua(Math.abs(b))};b.prototype.round=function(a,b){a.Tb(Math.round(b))};b.prototype.floor=function(a,b){a.Tb(Math.floor(b))};b.prototype.ceil=function(a,b){a.Tb(Math.ceil(b))};b.prototype.sin=
function(a,b){a.ua(Math.sin(Pa(b)))};b.prototype.cos=function(a,b){a.ua(Math.cos(Pa(b)))};b.prototype.tan=function(a,b){a.ua(Math.tan(Pa(b)))};b.prototype.asin=function(a,b){a.ua(Qa(Math.asin(b)))};b.prototype.acos=function(a,b){a.ua(Qa(Math.acos(b)))};b.prototype.atan=function(a,b){a.ua(Qa(Math.atan(b)))};b.prototype.exp=function(a,b){a.ua(Math.exp(b))};b.prototype.log10=function(a,b){a.ua(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;
c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.ua(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.ua(b)};b.prototype.Ua=function(a){a.ua(this.i.Ua)};b.prototype.ig=function(a){a.ua(this.i.ig)};b.prototype.time=function(a){a.ua(this.i.dd.Sa)};b.prototype.lf=function(a){a.Tb(this.i.lf)};b.prototype.Op=function(a){a.Tb(this.i.Op)};b.prototype.as=
function(a){a.Tb(this.i.as)};b.prototype.K=function(a,b,c,d,e){a.ua(Qa(Xa(b,c,d,e)))};b.prototype.left=function(a,b,c){a.Uc(na(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.Uc(na(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){na(b)&&na(c)&&na(d)?a.Uc(b.replace(new RegExp(Db(c),"gi"),d)):a.Uc(na(b)?b:"")};b.prototype.trim=function(a,b){a.Uc(na(b)?b.trim():"")};b.prototype.aC=function(a){var b=xa(Math.random()*(arguments.length-1));a.Hy(arguments[b+1])};b.prototype.jF=
function(a){a.Uc(this.i.$F)};b.prototype.Ir=function(a){a.ua(this.i.Ir/1E3)};b.prototype.Kk=function(a){a.ua(this.i.Kk)};b.prototype.fE=function(a,b,c){a.Tb((b|0)&1<<(c|0)?1:0)};d.La=new b;d.vF=function(){var a,b,c,d,e,h,u=this.i.Cc();a=0;for(c=this.Oe.length;a<c;a++){d=this.Oe[a];if(-1===d.time){if(!d.Ny)continue}else if(d.time>this.i.dd.Sa)continue;u.$c=d.Il;u.Re=d.Re;u.xc=0;for(b in d.Ne)d.Ne.hasOwnProperty(b)&&(e=this.i.wa[parseInt(b,10)].Ma(),h=d.Ne[b],e.kb=h.xy,Ha(e.F,h.lj),e=h,G(e.lj),g.push(e));
d.Il.tF();this.i.Gr(d.Ub);d.Xv=!0}b=a=0;for(c=this.Oe.length;a<c;a++)d=this.Oe[a],this.Oe[b]=d,d.Xv?(mb(d.Ne),G(d.Ub),f.push(d)):b++;Fa(this.Oe,b)}})();
(function(){Zb=function(a,b){var d=a[1],e=a[3],h=a[4],f=a[5],g=a[6],l=a[7],n=a[8];b.D||(b.D={});b.da||(b.da={});b.La||(b.La={});var k=b.D,m=b.da,p=b.La;e&&(k.Oz=function(a,b){return Wc(this.x,a,b)},k.kG=function(a,b){return Wc(this.y,a,b)},k.oG=function(){var a=this.M;this.Wa();var b=this.Lb;return!(b.right<a.Bb||b.bottom<a.Cb||b.left>a.Hb||b.top>a.Gb)},k.pG=function(){this.Wa();var a=this.Lb,b=this.i.ub;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.BG=function(a,b,c){var d=this.Ma(),
e=d.Ud();if(!e.length)return!1;var f=e[0],g=f,h=db(f.x,f.y,b,c),k,l,m;k=1;for(l=e.length;k<l;k++)if(f=e[k],m=db(f.x,f.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=f;d.Uk(g);return!0},m.QG=function(a){this.x!==a&&(this.x=a,this.X())},m.RG=function(a){this.y!==a&&(this.y=a,this.X())},m.MG=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.X()},m.NG=function(a,b){var c=a.ND(this);if(c){var d;c.zf?(d=c.zf(b,!0),c=c.zf(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.X()}},m.uG=
function(a){0!==a&&(this.x+=Math.cos(this.K)*a,this.y+=Math.sin(this.K)*a,this.X())},m.tG=function(a,b){0!==b&&(this.x+=Math.cos(Pa(a))*b,this.y+=Math.sin(Pa(a))*b,this.X())},p.mr=function(a){a.ua(this.x)},p.nr=function(a){a.ua(this.y)},p.Ua=function(a){a.ua(this.i.Dg(this))});h&&(k.jG=function(a,b){return Wc(this.width,a,b)},k.hG=function(a,b){return Wc(this.height,a,b)},m.tv=function(a){this.width!==a&&(this.width=a,this.X())},m.KG=function(a){this.height!==a&&(this.height=a,this.X())},m.OG=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.X()},p.IB=function(a){a.ua(this.width)},p.lG=function(a){a.ua(this.height)},p.eG=function(a){this.Wa();a.ua(this.Lb.left)},p.gG=function(a){this.Wa();a.ua(this.Lb.top)},p.fG=function(a){this.Wa();a.ua(this.Lb.right)},p.dG=function(a){this.Wa();a.ua(this.Lb.bottom)});f&&(k.Cz=function(a,b){return Ya(this.K,Pa(b))<=Pa(a)},k.$z=function(a){return $a(this.K,Pa(a))},k.Yz=function(a,b){var c=Wa(a),d=Wa(b),e=Ta(this.K);return $a(d,c)?
$a(e,c)&&!$a(e,d):!(!$a(e,c)&&$a(e,d))},m.rv=function(a){a=Pa(Sa(a));isNaN(a)||this.K===a||(this.K=a,this.X())},m.mB=function(a){0===a||isNaN(a)||(this.K+=Pa(a),this.K=Ta(this.K),this.X())},m.FG=function(a){0===a||isNaN(a)||(this.K-=Pa(a),this.K=Ta(this.K),this.X())},m.GG=function(a,b){var c=Za(this.K,Pa(b),Pa(a));isNaN(c)||this.K===c||(this.K=c,this.X())},m.HG=function(a,b,c){a=Za(this.K,Math.atan2(c-this.y,b-this.x),Pa(a));isNaN(a)||this.K===a||(this.K=a,this.X())},m.PG=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.K===c||(this.K=c,this.X())},p.cG=function(a){a.ua(Ua(this.K))});d||(k.Lz=function(a,b,c){return Wc(this.Ob[a],b,c)},k.Zz=function(a){return this.Ob[a]},k.CG=function(a,b){var c=this.Ma(),d=c.Ud();if(!d.length)return!1;var e=d[0],f=e,g=e.Ob[b],h,k,l;h=1;for(k=d.length;h<k;h++)if(e=d[h],l=e.Ob[b],0===a&&l<g||1===a&&l>g)g=l,f=e;c.Uk(f);return!0},k.AG=function(a){var b,c,d,e,f;if(this.i.Sl().sk){f=this.Ma();if(f.kb)for(f.kb=!1,G(f.F),G(f.Xa),d=this.F,b=0,c=d.length;b<c;b++)e=
d[b],e.uid===a?f.Xa.push(e):f.F.push(e);else{d=b=0;for(c=f.F.length;b<c;b++)e=f.F[b],f.F[d]=e,e.uid===a?f.Xa.push(e):d++;Fa(f.F,d)}this.Te();return!!f.F.length}e=this.i.Yf(a);if(!e)return!1;f=this.Ma();if(!f.kb&&-1===f.F.indexOf(e))return!1;if(this.Ca)for(a=e.type.$b,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Uk(e),this.Te(),!0}else if(e.type===this)return f.Uk(e),this.Te(),!0;return!1},k.Mh=function(){return!0},k.Xu=function(){return!0},m.sB=function(a,b){var c=this.Ob;ma(c[a])?c[a]=ma(b)?b:
parseFloat(b):na(c[a])&&(c[a]=na(b)?b:b.toString())},m.Az=function(a,b){var c=this.Ob;ma(c[a])?c[a]=ma(b)?c[a]+b:c[a]+parseFloat(b):na(c[a])&&(c[a]=na(b)?c[a]+b:c[a]+b.toString())},m.CB=function(a,b){var c=this.Ob;ma(c[a])&&(c[a]=ma(b)?c[a]-b:c[a]-parseFloat(b))},m.oB=function(a,b){this.Ob[a]=b?1:0},m.SG=function(a){this.Ob[a]=1-this.Ob[a]},m.Rd=function(){this.i.Pe(this)},m.jA||(m.jA=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.i.yp(this,b,!0);this.Se&&this.Se();if(this.Ja)for(a=
0,b=this.Ja.length;a<b;++a)c=this.Ja[a],c.Se&&c.Se()}),p.Pz=function(a){var b=a.Dj.F.length,c,d,e;c=0;for(d=this.i.Xf.length;c<d;c++)e=this.i.Xf[c],a.Dj.Ca?0<=e.type.$b.indexOf(a.Dj)&&b++:e.type===a.Dj&&b++;a.Tb(b)},p.EG=function(a){a.Tb(a.Dj.Ma().Ud().length)},p.TG=function(a){a.Tb(this.uid)},p.mG=function(a){a.Tb(this.Yl())},p.Ez||(p.Ez=function(a){a.Uc(JSON.stringify(this.i.fu(this,!0)))}));g&&(k.qG=function(){return this.visible},m.rl=function(a){!a!==!this.visible&&(this.visible=!!a,this.i.Va=
!0)},k.iG=function(a,b){return Wc(Qb(100*this.opacity),a,b)},m.LG=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.i.Va=!0)},p.Opacity=function(a){a.ua(Qb(100*this.opacity))});l&&(k.nG=function(a){return a?this.M===a:!1},k.DG=function(a){var b=this.Ma(),c=b.Ud();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.M.index>e.M.index||d.M.index===e.M.index&&d.Eg()>e.Eg())e=d}else if(d.M.index<e.M.index||d.M.index===e.M.index&&d.Eg()<
e.Eg())e=d;b.Uk(e);return!0},m.xG=function(){var a=this.M,b=a.F;b.length&&b[b.length-1]===this||(a.Vk(this,!1),a.wl(this,!1),this.i.Va=!0)},m.vG=function(){var a=this.M,b=a.F;b.length&&b[0]===this||(a.Vk(this,!1),a.eF(this),this.i.Va=!0)},m.wG=function(a){a&&a!=this.M&&(this.M.Vk(this,!0),this.M=a,a.wl(this,!0),this.i.Va=!0)},m.VG=function(a,b){var c=0===a;if(b){var d=b.Tl(this);d&&d.uid!==this.uid&&(this.M.index!==d.M.index&&(this.M.Vk(this,!0),this.M=d.M,d.M.wl(this,!0)),this.M.KE(this,d,c),this.i.Va=
!0)}},p.sG=function(a){a.Tb(this.M.Lx)},p.rG=function(a){a.Uc(this.M.name)},p.UG=function(a){a.Tb(this.Eg())});n&&(m.IG=function(a,b){if(this.i.ma){var c=this.type.ls(b);if(!(0>c)){var d=1===a;this.Oh[c]!==d&&(this.Oh[c]=d,this.kg(),this.i.Va=!0)}}},m.JG=function(a,b,c){if(this.i.ma){var d=this.type.ls(a);0>d||(a=this.type.Qa[d],d=this.fc[d],b=Math.floor(b),0>b||b>=d.length||(1===this.i.ma.RD(a.Ic,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.ie&&(this.i.Va=!0))))}})};sc=function(){this.Er=this.yr=!0;this.type.ao=
!0;this.i.Va=!0;var a,b,d=this.Ar;a=0;for(b=d.length;a<b;++a)d[a](this);this.M.of&&this.Wa()};tc=function(a){a&&this.Ar.push(a)};vc=function(){if(this.yr){var a=this.Lb,b=this.Jb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Wd*this.width,-this.Xd*this.height);this.K?(a.offset(-this.x,-this.y),b.Jy(a,this.K),b.offset(this.x,this.y),b.Hv(a)):b.Oj(a);a.normalize();this.yr=!1;this.WF()}};var a=new Aa(0,0,0,0);wc=function(){if(this.M.of){var c=this.M.vd,b=this.Lb;a.set(c.fe(b.left),
c.ge(b.top),c.fe(b.right),c.ge(b.bottom));this.ue.Hl(a)||(this.ue.right<this.ue.left?c.update(this,null,a):c.update(this,this.ue,a),this.ue.fk(a),this.M.gg=!0)}};xc=function(){if(this.Er&&this.Ve){this.Wa();var c=this.type.Al,b=this.Lb;a.set(c.fe(b.left),c.ge(b.top),c.fe(b.right),c.ge(b.bottom));this.uf.Hl(a)||(this.uf.right<this.uf.left?c.update(this,null,a):c.update(this,this.uf,a),this.uf.fk(a),this.Er=!1)}};uc=function(a,b){return this.Lb.Dd(a,b)&&this.Jb.Dd(a,b)?this.Pa&&!this.Pa.fi()?(this.Pa.$g(this.width,
this.height,this.K),this.Pa.Dd(a-this.x,b-this.y)):!0:!1};oc=function(){this.type.Pq();return this.jj};yc=function(){this.M.Iu();return this.mg};zc=function(){G(this.xb);var a,b,d,e=!0;a=0;for(b=this.Oh.length;a<b;a++)this.Oh[a]&&(d=this.type.Qa[a],this.xb.push(d),d.dg||(e=!1));this.rz=!!this.xb.length;this.Bh=e};pc=function(){return"Inst"+this.my};bc=function(a){if(a&&a.Gd&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],e.type==this)return e}a=this.Ma().Ud();return a.length?
a[0]:null};dc=function(a){var b=this.Ma().Ud();return b.length?b[a.Yl()%b.length]:null};ac=function(){if(this.$k&&!this.Ca){var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].jj=a;var d=a,e=this.i.Xf;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].jj=d++);this.$k=!1}};mc=function(a){if(a<this.F.length)return this.F[a];a-=this.F.length;var b=this.i.Xf,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};ec=function(){return this.Dh[this.yg]};fc=function(){this.yg++;
this.yg===this.Dh.length?this.Dh.push(new $b(this)):(this.Dh[this.yg].kb=!0,G(this.Dh[this.yg].Xa))};gc=function(){this.yg++;this.yg===this.Dh.length&&this.Dh.push(new $b(this));var a=this.Dh[this.yg],b=this.Dh[this.yg-1];b.kb?(a.kb=!0,G(a.Xa)):(a.kb=!1,Ha(a.F,b.F),Ha(a.Xa,b.Xa))};hc=function(){this.yg--};ic=function(a){var b,d,e,h,f,g=0;if(!this.Ca)for(b=0,d=this.$b.length;b<d;b++)for(f=this.$b[b],e=0,h=f.cc.length;e<h;e++){if(a===f.cc[e].name)return this.ja.lastBehIndex=g,f.cc[e];g++}b=0;for(d=
this.cc.length;b<d;b++){if(a===this.cc[b].name)return this.ja.lastBehIndex=g,this.cc[b];g++}return null};jc=function(a){return this.Wo(a)?this.ja.lastBehIndex:-1};kc=function(a){var b,d;b=0;for(d=this.Qa.length;b<d;b++)if(this.Qa[b].name===a)return b;return-1};lc=function(){if(this.Gd&&!this.Ca){var a,b,d,e,h,f,g;this.Pq();f=this.Ma();var l=f.kb,n=(a=this.i.Cc())&&a.$c&&a.$c.gf;a=0;for(b=this.De.length;a<b;a++)if(h=this.De[a],h!==this&&(h.Pq(),g=h.Ma(),g.kb=l,!l)){G(g.F);d=0;for(e=f.F.length;d<e;++d)g.F[d]=
h.ns(f.F[d].jj);if(n)for(G(g.Xa),d=0,e=f.Xa.length;d<e;++d)g.Xa[d]=h.ns(f.Xa[d].jj)}}};nc=function(){return"Type"+this.Za};Wc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var ed={};function kd(a){this.i=a}
(function(){function a(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function c(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function b(a){a=a.toLowerCase();return ia.hasOwnProperty(a)&&ia[a].length?ia[a][0].Ye():F.destination}function d(){return F.createGain?F.createGain():F.createGainNode()}function e(a){return F.createDelay?F.createDelay(a):F.createDelayNode(a)}function h(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function f(a,b,c,d){a.start?a.start(d||
0,b):a.noteGrainOn(d||0,b,c-b)}function g(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function l(a,b,c,e,f,g){this.type="filter";this.Eb=[a,b,c,e,f,g];this.lb=d();this.Oa=d();this.Oa.gain.value=g;this.Ka=d();this.Ka.gain.value=1-g;this.Bc=F.createBiquadFilter();this.Bc.type="number"===typeof this.Bc.type?a:dd[a];this.Bc.frequency.value=b;this.Bc.detune&&(this.Bc.detune.value=c);this.Bc.Q.value=e;this.Bc.gain.value=f;this.lb.connect(this.Bc);this.lb.connect(this.Ka);this.Bc.connect(this.Oa)}function n(a,
b,c){this.type="delay";this.Eb=[a,b,c];this.lb=d();this.Oa=d();this.Oa.gain.value=c;this.Ka=d();this.Ka.gain.value=1-c;this.Qm=d();this.xf=e(a);this.xf.delayTime.value=a;this.Do=d();this.Do.gain.value=b;this.lb.connect(this.Qm);this.lb.connect(this.Ka);this.Qm.connect(this.Oa);this.Qm.connect(this.xf);this.xf.connect(this.Do);this.Do.connect(this.Qm)}function k(a,b,c,e){this.type="convolve";this.Eb=[b,c,e];this.lb=d();this.Oa=d();this.Oa.gain.value=c;this.Ka=d();this.Ka.gain.value=1-c;this.Xi=F.createConvolver();
a&&(this.Xi.normalize=b,this.Xi.buffer=a);this.lb.connect(this.Xi);this.lb.connect(this.Ka);this.Xi.connect(this.Oa)}function m(a,b,c,f,g){this.type="flanger";this.Eb=[a,b,c,f,g];this.lb=d();this.Ka=d();this.Ka.gain.value=1-g/2;this.Oa=d();this.Oa.gain.value=g/2;this.Mo=d();this.Mo.gain.value=f;this.xf=e(a+b);this.xf.delayTime.value=a;this.gd=F.createOscillator();this.gd.frequency.value=c;this.Me=d();this.Me.gain.value=b;this.lb.connect(this.xf);this.lb.connect(this.Ka);this.xf.connect(this.Oa);this.xf.connect(this.Mo);
this.Mo.connect(this.xf);this.gd.connect(this.Me);this.Me.connect(this.xf.delayTime);h(this.gd)}function p(a,b,c,e,f,g){this.type="phaser";this.Eb=[a,b,c,e,f,g];this.lb=d();this.Ka=d();this.Ka.gain.value=1-g/2;this.Oa=d();this.Oa.gain.value=g/2;this.Bc=F.createBiquadFilter();this.Bc.type="number"===typeof this.Bc.type?7:"allpass";this.Bc.frequency.value=a;this.Bc.detune&&(this.Bc.detune.value=b);this.Bc.Q.value=c;this.gd=F.createOscillator();this.gd.frequency.value=f;this.Me=d();this.Me.gain.value=
e;this.lb.connect(this.Bc);this.lb.connect(this.Ka);this.Bc.connect(this.Oa);this.gd.connect(this.Me);this.Me.connect(this.Bc.frequency);h(this.gd)}function r(a){this.type="gain";this.Eb=[a];this.sb=d();this.sb.gain.value=a}function u(a,b){this.type="tremolo";this.Eb=[a,b];this.sb=d();this.sb.gain.value=1-b/2;this.gd=F.createOscillator();this.gd.frequency.value=a;this.Me=d();this.Me.gain.value=b/2;this.gd.connect(this.Me);this.Me.connect(this.sb.gain);h(this.gd)}function t(a,b){this.type="ringmod";
this.Eb=[a,b];this.lb=d();this.Oa=d();this.Oa.gain.value=b;this.Ka=d();this.Ka.gain.value=1-b;this.qn=d();this.qn.gain.value=0;this.gd=F.createOscillator();this.gd.frequency.value=a;this.gd.connect(this.qn.gain);h(this.gd);this.lb.connect(this.qn);this.lb.connect(this.Ka);this.qn.connect(this.Oa)}function v(a,b,c,e,f){this.type="distortion";this.Eb=[a,b,c,e,f];this.lb=d();this.dq=d();this.cq=d();this.CF(c,Math.pow(10,e/20));this.Oa=d();this.Oa.gain.value=f;this.Ka=d();this.Ka.gain.value=1-f;this.Uq=
F.createWaveShaper();this.Bo=new Float32Array(65536);this.AD(a,b);this.Uq.Bo=this.Bo;this.lb.connect(this.dq);this.lb.connect(this.Ka);this.dq.connect(this.Uq);this.Uq.connect(this.cq);this.cq.connect(this.Oa)}function q(a,b,c,d,e){this.type="compressor";this.Eb=[a,b,c,d,e];this.sb=F.createDynamicsCompressor();try{this.sb.threshold.value=a,this.sb.knee.value=b,this.sb.ratio.value=c,this.sb.attack.value=d,this.sb.release.value=e}catch(f){}}function x(a,b){this.type="analyser";this.Eb=[a,b];this.sb=
F.createAnalyser();this.sb.fftSize=a;this.sb.smoothingTimeConstant=b;this.xD=new Float32Array(this.sb.frequencyBinCount);this.My=new Uint8Array(a);this.Xm=0}function B(){this.Ea=null;this.Bp=0;this.Gi=[];this.At=this.tp=this.sp=0}function E(a,b){this.src=a;this.ib=R;this.Bf=b;this.$n=!1;var c=this;this.yt=this.Mt=null;this.Gj=[];this.oq=0;this.Mu=this.Lo=this.Ty=this.Xp=!1;1===R&&b&&!xb&&(this.ib=0,this.Mt=d());this.Zg=this.yb=null;var e;switch(this.ib){case 0:this.yb=new Audio;this.yb.crossOrigin=
"anonymous";this.yb.addEventListener("canplaythrough",function(){c.Mu=!0});1===R&&F.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Ty=!0,this.yb.addEventListener("canplay",function(){c.yt||(c.yt=F.createMediaElementSource(c.yb),c.yt.connect(c.Mt))}));this.yb.autoplay=!1;this.yb.eH="auto";this.yb.src=a;break;case 1:H.qm?H.hw(a,function(a){c.Zg=a;c.Vv()},function(){c.Lo=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.Zg=e.response;
c.Vv()},e.onerror=function(){c.Lo=!0},e.send());break;case 2:this.yb=!0;break;case 3:this.yb=!0}}function A(a,c){var e=this;this.tag=c;this.hd=this.Cg=!0;this.src=a.src;this.buffer=a;this.ib=R;this.Bf=a.Bf;this.playbackRate=1;this.rk=!0;this.He=this.kf=!1;this.ve=0;this.rm=this.yk=this.Gg=!1;this.volume=1;this.Kt=function(a){if(!e.He&&!e.kf){var b=this;b||(b=a.target);b===e.Zn&&(e.rk=!0,e.hd=!0,P=e.tag,H.trigger(kd.prototype.D.Tn,I))}};this.Zn=null;this.vk=1===M&&!this.Bf||2===M;this.Pk=1;this.startTime=
this.vk?H.dd.Sa:H.Gh.Sa;this.vc=this.Rc=null;this.Kg=!1;this.uc=null;this.Xx=this.Wx=this.Vx=this.Ux=this.Zx=this.Yx=0;this.V=null;var f=!1;1!==this.ib||0!==this.buffer.ib||this.buffer.Ty||(this.ib=0);switch(this.ib){case 0:this.Bf?(this.V=a.yb,f=!a.$n,a.$n=!0):(this.V=new Audio,this.V.crossOrigin="anonymous",this.V.autoplay=!1,this.V.src=a.yb.src,f=!0);f&&this.V.addEventListener("ended",function(){P=e.tag;e.hd=!0;H.trigger(kd.prototype.D.Tn,I)});break;case 1:this.Rc=d();this.Rc.connect(b(c));1===
this.buffer.ib?a.yb&&(this.V=F.createBufferSource(),this.V.buffer=a.yb,this.V.connect(this.Rc)):(this.V=this.buffer.yb,this.buffer.Mt.connect(this.Rc),this.buffer.$n||(this.buffer.$n=!0,this.buffer.yb.addEventListener("ended",function(){P=e.tag;e.hd=!0;H.trigger(kd.prototype.D.Tn,I)})));break;case 2:this.V=new window.Media(ca+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.rk=!0,e.hd=!0,P=e.tag,H.trigger(kd.prototype.D.Tn,I))});break;case 3:this.V=!0}}function D(a,b){ia.hasOwnProperty(a)?
ia[a].push(b):ia[a]=[b];var c,d,e,f,g=F.destination;if(ia.hasOwnProperty(a)&&(e=ia[a],e.length))for(g=e[0].Ye(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.vf(F.destination):f.vf(e[c+1].Ye());G(zb);if(a.length)for(c=0,d=T.length;c<d;c++)e=T[c],Wb(a,e.tag)&&zb.push(e);else S&&!S.ij()&&(G(zb),zb[0]=S);c=0;for(d=zb.length;c<d;c++)zb[c].nF(g);La&&Nb===a&&(La.disconnect(),La.connect(g))}function C(){}function w(){}var y=kd.prototype;y.xa=function(a){this.jb=a;this.i=a.i};y.xa.prototype.ka=function(){};var H=
null,I=null,P="",ca="",R=0,F=null,Z=[],T=[],S=null,J=!1,M=0,O=!1,K=1,N=0,U=0,ha=!1,Q=1,sa=1,oa=10,Va=1E4,Sd=1,La=null,Nb="",wa=!1,Ab=[],xb=!1,ia={},dd="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");l.prototype.vf=function(a){this.Oa.disconnect();this.Oa.connect(a);this.Ka.disconnect();this.Ka.connect(a)};l.prototype.remove=function(){this.lb.disconnect();this.Bc.disconnect();this.Oa.disconnect();this.Ka.disconnect()};l.prototype.Ye=function(){return this.lb};n.prototype.vf=
function(a){this.Oa.disconnect();this.Oa.connect(a);this.Ka.disconnect();this.Ka.connect(a)};n.prototype.remove=function(){this.lb.disconnect();this.Qm.disconnect();this.xf.disconnect();this.Do.disconnect();this.Oa.disconnect();this.Ka.disconnect()};n.prototype.Ye=function(){return this.lb};k.prototype.vf=function(a){this.Oa.disconnect();this.Oa.connect(a);this.Ka.disconnect();this.Ka.connect(a)};k.prototype.remove=function(){this.lb.disconnect();this.Xi.disconnect();this.Oa.disconnect();this.Ka.disconnect()};
k.prototype.Ye=function(){return this.lb};m.prototype.vf=function(a){this.Ka.disconnect();this.Ka.connect(a);this.Oa.disconnect();this.Oa.connect(a)};m.prototype.remove=function(){this.lb.disconnect();this.xf.disconnect();this.gd.disconnect();this.Me.disconnect();this.Ka.disconnect();this.Oa.disconnect();this.Mo.disconnect()};m.prototype.Ye=function(){return this.lb};p.prototype.vf=function(a){this.Ka.disconnect();this.Ka.connect(a);this.Oa.disconnect();this.Oa.connect(a)};p.prototype.remove=function(){this.lb.disconnect();
this.Bc.disconnect();this.gd.disconnect();this.Me.disconnect();this.Ka.disconnect();this.Oa.disconnect()};p.prototype.Ye=function(){return this.lb};r.prototype.vf=function(a){this.sb.disconnect();this.sb.connect(a)};r.prototype.remove=function(){this.sb.disconnect()};r.prototype.Ye=function(){return this.sb};u.prototype.vf=function(a){this.sb.disconnect();this.sb.connect(a)};u.prototype.remove=function(){this.gd.disconnect();this.Me.disconnect();this.sb.disconnect()};u.prototype.Ye=function(){return this.sb};
t.prototype.vf=function(a){this.Oa.disconnect();this.Oa.connect(a);this.Ka.disconnect();this.Ka.connect(a)};t.prototype.remove=function(){this.gd.disconnect();this.qn.disconnect();this.lb.disconnect();this.Oa.disconnect();this.Ka.disconnect()};t.prototype.Ye=function(){return this.lb};v.prototype.CF=function(a,b){.01>a&&(a=.01);this.dq.gain.value=a;this.cq.gain.value=Math.pow(1/a,.6)*b};v.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));
return b*c};v.prototype.AD=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Bo[32768+f]=e,this.Bo[32768-f-1]=-e};v.prototype.vf=function(a){this.Oa.disconnect();this.Oa.connect(a);this.Ka.disconnect();this.Ka.connect(a)};v.prototype.remove=function(){this.lb.disconnect();this.dq.disconnect();this.Uq.disconnect();this.cq.disconnect();this.Oa.disconnect();this.Ka.disconnect()};v.prototype.Ye=function(){return this.lb};q.prototype.vf=
function(a){this.sb.disconnect();this.sb.connect(a)};q.prototype.remove=function(){this.sb.disconnect()};q.prototype.Ye=function(){return this.sb};x.prototype.wb=function(){this.sb.getFloatFrequencyData(this.xD);this.sb.getByteTimeDomainData(this.My);for(var a=this.sb.fftSize,b=0,d=this.Xm=0,e=0;b<a;b++)e=(this.My[b]-128)/128,0>e&&(e=-e),this.Xm<e&&(this.Xm=e),d+=e*e;this.Xm=c(this.Xm);c(Math.sqrt(d/a))};x.prototype.vf=function(a){this.sb.disconnect();this.sb.connect(a)};x.prototype.remove=function(){this.sb.disconnect()};
x.prototype.Ye=function(){return this.sb};B.prototype.Xk=function(a){if(this.Ea=a)this.sp=this.Ea.x,this.tp=this.Ea.y;G(this.Gi)};B.prototype.ep=function(){return!!this.Ea};B.prototype.wb=function(a){this.Ea&&0!==a&&(this.At=Xa(this.sp,this.tp,this.Ea.x,this.Ea.y),a=db(this.sp,this.tp,this.Ea.x,this.Ea.y)/a,4>this.Gi.length||this.Gi.shift(),this.Gi.push(a),this.sp=this.Ea.x,this.tp=this.Ea.y)};B.prototype.Wl=function(){if(!this.Gi.length)return 0;var a,b,c=0;a=0;for(b=this.Gi.length;a<b;a++)c+=this.Gi[a];
return c/this.Gi.length};B.prototype.us=function(){return Math.cos(this.At)*this.Wl()};B.prototype.vs=function(){return Math.sin(this.At)*this.Wl()};var cc=!1;E.prototype.oF=function(){var a,b,c,d;c=a=0;for(b=T.length;a<b;++a)d=T[a],T[c]=d,d.buffer===this?d.stop():++c;T.length=c;this.Zg=this.yb=null};E.prototype.Vv=function(){if(!this.yb&&this.Zg){var a=this;if(F.decodeAudioData)F.decodeAudioData(this.Zg,function(b){a.yb=b;a.Zg=null;var c,d,e;if(ka(a.$p)||O)ka(a.uo)||(c=a.uo.Xi,c.normalize=a.Kx,c.buffer=
b);else if(a.Gj.length){c=0;for(d=a.Gj.length;c<d;c++){b=a.Gj[c];e=new A(a,b.vu);e.ku(!0);if("undefined"!==typeof b.Mx&&(b.Ea=H.Yf(b.Mx),!b.Ea))continue;if(b.Ea){var f=cb(b.Ea.x,b.Ea.y,-b.Ea.M.Qb(),N,U,!0),g=cb(b.Ea.x,b.Ea.y,-b.Ea.M.Qb(),N,U,!1);e.tq(f,g,Qa(b.Ea.K-b.Ea.M.Qb()),b.fp,b.Mp,b.Qp);e.Xk(b.Ea)}else e.tq(b.x,b.y,b.N,b.fp,b.Mp,b.Qp);e.play(a.ot,a.Ku,a.oq);a.Xp&&e.pause();T.push(e)}G(a.Gj)}else e=new A(a,a.$p||""),e.play(a.ot,a.Ku,a.oq),a.Xp&&e.pause(),T.push(e)},function(){a.Lo=!0});else if(this.yb=
F.createBuffer(this.Zg,!1),this.Zg=null,ka(this.$p)||O)ka(this.uo)||(b=this.uo.Xi,b.normalize=this.Kx,b.buffer=this.yb);else{var b=new A(this,this.$p);b.play(this.ot,this.Ku,this.oq);this.Xp&&b.pause();T.push(b)}}};E.prototype.Nw=function(){switch(this.ib){case 0:var a=4<=this.yb.readyState;a&&(this.Mu=!0);return a||this.Mu;case 1:return!!this.Zg||!!this.yb;case 2:return!0;case 3:return!0}return!1};E.prototype.vE=function(){switch(this.ib){case 0:return this.Nw();case 1:return!!this.yb;case 2:return!0;
case 3:return!0}return!1};E.prototype.lE=function(){switch(this.ib){case 0:return!!this.yb.error;case 1:return this.Lo}return!1};A.prototype.ij=function(){switch(this.ib){case 0:return this.V.ended;case 1:return 1===this.buffer.ib?!this.Cg&&!this.hd&&this.V.loop||this.He?!1:this.rk:this.V.ended;case 2:return this.rk;case 3:!0}return!0};A.prototype.ZB=function(){return this.Cg||this.hd?!0:this.ij()};A.prototype.ku=function(a){1===R&&(!this.Kg&&a?this.Rc&&(this.vc||(this.vc=F.createPanner(),this.vc.panningModel=
"number"===typeof this.vc.panningModel?Q:["equalpower","HRTF","soundfield"][Q],this.vc.distanceModel="number"===typeof this.vc.distanceModel?sa:["linear","inverse","exponential"][sa],this.vc.refDistance=oa,this.vc.maxDistance=Va,this.vc.rolloffFactor=Sd),this.Rc.disconnect(),this.Rc.connect(this.vc),this.vc.connect(b(this.tag)),this.Kg=!0):this.Kg&&!a&&this.Rc&&(this.vc.disconnect(),this.Rc.disconnect(),this.Rc.connect(b(this.tag)),this.Kg=!1))};A.prototype.tq=function(a,b,c,d,e,f){this.Kg&&1===R&&
(this.vc.setPosition(a,b,0),this.vc.setOrientation(Math.cos(Pa(c)),Math.sin(Pa(c)),0),this.vc.coneInnerAngle=d,this.vc.coneOuterAngle=e,this.vc.coneOuterGain=f,this.Yx=a,this.Zx=b,this.Ux=c,this.Vx=d,this.Wx=e,this.Xx=f)};A.prototype.Xk=function(a){this.Kg&&1===R&&(this.uc||(this.uc=new B),this.uc.Xk(a))};A.prototype.wb=function(a){if(this.Kg&&1===R&&this.uc&&this.uc.ep()&&this.pm()){this.uc.wb(a);a=this.uc.Ea;var b=cb(a.x,a.y,-a.M.Qb(),N,U,!0),c=cb(a.x,a.y,-a.M.Qb(),N,U,!1);this.vc.setPosition(b,
c,0);b=0;"undefined"!==typeof this.uc.Ea.K&&(b=a.K-a.M.Qb(),this.vc.setOrientation(Math.cos(b),Math.sin(b),0));b=cb(this.uc.us(),this.uc.vs(),-a.M.Qb(),0,0,!0);c=cb(this.uc.us(),this.uc.vs(),-a.M.Qb(),0,0,!1);this.vc.setVelocity(b,c,0)}};A.prototype.play=function(a,b,c,d){var e=this.V;this.Gg=a;this.volume=b;c=c||0;d=d||0;switch(this.ib){case 0:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==b*K&&(e.volume=b*K);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=!1);if(e.currentTime!==c)try{e.currentTime=
c}catch(g){}if(this.Bf&&wa&&!H.Pb)Ab.push(this);else try{this.V.play()}catch(k){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",k)}break;case 1:this.muted=!1;this.Pk=1;if(1===this.buffer.ib)this.Rc.gain.value=b*K,this.Cg||(this.V=F.createBufferSource(),this.V.buffer=this.buffer.yb,this.V.connect(this.Rc)),this.V.onended=this.Kt,this.Zn=this.V,this.V.loop=a,this.rk=!1,0===c?h(this.V,d):f(this.V,c,this.fj(),d);else{1!==e.playbackRate&&(e.playbackRate=
1);e.loop!==a&&(e.loop=a);e.volume=b*K;if(e.currentTime!==c)try{e.currentTime=c}catch(l){}this.Bf&&wa&&!H.Pb?Ab.push(this):e.play()}break;case 2:(!this.Cg&&this.hd||0!==c)&&e.seekTo(c);e.play();this.rk=!1;break;case 3:H.Fd?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.vk?H.dd.Sa:H.Gh.Sa)-c;this.He=this.hd=this.Cg=!1};A.prototype.stop=function(){switch(this.ib){case 0:this.V.paused||this.V.pause();break;case 1:1===this.buffer.ib?
g(this.V):this.V.paused||this.V.pause();break;case 2:this.V.stop();break;case 3:H.Fd&&AppMobi.context.stopSound(this.src)}this.hd=!0;this.He=!1};A.prototype.pause=function(){if(!(this.Cg||this.hd||this.ij()||this.He)){switch(this.ib){case 0:this.V.paused||this.V.pause();break;case 1:1===this.buffer.ib?(this.ve=this.os(!0),this.Gg&&(this.ve=this.ve%this.fj()),this.He=!0,g(this.V)):this.V.paused||this.V.pause();break;case 2:this.V.pause();break;case 3:H.Fd&&AppMobi.context.stopSound(this.src)}this.He=
!0}};A.prototype.sF=function(){if(!(this.Cg||this.hd||this.ij())&&this.He){switch(this.ib){case 0:this.V.play();break;case 1:1===this.buffer.ib?(this.V=F.createBufferSource(),this.V.buffer=this.buffer.yb,this.V.connect(this.Rc),this.V.onended=this.Kt,this.Zn=this.V,this.V.loop=this.Gg,this.Rc.gain.value=K*this.volume*this.Pk,this.Qq(),this.startTime=(this.vk?H.dd.Sa:H.Gh.Sa)-this.ve/(this.playbackRate||.001),f(this.V,this.ve,this.fj())):this.V.play();break;case 2:this.V.play();break;case 3:H.Fd&&
AppMobi.context.resumeSound(this.src)}this.He=!1}};A.prototype.seek=function(a){if(!(this.Cg||this.hd||this.ij()))switch(this.ib){case 0:try{this.V.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.ib)this.He?this.ve=a:(this.pause(),this.ve=a,this.sF());else try{this.V.currentTime=a}catch(c){}break;case 3:H.Fd&&AppMobi.context.seekSound(this.src,a)}};A.prototype.nF=function(a){1===this.ib&&(this.Kg?(this.vc.disconnect(),this.vc.connect(a)):(this.Rc.disconnect(),this.Rc.connect(a)))};A.prototype.fj=
function(){var a=0;switch(this.ib){case 0:"undefined"!==typeof this.V.duration&&(a=this.V.duration);break;case 1:a=this.buffer.yb.duration;break;case 2:a=this.V.getDuration();break;case 3:H.Fd&&(a=AppMobi.context.getDurationSound(this.src))}return a};A.prototype.os=function(a){var b=this.fj(),c=0;switch(this.ib){case 0:"undefined"!==typeof this.V.currentTime&&(c=this.V.currentTime);break;case 1:if(1===this.buffer.ib){if(this.He)return this.ve;c=(this.vk?H.dd.Sa:H.Gh.Sa)-this.startTime}else"undefined"!==
typeof this.V.currentTime&&(c=this.V.currentTime);break;case 3:H.Fd&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Gg&&c>b&&(c=b);return c};A.prototype.pm=function(){return!this.He&&!this.Cg&&!this.hd&&!this.ij()};A.prototype.HF=function(){return!this.Cg&&!this.hd&&!this.ij()};A.prototype.UF=function(){var a=this.volume*K;isFinite(a)||(a=0);switch(this.ib){case 0:"undefined"!==typeof this.V.volume&&this.V.volume!==a&&(this.V.volume=a);break;case 1:1===this.buffer.ib?
this.Rc.gain.value=a*this.Pk:"undefined"!==typeof this.V.volume&&this.V.volume!==a&&(this.V.volume=a)}};A.prototype.Io=function(a){switch(this.ib){case 0:this.V.muted!==!!a&&(this.V.muted=!!a);break;case 1:1===this.buffer.ib?(this.Pk=a?0:1,this.Rc.gain.value=K*this.volume*this.Pk):this.V.muted!==!!a&&(this.V.muted=!!a)}};A.prototype.DF=function(){this.yk=!0;this.Io(this.yk||this.rm)};A.prototype.Ey=function(a){this.rm=!!a;this.Io(this.yk||this.rm)};A.prototype.Qq=function(){var a=this.playbackRate;
this.vk&&(a*=H.ig);switch(this.ib){case 0:this.V.playbackRate!==a&&(this.V.playbackRate=a);break;case 1:1===this.buffer.ib?this.V.playbackRate.value!==a&&(this.V.playbackRate.value=a):this.V.playbackRate!==a&&(this.V.playbackRate=a)}};A.prototype.FF=function(a){switch(this.ib){case 0:a?this.pm()?(this.kf=!0,this.V.pause()):this.kf=!1:this.kf&&(this.V.play(),this.kf=!1);break;case 1:a?this.pm()?(this.kf=!0,1===this.buffer.ib?(this.ve=this.os(!0),this.Gg&&(this.ve=this.ve%this.fj()),g(this.V)):this.V.pause()):
this.kf=!1:this.kf&&(1===this.buffer.ib?(this.V=F.createBufferSource(),this.V.buffer=this.buffer.yb,this.V.connect(this.Rc),this.V.onended=this.Kt,this.Zn=this.V,this.V.loop=this.Gg,this.Rc.gain.value=K*this.volume*this.Pk,this.Qq(),this.startTime=(this.vk?H.dd.Sa:H.Gh.Sa)-this.ve/(this.playbackRate||.001),f(this.V,this.ve,this.fj())):this.V.play(),this.kf=!1);break;case 2:a?this.pm()?(this.V.pause(),this.kf=!0):this.kf=!1:this.kf&&(this.kf=!1,this.V.play())}};y.qa=function(a){function b(){if(!ha&&
F.createBuffer){var a=F.createBuffer(1,220,22050),c=F.createBufferSource();c.buffer=a;c.connect(F.destination);h(c)}}this.type=a;H=this.i=a.i;I=this;this.Zd=null;this.Im=-600;this.i.qm&&(xb=!0);!(this.i.Bk||this.i.jp&&(this.i.hm||this.i.kp))||this.i.jm||this.i.Ya||this.i.Ks||xb||(wa=!0);F=null;"undefined"!==typeof AudioContext?(R=1,F=new AudioContext):"undefined"!==typeof webkitAudioContext&&(R=1,F=new webkitAudioContext);this.i.Bk&&F&&(F.close&&F.close(),"undefined"!==typeof AudioContext?F=new AudioContext:
"undefined"!==typeof webkitAudioContext&&(F=new webkitAudioContext));wa?document.addEventListener("touchend",function(){!cc&&F&&(b(),cc=!0);var a,c,d;if(wa){if(!O)for(a=0,c=Ab.length;a<c;++a)d=Ab[a],d.hd||d.He||d.V.play();G(Ab)}},!0):xb&&document.addEventListener("touchend",function(){!cc&&F&&(b(),cc=!0)},!0);1!==R&&(this.i.Ge&&"undefined"!==typeof window.Media?R=2:this.i.Mw&&(R=3));2===R&&(ca=location.href,a=ca.lastIndexOf("/"),-1<a&&(ca=ca.substr(0,a+1)),ca=ca.replace("file://",""));if(this.i.xE&&
this.i.yE&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.i.Pe(this);else{if(this.i.Fd)J=this.i.jp;else try{J=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){J=!1}this.i.Rj(this)}};var Ga=y.qa.prototype;Ga.ka=function(){this.i.ck=this;M=this.R[0];this.Ah=this.R[1];this.$E=0!==this.R[2];this.Ix=0;Q=this.R[3];sa=this.R[4];this.Im=-this.R[5];oa=this.R[6];Va=this.R[7];Sd=this.R[8];
this.Zd=new B;var a=this.i.Ga||this.i.width,c=this.i.Fa||this.i.height;1===R&&("undefined"!==typeof F.listener.dopplerFactor&&(F.listener.dopplerFactor=0),F.listener.setPosition(a/2,c/2,this.Im),F.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){La&&La.disconnect();Nb=c.toLowerCase();La=F.createMediaStreamSource(a);La.connect(b(Nb))});this.i.qr(function(a){I.UE(a)});var d=this;this.i.$j(function(a){d.Ej(a)})};Ga.Ej=function(a){var b,c,d;b=0;for(c=T.length;b<c;b++)d=T[b],
d.uc&&d.uc.Ea===a&&(d.uc.Ea=null,d.Kg&&d.pm()&&d.Gg&&d.stop());this.Zd.Ea===a&&(this.Zd.Ea=null)};Ga.Sb=function(){var a={silent:O,masterVolume:K,listenerZ:this.Im,listenerUid:this.Zd.ep()?this.Zd.Ea.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,h;c=0;for(d=T.length;c<d;c++)e=T[c],!e.HF()||3===this.Ah||e.Bf&&1===this.Ah||!e.Bf&&2===this.Ah||(f=e.os(),e.Gg&&(f=f%e.fj()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Bf,playbackTime:f,volume:e.volume,looping:e.Gg,muted:e.yk,playbackRate:e.playbackRate,
paused:e.He,resume_position:e.ve},e.Kg&&(f.pan={},h=f.pan,e.uc&&e.uc.ep()?h.objUid=e.uc.Ea.uid:(h.x=e.Yx,h.y=e.Zx,h.a=e.Ux),h.ia=e.Vx,h.oa=e.Wx,h.og=e.Xx),b.push(f));b=a.effects;for(g in ia)if(ia.hasOwnProperty(g)){e=[];c=0;for(d=ia[g].length;c<d;c++)e.push({type:ia[g][c].type,params:ia[g][c].Eb});b[g]=e}return a};var Ob=[];Ga.Wb=function(a){var b=a.silent;K=a.masterVolume;this.Im=a.listenerZ;this.Zd.Xk(null);var c=a.listenerUid;-1!==c&&(this.Zd.Bp=c,Ob.push(this.Zd));var c=a.playing,d,e,f,g,h,E,
A,C,y,w,I;if(3!==this.Ah)for(d=0,e=T.length;d<e;d++)y=T[d],y.Bf&&1===this.Ah||(y.Bf||2!==this.Ah)&&y.stop();for(h in ia)if(ia.hasOwnProperty(h))for(d=0,e=ia[h].length;d<e;d++)ia[h][d].remove();mb(ia);for(h in a.effects)if(a.effects.hasOwnProperty(h))for(E=a.effects[h],d=0,e=E.length;d<e;d++)switch(f=E[d].type,w=E[d].params,f){case "filter":D(h,new l(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "delay":D(h,new n(w[0],w[1],w[2]));break;case "convolve":f=w[2];y=this.Rl(f,!1);y.yb?f=new k(y.yb,w[0],w[1],
f):(f=new k(null,w[0],w[1],f),y.Kx=w[0],y.uo=f);D(h,f);break;case "flanger":D(h,new m(w[0],w[1],w[2],w[3],w[4]));break;case "phaser":D(h,new p(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "gain":D(h,new r(w[0]));break;case "tremolo":D(h,new u(w[0],w[1]));break;case "ringmod":D(h,new t(w[0],w[1]));break;case "distortion":D(h,new v(w[0],w[1],w[2],w[3],w[4]));break;case "compressor":D(h,new q(w[0],w[1],w[2],w[3],w[4]));break;case "analyser":D(h,new x(w[0],w[1]))}d=0;for(e=c.length;d<e;d++)3===this.Ah||
(a=c[d],f=a.buffersrc,g=a.is_music,h=a.tag,E=a.playbackTime,A=a.looping,C=a.volume,I=(w=a.pan)&&w.hasOwnProperty("objUid")?w.objUid:-1,g&&1===this.Ah)||!g&&2===this.Ah||((y=this.rw(f,h,g,A,C))?(y.ve=a.resume_position,y.ku(!!w),y.play(A,C,E),y.Qq(),y.UF(),y.Io(y.yk||y.rm),a.paused&&y.pause(),a.muted&&y.DF(),y.Io(y.yk||y.rm),w&&(-1!==I?(y.uc=y.uc||new B,y.uc.Bp=I,Ob.push(y.uc)):y.tq(w.x,w.y,w.a,w.ia,w.oa,w.og))):(y=this.Rl(f,g),y.oq=E,y.Xp=a.paused,w&&(-1!==I?y.Gj.push({Mx:I,fp:w.ia,Mp:w.oa,Qp:w.og,
vu:h}):y.Gj.push({x:w.x,y:w.y,N:w.a,fp:w.ia,Mp:w.oa,Qp:w.og,vu:h}))));if(b&&!O){d=0;for(e=T.length;d<e;d++)T[d].Ey(!0);O=!0}else if(!b&&O){d=0;for(e=T.length;d<e;d++)T[d].Ey(!1);O=!1}};Ga.Se=function(){var a,b,c,d;a=0;for(b=Ob.length;a<b;a++)c=Ob[a],d=this.i.Yf(c.Bp),c.Xk(d),c.Bp=-1,d&&(N=d.x,U=d.y);G(Ob)};Ga.UE=function(a){if(!this.$E){!a&&F&&F.resume&&(F.resume(),ha=!1);var b,c;b=0;for(c=T.length;b<c;b++)T[b].FF(a);a&&F&&F.suspend&&(F.suspend(),ha=!0)}};Ga.wb=function(){var a=this.i.Ua,b,c,d;b=
0;for(c=T.length;b<c;b++)d=T[b],d.wb(a),0!==M&&d.Qq();var e,f;for(e in ia)if(ia.hasOwnProperty(e))for(d=ia[e],b=0,c=d.length;b<c;b++)f=d[b],f.wb&&f.wb();1===R&&this.Zd.ep()&&(this.Zd.wb(a),N=this.Zd.Ea.x,U=this.Zd.Ea.y,F.listener.setPosition(this.Zd.Ea.x,this.Zd.Ea.y,this.Im),F.listener.setVelocity(this.Zd.us(),this.Zd.vs(),0))};var Pb=[];Ga.EF=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&J||!f&&!J)Pb.push({filename:e,
size:d,Ea:null}),g+=d;return g};Ga.KF=function(){var a,b,c,d;a=0;for(b=Pb.length;a<b;++a)c=Pb[a],d=this.i.Zr+c.filename,c.Ea=this.Rl(d,!1)};Ga.OD=function(){var a=0,b,c,d;b=0;for(c=Pb.length;b<c;++b)d=Pb[b],d.Ea.vE()||d.Ea.lE()||this.i.Ya||this.i.kp?a+=d.size:d.Ea.Nw()&&(a+=Math.floor(d.size/2));return a};Ga.pF=function(){var a,b,c,d;c=a=0;for(b=Z.length;a<b;++a)d=Z[a],Z[c]=d,d.Bf?d.oF():++c;Z.length=c};Ga.Rl=function(a,b){var c,d,e,f=null;c=0;for(d=Z.length;c<d;c++)if(e=Z[c],e.src===a){f=e;break}f||
(xb&&b&&this.pF(),f=new E(a,b),Z.push(f));return f};Ga.rw=function(a,b,c,d,e){var f,g,h;f=0;for(g=T.length;f<g;f++)if(h=T[f],h.src===a&&(h.ZB()||c))return h.tag=b,h;a=this.Rl(a,c);if(!a.yb)return"<preload>"!==b&&(a.$p=b,a.ot=d,a.Ku=e),null;h=new A(a,b);T.push(h);return h};var zb=[];C.prototype.Tn=function(a){return Wb(P,a)};y.D=new C;w.prototype.kB=function(b,c,d,e,f,g,h,k){if(!O&&e&&(e=e.Tl())){d=a(d);var l=b[1];b=this.i.Zr+b[0]+(J?".ogg":".m4a");(S=this.rw(b,k,l,0!==c,d))?(S.ku(!0),k=cb(e.x,e.y,
-e.M.Qb(),N,U,!0),b=cb(e.x,e.y,-e.M.Qb(),N,U,!1),S.tq(k,b,Qa(e.K-e.M.Qb()),f,g,a(h)),S.Xk(e),S.play(0!==c,d,0,this.Ix),this.Ix=0):this.Rl(b,l).Gj.push({Ea:e,fp:f,Mp:g,Qp:a(h),vu:k})}};y.da=new w;y.La=new function(){}})();function ld(a){this.i=a}
(function(){function a(){}var c=ld.prototype;c.xa=function(a){this.jb=a;this.i=a.i};c.xa.prototype.ka=function(){};c.qa=function(a){this.type=a;this.i=a.i};c.qa.prototype.ka=function(){var a=this;window.addEventListener("resize",function(){a.i.trigger(ld.prototype.D.UA,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.i.trigger(ld.prototype.D.NA,a)}),window.addEventListener("offline",function(){a.i.trigger(ld.prototype.D.MA,a)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){a.i.Kk=1;a.i.trigger(ld.prototype.D.gr,a)}),window.applicationCache.addEventListener("progress",function(c){a.i.Kk=c.loaded/c.total||0}));this.i.Fd||(document.addEventListener("appMobi.device.update.available",function(){a.i.trigger(ld.prototype.D.gr,a)}),document.addEventListener("backbutton",function(){a.i.trigger(ld.prototype.D.Rn,a)}),document.addEventListener("menubutton",function(){a.i.trigger(ld.prototype.D.hv,a)}),document.addEventListener("searchbutton",
function(){a.i.trigger(ld.prototype.D.WA,a)}),document.addEventListener("tizenhwkey",function(c){var e;switch(c.keyName){case "back":e=a.i.trigger(ld.prototype.D.Rn,a);!e&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(e=a.i.trigger(ld.prototype.D.hv,a))||c.preventDefault()}}));this.i.Rs&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(c){a.i.trigger(ld.prototype.D.Rn,a)&&(c.dp=
!0)}):this.i.Qs&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.i.trigger(ld.prototype.D.Rn,a)});this.i.qr(function(c){c?a.i.trigger(ld.prototype.D.OA,a):a.i.trigger(ld.prototype.D.PA,a)})};a.prototype.NA=function(){return!0};a.prototype.MA=function(){return!0};a.prototype.aA=function(){return"undefined"===typeof window.applicationCache?!1:window.applicationCache.status===window.applicationCache.DOWNLOADING};a.prototype.gr=function(){return!0};a.prototype.PA=function(){return!0};
a.prototype.OA=function(){return!0};a.prototype.UA=function(){return!0};a.prototype.Rn=function(){return!0};a.prototype.hv=function(){return!0};a.prototype.WA=function(){return!0};c.D=new a;c.da=new function(){};c.La=new function(){}})();function md(a){this.i=a}
(function(){function a(){}function c(){}var b=md.prototype;b.xa=function(a){this.jb=a;this.i=a.i};b.xa.prototype.ka=function(){};b.qa=function(a){this.type=a;this.i=a.i};var d=b.qa.prototype;d.ka=function(){this.i.Ya?fa("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.tk=1===this.R[0],this.bf=document.createElement("input"),this.W=this.tk?document.createElement("label"):this.bf,this.xm=null,this.bf.type=this.tk?"checkbox":"button",this.bf.id=this.R[6],
jQuery(this.W).appendTo(this.i.ek?this.i.ek:"body"),this.tk?(jQuery(this.bf).appendTo(this.W),this.xm=document.createTextNode(this.R[1]),jQuery(this.W).append(this.xm),this.bf.checked=0!==this.R[7],jQuery(this.W).css("font-family","sans-serif"),jQuery(this.W).css("display","inline-block"),jQuery(this.W).css("color","black")):this.bf.value=this.R[1],this.W.title=this.R[2],this.bf.disabled=0===this.R[4],this.xr=0!==this.R[5],this.le=!1,0===this.R[3]&&(jQuery(this.W).hide(),this.visible=!1,this.le=!0),
this.bf.onclick=function(a){return function(b){b.stopPropagation();a.i.Pb=!0;a.i.trigger(md.prototype.D.Sn,a);a.i.Pb=!1}}(this),this.W.addEventListener("touchstart",function(a){a.stopPropagation()},!1),this.W.addEventListener("touchmove",function(a){a.stopPropagation()},!1),this.W.addEventListener("touchend",function(a){a.stopPropagation()},!1),jQuery(this.W).mousedown(function(a){a.stopPropagation()}),jQuery(this.W).mouseup(function(a){a.stopPropagation()}),jQuery(this.W).keydown(function(a){a.stopPropagation()}),
jQuery(this.W).keyup(function(a){a.stopPropagation()}),this.Em=this.Fm=this.ym=this.Cm=this.Dm=this.Am=0,this.En(!0),this.i.Rj(this))};d.Sb=function(){var a={tooltip:this.W.title,disabled:!!this.bf.disabled};this.tk?(a.checked=!!this.bf.checked,a.text=this.xm.nodeValue):a.text=this.W.value;return a};d.Wb=function(a){this.W.title=a.tooltip;this.bf.disabled=a.disabled;this.tk?(this.bf.checked=a.checked,this.xm.nodeValue=a.text):this.W.value=a.text};d.ff=function(){this.i.Ya||(jQuery(this.W).remove(),
this.W=null)};d.wb=function(){this.En()};d.En=function(a){if(!this.i.Ya){var b=this.M.Ab(this.x,this.y,!0),c=this.M.Ab(this.x,this.y,!1),d=this.M.Ab(this.x+this.width,this.y+this.height,!0),l=this.M.Ab(this.x+this.width,this.y+this.height,!1),n=this.i.width/this.i.devicePixelRatio,k=this.i.height/this.i.devicePixelRatio;!this.visible||!this.M.visible||0>=d||0>=l||b>=n||c>=k?(this.le||jQuery(this.W).hide(),this.le=!0):(1>b&&(b=1),1>c&&(c=1),d>=n&&(d=n-1),l>=k&&(l=k-1),n=window.innerWidth,k=window.innerHeight,
a||this.Am!==b||this.Dm!==c||this.Cm!==d||this.ym!==l||this.Fm!==n||this.Em!==k?(this.Am=b,this.Dm=c,this.Cm=d,this.ym=l,this.Fm=n,this.Em=k,this.le&&(jQuery(this.W).show(),this.le=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,n=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.W).css("position","absolute"),jQuery(this.W).offset({left:a,top:n}),jQuery(this.W).width(Math.round(d-b)),jQuery(this.W).height(Math.round(l-c)),this.xr&&jQuery(this.W).css("font-size",this.M.Vd(!0)/this.i.devicePixelRatio-
.2+"em")):this.le&&(jQuery(this.W).show(),this.le=!1))}};d.We=function(){};d.od=function(){};a.prototype.Sn=function(){return!0};b.D=new a;c.prototype.lr=function(a){this.i.Ya||(this.tk?this.xm.nodeValue=a:this.W.value=a)};c.prototype.rl=function(a){this.i.Ya||(this.visible=0!==a)};c.prototype.qf=function(a){this.i.Ya||(this.bf.disabled=0===a)};b.da=new c;b.La=new function(){}})();function jd(a){this.i=a}
(function(){function a(){this.name="";this.nn=0;this.Eb=[]}function c(){g++;g===f.length&&f.push(new a);return f[g]}function b(){}function d(){}function e(){}var h=jd.prototype;h.xa=function(a){this.jb=a;this.i=a.i};h.xa.prototype.ka=function(){};h.qa=function(a){this.type=a;this.i=a.i};var f=[],g=-1;h.qa.prototype.ka=function(){var a=this;window.c2_callFunction=function(b,d){var e,f,h,u=c();u.name=b.toLowerCase();u.nn=0;if(d)for(u.Eb.length=d.length,e=0,f=d.length;e<f;++e)h=d[e],u.Eb[e]="number"===
typeof h||"string"===typeof h?h:"boolean"===typeof h?h?1:0:0;else G(u.Eb);a.i.trigger(jd.prototype.D.Un,a,u.name);g--;return u.nn}};b.prototype.Un=function(a){var b=0>g?null:f[g];return b?Wb(a,b.name):!1};h.D=new b;d.prototype.CallFunction=function(a,b){var d=c();d.name=a.toLowerCase();d.nn=0;Ha(d.Eb,b);this.i.trigger(jd.prototype.D.Un,this,d.name);g--};h.da=new d;e.prototype.Gz=function(a,b){var d=c();d.name=b.toLowerCase();d.nn=0;G(d.Eb);var e,f;e=2;for(f=arguments.length;e<f;e++)d.Eb.push(arguments[e]);
this.i.trigger(jd.prototype.D.Un,this,d.name);g--;a.Hy(d.nn)};h.La=new e})();function nd(a){this.i=a}
(function(){function a(){}var c=nd.prototype;c.xa=function(a){this.jb=a;this.i=a.i};c.xa.prototype.ka=function(){};c.qa=function(a){this.type=a;this.i=a.i;this.Ek=Array(256);this.Fn=Array(256);this.Fh=0};var b=c.qa.prototype;b.ka=function(){var a=this;this.i.Ya||(jQuery(document).keydown(function(b){a.Et(b)}),jQuery(document).keyup(function(b){a.Ft(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.Et=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Ek[a.which])this.Fn[a.which]&&!b&&a.preventDefault();else{this.Ek[a.which]=!0;this.Fh=a.which;this.i.Pb=!0;this.i.trigger(nd.prototype.D.Tu,this);var c=this.i.trigger(nd.prototype.D.Zu,this),g=this.i.trigger(nd.prototype.D.IA,this);this.i.Pb=!1;if(c||g)this.Fn[a.which]=!0,b||a.preventDefault()}};b.Ft=function(a){this.Ek[a.which]=!1;this.Fh=a.which;this.i.Pb=!0;this.i.trigger(nd.prototype.D.Uu,this);var b=this.i.trigger(nd.prototype.D.bv,this),c=this.i.trigger(nd.prototype.D.$u,this);this.i.Pb=
!1;if(b||c||this.Fn[a.which])this.Fn[a.which]=!0,a.preventDefault()};b.Fj=function(){var a;for(a=0;256>a;++a)if(this.Ek[a]){this.Ek[a]=!1;this.Fh=a;this.i.trigger(nd.prototype.D.Uu,this);var b=this.i.trigger(nd.prototype.D.bv,this),c=this.i.trigger(nd.prototype.D.$u,this);if(b||c)this.Fn[a]=!0}};b.Sb=function(){return{triggerKey:this.Fh}};b.Wb=function(a){this.Fh=a.triggerKey};a.prototype.dA=function(a){return this.Ek[a]};a.prototype.Zu=function(a){return a===this.Fh};a.prototype.Tu=function(){return!0};
a.prototype.Uu=function(){return!0};a.prototype.bv=function(a){return a===this.Fh};a.prototype.IA=function(a){return a===this.Fh};a.prototype.$u=function(a){return a===this.Fh};c.D=new a;c.da=new function(){};c.La=new function(){}})();function yd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=yd.prototype;d.xa=function(a){this.jb=a;this.i=a.i};d.xa.prototype.ka=function(){};d.qa=function(a){this.type=a;this.i=a.i;this.no=Array(4);this.fz=this.Kq=this.dl=this.sh=this.rh=0;this.dp=!1};var e=d.qa.prototype;e.ka=function(){var a=this;if(!this.i.Ya){jQuery(document).mousemove(function(b){a.Ht(b)});jQuery(document).mousedown(function(b){a.Gt(b)});jQuery(document).mouseup(function(b){a.It(b)});jQuery(document).dblclick(function(b){a.SE(b)});
var b=function(b){a.VE(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var h={left:0,top:0};e.Ht=function(a){var b=this.i.Ya?h:jQuery(this.i.canvas).offset();this.rh=a.pageX-b.left;this.sh=a.pageY-b.top};e.Dx=function(){return 0<this.i.Td?!0:0<=this.rh&&0<=this.sh&&this.rh<this.i.width&&this.sh<this.i.height};e.Gt=function(a){this.Dx()&&(this.no[a.which]=!0,this.i.Pb=!0,this.i.trigger(yd.prototype.D.nA,this),this.dl=a.which-1,this.Kq=0,this.i.trigger(yd.prototype.D.Zq,
this),this.i.trigger(yd.prototype.D.br,this),this.i.Pb=!1)};e.It=function(a){this.no[a.which]&&(this.i.bp&&!this.i.Fg&&a.preventDefault(),this.i.bp=!0,this.no[a.which]=!1,this.i.Pb=!0,this.dl=a.which-1,this.i.trigger(yd.prototype.D.TA,this),this.i.Pb=!1)};e.SE=function(a){this.Dx()&&(a.preventDefault(),this.i.Pb=!0,this.dl=a.which-1,this.Kq=1,this.i.trigger(yd.prototype.D.Zq,this),this.i.trigger(yd.prototype.D.br,this),this.i.Pb=!1)};e.VE=function(a){this.fz=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.dp=!1;this.i.Pb=!0;this.i.trigger(yd.prototype.D.fB,this);this.i.Pb=!1;this.dp&&Xb(a)&&a.preventDefault()};a.prototype.Zq=function(a,b){return a===this.dl&&b===this.Kq};a.prototype.nA=function(){return!0};a.prototype.Su=function(a){return this.no[a+1]};a.prototype.TA=function(a){return a===this.dl};a.prototype.fA=function(a){var b=this.i.Sl();return ib(this.i.bl(a,this.rh,this.sh,b.sk),b.sk)};a.prototype.br=function(a,b,c){return a!==this.dl||b!==this.Kq?!1:this.i.bl(c,this.rh,
this.sh,!1)};a.prototype.fB=function(a){this.dp=!0;return a===this.fz};d.D=new a;var f=null;c.prototype.qB=function(a){this.i.Ya||this.i.Fg||!a||(a=a.Tl())&&a.Qc&&(a=a.Qc,f!==a&&(f=a,a="url("+a.HD()+") "+Math.round(a.Wd*a.width)+" "+Math.round(a.Xd*a.height)+", auto",document.body.style.cursor="",document.body.style.cursor=a))};d.da=new c;b.prototype.mr=function(a,b){var c,d,e,f,h;ka(b)?(c=this.i.ih(0),d=c.scale,e=c.Qd,f=c.pe,h=c.K,c.scale=1,c.Qd=1,c.pe=1,c.K=0,a.ua(c.oc(this.rh,this.sh,!0)),c.scale=
d,c.Qd=e,c.pe=f,c.K=h):(c=ma(b)?this.i.ih(b):this.i.Ul(b))?a.ua(c.oc(this.rh,this.sh,!0)):a.ua(0)};b.prototype.nr=function(a,b){var c,d,e,f,h;ka(b)?(c=this.i.ih(0),d=c.scale,e=c.Qd,f=c.qe,h=c.K,c.scale=1,c.Qd=1,c.qe=1,c.K=0,a.ua(c.oc(this.rh,this.sh,!1)),c.scale=d,c.Qd=e,c.qe=f,c.K=h):(c=ma(b)?this.i.ih(b):this.i.Ul(b))?a.ua(c.oc(this.rh,this.sh,!1)):a.ua(0)};d.La=new b})();function zd(a){this.i=a}
(function(){function a(a){this.n=a;this.history=[]}function c(a){this.OE=a;this.K=this.y=this.x=this.timestamp=0;this.hi=[]}function b(a,b,c,d){a=b-a;if(0===a)return 0;b=ra(a);if(b<=ra(c/10)||1>b||1E3<=b)return a;var e=b/50;d&&(e=ta(e,1));d=ra(c/5);10<=b&&(e=b/10,d=ra(c/2));c=ta(e,d);c>b&&(c=b);return 0<a?c:-c}function d(){}function e(){}function h(){}var f=zd.prototype;f.xa=function(a){this.jb=a;this.i=a.i};f.xa.prototype.ka=function(){};f.qa=function(a){this.type=a;this.i=a.i};var g=f.qa.prototype,
l=!1;g.ka=function(){this.ta=null;(l=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.ta=new window.C2Multiplayer);this.ME=this.Ex=this.Fx=this.LE=this.CE=this.Yp=this.Ym=this.Py="";this.Nq={};this.gm={};this.Lg={};this.jl=this.uF=this.zD=null;this.ip=[];this.Tj=[];this.Jg={};var a=this;l&&(this.ta.onserverlist=function(){a.i.trigger(zd.prototype.D.XA,a)},this.ta.onsignallingerror=function(){a.i.trigger(zd.prototype.D.ZA,a)},this.ta.onsignallingclose=function(){a.i.trigger(zd.prototype.D.YA,
a);a.Py=""},this.ta.onsignallingwelcome=function(){a.i.trigger(zd.prototype.D.mv,a)},this.ta.onsignallinglogin=function(){a.i.trigger(zd.prototype.D.ov,a)},this.ta.onsignallingjoin=function(b){a.gm={};a.Lg={};a.Tj.length=0;a.ip.length=0;a.Jg={};a.i.trigger(zd.prototype.D.nv,a);a.i.oj&&b&&a.jl.postMessage("start")},this.ta.onsignallingleave=function(){a.i.trigger(zd.prototype.D.aB,a)},this.ta.onsignallingkicked=function(){a.i.trigger(zd.prototype.D.$A,a)},this.ta.onbeforeclientupdate=function(){a.i.trigger(zd.prototype.D.tA,
a)},this.ta.onpeeropen=function(b){a.Ym=b.id;a.Yp=b.alias;a.i.trigger(zd.prototype.D.kv,a)},this.ta.onpeerclose=function(b,c){a.Ym=b.id;a.Yp=b.alias;a.CE=c||"unknown";var d=a.qw(b);if(d){var e=a.Nq[d.type];e&&e.removeObjectNid(b.nid);a.i.Pe(d)}a.Lg.hasOwnProperty(b.id)&&delete a.Lg[b.id];a.i.trigger(zd.prototype.D.RA,a)},this.ta.onpeermessage=function(b,c){a.Fx=c.t;a.Ex=c.f?c.f:b.id;a.ME=a.ta.getAliasFromId(a.Ex);a.LE=c.m;a.i.trigger(zd.prototype.D.oA,a);a.i.trigger(zd.prototype.D.SA,a)},this.ta.onsignallinginstancelist=
function(b){a.zD=b;a.i.trigger(zd.prototype.D.CA,a)},this.ta.onsignallingroomlist=function(b){a.uF=b;a.i.trigger(zd.prototype.D.VA,a)},this.ta.ongetobjectcount=function(a){return a.F.length},this.ta.ongetobjectvalue=function(b,c,d){if(!d)return b.F[c].uid;b=b.F[c];switch(d.tag){case "x":return b.x;case "y":return b.y;case "a":return b.K;case "iv":if(d.clientvaluetag&&(c=a.gm[b.uid])&&a.ta.me!==c&&!c.wasRemoved&&c.hasClientState(d.clientvaluetag))return c.getInterpClientState(d.clientvaluetag);d=b.Ob[d.userdata];
return"number"===typeof d?d:0;default:return 0}},this.ta.oninstancedestroyed=function(b,c,d){var e=b.userdata;b=e.Hs;e.Nr||(e.Nr={});e.Nr[c]=d;b&&b.hasOwnProperty(c)&&((d=b[c])&&a.i.Pe(d),delete b[c])},this.i.$j(function(b){var c,d=b.uid;a.gm.hasOwnProperty(d)&&delete a.gm[d];for(c in a.Lg)if(a.Lg.hasOwnProperty(c)&&a.Lg[c]===b){delete a.Lg[c];break}a.Jg.hasOwnProperty(d)&&delete a.Jg[d];c=a.ip.indexOf(b);-1<c&&a.ip.splice(c,1);c=a.Tj.indexOf(b);-1<c&&a.Tj.splice(c,1);a.ta.removeObjectId(d)}),this.jl=
new Worker("waker.js"),this.jl.addEventListener("message",function(b){"tick"===b.data&&a.i.oj&&a.i.wb(!0)},!1),this.jl.postMessage(""));this.i.qr(function(b){l&&a.ta.isHost()&&(b?a.jl.postMessage("start"):a.jl.postMessage("stop"))});this.i.hF(this)};g.qw=function(a){a=a.id;return this.Lg.hasOwnProperty(a)?this.Lg[a]:null};g.uE=function(a){return 0<=this.ip.indexOf(a)};g.gF=function(){if(l){this.ta.tick(this.i.Zh);this.RF();var a,b,c;if(this.ta.isInRoom()&&!this.ta.isHost())for(a=0,b=this.ta.registeredObjects.length;a<
b;++a)c=this.ta.registeredObjects[a],this.TF(c)}};var n=[];g.TF=function(a){a.tick();var b=a.obj,c=a.getCount(),d=a.netvalues,e=a.userdata;e.Hs||(e.Hs={});var f=e.Hs,e=e.Nr,h=a.simTime,g,k,l,A,D,C,w,y=d.length;for(g in f)f.hasOwnProperty(g)&&(A=f[g],this.i.Yf(A.uid)||delete f[g]);if(e)for(g in e)e.hasOwnProperty(g)&&e[g]<h-3E3&&delete e[g];for(g=0;g<c;++g)if(k=a.getNetInstAt(g),l=k.nid,e&&e[l]>=h-3E3)n.push(k),f.hasOwnProperty(l)&&(this.i.Pe(f[l]),delete f[l]);else{if(f.hasOwnProperty(l))A=f[l],w=
!1;else{if(A=this.ta.getPeerByNid(l))this.Ym=A.id,this.Yp=A.alias;else{if(a.hasOverriddenNids)continue;this.Yp=this.Ym=""}A=this.i.wo(b,this.i.ub.Ra[b.Wv],-1E3,-1E3);f[l]=A;w=!0}if(k.isTimedOut(h))n.push(k),f.hasOwnProperty(l)&&delete f[l],this.i.Pe(A);else{if(this.uE(A))this.eC(A,k,d,h);else for(C=0;C<y;++C)switch(l=k.getInterp(h,C),D=d[C],D.tag){case "x":A.x=l;A.X();break;case "y":A.y=l;A.X();break;case "a":A.K=l;A.X();break;case "iv":D=D.userdata;if(D>A.Ob.length||"number"!==typeof A.Ob[D])break;
A.Ob[D]=l}w&&this.i.trigger(Object.getPrototypeOf(b.jb).D.Mh,A)}}g=0;for(c=n.length;g<c;++g)a.removeNetInstance(n[g]);n.length=0};g.RF=function(){var a=this.ta.getHostInputArrivalTime(),b,c;b=0;for(c=this.Tj.length;b<c;++b)this.SF(this.Tj[b],a)};a.prototype.xw=function(a){if(2>this.history.length)return 0;var b=this.history[this.history.length-2],c=this.history[this.history.length-1];switch(a){case "x":return c.x-b.x;case "y":return c.y-b.y;case "a":return c.K-b.K;case "iv":return c.hi[void 0]-b.hi[void 0]}return 0};
a.prototype.ww=function(a,b,c,d){var e,f,g,h=null,k=null;e=0;for(f=this.history.length;e<f;++e)if(g=this.history[e],g.timestamp<c)h=g;else{e+1<this.history.length&&(k=this.history[e+1]);break}if(h){e=0;switch(a){case "x":e=h.x;break;case "y":e=h.y;break;case "a":e=h.K;break;case "iv":e=h.hi[b]}if(!k)return e;f=e;switch(a){case "x":f=k.x;break;case "y":f=k.y;break;case "a":f=k.K;break;case "iv":f=k.hi[b]}return window.interpNetValue(d,e,f,jb(h.timestamp,k.timestamp,c),!1)}};a.prototype.RB=function(a,
b,c){var d,e,f;d=0;for(e=this.history.length;d<e;++d)switch(f=this.history[d],a){case "x":f.x+=c;break;case "y":f.y+=c;break;case "a":f.K+=c;break;case "iv":f.hi[b]+=c}};var k=[];g.SF=function(b,d){this.Jg.hasOwnProperty(b.uid)||(this.Jg[b.uid]=new a(b));var e=this.Jg[b.uid],f;k.length?(f=k.pop(),f.OE=e):f=new c(e);f.timestamp=d;f.x=b.x;f.y=b.y;f.K=b.K;Ha(f.hi,b.Ob);for(e.history.push(f);0<e.history.length&&e.history[0].timestamp<=d-2E3;)f=e.history.shift(),f.hi.length=0,1E3>k.length&&k.push(f)};
g.eC=function(a,c,d,e){if(this.Jg.hasOwnProperty(a.uid)){var f=this.Jg[a.uid],h,g,k,l,n,A,D,C=d.length,w=db(0,0,f.xw("x"),f.xw("y")),y=!!a.ja.isPlatformBehavior;for(h=0;h<C;++h)if(n=d[h],A=n.tag,D=n.userdata,l=n.interp,g=c.getLatestUpdate())if(k=g.data[h],l=f.ww(A,D,g.timestamp,l),"undefined"!==typeof l){g=0;switch(A){case "x":g=b(l,k,w,y);0!==g&&(a.x+=g,a.X());break;case "y":g=b(l,k,w,y);0!==g&&(a.y+=g,a.X());break;case "a":g=kb(l,k,.5)-l;0!==g&&(a.K+=g,a.X());break;case "iv":k=D;if(k>a.Ob.length||
"number"!==typeof a.Ob[k])break;n.clientvaluetag||(a.Ob[k]=c.getInterp(e,h))}0!==g&&f.RB(A,D,g)}}};g.k=function(){};g.ff=function(){};g.Sb=function(){return{}};g.Wb=function(){};d.prototype.XA=function(){return!0};d.prototype.ZA=function(){return!0};d.prototype.mv=function(){return!0};d.prototype.YA=function(){return!0};d.prototype.ov=function(){return!0};d.prototype.nv=function(){return!0};d.prototype.aB=function(){return!0};d.prototype.$A=function(){return!0};d.prototype.kv=function(){return!0};
d.prototype.RA=function(){return!0};d.prototype.cA=function(){return l&&this.ta.isHost()};d.prototype.SA=function(a){return this.Fx===a};d.prototype.oA=function(){return!0};d.prototype.tA=function(){return!0};d.prototype.CA=function(){return!0};d.prototype.VA=function(){return!0};f.D=new d;e.prototype.wB=function(a){l&&!this.ta.isConnected()&&(this.Py=a,this.ta.signallingConnect(a))};e.prototype.yB=function(a){l&&this.ta.isConnected&&!this.ta.isLoggedIn()&&this.ta.signallingLogin(a)};e.prototype.xB=
function(a,b,c,d){l&&this.ta.isLoggedIn()&&!this.ta.isInRoom()&&this.ta.signallingJoinGameRoom(a,b,c,d)};g.aw=function(a,b,c,d){l&&(d=this.ta.registerObject(a,a.Za,d),1===b?(d.addValue(this.ta.INTERP_LINEAR,c,"x"),d.addValue(this.ta.INTERP_LINEAR,c,"y")):2===b?d.addValue(this.ta.INTERP_ANGULAR,c,"a"):3===b&&(d.addValue(this.ta.INTERP_LINEAR,c,"x"),d.addValue(this.ta.INTERP_LINEAR,c,"y"),d.addValue(this.ta.INTERP_ANGULAR,c,"a")),this.Nq[a]=d)};e.prototype.DB=function(a,b,c,d){if(l){var e,f;if(a.Ca)for(e=
0,f=a.Hg.length;e<f;++e)this.aw(a.Hg[e],b,c,d);else this.aw(a,b,c,d)}};g.bw=function(a,b,c,d,e){if(l&&(a=this.Nq[a])){var f=this.ta.INTERP_NONE;1===d?f=this.ta.INTERP_LINEAR:2===d&&(f=this.ta.INTERP_ANGULAR);a.addValue(f,c,"iv",b,e)}};e.prototype.EB=function(a,b,c,d,e){if(l){var f,g,h;if(a.Ca)for(f=0,g=a.Hg.length;f<g;++f)h=a.Hg[f],this.bw(h,b+h.Ml[a.Bg],c,d,e);else this.bw(a,b,c,d,e)}};e.prototype.Fz=function(a,b){if(l){var c=a.Tl();if(c){var d=this.Nq[a];if(d){var e=this.ta.getPeerById(b);e&&(this.ta.isHost()&&
(d.overrideNid(c.uid,e.nid),-1===this.Tj.indexOf(c)&&this.Tj.push(c)),this.gm[c.uid]=e,this.Lg[e.id]=c)}}}};e.prototype.zz=function(a,b,c){l&&this.ta.addClientInputValue(a,b,c)};f.da=new e;h.prototype.kA=function(a){a.Uc(l?this.ta.getMyID():"")};h.prototype.gB=function(a){a.Uc(this.Ym)};h.prototype.hB=function(a,b,c){l?(b=this.ta.getPeerById(b),a.ua(b?b.getInterpClientState(c):0)):a.ua(0)};g.j=function(a,b,c,d){if(!l||!this.ta.isHost())return 0;var e=this.ta.getPeerById(a);if(!e)return 0;var f=this.qw(e);
if(!f)return 0;a=0;switch(c){case "x":a=f.x;break;case "y":a=f.y;break;case "a":a=f.K}b=this.ta.getPeerById(b);if(!b||b===e||this.ta.me===b)return a;b=2*(b.latency+this.ta.clientDelay);f=f.uid;if(!this.Jg.hasOwnProperty(f))return a;d=this.Jg[f].ww(c,0,tb()-b,d);return"undefined"===typeof d?a:d};f.La=new h})();function id(a){this.i=a}
(function(){function a(){if(0===this.Mr.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Zk?b.drawImage(this.Ia,this.Rk,this.Sk,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ia,0,0,this.width,this.height);this.Mr=a.toDataURL("image/png")}return this.Mr}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;p.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function e(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var g=p.length?p.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=e;a[f]=g}}function h(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function f(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return r=a[b][2],!0;r=-2;return!1}function g(){}var l=id.prototype;l.xa=function(a){this.jb=a;this.i=a.i};var n=l.xa.prototype;n.ka=function(){if(!this.Ca){var b,c,d,e,f,g,h,k,l;this.Rf=[];this.cm=!1;b=0;for(c=this.Ce.length;b<c;b++){f=this.Ce[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.au=f[3];
h.bu=f[4];h.by=f[5];h.Za=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],k={},k.Dq=g[0],k.Eq=g[1],k.Rk=g[2],k.Sk=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.Wd=g[7],k.Xd=g[8],k.Cs=g[9],k.aq=g[10],k.cy=g[11],k.Zk=0!==k.width,k.Mr="",k.HD=a,l={left:0,top:0,right:1,bottom:1},k.ou=l,k.Vb=null,(l=this.i.uD(g[0]))?k.Ia=l:(k.Ia=new Image,k.Ia.fC=g[0],k.Ia.Jr=g[1],k.Ia.XB=null,this.i.Lu(k.Ia,g[0])),h.frames.push(k),this.Rf.push(k);this.Ce[b]=h}}};n.oz=function(){var a,b,c;a=0;for(b=this.F.length;a<
b;a++)c=this.F[a],c.yo=c.Qc.Vb};n.Wm=function(){if(!this.Ca){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],c.Ia.XB=null,c.Vb=null;this.cm=!1;this.oz()}};n.Sp=function(){if(!this.Ca&&this.F.length){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],c.Vb=this.i.ma.zp(c.Ia,!1,this.i.bb,c.cy);this.oz()}};n.Ap=function(){if(!this.Ca&&!this.cm&&this.i.ma){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],c.Vb=this.i.ma.zp(c.Ia,!1,this.i.bb,c.cy);this.cm=!0}};n.Oq=function(){if(!this.Ca&&
!this.F.length&&this.cm){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],this.i.ma.deleteTexture(c.Vb),c.Vb=null;this.cm=!1}};var k=[];n.fq=function(a){var b,c,d;G(k);b=0;for(c=this.Rf.length;b<c;++b)d=this.Rf[b].Ia,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};l.qa=function(a){this.type=a;this.i=a.i;a=this.type.Ce[0].frames[0].aq;this.ud?this.Pa.sn(a):this.Pa=new Eb(a)};var m=l.qa.prototype;m.ka=function(){this.visible=0===this.R[0];this.Es=this.Ps=!1;this.Ve=0!==this.R[3];this.Mb=this.pw(this.R[1])||
this.type.Ce[0];this.za=this.R[2];0>this.za&&(this.za=0);this.za>=this.Mb.frames.length&&(this.za=this.Mb.frames.length-1);var a=this.Mb.frames[this.za];this.Pa.sn(a.aq);this.Wd=a.Wd;this.Xd=a.Xd;this.gk=this.Mb.speed;this.Wh=this.Mb.bu;1===this.type.Ce.length&&1===this.type.Ce[0].frames.length||0===this.gk||(this.i.Rj(this),this.Ps=!0);this.ud?this.ug.reset():this.ug=new Bb;this.hh=this.ug.Sa;this.Si=!0;this.Yg=0;this.Ri=!0;this.ro=this.Av="";this.Nv=0;this.Fr=-1;this.type.Ap();var b,c,d,e,f,g,h,
a=0;for(b=this.type.Ce.length;a<b;a++)for(e=this.type.Ce[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Ia.width,f.height=f.Ia.height),f.Zk&&(h=f.Ia,g=f.ou,g.left=f.Rk/h.width,g.top=f.Sk/h.height,g.right=(f.Rk+f.width)/h.width,g.bottom=(f.Sk+f.height)/h.height,0===f.Rk&&0===f.Sk&&f.width===h.width&&f.height===h.height&&(f.Zk=!1));this.Qc=this.Mb.frames[this.za];this.yo=this.Qc.Vb};m.Sb=function(){var a={a:this.Mb.Za,f:this.za,cas:this.gk,fs:this.hh,ar:this.Yg,at:this.ug.Sa,
rt:this.Wh};this.Si||(a.ap=this.Si);this.Ri||(a.af=this.Ri);return a};m.Wb=function(a){var b=this.DD(a.a);b&&(this.Mb=b);this.za=a.f;0>this.za&&(this.za=0);this.za>=this.Mb.frames.length&&(this.za=this.Mb.frames.length-1);this.gk=a.cas;this.hh=a.fs;this.Yg=a.ar;this.ug.reset();this.ug.Sa=a.at;this.Si=a.hasOwnProperty("ap")?a.ap:!0;this.Ri=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.Wh=a.rt:this.Wh=this.Mb.bu;this.Qc=this.Mb.frames[this.za];this.yo=this.Qc.Vb;this.Pa.sn(this.Qc.aq);
this.Wd=this.Qc.Wd;this.Xd=this.Qc.Xd};m.ur=function(a){this.za=a?0:this.Mb.frames.length-1;this.Si=!1;this.Av=this.Mb.name;this.Es=!0;this.i.trigger(id.prototype.D.mA,this);this.i.trigger(id.prototype.D.lA,this);this.Es=!1;this.Yg=0};m.j=function(){return this.ug.Sa};m.wb=function(){this.ug.add(this.i.Dg(this));this.ro.length&&this.Zv();0<=this.Fr&&this.mC();var a=this.ug.Sa,b=this.Mb,c=b.frames[this.za],d=c.duration/this.gk;this.Si&&a>=this.hh+d&&(this.Ri?this.za++:this.za--,this.hh+=d,this.za>=
b.frames.length&&(b.by?(this.Ri=!1,this.za=b.frames.length-2):b.loop?this.za=this.Wh:(this.Yg++,this.Yg>=b.au?this.ur(!1):this.za=this.Wh)),0>this.za&&(b.by?(this.za=1,this.Ri=!0,b.loop||(this.Yg++,this.Yg>=b.au&&this.ur(!0))):b.loop?this.za=this.Wh:(this.Yg++,this.Yg>=b.au?this.ur(!0):this.za=this.Wh)),0>this.za?this.za=0:this.za>=b.frames.length&&(this.za=b.frames.length-1),a>this.hh+b.frames[this.za].duration/this.gk&&(this.hh=a),a=b.frames[this.za],this.Zj(c,a),this.i.Va=!0)};m.pw=function(a){var b,
c,d;b=0;for(c=this.type.Ce.length;b<c;b++)if(d=this.type.Ce[b],Wb(d.name,a))return d;return null};m.DD=function(a){var b,c,d;b=0;for(c=this.type.Ce.length;b<c;b++)if(d=this.type.Ce[b],d.Za===a)return d;return null};m.Zv=function(){var a=this.Mb.frames[this.za],b=this.pw(this.ro);this.ro="";!b||Wb(b.name,this.Mb.name)&&this.Si||(this.Mb=b,this.gk=b.speed,this.Wh=b.bu,0>this.za&&(this.za=0),this.za>=this.Mb.frames.length&&(this.za=this.Mb.frames.length-1),1===this.Nv&&(this.za=0),this.Si=!0,this.hh=
this.ug.Sa,this.Ri=!0,this.Zj(a,this.Mb.frames[this.za]),this.i.Va=!0)};m.mC=function(){var a=this.Mb.frames[this.za],b=this.za;this.za=xa(this.Fr);0>this.za&&(this.za=0);this.za>=this.Mb.frames.length&&(this.za=this.Mb.frames.length-1);b!==this.za&&(this.Zj(a,this.Mb.frames[this.za]),this.hh=this.ug.Sa,this.i.Va=!0);this.Fr=-1};m.Zj=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Wd=b.Wd;this.Xd=b.Xd;this.Pa.sn(b.aq);this.X();this.Qc=
b;this.yo=b.Vb;c=0;for(d=this.Ja.length;c<d;c++)e=this.Ja[c],e.TE&&e.TE(a,b);this.i.trigger(id.prototype.D.Zj,this)};m.We=function(a){a.globalAlpha=this.opacity;var b=this.Qc,c=b.Zk,d=b.Ia,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.K&&0<=g&&0<=h)e-=this.Wd*g,f-=this.Xd*h,this.i.jf&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Rk,b.Sk,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.i.jf&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,l=0<h?1:-1;a.translate(e,
f);1===k&&1===l||a.scale(k,l);a.rotate(this.K*k*l);e=0-this.Wd*ra(g);f=0-this.Xd*ra(h);c?a.drawImage(d,b.Rk,b.Sk,b.width,b.height,e,f,ra(g),ra(h)):a.drawImage(d,e,f,ra(g),ra(h));a.restore()}};m.Yh=function(a){this.od(a)};m.od=function(a){a.we(this.yo);a.Ei(this.opacity);var b=this.Qc,c=this.Jb;if(this.i.jf){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Zk?a.fg(c.Vc+d,c.Wc+e,c.Od+d,c.Pd+e,c.Bd+d,c.Cd+e,c.zd+d,c.Ad+e,b.ou):a.gn(c.Vc+d,c.Wc+e,c.Od+d,c.Pd+e,c.Bd+d,c.Cd+e,c.zd+d,c.Ad+e)}else b.Zk?
a.fg(c.Vc,c.Wc,c.Od,c.Pd,c.Bd,c.Cd,c.zd,c.Ad,b.ou):a.gn(c.Vc,c.Wc,c.Od,c.Pd,c.Bd,c.Cd,c.zd,c.Ad)};m.JD=function(a){var b=this.Qc,c,d;c=0;for(d=b.Cs.length;c<d;c++)if(Wb(a,b.Cs[c][0]))return c;return-1};m.zf=function(a,b){var c=this.Qc,d=c.Cs,e;na(a)?e=this.JD(a):e=a-1;e=xa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Wd)*this.width,d=d[e][2],d=(d-c.Xd)*this.height,c=Math.cos(this.K);e=Math.sin(this.K);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var p=[],r=-2,u=[];
c.prototype.uA=function(a){if(!a)return!1;var c=this.i,d=c.Sl(),g=d.type,k=null;d.ja.collmemory?k=d.ja.collmemory:(k={},d.ja.collmemory=k);d.ja.spriteCreatedDestroyCallback||(d.ja.spriteCreatedDestroyCallback=!0,c.$j(function(a){var c=d.ja.collmemory;a=a.uid;var e,f;for(e in c)c.hasOwnProperty(e)&&(f=c[e],f[0]===a||f[1]===a)&&(b(c[e]),delete c[e])}));var l=g.Ma(),m=a.Ma(),l=l.Ud(),n,v,q,p,x,B,t,S=this.i.lf,J=S-1,M=c.Cc().$c;for(v=0;v<l.length;v++){q=l[v];m.kb?(q.Wa(),this.i.Xo(q.M,a,q.Lb,u),n=u):
n=m.Ud();for(p=0;p<n.length;p++)x=n[p],c.Ld(q,x)||c.$B(q,x)?(B=f(k,q,x),B=!B||r<J,e(k,q,x,S),B&&(c.dn(M.Ub),B=g.Ma(),t=a.Ma(),B.kb=!1,t.kb=!1,g===a?(B.F.length=2,B.F[0]=q,B.F[1]=x,g.Te()):(B.F.length=1,t.F.length=1,B.F[0]=q,t.F[0]=x,g.Te(),a.Te()),M.cu(),c.yi(M.Ub))):h(k,q,x);G(u)}return!1};var t=null,v=new da,q=!1,x=[],B=new Aa(0,0,0,0);n.finish=function(a){if(q){if(a){var b=this.i.Cc().$c.gf;a=t.Ma();var c=v.lg(),d,e;if(a.kb){a.kb=!1;G(a.F);d=0;for(e=c.length;d<e;++d)a.F[d]=c[d];if(b)for(G(a.Xa),
d=0,e=t.F.length;d<e;++d)c=t.F[d],v.contains(c)||a.Xa.push(c)}else if(b)for(b=a.F.length,d=0,e=c.length;d<e;++d)a.F[b+d]=c[d],Na(a.Xa,c[d]);else Ha(a.F,c);t.Te()}v.clear();q=!1}};c.prototype.gA=function(a){if(a){var b=!1,c,d,e,f=this.i.Sl(),g=f.type,f=f.sk;c=a.Ma();d=this.i.Cc().$c.gf;var h;c.kb?(this.Wa(),B.fk(this.Lb),B.offset(0,0),this.i.Xo(this.M,a,B,x),h=x):h=d?this.i.rE()&&!c.Xa.length&&c.F.length?c.F:c.Xa:c.F;t=a;q=g!==a&&!f;c=0;for(d=h.length;c<d;c++)if(e=h[c],this.i.Ld(this,e)){b=!0;if(f)break;
g!==a&&v.add(e)}G(x);a=b}else a=!1;return a};c.prototype.lA=function(a){return Wb(this.Av,a)};c.prototype.mA=function(){return!0};c.prototype.Zj=function(){return!0};l.D=new c;g.prototype.AB=function(a,b,c){if(a&&b&&(b=this.i.wo(a,b,this.zf(c,!0),this.zf(c,!1)))){"undefined"!==typeof b.K&&(b.K=this.K,b.X());this.i.cf++;var d,e,f;this.i.trigger(Object.getPrototypeOf(a.jb).D.Mh,b);if(b.Gd)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.i.trigger(Object.getPrototypeOf(f.type.jb).D.Mh,f);this.i.cf--;
d=this.i.FD();c=!1;if(ka(d.ja.Spawn_LastExec)||d.ja.Spawn_LastExec<this.i.cj)c=!0,d.ja.Spawn_LastExec=this.i.cj;if(a!=this.type&&(a=a.Ma(),a.kb=!1,c?(G(a.F),a.F[0]=b):a.F.push(b),b.Gd))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.Ma(),a.kb=!1,c?(G(a.F),a.F[0]=f):a.F.push(f)}};g.prototype.nB=function(a,b){this.ro=a;this.Nv=b;this.Ps||(this.i.Rj(this),this.Ps=!0);this.Es||this.Zv()};g.prototype.tB=function(a){a=ra(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.X())};g.prototype.pB=
function(a){this.Ve!==(0!==a)&&((this.Ve=0!==a)?this.X():(this.uf.right>=this.uf.left&&this.type.Al.update(this,this.uf,null),this.uf.set(0,0,-1,-1)))};l.da=new g;l.La=new function(){}})();function Ad(a){this.i=a}
(function(){function a(){return l.length?l.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)l.push(a[b]);G(a)}function b(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function d(){}function e(){}var h=Ad.prototype;h.ka=function(){h.da.tv=function(a){this.width!==a&&(this.width=a,this.Ii=!0,this.X())}};h.xa=function(a){this.jb=a;this.i=a.i};var f=h.xa.prototype;f.ka=function(){};f.Wm=function(){if(!this.Ca){var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],
c.Ig=null,c.Cj=null,c.Le=null}};h.qa=function(a){this.type=a;this.i=a.i;this.ud?G(this.ki):this.ki=[];this.Ii=!0};f=h.qa.prototype;f.ka=function(){this.text=this.R[0];this.visible=0===this.R[1];this.font=this.R[2];this.color=this.R[3];this.cp=this.R[4];this.Sq=this.R[5];this.Nu=0===this.R[7];this.et=this.qh=this.width;this.ph=this.height;this.ht=this.R[8];this.To=this.jk="";this.Yy=this.Zy=this.bn=0;this.WE();this.Le=this.Cj=this.Ig=null;this.Hx=!1;this.Gm=this.i.lf;this.ud?this.Ai.set(0,0,1,1):this.Ai=
new Aa(0,0,1,1);this.i.ma&&this.i.Rj(this)};f.WE=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.bn=parseInt(a[b].substr(0,a[b].length-2));this.Ut=Math.ceil(this.bn/72*96)+4;0<b&&(this.To=a[b-1]);this.jk=a[b+1];for(b+=2;b<a.length;b++)this.jk+=" "+a[b];break}};f.Sb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.cp,va:this.Sq,wr:this.Nu,lho:this.ht,fn:this.jk,fs:this.To,ps:this.bn,pxh:this.Ut,tw:this.Zy,th:this.Yy,lrt:this.Gm}};
f.Wb=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.cp=a.ha;this.Sq=a.va;this.Nu=a.wr;this.ht=a.lho;this.jk=a.fn;this.To=a.fs;this.bn=a.ps;this.Ut=a.pxh;this.Zy=a.tw;this.Yy=a.th;this.Gm=a.lrt;this.Ii=!0;this.et=this.qh=this.width;this.ph=this.height};f.wb=function(){if(this.i.ma&&this.Le&&300<=this.i.lf-this.Gm){var a=this.M;this.Wa();var b=this.Lb;if(b.right<a.Bb||b.bottom<a.Cb||b.left>a.Hb||b.top>a.Gb)this.i.ma.deleteTexture(this.Le),this.Ig=this.Cj=this.Le=null}};f.ff=function(){this.Ig=
this.Cj=null;this.i.ma&&this.Le&&this.i.ma.deleteTexture(this.Le);this.Le=null};f.j=function(){this.font=this.To+" "+this.bn.toString()+"pt "+this.jk;this.Ii=!0;this.i.Va=!0};f.We=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.M.Vd()),a.save(),a.scale(c,c));if(this.Ii||this.width!==this.et)this.type.jb.JB(this.text,this.ki,a,this.width,this.Nu),this.Ii=!1,this.et=this.width;this.Wa();var c=b?0:this.Jb.Vc,d=b?0:
this.Jb.Wc;this.i.jf&&(c=c+.5|0,d=d+.5|0);0===this.K||b||(a.save(),a.translate(c,d),a.rotate(this.K),d=c=0);var e=d+this.height,f=this.Ut,f=f+this.ht,g,h;1===this.Sq?d+=Math.max(this.height/2-this.ki.length*f/2,0):2===this.Sq&&(d+=Math.max(this.height-this.ki.length*f-2,0));for(h=0;h<this.ki.length&&!(g=c,1===this.cp?g=c+(this.width-this.ki[h].width)/2:2===this.cp&&(g=c+(this.width-this.ki[h].width)),a.fillText(this.ki[h].text,g,d),d+=f,d>=e-f);h++);(0!==this.K||b)&&a.restore();this.Gm=this.i.lf};
f.od=function(a){if(!(1>this.width||1>this.height)){var b=this.Ii||this.Hx;this.Hx=!1;var c=this.M.Vd(),d=this.M.Qb(),e=this.Ai,f=c*this.width,g=c*this.height,h=Math.ceil(f),l=Math.ceil(g),x=Math.abs(h),B=Math.abs(l),E=this.i.Ga/2,A=this.i.Fa/2;this.Cj||(this.Ig=document.createElement("canvas"),this.Ig.width=x,this.Ig.height=B,this.qh=x,this.ph=B,b=!0,this.Cj=this.Ig.getContext("2d"));if(x!==this.qh||B!==this.ph)this.Ig.width=x,this.Ig.height=B,this.Le&&(a.deleteTexture(this.Le),this.Le=null),b=!0;
b&&(this.Cj.clearRect(0,0,x,B),this.We(this.Cj,!0),this.Le||(this.Le=a.Ee(x,B,this.i.bb,this.i.Fg)),a.uz(this.Ig,this.Le,this.i.Fg));this.qh=x;this.ph=B;a.we(this.Le);a.Ei(this.opacity);a.Jf();a.translate(-E,-A);a.nf();var D=this.Jb,b=this.M.Ab(D.Vc,D.Wc,!0,!0),x=this.M.Ab(D.Vc,D.Wc,!1,!0),B=this.M.Ab(D.Od,D.Pd,!0,!0),E=this.M.Ab(D.Od,D.Pd,!1,!0),A=this.M.Ab(D.Bd,D.Cd,!0,!0),C=this.M.Ab(D.Bd,D.Cd,!1,!0),w=this.M.Ab(D.zd,D.Ad,!0,!0),D=this.M.Ab(D.zd,D.Ad,!1,!0);if(this.i.jf||0===this.K&&0===d)var y=
(b+.5|0)-b,H=(x+.5|0)-x,b=b+y,x=x+H,B=B+y,E=E+H,A=A+y,C=C+H,w=w+y,D=D+H;0===this.K&&0===d?(B=b+h,E=x,A=B,C=x+l,w=b,D=C,e.right=1,e.bottom=1):(e.right=f/h,e.bottom=g/l);a.fg(b,x,B,E,A,C,w,D,e);a.Jf();a.scale(c,c);a.mq(-this.M.Qb());a.translate((this.M.Bb+this.M.Hb)/-2,(this.M.Cb+this.M.Gb)/-2);a.nf();this.Gm=this.i.lf}};var g=[];h.HB=function(a){G(g);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(g.push(b),b=""),g.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),
d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));g.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&g.push(b)};var l=[];h.JB=function(b,d,e,f,g){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var h=e.measureText(b).width;if(h<=f){c(d);d.push(a());d[0].text=b;d[0].width=h;return}}this.KB(b,d,e,f,g)}else c(d)};h.KB=function(c,d,e,f,h){h&&(this.HB(c),c=g);var u="",t,v,q,x=0;for(q=0;q<c.length;q++)"\n"===c[q]?(x>=d.length&&d.push(a()),u=b(u),v=d[x],v.text=u,v.width=
e.measureText(u).width,x++,u=""):(t=u,u+=c[q],v=e.measureText(u).width,v>=f&&(x>=d.length&&d.push(a()),t=b(t),v=d[x],v.text=t,v.width=e.measureText(t).width,x++,u=c[q],h||" "!==u||(u="")));u.length&&(x>=d.length&&d.push(a()),u=b(u),v=d[x],v.text=u,v.width=e.measureText(u).width,x++);for(q=x;q<d.length;q++)l.push(d[q]);d.length=x};h.D=new function(){};d.prototype.lr=function(a){ma(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Ii=!0,this.i.Va=!0)};d.prototype.Dz=
function(a){ma(a)&&(a=Math.round(1E10*a)/1E10);if(a=a.toString())this.text+=a,this.Ii=!0,this.i.Va=!0};h.da=new d;e.prototype.Text=function(a){a.Uc(this.text)};h.La=new e})();function Bd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=Bd.prototype;d.xa=function(a){this.jb=a;this.i=a.i};d.xa.prototype.ka=function(){};d.qa=function(a){this.type=a;this.i=a.i};var e=d.qa.prototype,h="text password email number tel url".split(" ");-1<navigator.userAgent.indexOf("MSIE 9")&&(h[2]="text",h[3]="text",h[4]="text",h[5]="text");e.ka=function(){if(this.i.Ya)fa("[Construct 2] Textbox plugin not supported on this platform - the object will not be created");else{6===this.R[7]?(this.W=
document.createElement("textarea"),jQuery(this.W).css("resize","none")):(this.W=document.createElement("input"),this.W.type=h[this.R[7]]);this.W.id=this.R[9];jQuery(this.W).appendTo(this.i.ek?this.i.ek:"body");this.W.autocomplete="off";this.W.value=this.R[0];this.W.placeholder=this.R[1];this.W.title=this.R[2];this.W.disabled=0===this.R[4];this.W.readOnly=1===this.R[5];this.W.spellcheck=1===this.R[6];this.xr=0!==this.R[8];this.le=!1;0===this.R[3]&&(jQuery(this.W).hide(),this.visible=!1,this.le=!0);
var a=function(a){return function(){a.i.trigger(Bd.prototype.D.dB,a)}}(this);this.W.oninput=a;-1!==navigator.userAgent.indexOf("MSIE")&&(this.W.oncut=a);this.W.onclick=function(a){return function(b){b.stopPropagation();a.i.Pb=!0;a.i.trigger(Bd.prototype.D.Sn,a);a.i.Pb=!1}}(this);this.W.ondblclick=function(a){return function(b){b.stopPropagation();a.i.Pb=!0;a.i.trigger(Bd.prototype.D.vA,a);a.i.Pb=!1}}(this);this.W.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.W.addEventListener("touchmove",
function(a){a.stopPropagation()},!1);this.W.addEventListener("touchend",function(a){a.stopPropagation()},!1);jQuery(this.W).mousedown(function(a){a.stopPropagation()});jQuery(this.W).mouseup(function(a){a.stopPropagation()});jQuery(this.W).keydown(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});jQuery(this.W).keyup(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});this.Em=this.Fm=this.ym=this.Cm=this.Dm=this.Am=0;this.En(!0);this.i.Rj(this)}};e.Sb=function(){return{text:this.W.value,
placeholder:this.W.placeholder,tooltip:this.W.title,disabled:!!this.W.disabled,readonly:!!this.W.readOnly,spellcheck:!!this.W.spellcheck}};e.Wb=function(a){this.W.value=a.text;this.W.placeholder=a.placeholder;this.W.title=a.tooltip;this.W.disabled=a.disabled;this.W.readOnly=a.readonly;this.W.spellcheck=a.spellcheck};e.ff=function(){this.i.Ya||(jQuery(this.W).remove(),this.W=null)};e.wb=function(){this.En()};e.En=function(a){if(!this.i.Ya){var b=this.M.Ab(this.x,this.y,!0),c=this.M.Ab(this.x,this.y,
!1),d=this.M.Ab(this.x+this.width,this.y+this.height,!0),e=this.M.Ab(this.x+this.width,this.y+this.height,!1),h=this.i.width/this.i.devicePixelRatio,p=this.i.height/this.i.devicePixelRatio;!this.visible||!this.M.visible||0>=d||0>=e||b>=h||c>=p?(this.le||jQuery(this.W).hide(),this.le=!0):(1>b&&(b=1),1>c&&(c=1),d>=h&&(d=h-1),e>=p&&(e=p-1),h=window.innerWidth,p=window.innerHeight,a||this.Am!==b||this.Dm!==c||this.Cm!==d||this.ym!==e||this.Fm!==h||this.Em!==p?(this.Am=b,this.Dm=c,this.Cm=d,this.ym=e,
this.Fm=h,this.Em=p,this.le&&(jQuery(this.W).show(),this.le=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,h=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.W).css("position","absolute"),jQuery(this.W).offset({left:a,top:h}),jQuery(this.W).width(Math.round(d-b)),jQuery(this.W).height(Math.round(e-c)),this.xr&&jQuery(this.W).css("font-size",this.M.Vd(!0)/this.i.devicePixelRatio-.2+"em")):this.le&&(jQuery(this.W).show(),this.le=!1))}};e.We=function(){};e.od=function(){};a.prototype.dB=
function(){return!0};a.prototype.Sn=function(){return!0};a.prototype.vA=function(){return!0};d.D=new a;c.prototype.lr=function(a){this.i.Ya||(this.W.value=a)};c.prototype.rl=function(a){this.i.Ya||(this.visible=0!==a)};c.prototype.qf=function(a){this.i.Ya||(this.W.disabled=0===a)};d.da=new c;b.prototype.Text=function(a){this.i.Ya?a.Uc(""):a.Uc(this.W.value)};d.La=new b})();function Cd(a){this.i=a}
(function(){var a=Cd.prototype;a.xa=function(a){this.jb=a;this.i=a.i};var c=a.xa.prototype;c.ka=function(){this.Ca||(this.Ia=new Image,this.Ia.Jr=this.Eq,this.i.Lu(this.Ia,this.Dq),this.Vb=this.pattern=null)};c.Wm=function(){this.Ca||(this.Vb=null)};c.Sp=function(){if(!this.Ca&&this.F.length){this.Vb||(this.Vb=this.i.ma.zp(this.Ia,!0,this.i.bb,this.uu));var a,c;a=0;for(c=this.F.length;a<c;a++)this.F[a].Vb=this.Vb}};c.Ap=function(){this.Ca||this.Vb||!this.i.ma||(this.Vb=this.i.ma.zp(this.Ia,!0,this.i.bb,
this.uu))};c.Oq=function(){this.Ca||this.F.length||!this.Vb||(this.i.ma.deleteTexture(this.Vb),this.Vb=null)};c.fq=function(a){a.drawImage(this.Ia,0,0)};a.qa=function(a){this.type=a;this.i=a.i};c=a.qa.prototype;c.ka=function(){this.visible=0===this.R[0];this.Ai=new Aa(0,0,0,0);this.Ew=!1;this.Ia=this.type.Ia;this.i.ma?(this.type.Ap(),this.Vb=this.type.Vb):(this.type.pattern||(this.type.pattern=this.i.zb.createPattern(this.type.Ia,"repeat")),this.pattern=this.type.pattern)};c.Se=function(){this.Ew=
!1;this.Ia=this.type.Ia};c.ff=function(){this.i.ma&&this.Ew&&this.Vb&&(this.i.ma.deleteTexture(this.Vb),this.Vb=null)};c.We=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,e=this.y;this.i.jf&&(c=Math.round(c),e=Math.round(e));var h=-(this.Wd*this.width),f=-(this.Xd*this.height),g=h%this.Ia.width,l=f%this.Ia.height;0>g&&(g+=this.Ia.width);0>l&&(l+=this.Ia.height);a.translate(c,e);a.rotate(this.K);a.translate(g,l);a.fillRect(h-g,f-l,this.width,this.height);a.restore()};
c.Yh=function(a){this.od(a)};c.od=function(a){a.we(this.Vb);a.Ei(this.opacity);var c=this.Ai;c.right=this.width/this.Ia.width;c.bottom=this.height/this.Ia.height;var e=this.Jb;if(this.i.jf){var h=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;a.fg(e.Vc+h,e.Wc+f,e.Od+h,e.Pd+f,e.Bd+h,e.Cd+f,e.zd+h,e.Ad+f,c)}else a.fg(e.Vc,e.Wc,e.Od,e.Pd,e.Bd,e.Cd,e.zd,e.Ad,c)};a.D=new function(){};a.da=new function(){};a.La=new function(){}})();function Dd(a){this.i=a}
(function(){function a(){this.Iq=this.id=-1;this.Cv=this.ik=this.Kn=this.dm=!1;this.tb=new Aa(0,0,0,0)}function c(a){1E4>p.length&&p.push(a)}function b(){this.id=-1;this.tb=new Aa(0,0,0,0);this.sd=null}function d(a){1E4>r.length&&r.push(a)}function e(a,b,c){var d;return u.length?(d=u.pop(),d.n=a,d.x=b,d.y=c,d.left=d.x*d.n.Nc*d.n.Nd,d.top=d.y*d.n.Zc*d.n.Md,d.clear(),d.hn=!1,d):new h(a,b,c)}function h(a,b,c){this.n=a;this.x=b;this.y=c;this.left=this.x*this.n.Nc*this.n.Nd;this.top=this.y*this.n.Zc*this.n.Md;
this.Vg=[];this.td=[];this.Sd=[];this.hn=!1;var d,e;a=0;for(b=this.n.Zc;a<b;++a){e=[];c=0;for(d=this.n.Nc;c<d;++c)e.push(-1);this.Vg.push(e)}}var f=Dd.prototype;f.xa=function(a){this.jb=a;this.i=a.i};var g=f.xa.prototype;g.ka=function(){var a,b,c;if(!this.Ca&&(this.Ia=new Image,this.Ia.Jr=this.Eq,this.i.Lu(this.Ia,this.Dq),this.Yi=[],this.Lr=!1,this.hg=[],this.az=!1,this.Hq&&this.Hq.length))for(a=0,b=this.Hq.length;a<b;++a)(c=this.Hq[a])?this.hg.push({sd:c,Ro:[[[null,null],[null,null]],[[null,null],
[null,null]]]}):this.hg.push(null)};g.Rh=function(a,b,c,d,e,f){if(!(0>a||a>=this.hg.length)&&this.hg[a]){var h=this.hg[a].Ro;a=new Eb(this.hg[a].sd);a.$g(b,c,0);f&&a.kC();d&&a.JE(b/2);e&&a.vD(c/2);h[d?1:0][e?1:0][f?1:0]=a}};g.SD=function(a){if(-1===a)return null;var b=a&m;return 0>b||b>=this.hg.length||!this.hg[b]?null:this.hg[b].Ro[a&l?1:0][a&n?1:0][a&k?1:0]};g.bs=function(){var a,b,c=this.i.ma;if(c)for(a=0,b=this.Yi.length;a<b;++a)c.deleteTexture(this.Yi[a]);G(this.Yi);this.Lr=!1};g.ut=function(a,
b,c,d,e,f,h){if(!(this.Lr||0>=a||0>=b)){this.bs();var g=this.Ia.width,l=this.Ia.height,k;for(k=d;k+b<=l;k+=b+f)for(d=c;d+a<=g;d+=a+e)this.Yi.push(this.Rz(d,k,a,b,h));this.Lr=!0}};g.Rz=function(a,b,c,d,e){if(this.i.ma)return this.Yq(a,b,c,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=this.Yq(a,b,c,d,!1,!1,!1,e);return{Ro:f,x:a,y:b,Kc:c,iE:d}};g.Ru=function(a,b,c,d,e){if(0>a||a>=this.Yi.length)return null;a=this.Yi[a];var f=a.Ro;b=b?1:0;c=c?1:0;d=d?1:0;var h=f[b][c][d];
if(h)return h;h=this.Yq(a.x,a.y,a.Kc,a.iE,0!==b,0!==c,0!==d,e);return f[b][c][d]=h};g.Yq=function(a,b,c,d,e,f,h,g){var l=c,k=d;this.i.ma&&!g&&(pa(l)||(l=qa(l)),pa(k)||(k=qa(k)));var m=document.createElement("canvas");m.width=l;m.height=k;var n=m.getContext("2d");if(this.i.zb)return e?f?(h?(n.rotate(Math.PI/2),n.scale(-1,1)):n.scale(-1,-1),n.translate(-l,-k)):h?(n.rotate(Math.PI/2),n.translate(0,-k)):(n.scale(-1,1),n.translate(-l,0)):f?h?(n.rotate(-Math.PI/2),n.translate(-l,0)):(n.scale(1,-1),n.translate(0,
-k)):h&&(n.scale(-1,1),n.rotate(Math.PI/2)),n.drawImage(this.Ia,a,b,c,d,0,0,l,k),g?m:this.i.zb.createPattern(m,"repeat");n.drawImage(this.Ia,a,b,c,d,0,0,l,k);a=this.i.ma.Ee(l,k,this.i.bb,!1,!g);this.i.ma.uz(m,a);return a};g.Wm=function(){this.Ca||this.bs()};g.Sp=function(){};g.Ap=function(){};g.Oq=function(){this.Ca||this.F.length||this.bs()};g.fq=function(){};f.qa=function(a){this.type=a;this.i=a.i};var g=f.qa.prototype,l=-2147483648,n=1073741824,k=536870912,m=536870911,p=[],r=[],u=[];h.prototype.clear=
function(){var a,b,c,d,e;this.Vg.length=this.n.Zc;a=0;for(b=this.Vg.length;a<b;++a)for(e=this.Vg[a],e||(e=[],this.Vg[a]=e),e.length=this.n.Nc,c=0,d=e.length;c<d;++c)e[c]=-1};h.prototype.Rm=function(){if(!this.hn){var e=this.n.Nd,f=this.n.Md;if(!(0>=e||0>=f)){var h,g,t,A,u,C;h=0;for(g=this.td.length;h<g;++h)c(this.td[h]);h=0;for(g=this.Sd.length;h<g;++h)d(this.Sd[h]);G(this.td);G(this.Sd);var w=Math.min(this.n.Ef,Math.floor(this.n.width/e)),y=Math.min(this.n.bg,Math.floor(this.n.height/f)),w=w-this.left/
e,y=y-this.top/f;w>this.n.Nc&&(w=this.n.Nc);y>this.n.Zc&&(y=this.n.Zc);var H=this.n.Ci,I=null;h=0;for(g=y;h<g;++h){u=this.Vg[h];t=0;for(A=w;t<A;++t)C=u[t],-1===C?I&&(this.td.push(I),I=null):H||!I||C!==I.id?(I&&this.td.push(I),I=p.length?p.pop():new a,I.id=C,I.Iq=C&m,I.dm=0!==(C&l),I.Kn=0!==(C&n),I.ik=0!==(C&k),I.Cv=I.dm||I.Kn||I.ik,I.tb.left=t*e+this.left,I.tb.top=h*f+this.top,I.tb.right=I.tb.left+e,I.tb.bottom=I.tb.top+f):I.tb.right+=e;I&&(this.td.push(I),I=null)}var I=null,P=!1;h=0;for(g=y;h<g;++h){u=
this.Vg[h];t=0;for(A=w;t<A;++t)C=u[t],-1===C?I&&(this.Sd.push(I),I=null,P=!1):(y=this.n.type.SD(C),!I||y||P?(I&&this.Sd.push(I),I=r.length?r.pop():new b,I.id=C,I.sd=y?y:null,C=I.tb,C.left=t*e+this.left,C.top=h*f+this.top,C.right=C.left+e,C.bottom=C.top+f,P=!!y):I.tb.right+=e);I&&(this.Sd.push(I),I=null,P=!1)}if(!H)for(g=this.td.length,h=0;h<g;++h)for(A=this.td[h],e=h+1;e<g;++e)if(t=this.td[e],!(t.tb.top<A.tb.bottom)){if(t.tb.top>A.tb.bottom)break;if(t.tb.right>A.tb.right||t.tb.left>A.tb.left)break;
t.id===A.id&&t.tb.left===A.tb.left&&t.tb.right===A.tb.right&&(c(this.td[e]),this.td.splice(e,1),--g,A.tb.bottom+=f,--e)}g=this.Sd.length;for(h=0;h<g;++h)if(A=this.Sd[h],!A.sd)for(u=A.tb,e=h+1;e<g;++e)if(t=this.Sd[e],A=t.tb,!(A.top<u.bottom)){if(A.top>u.bottom)break;if(A.right>u.right||A.left>u.left)break;t.sd||A.left!==u.left||A.right!==u.right||(d(this.Sd[e]),this.Sd.splice(e,1),--g,u.bottom+=f,--e)}this.hn=!0}}};h.prototype.lu=function(a,b,c){this.Vg[b][a]!==c&&(this.Vg[b][a]=c,this.hn=!1,this.n.co=
!0,this.n.xi=!0,this.n.i.Va=!0)};g.ka=function(){var a,b,c;this.visible=0===this.R[0];this.Nd=this.R[1];this.Md=this.R[2];this.wu=this.R[3];this.yu=this.R[4];this.xu=this.R[5];this.zu=this.R[6];this.Ci=0!==this.R[7];this.Ef=this.dz;this.bg=this.cz;this.qh=this.width;this.ph=this.height;var d=this.Nd,e=this.Md;0===d&&(d=1);0===e&&(e=1);this.Nc=Math.ceil(this.i.Gc/d);this.Zc=Math.ceil(this.i.Fc/e);if(!this.type.az)for(this.type.az=!0,a=0,b=this.type.hg.length;a<b;++a)if(c=this.type.hg[a])this.type.Rh(a,
d,e,!1,!1,!1),this.type.Rh(a,d,e,!1,!1,!0),this.type.Rh(a,d,e,!1,!0,!1),this.type.Rh(a,d,e,!1,!0,!0),this.type.Rh(a,d,e,!0,!1,!1),this.type.Rh(a,d,e,!0,!1,!0),this.type.Rh(a,d,e,!0,!0,!1),this.type.Rh(a,d,e,!0,!0,!0);this.ud||(this.ee=[]);this.xt(!0);this.Fy(this.bz);this.type.ut(this.Nd,this.Md,this.wu,this.yu,this.xu,this.zu,this.Ci);this.xi=!1;this.co=!0;this.tt()};g.tt=function(){if(this.co){var a,b,c,d,e;a=0;for(b=this.ee.length;a<b;++a)for(e=this.ee[a],c=0,d=e.length;c<d;++c)e[c].Rm();this.co=
!1}};g.qq=function(){var a,b,c,d,e;a=0;for(b=this.ee.length;a<b;++a)for(e=this.ee[a],c=0,d=e.length;c<d;++c)e[c].hn=!1;this.co=!0};g.xt=function(a){var b=xa(this.width/this.Nd),c=xa(this.height/this.Md);if(!(b<=this.Ef&&c<=this.bg)||a){var d;a?(a=Math.ceil(this.bg/this.Zc),d=Math.ceil(this.Ef/this.Nc)):(a=this.ee.length,d=Math.ceil(this.Ef/this.Nc),c>this.bg&&(this.bg=c,a=Math.ceil(this.bg/this.Zc)),b>this.Ef&&(this.Ef=b,d=Math.ceil(this.Ef/this.Nc)),this.qq(),this.xi=!0,this.i.Va=!0);for(var f,b=
0;b<a;++b)if(f=this.ee[b])for(c=f.length;c<d;++c)f.push(e(this,c,b));else{f=[];for(c=0;c<d;++c)f.push(e(this,c,b));this.ee[b]=f}}};g.Cr=function(a,b){if(0>a||0>b)return null;var c=xa(b/this.Zc);if(c>=this.ee.length)return null;var c=this.ee[c],d=xa(a/this.Nc);return d>=c.length?null:c[d]};g.Dr=function(a,b){if(0>a||0>b||b>=this.ee.length)return null;var c=this.ee[b];return a>=c.length?null:c[a]};g.Fy=function(a){var b=[];a=a.split(",");var c,d,e,f,h;c=0;for(d=a.length;c<d;++c)if(e=a[c],f=e.indexOf("x"),
-1<f)for(h=parseInt(e.substring(0,f),10),e=e.substring(f+1),f=parseInt(e,10),-1<e.indexOf("h")&&(f|=l),-1<e.indexOf("v")&&(f|=n),-1<e.indexOf("d")&&(f|=k);0<h;--h)b.push(f);else f=parseInt(e,10),-1<e.indexOf("h")&&(f|=l),-1<e.indexOf("v")&&(f|=n),-1<e.indexOf("d")&&(f|=k),b.push(f);for(c=a=0;c<this.bg;++c)for(d=0;d<this.Ef;++d)h=b[a++],(e=this.Cr(d,c))&&e.lu(d%this.Nc,c%this.Zc,h)};g.TD=function(){var a="";if(0>=this.Ef||0>=this.bg)return a;var b=1,c=this.Bw(0,0),d,e,f,h,g,p,r,t;h=xa(this.width/this.Nd);
e=xa(this.height/this.Md);for(d=0;d<e;++d)for(f=0===d?1:0;f<h;++f)g=this.Bw(f,d),g===c?++b:(-1===c?(p=-1,c=t=r=!1):(p=c&m,r=0!==(c&l),t=0!==(c&n),c=0!==(c&k)),a=1===b?a+(""+p):a+(""+b+"x"+p),r&&(a+="h"),t&&(a+="v"),c&&(a+="d"),a+=",",b=1,c=g);-1===c?(p=-1,c=t=r=!1):(p=c&m,r=0!==(c&l),t=0!==(c&n),c=0!==(c&k));a=1===b?a+(""+p):a+(""+b+"x"+p);r&&(a+="h");t&&(a+="v");c&&(a+="d");return a};g.Bw=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Ef||b>=this.bg)return-1;var c=this.Cr(a,b);
return c?c.Vg[b%this.Zc][a%this.Nc]:-1};g.lu=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Ef||b>=this.bg)return-1;var d=this.Cr(a,b);if(!d)return-1;d.lu(a%this.Nc,b%this.Zc,c)};g.wz=function(a){return Math.floor((a-this.x)/(this.Nc*this.Nd))};g.xz=function(a){return Math.floor((a-this.y)/(this.Zc*this.Md))};g.sw=function(a,b){var c=this.xz(a.top),d=this.wz(a.right),e=this.xz(a.bottom),f,h,g;for(f=this.wz(a.left);f<=d;++f)for(h=c;h<=e;++h)if(g=this.Dr(f,h))g.Rm(),Ja(b,g.Sd)};
g.CD=function(a){var b,c,d,e,f,h;b=0;for(c=this.ee.length;b<c;++b)for(f=this.ee[b],d=0,e=f.length;d<e;++d)h=f[d],h.Rm(),Ja(a,h.Sd)};g.ff=function(){var a,b,e,f,h;a=0;for(b=this.ee.length;a<b;++a){h=this.ee[a];e=0;for(f=h.length;e<f;++e){for(var g=h[e],l=void 0,k=void 0,l=0,k=g.td.length;l<k;++l)c(g.td[l]);G(g.td);l=0;for(k=g.Sd.length;l<k;++l)d(g.Sd[l]);G(g.Sd);1E3>u.length&&u.push(g)}G(h)}G(this.ee)};g.Sb=function(){this.xt();return{w:xa(this.width/this.Nd),h:xa(this.height/this.Md),d:this.TD()}};
g.Wb=function(a){this.Ef=a.w;this.bg=a.h;this.xt(!0);this.Fy(a.d);this.xi=!0;this.qq()};g.We=function(a){if(!(0>=this.Nd||0>=this.Md)){this.type.ut(this.Nd,this.Md,this.wu,this.yu,this.xu,this.zu,this.Ci);if(this.width!==this.qh||this.height!==this.ph)this.xi=!0,this.qq(),this.tt(),this.qh=this.width,this.ph=this.height;a.globalAlpha=this.opacity;var b=this.M,c=b.Bb,d=b.Cb,e=b.Hb,b=b.Gb,f=this.x,h=this.y,g=this.Ci,l;this.i.jf&&(f=Math.round(f),h=Math.round(h));var k=this.Nc*this.Nd,m=this.Zc*this.Md,
n=Math.floor((c-f)/k),k=Math.floor((e-f)/k),p=Math.floor((d-h)/m),m=Math.floor((b-h)/m),r=f%this.Nd,t=h%this.Md;this.Ci&&(t=r=0);if(0!==r||0!==t)a.save(),a.translate(r,t),f-=r,h-=t,c-=r,d-=t,e-=r,b-=t;for(var u,Z,T,S,J,M,O,K,N;n<=k;++n)for(u=p;u<=m;++u)if(Z=this.Dr(n,u))for(Z.Rm(),T=0,S=Z.td.length;T<S;++T)J=Z.td[T],-1!==J.id&&(l=J.tb,M=l.left+f,O=l.top+h,K=l.right+f,l=l.bottom+h,M>e||K<c||O>b||l<d||(N=this.type.Ru(J.Iq,J.dm,J.Kn,J.ik,this.Ci),g?a.drawImage(N,M,O):(a.fillStyle=this.type.Ru(J.Iq,J.dm,
J.Kn,J.ik,this.Ci),a.fillRect(M,O,K-M,l-O))));0===r&&0===t||a.restore()}};var t=new Aa(0,0,1,1);g.Yh=function(a){this.od(a)};g.od=function(a){if(!(0>=this.Nd||0>=this.Md)){this.type.ut(this.Nd,this.Md,this.wu,this.yu,this.xu,this.zu,this.Ci);if(this.width!==this.qh||this.height!==this.ph)this.xi=!0,this.qq(),this.tt(),this.qh=this.width,this.ph=this.height;a.Ei(this.opacity);var b=this.type.Yi,c=this.M,d=c.Bb,e=c.Cb,f=c.Hb,c=c.Gb,h=this.x,g=this.y,l;this.i.jf&&(h=Math.round(h),g=Math.round(g));var k=
this.Nc*this.Nd,m=this.Zc*this.Md,n=Math.floor((f-h)/k),p=Math.floor((e-g)/m),m=Math.floor((c-g)/m),r,u,F,Z,T,S,J,M,O,K,N,U,ha,Q,sa,oa,Va;for(sa=Math.floor((d-h)/k);sa<=n;++sa)for(oa=p;oa<=m;++oa)if(Va=this.Dr(sa,oa))for(Va.Rm(),k=0,r=Va.td.length;k<r;++k)u=Va.td[k],-1!==u.id&&(l=u.tb,F=l.left+h,Z=l.top+g,T=l.right+h,l=l.bottom+g,F>f||T<d||Z>c||l<e||(a.we(b[u.Iq]),t.right=(T-F)/this.Nd,t.bottom=(l-Z)/this.Md,u.Cv?(u.ik&&(Q=t.right,t.right=t.bottom,t.bottom=Q),J=S=0,M=t.right,O=0,K=t.right,N=t.bottom,
U=0,ha=t.bottom,u.ik&&(Q=U,U=M,M=Q,Q=ha,ha=O,O=Q),u.dm&&(Q=S,S=M,M=Q,Q=J,J=O,O=Q,Q=U,U=K,K=Q,Q=ha,ha=N,N=Q),u.Kn&&(Q=S,S=U,U=Q,Q=J,J=ha,ha=Q,Q=M,M=K,K=Q,Q=O,O=N,N=Q),a.mF(F,Z,T,Z,T,l,F,l,S,J,M,O,K,N,U,ha)):a.fg(F,Z,T,Z,T,l,F,l,t)))}};f.D=new function(){};f.da=new function(){};f.La=new function(){}})();function Ed(a){this.i=a}
(function(){function a(a){l=a.x;n=a.y;k=a.z}function c(a,c,d,e){var f;f=m.length?m.pop():new b;f.init(a,c,d,e);return f}function b(){this.xn=this.id=this.vj=this.uj=this.y=this.x=this.Bq=this.Aq=this.dt=this.time=this.ru=0;this.Cn=this.Lq=!1}function d(){}function e(){}var h=Ed.prototype;h.xa=function(a){this.jb=a;this.i=a.i};h.xa.prototype.ka=function(){};h.qa=function(a){this.type=a;this.i=a.i;this.touches=[];this.zt=!1};var f=h.qa.prototype,g={left:0,top:0};f.Ol=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var l=0,n=0,k=0,m=[];b.prototype.init=function(a,b,c,d){var e=tb();this.ru=this.dt=this.time=e;this.Aq=a;this.Bq=b;this.x=a;this.y=b;this.uj=a;this.vj=b;this.pressure=this.height=this.width=0;this.id=c;this.xn=d;this.Cn=this.Lq=!1};b.prototype.update=function(a,b,c,d,e,f){this.dt=this.time;this.time=a;this.uj=this.x;this.vj=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Cn&&15<=db(this.Aq,this.Bq,this.x,this.y)&&(this.Cn=
!0)};b.prototype.HE=function(a,b){!this.Lq&&500<=tb()-this.ru&&!this.Cn&&15>db(this.Aq,this.Bq,this.x,this.y)&&(this.Lq=!0,a.Wg=this.xn,a.el=this.id,a.pk=b,a.i.trigger(Ed.prototype.D.FA,a),a.bh=this.x,a.dh=this.y,a.i.trigger(Ed.prototype.D.GA,a),a.pk=0)};var p=-1E3,r=-1E3,u=-1E4;b.prototype.Bx=function(a,b){if(!this.Lq){var c=tb();333>=c-this.ru&&!this.Cn&&15>db(this.Aq,this.Bq,this.x,this.y)&&(a.Wg=this.xn,a.el=this.id,a.pk=b,666>=c-u&&25>db(p,r,this.x,this.y)?(a.i.trigger(Ed.prototype.D.wA,a),a.bh=
this.x,a.dh=this.y,a.i.trigger(Ed.prototype.D.xA,a),r=p=-1E3,u=-1E4):(a.i.trigger(Ed.prototype.D.bB,a),a.bh=this.x,a.dh=this.y,a.i.trigger(Ed.prototype.D.cB,a),p=this.x,r=this.y,u=c),a.pk=0)}};f.ka=function(){this.zE=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.pk=this.el=this.Wg=this.dh=this.bh=this.xv=this.wv=this.vv=this.NB=this.MB=this.LB=this.Wp=this.Vp=this.Up=0;this.YF=0!==this.R[0];var b=0<this.i.Td?document:this.i.canvas,c=document;this.i.Fd?c=b=window.Canvas:this.i.Af&&
(c=b=window);var d=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",function(a){d.Qx(a)},!1),b.addEventListener("pointermove",function(a){d.Px(a)},!1),c.addEventListener("pointerup",function(a){d.Rp(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.Rp(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.i.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){d.Qx(a)},!1),b.addEventListener("MSPointerMove",function(a){d.Px(a)},!1),c.addEventListener("MSPointerUp",function(a){d.Rp(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.Rp(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",function(a){d.Sx(a)},!1),b.addEventListener("touchmove",function(a){d.Rx(a)},!1),c.addEventListener("touchend",function(a){d.Jt(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.Jt(a,!0)},!1));if(this.zE){var e=function(a){a=a.reading;d.vv=a.accelerationX;d.wv=a.accelerationY;d.xv=a.accelerationZ},f=function(a){a=a.reading;d.Up=a.yawDegrees;d.Vp=a.pitchDegrees;d.Wp=a.rollDegrees},h=Windows.Devices.Sensors.Accelerometer.getDefault();
h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",e));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(h&&h.removeEventListener("readingchanged",e),g&&g.removeEventListener("readingchanged",f)):(h&&h.addEventListener("readingchanged",e),g&&g.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.Up=a.alpha||0;d.Vp=a.beta||0;d.Wp=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.LB=a.accelerationIncludingGravity.x||0,d.MB=a.accelerationIncludingGravity.y||0,d.NB=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.vv=a.acceleration.x||0,d.wv=a.acceleration.y||0,d.xv=a.acceleration.z||0)},!1);this.YF&&!this.i.Ya&&(jQuery(document).mousemove(function(a){d.Ht(a)}),jQuery(document).mousedown(function(a){d.Gt(a)}),
jQuery(document).mouseup(function(a){d.It(a)}));!this.i.Bk&&this.i.Ge&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(a,null,{frequency:40});this.i.PF(this)};f.Px=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Ol(a.pointerId),c=tb();if(0<=b){var d=this.i.Ya?g:jQuery(this.i.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,
a.width||0,a.height||0,a.pressure||0)}}};f.Qx=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.i.Ya?g:jQuery(this.i.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;tb();this.Wg=this.touches.length;this.el=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.Wg));this.i.Pb=!0;this.i.trigger(Ed.prototype.D.jv,this);this.i.trigger(Ed.prototype.D.er,this);this.bh=d;this.dh=b;this.i.trigger(Ed.prototype.D.dr,this);
this.i.Pb=!1}};f.Rp=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var c=this.Ol(a.pointerId);this.Wg=0<=c?this.touches[c].xn:-1;this.el=0<=c?this.touches[c].id:-1;this.i.Pb=!0;this.i.trigger(Ed.prototype.D.iv,this);this.i.trigger(Ed.prototype.D.qv,this);0<=c&&(b||this.touches[c].Bx(this,c),100>m.length&&m.push(this.touches[c]),this.touches.splice(c,1));this.i.Pb=!1}};f.Rx=function(a){a.preventDefault&&a.preventDefault();
var b=tb(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Ol(e.identifier),0<=f){var h=this.i.Ya?g:jQuery(this.i.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-h.left,e.pageY-h.top,2*(e.fH||e.kH||e.$G||e.cH||0),2*(e.gH||e.lH||e.aH||e.dH||0),e.XG||e.jH||e.ZG||e.bH||0)}};f.Sx=function(a){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.i.Ya?g:jQuery(this.i.canvas).offset();tb();this.i.Pb=!0;var d,e,f,h;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=
a.changedTouches[d],h=this.Ol(f.identifier),-1===h){h=f.pageX-b.left;var l=f.pageY-b.top;this.Wg=this.touches.length;this.el=f.identifier;this.touches.push(c(h,l,f.identifier,this.Wg));this.i.trigger(Ed.prototype.D.jv,this);this.i.trigger(Ed.prototype.D.er,this);this.bh=h;this.dh=l;this.i.trigger(Ed.prototype.D.dr,this)}this.i.Pb=!1};f.Jt=function(a,b){a.preventDefault&&Xb(a)&&a.preventDefault();this.i.Pb=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Ol(e.identifier),
0<=e&&(this.Wg=this.touches[e].xn,this.el=this.touches[e].id,this.i.trigger(Ed.prototype.D.iv,this),this.i.trigger(Ed.prototype.D.qv,this),b||this.touches[e].Bx(this,e),100>m.length&&m.push(this.touches[e]),this.touches.splice(e,1));this.i.Pb=!1};f.j=function(){return this.i.Ge&&0===this.Up&&0!==k?90*k:this.Up};f.k=function(){return this.i.Ge&&0===this.Vp&&0!==n?90*n:this.Vp};f.u=function(){return this.i.Ge&&0===this.Wp&&0!==l?90*l:this.Wp};f.Gt=function(a){this.Sx({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]});this.zt=!0};f.Ht=function(a){this.zt&&this.Rx({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};f.It=function(a){a.preventDefault&&this.i.bp&&!this.i.Fg&&a.preventDefault();this.i.bp=!0;this.Jt({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.zt=!1};f.cl=function(){var a,b,c,d=tb();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.dt=d),c.HE(this,a)};d.prototype.er=function(){return!0};d.prototype.qv=function(){return!0};
d.prototype.dr=function(a){return a?this.i.bl(a,this.bh,this.dh,!1):!1};var t=[];d.prototype.hA=function(a){if(!a)return!1;var b=a.Ma(),c=b.Ud(),d,e,f,h,g,l;f=0;for(h=c.length;f<h;f++){var k=c[f];k.Wa();g=0;for(l=this.touches.length;g<l;g++)if(e=this.touches[g],d=k.M.oc(e.x,e.y,!0),e=k.M.oc(e.x,e.y,!1),k.Dd(d,e)){t.push(k);break}}return t.length?(b.kb=!1,Ha(b.F,t),a.Te(),G(t),!0):!1};d.prototype.jv=function(a){a=Math.floor(a);return a===this.Wg};d.prototype.iv=function(a){a=Math.floor(a);return a===
this.Wg};d.prototype.FA=function(){return!0};d.prototype.bB=function(){return!0};d.prototype.wA=function(){return!0};d.prototype.GA=function(a){return a?this.i.bl(a,this.bh,this.dh,!1):!1};d.prototype.cB=function(a){return a?this.i.bl(a,this.bh,this.dh,!1):!1};d.prototype.xA=function(a){return a?this.i.bl(a,this.bh,this.dh,!1):!1};h.D=new d;e.prototype.mr=function(a,b){var c=this.pk;if(0>c||c>=this.touches.length)a.ua(0);else{var d,e,f,h,g;ka(b)?(d=this.i.ih(0),e=d.scale,f=d.Qd,h=d.pe,g=d.K,d.scale=
1,d.Qd=1,d.pe=1,d.K=0,a.ua(d.oc(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Qd=f,d.pe=h,d.K=g):(d=ma(b)?this.i.ih(b):this.i.Ul(b))?a.ua(d.oc(this.touches[c].x,this.touches[c].y,!0)):a.ua(0)}};e.prototype.nr=function(a,b){var c=this.pk;if(0>c||c>=this.touches.length)a.ua(0);else{var d,e,f,h,g;ka(b)?(d=this.i.ih(0),e=d.scale,f=d.Qd,h=d.qe,g=d.K,d.scale=1,d.Qd=1,d.qe=1,d.K=0,a.ua(d.oc(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.Qd=f,d.qe=h,d.K=g):(d=ma(b)?this.i.ih(b):this.i.Ul(b))?
a.ua(d.oc(this.touches[c].x,this.touches[c].y,!1)):a.ua(0)}};h.La=new e})();function Fd(a){this.i=a}
(function(){function a(a){var b;if(!k[a])for(k[a]=Array(20),b=0;20>b;++b)k[a][b]=0;return k[a]}function c(a){var b;if(!m[a])for(m[a]=Array(20),b=0;20>b;++b)m[a][b]=0;return m[a]}function b(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function d(a){n[a.gamepad.index]=a.gamepad;g.trigger(Fd.prototype.D.DA,l)}function e(a){g.trigger(Fd.prototype.D.EA,l);n[a.gamepad.index]=null}function h(){}var f=Fd.prototype;f.xa=function(a){this.jb=a;this.i=a.i};f.xa.prototype.ka=function(){};var g=null,l=null,n=Array(16),
k=Array(16),m=Array(16),p="",r="",u=null,t={windows:{}};t.windows.firefox={};var v=[0,1,2,3,4,5,8,9,10,11],q=[0,1,[7,6],2,3,[14,15],[12,13]];t.windows.firefox.xbox360=function(a,b){return b?a>=q.length?-1:ma(q[a])?q[a]+16:q[a]:a>=v.length?-1:v[a]};var x=[2,0,1,3,4,6,5,7,8,9],B=[0,1,2,3,[14,15],[12,13]];t.windows.firefox.logitechdualaction=function(a,b){return b?a>=B.length?-1:ma(B[a])?B[a]+16:B[a]:a>=x.length?-1:x[a]};f.qa=function(a){this.type=a;g=this.i=a.i;l=this};var E=f.qa.prototype;E.ka=function(){this.zm=
0;var a=navigator.userAgent;p="windows";/mac/i.test(a)&&(p="mac");u=t[p];r="chrome";/firefox/i.test(a)&&(r="firefox");u&&(u=u[r]);window.addEventListener("webkitgamepadconnected",d,!1);window.addEventListener("webkitgamepaddisconnected",e,!1);window.addEventListener("MozGamepadConnected",d,!1);window.addEventListener("MozGamepadDisconnected",e,!1);window.addEventListener("gamepadconnected",d,!1);window.addEventListener("gamepaddisconnected",e,!1);this.i.Rj(this);this.Yn=[]};E.wb=function(){this.Yn.length=
0;var d=null,e=!1;navigator.getGamepads?d=navigator.getGamepads():navigator.webkitGetGamepads?d=navigator.webkitGetGamepads():navigator.mozGetGamepads?d=navigator.mozGetGamepads():navigator.msGetGamepads?d=navigator.msGetGamepads():this.i.Rw&&window.cr_getGamepads?(d=window.cr_getGamepads(),e=!0):d=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||n;if(d){var f,h,g,l,p,r,q;f=0;for(h=d.length;f<h;f++){var t=d[f];if(t){var v=a(f),x=c(f);l=f;g=a(l);l=c(l);p=void 0;for(p=0;20>p;++p)l[p]=
g[p];e?g=b:u?(g="",l=t.id.toLowerCase(),-1<l.indexOf("xbox 360")?g="xbox360":-1<l.indexOf("logitech dual action")&&(g="logitechdualaction"),g=u[g]||b):g=b;p=g;g=0;for(l=t.buttons.length;g<l;g++)q="undefined"!==typeof t.buttons[g].value?t.buttons[g].value:t.buttons[g],r=p(g,!1,q),0<=r&&20>r&&(v[r]=100*q,50<=v[r]&&50>x[r]&&(this.zm=r));g=0;for(l=t.axes.length;g<l;g++)q=t.axes[g],r=p(g,!0,q),ma(r)?0<=r&&20>r&&(v[r]=100*q):(v[r[0]]=0,v[r[1]]=0,0>=q?v[r[0]]=Math.abs(100*q):v[r[1]]=Math.abs(100*q));this.Yn.push(t)}else t=
f,k[t]=null,m[t]=null}for(;20>f;++f)d=f,k[d]=null,m[d]=null}};E.Sb=function(){return{lastButton:this.zm}};E.Wb=function(a){this.zm=a.lastButton};h.prototype.DA=function(){return!0};h.prototype.EA=function(){return!0};h.prototype.Su=function(b,c){b=Math.floor(b);if(0>b||b>=this.Yn.length)return!1;var d=a(b);if(!d)return!1;if(d=50<=d[c])this.zm=c;return d};h.prototype.qA=function(b,d){b=Math.floor(b);if(0>b||b>=this.Yn.length)return!1;var e=a(b),f=c(b);if(!e||!f)return!1;if(e=50<=e[d]&&50>f[d])this.zm=
d;return e};f.D=new h;f.da=new function(){};f.La=new function(){}})();function Gd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=Gd.prototype;d.xa=function(a){this.behavior=a;this.i=a.i};d.xa.prototype.ka=function(){};d.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var e=d.qa.prototype;e.ka=function(){var a=this.R[0];this.he=this.R[1];this.Fe=this.R[2];this.VB=0!==this.R[3];this.ju=0!==this.R[4];this.Y=Math.cos(this.n.K)*a;this.ea=Math.sin(this.n.K)*a;this.uj=this.n.x;this.vj=this.n.y;this.rc=this.n.K;this.Dn=0;this.enabled=0!==this.R[5]};
e.Sb=function(){return{acc:this.he,g:this.Fe,dx:this.Y,dy:this.ea,lx:this.uj,ly:this.vj,lka:this.rc,t:this.Dn,e:this.enabled}};e.Wb=function(a){this.he=a.acc;this.Fe=a.g;this.Y=a.dx;this.ea=a.dy;this.uj=a.lx;this.vj=a.ly;this.rc=a.lka;this.Dn=a.t;this.enabled=a.e};e.wb=function(){if(this.enabled){var a=this.i.Dg(this.n),b,c;this.n.K!==this.rc&&(this.ju&&(b=db(0,0,this.Y,this.ea),this.Y=Math.cos(this.n.K)*b,this.ea=Math.sin(this.n.K)*b),this.rc=this.n.K);0!==this.he&&(b=db(0,0,this.Y,this.ea),c=0===
this.Y&&0===this.ea?this.n.K:Xa(0,0,this.Y,this.ea),b+=this.he*a,0>b&&(b=0),this.Y=Math.cos(c)*b,this.ea=Math.sin(c)*b);0!==this.Fe&&(this.ea+=this.Fe*a);this.uj=this.n.x;this.vj=this.n.y;if(0!==this.Y||0!==this.ea)if(this.n.x+=this.Y*a,this.n.y+=this.ea*a,this.Dn+=db(0,0,this.Y*a,this.ea*a),this.ju&&(this.n.K=Xa(0,0,this.Y,this.ea),this.n.X(),this.rc=this.n.K),this.n.X(),this.VB&&(b=this.i.jd(this.n)))this.i.Ij(this.n,b),b=db(0,0,this.Y,this.ea),c=this.i.YB(this.n,this.uj,this.vj),this.Y=Math.cos(c)*
b,this.ea=Math.sin(c)*b,this.n.x+=this.Y*a,this.n.y+=this.ea*a,this.n.X(),this.ju&&(this.rc=this.n.K=c,this.n.X()),this.i.If(this.n,this.Y/b,this.ea/b,Math.max(2.5*b*a,30))||this.i.ny(this.n,100)}};a.prototype.Mz=function(a,b){return Wc(this.Dn,a,b)};d.D=new a;c.prototype.kr=function(a){var b=Xa(0,0,this.Y,this.ea);this.Y=Math.cos(b)*a;this.ea=Math.sin(b)*a};c.prototype.sv=function(a){a=Pa(a);var b=db(0,0,this.Y,this.ea);this.Y=Math.cos(a)*b;this.ea=Math.sin(a)*b};c.prototype.qf=function(a){this.enabled=
1===a};d.da=new c;b.prototype.Xn=function(a){var b=db(0,0,this.Y,this.ea),b=Qb(b);a.ua(b)};d.La=new b})();function Hd(a){this.i=a}
(function(){function a(){}function c(){}var b=Hd.prototype;b.xa=function(a){this.behavior=a;this.i=a.i};b.xa.prototype.ka=function(){};b.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.qa.prototype;d.ka=function(){this.or=1===this.R[0];this.Dy=!1;this.Kl=this.R[1];this.Nn=this.R[2];this.Ko=this.R[3];this.jC=this.R[4];this.Jc=this.or?0:3;this.ud?this.Lf.reset():this.Lf=new Bb;this.pi=this.n.opacity?this.n.opacity:1;this.or&&(0===this.Kl?(this.Jc=1,0===this.Nn&&(this.Jc=
2)):(this.n.opacity=0,this.i.Va=!0))};d.Sb=function(){return{fit:this.Kl,wt:this.Nn,fot:this.Ko,s:this.Jc,st:this.Lf.Sa,mo:this.pi}};d.Wb=function(a){this.Kl=a.fit;this.Nn=a.wt;this.Ko=a.fot;this.Jc=a.s;this.Lf.reset();this.Lf.Sa=a.st;this.pi=a.mo};d.wb=function(){this.Lf.add(this.i.Dg(this.n));0===this.Jc&&(this.n.opacity=this.Lf.Sa/this.Kl*this.pi,this.i.Va=!0,this.n.opacity>=this.pi&&(this.n.opacity=this.pi,this.Jc=1,this.Lf.reset(),this.i.trigger(Hd.prototype.D.yA,this.n)));1===this.Jc&&this.Lf.Sa>=
this.Nn&&(this.Jc=2,this.Lf.reset(),this.i.trigger(Hd.prototype.D.eB,this.n));2===this.Jc&&0!==this.Ko&&(this.n.opacity=this.pi-this.Lf.Sa/this.Ko*this.pi,this.i.Va=!0,0>this.n.opacity&&(this.n.opacity=0,this.Jc=3,this.Lf.reset(),this.i.trigger(Hd.prototype.D.zA,this.n),1===this.jC&&this.i.Pe(this.n)))};d.EC=function(){this.Jc=0;this.Lf.reset();0===this.Kl?(this.Jc=1,0===this.Nn&&(this.Jc=2)):(this.n.opacity=0,this.i.Va=!0)};a.prototype.zA=function(){return!0};a.prototype.yA=function(){return!0};
a.prototype.eB=function(){return!0};b.D=new a;c.prototype.BB=function(){this.or||this.Dy||(this.pi=this.n.opacity?this.n.opacity:1,this.Dy=!0);3===this.Jc&&this.EC()};b.da=new c;b.La=new function(){}})();function Id(a){this.i=a}
(function(){function a(){}function c(){}var b=Id.prototype;b.xa=function(a){this.behavior=a;this.i=a.i};b.xa.prototype.ka=function(){};b.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.qa.prototype;d.ka=function(){this.Ji=this.Qg=this.Jc=this.Pp=this.Tp=0};d.Sb=function(){return{ontime:this.Tp,offtime:this.Pp,stage:this.Jc,stagetimeleft:this.Qg,timeleft:this.Ji}};d.Wb=function(a){this.Tp=a.ontime;this.Pp=a.offtime;this.Jc=a.stage;this.Qg=a.stagetimeleft;this.Ji=
a.timeleft};d.wb=function(){if(!(0>=this.Ji)){var a=this.i.Dg(this.n);this.Ji-=a;0>=this.Ji?(this.Ji=0,this.n.visible=!0,this.i.Va=!0,this.i.trigger(Id.prototype.D.Yu,this.n)):(this.Qg-=a,0>=this.Qg&&(0===this.Jc?(this.n.visible=!1,this.Jc=1,this.Qg+=this.Pp):(this.n.visible=!0,this.Jc=0,this.Qg+=this.Tp),this.i.Va=!0))}};a.prototype.Yu=function(){return!0};b.D=new a;c.prototype.Vz=function(a,b,c){this.Tp=a;this.Pp=b;this.Jc=1;this.Qg=b;this.Ji=c;this.n.visible=!1;this.i.Va=!0};b.da=new c;b.La=new function(){}})();
function Jd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d={},e=Jd.prototype;e.Tk=function(){var a,b;for(a in d)d.hasOwnProperty(a)&&(b=d[a],b.vi.unsetReady(),b.kn=!0)};e.xa=function(a){this.behavior=a;this.i=a.i};e.xa.prototype.ka=function(){this.Um=[];this.Uh=[]};e.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var h=e.qa.prototype;h.ka=function(){this.ec=this.R[0];3>this.ec&&(this.ec=3);this.Wf=this.R[1];this.NE=this.R[2];this.Ff=this.R[3];this.he=this.R[4];this.zg=
this.R[5];this.eo=Pa(this.R[6]);this.kq=0!==this.R[7];this.Ho=0!==this.R[8];this.enabled=0!==this.R[9];this.$l=this.Qo=this.Jp=this.uk=!1;this.oe=0;this.rc=this.N=this.n.K;this.jn=this.Og=this.Ng=this.ac=0;this.ti=Math.ceil(this.i.ub.width/this.ec);this.Bj=Math.ceil(this.i.ub.height/this.ec);this.jc=[];this.Fl=!1;this.Qr=this.Pr=0;this.mp=this.op=!1;this.Mv=this.Lv=0;this.kw=!0;var a=this;this.ud||(this.YE=function(){a.op||(a.mp=!1,a.dC(),a.$l=0<a.jc.length,a.oe=0,a.i.trigger(Jd.prototype.D.QA,a.n),
a.Rr())},this.XE=function(){a.op||(a.mp=!1,a.Ov(),a.$l=!1,a.uk=!1,a.oe=0,a.i.trigger(Jd.prototype.D.AA,a.n),a.Rr())})};h.ff=function(){this.op=!0;this.Fl=!1};h.Sb=function(){var a={cs:this.ec,cb:this.Wf,ms:this.Ff,acc:this.he,dec:this.zg,av:this.eo,re:this.kq,de:this.Ho,im:this.uk,mfs:this.Jp,ftmwm:this.Qo,hp:this.$l,mn:this.oe,a:this.N,lka:this.rc,s:this.ac,rx:this.Ng,ry:this.Og,ra:this.jn,myhc:this.ti,myvc:this.Bj,path:this.jc,en:this.enabled,fr:this.kw,obs:[],costs:[]};this.mp?(a.dfp=!0,a.dpx=
this.Lv,a.dpy=this.Mv):(a.dfp=this.Fl,a.dpx=this.Pr,a.dpy=this.Qr);var b,c;b=0;for(c=this.type.Um.length;b<c;b++)a.obs.push(this.type.Um[b].Za);b=0;for(c=this.type.Uh.length;b<c;b++)a.costs.push({sid:this.type.Uh[b].Ea.Za,cost:this.type.Uh[b].Rv});return a};h.Wb=function(a){this.ec=a.cs;this.Wf=a.cb;this.Ff=a.ms;this.he=a.acc;this.zg=a.dec;this.eo=a.av;this.kq=a.re;this.Ho=a.de;this.uk=a.im;this.Jp=a.mfs;this.Qo=a.ftmwm;this.$l=a.hp;this.oe=a.mn;this.N=a.a;this.rc=a.lka;this.ac=a.s;this.Ng=a.rx;this.Og=
a.ry;this.jn=a.ra;this.ti=a.myhc;this.Bj=a.myvc;this.jc=a.path;this.enabled=a.en;this.kw=a.fr;this.Fl=a.dfp;this.Pr=a.dpx;this.Qr=a.dpy;G(this.type.Um);var b=a.obs,c,d,e;c=0;for(d=b.length;c<d;c++)(e=this.i.ok(b[c]))&&this.type.Um.push(e);G(this.type.Uh);a=a.costs;c=0;for(d=a.length;c<d;c++)(e=this.i.ok(a[c].sid))&&this.type.Uh.push({Ea:e,Rv:a[c].cost});this.nk().vi.setDiagonals(this.Ho)};h.Se=function(){this.nk().kn=!0};h.wb=function(){if(this.enabled&&this.uk){this.kq&&this.n.K!==this.rc&&(this.N=
this.n.K);var a=this.i.Dg(this.n),b,c,d,e,f,h=this.n,g=Math.min(.4*this.Ff,2*Math.abs(this.n.width)),v=Math.max(1.5*this.ac,30);this.oe<this.jc.length?(e=this.jc[this.oe].x,f=this.jc[this.oe].y,d=db(this.Ng,this.Og,e,f),d<3*v*a&&(this.oe++,this.Ng=e,this.Og=f,this.oe<this.jc.length&&(e=this.jc[this.oe].x,f=this.jc[this.oe].y))):(e=this.jc[this.jc.length-1].x,f=this.jc[this.jc.length-1].y);this.jn=Xa(this.Ng,this.Og,e,f);d=db(h.x,h.y,this.Ng,this.Og);d<g&&this.oe<this.jc.length&&(this.Qo?this.Qo=!1:
g=v*a,this.Ng+=Math.cos(this.jn)*g,this.Og+=Math.sin(this.jn)*g);b=Xa(h.x,h.y,this.Ng,this.Og);c=Ya(this.N,b);g=db(h.x,h.y,this.jc[this.jc.length-1].x,this.jc[this.jc.length-1].y);v=this.Ff*this.Ff/(2*this.zg);1<d&&(this.N=Za(this.N,b,this.eo*a),.5>=Qa(c)?c=this.Ff:120<=Qa(c)||this.Jp&&0===this.oe?(c=0,this.Jp=!0):(b=c/this.eo,d=db(h.x,h.y,this.Ng,this.Og),d=d/(2*Math.sin(c)),c=d*c/b,0>c&&(c=0),c>this.Ff&&(c=this.Ff)),g<v&&(c=Math.min(c,g/v*this.Ff+this.Ff/40)),this.ac+=this.he*a,this.ac>c&&(this.ac=
c));h.x+=Math.cos(this.N)*this.ac*a;h.y+=Math.sin(this.N)*this.ac*a;this.kq&&(this.rc=h.K=this.N);h.X();this.oe===this.jc.length&&db(h.x,h.y,e,f)<Math.max(3*this.ac*a,10)&&(this.$l=this.uk=!1,this.ac=this.oe=0,this.i.trigger(Jd.prototype.D.pA,h))}};h.cl=function(){this.enabled&&(this.BD(),this.Rr())};h.Rr=function(){this.Fl&&!this.op&&(this.Fl=!1,this.rC(this.n.x,this.n.y,this.Pr,this.Qr))};h.nk=function(){var a=""+this.ec+","+this.Wf;d.hasOwnProperty(a)||(d[a]={vi:new window.Pathfinder,cells:null,
kn:!1,Hj:[]});return d[a]};h.BD=function(){var a=this.nk();if(!a.vi.isReady()||a.kn||a.Hj.length){var b,c,d,e,f,h,g,v,q,x;if(!a.vi.isReady()||a.kn){this.ti=Math.ceil(this.i.ub.width/this.ec);this.Bj=Math.ceil(this.i.ub.height/this.ec);b=[];e=b.length=this.ti;f=this.Bj;for(c=0;c<e;++c)for(b[c]=[],b[c].length=f,d=0;d<f;++d)b[c][d]=this.oy(c,d);a.cells=b;a.vi.init(this.ti,this.Bj,b,this.Ho);a.kn=!1;G(a.Hj)}else if(a.Hj.length){h=0;for(g=a.Hj.length;h<g;++h){b=a.Hj[h];v=b[0];q=b[1];e=b[2];c=b[3];b=[];
e=e-v;f=c-q;b.length=e;for(c=0;c<e;++c)for(b[c]=[],b[c].length=f,d=0;d<f;++d)x=this.oy(v+c,q+d),b[c][d]=x,a.cells[v+c][q+d]=x;a.vi.updateRegion(v,q,e,f,b)}G(a.Hj)}}};h.Ov=function(){var a,b;a=0;for(b=this.jc.length;a<b;a++)window.freeResultNode(this.jc[a]);G(this.jc)};h.dC=function(){var a=this.nk().vi.pathList;this.Ov();var b,c,d,e;b=0;for(c=a.length;b<c;b++)d=a[b],e=window.allocResultNode(),e.x=(d.x+.5)*this.ec,e.y=(d.y+.5)*this.ec,this.jc.push(e)};var f=[],g=new Aa;h.oy=function(a,b){var c,d,e,
h,u,t=0;g.left=a*this.ec-this.Wf;g.top=b*this.ec-this.Wf;g.right=(a+1)*this.ec+this.Wf;g.bottom=(b+1)*this.ec+this.Wf;if(0===this.NE){if(this.i.OF(g))return window.PF_OBSTACLE}else{this.i.ts(this.n.M,this.type.Um,g,f);c=0;for(d=f.length;c<d;++c)if(this.i.tu(g,f[c]))return G(f),window.PF_OBSTACLE;f.length=0}c=0;for(d=this.type.Uh.length;c<d;c++){e=this.type.Uh[c].Ea;u=this.type.Uh[c].Rv;this.i.Xo(this.n.M,e,g,f);e=0;for(h=f.length;e<h;++e)this.i.tu(g,f[e])&&(t+=u);G(f)}return t};h.rC=function(a,b,
c,d){var e=this.nk().vi;if(e.isReady()){this.mp=!0;this.Lv=c;this.Mv=d;a=Math.floor(a/this.ec);b=Math.floor(b/this.ec);c=Math.floor(c/this.ec);d=Math.floor(d/this.ec);var f,h,g,v,q,x,B;if(e.at(c,d)===window.PF_OBSTACLE){f=1E6;for(v=g=h=0;v<this.ti;v++)for(q=0;q<this.Bj;q++)e.at(v,q)!==window.PF_OBSTACLE&&(x=c-v,B=d-q,x=x*x+B*B,x<f&&(f=x,h=v,g=q));c=h;d=g}e.findPath(a,b,c,d,this.YE,this.XE)}};a.prototype.QA=function(){return!0};a.prototype.AA=function(){return!0};a.prototype.pA=function(){return!0};
e.D=new a;c.prototype.qf=function(a){this.enabled=0!==a};c.prototype.kr=function(a){0>a&&(a=0);a>this.Ff&&(a=this.Ff);this.ac=a};h.j=function(a,b,c,d){var e=Math.min(a,c)-this.Wf,f=Math.min(b,d)-this.Wf;a=Math.max(a,c)+this.Wf;b=Math.max(b,d)+this.Wf;e=Math.max(Math.floor(e/this.ec),0);f=Math.max(Math.floor(f/this.ec),0);a=Math.min(Math.ceil(a/this.ec),this.ti);b=Math.min(Math.ceil(b/this.ec),this.Bj);e>=a||f>=b||this.nk().Hj.push([e,f,a,b])};e.da=new c;b.prototype.Xn=function(a){a.ua(this.uk?this.ac:
0)};e.La=new b})();function Kd(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var Ld=2/180*Math.PI,Md=8/180*Math.PI,Nd=.5*Math.PI,Od=Nd*Nd,Pd=2/180*Math.PI,Qd=Number.MIN_VALUE*Number.MIN_VALUE;function Rd(a,c){return a.x*c.x+a.y*c.y}function Ud(a,c){return a.x*c.y-a.y*c.x}function Vd(a){return V(1*a.y,-1*a.x)}function Wd(a,c){return V(a.q.x*c.x+a.r.x*c.y,a.q.y*c.x+a.r.y*c.y)}function Xd(a,c){return V(Rd(c,a.q),Rd(c,a.r))}
function Yd(a,c){var b=Wd(a.B,c);b.x+=a.position.x;b.y+=a.position.y;return b}function Zd(a,c){var b=$d(c,a.position),d=b.x*a.B.q.x+b.y*a.B.q.y;b.y=b.x*a.B.r.x+b.y*a.B.r.y;b.x=d;return b}function $d(a,c){return V(a.x-c.x,a.y-c.y)}function ae(a,c,b){return a<c?c:a>b?b:a}function be(){this.q=V(0,0);this.r=V(0,0);this.q.Set(1,0);this.r.Set(0,1)}function ce(a){var c=new be;c.Set(a);return c}be.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.q.Set(c,a);this.r.Set(-a,c)};
be.prototype.Lc=function(){var a=new be;de(a,this);return a};function de(a,c){a.q.S(c.q);a.r.S(c.r)}be.prototype.Ha=function(){this.q.Set(0,0);this.r.Set(0,0)};be.prototype.Ni=function(){return Math.atan2(this.q.y,this.q.x)};function ee(a,c){var b=a.q.x*a.r.y-a.r.x*a.q.y;0!==b&&(b=1/b);c.q.x=b*a.r.y;c.r.x=-b*a.r.x;c.q.y=-b*a.q.y;c.r.y=b*a.q.x}function fe(a,c,b,d){var e=a.q.x*a.r.y-a.r.x*a.q.y;0!==e&&(e=1/e);c.x=e*(a.r.y*b-a.r.x*d);c.y=e*(a.q.x*d-a.q.y*b);return c}
function ge(a,c,b){this.q=new he(0,0,0);this.r=new he(0,0,0);this.j=new he(0,0,0);a&&this.q.S(a);c&&this.r.S(c);b&&this.j.S(b)}ge.prototype.Lc=function(){return new ge(this.q,this.r,this.j)};ge.prototype.Ha=function(){this.q.Set(0,0,0);this.r.Set(0,0,0);this.j.Set(0,0,0)};function ie(a,c,b,d){var e=a.q.x,h=a.r.x,f=a.q.y;a=a.r.y;var g=e*a-h*f;0!=g&&(g=1/g);c.x=g*(a*b-h*d);c.y=g*(e*d-f*b);return c}
function je(a,c,b,d,e){var h=a.q.x,f=a.q.y,g=a.q.z,l=a.r.x,n=a.r.y,k=a.r.z,m=a.j.x,p=a.j.y;a=a.j.z;var r=h*(n*a-k*p)+f*(k*m-l*a)+g*(l*p-n*m);0!=r&&(r=1/r);c.x=r*(b*(n*a-k*p)+d*(k*m-l*a)+e*(l*p-n*m));c.y=r*(h*(d*a-e*p)+f*(e*m-b*a)+g*(b*p-d*m));c.z=r*(h*(n*e-k*d)+f*(k*b-l*e)+g*(l*d-n*b));return c}function ke(){this.T=V(0,0);this.Yc=V(0,0);this.G=V(0,0)}ke.prototype.Set=function(a){this.T.S(a.T);this.Yc.S(a.Yc);this.G.S(a.G);this.rf=a.rf;this.N=a.N;this.Kd=a.Kd};
ke.prototype.Lc=function(){var a=new ke;a.T.S(this.T);a.Yc.S(this.Yc);a.G.S(this.G);a.rf=this.rf;a.N=this.N;a.Kd=this.Kd;return a};ke.prototype.Ae=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.Yc.x+c*this.G.x;a.position.y=(1-c)*this.Yc.y+c*this.G.y;a.B.Set((1-c)*this.rf+c*this.N);var b=a.B;a.position.x-=b.q.x*this.T.x+b.r.x*this.T.y;a.position.y-=b.q.y*this.T.x+b.r.y*this.T.y};
ke.prototype.Jh=function(a){void 0===a&&(a=0);if(this.Kd<a&&1-this.Kd>Number.MIN_VALUE){var c=(a-this.Kd)/(1-this.Kd);this.Yc.x=(1-c)*this.Yc.x+c*this.G.x;this.Yc.y=(1-c)*this.Yc.y+c*this.G.y;this.rf=(1-c)*this.rf+c*this.N;this.Kd=a}};function Be(a,c){this.position=V(0,0);this.B=new be;a&&this.position.S(a);c&&de(this.B,c)}Be.prototype.Set=function(a){this.position.S(a.position);de(this.B,a.B)};Be.prototype.Ni=function(){return Math.atan2(this.B.q.y,this.B.q.x)};
function Ce(a,c){this.x=a;this.y=c}var De=[];function V(a,c){if(0<De.length){var b=De.pop();b.Set(a,c);return b}return new Ce(a,c)}function Ee(a){De.push(a)}z=Ce.prototype;z.Ha=function(){this.y=this.x=0};z.Set=function(a,c){this.x=a;this.y=c};z.S=function(a){this.x=a.x;this.y=a.y};z.Kh=function(){return V(-this.x,-this.y)};z.Lc=function(){return V(this.x,this.y)};z.ng=function(a){this.x+=a.x;this.y+=a.y};z.uv=function(a){this.x-=a.x;this.y-=a.y};z.Qe=function(a){this.x*=a;this.y*=a};
function Fe(a){return Math.sqrt(Ge(a))}function Ge(a){return a.x*a.x+a.y*a.y}function He(a){var c=Fe(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function he(a,c,b){this.x=a;this.y=c;this.z=b}z=he.prototype;z.Ha=function(){this.z=this.y=this.x=0};z.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};z.S=function(a){this.x=a.x;this.y=a.y;this.z=a.z};z.Kh=function(){return new he(-this.x,-this.y,-this.z)};z.Lc=function(){return new he(this.x,this.y,this.z)};
z.ng=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};z.uv=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};z.Qe=function(a){this.x*=a;this.y*=a;this.z*=a};function Ie(){this.mb=.005}z=Ie.prototype;z.Pi=function(){};z.Lc=function(){};z.Set=function(a){this.mb=a.mb};z.Vj=function(){};z.ml=function(){};z.Pn=function(){};z.jr=function(){};function Je(a){this.mb=.005;this.mb=a;this.j=a*a;this.Db=V(0,0)}Kd(Je,Ie);z=Je.prototype;z.Pi=function(){return"b2CircleShape"};
z.Lc=function(){var a=new Je(this.mb);a.Set(this);return a};z.Set=function(a){Ie.prototype.Set.call(this,a);a instanceof Je&&this.Db.S(a.Db)};z.Vj=function(a,c){var b=c.B,d=c.position.x+(b.q.x*this.Db.x+b.r.x*this.Db.y),b=c.position.y+(b.q.y*this.Db.x+b.r.y*this.Db.y);a.j.Set(d-this.mb,b-this.mb);a.k.Set(d+this.mb,b+this.mb)};z.ml=function(a,c){a.j=c*Math.PI*this.j;a.k.S(this.Db);a.u=a.j*(.5*this.j+(this.Db.x*this.Db.x+this.Db.y*this.Db.y))};
z.Pn=function(a,c,b,d){b=Yd(b,this.Db);var e=-(Rd(a,b)-c);if(e<-this.mb+Number.MIN_VALUE)return 0;if(e>this.mb)return d.S(b),Math.PI*this.j;c=e*e;e=this.j*(Math.asin(e/this.mb)+Math.PI/2)+e*Math.sqrt(this.j-c);c=-2/3*Math.pow(this.j-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};z.jr=function(a){a.U=[this.Db];a.j=1;a.mb=this.mb};
function Ke(a,c){this.mb=.005;this.j=a;this.k=c;this.u=V(this.k.x-this.j.x,this.k.y-this.j.y);He(this.u);this.C=V(this.u.y,-this.u.x);V(-.04*(this.C.x-this.u.x)+this.j.x,-.04*(this.C.y-this.u.y)+this.j.y);V(-.04*(this.C.x+this.u.x)+this.k.x,-.04*(this.C.y+this.u.y)+this.k.y);V(-this.C.x,-this.C.y)}Kd(Ke,Ie);Ke.prototype.Pi=function(){return"b2EdgeShape"};
Ke.prototype.Vj=function(a,c){var b=c.B,d=c.position.x+(b.q.x*this.j.x+b.r.x*this.j.y),e=c.position.y+(b.q.y*this.j.x+b.r.y*this.j.y),h=c.position.x+(b.q.x*this.k.x+b.r.x*this.k.y),b=c.position.y+(b.q.y*this.k.x+b.r.y*this.k.y);d<h?(a.j.x=d,a.k.x=h):(a.j.x=h,a.k.x=d);e<b?(a.j.y=e,a.k.y=b):(a.j.y=b,a.k.y=e)};Ke.prototype.ml=function(a){a.j=0;a.k.S(this.j);a.u=0};
Ke.prototype.Pn=function(a,c,b,d){void 0===c&&(c=0);var e=V(a.x*c,a.y*c),h=Yd(b,this.j);b=Yd(b,this.k);var f=Rd(a,h)-c;a=Rd(a,b)-c;if(0<f){if(0<a)return 0;h.x=-a/(f-a)*h.x+f/(f-a)*b.x;h.y=-a/(f-a)*h.y+f/(f-a)*b.y}else 0<a&&(b.x=-a/(f-a)*h.x+f/(f-a)*b.x,b.y=-a/(f-a)*h.y+f/(f-a)*b.y);d.x=(e.x+h.x+b.x)/3;d.y=(e.y+h.y+b.y)/3;return.5*((h.x-e.x)*(b.y-e.y)-(h.y-e.y)*(b.x-e.x))};function Le(){this.j=0;this.k=V(0,0);this.u=0}function Me(){this.mb=.005;this.j=V(0,0);this.U=[];this.Kb=[]}Kd(Me,Ie);z=Me.prototype;
z.Pi=function(){return"b2PolygonShape"};z.Lc=function(){var a=new Me;a.Set(this);return a};z.Set=function(a){Ie.prototype.Set.call(this,a);if(a instanceof Me){this.j.S(a.j);this.rb=a.rb;Ne(this,this.rb);for(var c=0;c<this.rb;c++)this.U[c].S(a.U[c]),this.Kb[c].S(a.Kb[c])}};
function Oe(a,c){var b=c.length;a.rb=b;Ne(a,b);for(b=b=0;b<a.rb;b++)a.U[b].S(c[b]);for(b=0;b<a.rb;++b){var d=$d(a.U[b+1<a.rb?b+1:0],a.U[b]);a.Kb[b].S(Vd(d));He(a.Kb[b])}for(var b=a.U,d=a.rb,e=V(0,0),h=0,f=1/3,g=0;g<d;++g){var l=b[g],n=g+1<d?b[g+1]:b[0],k=.5*((l.x-0)*(n.y-0)-(l.y-0)*(n.x-0)),h=h+k;e.x+=k*f*(0+l.x+n.x);e.y+=k*f*(0+l.y+n.y)}e.x*=1/h;e.y*=1/h;a.j=e}
function Pe(a,c,b){a.rb=4;Ne(a,4);a.U[0].Set(-c,-b);a.U[1].Set(c,-b);a.U[2].Set(c,b);a.U[3].Set(-c,b);a.Kb[0].Set(0,-1);a.Kb[1].Set(1,0);a.Kb[2].Set(0,1);a.Kb[3].Set(-1,0);a.j.Ha()}
z.Vj=function(a,c){for(var b=c.B,d=this.U[0],e=c.position.x+(b.q.x*d.x+b.r.x*d.y),h=c.position.y+(b.q.y*d.x+b.r.y*d.y),f=e,g=h,l=1;l<this.rb;++l)var d=this.U[l],n=c.position.x+(b.q.x*d.x+b.r.x*d.y),d=c.position.y+(b.q.y*d.x+b.r.y*d.y),e=e<n?e:n,h=h<d?h:d,f=f>n?f:n,g=g>d?g:d;a.j.x=e-this.mb;a.j.y=h-this.mb;a.k.x=f+this.mb;a.k.y=g+this.mb};
z.ml=function(a,c){if(2==this.rb)a.k.x=.5*(this.U[0].x+this.U[1].x),a.k.y=.5*(this.U[0].y+this.U[1].y),a.j=0,a.u=0;else{for(var b=0,d=0,e=0,h=0,f=1/3,g=0;g<this.rb;++g)var l=this.U[g],n=g+1<this.rb?this.U[g+1]:this.U[0],k=l.x-0,m=l.y-0,p=n.x-0,r=n.y-0,u=k*r-m*p,t=.5*u,e=e+t,b=b+t*f*(0+l.x+n.x),d=d+t*f*(0+l.y+n.y),l=k,h=h+u*(f*(.25*(l*l+p*l+p*p)+(0*l+0*p))+0+(f*(.25*(m*m+r*m+r*r)+(0*m+0*r))+0));a.j=c*e;a.k.Set(1/e*b,1/e*d);a.u=c*h}};
z.Pn=function(a,c,b,d){var e=Xd(b.B,a),h=c-Rd(a,b.position),f=[],g=0,l=-1;c=-1;var n=!1;for(a=a=0;a<this.rb;++a){f[a]=Rd(e,this.U[a])-h;var k=f[a]<-Number.MIN_VALUE;0<a&&(k?n||(l=a-1,g++):n&&(c=a-1,g++));n=k}switch(g){case 0:return n?(a=new Le,this.ml(a,1),d.S(Yd(b,a.k)),a.j):0;case 1:-1==l?l=this.rb-1:c=this.rb-1}a=(l+1)%this.rb;e=(c+1)%this.rb;h=(0-f[l])/(f[a]-f[l]);f=(0-f[c])/(f[e]-f[c]);l=V(this.U[l].x*(1-h)+this.U[a].x*h,this.U[l].y*(1-h)+this.U[a].y*h);c=V(this.U[c].x*(1-f)+this.U[e].x*f,this.U[c].y*
(1-f)+this.U[e].y*f);f=0;h=V(0,0);for(g=this.U[a];a!=e;)a=(a+1)%this.rb,n=a==e?c:this.U[a],k=.5*((g.x-l.x)*(n.y-l.y)-(g.y-l.y)*(n.x-l.x)),f+=k,h.x+=k*(l.x+g.x+n.x)/3,h.y+=k*(l.y+g.y+n.y)/3,g=n;h.Qe(1/f);d.S(Yd(b,h));return f};z.jr=function(a){a.U=this.U;a.j=this.rb;a.mb=this.mb};z.Qn=function(a){for(var c=0,b=this.U[0].x*a.x+this.U[0].y*a.y,d=1;d<this.rb;++d){var e=this.U[d].x*a.x+this.U[d].y*a.y;e>b&&(c=d,b=e)}return c};
z.pl=function(a){for(var c=0,b=this.U[0].x*a.x+this.U[0].y*a.y,d=1;d<this.rb;++d){var e=this.U[d].x*a.x+this.U[d].y*a.y;e>b&&(c=d,b=e)}return this.U[c]};function Ne(a,c){a.U=[];a.Kb=[];for(var b=a.U.length;b<c;b++)a.U[b]=V(0,0),a.Kb[b]=V(0,0)}new be;function Qe(){this.k=this.j=this.u=this.nc=0}function Re(a,c){a.nc=c;a.u=a.nc&255;a.j=(a.nc&65280)>>8&255;a.k=(a.nc&16711680)>>16&255;a.C=(a.nc&4278190080)>>24&255}Qe.prototype.Set=function(a){Re(this,a.nc)};
Qe.prototype.Lc=function(){var a=new Qe;a.Set(this);return a};function Se(){this.pf=V(0,0);this.id=new Qe}Se.prototype.Set=function(a){this.pf.S(a.pf);this.id.Set(a.id)};function Te(){this.j=V(0,0);this.k=V(0,0)}var Xe=[];function Ye(){if(0<Xe.length){var a=Xe.pop();a.Ha();return a}return new Te}Te.prototype.Ha=function(){this.j.Set(0,0);this.k.Set(0,0)};function Ze(a,c){var b;return b=(b=(b=(b=a.j.x<=c.j.x)&&a.j.y<=c.j.y)&&c.k.x<=a.k.x)&&c.k.y<=a.k.y}
Te.prototype.sl=function(a){return 0<a.j.x-this.k.x||0<a.j.y-this.k.y||0<this.j.x-a.k.x||0<this.j.y-a.k.y?!1:!0};function $e(a,c,b){a.j.x=Math.min(c.j.x,b.j.x);a.j.y=Math.min(c.j.y,b.j.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function af(a,c,b,d){var e=0,h=c[0].pf,f=c[1].pf,g=b.x*h.x+b.y*h.y-d;b=b.x*f.x+b.y*f.y-d;0>=g&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);0>g*b&&(b=g/(g-b),d=a[e].pf,d.x=h.x+b*(f.x-h.x),d.y=h.y+b*(f.y-h.y),a[e].id=0<g?c[0].id:c[1].id,e++);return e}
function bf(a,c,b,d,e){for(var h=c.B.q.x*a.Kb[b].x+c.B.r.x*a.Kb[b].y,f=c.B.q.y*a.Kb[b].x+c.B.r.y*a.Kb[b].y,g=e.B.q.x*h+e.B.q.y*f,l=e.B.r.x*h+e.B.r.y*f,n=0,k=Number.MAX_VALUE,m=0;m<d.rb;m++){var p=d.U[m].x*g+d.U[m].y*l;p<k&&(k=p,n=m)}return(e.position.x+(e.B.q.x*d.U[n].x+e.B.r.x*d.U[n].y)-(c.position.x+(c.B.q.x*a.U[b].x+c.B.r.x*a.U[b].y)))*h+(e.position.y+(e.B.q.y*d.U[n].x+e.B.r.y*d.U[n].y)-(c.position.y+(c.B.q.y*a.U[b].x+c.B.r.y*a.U[b].y)))*f}
function cf(a,c,b,d){for(var e=d.position.x+(d.B.q.x*b.j.x+d.B.r.x*b.j.y),h=d.position.y+(d.B.q.y*b.j.x+d.B.r.y*b.j.y),e=e-(c.position.x+(c.B.q.x*a.j.x+c.B.r.x*a.j.y)),h=h-(c.position.y+(c.B.q.y*a.j.x+c.B.r.y*a.j.y)),f=e*c.B.q.x+h*c.B.q.y,h=e*c.B.r.x+h*c.B.r.y,e=0,g=-Number.MAX_VALUE,l=0;l<a.rb;++l){var n=a.Kb[l].x*f+a.Kb[l].y*h;n>g&&(g=n,e=l)}f=bf(a,c,e,b,d);h=e-1;0>h&&(h=a.rb-1);g=bf(a,c,h,b,d);l=e+1;l>=a.rb&&(l=0);var n=bf(a,c,l,b,d),k=0,m=0;if(g>f&&g>n)for(k=h,m=g;;)if(e=k-1,0>e&&(e=a.rb-1),f=
bf(a,c,e,b,d),f>m)k=e,m=f;else break;else if(n>f)for(k=l,m=n;;)if(e=k+1,e>=a.rb&&(e=0),f=bf(a,c,e,b,d),f>m)k=e,m=f;else break;else k=e,m=f;return{Fv:k,pq:m}}
function df(a,c,b){var d=new ef,e=b.yh,h=b.j,f=b.zh,g=b.k,l,n;d.j=c.count;for(var k=d.U,m=0;m<d.j;m++){var p=k[m];p.pc=c.pc[m];p.qc=c.qc[m];l=ff(e,p.pc);n=ff(f,p.qc);p.wd=Yd(h,l);p.Qf=Yd(g,n);p.Kc=$d(p.Qf,p.wd);p.N=0}1<d.j&&(l=c.j,n=gf(d),n<.5*l||2*l<n||n<Number.MIN_VALUE)&&(d.j=0);0==d.j&&(p=k[0],p.pc=0,p.qc=0,l=ff(e,0),n=ff(f,0),p.wd=Yd(h,l),p.Qf=Yd(g,n),p.Kc=$d(p.Qf,p.wd),d.j=1);for(e=0;20>e;){h=[];for(f=0;f<d.j;f++)h[f]={},h[f].pc=d.U[f].pc,h[f].qc=d.U[f].qc;if(2==d.j)f=d,g=f.k.Kc,k=f.u.Kc,l=
$d(k,g),g=-(g.x*l.x+g.y*l.y),0>=g?(f.k.N=1,f.j=1):(k=k.x*l.x+k.y*l.y,0>=k?(f.u.N=1,f.j=1,f.k.Set(f.u)):(l=1/(k+g),f.k.N=k*l,f.u.N=g*l,f.j=2));else if(3==d.j){var f=d,r=f.k.Kc,u=f.u.Kc,t=f.C.Kc,v=$d(u,r),g=Rd(u,v),k=-Rd(r,v),q=$d(t,r);l=Rd(t,q);n=-Rd(r,q);p=$d(t,u);m=Rd(t,p);p=-Rd(u,p);q=Ud(v,q);v=q*Ud(u,t);t=q*Ud(t,r);r=q*Ud(r,u);0>=k&&0>=n?(f.k.N=1,f.j=1):0<g&&0<k&&0>=r?(l=1/(g+k),f.k.N=g*l,f.u.N=k*l,f.j=2):0<l&&0<n&&0>=t?(g=1/(l+n),f.k.N=l*g,f.C.N=n*g,f.j=2,f.u.Set(f.C)):0>=g&&0>=p?(f.u.N=1,f.j=
1,f.k.Set(f.u)):0>=l&&0>=m?(f.C.N=1,f.j=1,f.k.Set(f.C)):0<m&&0<p&&0>=v?(g=1/(m+p),f.u.N=m*g,f.C.N=p*g,f.j=2,f.k.Set(f.C)):(g=1/(v+t+r),f.k.N=v*g,f.u.N=t*g,f.C.N=r*g,f.j=3)}if(3==d.j)break;f=d;1==f.j?f=f.k.Kc.Kh():2==f.j?(g=$d(f.u.Kc,f.k.Kc),f=0<Ud(g,f.k.Kc.Kh())?V(-1*g.y,1*g.x):Vd(g)):f=V(0,0);if(Ge(f)<Qd)break;g=f.Kh();d.U[d.j].pc=b.yh.Qn(Xd(b.j.B,g));d.U[d.j].wd=Yd(b.j,ff(b.yh,d.U[d.j].pc));d.U[d.j].qc=b.zh.Qn(Xd(b.k.B,f));d.U[d.j].Qf=Yd(b.k,ff(b.zh,d.U[d.j].qc));d.U[d.j].Kc=$d(d.U[d.j].Qf,d.U[d.j].wd);
Ee(f);Ee(g);e++;g=!1;for(f=0;f<h.length;f++)if(d.U[d.j].pc==h[f].pc&&d.U[d.j].qc==h[f].qc){g=!0;break}if(g)break;d.j++}e=a.j;h=a.k;1==d.j?(e.S(d.k.wd),h.S(d.k.Qf)):2==d.j?(e.x=d.k.N*d.k.wd.x+d.u.N*d.u.wd.x,e.y=d.k.N*d.k.wd.y+d.u.N*d.u.wd.y,h.x=d.k.N*d.k.Qf.x+d.u.N*d.u.Qf.x,h.y=d.k.N*d.k.Qf.y+d.u.N*d.u.Qf.y):3==d.j&&(h.x=e.x=d.k.N*d.k.wd.x+d.u.N*d.u.wd.x+d.C.N*d.C.wd.x,h.y=e.y=d.k.N*d.k.wd.y+d.u.N*d.u.wd.y+d.C.N*d.C.wd.y);a.u=Fe($d(a.j,a.k));c.j=gf(d);c.count=d.j;e=d.U;for(h=0;h<d.j;h++)c.pc[h]=e[h].pc,
c.qc[h]=e[h].qc;b.u&&(c=b.yh.mb,b=b.zh.mb,a.u>c+b&&a.u>Number.MIN_VALUE?(a.u-=c+b,d=$d(a.k,a.j),He(d),a.j.x+=c*d.x,a.j.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,Ee(d)):(b=V(0,0),b.x=.5*(a.j.x+a.k.x),b.y=.5*(a.j.y+a.k.y),a.j.x=a.k.x=b.x,a.j.y=a.k.y=b.y,a.u=0,Ee(b)))}function hf(){}function jf(){this.j=V(0,0);this.k=V(0,0);this.u=0}function kf(){}kf.prototype.Set=function(a){a.jr(this)};
kf.prototype.Qn=function(a){for(var c=0,b=this.U[0].x*a.x+this.U[0].y*a.y,d=1;d<this.j;d++){var e=this.U[d].x*a.x+this.U[d].y*a.y;e>b&&(c=d,b=e)}return c};kf.prototype.pl=function(a){return this.U[this.Qn(a)]};function ff(a,c){void 0===c&&(c=0);return a.U[c]}function lf(){this.j=null}lf.prototype.nl=function(a){mf(this,a);a.Rd()};function nf(a,c,b){if(null!==a.j){var d=[];for(d.push(a.j);0<d.length;)if(a=d.pop(),a.hb.sl(b))if(null===a.je){if(!c(a.yf))break}else d.push(a.je),d.push(a.xg)}}
function of(a,c){if(null===a.j)a.j=c,a.j.parent=null;else{var b;b=c.hb;b=V((b.j.x+b.k.x)/2,(b.j.y+b.k.y)/2);for(var d=a.j;null!==d.je;)var e=d.je,d=d.xg,h=Math.abs((e.hb.j.x+e.hb.k.x)/2-b.x)+Math.abs((e.hb.j.y+e.hb.k.y)/2-b.y),f=Math.abs((d.hb.j.x+d.hb.k.x)/2-b.x)+Math.abs((d.hb.j.y+d.hb.k.y)/2-b.y),d=h<f?e:d;Ee(b);b=d;e=b.parent;d=pf();d.parent=e;$e(d.hb,c.hb,b.hb);if(e)for(b.parent.je==b?e.je=d:e.xg=d,d.je=b,d.xg=c,b.parent=d,c.parent=d;e&&!Ze(e.hb,d.hb);)$e(e.hb,e.je.hb,e.xg.hb),d=e,e=e.parent;
else d.je=b,d.xg=c,b.parent=d,c.parent=d,a.j=d}}function mf(a,c){if(c==a.j)a.j=null;else{var b=c.parent,d=b.parent,e;e=b.je==c?b.xg:b.je;if(d)for(d.je==b?d.je=e:d.xg=e,e.parent=d;d;){e=d.hb;$e(d.hb,d.je.hb,d.xg.hb);if(Ze(e,d.hb))break;d=d.parent}else a.j=e,e.parent=null;b.Rd()}}function qf(){this.k=new lf;this.j=[]}qf.prototype.nl=function(a){Na(this.j,a);this.k.nl(a)};qf.prototype.sl=function(a,c){return a.hb.sl(c.hb)};
function rf(a,c){for(var b=[];0<a.j.length;){var d=a.j.pop();nf(a.k,function(a){a!=d.yf&&b.push(new sf(d.yf,a));return!0},d.hb)}for(var e=0;e<b.length;){var h=b[e];c(h.Pl,h.Ql);for(e++;e<b.length;){var f=b[e];if(!(f.Pl==h.Pl&&f.Ql==h.Ql||f.Pl==h.Ql&&f.Ql==h.Pl))break;e++}}}function tf(a){this.hb=Ye();this.yf=this.parent=this.xg=this.je=null;"undefined"!=typeof a&&(this.yf=a)}var uf=[];
function pf(a){if(0<uf.length){var c=uf.pop();"undefined"!=typeof a&&(c.yf=a);c.hb.Ha();return c}return new tf(a)}tf.prototype.Rd=function(){this.yf=this.parent=this.xg=this.je=null;uf.push(this)};function sf(a,c){this.Pl=a;this.Ql=c}function vf(){this.nb=this.ic=0;this.Da=[];for(var a=0;2>a;a++)this.Da[a]=new wf;this.ed=V(0,0);this.Na=V(0,0)}vf.prototype.Xc=function(){for(var a=0;2>a;a++)this.Da[a].Xc();this.ed.Ha();this.Na.Ha();this.ic=this.nb=0};
vf.prototype.Set=function(a){this.ic=a.ic;for(var c=0;2>c;c++)this.Da[c].Set(a.Da[c]);this.ed.S(a.ed);this.Na.S(a.Na);this.nb=a.nb};vf.prototype.Lc=function(){var a=new vf;a.Set(this);return a};function wf(){this.Na=V(0,0);this.Df=new Qe;this.Xc()}wf.prototype.Xc=function(){this.Na.Ha();this.Aj=this.zj=0;Re(this.Df,0)};wf.prototype.Set=function(a){this.Na.S(a.Na);this.zj=a.zj;this.Aj=a.Aj;this.Df.Set(a.Df)};
function xf(){var a=yf,c=Ef,b=Jf,d,e,h=0;switch(a.nb){case Qf:d=Xd(c.B,a.j);e=Xd(b.B,a.j.Kh());d=a.k.pl(d);e=a.u.pl(e);c=Yd(c,d);b=Yd(b,e);h=(b.x-c.x)*a.j.x+(b.y-c.y)*a.j.y;break;case Rf:h=Wd(c.B,a.j);c=Yd(c,a.Na);e=Xd(b.B,h.Kh());e=a.u.pl(e);b=Yd(b,e);h=(b.x-c.x)*h.x+(b.y-c.y)*h.y;break;case Sf:h=Wd(b.B,a.j),b=Yd(b,a.Na),d=Xd(c.B,h.Kh()),d=a.k.pl(d),c=Yd(c,d),h=(c.x-b.x)*h.x+(c.y-b.y)*h.y}return h}var Qf=1,Rf=2,Sf=4;
function ef(){this.k=new Tf;this.u=new Tf;this.C=new Tf;this.U=[this.k,this.u,this.C]}function gf(a){return 1==a.j?0:2==a.j?Fe($d(a.k.Kc,a.u.Kc)):3==a.j?Ud($d(a.u.Kc,a.k.Kc),$d(a.C.Kc,a.k.Kc)):0}function Uf(){this.pc=[0,0,0];this.qc=[0,0,0]}function Tf(){}Tf.prototype.Set=function(a){this.wd.S(a.wd);this.Qf.S(a.Qf);this.Kc.S(a.Kc);this.N=a.N;this.pc=a.pc;this.qc=a.qc};function Vf(){this.yh=new kf;this.zh=new kf;this.Uy=new ke;this.Vy=new ke}
function Wf(a,c){this.ca="Body"+Xf++;this.H=new Be;this.H.position.S(a.position);this.H.B.Set(a.K);this.p=new ke;this.p.T.Ha();this.p.Kd=1;this.p.rf=this.p.N=a.K;this.p.G.x=this.H.B.q.x*this.p.T.x+this.H.B.r.x*this.p.T.y;this.p.G.y=this.H.B.q.y*this.p.T.x+this.H.B.r.y*this.p.T.y;this.p.G.x+=this.H.position.x;this.p.G.y+=this.H.position.y;this.p.Yc.S(this.p.G);this.A=a.P.Lc();this.k=V(0,0);this.I=a.dk;this.Ib=a.j;this.Ta=a.k;this.Ie=a.C;this.na=a.ie;this.Je=c;this.Xb=null;this.ke=new Yf;this.la=new Zf;
this.J=a.u;this.qb=a.Ik;this.$a=a.bk;this.P=this.C=0;this.nb=a.type;this.aa=2==this.nb?1:0;this.O=2==this.nb?1:0;this.Z=this.j=0;this.ab=a.I;this.u=new $f;this.L=[]}function ag(a,c){var b=new bg(a,0,c);if(a.na){var d=a.Je.j.j;b.Ec.Vj(b.j,a.H);var e=d.k,h=b.j,f=pf(b);f.hb.j.x=h.j.x-.1;f.hb.j.y=h.j.y-.1;f.hb.k.x=h.k.x+.1;f.hb.k.y=h.k.y+.1;of(e,f);d.j.push(f);b.k=f}d=a.u;e=b.Pu;null==d.j[e]&&(h=new cg(b),f=d.u,null!=f?f.next=h:d.k=h,h.Xg(f),d.u=h,d.j[e]=h);b.qt=a;0<b.C&&dg(a);a.Je.k=!0}z=Wf.prototype;
z.Rd=function(){Ee(this.A);Ee(this.k)};function eg(a,c,b){a.H.B.Set(b);a.H.position.S(c);c=a.H.B;var d=a.p.T;a.p.G.x=c.q.x*d.x+c.r.x*d.y;a.p.G.y=c.q.y*d.x+c.r.y*d.y;a.p.G.x+=a.H.position.x;a.p.G.y+=a.H.position.y;a.p.Yc.S(a.p.G);a.p.rf=a.p.N=b;b=a.Je.j.j;for(c=a.u.pb();c;c=c.gb())fg(c.yf,b,a.H,a.H);gg(a.Je.j)}z.Ae=function(){return this.H};z.Ni=function(){return this.p.N};z.rv=function(a){eg(this,this.H.position,a)};function hg(a,c){0!=a.nb&&a.A.S(c)}
z.Wn=function(a){void 0===a&&(a=0);0!=this.nb&&(this.J=a)};z.Li=function(a,c){2==this.nb&&(ig(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.C+=(c.x-this.p.G.x)*a.y-(c.y-this.p.G.y)*a.x)};z.Xq=function(a){void 0===a&&(a=0);2==this.nb&&(ig(this,!0),this.C+=a)};
function dg(a){a.aa=0;a.O=0;a.j=0;a.Z=0;a.p.T.Ha();if(0!=a.nb&&1!=a.nb){for(var c=V(0,0),b=a.u.pb();b;b=b.gb()){var d=b.yf;if(0!=d.C){var e=void 0,e=new Le;d.Ec.ml(e,d.C);d=e;a.aa+=d.j;c.x+=d.k.x*d.j;c.y+=d.k.y*d.j;a.j+=d.u}}0<a.aa?(a.O=1/a.aa,c.x*=a.O,c.y*=a.O):(a.aa=1,a.O=1);0<a.j&&!a.Ib?(a.j-=a.aa*(c.x*c.x+c.y*c.y),a.j*=a.ab,a.Z=1/a.j):(a.j=0,a.Z=0);b=a.p.G.Lc();a.p.T.S(c);a.p.Yc.S(Yd(a.H,a.p.T));a.p.G.S(a.p.Yc);a.A.x+=a.J*-(a.p.G.y-b.y);a.A.y+=a.J*+(a.p.G.x-b.x);Ee(c);Ee(b)}}
function jg(a,c){var b=a.H.B,b=V(b.q.x*c.x+b.r.x*c.y,b.q.y*c.x+b.r.y*c.y);b.x+=a.H.position.x;b.y+=a.H.position.y;return b}z.kd=function(){return this.nb};function ig(a,c){if(a.Ie!=c){a.Ie=c;a.P=0;c||(a.A.Ha(),a.J=0,a.k.Ha(),a.C=0);for(var b=0;b<a.L.length;b++)kg(a.L[b],a)}}z.Yj=function(){return this.na};z.Oi=function(){return this.ke};
function lg(a){mg.B.Set(a.p.rf);var c=mg.B,b=a.p.T;mg.position.x=a.p.Yc.x-(c.q.x*b.x+c.r.x*b.y);mg.position.y=a.p.Yc.y-(c.q.y*b.x+c.r.y*b.y);c=a.Je.j.j;for(b=a.u.pb();b;b=b.gb())fg(b.yf,c,mg,a.H)}function ng(a){a.H.B.Set(a.p.N);var c=a.H.B,b=a.p.T;a.H.position.x=a.p.G.x-(c.q.x*b.x+c.r.x*b.y);a.H.position.y=a.p.G.y-(c.q.y*b.x+c.r.y*b.y)}function og(a,c){if(2!=a.nb&&2!=c.nb)return!1;for(var b=a.Xb;b;b=b.next)if(b.hf==c&&0==b.mh.zx)return!1;return!0}
z.Jh=function(a){this.p.Jh(a);this.p.G.S(this.p.Yc);this.p.N=this.p.rf;ng(this)};var Xf=0;function pg(){this.position=V(0,0);this.P=V(0,0);this.bk=this.Ik=this.u=this.K=0;this.C=this.k=!0;this.dk=this.j=!1;this.type=0;this.ie=!0;this.I=1}function qg(){this.k=[];for(var a=0;a<=rg;a++)this.k[a]=null;this.u=[];for(a=0;a<=rg;a++)this.u[a]=null;this.j={}}qg.prototype.pb=function(a){return this.k[a]};
function kg(a,c){var b=c.kd(),d=c.ca,e=c.Ie,h=c.Yj();2==b?sg(a,c,d,tg):ug(a,d,tg);0!=b?sg(a,c,d,vg):ug(a,d,vg);0!=b&&h&&e?sg(a,c,d,wg):ug(a,d,wg);e?sg(a,c,d,xg):ug(a,d,xg);h?sg(a,c,d,yg):ug(a,d,yg)}qg.prototype.Vn=function(a){var c=a.ca;if(null!=this.j[c]){Na(a.L,this);for(a=0;a<=rg;a++)ug(this,c,a);delete this.j[c]}};function ug(a,c,b){var d=a.j[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.j,c=c.gb(),null==d?a.k[b]=c:d.next=c,null==c?a.u[b]=d:c.Xg(d)))}
function sg(a,c,b,d){var e=a.j[b];if(null==e){for(var e=[],h=0;h<=rg;h++)e[h]=null;a.j[b]=e}null==e[d]&&(e[d]=new zg(c),c=a.u[d],null!=c?c.next=e[d]:a.k[d]=e[d],e[d].Xg(c),a.u[d]=e[d])}var tg=0,vg=1,yg=2,wg=3,xg=4,rg=5;function zg(a){this.body=a;this.j=this.next=null}zg.prototype.Xg=function(a){this.j=a};zg.prototype.ob=function(){return this.body};zg.prototype.gb=function(){return this.next};function Ag(){}
Ag.prototype.j=function(a,c){var b=a.I.Lc(),d=c.I.Lc();return b.j==d.j&&0!=b.j?0<b.j:0!=(b.u&d.k)&&0!=(b.k&d.u)};var Bg=new Ag;function Cg(){this.j=[];this.k=[]}function Dg(){}Dg.prototype.BeginContact=function(){};Dg.prototype.EndContact=function(){};function Eg(a){this.Je=a;this.u=Bg;this.k=Fg;this.C=new Gg;this.j=new qf}
function gg(a){rf(a.j,function(c,b){a:{var d=c.ob(),e=b.ob();if(d!=e&&og(e,d)&&a.u.j(c,b)){for(d=e.ke.pb(Hg);d;d=d.gb())if(e=d.Pc.tc,e==c){if(e=d.Pc.hc,e==b)break a}else if(e==b&&(e=d.Pc.hc,e==c))break a;a.C.u(c,b)}}})}Eg.prototype.Rd=function(a){a.Sj&&this.k.EndContact(a);0<a.df.ic&&(ig(a.tc.ob(),!0),ig(a.hc.ob(),!0));Ig(a.ko,a);Ig(a.lo,a);Ig(a.Vq,a);this.C.Rd(a)};function Jg(){this.k=1;this.u=65535;this.j=0}Jg.prototype.Lc=function(){var a=new Jg;a.k=this.k;a.u=this.u;a.j=this.j;return a};
function bg(a,c,b){this.Pu="Fixture"+Kg++;this.I=b.j.Lc();this.j=Ye();this.qt=a;this.Ec=b.shape.Lc();this.C=b.Xh;this.P=b.bi;this.L=b.Bi;this.u=b.k}bg.prototype.ob=function(){return this.qt};bg.prototype.Rd=function(){Xe.push(this.j)};bg.prototype.nl=function(a){null!=this.k&&(a.nl(this.k),this.k=null)};
function fg(a,c,b,d){if(a.k){var e=Ye(),h=Ye();a.Ec.Vj(e,b);a.Ec.Vj(h,d);$e(a.j,e,h);Xe.push(e);Xe.push(h);b=$d(d.position,b.position);d=a.k;e=c.k;a=a.j;if(Ze(d.hb,a))a=!1;else{mf(e,d);var h=.1+2*Math.abs(b.x),f=.1+2*Math.abs(b.y);d.hb.j.x=a.j.x-h;d.hb.j.y=a.j.y-f;d.hb.k.x=a.k.x+h;d.hb.k.y=a.k.y+f;of(e,d);a=!0}a&&c.j.push(d);Ee(b)}}var Kg=0;function Lg(){this.j=new Jg;this.j.k=1;this.j.u=65535;this.j.j=0;this.shape=null;this.bi=.2;this.Xh=this.Bi=0;this.k=!1}
function $f(){this.u=this.k=null;this.j={}}$f.prototype.pb=function(){return this.k};function cg(a){this.yf=a;this.j=this.next=null}cg.prototype.Xg=function(a){this.j=a};cg.prototype.gb=function(){return this.next};function Mg(a,c){this.na=a;this.C=c;this.k=[];this.P=[];this.I=[];this.u=[];this.j=[]}function Ng(a){a.k=[];a.P=[];a.I=[];a.u=[];a.j=[]}function Og(a,c){if(null!=a.na)for(var b=0;b<a.u.length;++b)for(var d=c[b],e=new Cg,h=0;h<d.I;++h)e.j[h]=d.u[h].kc,e.k[h]=d.u[h].Sg}
function Pg(a,c){a.k.push(c);0!=c.kd()&&(a.I.push(c),2==c.kd()&&a.P.push(c))}function Qg(a,c,b,d,e){this.Ua=a;var h=0;0<a&&(h=1/a);this.j=h;this.Ac=c;this.$m=b;this.Jn=d;this.Hh=e}function Rg(a,c){this.j=new Eg(this);this.u=new Sg;this.k=!1;this.Mi=new qg;this.ke=new Yf;this.Xb=null;this.P=new Zf;this.L=0;this.ca=c;this.C=a;this.I=0;this.FE=Tg(this,new pg)}var Ug=1-100*Number.MIN_VALUE;function Tg(a,c){var b=new Wf(c,a),d=a.Mi,e=b.ca;null==d.j[e]&&(sg(d,b,e,rg),kg(d,b),b.L.push(d));return b}
function Vg(a,c){for(var b=c.Xb;b;){var d=b,b=b.next;Wg(a,d.mh)}for(b=c.la.pb();b;b=b.gb())b.cC.Vn(c);for(b=c.ke.pb(Hg);b;b=b.gb())a.j.Rd(b.Pc);for(b=c.u.pb();b;b=b.gb()){var d=c,e=b.yf,h=d.u,f=e.Pu,g=h.j[f];if(null!=g){var l=g.j,g=g.gb();null==l?h.k=g:l.next=g;null==g?h.u=l:g.Xg(l);delete h.j[f]}for(h=d.ke.pb(Hg);h;h=h.gb())e!=h.Pc.tc&&e!=h.Pc.hc||d.Je.j.Rd(h.Pc);d.na&&e.nl(d.Je.j.j);e.Rd();e.qt=null;dg(d)}c.Rd();a.Mi.Vn(c)}
function Xg(a,c){var b=c.u();b.Mk=null;if(b.oi=a.Xb)a.Xb.Mk=b;a.Xb=b;a.L++;b.$d.mh=b;b.$d.hf=b.fa;b.$d.prev=null;if(b.$d.next=b.ba.Xb)b.ba.Xb.prev=b.$d;b.ba.Xb=b.$d;b.ae.mh=b;b.ae.hf=b.ba;b.ae.prev=null;if(b.ae.next=b.fa.Xb)b.fa.Xb.prev=b.ae;b.fa.Xb=b.ae;var d=c.j,e=c.k;if(!c.P)for(var h=e.ke.pb(Hg);h;h=h.gb())Yg(h.Pc,e)==d&&(h.Pc.Nl=!0);return b}
function Wg(a,c){var b=c.zx;c.Mk&&(c.Mk.oi=c.oi);c.oi&&(c.oi.Mk=c.Mk);c==a.Xb&&(a.Xb=c.oi);var d=c.ba,e=c.fa;ig(d,!0);ig(e,!0);c.$d.prev&&(c.$d.prev.next=c.$d.next);c.$d.next&&(c.$d.next.prev=c.$d.prev);c.$d==d.Xb&&(d.Xb=c.$d.next);c.$d.prev=null;c.$d.next=null;c.ae.prev&&(c.ae.prev.next=c.ae.next);c.ae.next&&(c.ae.next.prev=c.ae.prev);c.ae==e.Xb&&(e.Xb=c.ae.next);c.ae.prev=null;c.ae.next=null;a.L--;if(!b)for(b=e.ke.pb(Hg);b;b=b.gb())Yg(b.Pc,e)==d&&(b.Pc.Nl=!0)}
Rg.prototype.Nh=function(a,c,b){var d,e;this.k&&(gg(this.j),this.k=!1);for(var h=new Qg(a,this.I*a,c,b,!0),f=this.j,g=f.Je.ke.pb(Hg);g;g=g.gb()){var l=g.Pc,n=l.tc,k=l.hc,m=n.ob(),p=k.ob();if(0!=m.Ie||0!=p.Ie){if(l.Nl){if(0==og(p,m)){f.Rd(l);continue}if(0==f.u.j(n,k)){f.Rd(l);continue}l.Nl=!1}0==f.j.sl(n.k,k.k)?f.Rd(l):Zg(l,f.k)}}if(0<h.Ua){for(var r=this.P.pb();r;r=r.gb())r.cC.Nh(h);for(var u=new Mg(this.j.k,this.u),t=this.Mi.pb(rg);t;t=t.gb())t.body.Rb=!1;for(var v=this.ke.pb(Hg);v;v=v.gb())v.Pc.Rb=
!1;for(var q=this.Xb;q;q=q.oi)q.Rb=!1;for(t=this.Mi.pb(wg);t;t=t.gb()){var x=t.body;if(!x.Rb){Ng(u);$g.length=0;var B=$g;B.push(x);for(x.Rb=!0;0<B.length;){var E=B.pop();Pg(u,E);E.Ie||ig(E,!0);if(0!=E.kd()){for(v=E.ke.pb(gh);v;v=v.gb()){var A=v.Pc;if(!A.Rb){u.u.push(A);A.Rb=!0;var D=Yg(A,E);D.Rb||(B.push(D),D.Rb=!0)}}for(var C=E.Xb;C;C=C.next)!C.mh.Rb&&C.hf.Yj()&&(u.j.push(C.mh),C.mh.Rb=!0,C.hf.Rb||(B.push(C.hf),C.hf.Rb=!0))}}for(var w=u,y=h,H=this.ca,I=w,P=y,ca=this.C,R=0;R<I.P.length;R++){var F=
I.P[R];F.A.x+=P.Ua*(ca.x+F.O*F.k.x);F.A.y+=P.Ua*(ca.y+F.O*F.k.y);F.J+=P.Ua*F.Z*F.C;F.A.Qe(ae(1-P.Ua*F.qb,0,1));F.J*=ae(1-P.Ua*F.$a,0,1)}hh(w.C,w.u,w.u.length);for(var Z=w,T=y,S=Z.C,J=0;J<S.k;++J){var M=S.j[J],O=M.j,K=M.k,N=O.O,U=O.Z,ha=K.O,Q=K.Z,sa=M.C.x,oa=M.C.y,Va=oa,Sd=-sa,La=0,Nb=0;if(T.Hh)for(Nb=M.I,La=0;La<Nb;++La){var wa=M.u[La];wa.kc*=T.Ac;wa.Sg*=T.Ac;var Ab=wa.kc*sa+wa.Sg*Va,xb=wa.kc*oa+wa.Sg*Sd;O.J-=U*(wa.Yb.x*xb-wa.Yb.y*Ab);O.A.x-=N*Ab;O.A.y-=N*xb;K.J+=Q*(wa.Zb.x*xb-wa.Zb.y*Ab);K.A.x+=
ha*Ab;K.A.y+=ha*xb}else for(Nb=M.I,La=0;La<Nb;++La){var ia=M.u[La];ia.kc=0;ia.Sg=0}}for(var dd=0;dd<Z.j.length;dd++)Z.j[dd].pg(T);for(var cc=0;cc<T.Jn;cc++){for(var Ga=0;Ga<Z.j.length;Ga++)Z.j[Ga].rg(T);ih(Z.C)}for(var Ob=0;Ob<Z.j.length;Ob++);for(var Pb=Z.C,zb=0;zb<Pb.k;++zb)for(var Ue=Pb.j[zb],Ji=Ue.na,Td=0;Td<Ue.I;++Td){var ah=Ji.Da[Td],bh=Ue.u[Td];ah.zj=bh.kc;ah.Aj=bh.Sg}for(var ch=w,yb=y,Ve=0;Ve<ch.I.length;++Ve){var ja=ch.I[Ve],dh=yb.Ua*ja.A.x,eh=yb.Ua*ja.A.y;4<dh*dh+eh*eh&&(He(ja.A),ja.A.x=
2*ja.A.x*yb.j,ja.A.y=2*ja.A.y*yb.j);var fh=yb.Ua*ja.J;fh*fh>Od&&(ja.J=0>ja.J?-Nd*yb.j:Nd*yb.j);ja.p.Yc.S(ja.p.G);ja.p.rf=ja.p.N;ja.p.G.x+=yb.Ua*ja.A.x;ja.p.G.y+=yb.Ua*ja.A.y;ja.p.N+=yb.Ua*ja.J;ng(ja)}for(var We=w,Ki=y,Uh=0;Uh<Ki.$m;Uh++){for(var Yi=jh(We.C,.2),zf=!0,Af=0;Af<We.j.length;Af++)var Zi=We.j[Af].qg(.2),zf=zf&&Zi;if(Yi&&zf)break}Og(w,w.C.j);if(H){for(var le=w,$i=y,me=Number.MAX_VALUE,Bf=0;Bf<le.I.length;Bf++){var Rb=le.I[Bf];!Rb.Ta||Math.abs(Rb.J)>Pd||1E-4<Rd(Rb.A,Rb.A)?me=Rb.P=0:(Rb.P+=
$i.Ua,me=Math.min(me,Rb.P))}if(.5<=me)for(var Cf=0;Cf<le.k.length;Cf++)ig(le.k[Cf],!1)}}}for(t=this.Mi.pb(wg);t;t=t.gb())lg(t.body);gg(this.j);for(var Ca=new Mg(this.j.k,this.u),ne=this.Mi.pb(rg);ne;ne=ne.gb()){var Cb=ne.body;Cb.Rb=!1;Cb.p.Kd=0}for(var Ra=this.ke.pb(Hg);Ra;Ra=Ra.gb())Ra.Pc.Rb=!1,Ra.Pc.j=null;for(var oe=this.Xb;oe;oe=oe.oi)oe.Rb=!1;for(;;){for(var Wh=null,Df=1,pe=this.ke.pb(kh);pe;pe=pe.gb()){var nb=pe.Pc,Xh=nb.tc.ob(),Yh=nb.hc.ob();if(2==Xh.kd()&&Xh.Ie||2==Yh.kd()&&Yh.Ie){var eb=
1;if(null!=nb.j)eb=nb.j;else if(nb.Sj)eb=1,nb.j=eb;else{var Ic=nb.tc.ob(),od=nb.hc.ob(),pd=Ic.p.Kd;Ic.p.Kd<od.p.Kd?(pd=od.p.Kd,Ic.p.Jh(pd)):od.p.Kd<Ic.p.Kd&&(pd=Ic.p.Kd,od.p.Jh(pd));var Zh=nb,aj=Ic.p,bj=od.p;lh.yh.Set(Zh.tc.Ec);lh.zh.Set(Zh.hc.Ec);lh.Uy=aj;lh.Vy=bj;lh.QF=.005;var qd=lh;mh++;var Ff=qd.yh,Gf=qd.zh,Hf=qd.Uy,If=qd.Vy,qe=Ff.mb+Gf.mb,re=qd.QF,ob=0,rd=0,Jc=0;nh.count=0;for(oh.u=!1;;){Hf.Ae(Ef,ob);If.Ae(Jf,ob);oh.yh=Ff;oh.zh=Gf;oh.j=Ef;oh.k=Jf;df(ph,nh,oh);if(0>=ph.u){ob=1;break}var dj=Gf,
W=yf,Ia=nh,pb=Ef,qb=Jf;W.k=Ff;W.u=dj;var Sb=void 0,rb=void 0,Ib=void 0,Tb=void 0,sb=void 0,Jb=void 0,Lc=0,Mc=0,Nc=0,Oc=0,se=0,te=0,X=void 0,Y=void 0,fb=0;if(1==Ia.count)W.nb=Qf,Sb=ff(W.k,Ia.pc[0]),Tb=ff(W.u,Ia.qc[0]),Y=Sb,X=pb.B,Lc=pb.position.x+(X.q.x*Y.x+X.r.x*Y.y),Mc=pb.position.y+(X.q.y*Y.x+X.r.y*Y.y),Y=Tb,X=qb.B,Nc=qb.position.x+(X.q.x*Y.x+X.r.x*Y.y),Oc=qb.position.y+(X.q.y*Y.x+X.r.y*Y.y),W.j.x=Nc-Lc,W.j.y=Oc-Mc,He(W.j);else{if(Ia.qc[0]==Ia.qc[1])W.nb=Rf,rb=ff(W.k,Ia.pc[0]),Ib=ff(W.k,Ia.pc[1]),
Tb=ff(W.u,Ia.qc[0]),W.Na.x=.5*(rb.x+Ib.x),W.Na.y=.5*(rb.y+Ib.y),W.j=Vd($d(Ib,rb)),He(W.j),Y=W.j,X=pb.B,se=X.q.x*Y.x+X.r.x*Y.y,te=X.q.y*Y.x+X.r.y*Y.y,Y=W.Na,X=pb.B,Lc=pb.position.x+(X.q.x*Y.x+X.r.x*Y.y),Mc=pb.position.y+(X.q.y*Y.x+X.r.y*Y.y),Y=Tb,X=qb.B,Nc=qb.position.x+(X.q.x*Y.x+X.r.x*Y.y),Oc=qb.position.y+(X.q.y*Y.x+X.r.y*Y.y),fb=(Nc-Lc)*se+(Oc-Mc)*te;else if(Ia.pc[0]==Ia.pc[0])W.nb=Sf,sb=ff(W.u,Ia.qc[0]),Jb=ff(W.u,Ia.qc[1]),Sb=ff(W.k,Ia.pc[0]),W.Na.x=.5*(sb.x+Jb.x),W.Na.y=.5*(sb.y+Jb.y),W.j=Vd($d(Jb,
sb)),He(W.j),Y=W.j,X=qb.B,se=X.q.x*Y.x+X.r.x*Y.y,te=X.q.y*Y.x+X.r.y*Y.y,Y=W.Na,X=qb.B,Nc=qb.position.x+(X.q.x*Y.x+X.r.x*Y.y),Oc=qb.position.y+(X.q.y*Y.x+X.r.y*Y.y),Y=Sb,X=pb.B,Lc=pb.position.x+(X.q.x*Y.x+X.r.x*Y.y),Mc=pb.position.y+(X.q.y*Y.x+X.r.y*Y.y),fb=(Lc-Nc)*se+(Mc-Oc)*te;else{var rb=ff(W.k,Ia.pc[0]),Ib=ff(W.k,Ia.pc[1]),sb=ff(W.u,Ia.qc[0]),Jb=ff(W.u,Ia.qc[1]),Kb=Wd(pb.B,$d(Ib,rb)),Lb=Wd(qb.B,$d(Jb,sb)),ai=Kb.x*Kb.x+Kb.y*Kb.y,Kf=Lb.x*Lb.x+Lb.y*Lb.y,ue=$d(Lb,Kb),bi=Kb.x*ue.x+Kb.y*ue.y,ci=Lb.x*
ue.x+Lb.y*ue.y,sd=Kb.x*Lb.x+Kb.y*Lb.y,di=ai*Kf-sd*sd,fb=0;0!=di&&(fb=ae((sd*ci-bi*Kf)/di,0,1));0>(sd*fb+ci)/Kf&&(fb=ae((sd-bi)/ai,0,1));Sb=V(0,0);Sb.x=rb.x+fb*(Ib.x-rb.x);Sb.y=rb.y+fb*(Ib.y-rb.y);Tb=V(0,0);Tb.x=sb.x+fb*(Jb.x-sb.x);Tb.y=sb.y+fb*(Jb.y-sb.y);0==fb||1==fb?(W.nb=Sf,W.j=Vd($d(Jb,sb)),He(W.j),W.Na=Tb):(W.nb=Rf,W.j=Vd($d(Ib,rb)),W.Na=Sb)}if(0>fb){var ve=W.j;ve.x=-ve.x;ve.y=-ve.y}}var td=xf();if(0>=td){ob=1;break}0==rd&&(Jc=td>qe?Math.max(qe-re,.75*qe):Math.max(td-re,.02*qe));if(td-Jc<.5*
re){if(0==rd){ob=1;break}break}var Lf=ob,we=ob,ud=1,Mf=td;Hf.Ae(Ef,ud);If.Ae(Jf,ud);var Nf=xf();if(Nf>=Jc){ob=1;break}for(var xe=0;;){var Pc=0,Pc=xe&1?we+(Jc-Mf)*(ud-we)/(Nf-Mf):.5*(we+ud);Hf.Ae(Ef,Pc);If.Ae(Jf,Pc);var ye=xf();if(Math.abs(ye-Jc)<.025*re){Lf=Pc;break}ye>Jc?(we=Pc,Mf=ye):(ud=Pc,Nf=ye);xe++;qh++;if(50==xe)break}rh=Math.max(rh,xe);if(Lf<(1+100*Number.MIN_VALUE)*ob)break;ob=Lf;rd++;sh++;if(1E3==rd)break}th=Math.max(th,rd);eb=ob;0<eb&&1>eb&&(eb=(1-eb)*pd+eb);nb.j=eb}Number.MIN_VALUE<eb&&
eb<Df&&(Wh=nb,Df=eb)}}d=Wh;e=Df;var Ub=d,Qc=e;if(null===Ub||Ug<Qc)break;var vd=Ub.tc.ob(),wd=Ub.hc.ob();uh.Set(vd.p);vh.Set(wd.p);vd.Jh(Qc);wd.Jh(Qc);Zg(Ub,this.j.k);Ub.j=null;if(Ub.I||!Ub.enabled)vd.p.Set(uh),wd.p.Set(vh),ng(vd),ng(wd);else if(Ub.Sj){var ze=vd;2!=ze.kd()&&(ze=wd);Ng(Ca);$g.length=0;var xd=$g;xd.push(ze);for(ze.Rb=!0;0<xd.length;)if(Cb=xd.pop(),Pg(Ca,Cb),Cb.Ie||ig(Cb,!0),2==Cb.kd()){for(Ra=Cb.ke.pb(gh);Ra&&32!=Ca.ca;Ra=Ra.gb()){var Ae=Ra.Pc;if(!Ae.Rb){Ca.u.push(Ae);Ae.Rb=!0;var Rc=
Yg(Ae,Cb);Rc.Rb||(0!=Rc.kd()&&(Rc.Jh(Qc),ig(Rc,!0),xd.push(Rc)),Rc.Rb=!0)}}for(var gb=Cb.Xb;gb;gb=gb.next)32!=Ca.L&&!gb.mh.Rb&&gb.hf.Yj()&&(Ca.j.push(gb.mh),gb.mh.Rb=!0,gb.hf.Rb||(0!=gb.hf.kd()&&(gb.hf.Jh(Qc),ig(gb.hf,!0),xd.push(gb.hf)),gb.hf.Rb=!0))}var hb=Ca,ab=new Qg((1-Qc)*h.Ua,0,h.Jn,h.$m,!1),bb=0,Vb=0;hh(hb.C,hb.u,hb.u.length);for(var Of=hb.C,bb=0;bb<hb.j.length;++bb)hb.j[bb].pg(ab);for(bb=0;bb<ab.Jn;++bb)for(ih(Of),Vb=0;Vb<hb.j.length;++Vb)hb.j[Vb].rg(ab);for(bb=0;bb<hb.I.length;++bb){var la=
hb.I[bb],ii=ab.Ua*la.A.x,ji=ab.Ua*la.A.y;4<ii*ii+ji*ji&&(He(la.A),la.A.x=2*la.A.x*ab.j,la.A.y=2*la.A.y*ab.j);var ki=ab.Ua*la.J;ki*ki>Od&&(la.J=0>la.J?-Nd*ab.j:Nd*ab.j);la.p.Yc.S(la.p.G);la.p.rf=la.p.N;la.p.G.x+=ab.Ua*la.A.x;la.p.G.y+=ab.Ua*la.A.y;la.p.N+=ab.Ua*la.J;ng(la)}for(bb=0;bb<ab.$m;++bb){for(var gj=jh(Of,.75),Pf=!0,Vb=0;Vb<hb.j.length;++Vb)var hj=hb.j[Vb].qg(.2),Pf=Pf&&hj;if(gj&&Pf)break}Og(hb,Of.j);for(var Ma=0;Ma<Ca.k.length;Ma++)if(Ca.k[Ma].Rb=!1,Ca.k[Ma].Ie&&2==Ca.k[Ma].kd())for(lg(Ca.k[Ma]),
Ra=Ca.k[Ma].ke.pb(Hg);Ra;Ra=Ra.gb())Ra.Pc.j=null;for(Ma=0;Ma<Ca.ca;Ma++)Ca.u[Ma].Rb=!1,Ca.u[Ma].j=null;for(Ma=0;Ma<Ca.L;Ma++)Ca.j[Ma].Rb=!1;gg(this.j)}}this.I=h.j}};Rg.prototype.Oi=function(){return this.ke};var $g=[];function wh(a,c){this.k="Contact"+xh++;this.df=new vf;this.C=new vf;this.Sj=!1;var b=a.ob(),d=c.ob();this.P=2!=b.kd()||b.I||2!=d.kd()||d.I;this.I=a.u||c.u;this.Nl=!1;this.tc=a;this.hc=c;this.enabled=!0;this.ko=b.Oi();this.lo=d.Oi();this.Vq=d.Je.Oi();yh(this)}
wh.prototype.Xc=function(a,c){this.df.Xc();this.C.Xc();this.Sj=!1;var b=a.ob(),d=c.ob();this.P=2!=b.kd()||b.I||2!=d.kd()||d.I;this.I=a.u||c.u;this.Nl=!1;this.tc=a;this.hc=c;this.enabled=!0;this.ko=b.Oi();this.lo=d.Oi();this.Vq=d.Je.Oi();yh(this)};function yh(a){zh(a.ko,a);zh(a.lo,a);zh(a.Vq,a);Ah(a)}function Ah(a){var c=!1,b=!1;!a.I&&a.enabled&&(a.Sj&&(c=!0),a.P&&(b=!0));Bh(a.ko,a,c,b);Bh(a.lo,a,c,b);Bh(a.Vq,a,c,b)}wh.prototype.qf=function(a){this.enabled=a;Ah(this)};
function Yg(a,c){var b=a.tc.ob();return b!=c?b:a.hc.ob()}
function Zg(a,c){var b=a.C;a.C=a.df;a.df=b;a.enabled=!0;var d=!1,b=a.Sj,e=a.tc.ob(),h=a.hc.ob(),f=a.tc.j.sl(a.hc.j);if(a.I){if(f){var d=a.tc.Ec,e=e.Ae(),f=a.hc.Ec,g=h.Ae(),h=new hf;h.yh=new kf;h.yh.Set(d);h.zh=new kf;h.zh.Set(f);h.j=e;h.k=g;h.u=!0;e=new Uf;e.count=0;d=new jf;df(d,e,h);d=d.u<10*Number.MIN_VALUE}a.df.ic=0}else{a.P=2!=e.kd()||e.I||2!=h.kd()||h.I?!0:!1;if(f)for(a.u(),d=0<a.df.ic,f=0;f<a.df.ic;f++){g=a.df.Da[f];g.zj=0;for(var l=g.Aj=0;l<a.C.ic;l++){var n=a.C.Da[l];if(n.Df.nc==g.Df.nc){g.zj=
n.zj;g.Aj=n.Aj;break}}}else a.df.ic=0;d!=b&&(ig(e,!0),ig(h,!0))}a.Sj=d;d!=b&&Ah(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}wh.prototype.u=function(){};var lh=new Vf,xh=0;function Ch(a,c){wh.call(this,a,c)}Kd(Ch,wh);Ch.prototype.Xc=function(a,c){wh.prototype.Xc.call(this,a,c)};
Ch.prototype.u=function(){var a=this.df,c=this.tc.Ec,b=this.tc.ob().H,d=this.hc.Ec,e=this.hc.ob().H;a.ic=0;var h=e.position.x+(e.B.q.x*d.Db.x+e.B.r.x*d.Db.y)-(b.position.x+(b.B.q.x*c.Db.x+b.B.r.x*c.Db.y)),b=e.position.y+(e.B.q.y*d.Db.x+e.B.r.y*d.Db.y)-(b.position.y+(b.B.q.y*c.Db.x+b.B.r.y*c.Db.y)),e=c.mb+d.mb;h*h+b*b>e*e||(a.nb=1,a.Na.S(c.Db),a.ed.Ha(),a.ic=1,a.Da[0].Na.S(d.Db),Re(a.Da[0].Df,0))};
function Dh(){this.P=V(0,0);this.gc=V(0,0);this.C=V(0,0);this.uh=new be;this.L=new be;this.u=[];for(var a=0;2>a;a++)this.u[a]=new Eh}function Eh(){this.gc=V(0,0);this.Yb=V(0,0);this.Zb=V(0,0)}Eh.prototype.Xc=function(){this.gc.Set(0,0);this.Yb.Set(0,0);this.Zb.Set(0,0)};
function Gg(){this.j={};this.k={};Fh(this,Ch,"b2CircleShape","b2CircleShape");Fh(this,Gh,"b2PolygonShape","b2CircleShape");Fh(this,Hh,"b2PolygonShape","b2PolygonShape");Fh(this,Ih,"b2EdgeShape","b2CircleShape");Fh(this,Jh,"b2PolygonShape","b2EdgeShape")}function Fh(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.j[b]=a.j[b]||{};a.j[b][d]=new Kh;a.j[b][d].Tv=c;a.j[b][d].iy=!0;b!=d&&(a.j[d]=a.j[d]||{},a.j[d][b]=new Kh,a.j[d][b].Tv=c,a.j[d][b].iy=!1)}
Gg.prototype.u=function(a,c){var b=a.Ec.Pi(),d=c.Ec.Pi(),e=this.j[b][d],h=e.Tv;return null!=h?e.iy?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.Xc(a,c),b):new h(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.Xc(c,a),b):new h(c,a):null};Gg.prototype.Rd=function(a){this.k[a.tc.Ec.Pi()][a.hc.Ec.Pi()].push(a)};function Yf(){this.k=[];for(var a=0;a<=Hg;a++)this.k[a]=null;this.u=[];for(a=0;a<=Hg;a++)this.u[a]=null;this.j={}}Yf.prototype.pb=function(a){return this.k[a]};
function zh(a,c){var b=c.k;if(null==a.j[b]){a.j[b]=[];for(var d=0;d<=Hg;d++)a.j[b][d]=null;Lh(a,c,b,Hg)}}function Bh(a,c,b,d){b?Lh(a,c,c.k,gh):Mh(a,c.k,gh);d?Lh(a,c,c.k,kh):Mh(a,c.k,kh)}function Ig(a,c){var b=c.k;if(null!=a.j[b]){for(var d=0;d<=Hg;d++)Mh(a,b,d);delete a.j[b]}}function Mh(a,c,b){var d=a.j[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.j,e=c.gb();null==d?a.k[b]=e:d.next=e;null==e?a.u[b]=d:e.Xg(d);Nh.push(c)}}
function Lh(a,c,b,d){b=a.j[b];if(null==b[d]){if(0<Nh.length){var e=Nh.pop();e.next=null;e.j=null;e.Pc=c;c=e}else c=new Oh(c);b[d]=c;c=a.u[d];null!=c?(c.next=b[d],b[d].Xg(c)):a.k[d]=b[d];a.u[d]=b[d]}}var gh=0,kh=1,Hg=2;function Oh(a){this.Pc=a;this.j=this.next=null}var Nh=[];Oh.prototype.Xg=function(a){this.j=a};Oh.prototype.gb=function(){return this.next};function Kh(){}function Sg(){this.j=[]}
function hh(a,c,b){for(a.k=b;a.j.length<a.k;)a.j[a.j.length]=new Dh;for(var d=0;d<b;d++){var e=c[d],h=e.tc,f=e.hc,g=h.Ec.mb,l=f.Ec.mb,n=h.ob(),k=f.ob(),e=e.df,m=Math.sqrt(h.P*f.P),p,h=h.L,f=f.L;p=h>f?h:f;var f=n.A.x,h=n.A.y,r=k.A.x,u=k.A.y,t=n.J,v=k.J,q=e,x=n.H,B=g,E=k.H,A=l,D=Ph;if(0!=q.ic){var C=0,w=void 0,y=void 0,H=0,I=0,P=0,ca=0,R=0,w=0;switch(q.nb){case 1:y=x.B;w=q.Na;C=x.position.x+y.q.x*w.x+y.r.x*w.y;x=x.position.y+y.q.y*w.x+y.r.y*w.y;y=E.B;w=q.Da[0].Na;q=E.position.x+y.q.x*w.x+y.r.x*w.y;
E=E.position.y+y.q.y*w.x+y.r.y*w.y;w=q-C;y=E-x;H=w*w+y*y;H>Qd?(H=Math.sqrt(H),D.j.x=w/H,D.j.y=y/H):(D.j.x=1,D.j.y=0);w=x+B*D.j.y;E=E-A*D.j.y;D.Da[0].x=.5*(C+B*D.j.x+(q-A*D.j.x));D.Da[0].y=.5*(w+E);break;case 2:y=x.B;w=q.ed;H=y.q.x*w.x+y.r.x*w.y;I=y.q.y*w.x+y.r.y*w.y;y=x.B;w=q.Na;P=x.position.x+y.q.x*w.x+y.r.x*w.y;ca=x.position.y+y.q.y*w.x+y.r.y*w.y;D.j.x=H;D.j.y=I;for(C=0;C<q.ic;C++)y=E.B,w=q.Da[C].Na,R=E.position.x+y.q.x*w.x+y.r.x*w.y,w=E.position.y+y.q.y*w.x+y.r.y*w.y,D.Da[C].x=R+.5*(B-(R-P)*H-
(w-ca)*I-A)*H,D.Da[C].y=w+.5*(B-(R-P)*H-(w-ca)*I-A)*I;break;case 4:for(y=E.B,w=q.ed,H=y.q.x*w.x+y.r.x*w.y,I=y.q.y*w.x+y.r.y*w.y,y=E.B,w=q.Na,P=E.position.x+y.q.x*w.x+y.r.x*w.y,ca=E.position.y+y.q.y*w.x+y.r.y*w.y,D.j.x=-H,D.j.y=-I,C=0;C<q.ic;C++)y=x.B,w=q.Da[C].Na,R=x.position.x+y.q.x*w.x+y.r.x*w.y,w=x.position.y+y.q.y*w.x+y.r.y*w.y,D.Da[C].x=R+.5*(A-(R-P)*H-(w-ca)*I-B)*H,D.Da[C].y=w+.5*(A-(R-P)*H-(w-ca)*I-B)*I}}A=Ph.j.x;D=Ph.j.y;B=a.j[d];B.j=n;B.k=k;B.na=e;B.C.x=A;B.C.y=D;B.I=e.ic;B.bi=m;B.Bi=p;B.P.x=
e.ed.x;B.P.y=e.ed.y;B.gc.x=e.Na.x;B.gc.y=e.Na.y;B.ca=g+l;B.type=e.nb;for(g=0;g<B.I;++g)m=e.Da[g],l=B.u[g],l.kc=m.zj,l.Sg=m.Aj,l.gc.S(m.Na),m=l.Yb.x=Ph.Da[g].x-n.p.G.x,p=l.Yb.y=Ph.Da[g].y-n.p.G.y,E=l.Zb.x=Ph.Da[g].x-k.p.G.x,C=l.Zb.y=Ph.Da[g].y-k.p.G.y,q=m*D-p*A,w=E*D-C*A,q*=q,w*=w,l.uh=1/(n.O+k.O+n.Z*q+k.Z*w),y=n.aa*n.O+k.aa*k.O,y+=n.aa*n.Z*q+k.aa*k.Z*w,l.QC=1/y,w=D,y=-A,q=m*y-p*w,w=E*y-C*w,q*=q,w*=w,l.NF=1/(n.O+k.O+n.Z*q+k.Z*w),l.In=0,m=B.C.x*(r+-v*C-f- -t*p)+B.C.y*(u+v*E-h-t*m),-1>m&&(l.In+=-B.Bi*
m);2==B.I&&(u=B.u[0],r=B.u[1],e=n.O,n=n.Z,f=k.O,k=k.Z,h=u.Yb.x*D-u.Yb.y*A,u=u.Zb.x*D-u.Zb.y*A,t=r.Yb.x*D-r.Yb.y*A,g=r.Zb.x*D-r.Zb.y*A,r=e+f+n*h*h+k*u*u,v=e+f+n*t*t+k*g*g,k=e+f+n*h*t+k*u*g,r*r<100*(r*v-k*k)?(B.L.q.Set(r,k),B.L.r.Set(k,v),ee(B.L,B.uh)):B.I=1)}}
function ih(a){for(var c=0;c<a.k;c++){for(var b=a.j[c],d=b.C.x,e=b.C.y,h=0;h<b.I;h++){var f=b,g=b.u[h],l=f.C.y,n=-f.C.x,k=f.bi*g.kc,k=ae(g.Sg-g.NF*((f.k.A.x-f.k.J*g.Zb.y-f.j.A.x+f.j.J*g.Yb.y)*l+(f.k.A.y+f.k.J*g.Zb.x-f.j.A.y-f.j.J*g.Yb.x)*n),-k,k),m=k-g.Sg,l=m*l,n=m*n;f.j.A.x-=f.j.O*l;f.j.A.y-=f.j.O*n;f.j.J-=f.j.Z*(g.Yb.x*n-g.Yb.y*l);f.k.A.x+=f.k.O*l;f.k.A.y+=f.k.O*n;f.k.J+=f.k.Z*(g.Zb.x*n-g.Zb.y*l);g.Sg=k}if(1==b.I)h=b.u[0],f=h.kc-h.uh*((b.k.A.x-b.k.J*h.Zb.y-b.j.A.x+b.j.J*h.Yb.y)*d+(b.k.A.y+b.k.J*
h.Zb.x-b.j.A.y-b.j.J*h.Yb.x)*e-h.In),f=0<f?f:0,g=f-h.kc,d=g*d,e=g*e,b.j.A.x-=b.j.O*d,b.j.A.y-=b.j.O*e,b.j.J-=b.j.Z*(h.Yb.x*e-h.Yb.y*d),b.k.A.x+=b.k.O*d,b.k.A.y+=b.k.O*e,b.k.J+=b.k.Z*(h.Zb.x*e-h.Zb.y*d),h.kc=f;else for(h=b.u[0],f=b.u[1],g=h.kc,n=f.kc,k=(b.k.A.x-b.k.J*h.Zb.y-b.j.A.x+b.j.J*h.Yb.y)*d+(b.k.A.y+b.k.J*h.Zb.x-b.j.A.y-b.j.J*h.Yb.x)*e-h.In,e=(b.k.A.x-b.k.J*f.Zb.y-b.j.A.x+b.j.J*f.Yb.y)*d+(b.k.A.y+b.k.J*f.Zb.x-b.j.A.y-b.j.J*f.Yb.x)*e-f.In,k-=b.L.q.x*g+b.L.r.x*n,e-=b.L.q.y*g+b.L.r.y*n;;){d=-(b.uh.q.x*
k+b.uh.r.x*e);if(0<=d&&(l=-(b.uh.q.y*k+b.uh.r.y*e),0<=l)){Qh(b,h,f,d-g,l-n);h.kc=d;f.kc=l;break}d=-h.uh*k;if(0<=d&&0<=b.L.q.y*d+e){Qh(b,h,f,d-g,-n);h.kc=d;f.kc=0;break}d=-f.uh*e;if(0<=d&&0<=b.L.r.x*d+k){Qh(b,h,f,-g,d-n);h.kc=0;f.kc=d;break}if(0<=k&&0<=e){Qh(b,h,f,-g,-n);h.kc=0;f.kc=0;break}break}}}
function Qh(a,c,b,d,e){var h=d*a.C.x;d*=a.C.y;var f=e*a.C.x;e*=a.C.y;a.j.A.x-=a.j.O*(h+f);a.j.A.y-=a.j.O*(d+e);a.j.J-=a.j.Z*(c.Yb.x*d-c.Yb.y*h+b.Yb.x*e-b.Yb.y*f);a.k.A.x+=a.k.O*(h+f);a.k.A.y+=a.k.O*(d+e);a.k.J+=a.k.Z*(c.Zb.x*d-c.Zb.y*h+b.Zb.x*e-b.Zb.y*f);c.kc=0;b.kc=0}
function jh(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var e=a.j[d],h=e.j,f=e.k,g=h.aa*h.O,l=h.aa*h.Z,n=f.aa*f.O,k=f.aa*f.Z,m=e,p=Rh;switch(m.type){case 1:var r=m.j.H.B,u=m.gc,t=m.j.H.position.x+(r.q.x*u.x+r.r.x*u.y),v=m.j.H.position.y+(r.q.y*u.x+r.r.y*u.y),r=m.k.H.B,u=m.u[0].gc,q=m.k.H.position.x+(r.q.x*u.x+r.r.x*u.y),r=m.k.H.position.y+(r.q.y*u.x+r.r.y*u.y),u=q-t,x=r-v,B=u*u+x*x;B>Qd?(B=Math.sqrt(B),p.j.x=u/B,p.j.y=x/B):(p.j.x=1,p.j.y=0);p.Da[0].x=.5*(t+q);p.Da[0].y=.5*(v+r);p.k[0]=u*p.j.x+
x*p.j.y-m.ca;break;case 2:p.j.x=m.j.H.B.q.x*m.P.x+m.j.H.B.r.x*m.P.y;p.j.y=m.j.H.B.q.y*m.P.x+m.j.H.B.r.y*m.P.y;t=m.j.H.position.x+(m.j.H.B.q.x*m.gc.x+m.j.H.B.r.x*m.gc.y);v=m.j.H.position.y+(m.j.H.B.q.y*m.gc.x+m.j.H.B.r.y*m.gc.y);for(q=0;q<m.I;q++)r=m.k.H.position.x+(m.k.H.B.q.x*m.u[q].gc.x+m.k.H.B.r.x*m.u[q].gc.y),u=m.k.H.position.y+(m.k.H.B.q.y*m.u[q].gc.x+m.k.H.B.r.y*m.u[q].gc.y),p.k[q]=(r-t)*p.j.x+(u-v)*p.j.y-m.ca,p.Da[q].x=r,p.Da[q].y=u;break;case 4:p.j.x=m.k.H.B.q.x*m.P.x+m.k.H.B.r.x*m.P.y;p.j.y=
m.k.H.B.q.y*m.P.x+m.k.H.B.r.y*m.P.y;t=m.k.H.position.x+(m.k.H.B.q.x*m.gc.x+m.k.H.B.r.x*m.gc.y);v=m.k.H.position.y+(m.k.H.B.q.y*m.gc.x+m.k.H.B.r.y*m.gc.y);for(q=0;q<m.I;q++)r=m.j.H.position.x+(m.j.H.B.q.x*m.u[q].gc.x+m.j.H.B.r.x*m.u[q].gc.y),u=m.j.H.position.y+(m.j.H.B.q.y*m.u[q].gc.x+m.j.H.B.r.y*m.u[q].gc.y),p.k[q]=(r-t)*p.j.x+(u-v)*p.j.y-m.ca,p.Da[q].Set(r,u);p.j.x*=-1;p.j.y*=-1}p=Rh.j;for(m=0;m<e.I;m++)u=e.u[m],r=Rh.Da[m],x=Rh.k[m],t=r.x-h.p.G.x,v=r.y-h.p.G.y,q=r.x-f.p.G.x,r=r.y-f.p.G.y,b=b<x?b:
x,x=-u.QC*ae(c*(x+.005),-.2,0),u=x*p.x,x*=p.y,h.p.G.x-=g*u,h.p.G.y-=g*x,h.p.N-=l*(t*x-v*u),ng(h),f.p.G.x+=n*u,f.p.G.y+=n*x,f.p.N+=k*(q*x-r*u),ng(f)}return-.0075<b}function Ih(a,c){wh.call(this,a,c)}Kd(Ih,wh);Ih.prototype.Xc=function(a,c){wh.prototype.Xc.call(this,a,c)};Ih.prototype.u=function(){};function Gh(a,c){wh.call(this,a,c)}Kd(Gh,wh);Gh.prototype.Xc=function(a,c){wh.prototype.Xc.call(this,a,c)};
Gh.prototype.u=function(){a:{var a=this.df,c=this.tc.Ec,b=this.tc.ob().H,d=this.hc.Ec,e=this.hc.ob().H;a.ic=0;for(var h=e.position.x+(e.B.q.x*d.Db.x+e.B.r.x*d.Db.y)-b.position.x,f=e.position.y+(e.B.q.y*d.Db.x+e.B.r.y*d.Db.y)-b.position.y,e=h*b.B.q.x+f*b.B.q.y,b=h*b.B.r.x+f*b.B.r.y,h=0,f=-Number.MAX_VALUE,g=c.mb+d.mb,l=0;l<c.rb;++l){var n=c.Kb[l].x*(e-c.U[l].x)+c.Kb[l].y*(b-c.U[l].y);if(n>g)break a;n>f&&(f=n,h=l)}n=h+1;n>=c.rb&&(n=0);var l=c.U[h],k=c.U[n];f<Number.MIN_VALUE?(a.ic=1,a.nb=2,a.ed.S(c.Kb[h]),
a.Na.x=.5*(l.x+k.x),a.Na.y=.5*(l.y+k.y),a.Da[0].Na.S(d.Db),Re(a.Da[0].Df,0)):0>=(e-l.x)*(k.x-l.x)+(b-l.y)*(k.y-l.y)?(e-l.x)*(e-l.x)+(b-l.y)*(b-l.y)>g*g||(a.ic=1,a.nb=2,a.ed.x=e-l.x,a.ed.y=b-l.y,He(a.ed),a.Na.S(l),a.Da[0].Na.S(d.Db),Re(a.Da[0].Df,0)):0>=(e-k.x)*(l.x-k.x)+(b-k.y)*(l.y-k.y)?(e-k.x)*(e-k.x)+(b-k.y)*(b-k.y)>g*g||(a.ic=1,a.nb=2,a.ed.x=e-k.x,a.ed.y=b-k.y,He(a.ed),a.Na.S(k),a.Da[0].Na.S(d.Db),Re(a.Da[0].Df,0)):(n=.5*(l.x+k.x),l=.5*(l.y+k.y),f=(e-n)*c.Kb[h].x+(b-l)*c.Kb[h].y,f>g||(a.ic=1,
a.nb=2,a.ed.x=c.Kb[h].x,a.ed.y=c.Kb[h].y,He(a.ed),a.Na.Set(n,l),a.Da[0].Na.S(d.Db),Re(a.Da[0].Df,0)))}};function Jh(a,c){wh.call(this,a,c)}Kd(Jh,wh);Jh.prototype.Xc=function(a,c){wh.prototype.Xc.call(this,a,c)};Jh.prototype.u=function(){};function Hh(a,c){wh.call(this,a,c)}Kd(Hh,wh);Hh.prototype.Xc=function(a,c){wh.prototype.Xc.call(this,a,c)};
Hh.prototype.u=function(){var a=this.df,c=this.tc.Ec,b=this.tc.ob().H,d=this.hc.Ec,e=this.hc.ob().H;a.ic=0;var h=c.mb+d.mb,f=cf(c,b,d,e),g=f.Fv;if(!(f.pq>h)){var l=cf(d,e,c,b);if(!(l.pq>h)){var n=c,k=d,m=b,p=e,r=0;a.nb=2;l.pq>.98*f.pq+.001&&(n=d,k=c,m=e,p=b,g=l.Fv,a.nb=4,r=1);c=g;b=k;d=p;k=Sh;void 0===c&&(c=0);for(var f=m.B.q.x*n.Kb[c].x+m.B.r.x*n.Kb[c].y,l=m.B.q.y*n.Kb[c].x+m.B.r.y*n.Kb[c].y,e=d.B.q.x*f+d.B.q.y*l,l=d.B.r.x*f+d.B.r.y*l,f=e,e=0,u=Number.MAX_VALUE,t=0;t<b.rb;t++){var v=f*b.Kb[t].x+
l*b.Kb[t].y;v<u&&(u=v,e=t)}f=e+1;f>=b.rb&&(f=0);k[0].pf.x=d.position.x+(d.B.q.x*b.U[e].x+d.B.r.x*b.U[e].y);k[0].pf.y=d.position.y+(d.B.q.y*b.U[e].x+d.B.r.y*b.U[e].y);l=k[0].id;l.u=c;l.nc=l.nc&4294967040|l.u&255;l=k[0].id;l.j=e;l.nc=l.nc&4294902015|l.j<<8&65280;e=k[0].id;e.k=0;e.nc=e.nc&4278255615|e.k<<16&16711680;k[1].pf.x=d.position.x+(d.B.q.x*b.U[f].x+d.B.r.x*b.U[f].y);k[1].pf.y=d.position.y+(d.B.q.y*b.U[f].x+d.B.r.y*b.U[f].y);b=k[1].id;b.u=c;b.nc=b.nc&4294967040|b.u&255;c=k[1].id;c.j=f;c.nc=c.nc&
4294902015|c.j<<8&65280;c=k[1].id;c.k=1;c.nc=c.nc&4278255615|c.k<<16&16711680;c=n.U[g];g=g+1<n.rb?n.U[g+1]:n.U[0];Th.Set(g.x-c.x,g.y-c.y);He(Th);Vh.x=Th.y;Vh.y=-Th.x;$h.Set(.5*(c.x+g.x),.5*(c.y+g.y));ei.x=m.B.q.x*Th.x+m.B.r.x*Th.y;ei.y=m.B.q.y*Th.x+m.B.r.y*Th.y;fi.x=-ei.x;fi.y=-ei.y;gi.x=ei.y;gi.y=-ei.x;hi.x=m.position.x+(m.B.q.x*c.x+m.B.r.x*c.y);hi.y=m.position.y+(m.B.q.y*c.x+m.B.r.y*c.y);li.x=m.position.x+(m.B.q.x*g.x+m.B.r.x*g.y);li.y=m.position.y+(m.B.q.y*g.x+m.B.r.y*g.y);if(!(2>af(mi,Sh,fi,-ei.x*
hi.x-ei.y*hi.y+h)||2>af(ni,mi,ei,ei.x*li.x+ei.y*li.y+h))){a.ed.S(Vh);a.Na.S($h);m=gi.x*hi.x+gi.y*hi.y;for(n=g=0;2>n;++n)gi.x*ni[n].pf.x+gi.y*ni[n].pf.y-m<=h&&(c=ni[n].pf.x-p.position.x,k=ni[n].pf.y-p.position.y,a.Da[g].Na.x=c*p.B.q.x+k*p.B.q.y,a.Da[g].Na.y=c*p.B.r.x+k*p.B.r.y,a.Da[g].Df.Set(ni[n].id),c=a.Da[g].Df,c.C=r,c.nc=c.nc&16777215|c.C<<24&4278190080,g++);a.ic=g}}}};function oi(){this.I="Controller"+pi++;this.Je=null;this.j=new qg}oi.prototype.Nh=function(){};
oi.prototype.Vn=function(a){this.j.Vn(a);a=a.la;var c=this.I,b=a.k[c];if(null!=b){var d=b.j(),b=b.gb();null==d?a.j=b:d.k(b);null==b||b.Xg(d);delete a.k[c]}};var pi=0;function qi(){oi.call(this);this.u=V(0,-1);this.Xh=this.offset=0;this.C=V(0,0);this.k=null}Kd(qi,oi);
qi.prototype.Nh=function(){this.k=this.Je.C.Lc();for(var a=this.j.pb(xg);a;a=a.gb()){for(var c=a.body,b=V(0,0),d=V(0,0),e=0,h=0,f=c.u.pb();f;f=f.gb()){var g=V(0,0),l=f.yf.Ec.Pn(this.u,this.offset,c.Ae(),g),e=e+l;b.x+=l*g.x;b.y+=l*g.y;var n=0,n=1,h=h+l*n;d.x+=l*g.x*n;d.y+=l*g.y*n}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=h,d.y/=h,h=this.k.Kh(),h.Qe(this.Xh*e),c.Li(h,d),h=V(c.A.x-c.J*(b.y-c.p.G.y),c.A.y+c.J*(b.x-c.p.G.x)),h.uv(this.C),h.Qe(-2*e),c.Li(h,b),c.Xq(-c.j/c.aa*e*c.J*1),Ee(b),Ee(d))}};
function ri(){oi.call(this);this.k=V(0,0)}Kd(ri,oi);ri.prototype.Nh=function(a){a=V(this.k.x*a.Ua,this.k.y*a.Ua);for(var c=this.j.pb(xg);c;c=c.gb()){var b=c.body,d=b.A;hg(b,V(d.x+a.x,d.y+a.y))}Ee(a)};function si(){oi.call(this);this.k=V(0,0)}Kd(si,oi);si.prototype.Nh=function(){for(var a=this.j.pb(xg);a;a=a.gb()){var c=a.body;c.Li(this.k,c.p.G)}};function Zf(){this.j=null;this.k={}}Zf.prototype.pb=function(){return this.j};function ti(){oi.call(this)}Kd(ti,oi);
ti.prototype.Nh=function(){for(var a=null,c=null,b=0,d=null,e=null,h=0,f=0,g=0,h=null,l=this.j.pb(rg);l;l=l.gb())for(var a=l.body,c=a.p.G,b=a.aa,n=this.j.pb(rg);n;n=n.gb())if(d=n.body,a.Ie||d.Ie)e=d.p.G,h=e.x-c.x,f=e.y-c.y,g=h*h+f*f,g<Number.MIN_VALUE||(h=V(h,f),h.Qe(1/g/Math.sqrt(g)*b*d.aa),a.Ie&&a.Li(h,c),h.Qe(-1),d.Ie&&d.Li(h,e),Ee(h))};function ui(){oi.call(this);this.u=new be;this.k=0}Kd(ui,oi);
ui.prototype.Nh=function(a){a=a.Ua;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.j.pb(xg);c;c=c.gb()){var b=c.body,d;d=Wd(this.u,Xd(b.H.B,b.A));d=Wd(b.H.B,d);hg(b,V(b.A.x+d.x*a,b.A.y+d.y*a))}}};function vi(a){this.$d=new wi;this.ae=new wi;this.sg=V(0,0);this.tg=V(0,0);this.nb=a.type;this.oi=this.Mk=null;this.ba=a.j;this.fa=a.k;this.zx=a.P}z=vi.prototype;z.kd=function(){return this.nb};z.Yj=function(){return this.ba.Yj()&&this.fa.Yj()};z.pg=function(){};z.rg=function(){};
z.qg=function(){return!1};function xi(){this.type=0;this.k=this.j=null;this.P=!1}function wi(){}function yi(a){vi.call(this,a);this.Aa=V(0,0);this.Ba=V(0,0);this.j=V(0,0);this.Aa.S(a.L);this.Ba.S(a.ca);this.I=a.length;this.C=a.I;this.L=a.C;this.P=this.u=this.k=0}Kd(yi,vi);
yi.prototype.pg=function(a){var c,b=0,d=this.ba,e=this.fa;c=d.H.B;var h=this.Aa.x-d.p.T.x,f=this.Aa.y-d.p.T.y,b=c.q.x*h+c.r.x*f,f=c.q.y*h+c.r.y*f,h=b;c=e.H.B;var g=this.Ba.x-e.p.T.x,l=this.Ba.y-e.p.T.y,b=c.q.x*g+c.r.x*l,l=c.q.y*g+c.r.y*l,g=b;this.j.x=e.p.G.x+g-d.p.G.x-h;this.j.y=e.p.G.y+l-d.p.G.y-f;b=Math.sqrt(this.j.x*this.j.x+this.j.y*this.j.y);.005<b?this.j.Qe(1/b):this.j.Ha();c=h*this.j.y-f*this.j.x;var n=g*this.j.y-l*this.j.x;c=d.O+d.Z*c*c+e.O+e.Z*n*n;this.aa=0!=c?1/c:0;if(0<this.C){var b=b-
this.I,n=2*Math.PI*this.C,k=this.aa*n*n;this.u=a.Ua*(2*this.aa*this.L*n+a.Ua*k);this.u=0!=this.u?1/this.u:0;this.P=b*a.Ua*k*this.u;this.aa=c+this.u;this.aa=0!=this.aa?1/this.aa:0}a.Hh?(this.k*=a.Ac,a=this.k*this.j.x,c=this.k*this.j.y,d.A.x-=d.O*a,d.A.y-=d.O*c,d.J-=d.Z*(h*c-f*a),e.A.x+=e.O*a,e.A.y+=e.O*c,e.J+=e.Z*(g*c-l*a)):this.k=0};
yi.prototype.rg=function(){var a=this.Aa.x-this.ba.p.T.x,c=this.Aa.y-this.ba.p.T.y,b=this.ba.H.B.q.x*a+this.ba.H.B.r.x*c,c=this.ba.H.B.q.y*a+this.ba.H.B.r.y*c,a=b,d=this.Ba.x-this.fa.p.T.x,e=this.Ba.y-this.fa.p.T.y,b=this.fa.H.B.q.x*d+this.fa.H.B.r.x*e,e=this.fa.H.B.q.y*d+this.fa.H.B.r.y*e,d=b,h=-this.aa*(this.j.x*(this.fa.A.x-this.fa.J*e-(this.ba.A.x-this.ba.J*c))+this.j.y*(this.fa.A.y+this.fa.J*d-(this.ba.A.y+this.ba.J*a))+this.P+this.u*this.k);this.k+=h;b=h*this.j.x;h*=this.j.y;this.ba.A.x-=this.ba.O*
b;this.ba.A.y-=this.ba.O*h;this.ba.J-=this.ba.Z*(a*h-c*b);this.fa.A.x+=this.fa.O*b;this.fa.A.y+=this.fa.O*h;this.fa.J+=this.fa.Z*(d*h-e*b)};
yi.prototype.qg=function(){if(0<this.C)return!0;var a=this.Aa.x-this.ba.p.T.x,c=this.Aa.y-this.ba.p.T.y,b=this.ba.H.B.q.x*a+this.ba.H.B.r.x*c,c=this.ba.H.B.q.y*a+this.ba.H.B.r.y*c,a=b,d=this.Ba.x-this.fa.p.T.x,e=this.Ba.y-this.fa.p.T.y,b=this.fa.H.B.q.x*d+this.fa.H.B.r.x*e,e=this.fa.H.B.q.y*d+this.fa.H.B.r.y*e,d=b,h=this.fa.p.G.x+d-this.ba.p.G.x-a,f=this.fa.p.G.y+e-this.ba.p.G.y-c,g=Math.sqrt(h*h+f*f),b=ae(g-this.I,-.2,.2),l=-this.aa*b;this.j.Set(h/g,f/g);h=l*this.j.x;l*=this.j.y;this.ba.p.G.x-=this.ba.O*
h;this.ba.p.G.y-=this.ba.O*l;this.ba.p.N-=this.ba.Z*(a*l-c*h);this.fa.p.G.x+=this.fa.O*h;this.fa.p.G.y+=this.fa.O*l;this.fa.p.N+=this.fa.Z*(d*l-e*h);ng(this.ba);ng(this.fa);return.005>Math.abs(b)};function zi(){xi.call(this);this.L=V(0,0);this.ca=V(0,0);this.type=3;this.length=1;this.C=this.I=0}Kd(zi,xi);zi.prototype.u=function(){return new yi(this)};
function Ai(a){vi.call(this,a);this.u=V(0,0);this.C=V(0,0);this.P=new be;this.j=V(0,0);this.u.S(a.C);this.C.S(a.I);this.P.Ha();this.I=0;this.j.Ha();this.k=0;this.L=a.L;this.ca=a.ca}Kd(Ai,vi);
Ai.prototype.pg=function(a){var c,b=0,d=this.ba,e=this.fa;c=d.H.B;var h=this.u.x-d.p.T.x,f=this.u.y-d.p.T.y,b=c.q.x*h+c.r.x*f,f=c.q.y*h+c.r.y*f,h=b;c=e.H.B;var g=this.C.x-e.p.T.x,l=this.C.y-e.p.T.y,b=c.q.x*g+c.r.x*l,l=c.q.y*g+c.r.y*l,g=b;c=d.O;var b=e.O,n=d.Z,k=e.Z,m=new be;m.q.x=c+b;m.r.x=0;m.q.y=0;m.r.y=c+b;m.q.x+=n*f*f;m.r.x+=-n*h*f;m.q.y+=-n*h*f;m.r.y+=n*h*h;m.q.x+=k*l*l;m.r.x+=-k*g*l;m.q.y+=-k*g*l;m.r.y+=k*g*g;ee(m,this.P);this.I=n+k;0<this.I&&(this.I=1/this.I);a.Hh?(this.j.x*=a.Ac,this.j.y*=
a.Ac,this.k*=a.Ac,a=this.j,d.A.x-=c*a.x,d.A.y-=c*a.y,d.J-=n*(h*a.y-f*a.x+this.k),e.A.x+=b*a.x,e.A.y+=b*a.y,e.J+=k*(g*a.y-l*a.x+this.k)):(this.j.Ha(),this.k=0)};
Ai.prototype.rg=function(a){var c,b=0,d=this.ba,e=this.fa,h=d.A,f=d.J,g=e.A,l=e.J,n=d.O,k=e.O,m=d.Z,p=e.Z;c=d.H.B;var r=this.u.x-d.p.T.x,u=this.u.y-d.p.T.y,b=c.q.x*r+c.r.x*u,u=c.q.y*r+c.r.y*u,r=b;c=e.H.B;var t=this.C.x-e.p.T.x,v=this.C.y-e.p.T.y,b=c.q.x*t+c.r.x*v,v=c.q.y*t+c.r.y*v,t=b;c=0;var b=-this.I*(l-f),q=this.k;c=a.Ua*this.ca;this.k=ae(this.k+b,-c,c);b=this.k-q;f-=m*b;l+=p*b;c=Wd(this.P,V(-(g.x-l*v-h.x+f*u),-(g.y+l*t-h.y-f*r)));b=this.j.Lc();this.j.ng(c);c=a.Ua*this.L;Ge(this.j)>c*c&&(He(this.j),
this.j.Qe(c));c=$d(this.j,b);h.x-=n*c.x;h.y-=n*c.y;f-=m*(r*c.y-u*c.x);g.x+=k*c.x;g.y+=k*c.y;l+=p*(t*c.y-v*c.x);d.J=f;e.J=l};Ai.prototype.qg=function(){return!0};function Bi(){xi.call(this);this.C=V(0,0);this.I=V(0,0);this.type=9;this.ca=this.L=0}Kd(Bi,xi);Bi.prototype.u=function(){return new Ai(this)};
function Ci(a){vi.call(this,a);this.ca=V(0,0);this.na=V(0,0);this.Aa=V(0,0);this.Ba=V(0,0);this.j=new Di;var c=a.C.nb,b=a.I.nb;this.L=this.I=this.P=this.C=null;var d=0,e=0;this.Ta=a.C.ba;this.ba=a.C.fa;1==c?(this.C=a.C,this.ca.S(this.C.Aa),this.Aa.S(this.C.Ba),d=Ei(this.C)):(this.P=a.C,this.ca.S(this.P.Aa),this.Aa.S(this.P.Ba),d=this.P.ol());this.$a=a.I.ba;this.fa=a.I.fa;1==b?(this.I=a.I,this.na.S(this.I.Aa),this.Ba.S(this.I.Ba),e=Ei(this.I)):(this.L=a.I,this.na.S(this.L.Aa),this.Ba.S(this.L.Ba),
e=this.L.ol());this.k=a.L;this.la=d+this.k*e;this.u=0}Kd(Ci,vi);
Ci.prototype.pg=function(a){var c=this.Ta,b=this.$a,d=this.ba,e=this.fa,h=0,f=0,g=0,l=0,n=g=0,k=0;this.j.Ha();this.C?(this.j.u=-1,k+=d.Z):(c=c.H.B,f=this.P.ne,h=c.q.x*f.x+c.r.x*f.y,f=c.q.y*f.x+c.r.y*f.y,c=d.H.B,g=this.Aa.x-d.p.T.x,l=this.Aa.y-d.p.T.y,n=c.q.x*g+c.r.x*l,l=c.q.y*g+c.r.y*l,g=n*f-l*h,this.j.j.Set(-h,-f),this.j.u=-g,k+=d.O+d.Z*g*g);this.I?(this.j.C=-this.k,k+=this.k*this.k*e.Z):(c=b.H.B,f=this.L.ne,h=c.q.x*f.x+c.r.x*f.y,f=c.q.y*f.x+c.r.y*f.y,c=e.H.B,g=this.Ba.x-e.p.T.x,l=this.Ba.y-e.p.T.y,
n=c.q.x*g+c.r.x*l,l=c.q.y*g+c.r.y*l,g=n*f-l*h,this.j.k.Set(-this.k*h,-this.k*f),this.j.C=-this.k*g,k+=this.k*this.k*(e.O+e.Z*g*g));this.aa=0<k?1/k:0;a.Hh?(d.A.x+=d.O*this.u*this.j.j.x,d.A.y+=d.O*this.u*this.j.j.y,d.J+=d.Z*this.u*this.j.u,e.A.x+=e.O*this.u*this.j.k.x,e.A.y+=e.O*this.u*this.j.k.y,e.J+=e.Z*this.u*this.j.C):this.u=0};
Ci.prototype.rg=function(){var a=this.ba,c=this.fa,b=this.j,d=a.A,e=a.J,h=c.A,f=c.J;void 0===e&&(e=0);void 0===f&&(f=0);b=-this.aa*(b.j.x*d.x+b.j.y*d.y+b.u*e+(b.k.x*h.x+b.k.y*h.y)+b.C*f);this.u+=b;a.A.x+=a.O*b*this.j.j.x;a.A.y+=a.O*b*this.j.j.y;a.J+=a.Z*b*this.j.u;c.A.x+=c.O*b*this.j.k.x;c.A.y+=c.O*b*this.j.k.y;c.J+=c.Z*b*this.j.C};
Ci.prototype.qg=function(){var a=this.ba,c=this.fa,b=0,d=0;this.C?b=Ei(this.C):b=this.P.ol();this.I?d=Ei(this.I):d=this.L.ol();b=-this.aa*(this.la-(b+this.k*d));a.p.G.x+=a.O*b*this.j.j.x;a.p.G.y+=a.O*b*this.j.j.y;a.p.N+=a.Z*b*this.j.u;c.p.G.x+=c.O*b*this.j.k.x;c.p.G.y+=c.O*b*this.j.k.y;c.p.N+=c.Z*b*this.j.C;ng(a);ng(c);return!0};function Fi(){xi.call(this);this.type=6;this.I=this.C=null;this.L=1}Kd(Fi,xi);Fi.prototype.u=function(){return new Ci(this)};function Di(){this.j=V(0,0);this.k=V(0,0)}
Di.prototype.Ha=function(){this.j.Ha();this.u=0;this.k.Ha();this.C=0};Di.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.j.S(a);this.u=c;this.k.S(b);this.C=d};
function Gi(a){vi.call(this,a);this.Aa=V(0,0);this.Ba=V(0,0);this.ne=V(0,0);this.Be=V(0,0);this.k=V(0,0);this.L=V(0,0);this.la=new be;this.j=V(0,0);this.Aa.S(a.ca);this.Ba.S(a.na);this.ne.S(a.C);this.Be.x=-this.ne.y;this.Be.y=this.ne.x;this.j.Ha();this.ab=this.Ib=0;this.Mc=a.la;this.md=a.Ib;this.hr=a.Ta;this.ir=a.$a;this.Qi=a.I;this.ql=a.L;this.qb=0;this.k.Ha();this.L.Ha()}Kd(Gi,vi);
Gi.prototype.ol=function(){var a=this.ba,c=this.fa,b=jg(a,this.Aa),d=jg(c,this.Ba),c=d.x-b.x,b=d.y-b.y,a=Wd(a.H.B,this.ne);return a.x*c+a.y*b};
Gi.prototype.pg=function(a){var c=this.ba,b=this.fa,d,e=0;this.sg.S(c.p.T);this.tg.S(b.p.T);var h=c.Ae();b.Ae();d=c.H.B;var f=this.Aa.x-this.sg.x,g=this.Aa.y-this.sg.y,e=d.q.x*f+d.r.x*g,g=d.q.y*f+d.r.y*g,f=e;d=b.H.B;var l=this.Ba.x-this.tg.x,n=this.Ba.y-this.tg.y,e=d.q.x*l+d.r.x*n,n=d.q.y*l+d.r.y*n,l=e;d=b.p.G.x+l-c.p.G.x-f;e=b.p.G.y+n-c.p.G.y-g;this.ca=c.O;this.na=b.O;this.Ta=c.Z;this.$a=b.Z;this.k.S(Wd(h.B,this.ne));this.u=(d+f)*this.k.y-(e+g)*this.k.x;this.C=l*this.k.y-n*this.k.x;this.Ib=this.ca+
this.na+this.Ta*this.u*this.u+this.$a*this.C*this.C;this.Ib=this.Ib>Number.MIN_VALUE?1/this.Ib:0;this.L.S(Wd(h.B,this.Be));this.I=(d+f)*this.L.y-(e+g)*this.L.x;this.P=l*this.L.y-n*this.L.x;h=this.ca;f=this.na;g=this.Ta;l=this.$a;this.la.q.x=h+f+g*this.I*this.I+l*this.P*this.P;this.la.q.y=g*this.I*this.u+l*this.P*this.C;this.la.r.x=this.la.q.y;this.la.r.y=h+f+g*this.u*this.u+l*this.C*this.C;this.Qi?(d=this.k.x*d+this.k.y*e,.01>Math.abs(this.md-this.Mc)?this.qb=3:d<=this.Mc?1!=this.qb&&(this.qb=1,this.j.y=
0):d>=this.md?2!=this.qb&&(this.qb=2,this.j.y=0):(this.qb=0,this.j.y=0)):this.qb=0;0==this.ql&&(this.ab=0);a.Hh?(this.j.x*=a.Ac,this.j.y*=a.Ac,this.ab*=a.Ac,a=this.j.x*this.L.x+(this.ab+this.j.y)*this.k.x,d=this.j.x*this.L.y+(this.ab+this.j.y)*this.k.y,e=this.j.x*this.I+(this.ab+this.j.y)*this.u,h=this.j.x*this.P+(this.ab+this.j.y)*this.C,c.A.x-=this.ca*a,c.A.y-=this.ca*d,c.J-=this.Ta*e,b.A.x+=this.na*a,b.A.y+=this.na*d,b.J+=this.$a*h):(this.j.Ha(),this.ab=0)};
Gi.prototype.rg=function(a){var c=this.ba,b=this.fa,d=c.A,e=c.J,h=b.A,f=b.J,g=0,l=0,n=0,k=0;this.ql&&3!=this.qb&&(k=this.Ib*(this.ir-(this.k.x*(h.x-d.x)+this.k.y*(h.y-d.y)+this.C*f-this.u*e)),g=this.ab,l=a.Ua*this.hr,this.ab=ae(this.ab+k,-l,l),k=this.ab-g,g=k*this.k.x,l=k*this.k.y,n=k*this.u,k*=this.C,d.x-=this.ca*g,d.y-=this.ca*l,e-=this.Ta*n,h.x+=this.na*g,h.y+=this.na*l,f+=this.$a*k);l=this.L.x*(h.x-d.x)+this.L.y*(h.y-d.y)+this.P*f-this.I*e;this.Qi&&0!=this.qb?(n=this.k.x*(h.x-d.x)+this.k.y*(h.y-
d.y)+this.C*f-this.u*e,g=this.j.Lc(),a=fe(this.la,V(0,0),-l,-n),this.j.ng(a),1==this.qb?this.j.y=Math.max(this.j.y,0):2==this.qb&&(this.j.y=Math.min(this.j.y,0)),l=-l-(this.j.y-g.y)*this.la.r.x,n=0,n=0!=this.la.q.x?l/this.la.q.x+g.x:g.x,this.j.x=n,a.x=this.j.x-g.x,a.y=this.j.y-g.y,g=a.x*this.L.x+a.y*this.k.x,l=a.x*this.L.y+a.y*this.k.y,n=a.x*this.I+a.y*this.u,k=a.x*this.P+a.y*this.C):(a=0,a=0!=this.la.q.x?-l/this.la.q.x:0,this.j.x+=a,g=a*this.L.x,l=a*this.L.y,n=a*this.I,k=a*this.P);d.x-=this.ca*g;
d.y-=this.ca*l;e-=this.Ta*n;h.x+=this.na*g;h.y+=this.na*l;f+=this.$a*k;c.A.S(d);c.J=e;b.A.S(h);b.J=f};
Gi.prototype.qg=function(){var a=this.ba,c=this.fa,b=a.p.G,d=a.p.N,e=c.p.G,h=c.p.N,f,g=0,l=0,n=0,k=0,m=f=0,p=0,l=!1,r=0,u=ce(d),n=ce(h);f=u;var p=this.Aa.x-this.sg.x,t=this.Aa.y-this.sg.y,g=f.q.x*p+f.r.x*t,t=f.q.y*p+f.r.y*t,p=g;f=n;n=this.Ba.x-this.tg.x;k=this.Ba.y-this.tg.y;g=f.q.x*n+f.r.x*k;k=f.q.y*n+f.r.y*k;n=g;f=e.x+n-b.x-p;g=e.y+k-b.y-t;if(this.Qi){this.k=Wd(u,this.ne);this.u=(f+p)*this.k.y-(g+t)*this.k.x;this.C=n*this.k.y-k*this.k.x;var v=this.k.x*f+this.k.y*g;.01>Math.abs(this.md-this.Mc)?
(r=ae(v,-.2,.2),m=Math.abs(v),l=!0):v<=this.Mc?(r=ae(v-this.Mc+.005,-.2,0),m=this.Mc-v,l=!0):v>=this.md&&(r=ae(v-this.md+.005,0,.2),m=v-this.md,l=!0)}this.L=Wd(u,this.Be);this.I=(f+p)*this.L.y-(g+t)*this.L.x;this.P=n*this.L.y-k*this.L.x;u=V(0,0);t=this.L.x*f+this.L.y*g;m=Math.max(m,Math.abs(t));p=0;l?(l=this.ca,n=this.na,k=this.Ta,f=this.$a,this.la.q.x=l+n+k*this.I*this.I+f*this.P*this.P,this.la.q.y=k*this.I*this.u+f*this.P*this.C,this.la.r.x=this.la.q.y,this.la.r.y=l+n+k*this.u*this.u+f*this.C*this.C,
fe(this.la,u,-t,-r)):(l=this.ca,n=this.na,k=this.Ta,f=this.$a,r=l+n+k*this.I*this.I+f*this.P*this.P,u.x=0!=r?-t/r:0,u.y=0);r=u.x*this.L.x+u.y*this.k.x;l=u.x*this.L.y+u.y*this.k.y;t=u.x*this.I+u.y*this.u;u=u.x*this.P+u.y*this.C;b.x-=this.ca*r;b.y-=this.ca*l;d-=this.Ta*t;e.x+=this.na*r;e.y+=this.na*l;h+=this.$a*u;a.p.N=d;c.p.N=h;ng(a);ng(c);return.005>=m&&p<=Ld};
function Hi(){xi.call(this);this.ca=V(0,0);this.na=V(0,0);this.C=V(0,0);this.type=7;this.C.Set(1,0);this.I=!1;this.Ib=this.la=0;this.L=!1;this.$a=this.Ta=0}Kd(Hi,xi);Hi.prototype.u=function(){return new Gi(this)};
function Ii(a){vi.call(this,a);this.Aa=V(0,0);this.Ba=V(0,0);this.ne=V(0,0);this.Be=V(0,0);this.L=V(0,0);this.la=V(0,0);this.k=new ge;this.j=new he(0,0,0);this.Aa.S(a.ca);this.Ba.S(a.na);this.ne.S(a.C);this.Be.x=-this.ne.y;this.Be.y=this.ne.x;this.GB=a.Ib;this.j.Ha();this.ab=this.Ib=0;this.Mc=a.la;this.md=a.ab;this.hr=a.Ta;this.ir=a.$a;this.Qi=a.I;this.ql=a.L;this.qb=0;this.L.Ha();this.la.Ha()}Kd(Ii,vi);
Ii.prototype.ol=function(){var a=this.ba,c=this.fa,b=jg(a,this.Aa),d=jg(c,this.Ba),c=d.x-b.x,b=d.y-b.y,a=Wd(a.H.B,this.ne);return a.x*c+a.y*b};
Ii.prototype.pg=function(a){var c=this.ba,b=this.fa,d,e=0;this.sg.S(c.p.T);this.tg.S(b.p.T);var h=c.Ae();b.Ae();d=c.H.B;var f=this.Aa.x-this.sg.x,g=this.Aa.y-this.sg.y,e=d.q.x*f+d.r.x*g,g=d.q.y*f+d.r.y*g,f=e;d=b.H.B;var l=this.Ba.x-this.tg.x,n=this.Ba.y-this.tg.y,e=d.q.x*l+d.r.x*n,n=d.q.y*l+d.r.y*n,l=e;d=b.p.G.x+l-c.p.G.x-f;e=b.p.G.y+n-c.p.G.y-g;this.ca=c.O;this.na=b.O;this.Ta=c.Z;this.$a=b.Z;this.L.S(Wd(h.B,this.ne));this.u=(d+f)*this.L.y-(e+g)*this.L.x;this.C=l*this.L.y-n*this.L.x;this.Ib=this.ca+
this.na+this.Ta*this.u*this.u+this.$a*this.C*this.C;this.Ib>Number.MIN_VALUE&&(this.Ib=1/this.Ib);this.la.S(Wd(h.B,this.Be));this.I=(d+f)*this.la.y-(e+g)*this.la.x;this.P=l*this.la.y-n*this.la.x;h=this.ca;f=this.na;g=this.Ta;l=this.$a;this.k.q.x=h+f+g*this.I*this.I+l*this.P*this.P;this.k.q.y=g*this.I+l*this.P;this.k.q.z=g*this.I*this.u+l*this.P*this.C;this.k.r.x=this.k.q.y;this.k.r.y=g+l;this.k.r.z=g*this.u+l*this.C;this.k.j.x=this.k.q.z;this.k.j.y=this.k.r.z;this.k.j.z=h+f+g*this.u*this.u+l*this.C*
this.C;this.Qi?(d=this.L.x*d+this.L.y*e,.01>Math.abs(this.md-this.Mc)?this.qb=3:d<=this.Mc?1!=this.qb&&(this.qb=1,this.j.z=0):d>=this.md?2!=this.qb&&(this.qb=2,this.j.z=0):(this.qb=0,this.j.z=0)):this.qb=0;0==this.ql&&(this.ab=0);a.Hh?(this.j.x*=a.Ac,this.j.y*=a.Ac,this.ab*=a.Ac,a=this.j.x*this.la.x+(this.ab+this.j.z)*this.L.x,d=this.j.x*this.la.y+(this.ab+this.j.z)*this.L.y,e=this.j.x*this.I+this.j.y+(this.ab+this.j.z)*this.u,h=this.j.x*this.P+this.j.y+(this.ab+this.j.z)*this.C,c.A.x-=this.ca*a,
c.A.y-=this.ca*d,c.J-=this.Ta*e,b.A.x+=this.na*a,b.A.y+=this.na*d,b.J+=this.$a*h):(this.j.Ha(),this.ab=0)};
Ii.prototype.rg=function(a){var c=this.ba,b=this.fa,d=c.A,e=c.J,h=b.A,f=b.J,g=0,l=0,n=0,k=0;this.ql&&3!=this.qb&&(k=this.Ib*(this.ir-(this.L.x*(h.x-d.x)+this.L.y*(h.y-d.y)+this.C*f-this.u*e)),g=this.ab,a=a.Ua*this.hr,this.ab=ae(this.ab+k,-a,a),k=this.ab-g,g=k*this.L.x,l=k*this.L.y,n=k*this.u,k*=this.C,d.x-=this.ca*g,d.y-=this.ca*l,e-=this.Ta*n,h.x+=this.na*g,h.y+=this.na*l,f+=this.$a*k);n=this.la.x*(h.x-d.x)+this.la.y*(h.y-d.y)+this.P*f-this.I*e;l=f-e;this.Qi&&0!=this.qb?(a=this.L.x*(h.x-d.x)+this.L.y*
(h.y-d.y)+this.C*f-this.u*e,g=this.j.Lc(),a=je(this.k,new he(0,0,0),-n,-l,-a),this.j.ng(a),1==this.qb?this.j.z=Math.max(this.j.z,0):2==this.qb&&(this.j.z=Math.min(this.j.z,0)),n=-n-(this.j.z-g.z)*this.k.j.x,l=-l-(this.j.z-g.z)*this.k.j.y,l=ie(this.k,V(0,0),n,l),l.x+=g.x,l.y+=g.y,this.j.x=l.x,this.j.y=l.y,a.x=this.j.x-g.x,a.y=this.j.y-g.y,a.z=this.j.z-g.z,g=a.x*this.la.x+a.z*this.L.x,l=a.x*this.la.y+a.z*this.L.y,n=a.x*this.I+a.y+a.z*this.u,k=a.x*this.P+a.y+a.z*this.C,d.x-=this.ca*g,d.y-=this.ca*l,
e-=this.Ta*n,h.x+=this.na*g,h.y+=this.na*l,f+=this.$a*k):(a=ie(this.k,V(0,0),-n,-l),this.j.x+=a.x,this.j.y+=a.y,g=a.x*this.la.x,l=a.x*this.la.y,n=a.x*this.I+a.y,k=a.x*this.P+a.y,d.x-=this.ca*g,d.y-=this.ca*l,e-=this.Ta*n,h.x+=this.na*g,h.y+=this.na*l,f+=this.$a*k);c.A.S(d);c.J=e;b.A.S(h);b.J=f};
Ii.prototype.qg=function(){var a=this.ba,c=this.fa,b=a.p.G,d=a.p.N,e=c.p.G,h=c.p.N,f,g=0,l=0,n=0,k=g=f=0,m=0,l=!1,p=0,r=ce(d),u=ce(h);f=r;var m=this.Aa.x-this.sg.x,t=this.Aa.y-this.sg.y,g=f.q.x*m+f.r.x*t,t=f.q.y*m+f.r.y*t,m=g;f=u;u=this.Ba.x-this.tg.x;n=this.Ba.y-this.tg.y;g=f.q.x*u+f.r.x*n;n=f.q.y*u+f.r.y*n;u=g;f=e.x+u-b.x-m;g=e.y+n-b.y-t;if(this.Qi){this.L=Wd(r,this.ne);this.u=(f+m)*this.L.y-(g+t)*this.L.x;this.C=u*this.L.y-n*this.L.x;var v=this.L.x*f+this.L.y*g;.01>Math.abs(this.md-this.Mc)?(p=
ae(v,-.2,.2),k=Math.abs(v),l=!0):v<=this.Mc?(p=ae(v-this.Mc+.005,-.2,0),k=this.Mc-v,l=!0):v>=this.md&&(p=ae(v-this.md+.005,0,.2),k=v-this.md,l=!0)}this.la=Wd(r,this.Be);this.I=(f+m)*this.la.y-(g+t)*this.la.x;this.P=u*this.la.y-n*this.la.x;r=new he(0,0,0);t=this.la.x*f+this.la.y*g;u=h-d-this.GB;k=Math.max(k,Math.abs(t));m=Math.abs(u);l?(l=this.ca,n=this.na,f=this.Ta,g=this.$a,this.k.q.x=l+n+f*this.I*this.I+g*this.P*this.P,this.k.q.y=f*this.I+g*this.P,this.k.q.z=f*this.I*this.u+g*this.P*this.C,this.k.r.x=
this.k.q.y,this.k.r.y=f+g,this.k.r.z=f*this.u+g*this.C,this.k.j.x=this.k.q.z,this.k.j.y=this.k.r.z,this.k.j.z=l+n+f*this.u*this.u+g*this.C*this.C,je(this.k,r,-t,-u,-p)):(l=this.ca,n=this.na,f=this.Ta,g=this.$a,p=f*this.I+g*this.P,v=f+g,this.k.q.Set(l+n+f*this.I*this.I+g*this.P*this.P,p,0),this.k.r.Set(p,v,0),p=ie(this.k,V(0,0),-t,-u),r.x=p.x,r.y=p.y,r.z=0);p=r.x*this.la.x+r.z*this.L.x;l=r.x*this.la.y+r.z*this.L.y;t=r.x*this.I+r.y+r.z*this.u;r=r.x*this.P+r.y+r.z*this.C;b.x-=this.ca*p;b.y-=this.ca*
l;d-=this.Ta*t;e.x+=this.na*p;e.y+=this.na*l;h+=this.$a*r;a.p.N=d;c.p.N=h;ng(a);ng(c);return.005>=k&&m<=Ld};function Li(){xi.call(this);this.ca=V(0,0);this.na=V(0,0);this.C=V(0,0);this.type=2;this.C.Set(1,0);this.Ib=0;this.I=!1;this.ab=this.la=0;this.L=!1;this.$a=this.Ta=0}Kd(Li,xi);Li.prototype.u=function(){return new Ii(this)};
function Mi(a){vi.call(this,a);this.ca=V(0,0);this.na=V(0,0);this.Aa=V(0,0);this.Ba=V(0,0);this.j=V(0,0);this.k=V(0,0);this.I=this.ba.Je.FE;this.ca.x=a.C.x-this.I.H.position.x;this.ca.y=a.C.y-this.I.H.position.y;this.na.x=a.I.x-this.I.H.position.x;this.na.y=a.I.y-this.I.H.position.y;this.Aa.S(a.L);this.Ba.S(a.ca);this.u=a.na;this.$a=0+0*this.u;this.md=Math.min(0,this.$a-this.u*Ni);this.Be=Math.min(0,(this.$a-Ni)/this.u);this.L=this.P=this.C=0}Kd(Mi,vi);
Mi.prototype.pg=function(a){var c=this.ba,b=this.fa,d;d=c.H.B;var e=this.Aa.x-c.p.T.x,h=this.Aa.y-c.p.T.y,f=d.q.x*e+d.r.x*h,h=d.q.y*e+d.r.y*h,e=f;d=b.H.B;var g=this.Ba.x-b.p.T.x,l=this.Ba.y-b.p.T.y,f=d.q.x*g+d.r.x*l,l=d.q.y*g+d.r.y*l,g=f;d=b.p.G.x+g;var f=b.p.G.y+l,n=this.I.H.position.x+this.na.x,k=this.I.H.position.y+this.na.y;this.j.Set(c.p.G.x+e-(this.I.H.position.x+this.ca.x),c.p.G.y+h-(this.I.H.position.y+this.ca.y));this.k.Set(d-n,f-k);d=Fe(this.j);f=Fe(this.k);.005<d?this.j.Qe(1/d):this.j.Ha();
.005<f?this.k.Qe(1/f):this.k.Ha();0<this.$a-d-this.u*f?this.C=this.Mc=0:this.Mc=2;d<this.md?this.P=this.ab=0:this.ab=2;f<this.Be?this.L=this.qb=0:this.qb=2;d=e*this.j.y-h*this.j.x;f=g*this.k.y-l*this.k.x;this.la=c.O+c.Z*d*d;this.Ta=b.O+b.Z*f*f;this.Ib=this.la+this.u*this.u*this.Ta;this.la=1/this.la;this.Ta=1/this.Ta;this.Ib=1/this.Ib;a.Hh?(this.C*=a.Ac,this.P*=a.Ac,this.L*=a.Ac,a=(-this.C-this.P)*this.j.x,d=(-this.C-this.P)*this.j.y,f=(-this.u*this.C-this.L)*this.k.x,n=(-this.u*this.C-this.L)*this.k.y,
c.A.x+=c.O*a,c.A.y+=c.O*d,c.J+=c.Z*(e*d-h*a),b.A.x+=b.O*f,b.A.y+=b.O*n,b.J+=b.Z*(g*n-l*f)):this.L=this.P=this.C=0};
Mi.prototype.rg=function(){var a=this.ba,c=this.fa,b;b=a.H.B;var d=this.Aa.x-a.p.T.x,e=this.Aa.y-a.p.T.y,h=b.q.x*d+b.r.x*e,e=b.q.y*d+b.r.y*e,d=h;b=c.H.B;var f=this.Ba.x-c.p.T.x,g=this.Ba.y-c.p.T.y,h=b.q.x*f+b.r.x*g,g=b.q.y*f+b.r.y*g,f=h,l=h=b=0,n=0;b=n=b=n=l=h=b=0;2==this.Mc&&(b=a.A.x+-a.J*e,h=a.A.y+a.J*d,l=c.A.x+-c.J*g,n=c.A.y+c.J*f,b=-(this.j.x*b+this.j.y*h)-this.u*(this.k.x*l+this.k.y*n),n=this.Ib*-b,b=this.C,this.C=Math.max(0,this.C+n),n=this.C-b,b=-n*this.j.x,h=-n*this.j.y,l=-this.u*n*this.k.x,
n=-this.u*n*this.k.y,a.A.x+=a.O*b,a.A.y+=a.O*h,a.J+=a.Z*(d*h-e*b),c.A.x+=c.O*l,c.A.y+=c.O*n,c.J+=c.Z*(f*n-g*l));2==this.ab&&(b=a.A.x+-a.J*e,h=a.A.y+a.J*d,b=-(this.j.x*b+this.j.y*h),n=-this.la*b,b=this.P,this.P=Math.max(0,this.P+n),n=this.P-b,b=-n*this.j.x,h=-n*this.j.y,a.A.x+=a.O*b,a.A.y+=a.O*h,a.J+=a.Z*(d*h-e*b));2==this.qb&&(l=c.A.x+-c.J*g,n=c.A.y+c.J*f,b=-(this.k.x*l+this.k.y*n),n=-this.Ta*b,b=this.L,this.L=Math.max(0,this.L+n),n=this.L-b,l=-n*this.k.x,n=-n*this.k.y,c.A.x+=c.O*l,c.A.y+=c.O*n,c.J+=
c.Z*(f*n-g*l))};
Mi.prototype.qg=function(){var a=this.ba,c=this.fa,b,d=this.I.H.position.x+this.ca.x,e=this.I.H.position.y+this.ca.y,h=this.I.H.position.x+this.na.x,f=this.I.H.position.y+this.na.y,g=0,l=0,n=0,k=0,m=b=0,p=0,r=0,u=m=r=b=m=b=0;2==this.Mc&&(b=a.H.B,g=this.Aa.x-a.p.T.x,l=this.Aa.y-a.p.T.y,m=b.q.x*g+b.r.x*l,l=b.q.y*g+b.r.y*l,g=m,b=c.H.B,n=this.Ba.x-c.p.T.x,k=this.Ba.y-c.p.T.y,m=b.q.x*n+b.r.x*k,k=b.q.y*n+b.r.y*k,n=m,b=a.p.G.x+g,m=a.p.G.y+l,p=c.p.G.x+n,r=c.p.G.y+k,this.j.Set(b-d,m-e),this.k.Set(p-h,r-f),
b=Fe(this.j),m=Fe(this.k),.005<b?this.j.Qe(1/b):this.j.Ha(),.005<m?this.k.Qe(1/m):this.k.Ha(),b=this.$a-b-this.u*m,u=Math.max(u,-b),b=ae(b+.005,-.2,0),r=-this.Ib*b,b=-r*this.j.x,m=-r*this.j.y,p=-this.u*r*this.k.x,r=-this.u*r*this.k.y,a.p.G.x+=a.O*b,a.p.G.y+=a.O*m,a.p.N+=a.Z*(g*m-l*b),c.p.G.x+=c.O*p,c.p.G.y+=c.O*r,c.p.N+=c.Z*(n*r-k*p),ng(a),ng(c));2==this.ab&&(b=a.H.B,g=this.Aa.x-a.p.T.x,l=this.Aa.y-a.p.T.y,m=b.q.x*g+b.r.x*l,l=b.q.y*g+b.r.y*l,g=m,b=a.p.G.x+g,m=a.p.G.y+l,this.j.Set(b-d,m-e),b=Fe(this.j),
.005<b?(this.j.x*=1/b,this.j.y*=1/b):this.j.Ha(),b=this.md-b,u=Math.max(u,-b),b=ae(b+.005,-.2,0),r=-this.la*b,b=-r*this.j.x,m=-r*this.j.y,a.p.G.x+=a.O*b,a.p.G.y+=a.O*m,a.p.N+=a.Z*(g*m-l*b),ng(a));2==this.qb&&(b=c.H.B,n=this.Ba.x-c.p.T.x,k=this.Ba.y-c.p.T.y,m=b.q.x*n+b.r.x*k,k=b.q.y*n+b.r.y*k,n=m,p=c.p.G.x+n,r=c.p.G.y+k,this.k.Set(p-h,r-f),m=Fe(this.k),.005<m?(this.k.x*=1/m,this.k.y*=1/m):this.k.Ha(),b=this.Be-m,u=Math.max(u,-b),b=ae(b+.005,-.2,0),r=-this.Ta*b,p=-r*this.k.x,r=-r*this.k.y,c.p.G.x+=
c.O*p,c.p.G.y+=c.O*r,c.p.N+=c.Z*(n*r-k*p),ng(c));return.005>u};var Ni=1;function Oi(){xi.call(this);this.C=V(0,0);this.I=V(0,0);this.L=V(0,0);this.ca=V(0,0);this.type=4;this.C.Set(-1,1);this.I.Set(1,1);this.L.Set(-1,0);this.ca.Set(1,0);this.na=1;this.P=!0}Kd(Oi,xi);Oi.prototype.u=function(){return new Mi(this)};
function Pi(a){vi.call(this,a);this.la=new be;this.L=new be;this.ca=new be;this.na=new be;this.k=new he(0,0,0);this.C=V(0,0);this.P=V(0,0);this.Aa=V(0,0);this.Ba=V(0,0);this.j=new he(0,0,0);this.aa=new ge;this.Aa.S(a.C);this.Ba.S(a.I);this.ab=a.ca;this.j.Ha();this.I=0;this.Ta=a.na;this.qb=a.la;this.Be=a.Ib;this.md=a.$a;this.$a=a.L;this.Mc=a.Ta;this.u=0}Kd(Pi,vi);function Ei(a){return a.fa.p.N-a.ba.p.N-a.ab}
Pi.prototype.pg=function(a){var c=this.ba,b=this.fa,d,e=0;d=c.H.B;var h=this.Aa.x-c.p.T.x,f=this.Aa.y-c.p.T.y,e=d.q.x*h+d.r.x*f,f=d.q.y*h+d.r.y*f,h=e;d=b.H.B;var g=this.Ba.x-b.p.T.x,l=this.Ba.y-b.p.T.y,e=d.q.x*g+d.r.x*l,l=d.q.y*g+d.r.y*l,g=e;d=c.O;var e=b.O,n=c.Z,k=b.Z;this.aa.q.x=d+e+f*f*n+l*l*k;this.aa.r.x=-f*h*n-l*g*k;this.aa.j.x=-f*n-l*k;this.aa.q.y=this.aa.r.x;this.aa.r.y=d+e+h*h*n+g*g*k;this.aa.j.y=h*n+g*k;this.aa.q.z=this.aa.j.x;this.aa.r.z=this.aa.j.y;this.aa.j.z=n+k;this.Ib=1/(n+k);this.Mc||
(this.I=0);if(this.$a){var m=b.p.N-c.p.N-this.ab;Math.abs(this.qb-this.Ta)<2*Ld?this.u=3:m<=this.Ta?(1!=this.u&&(this.j.z=0),this.u=1):m>=this.qb?(2!=this.u&&(this.j.z=0),this.u=2):(this.u=0,this.j.z=0)}else this.u=0;a.Hh?(this.j.x*=a.Ac,this.j.y*=a.Ac,this.I*=a.Ac,a=this.j.x,m=this.j.y,c.A.x-=d*a,c.A.y-=d*m,c.J-=n*(h*m-f*a+this.I+this.j.z),b.A.x+=e*a,b.A.y+=e*m,b.J+=k*(g*m-l*a+this.I+this.j.z)):(this.j.Ha(),this.I=0)};
Pi.prototype.rg=function(a){var c=this.ba,b=this.fa,d=0,e=d=0,h=0,f=0,g=0,l=c.A,n=c.J,k=b.A,m=b.J,p=c.O,r=b.O,u=c.Z,t=b.Z;this.Mc&&3!=this.u&&(e=this.Ib*-(m-n-this.md),h=this.I,f=a.Ua*this.Be,this.I=ae(this.I+e,-f,f),e=this.I-h,n-=u*e,m+=t*e);if(this.$a&&0!=this.u){a=c.H.B;e=this.Aa.x-c.p.T.x;h=this.Aa.y-c.p.T.y;d=a.q.x*e+a.r.x*h;h=a.q.y*e+a.r.y*h;e=d;a=b.H.B;f=this.Ba.x-b.p.T.x;g=this.Ba.y-b.p.T.y;d=a.q.x*f+a.r.x*g;g=a.q.y*f+a.r.y*g;f=d;a=k.x+-m*g-l.x- -n*h;var v=k.y+m*f-l.y-n*e;je(this.aa,this.k,
-a,-v,-(m-n));3==this.u?this.j.ng(this.k):1==this.u?(d=this.j.z+this.k.z,0>d&&(ie(this.aa,this.P,-a,-v),this.k.x=this.P.x,this.k.y=this.P.y,this.k.z=-this.j.z,this.j.x+=this.P.x,this.j.y+=this.P.y,this.j.z=0)):2==this.u&&(d=this.j.z+this.k.z,0<d&&(ie(this.aa,this.P,-a,-v),this.k.x=this.P.x,this.k.y=this.P.y,this.k.z=-this.j.z,this.j.x+=this.P.x,this.j.y+=this.P.y,this.j.z=0));l.x-=p*this.k.x;l.y-=p*this.k.y;n-=u*(e*this.k.y-h*this.k.x+this.k.z);k.x+=r*this.k.x;k.y+=r*this.k.y;m+=t*(f*this.k.y-g*this.k.x+
this.k.z)}else a=c.H.B,e=this.Aa.x-c.p.T.x,h=this.Aa.y-c.p.T.y,d=a.q.x*e+a.r.x*h,h=a.q.y*e+a.r.y*h,e=d,a=b.H.B,f=this.Ba.x-b.p.T.x,g=this.Ba.y-b.p.T.y,d=a.q.x*f+a.r.x*g,g=a.q.y*f+a.r.y*g,f=d,ie(this.aa,this.C,-(k.x+-m*g-l.x- -n*h),-(k.y+m*f-l.y-n*e)),this.j.x+=this.C.x,this.j.y+=this.C.y,l.x-=p*this.C.x,l.y-=p*this.C.y,n-=u*(e*this.C.y-h*this.C.x),k.x+=r*this.C.x,k.y+=r*this.C.y,m+=t*(f*this.C.y-g*this.C.x);c.A.S(l);c.J=n;b.A.S(k);b.J=m};
Pi.prototype.qg=function(){var a=0,c,b=this.ba,d=this.fa,e=0,h=c=0,f=0,h=0;if(this.$a&&0!=this.u){var a=d.p.N-b.p.N-this.ab,g=0;3==this.u?(a=ae(a-this.Ta,-Md,Md),g=-this.Ib*a,e=Math.abs(a)):1==this.u?(a-=this.Ta,e=-a,a=ae(a+Ld,-Md,0),g=-this.Ib*a):2==this.u&&(e=a-=this.qb,a=ae(a-Ld,0,Md),g=-this.Ib*a);b.p.N-=b.Z*g;d.p.N+=d.Z*g;ng(b);ng(d)}c=b.H.B;g=this.Aa.x-b.p.T.x;a=this.Aa.y-b.p.T.y;h=c.q.x*g+c.r.x*a;a=c.q.y*g+c.r.y*a;g=h;c=d.H.B;var l=this.Ba.x-d.p.T.x,n=this.Ba.y-d.p.T.y,h=c.q.x*l+c.r.x*n,n=
c.q.y*l+c.r.y*n,l=h,f=d.p.G.x+l-b.p.G.x-g,h=d.p.G.y+n-b.p.G.y-a,k=f*f+h*h;c=Math.sqrt(k);var m=b.O,p=d.O,r=b.Z,u=d.Z;k>.05*.05&&(k=1/(m+p),f=k*-f,h=k*-h,b.p.G.x-=.5*m*f,b.p.G.y-=.5*m*h,d.p.G.x+=.5*p*f,d.p.G.y+=.5*p*h,f=d.p.G.x+l-b.p.G.x-g,h=d.p.G.y+n-b.p.G.y-a);this.L.q.x=m+p;this.L.r.x=0;this.L.q.y=0;this.L.r.y=m+p;this.ca.q.x=r*a*a;this.ca.r.x=-r*g*a;this.ca.q.y=-r*g*a;this.ca.r.y=r*g*g;this.na.q.x=u*n*n;this.na.r.x=-u*l*n;this.na.q.y=-u*l*n;this.na.r.y=u*l*l;de(this.la,this.L);m=this.la;p=this.ca;
m.q.ng(p.q);m.r.ng(p.r);m=this.la;p=this.na;m.q.ng(p.q);m.r.ng(p.r);fe(this.la,Qi,-f,-h);f=Qi.x;h=Qi.y;b.p.G.x-=b.O*f;b.p.G.y-=b.O*h;b.p.N-=b.Z*(g*h-a*f);d.p.G.x+=d.O*f;d.p.G.y+=d.O*h;d.p.N+=d.Z*(l*h-n*f);ng(b);ng(d);return.005>=c&&e<=Ld};var Qi=V(0,0);function Ri(){xi.call(this);this.C=V(0,0);this.I=V(0,0);this.type=1;this.C.Ha();this.I.Ha();this.$a=this.Ib=this.la=this.na=this.ca=0;this.Ta=this.L=!1}Kd(Ri,xi);
function Si(a,c,b,d){a.j=c;a.k=b;a.C=Zd(a.j.H,d);a.I=Zd(a.k.H,d);a.ca=a.k.Ni()-a.j.Ni()}Ri.prototype.u=function(){return new Pi(this)};function Ti(a){vi.call(this,a);this.k=V(0,0);this.u=V(0,0);this.j=new he(0,0,0);this.aa=new ge;this.k.S(a.C);this.u.S(a.I);this.C=a.L}Kd(Ti,vi);
Ti.prototype.pg=function(a){var c,b=0,d=this.ba,e=this.fa;c=d.H.B;var h=this.k.x-d.p.T.x,f=this.k.y-d.p.T.y,b=c.q.x*h+c.r.x*f,f=c.q.y*h+c.r.y*f,h=b;c=e.H.B;var g=this.u.x-e.p.T.x,l=this.u.y-e.p.T.y,b=c.q.x*g+c.r.x*l,l=c.q.y*g+c.r.y*l,g=b;c=d.O;var b=e.O,n=d.Z,k=e.Z;this.aa.q.x=c+b+f*f*n+l*l*k;this.aa.r.x=-f*h*n-l*g*k;this.aa.j.x=-f*n-l*k;this.aa.q.y=this.aa.r.x;this.aa.r.y=c+b+h*h*n+g*g*k;this.aa.j.y=h*n+g*k;this.aa.q.z=this.aa.j.x;this.aa.r.z=this.aa.j.y;this.aa.j.z=n+k;a.Hh?(this.j.x*=a.Ac,this.j.y*=
a.Ac,this.j.z*=a.Ac,d.A.x-=c*this.j.x,d.A.y-=c*this.j.y,d.J-=n*(h*this.j.y-f*this.j.x+this.j.z),e.A.x+=b*this.j.x,e.A.y+=b*this.j.y,e.J+=k*(g*this.j.y-l*this.j.x+this.j.z)):this.j.Ha()};
Ti.prototype.rg=function(){var a,c=0,b=this.ba,d=this.fa,e=b.A,h=b.J,f=d.A,g=d.J,l=b.O,n=d.O,k=b.Z,m=d.Z;a=b.H.B;var p=this.k.x-b.p.T.x,r=this.k.y-b.p.T.y,c=a.q.x*p+a.r.x*r,r=a.q.y*p+a.r.y*r,p=c;a=d.H.B;var u=this.u.x-d.p.T.x,t=this.u.y-d.p.T.y,c=a.q.x*u+a.r.x*t,t=a.q.y*u+a.r.y*t,u=c;a=new he(0,0,0);je(this.aa,a,-(f.x-g*t-e.x+h*r),-(f.y+g*u-e.y-h*p),-(g-h));this.j.ng(a);e.x-=l*a.x;e.y-=l*a.y;h-=k*(p*a.y-r*a.x+a.z);f.x+=n*a.x;f.y+=n*a.y;g+=m*(u*a.y-t*a.x+a.z);b.J=h;d.J=g};
Ti.prototype.qg=function(){var a,c=0,b=this.ba,d=this.fa;a=b.H.B;var e=this.k.x-b.p.T.x,h=this.k.y-b.p.T.y,c=a.q.x*e+a.r.x*h,h=a.q.y*e+a.r.y*h,e=c;a=d.H.B;var f=this.u.x-d.p.T.x,g=this.u.y-d.p.T.y,c=a.q.x*f+a.r.x*g,g=a.q.y*f+a.r.y*g,f=c;a=b.O;var c=d.O,l=b.Z,n=d.Z,k=d.p.G.x+f-b.p.G.x-e,m=d.p.G.y+g-b.p.G.y-h,p=d.p.N-b.p.N-this.C,r=Math.sqrt(k*k+m*m),u=Math.abs(p);.05<r&&(l*=1,n*=1);this.aa.q.x=a+c+h*h*l+g*g*n;this.aa.r.x=-h*e*l-g*f*n;this.aa.j.x=-h*l-g*n;this.aa.q.y=this.aa.r.x;this.aa.r.y=a+c+e*e*
l+f*f*n;this.aa.j.y=e*l+f*n;this.aa.q.z=this.aa.j.x;this.aa.r.z=this.aa.j.y;this.aa.j.z=l+n;var t=new he(0,0,0);je(this.aa,t,-k,-m,-p);b.p.G.x-=a*t.x;b.p.G.y-=a*t.y;b.p.N-=l*(e*t.y-h*t.x+t.z);d.p.G.x+=c*t.x;d.p.G.y+=c*t.y;d.p.N+=n*(f*t.y-g*t.x+t.z);ng(b);ng(d);return.005>=r&&u<=Ld};function Ui(){xi.call(this);this.C=V(0,0);this.I=V(0,0);this.type=8;this.L=0}Kd(Ui,xi);Ui.prototype.u=function(){return new Ti(this)};
var Sh=[new Se,new Se],mi=[new Se,new Se],ni=[new Se,new Se],Th=V(0,0),Vh=V(0,0),$h=V(0,0),gi=V(0,0),ei=V(0,0),fi=V(0,0),hi=V(0,0),li=V(0,0),mh=0,sh=0,th=0,qh=0,rh=0,nh=new Uf,oh=new hf,Ef=new Be,Jf=new Be,yf=new function(){this.Na=V(0,0);this.j=V(0,0)},ph=new jf,mg=new Be,Fg=new Dg;new function(){this.position=V(0,0);V(0,0);V(0,0);this.id=new Qe};new Be;
var uh=new ke,vh=new ke,lh=new Vf,Ph=new function(){this.j=V(0,0);this.Da=[];for(var a=this.ic=0;2>a;a++)this.Da[a]=V(0,0)},Rh=new function(){this.j=V(0,0);this.k=[];this.Da=[];for(var a=0;2>a;a++)this.Da[a]=V(0,0)};function Vi(a,c,b,d,e,h){var f;if(f=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=h-.1||d-.1<=c&&c<=h+.1))f=.1<Math.abs(e-b)?.1>Math.abs((h-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return f}
function Wi(a,c){var b=Xi(a),d=[],e,h,f,g,l,n,k,m,p;l=0;for(n=b.length;l<n;l++){h=b[l];e=[];e.length=h.length;k=p=0;for(m=h.length;k<m;k++)f=h[k],g=h[(k+1)%m],p+=f.x*g.y-f.y*g.x,e[k]=V(f.x,f.y);p=Math.abs(p/2);p>=.001*c&&d.push(e)}return d}
function Xi(a){var c=[],b=0,d=0,e=0,h=0,f=0,g=f=0,l=0,n=0,k=0,h=0,m,p,r,u,t,v=h=b=0,q=0,e=[],l=[],x=!1,B=[],E=[];for(E.push(a);E.length;){c=E[0];d=c.length;x=!0;for(b=0;b<d;b++)if(n=b,k=b<d-1?b+1:b+1-d,h=b<d-2?b+2:b+2-d,a=c[n],m=c[k],p=c[h],h=a.x,e=a.y,l=m.x,f=m.y,g=p.x,p=p.y,h=h*f+l*p+g*e-e*l-f*g-p*h,0>h){x=!1;l=1E9;for(e=0;e<d;e++)if(e!==n&&e!==k){b=e;h=e<d-1?e+1:0;r=c[b];u=c[h];g=a.x;p=a.y;var A=m.x,D=m.y,f=r.x;r=r.y;var C=u.x;u=u.y;var w=A-g,y=D-p,H=C-f,I=u-r,H=(H*(r-p)-I*(f-g))/(y*H-w*I),w=g+
H*w,y=p+H*y,g=Vi(A,D,g,p,w,y),f=Vi(w,y,f,r,C,u);if(p=g&&f?V(w,y):null)f=m.x-p.x,g=m.y-p.y,f=f*f+g*g,f<l&&(q=b,v=h,t=p,l=f)}if(1E9===l)return[];e=[];l=[];b=q;h=v;r=c[b];u=c[h];v=t.y;q=u.y;.1>Math.abs(u.x-t.x)&&.1>Math.abs(q-v)||e.push(t);v=t.y;q=r.y;.1>Math.abs(r.x-t.x)&&.1>Math.abs(q-v)||l.push(t);q=-1;for(v=n;;){if(v!==h)e.push(c[v]);else{if(0>q||q>=d)return[];Vi(u.x,u.y,c[q].x,c[q].y,a.x,a.y)||e.push(c[v]);break}q=v;0>v-1?v=d-1:v--}e.reverse();q=-1;for(v=k;;){if(v!==b)l.push(c[v]);else{if(0>q||
q>=d)return[];v!==b||Vi(r.x,r.y,c[q].x,c[q].y,m.x,m.y)||l.push(c[v]);break}q=v;v+1>d-1?v=0:v++}E.push(e,l);E.shift();break}x&&B.push(E.shift())}return B}
function cj(a){for(var c=0;4E3>c;c++)De.push(new Ce(0,0));this.i=a;this.ze=new Rg(V(0,10),!0);this.bt=-1;a=new Dg;a.behavior=this;a.BeginContact=function(a){this.behavior.i.Ij(a.tc.ob().wg.n,a.hc.ob().wg.n)};this.ze.j.k=a;a=new Ag;a.behavior=this;a.j=function(a,c){if(this.behavior.PB)return!0;var e=a.ob().wg.n.type,h=c.ob().wg.n.type,f=e.ja.Physics_DisabledCollisions;return f&&f.contains(h)?!1:(f=h.ja.Physics_DisabledCollisions)&&f.contains(e)?!1:!0};this.ze.j.u=a;this.LF=0;this.Jn=8;this.$m=3;this.PB=
!0}
(function(){function a(){}var c=cj.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.ka=function(){};c.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.ze=this.behavior.ze};var b=c.qa.prototype;b.ka=function(){this.Ds=0!==this.R[0];this.Pv=this.R[1];this.Qt=0!==this.R[2];this.Xh=this.R[3];this.bi=this.R[4];this.Bi=this.R[5];this.Ik=this.R[6];this.bk=this.R[7];this.dk=0!==this.R[8];this.enabled=0!==this.R[9];this.body=null;this.n.Wa();this.qp=this.n.x;this.rp=
this.n.y;this.rc=this.n.K;this.Ys=this.ct=0;this.qy=this.$s=!1;this.Vs=null;this.Ws=-1;this.Ke?(this.Ke.length=0,this.Gf.length=0,this.lh.clear()):(this.Ke=[],this.Gf=[],this.lh=new da);var a=this;this.ud||(this.si=function(b){a.Ej(b)});this.i.$j(this.si)};b.gy=function(){this.n.Wa();this.vo();this.Vs=this.n.Mb;this.Ws=this.n.za};b.ff=function(){this.Fo();this.Gf.length=0;this.lh.clear();this.body&&(Vg(this.ze,this.body),this.body=null);this.i.Zt(this.si)};b.Sb=function(){var a={e:this.enabled,im:this.Ds,
pr:this.Qt,d:this.Xh,fr:this.bi,re:this.Bi,ld:this.Ik,ad:this.bk,b:this.dk,mcj:this.Gf};if(this.enabled){var b=V(0,0);b.S(this.body.A);a.vx=b.x;a.vy=b.y;a.om=this.body.J}return a};b.Wb=function(a){this.Fo();this.Gf.length=0;this.lh.clear();this.body&&(Vg(this.ze,this.body),this.body=null);this.enabled=a.e;this.Ds=a.im;this.Qt=a.pr;this.Xh=a.d;this.bi=a.fr;this.Bi=a.re;this.Ik=a.ld;this.bk=a.ad;this.dk=a.b;this.qp=this.n.x;this.rp=this.n.y;this.rc=this.n.K;this.ct=this.n.width;this.Ys=this.n.height;
this.enabled&&(this.vo(),hg(this.body,V(a.vx,a.vy)),this.body.Wn(a.om),0===a.vx&&0===a.vy&&0===a.om||ig(this.body,!0),this.Gf=a.mcj)};b.Se=function(){this.enabled&&this.Yt();this.behavior.bt=this.i.lf-1};b.Ej=function(a){var b,c,d,l=a.uid;d=b=0;for(c=this.Gf.length;b<c;b++)this.Gf[d]=this.Gf[b],d<this.Ke.length&&(this.Ke[d]=this.Ke[b]),this.Gf[b].Eb[1]==l?Wg(this.ze,this.Ke[b]):d++;this.Gf.length=d;d<this.Ke.length&&(this.Ke.length=d);this.lh.remove(a)};b.Fo=function(){var a,b;a=0;for(b=this.Ke.length;a<
b;a++)Wg(this.ze,this.Ke[a]);this.Ke.length=0};b.Yt=function(){var a,b,c;a=0;for(b=this.Gf.length;a<b;a++)switch(c=this.Gf[a],c.type){case 0:this.oC(c.Eb[0],c.Eb[1],c.Eb[2],c.Eb[3],c.Eb[4]);break;case 1:this.qC(c.Eb[0],c.Eb[1]);break;case 2:this.pC(c.Eb[0],c.Eb[1],c.Eb[2],c.Eb[3])}};b.Yv=function(){this.body&&(this.Fo(),Vg(this.ze,this.body),this.body=null,this.n.ja.tf=null)};var d=[];b.vo=function(){if(this.enabled){var a=this.n,b=!1,c=null,g=null,l,n,k,m,p,r,u,t,v,q,x,B,E;if(this.body){b=!0;c=V(0,
0);c.S(this.body.A);g=this.body.J;t=this.lh.lg();l=0;for(n=t.length;l<n;l++)v=t[l].ja.tf.wg,v.Fo();this.Yv()}v=new Lg;v.Xh=this.Xh;v.bi=this.bi;v.Bi=this.Bi;l=new pg;l.type=this.Ds?0:2;a.Wa();l.position.x=.02*a.Jb.qi();l.position.y=.02*a.Jb.ri();l.K=a.K;l.j=this.Qt;l.Ik=this.Ik;l.bk=this.bk;l.dk=this.dk;t=this.n.Pa&&!this.n.Pa.fi();this.body=Tg(this.ze,l);this.body.wg=this;l=this.Pv;t||this.n.Ug||0!==this.Pv||(l=1);n=Math.max(Math.abs(a.width),1);k=Math.max(Math.abs(a.height),1);q=0>a.width;x=0>a.height;
if(0===l)if(a.Ug)for(B=a.Jb.qi()-a.x,u=a.Jb.ri()-a.y,a.CD(d),t=[],l=0,n=d.length;l<n;++l){q=d[l];x=q.tb;if(q.sd){if(!q.sd.to){p=q.sd.Fb;m=q.sd.be;for(k=0;k<m;++k)t.push(V(p[2*k],p[2*k+1]));k=q.id&3758096384;(-2147483648===k||1073741824===k||536870912===k||k&-2147483648&&k&1073741824&&k&536870912)&&t.reverse();q.sd.to=Wi(t,(x.right-x.left)*(x.bottom-x.top));k=0;for(m=t.length;k<m;++k)Ee(t[k]);t.length=0}k=0;for(m=q.sd.to.length;k<m;++k){E=q.sd.to[k];p=0;for(r=E.length;p<r;++p)t.push(V(.02*(x.left+
E[p].x-B),.02*(x.top+E[p].y-u)));v.shape=new Me;Oe(v.shape,t);ag(this.body,v);p=0;for(r=t.length;p<r;++p)Ee(t[p]);t.length=0}}else t.push(V(.02*(x.left-B),.02*(x.top-u))),t.push(V(.02*(x.right-B),.02*(x.top-u))),t.push(V(.02*(x.right-B),.02*(x.bottom-u))),t.push(V(.02*(x.left-B),.02*(x.bottom-u))),v.shape=new Me,Oe(v.shape,t),ag(this.body,v);k=0;for(m=t.length;k<m;++k)Ee(t[k]);t.length=0}else{l=a.K;a.K=0;a.X();a.Wa();B=a.Jb.qi()-a.x;u=a.Jb.ri()-a.y;a.K=l;a.X();a.Pa.$g(q?-n:n,x?-k:k,0);p=a.Pa.Fb;m=
a.Pa.be;t=[];t.length=m;for(l=0;l<m;l++)t[l]=V(p[2*l]-B,p[2*l+1]-u);q!==x&&t.reverse();B=Wi(t,n*k);for(l=0;l<m;l++)Ee(t[l]);if(B.length)for(l=0,n=B.length;l<n;l++){t=B[l];k=0;for(m=t.length;k<m;k++)u=t[k],u.x*=.02,u.y*=.02;v.shape=new Me;Oe(v.shape,t);ag(this.body,v);k=0;for(m=t.length;k<m;k++)Ee(t[k])}else v.shape=new Me,Pe(v.shape,.01*n,.01*k),ag(this.body,v)}else 1===l?(v.shape=new Me,Pe(v.shape,.01*n,.01*k)):v.shape=new Je(.01*Math.min(n,k)),ag(this.body,v);a.ja.tf=this.body;this.ct=a.width;this.Ys=
a.height;if(b)for(hg(this.body,c),this.body.Wn(g),Ee(c),this.Yt(),t=this.lh.lg(),l=0,n=t.length;l<n;l++)v=t[l].ja.tf.wg,v.Yt();d.length=0}};b.wb=function(){if(this.enabled){var a=this.n,b;0===this.behavior.LF?b=this.i.ig/60:(b=this.i.Dg(this.n),b>1/30&&(b=1/30));if(this.i.lf>this.behavior.bt&&0<this.i.ig){this.ze.Nh(b,this.behavior.Jn,this.behavior.$m);for(b=this.ze.Mi.pb(tg);b;b=b.gb())b.body.k.Ha(),b.body.C=0;this.behavior.bt=this.i.lf}if(this.qy||a.width!==this.ct||a.height!==this.Ys||a.Mb!==this.Vs||
a.za!==this.Ws||a.Ug&&a.xi)this.vo(),this.qy=!1,this.Vs=a.Mb,this.Ws=a.za,a.Ug&&a.xi&&(a.xi=!1);b=a.K!==this.rc;if(a.x!==this.qp||a.y!==this.rp){a.Wa();var c=a.Jb.qi(),d=a.Jb.ri(),l=c-this.qp,n=d-this.rp,k=this.body,c=V(.02*c,.02*d);eg(k,c,k.Ni());hg(this.body,V(l,n));this.$s=!0;ig(this.body,!0)}else this.$s&&(this.$s=!1,hg(this.body,V(0,0)),l=this.body,n=V(.02*a.Jb.qi(),.02*a.Jb.ri()),eg(l,n,l.Ni()));b&&(this.body.rv(a.K),ig(this.body,!0));l=this.body.H.position;b=l.x/.02;l=l.y/.02;n=this.body.Ni();
if(b!==a.x||l!==a.y||n!==a.K)if(a.x=b,a.y=l,a.K=n,a.X(),a.Wa(),b=a.Jb.qi()-a.x,l=a.Jb.ri()-a.y,0!==b||0!==l)a.x-=b,a.y-=l,a.X();this.qp=a.x;this.rp=a.y;this.rc=a.K}};b.Yo=function(a){return-1!==a&&this.n.zf?0===a&&this.body?(this.body.H.position.x+this.body.p.T.x)/.02:this.n.zf(a,!0):this.n.x};b.Zo=function(a){return-1!==a&&this.n.zf?0===a&&this.body?(this.body.H.position.y+this.body.p.T.y)/.02:this.n.zf(a,!1):this.n.y};c.D=new function(){};a.prototype.Li=function(a,b,c){if(this.enabled){var d=this.Yo(c);
c=this.Zo(c);this.body.Li(V(a,b),V(.02*d,.02*c))}};a.prototype.Xq=function(a){this.enabled&&this.body.Xq(Pa(a))};a.prototype.Wn=function(a){this.enabled&&(this.body.Wn(Pa(a)),ig(this.body,!0))};b.oC=function(a,b,c,d,l){if(this.enabled){var n=this.i.Yf(b);if(n&&n!=this.n&&n.ja.tf){n.ja.tf.wg.lh.add(this.n);var k=this.Yo(a),m=this.Zo(a),p,r;n.zf?(p=n.zf(c,!0),r=n.zf(c,!1)):(p=n.x,r=n.y);c=k-p;a=m-r;b=new zi;n=n.ja.tf;k=V(.02*k,.02*m);p=V(.02*p,.02*r);b.j=this.body;b.k=n;b.L.S(Zd(b.j.H,k));b.ca.S(Zd(b.k.H,
p));n=p.x-k.x;k=p.y-k.y;b.length=Math.sqrt(n*n+k*k);b.I=0;b.C=0;b.length=.02*Math.sqrt(c*c+a*a);b.C=d;b.I=l;this.Ke.push(Xg(this.ze,b))}}};b.qC=function(a,b){if(this.enabled){var c=this.i.Yf(b);if(c&&c!=this.n&&c.ja.tf){c.ja.tf.wg.lh.add(this.n);var d=this.Yo(a),l=this.Zo(a),n=new Ri;Si(n,this.body,c.ja.tf,V(.02*d,.02*l));this.Ke.push(Xg(this.ze,n))}}};b.pC=function(a,b,c,d){if(this.enabled&&(b=this.i.Yf(b))&&b!=this.n&&b.ja.tf){b.ja.tf.wg.lh.add(this.n);var l=this.Yo(a);a=this.Zo(a);var n=new Ri;
Si(n,this.body,b.ja.tf,V(.02*l,.02*a));n.L=!0;n.na=Pa(c);n.la=Pa(d);this.Ke.push(Xg(this.ze,n))}};a.prototype.qf=function(a){this.enabled&&0===a?(this.Yv(),this.enabled=!1):this.enabled||1!==a||(this.enabled=!0,this.vo())};c.da=new a;c.La=new function(){}})();function ej(a){this.i=a}
(function(){function a(){}var c=ej.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.ka=function(){};c.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.qa.prototype;b.ka=function(){this.Tc=null;this.Zp=-1;this.mode=this.rc=this.Fq=this.Qk=this.xh=this.Zm=0;var a=this;this.ud||(this.si=function(b){a.Ej(b)});this.i.$j(this.si)};b.Sb=function(){return{uid:this.Tc?this.Tc.uid:-1,pa:this.Zm,pd:this.xh,msa:this.Qk,tsa:this.Fq,lka:this.rc,m:this.mode}};
b.Wb=function(a){this.Zp=a.uid;this.Zm=a.pa;this.xh=a.pd;this.Qk=a.msa;this.Fq=a.tsa;this.rc=a.lka;this.mode=a.m};b.Se=function(){-1===this.Zp?this.Tc=null:this.Tc=this.i.Yf(this.Zp);this.Zp=-1};b.Ej=function(a){this.Tc==a&&(this.Tc=null)};b.ff=function(){this.Tc=null;this.i.Zt(this.si)};b.wb=function(){};b.cl=function(){if(this.Tc){this.rc!==this.n.K&&(this.Qk=Ta(this.Qk+(this.n.K-this.rc)));var a=this.n.x,b=this.n.y;if(3===this.mode||4===this.mode){var c=db(this.n.x,this.n.y,this.Tc.x,this.Tc.y);
if(c>this.xh||4===this.mode&&c<this.xh)b=Xa(this.Tc.x,this.Tc.y,this.n.x,this.n.y),a=this.Tc.x+Math.cos(b)*this.xh,b=this.Tc.y+Math.sin(b)*this.xh}else a=this.Tc.x+Math.cos(this.Tc.K+this.Zm)*this.xh,b=this.Tc.y+Math.sin(this.Tc.K+this.Zm)*this.xh;this.rc=c=Ta(this.Qk+(this.Tc.K-this.Fq));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.n.x===a&&this.n.y===b||(this.n.x=a,this.n.y=b,this.n.X());0!==this.mode&&2!==this.mode||this.n.K===c||(this.n.K=c,this.n.X())}};c.D=new function(){};
a.prototype.jB=function(a,b){if(a){var c=a.Tl(this.n);c&&(this.Tc=c,this.Zm=Xa(c.x,c.y,this.n.x,this.n.y)-c.K,this.xh=db(c.x,c.y,this.n.x,this.n.y),this.rc=this.Qk=this.n.K,this.Fq=c.K,this.mode=b)}};c.da=new a;c.La=new function(){}})();function fj(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=fj.prototype;d.xa=function(a){this.behavior=a;this.i=a.i};d.xa.prototype.ka=function(){};d.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.vn=this.xq=this.wq=this.Bs=this.yl=this.Gl=this.Ck=this.Dk=this.pn=this.Hm=!1;this.Yd=null;this.it=-1;this.qj=this.pj=0;this.So=!1;this.ai=this.Sf=0;this.Po=!0;this.ea=this.Y=0};var e=d.qa.prototype;e.pz=function(){this.yc=Math.cos(this.mk);this.zc=Math.sin(this.mk);this.Jj=
Math.cos(this.mk-Math.PI/2);this.Kj=Math.sin(this.mk-Math.PI/2);this.yc=Qb(this.yc);this.zc=Qb(this.zc);this.Jj=Qb(this.Jj);this.Kj=Qb(this.Kj);this.gs=this.Fe;0>this.Fe&&(this.yc*=-1,this.zc*=-1,this.Fe=Math.abs(this.Fe))};e.ka=function(){this.Ok=this.R[0];this.he=this.R[1];this.zg=this.R[2];this.wm=this.R[3];this.gs=this.Fe=this.R[4];this.Ip=this.R[5];this.Tr=0!==this.R[6];this.Us=this.R[7]/1E3;this.iC=1===this.R[8];this.enabled=0!==this.R[9];this.kl=!1;this.ll=this.i.Tg(this.n);this.jt=-1;this.Qj=
0;this.mk=Pa(90);this.pz();var a=this;this.iC&&!this.i.Ya&&(jQuery(document).keydown(function(b){a.Et(b)}),jQuery(document).keyup(function(b){a.Ft(b)}));this.ud||(this.si=function(b){a.Ej(b)});this.i.$j(this.si);this.n.ja.isPlatformBehavior=!0};e.Sb=function(){return{ii:this.Bs,lfx:this.pj,lfy:this.qj,lfo:this.Yd?this.Yd.uid:-1,am:this.Sf,en:this.enabled,fall:this.ai,ft:this.Po,dx:this.Y,dy:this.ea,ms:this.Ok,acc:this.he,dec:this.zg,js:this.wm,g:this.Fe,g1:this.gs,mf:this.Ip,wof:this.kl,woj:this.ll?
this.ll.uid:-1,ga:this.mk,edj:this.Tr,cdj:this.yl,dj:this.Gl,sus:this.Us}};e.Wb=function(a){this.Bs=a.ii;this.pj=a.lfx;this.qj=a.lfy;this.it=a.lfo;this.Sf=a.am;this.enabled=a.en;this.ai=a.fall;this.Po=a.ft;this.Y=a.dx;this.ea=a.dy;this.Ok=a.ms;this.he=a.acc;this.zg=a.dec;this.wm=a.js;this.Fe=a.g;this.gs=a.g1;this.Ip=a.mf;this.kl=a.wof;this.jt=a.woj;this.mk=a.ga;this.Tr=a.edj;this.yl=a.cdj;this.Gl=a.dj;this.Us=a.sus;this.vn=this.xq=this.wq=this.Ck=this.Dk=this.pn=this.Hm=!1;this.Qj=0;this.pz()};e.Se=
function(){-1===this.it?this.Yd=null:this.Yd=this.i.Yf(this.it);-1===this.jt?this.ll=null:this.ll=this.i.Yf(this.jt)};e.Ej=function(a){this.Yd==a&&(this.Yd=null)};e.ff=function(){this.Yd=null;this.i.Zt(this.si)};e.Et=function(a){switch(a.which){case 38:a.preventDefault();this.Dk=!0;break;case 37:a.preventDefault();this.Hm=!0;break;case 39:a.preventDefault(),this.pn=!0}};e.Ft=function(a){switch(a.which){case 38:a.preventDefault();this.Ck=this.Dk=!1;break;case 37:a.preventDefault();this.Hm=!1;break;
case 39:a.preventDefault(),this.pn=!1}};e.Fj=function(){this.Dk=this.pn=this.Hm=!1};e.j=function(){return 0>this.Fe?-1:1};e.Ow=function(){var a=null,b=null,c,d;c=this.n.x;d=this.n.y;this.n.x+=this.yc;this.n.y+=this.zc;this.n.X();if(this.Yd&&this.i.Ld(this.n,this.Yd))return this.n.x=c,this.n.y=d,this.n.X(),this.Yd;(a=this.i.jd(this.n))||0!==this.ai||(b=this.i.Tg(this.n,!0));this.n.x=c;this.n.y=d;this.n.X();if(a){if(this.i.Ld(this.n,a))return null;this.So=!1;return a}if(b&&b.length){d=a=0;for(c=b.length;a<
c;a++)b[d]=b[a],this.i.Ld(this.n,b[a])||d++;if(1<=d)return this.So=!0,b[0]}return null};e.wb=function(){};e.hy=function(){var a=this.i.Dg(this.n),b,c,d,e,k,m,p,r,u;this.Dk||this.vn||(this.Ck=!1);var t=this.Hm||this.wq;d=this.pn||this.xq;var v=(e=this.Dk||this.vn)&&!this.Ck;this.vn=this.xq=this.wq=!1;if(this.enabled){this.Bs&&(v=e=d=t=!1);e||(this.Qj=0);r=this.Yd;u=!1;this.Po&&((this.i.jd(this.n)||this.i.Tg(this.n))&&this.i.If(this.n,-this.yc,-this.zc,4,!0),this.Po=!1);!r||0!==this.ea||r.y===this.qj&&
r.x===this.pj||(b=r.x-this.pj,c=r.y-this.qj,this.n.x+=b,this.n.y+=c,this.n.X(),this.pj=r.x,this.qj=r.y,u=!0,this.i.jd(this.n)&&this.i.If(this.n,-b,-c,2.5*Math.sqrt(b*b+c*c)));var q=this.Ow();if(c=this.i.jd(this.n))if(this.n.ja.inputPredicted)this.i.If(this.n,-this.yc,-this.zc,10,!1);else if(this.i.ny(this.n,Math.max(this.n.width,this.n.height)/2))this.i.Ij(this.n,c);else return;q?(this.yl=this.Gl=!1,0<this.ea&&(this.kl||(this.i.Tt(this.n,-this.yc,-this.zc,q),this.kl=!0),this.ea=0),r!=q)?(this.Yd=
q,this.pj=q.x,this.qj=q.y,this.i.Ij(this.n,q)):u&&(c=this.i.jd(this.n))&&(this.i.Ij(this.n,c),0!==b&&(0<b?this.i.If(this.n,-this.Jj,-this.Kj):this.i.If(this.n,this.Jj,this.Kj)),this.i.If(this.n,-this.yc,-this.zc)):e||(this.yl=!0);if(q&&v||!q&&this.Tr&&e&&this.yl&&!this.Gl)r=this.n.x,u=this.n.y,this.n.x-=this.yc,this.n.y-=this.zc,this.n.X(),this.i.jd(this.n)?v=!1:(this.Qj=this.Us,this.i.trigger(fj.prototype.D.HA,this.n),this.Sf=2,this.ea=-this.wm,v=!0,q?this.Ck=!0:this.Gl=!0),this.n.x=r,this.n.y=u,
this.n.X();q||(e&&0<this.Qj?(this.ea=-this.wm,this.Qj-=a):(this.Yd=null,this.ea+=this.Fe*a,this.ea>this.Ip&&(this.ea=this.Ip)),v&&(this.Ck=!0));this.kl=!!q;t==d&&(0>this.Y?(this.Y+=this.zg*a,0<this.Y&&(this.Y=0)):0<this.Y&&(this.Y-=this.zg*a,0>this.Y&&(this.Y=0)));t&&!d&&(this.Y=0<this.Y?this.Y-(this.he+this.zg)*a:this.Y-this.he*a);d&&!t&&(this.Y=0>this.Y?this.Y+(this.he+this.zg)*a:this.Y+this.he*a);this.Y>this.Ok?this.Y=this.Ok:this.Y<-this.Ok&&(this.Y=-this.Ok);t=!1;0!==this.Y&&(r=this.n.x,u=this.n.y,
b=this.Y*a*this.Jj,c=this.Y*a*this.Kj,this.n.x+=this.Jj*(1<this.Y?1:-1)-this.yc,this.n.y+=this.Kj*(1<this.Y?1:-1)-this.zc,this.n.X(),e=!1,k=this.i.jd(this.n),this.n.x=r+b,this.n.y=u+c,this.n.X(),d=this.i.jd(this.n),!d&&q&&(d=this.i.Tg(this.n))&&(this.n.x=r,this.n.y=u,this.n.X(),this.i.Ld(this.n,d)?(d=null,e=!1):e=!0,this.n.x=r+b,this.n.y=u+c,this.n.X()),d?(b=Math.abs(this.Y*a)+2,k||!this.i.If(this.n,-this.yc,-this.zc,b,e,d))?(this.i.Ij(this.n,d),b=Math.max(Math.abs(this.Y*a*2.5),30),this.i.If(this.n,
this.Jj*(0>this.Y?1:-1),this.Kj*(0>this.Y?1:-1),b,!1)?!q||e||this.So||(r=this.n.x,u=this.n.y,this.n.x+=this.yc,this.n.y+=this.zc,this.i.jd(this.n)?this.i.If(this.n,-this.yc,-this.zc,3,!1)||(this.n.x=r,this.n.y=u,this.n.X()):(this.n.x=r,this.n.y=u,this.n.X())):(this.n.x=r,this.n.y=u,this.n.X()),e||(this.Y=0)):!k&&!v&&Math.abs(this.ea)<Math.abs(this.wm/4)&&(this.ea=0,q||(t=!0)):(r=this.Ow(),q&&!r?(c=Math.ceil(Math.abs(this.Y*a))+2,r=this.n.x,u=this.n.y,this.n.x+=this.yc*c,this.n.y+=this.zc*c,this.n.X(),
this.i.jd(this.n)||this.i.Tg(this.n)?this.i.If(this.n,-this.yc,-this.zc,c+2,!0):(this.n.x=r,this.n.y=u,this.n.X())):r&&0===this.ea&&this.i.Tt(this.n,-this.yc,-this.zc,r)));if(0!==this.ea){r=this.n.x;u=this.n.y;this.n.x+=this.ea*a*this.yc;this.n.y+=this.ea*a*this.zc;b=this.n.x;d=this.n.y;this.n.X();c=this.i.jd(this.n);e=!1;if(!c&&0<this.ea&&!q){if((e=0<this.ai?null:this.i.Tg(this.n,!0))&&e.length){if(this.ll){this.n.x=r;this.n.y=u;this.n.X();p=k=0;for(m=e.length;k<m;k++)e[p]=e[k],this.i.Ld(this.n,
e[k])||p++;e.length=p;this.n.x=b;this.n.y=d;this.n.X()}1<=e.length&&(c=e[0])}e=!!c}c&&(this.i.Ij(this.n,c),this.Qj=0,b=e?Math.abs(this.ea*a*2.5+10):Math.max(Math.abs(this.ea*a*2.5+10),30),this.i.If(this.n,this.yc*(0>this.ea?1:-1),this.zc*(0>this.ea?1:-1),b,e,c)?(this.Yd=c,this.pj=c.x,this.qj=c.y,(this.So=e)&&(t=!0),this.ea=0):(this.n.x=r,this.n.y=u,this.n.X(),this.kl=!0,e||(this.ea=0)))}3!==this.Sf&&0<this.ea&&!q&&(this.i.trigger(fj.prototype.D.BA,this.n),this.Sf=3);if(q||t)3===this.Sf||t||v&&0===
this.ea?(this.i.trigger(fj.prototype.D.cv,this.n),this.Sf=0===this.Y&&0===this.ea?0:1):(0!==this.Sf&&0===this.Y&&0===this.ea&&(this.i.trigger(fj.prototype.D.pv,this.n),this.Sf=0),1===this.Sf||0===this.Y&&0===this.ea||v||(this.i.trigger(fj.prototype.D.LA,this.n),this.Sf=1));0<this.ai&&this.ai--;this.ll=this.i.Tg(this.n)}};a.prototype.eA=function(){if(0!==this.ea)return!1;var a=null,b=null,c,d;c=this.n.x;d=this.n.y;this.n.x+=this.yc;this.n.y+=this.zc;this.n.X();(a=this.i.jd(this.n))||0!==this.ai||(b=
this.i.Tg(this.n,!0));this.n.x=c;this.n.y=d;this.n.X();if(a)return!this.i.Ld(this.n,a);if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.i.Ld(this.n,b[a])||d++;if(1<=d)return!0}return!1};a.prototype.HA=function(){return!0};a.prototype.BA=function(){return!0};a.prototype.pv=function(){return!0};a.prototype.LA=function(){return!0};a.prototype.cv=function(){return!0};d.D=new a;c.prototype.zB=function(a){switch(a){case 0:this.wq=!0;break;case 1:this.xq=!0;break;case 2:this.vn=!0}};c.prototype.qf=
function(a){this.enabled!==(1===a)&&(this.enabled=1===a,this.enabled||(this.Yd=null))};c.prototype.Uz=function(){var a=this.n.x,b=this.n.y;this.n.x+=this.yc;this.n.y+=this.zc;this.n.X();var c=this.i.Tg(this.n,!1);this.n.x=a;this.n.y=b;this.n.X();c&&(this.ai=3,this.Yd=null)};d.da=new c;b.prototype.Xn=function(a){a.ua(Math.sqrt(this.Y*this.Y+this.ea*this.ea))};d.La=new b})();function ij(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=ij.prototype;d.xa=function(a){this.behavior=a;this.i=a.i};d.xa.prototype.ka=function(){};d.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.Wi=this.ea=this.Y=0};var e=d.qa.prototype;e.ka=function(){this.al=this.R[0];this.Vt=this.R[1];this.enabled=0!==this.R[2]};e.Sb=function(){return{dx:this.Y,dy:this.ea,cancelStep:this.Wi,enabled:this.enabled,stepMode:this.al,pxPerStep:this.Vt}};e.Wb=function(a){this.Y=a.dx;
this.ea=a.dy;this.Wi=a.cancelStep;this.enabled=a.enabled;this.al=a.stepMode;this.Vt=a.pxPerStep};e.Wl=function(){return Math.sqrt(this.Y*this.Y+this.ea*this.ea)};e.Qb=function(){return Math.atan2(this.ea,this.Y)};e.step=function(a,b,c){if(0!==a||0!==b){var d=this.n.x,e=this.n.y,k,m=Math.round(Math.sqrt(a*a+b*b)/this.Vt);0===m&&(m=1);var p;for(p=1;p<=m;p++)if(k=p/m,this.n.x=d+a*k,this.n.y=e+b*k,this.n.X(),this.i.trigger(c,this.n),1===this.Wi){p--;k=p/m;this.n.x=d+a*k;this.n.y=e+b*k;this.n.X();break}else if(2===
this.Wi)break}};e.wb=function(){var a=this.i.Dg(this.n),b=this.Y*a,a=this.ea*a;0===this.Y&&0===this.ea||!this.enabled||(this.Wi=0,0===this.al?(this.n.x+=b,this.n.y+=a):1===this.al?this.step(b,a,ij.prototype.D.rA):2===this.al?(this.step(b,0,ij.prototype.D.Vu),this.Wi=0,this.step(0,a,ij.prototype.D.Wu)):3===this.al&&(this.step(0,a,ij.prototype.D.Wu),this.Wi=0,this.step(b,0,ij.prototype.D.Vu)),this.n.X())};a.prototype.rA=function(){return!0};a.prototype.Vu=function(){return!0};a.prototype.Wu=function(){return!0};
d.D=new a;c.prototype.kr=function(a,b){var c;switch(a){case 0:c=this.Qb();this.Y=Math.cos(c)*b;this.ea=Math.sin(c)*b;break;case 1:this.Y=b;break;case 2:this.ea=b}};c.prototype.yz=function(a,b,c){a=a*this.i.Dg(this.n);b=Math.atan2(c-this.n.y,b-this.n.x);this.Y+=Math.cos(b)*a;this.ea+=Math.sin(b)*a};c.prototype.sv=function(a){a=Pa(a);var b=this.Wl();this.Y=Math.cos(a)*b;this.ea=Math.sin(a)*b};c.prototype.qf=function(a){this.enabled=1===a};d.da=new c;b.prototype.Xn=function(a){a.ua(this.Wl())};b.prototype.Y=
function(a){a.ua(this.Y)};b.prototype.ea=function(a){a.ua(this.ea)};d.La=new b})();function jj(a){this.i=a}(function(){var a=jj.prototype;a.xa=function(a){this.behavior=a;this.i=a.i};a.xa.prototype.ka=function(){};a.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.qa.prototype;a.ka=function(){};a.wb=function(){this.n.Wa();var a=this.n.Lb,b=this.n.M.sc;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.i.Pe(this.n)}})();function hd(a){this.i=a}
(function(){function a(){}var c=hd.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.ka=function(){};c.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.qa.prototype;b.ka=function(){this.n.ja.jumpthruEnabled=0!==this.R[0]};b.wb=function(){};c.D=new function(){};a.prototype.qf=function(a){this.n.ja.jumpthruEnabled=!!a};c.da=new a})();function kj(a){this.i=a;this.nu=this.vq=this.un=this.mu=0}
(function(){function a(){}var c=kj.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.ka=function(){};c.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.qa.prototype;b.ka=function(){this.enabled=0!==this.R[0]};b.Sb=function(){return{smg:this.behavior.mu,ss:this.behavior.un,se:this.behavior.vq,smd:this.behavior.nu}};b.Wb=function(a){this.behavior.mu=a.smg;this.behavior.un=a.ss;this.behavior.vq=a.se;this.behavior.nu=a.smd};b.wb=function(){};b.cl=
function(){if(this.enabled){var a=this.behavior.Kp.lg(),b=0,c=0,f,g,l,n=0;f=0;for(g=a.length;f<g;f++){a:{l=a[f];for(var k=void 0,m=void 0,p=void 0,k=0,m=l.Ja.length;k<m;++k)if(p=l.Ja[k],p.behavior instanceof kj){l=p;break a}l=null}l&&l.enabled&&(b+=a[f].x,c+=a[f].y,++n)}a=this.n.M.sc;g=this.i.dd.Sa;l=f=0;g>=this.behavior.un&&g<this.behavior.vq&&(f=this.behavior.mu*Math.min(this.i.ig,1),0===this.behavior.nu&&(f*=1-(g-this.behavior.un)/(this.behavior.vq-this.behavior.un)),g=Math.random()*Math.PI*2,
l=Math.random()*f,f=Math.cos(g)*l,l*=Math.sin(g));a.hu(b/n+f);a.iu(c/n+l)}};a.prototype.qf=function(a){this.enabled=0!==a};c.da=new a})();function gd(a){this.i=a}
(function(){function a(){}var c=gd.prototype;c.xa=function(a){this.behavior=a;this.i=a.i};c.xa.prototype.ka=function(){};c.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.qa.prototype;b.ka=function(){this.n.ja.solidEnabled=0!==this.R[0]};b.wb=function(){};c.D=new function(){};a.prototype.qf=function(a){this.n.ja.solidEnabled=!!a};c.da=new a})();function lj(a){this.i=a}
(function(){var a=lj.prototype;a.xa=function(a){this.behavior=a;this.i=a.i};a.xa.prototype.ka=function(){};a.qa=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.qa.prototype;a.ka=function(){this.mode=this.R[0]};a.wb=function(){var a=this.n;a.Wa();var b=a.Lb,d=a.M,e=d.sc,h=0,f=0,g=0,l=0;0===this.mode?(f=e.width,l=e.height):(h=d.Bb,f=d.Hb,g=d.Cb,l=d.Gb);b.right<h?(a.x=f-1+(a.x-b.left),a.X()):b.left>f?(a.x=h+1-(b.right-a.x),a.X()):b.bottom<g?(a.y=l-1+(a.y-b.top),a.X()):b.top>
l&&(a.y=g+1-(b.bottom-a.y),a.X())}})();
function fd(){return[ld,md,jd,nd,yd,zd,Fd,Ed,Dd,Bd,Cd,id,Ad,kd,hd,cj,gd,ej,fj,Hd,lj,Jd,kj,Id,jj,ij,Gd,L.prototype.D.Sz,L.prototype.La.random,L.prototype.D.iB,L.prototype.D.Jz,id.prototype.da.AB,L.prototype.D.Qu,L.prototype.D.bA,L.prototype.D.dv,Ad.prototype.da.Dz,Ad.prototype.da.lr,md.prototype.D.Sn,L.prototype.da.vB,Bd.prototype.La.Text,md.prototype.da.qf,L.prototype.da.lB,L.prototype.da.Xz,ld.prototype.D.aA,L.prototype.La.jF,ld.prototype.D.gr,yd.prototype.da.qB,yd.prototype.D.Zq,nd.prototype.D.Zu,
Ed.prototype.D.dr,Fd.prototype.D.qA,yd.prototype.D.fA,id.prototype.D.Zz,id.prototype.D.Lz,id.prototype.La.Pz,Gd.prototype.da.kr,Gd.prototype.La.Xn,Gd.prototype.da.sv,kd.prototype.da.kB,Gd.prototype.D.Mz,L.prototype.D.Tz,id.prototype.da.Rd,ej.prototype.da.jB,fj.prototype.D.pv,id.prototype.da.nB,fj.prototype.D.cv,nd.prototype.D.dA,Ed.prototype.D.hA,Fd.prototype.D.Su,fj.prototype.da.zB,fj.prototype.D.eA,id.prototype.da.oB,id.prototype.da.tB,fj.prototype.da.Uz,id.prototype.D.uA,id.prototype.da.CB,jd.prototype.da.CallFunction,
Id.prototype.da.Vz,id.prototype.D.gA,id.prototype.da.Az,id.prototype.da.sB,Id.prototype.D.Yu,L.prototype.da.Bz,id.prototype.D.Oz,id.prototype.La.mr,id.prototype.D.Xu,L.prototype.D.Nz,L.prototype.D.Kz,ij.prototype.da.yz,id.prototype.La.nr,Hd.prototype.da.BB,fj.prototype.da.qf,id.prototype.da.pB,id.prototype.da.mB,Ed.prototype.D.er,id.prototype.da.rl,nd.prototype.D.Tu,jd.prototype.D.Un,id.prototype.da.tv,Ad.prototype.D.Mh,yd.prototype.D.br,L.prototype.da.uB,L.prototype.La.ig,Ad.prototype.da.rl,Cd.prototype.da.rl,
id.prototype.La.IB,L.prototype.da.rB,zd.prototype.da.zz,zd.prototype.da.DB,zd.prototype.da.EB,zd.prototype.da.wB,zd.prototype.D.mv,zd.prototype.da.yB,zd.prototype.D.ov,zd.prototype.da.xB,zd.prototype.D.nv,zd.prototype.D.cA,zd.prototype.La.kA,zd.prototype.da.Fz,zd.prototype.D.kv,L.prototype.da.Qz,zd.prototype.La.gB,L.prototype.D.Wz,zd.prototype.La.hB,L.prototype.La.fE]};
