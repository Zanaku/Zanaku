// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var A,aa,ba,ca,ea,fa,ja,la,na,oa,pa,qa,sa,ta,ua,va,wa,xa,za,Aa,Ba,Ca,Da,Fa,H,Ga,Ia,Ja,La,Ma,Pa,Qa,Ra,Sa,Ua,Va,Wa,Xa,Za,$a,ab,bb,cb,fb,kb,lb,mb,tb,ub,vb,wb,Bb,Cb,Eb,Fb,Gb,Hb,Mb,Nb,Rb,Xb,Yb,Zb,$b,ac,bc,cc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Kc,Sc,Tc,Uc,Vc,Wc,Xc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,e,b,c){this.set(a,e,b,c)}function c(){this.Ed=this.Dd=this.Gd=this.Fd=this.Vd=this.Ud=this.Xc=this.Wc=0}function b(a,e,b,c){a<e?b<c?(v=a<b?a:b,t=e>c?e:c):(v=a<c?a:c,t=e>b?e:b):b<c?(v=e<b?e:b,t=a>c?a:c):(v=e<c?e:c,t=a>b?a:b)}function d(){this.items=this.Lg=null;this.Am=0;E&&(this.Lg=new Set);this.jl=[];this.Sh=!0}function g(a){B[D++]=a}function f(){this.Va=this.cr=this.y=this.I=0}function h(a){this.Jb=[];this.vo=this.xo=this.yo=this.wo=0;this.Io=null;this.vn(a)}function e(a,
e){this.Pc=a;this.$c=e;this.cells={}}function m(a,e){this.Pc=a;this.$c=e;this.cells={}}function l(a,e,b){var c;return C.length?(c=C.pop(),c.Xs=a,c.x=e,c.y=b,c):new ba(a,e,b)}function k(a,e,b){this.Xs=a;this.x=e;this.y=b;this.fd=new ca}function n(a,e,b){var c;return y.length?(c=y.pop(),c.Xs=a,c.x=e,c.y=b,c):new ea(a,e,b)}function p(a,e,b){this.Xs=a;this.x=e;this.y=b;this.fd=[];this.vk=!0;this.Jg=new ca;this.Cl=!1}function r(a,e){return a.lg-e.lg}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ja=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};la=function(a){return"undefined"===typeof a};na=function(a){return"number"===typeof a};oa=function(a){return"string"===typeof a};pa=function(a){return 0<a&&0===(a-1&a)};qa=function(a){--a;for(var e=1;32>e;e<<=1)a=a|a>>e;return a+1};sa=function(a){return 0>a?-a:a};ta=function(a,e){return a>e?a:e};ua=function(a,e){return a<e?a:e};va=Math.PI;wa=function(a){return 0<=a?a|0:(a|0)-1};xa=function(a){var e=
a|0;return e===a?e:e+1};za=function(a,e,b,c,k,l,d,m){var f,h,n,g;a<b?(h=a,f=b):(h=b,f=a);k<d?(g=k,n=d):(g=d,n=k);if(f<g||h>n)return!1;e<c?(h=e,f=c):(h=c,f=e);l<m?(g=l,n=m):(g=m,n=l);if(f<g||h>n)return!1;f=k-a+d-b;h=l-e+m-c;a=b-a;e=c-e;k=d-k;l=m-l;m=sa(e*k-l*a);return sa(k*h-l*f)>m?!1:sa(a*h-e*f)<=m};a.prototype.set=function(a,e,b,c){this.left=a;this.top=e;this.right=b;this.bottom=c};a.prototype.ak=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=
function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,e){this.left+=a;this.top+=e;this.right+=a;this.bottom+=e;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.bF=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.cF=
function(a,e,b){return!(a.right+e<this.left||a.bottom+b<this.top||a.left+e>this.right||a.top+b>this.bottom)};a.prototype.Hd=function(a,e){return a>=this.left&&a<=this.right&&e>=this.top&&e<=this.bottom};a.prototype.Ol=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};Aa=a;c.prototype.bl=function(a){this.Wc=a.left;this.Xc=a.top;this.Ud=a.right;this.Vd=a.top;this.Fd=a.right;this.Gd=a.bottom;this.Dd=a.left;this.Ed=a.bottom};c.prototype.gz=function(a,
e){if(0===e)this.bl(a);else{var b=Math.sin(e),c=Math.cos(e),k=a.left*b,l=a.top*b,d=a.right*b,b=a.bottom*b,m=a.left*c,f=a.top*c,h=a.right*c,c=a.bottom*c;this.Wc=m-l;this.Xc=f+k;this.Ud=h-l;this.Vd=f+d;this.Fd=h-b;this.Gd=c+d;this.Dd=m-b;this.Ed=c+k}};c.prototype.offset=function(a,e){this.Wc+=a;this.Xc+=e;this.Ud+=a;this.Vd+=e;this.Fd+=a;this.Gd+=e;this.Dd+=a;this.Ed+=e;return this};var v=0,t=0;c.prototype.pw=function(a){b(this.Wc,this.Ud,this.Fd,this.Dd);a.left=v;a.right=t;b(this.Xc,this.Vd,this.Gd,
this.Ed);a.top=v;a.bottom=t};c.prototype.Hd=function(a,e){var b=this.Wc,c=this.Xc,k=this.Ud-b,l=this.Vd-c,d=this.Fd-b,m=this.Gd-c,f=a-b,h=e-c,n=k*k+l*l,g=k*d+l*m,l=k*f+l*h,u=d*d+m*m,p=d*f+m*h,q=1/(n*u-g*g),k=(u*l-g*p)*q,n=(n*p-g*l)*q;if(0<=k&&0<n&&1>k+n)return!0;k=this.Dd-b;l=this.Ed-c;n=k*k+l*l;g=k*d+l*m;l=k*f+l*h;q=1/(n*u-g*g);k=(u*l-g*p)*q;n=(n*p-g*l)*q;return 0<=k&&0<n&&1>k+n};c.prototype.Ph=function(a,e){if(e)switch(a){case 0:return this.Wc;case 1:return this.Ud;case 2:return this.Fd;case 3:return this.Dd;
case 4:return this.Wc;default:return this.Wc}else switch(a){case 0:return this.Xc;case 1:return this.Vd;case 2:return this.Gd;case 3:return this.Ed;case 4:return this.Xc;default:return this.Xc}};c.prototype.oi=function(){return(this.Wc+this.Ud+this.Fd+this.Dd)/4};c.prototype.pi=function(){return(this.Xc+this.Vd+this.Gd+this.Ed)/4};c.prototype.qx=function(a){var e=a.oi(),b=a.pi();if(this.Hd(e,b))return!0;e=this.oi();b=this.pi();if(a.Hd(e,b))return!0;var c,k,l,d,m,f,h,n;for(h=0;4>h;h++)for(n=0;4>n;n++)if(e=
this.Ph(h,!0),b=this.Ph(h,!1),c=this.Ph(h+1,!0),k=this.Ph(h+1,!1),l=a.Ph(n,!0),d=a.Ph(n,!1),m=a.Ph(n+1,!0),f=a.Ph(n+1,!1),za(e,b,c,k,l,d,m,f))return!0;return!1};Ba=c;Ca=function(a,e){for(var b in e)e.hasOwnProperty(b)&&(a[b]=e[b]);return a};Da=function(a,e){var b,c;e=wa(e);if(!(0>e||e>=a.length)){b=e;for(c=a.length-1;b<c;b++)a[b]=a[b+1];Fa(a,c)}};Fa=function(a,e){a.length=e};H=function(a){Fa(a,0)};Ga=function(a,e){H(a);var b,c;b=0;for(c=e.length;b<c;++b)a[b]=e[b]};Ia=function(a,e){a.push.apply(a,
e)};Ja=function(a,e){var b,c;b=0;for(c=a.length;b<c;++b)if(a[b]===e)return b;return-1};La=function(a,e){var b=Ja(a,e);-1!==b&&Da(a,b)};Ma=function(a,e,b){return a<e?e:a>b?b:a};Pa=function(a){return a/(180/va)};Qa=function(a){return 180/va*a};Ra=function(a){a%=360;0>a&&(a+=360);return a};Sa=function(a){a%=2*va;0>a&&(a+=2*va);return a};Ua=function(a){return Ra(Qa(a))};Va=function(a){return Sa(Pa(a))};Wa=function(a,e,b,c){return Math.atan2(c-e,b-a)};Xa=function(a,e){if(a===e)return 0;var b=Math.sin(a),
c=Math.cos(a),k=Math.sin(e),l=Math.cos(e),b=b*k+c*l;return 1<=b?0:-1>=b?va:Math.acos(b)};Za=function(a,e,b){var c=Math.sin(a),k=Math.cos(a),l=Math.sin(e),d=Math.cos(e);return Math.acos(c*l+k*d)>b?0<k*l-c*d?Sa(a+b):Sa(a-b):Sa(e)};$a=function(a,e){var b=Math.sin(a),c=Math.cos(a),k=Math.sin(e),l=Math.cos(e);return 0>=c*k-b*l};ab=function(a,e,b,c,k,l){if(0===b)return l?a:e;var d=Math.sin(b);b=Math.cos(b);a-=c;e-=k;var m=a*d;a=a*b-e*d;e=e*b+m;return l?a+c:e+k};bb=function(a,e,b,c){a=b-a;e=c-e;return Math.sqrt(a*
a+e*e)};cb=function(a,e){return!a!==!e};fb=function(a,e,b){return a===e?0:(b-a)/(e-a)};kb=function(a,e,b){var c=Xa(a,e);return $a(e,a)?a+c*b:a-c*b};lb=function(a){for(var e in a)if(a.hasOwnProperty(e))return!0;return!1};mb=function(a){for(var e in a)a.hasOwnProperty(e)&&delete a[e]};var q=+new Date;tb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==
typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-q};var u=!1,x=u=!1,z=!1;"undefined"!==typeof window&&(u=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),u=!u&&/safari/i.test(navigator.userAgent),x=/(iphone|ipod|ipad)/i.test(navigator.userAgent),z=window.c2ejecta);var E=!u&&!z&&!x&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.fh()?!1:E?this.Lg.has(a):this.items&&
this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(E)this.Lg.has(a)||(this.Lg.add(a),this.Sh=!1);else{var e=a.toString(),b=this.items;b?b.hasOwnProperty(e)||(b[e]=a,this.Am++,this.Sh=!1):(this.items={},this.items[e]=a,this.Am=1,this.Sh=!1)}};d.prototype.remove=function(a){if(!this.fh())if(E)this.Lg.has(a)&&(this.Lg["delete"](a),this.Sh=!1);else if(this.items){a=a.toString();var e=this.items;e.hasOwnProperty(a)&&(delete e[a],this.Am--,this.Sh=!1)}};d.prototype.clear=function(){this.fh()||
(E?this.Lg.clear():(this.items=null,this.Am=0),H(this.jl),this.Sh=!0)};d.prototype.fh=function(){return 0===this.count()};d.prototype.count=function(){return E?this.Lg.size:this.Am};var B=null,D=0;d.prototype.KG=function(){if(!this.Sh){if(E)H(this.jl),B=this.jl,D=0,this.Lg.forEach(g),B=null,D=0;else{var a=this.jl;H(a);var e,b=0,c=this.items;if(c)for(e in c)c.hasOwnProperty(e)&&(a[b++]=c[e])}this.Sh=!0}};d.prototype.kg=function(){this.KG();return this.jl};ca=d;new ca;ub=function(a,e){E?vb(a,e.Lg):
wb(a,e.kg())};vb=function(a,e){var b,c,k,l;c=b=0;for(k=a.length;b<k;++b)l=a[b],e.has(l)||(a[c++]=l);Fa(a,c)};wb=function(a,e){var b,c,k,l;c=b=0;for(k=a.length;b<k;++b)l=a[b],-1===Ja(e,l)&&(a[c++]=l);Fa(a,c)};f.prototype.add=function(a){this.y=a-this.I;this.cr=this.Va+this.y;this.I=this.cr-this.Va-this.y;this.Va=this.cr};f.prototype.reset=function(){this.Va=this.cr=this.y=this.I=0};Bb=f;Cb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};h.prototype.vn=function(a){this.Oy=a;this.ge=
a.length/2;this.Jb.length=a.length;this.Eo=this.Fo=-1;this.sw=0};h.prototype.nj=function(){return!this.Oy.length};h.prototype.ab=function(){for(var a=this.Jb,e=a[0],b=e,c=a[1],k=c,l,d,m=1,f=this.ge;m<f;++m)d=2*m,l=a[d],d=a[d+1],l<e&&(e=l),l>b&&(b=l),d<c&&(c=d),d>k&&(k=d);this.wo=e;this.xo=b;this.yo=c;this.vo=k};h.prototype.bl=function(a,e,b){this.Jb.length=8;this.ge=4;var c=this.Jb;c[0]=a.left-e;c[1]=a.top-b;c[2]=a.right-e;c[3]=a.top-b;c[4]=a.right-e;c[5]=a.bottom-b;c[6]=a.left-e;c[7]=a.bottom-b;
this.Fo=a.right-a.left;this.Eo=a.bottom-a.top;this.ab()};h.prototype.al=function(a,e,b,c,k){this.Jb.length=8;this.ge=4;var l=this.Jb;l[0]=a.Wc-e;l[1]=a.Xc-b;l[2]=a.Ud-e;l[3]=a.Vd-b;l[4]=a.Fd-e;l[5]=a.Gd-b;l[6]=a.Dd-e;l[7]=a.Ed-b;this.Fo=c;this.Eo=k;this.ab()};h.prototype.fz=function(a){this.ge=a.ge;Ga(this.Jb,a.Jb);this.wo=a.wo;this.yo-a.yo;this.xo=a.xo;this.vo=a.vo};h.prototype.Rh=function(a,e,b){if(this.Fo!==a||this.Eo!==e||this.sw!==b){this.Fo=a;this.Eo=e;this.sw=b;var c,k,l,d,m,f=0,h=1,n=this.Oy,
g=this.Jb;0!==b&&(f=Math.sin(b),h=Math.cos(b));b=0;for(l=this.ge;b<l;b++)c=2*b,k=c+1,d=n[c]*a,m=n[k]*e,g[c]=d*h-m*f,g[k]=m*h+d*f;this.ab()}};h.prototype.Hd=function(a,e){var b=this.Jb;if(a===b[0]&&e===b[1])return!0;var c,k,l,d=this.ge,m=this.wo-110,f=this.yo-101,h=this.xo+131,n=this.vo+120,g,u,p=0,q=0;for(c=0;c<d;c++)k=2*c,l=(c+1)%d*2,g=b[k],k=b[k+1],u=b[l],l=b[l+1],za(m,f,a,e,g,k,u,l)&&p++,za(h,n,a,e,g,k,u,l)&&q++;return 1===p%2||1===q%2};h.prototype.mm=function(a,e,b){var c=a.Jb,k=this.Jb;if(this.Hd(c[0]+
e,c[1]+b)||a.Hd(k[0]-e,k[1]-b))return!0;var l,d,m,f,h,n,g,u,p,q,r,x;l=0;for(f=this.ge;l<f;l++)for(d=2*l,m=(l+1)%f*2,u=k[d],d=k[d+1],p=k[m],q=k[m+1],m=0,g=a.ge;m<g;m++)if(h=2*m,n=(m+1)%g*2,r=c[h]+e,h=c[h+1]+b,x=c[n]+e,n=c[n+1]+b,za(u,d,p,q,r,h,x,n))return!0;return!1};h.prototype.xF=function(a){var e,b,c;e=0;for(b=this.ge;e<b;++e)c=2*e,this.Jb[c]=2*a-this.Jb[c]};h.prototype.hE=function(a){var e,b,c;e=0;for(b=this.ge;e<b;++e)c=2*e+1,this.Jb[c]=2*a-this.Jb[c]};h.prototype.YC=function(){var a,e,b,c,k;
a=0;for(e=this.ge;a<e;++a)b=2*a,c=b+1,k=this.Jb[b],this.Jb[b]=this.Jb[c],this.Jb[c]=k};Eb=h;e.prototype.bi=function(a,e,b){var c;c=this.cells[a];return c?(c=c[e])?c:b?(c=l(this,a,e),this.cells[a][e]=c):null:b?(c=l(this,a,e),this.cells[a]={},this.cells[a][e]=c):null};e.prototype.ke=function(a){return wa(a/this.Pc)};e.prototype.le=function(a){return wa(a/this.$c)};e.prototype.update=function(a,e,b){var c,k,l,d,m;if(e)for(c=e.left,k=e.right;c<=k;++c)for(l=e.top,d=e.bottom;l<=d;++l)if(!b||!b.Hd(c,l))if(m=
this.bi(c,l,!1))m.remove(a),m.fh()&&(m.fd.clear(),1E3>C.length&&C.push(m),this.cells[c][l]=null);if(b)for(c=b.left,k=b.right;c<=k;++c)for(l=b.top,d=b.bottom;l<=d;++l)e&&e.Hd(c,l)||this.bi(c,l,!0).jt(a)};e.prototype.Eq=function(a,e){var b,c,k,l,d,m;b=this.ke(a.left);k=this.le(a.top);c=this.ke(a.right);for(d=this.le(a.bottom);b<=c;++b)for(l=k;l<=d;++l)(m=this.bi(b,l,!1))&&m.dump(e)};Fb=e;m.prototype.bi=function(a,e,b){var c;c=this.cells[a];return c?(c=c[e])?c:b?(c=n(this,a,e),this.cells[a][e]=c):null:
b?(c=n(this,a,e),this.cells[a]={},this.cells[a][e]=c):null};m.prototype.ke=function(a){return wa(a/this.Pc)};m.prototype.le=function(a){return wa(a/this.$c)};m.prototype.update=function(a,e,b){var c,k,l,d,m;if(e)for(c=e.left,k=e.right;c<=k;++c)for(l=e.top,d=e.bottom;l<=d;++l)if(!b||!b.Hd(c,l))if(m=this.bi(c,l,!1))m.remove(a),m.fh()&&(m.reset(),1E3>y.length&&y.push(m),this.cells[c][l]=null);if(b)for(c=b.left,k=b.right;c<=k;++c)for(l=b.top,d=b.bottom;l<=d;++l)e&&e.Hd(c,l)||this.bi(c,l,!0).jt(a)};m.prototype.Eq=
function(a,e,b,c,l){var k,d;a=this.ke(a);e=this.le(e);b=this.ke(b);for(k=this.le(c);a<=b;++a)for(c=e;c<=k;++c)(d=this.bi(a,c,!1))&&d.dump(l)};m.prototype.tF=function(a){var e,b,c,l,k;e=a.left;c=a.top;b=a.right;for(l=a.bottom;e<=b;++e)for(a=c;a<=l;++a)if(k=this.bi(e,a,!1))k.vk=!1};Gb=m;var C=[];k.prototype.fh=function(){return this.fd.fh()};k.prototype.jt=function(a){this.fd.add(a)};k.prototype.remove=function(a){this.fd.remove(a)};k.prototype.dump=function(a){Ia(a,this.fd.kg())};ba=k;var y=[];p.prototype.fh=
function(){if(!this.fd.length)return!0;if(this.fd.length>this.Jg.count())return!1;this.Fs();return!0};p.prototype.jt=function(a){this.Jg.contains(a)?(this.Jg.remove(a),this.Jg.fh()&&(this.Cl=!1)):this.fd.length?(this.fd[this.fd.length-1].Dg()>a.Dg()&&(this.vk=!1),this.fd.push(a)):(this.fd.push(a),this.vk=!0)};p.prototype.remove=function(a){this.Jg.add(a);this.Cl=!0;30<=this.Jg.count()&&this.Fs()};p.prototype.Fs=function(){this.Cl&&(this.Jg.count()===this.fd.length?this.reset():(ub(this.fd,this.Jg),
this.Jg.clear(),this.Cl=!1))};p.prototype.BD=function(){this.vk||(this.fd.sort(r),this.vk=!0)};p.prototype.reset=function(){H(this.fd);this.vk=!0;this.Jg.clear();this.Cl=!1};p.prototype.dump=function(a){this.Fs();this.BD();this.fd.length&&a.push(this.fd)};ea=p;var w="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Hb=function(a){return 0>=a||11<=a?"source-over":w[a-1]};Mb=function(a,e,b){if(b)switch(a.Pd=b.ONE,a.Id=b.ONE_MINUS_SRC_ALPHA,
e){case 1:a.Pd=b.ONE;a.Id=b.ONE;break;case 3:a.Pd=b.ONE;a.Id=b.ZERO;break;case 4:a.Pd=b.ONE_MINUS_DST_ALPHA;a.Id=b.ONE;break;case 5:a.Pd=b.DST_ALPHA;a.Id=b.ZERO;break;case 6:a.Pd=b.ZERO;a.Id=b.SRC_ALPHA;break;case 7:a.Pd=b.ONE_MINUS_DST_ALPHA;a.Id=b.ZERO;break;case 8:a.Pd=b.ZERO;a.Id=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Pd=b.DST_ALPHA;a.Id=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Pd=b.ONE_MINUS_DST_ALPHA,a.Id=b.SRC_ALPHA}};Nb=function(a){return Math.round(1E6*a)/1E6};Rb=function(a,e){return"string"!==
typeof a||"string"!==typeof e||a.length!==e.length?!1:a===e?!0:a.toLowerCase()===e.toLowerCase()};Xb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Rb(a.tagName,"canvas")?!0:!1}})();var Yc="undefined"!==typeof Float32Array?Float32Array:Array;function Zc(a){var c=new Yc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function $c(a){var c=new Yc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function ad(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function bd(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function cd(a,c,b,d){d||(d=$c());var g,f,h,e,m,l,k,n,p=a[0],r=a[1];a=a[2];f=b[0];h=b[1];g=b[2];b=c[1];l=c[2];p===c[0]&&r===b&&a===l?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=p-c[0],l=r-c[1],k=a-c[2],n=1/Math.sqrt(b*b+l*l+k*k),b*=n,l*=n,k*=n,c=h*k-g*l,g=g*b-f*k,f=f*l-h*b,(n=Math.sqrt(c*c+g*g+f*f))?(n=1/n,c*=n,g*=n,f*=n):f=g=c=0,h=l*f-k*g,e=k*c-b*f,m=b*g-l*c,(n=Math.sqrt(h*h+e*e+m*m))?(n=1/n,h*=n,e*=n,m*=n):m=e=h=0,
d[0]=c,d[1]=h,d[2]=b,d[3]=0,d[4]=g,d[5]=e,d[6]=l,d[7]=0,d[8]=f,d[9]=m,d[10]=k,d[11]=0,d[12]=-(c*p+g*r+f*a),d[13]=-(h*p+e*r+m*a),d[14]=-(b*p+l*r+k*a),d[15]=1)}
(function(){function a(a,b,c){this.gh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Qb=!!c;this.Jp=this.qm=!1;this.Po=0;this.Dr=1;this.tv=1E3;this.QG=(this.tv-this.Dr)/32768;this.gs=Zc([0,0,100]);this.Lx=Zc([0,0,0]);this.Jz=Zc([0,1,0]);this.Yn=Zc([1,1,1]);this.Hw=!0;this.aq=$c();this.ef=$c();this.Ft=$c();this.us=$c();this.ya=a;this.kx()}function c(a,b,c){this.ya=a;this.wn=b;this.name=c;this.Cf=a.getAttribLocation(b,"aPos");this.li=a.getAttribLocation(b,
"aTex");this.Jx=a.getUniformLocation(b,"matP");this.Wp=a.getUniformLocation(b,"matMV");this.Kk=a.getUniformLocation(b,"opacity");this.Pt=a.getUniformLocation(b,"colorFill");this.Kx=a.getUniformLocation(b,"samplerFront");this.Sm=a.getUniformLocation(b,"samplerBack");this.wj=a.getUniformLocation(b,"destStart");this.vj=a.getUniformLocation(b,"destEnd");this.Um=a.getUniformLocation(b,"seconds");this.Rt=a.getUniformLocation(b,"pixelWidth");this.Qt=a.getUniformLocation(b,"pixelHeight");this.Rm=a.getUniformLocation(b,
"layerScale");this.Qm=a.getUniformLocation(b,"layerAngle");this.Vm=a.getUniformLocation(b,"viewOrigin");this.Tm=a.getUniformLocation(b,"scrollPos");this.WE=!!(this.Rt||this.Qt||this.Um||this.Sm||this.wj||this.vj||this.Rm||this.Qm||this.Vm||this.Tm);this.Tx=this.Ux=-999;this.$p=1;this.Px=this.Ox=0;this.Rx=this.Nx=this.Mx=1;this.Xx=this.Wx=this.Vx=this.Zx=this.Yx=this.Qx=0;this.Dt=[];this.Sx=$c();this.Kk&&a.uniform1f(this.Kk,1);this.Pt&&a.uniform4f(this.Pt,1,1,1,1);this.Kx&&a.uniform1i(this.Kx,0);this.Sm&&
a.uniform1i(this.Sm,1);this.wj&&a.uniform2f(this.wj,0,0);this.vj&&a.uniform2f(this.vj,1,1);this.Rm&&a.uniform1f(this.Rm,1);this.Qm&&a.uniform1f(this.Qm,0);this.Vm&&a.uniform2f(this.Vm,0,0);this.Tm&&a.uniform2f(this.Tm,0,0);this.Um&&a.uniform1f(this.Um,0);this.gj=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function d(a,b){this.type=a;this.la=b;this.ya=b.ya;this.ve=this.yd=this.xy=0;this.fb=this.Mf=null;this.hz=[]}var g=$c();a.prototype.kx=function(){var a=this.ya,b;this.Ex=1;this.qj=this.gi=null;this.Oo=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Qb?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Fx=a.ONE;this.Dx=a.ONE_MINUS_SRC_ALPHA;
this.Wn=new Float32Array(8E3*(this.Qb?3:2));this.Fn=new Float32Array(16E3);this.su=new Float32Array(32E3);this.ru=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.ru);a.bufferData(a.ARRAY_BUFFER,this.su.byteLength,a.DYNAMIC_DRAW);this.Vn=Array(4);this.En=Array(4);for(b=0;4>b;b++)this.Vn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Vn[b]),a.bufferData(a.ARRAY_BUFFER,this.Wn.byteLength,a.DYNAMIC_DRAW),this.En[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.En[b]),a.bufferData(a.ARRAY_BUFFER,
this.Fn.byteLength,a.DYNAMIC_DRAW);this.Xg=0;this.$E=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.$E);for(var c=new Uint16Array(12E3),k=b=0;12E3>b;)c[b++]=k,c[b++]=k+1,c[b++]=k+2,c[b++]=k,c[b++]=k+2,c[b++]=k+3,k+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Vk=this.Ei=this.Of=0;this.mc=[];b=this.Qb?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Kl({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.mc.push(c);c=this.Kl({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.mc.push(c);c=this.Kl({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.mc.push(c);c=this.Kl({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.mc.push(c);for(var d in dd)dd.hasOwnProperty(d)&&this.mc.push(this.Kl(dd[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Uf=[];this.rf=0;this.td=this.Tc=!1;this.zw=this.Fm=-1;this.ck=null;this.Ds=a.createFramebuffer();this.To=this.Gq=null;this.lw=!1;this.Qb&&(this.To=a.createRenderbuffer());this.Ii=Zc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.wF=a[0];this.Wt=a[1];2048<this.Wt&&(this.Wt=2048);this.Ce(0)};c.prototype.mv=function(a){b(this.Sx,
a)||(ad(a,this.Sx),this.ya.uniformMatrix4fv(this.Wp,!1,a))};a.prototype.Kl=function(a,b,l){var k=this.ya,d=k.createShader(k.FRAGMENT_SHADER);k.shaderSource(d,a.src);k.compileShader(d);if(!k.getShaderParameter(d,k.COMPILE_STATUS))return k.deleteShader(d),null;var f=k.createShader(k.VERTEX_SHADER);k.shaderSource(f,b);k.compileShader(f);if(!k.getShaderParameter(f,k.COMPILE_STATUS))return k.deleteShader(d),k.deleteShader(f),null;b=k.createProgram();k.attachShader(b,d);k.attachShader(b,f);k.linkProgram(b);
if(!k.getProgramParameter(b,k.LINK_STATUS))return k.deleteShader(d),k.deleteShader(f),k.deleteProgram(b),null;k.useProgram(b);k.deleteShader(d);k.deleteShader(f);l=new c(k,b,l);l.Zo=a.Zo||0;l.$o=a.$o||0;l.ts=!!a.ts;l.Gf=!!a.Gf;l.bs=!!a.bs;l.Ta=a.Ta||[];a=0;for(d=l.Ta.length;a<d;a++)l.Ta[a][1]=k.getUniformLocation(b,l.Ta[a][0]),l.Dt.push(0),k.uniform1f(l.Ta[a][1],0);return l};a.prototype.Ts=function(a){var b,c;b=0;for(c=this.mc.length;b<c;b++)if(this.mc[b].name===a)return b;return-1};a.prototype.Ny=
function(a,b,c){var k=this.ef,d=this.aq,f=[0,0,0,0,0,0,0,0];f[0]=k[0]*a+k[4]*b+k[12];f[1]=k[1]*a+k[5]*b+k[13];f[2]=k[2]*a+k[6]*b+k[14];f[3]=k[3]*a+k[7]*b+k[15];f[4]=d[0]*f[0]+d[4]*f[1]+d[8]*f[2]+d[12]*f[3];f[5]=d[1]*f[0]+d[5]*f[1]+d[9]*f[2]+d[13]*f[3];f[6]=d[2]*f[0]+d[6]*f[1]+d[10]*f[2]+d[14]*f[3];f[7]=-f[2];0!==f[7]&&(f[7]=1/f[7],f[4]*=f[7],f[5]*=f[7],f[6]*=f[7],c[0]=(.5*f[4]+.5)*this.width,c[1]=(.5*f[5]+.5)*this.height)};a.prototype.Kj=function(a,b,c){if(this.width!==a||this.height!==b||c){this.yg();
c=this.ya;this.width=a;this.height=b;c.viewport(0,0,a,b);cd(this.gs,this.Lx,this.Jz,this.ef);if(this.Qb){var k=-a/2;a=a/2;var d=b/2;b=-b/2;var f=this.Dr,h=this.tv,g=this.aq;g||(g=$c());var t=a-k,q=b-d,u=h-f;g[0]=2/t;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/q;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/u;g[11]=0;g[12]=-(k+a)/t;g[13]=-(b+d)/q;g[14]=-(h+f)/u;g[15]=1;this.Yn[0]=1;this.Yn[1]=1}else b=a/b,k=this.Dr,a=this.tv,g=this.aq,h=k*Math.tan(45*Math.PI/360),b*=h,d=-b,f=-h,g||(g=$c()),t=b-d,q=h-f,u=a-k,g[0]=2*
k/t,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*k/q,g[6]=0,g[7]=0,g[8]=(b+d)/t,g[9]=(h+f)/q,g[10]=-(a+k)/u,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(a*k*2)/u,g[15]=0,k=[0,0],a=[0,0],this.Ny(0,0,k),this.Ny(1,1,a),this.Yn[0]=1/(a[0]-k[0]),this.Yn[1]=-1/(a[1]-k[1]);k=0;for(a=this.mc.length;k<a;k++)d=this.mc[k],d.gj=!1,d.Jx&&(c.useProgram(d.wn),c.uniformMatrix4fv(d.Jx,!1,this.aq));c.useProgram(this.mc[this.Fm].wn);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);
this.qj=this.gi=null;this.To&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ds),c.bindRenderbuffer(c.RENDERBUFFER,this.To),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.lw||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.To),this.lw=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.Gq=null)}};a.prototype.If=function(){cd(this.gs,this.Lx,this.Jz,this.ef);bd(this.ef,this.Yn)};a.prototype.translate=function(a,
b){if(0!==a||0!==b){this.Ii[0]=a;this.Ii[1]=b;this.Ii[2]=0;var c=this.ef,k=this.Ii,d=k[0],f=k[1],k=k[2];c[12]=c[0]*d+c[4]*f+c[8]*k+c[12];c[13]=c[1]*d+c[5]*f+c[9]*k+c[13];c[14]=c[2]*d+c[6]*f+c[10]*k+c[14];c[15]=c[3]*d+c[7]*f+c[11]*k+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ii[0]=a,this.Ii[1]=b,this.Ii[2]=1,bd(this.ef,this.Ii)};a.prototype.Iq=function(a){if(0!==a){var b=this.ef,c,k=Math.sin(a);a=Math.cos(a);var d=b[0],f=b[1],h=b[2],g=b[3],t=b[4],q=b[5],u=b[6],x=b[7];c?b!==c&&(c[8]=
b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=d*a+t*k;c[1]=f*a+q*k;c[2]=h*a+u*k;c[3]=g*a+x*k;c[4]=d*-k+t*a;c[5]=f*-k+q*a;c[6]=h*-k+u*a;c[7]=g*-k+x*a}};a.prototype.kf=function(){if(!b(this.Ft,this.ef)){var a=this.he();a.type=5;a.fb?ad(this.ef,a.fb):a.fb=$c(this.ef);ad(this.ef,this.Ft);this.td=this.Tc=!1}};a.prototype.Nq=function(a){this.Qb&&(32760<a&&(a=32760),this.Po=this.gs[2]-this.Dr-a*this.QG)};d.prototype.kD=function(){var a=this.ya,b=this.la;
0!==this.yd?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.Ds),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Jp=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Jp=!1)};d.prototype.oD=function(){this.ya.bindTexture(this.ya.TEXTURE_2D,this.Mf)};d.prototype.pD=function(){var a=this.ya;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,
this.Mf);a.activeTexture(a.TEXTURE0)};d.prototype.lD=function(){var a=this.xy,b=this.la;b.Oo=a;b=b.ck;b.Kk&&b.$p!==a&&(b.$p=a,this.ya.uniform1f(b.Kk,a))};d.prototype.fD=function(){this.ya.drawElements(this.ya.TRIANGLES,this.ve,this.ya.UNSIGNED_SHORT,this.yd)};d.prototype.hD=function(){this.ya.blendFunc(this.yd,this.ve)};d.prototype.rD=function(){var a,b,c,k=this.la.mc,d=this.la.zw;a=0;for(b=k.length;a<b;a++)c=k[a],a===d&&c.Wp?(c.mv(this.fb),c.gj=!0):c.gj=!1;ad(this.fb,this.la.us)};d.prototype.gD=
function(){var a=this.ya,b=this.la;this.Mf?(b.qj===this.Mf&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.qj=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Ds),b.Jp||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Mf,0)):(b.Qb||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.aD=function(){var a=this.ya,b=this.yd;0===b?(a.clearColor(this.fb[0],this.fb[1],
this.fb[2],this.fb[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.fb[0],this.fb[1],this.fb[2],this.fb[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.jD=function(){var a=this.ya;0!==this.yd?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.eD=function(){var a=this.ya,b=this.la;b.Qb&&a.disable(a.DEPTH_TEST);var c=b.mc[1];a.useProgram(c.wn);!c.gj&&c.Wp&&(c.mv(b.us),c.gj=!0);a.enableVertexAttribArray(c.Cf);
a.bindBuffer(a.ARRAY_BUFFER,b.ru);a.vertexAttribPointer(c.Cf,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.yd/4,this.ve);c=b.ck;a.useProgram(c.wn);0<=c.Cf&&(a.enableVertexAttribArray(c.Cf),a.bindBuffer(a.ARRAY_BUFFER,b.Vn[b.Xg]),a.vertexAttribPointer(c.Cf,b.Qb?3:2,a.FLOAT,!1,0,0));0<=c.li&&(a.enableVertexAttribArray(c.li),a.bindBuffer(a.ARRAY_BUFFER,b.En[b.Xg]),a.vertexAttribPointer(c.li,2,a.FLOAT,!1,0,0));b.Qb&&a.enable(a.DEPTH_TEST)};d.prototype.mD=function(){var a=this.ya,b=this.la,c=b.mc[this.yd];
b.zw=this.yd;b.ck=c;a.useProgram(c.wn);!c.gj&&c.Wp&&(c.mv(b.us),c.gj=!0);c.Kk&&c.$p!==b.Oo&&(c.$p=b.Oo,a.uniform1f(c.Kk,b.Oo));0<=c.Cf&&(a.enableVertexAttribArray(c.Cf),a.bindBuffer(a.ARRAY_BUFFER,b.Vn[b.Xg]),a.vertexAttribPointer(c.Cf,b.Qb?3:2,a.FLOAT,!1,0,0));0<=c.li&&(a.enableVertexAttribArray(c.li),a.bindBuffer(a.ARRAY_BUFFER,b.En[b.Xg]),a.vertexAttribPointer(c.li,2,a.FLOAT,!1,0,0))};d.prototype.iD=function(){var a=this.fb;this.ya.uniform4f(this.la.ck.Pt,a[0],a[1],a[2],a[3])};d.prototype.nD=function(){var a,
b,c=this.la.ck,k=this.ya;a=this.fb;c.Sm&&this.la.qj!==this.Mf&&(k.activeTexture(k.TEXTURE1),k.bindTexture(k.TEXTURE_2D,this.Mf),this.la.qj=this.Mf,k.activeTexture(k.TEXTURE0));var d=a[0];c.Rt&&d!==c.Ux&&(c.Ux=d,k.uniform1f(c.Rt,d));d=a[1];c.Qt&&d!==c.Tx&&(c.Tx=d,k.uniform1f(c.Qt,d));d=a[2];b=a[3];!c.wj||d===c.Ox&&b===c.Px||(c.Ox=d,c.Px=b,k.uniform2f(c.wj,d,b));d=a[4];b=a[5];!c.vj||d===c.Mx&&b===c.Nx||(c.Mx=d,c.Nx=b,k.uniform2f(c.vj,d,b));d=a[6];c.Rm&&d!==c.Rx&&(c.Rx=d,k.uniform1f(c.Rm,d));d=a[7];
c.Qm&&d!==c.Qx&&(c.Qx=d,k.uniform1f(c.Qm,d));d=a[8];b=a[9];!c.Vm||d===c.Yx&&b===c.Zx||(c.Yx=d,c.Zx=b,k.uniform2f(c.Vm,d,b));d=a[10];b=a[11];!c.Tm||d===c.Vx&&b===c.Wx||(c.Vx=d,c.Wx=b,k.uniform2f(c.Tm,d,b));d=a[12];c.Um&&d!==c.Xx&&(c.Xx=d,k.uniform1f(c.Um,d));if(c.Ta.length)for(a=0,b=c.Ta.length;a<b;a++)d=this.hz[a],d!==c.Dt[a]&&(c.Dt[a]=d,k.uniform1f(c.Ta[a][1],d))};a.prototype.he=function(){this.rf===this.Uf.length&&this.Uf.push(new d(0,this));return this.Uf[this.rf++]};a.prototype.yg=function(){if(0!==
this.rf&&!this.ya.isContextLost()){var a=this.ya;0<this.Vk&&(a.bindBuffer(a.ARRAY_BUFFER,this.ru),a.bufferSubData(a.ARRAY_BUFFER,0,this.su.subarray(0,this.Vk)),b&&0<=b.Cf&&"<point>"===b.name&&a.vertexAttribPointer(b.Cf,4,a.FLOAT,!1,0,0));if(0<this.Of){var b=this.ck;a.bindBuffer(a.ARRAY_BUFFER,this.Vn[this.Xg]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Wn.subarray(0,this.Of));b&&0<=b.Cf&&"<point>"!==b.name&&a.vertexAttribPointer(b.Cf,this.Qb?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.En[this.Xg]);
a.bufferSubData(a.ARRAY_BUFFER,0,this.Fn.subarray(0,this.Ei));b&&0<=b.li&&"<point>"!==b.name&&a.vertexAttribPointer(b.li,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.rf;a<b;a++)switch(c=this.Uf[a],c.type){case 1:c.fD();break;case 2:c.oD();break;case 3:c.lD();break;case 4:c.hD();break;case 5:c.rD();break;case 6:c.gD();break;case 7:c.aD();break;case 8:c.eD();break;case 9:c.mD();break;case 10:c.nD();break;case 11:c.pD();break;case 12:c.iD();break;case 13:c.jD();break;case 14:c.kD()}this.Vk=this.Ei=this.Of=
this.rf=0;this.Jp=this.td=this.Tc=!1;this.Xg++;4<=this.Xg&&(this.Xg=0)}};a.prototype.xh=function(a){if(a!==this.Ex&&!this.qm){var b=this.he();b.type=3;this.Ex=b.xy=a;this.td=this.Tc=!1}};a.prototype.ie=function(a){if(a!==this.gi){var b=this.he();b.type=2;this.gi=b.Mf=a;this.td=this.Tc=!1}};a.prototype.Bi=function(a,b){if((a!==this.Fx||b!==this.Dx)&&!this.qm){var c=this.he();c.type=4;c.yd=a;c.ve=b;this.Fx=a;this.Dx=b;this.td=this.Tc=!1}};a.prototype.Wy=function(){this.Bi(this.ya.ONE,this.ya.ONE_MINUS_SRC_ALPHA)};
a.prototype.Wk=function(a,b,c,k,d,f,h,g){15992<=this.Of&&this.yg();var t=this.Of,q=this.Ei,u=this.Wn,x=this.Fn,z=this.Po;if(this.Tc)this.Uf[this.rf-1].ve+=6;else{var E=this.he();E.type=1;E.yd=this.Qb?t:t/2*3;E.ve=6;this.Tc=!0;this.td=!1}this.Qb?(u[t++]=a,u[t++]=b,u[t++]=z,u[t++]=c,u[t++]=k,u[t++]=z,u[t++]=d,u[t++]=f,u[t++]=z,u[t++]=h,u[t++]=g,u[t++]=z):(u[t++]=a,u[t++]=b,u[t++]=c,u[t++]=k,u[t++]=d,u[t++]=f,u[t++]=h,u[t++]=g);x[q++]=0;x[q++]=0;x[q++]=1;x[q++]=0;x[q++]=1;x[q++]=1;x[q++]=0;x[q++]=1;
this.Of=t;this.Ei=q};a.prototype.dg=function(a,b,c,k,d,f,h,g,t){15992<=this.Of&&this.yg();var q=this.Of,u=this.Ei,x=this.Wn,z=this.Fn,E=this.Po;if(this.Tc)this.Uf[this.rf-1].ve+=6;else{var B=this.he();B.type=1;B.yd=this.Qb?q:q/2*3;B.ve=6;this.Tc=!0;this.td=!1}var B=t.left,D=t.top,C=t.right;t=t.bottom;this.Qb?(x[q++]=a,x[q++]=b,x[q++]=E,x[q++]=c,x[q++]=k,x[q++]=E,x[q++]=d,x[q++]=f,x[q++]=E,x[q++]=h,x[q++]=g,x[q++]=E):(x[q++]=a,x[q++]=b,x[q++]=c,x[q++]=k,x[q++]=d,x[q++]=f,x[q++]=h,x[q++]=g);z[u++]=
B;z[u++]=D;z[u++]=C;z[u++]=D;z[u++]=C;z[u++]=t;z[u++]=B;z[u++]=t;this.Of=q;this.Ei=u};a.prototype.bG=function(a,b,c,k,d,f,h,g,t,q,u,x,z,E,B,D){15992<=this.Of&&this.yg();var C=this.Of,y=this.Ei,w=this.Wn,F=this.Fn,I=this.Po;if(this.Tc)this.Uf[this.rf-1].ve+=6;else{var Q=this.he();Q.type=1;Q.yd=this.Qb?C:C/2*3;Q.ve=6;this.Tc=!0;this.td=!1}this.Qb?(w[C++]=a,w[C++]=b,w[C++]=I,w[C++]=c,w[C++]=k,w[C++]=I,w[C++]=d,w[C++]=f,w[C++]=I,w[C++]=h,w[C++]=g,w[C++]=I):(w[C++]=a,w[C++]=b,w[C++]=c,w[C++]=k,w[C++]=
d,w[C++]=f,w[C++]=h,w[C++]=g);F[y++]=t;F[y++]=q;F[y++]=u;F[y++]=x;F[y++]=z;F[y++]=E;F[y++]=B;F[y++]=D;this.Of=C;this.Ei=y};a.prototype.OF=function(a,b,c,k){7996<=this.Vk&&this.yg();var d=this.Vk,f=this.su;if(this.td)this.Uf[this.rf-1].ve++;else{var h=this.he();h.type=8;h.yd=d;h.ve=1;this.td=!0;this.Tc=!1}f[d++]=a;f[d++]=b;f[d++]=c;f[d++]=k;this.Vk=d};a.prototype.Ce=function(a){if(this.Fm!==a){if(!this.mc[a]){if(0===this.Fm)return;a=0}var b=this.he();b.type=9;this.Fm=b.yd=a;this.td=this.Tc=!1}};a.prototype.kn=
function(a){a=this.mc[a];return!(!a.wj&&!a.vj)};a.prototype.vu=function(a){a=this.mc[a];return!!(a.wj||a.vj||a.ts)};a.prototype.uu=function(a){return this.mc[a].Gf};a.prototype.YF=function(a){a=this.mc[a];return 0!==a.Zo||0!==a.$o};a.prototype.AE=function(a){return this.mc[a].Zo};a.prototype.BE=function(a){return this.mc[a].$o};a.prototype.CE=function(a,b){return this.mc[a].Ta[b][2]};a.prototype.Cq=function(a){return this.mc[a].bs};a.prototype.$k=function(a,b,c,k,d,f,h,g,t,q,u,x,z,E,B){var D=this.mc[this.Fm],
C,y;if(D.WE||B.length){C=this.he();C.type=10;C.fb?ad(this.ef,C.fb):C.fb=$c();y=C.fb;y[0]=b;y[1]=c;y[2]=k;y[3]=d;y[4]=f;y[5]=h;y[6]=g;y[7]=t;y[8]=q;y[9]=u;y[10]=x;y[11]=z;y[12]=E;D.Sm?C.Mf=a:C.Mf=null;if(B.length)for(c=C.hz,c.length=B.length,a=0,b=B.length;a<b;a++)c[a]=B[a];this.td=this.Tc=!1}};a.prototype.clear=function(a,b,c,k){var d=this.he();d.type=7;d.yd=0;d.fb||(d.fb=$c());d.fb[0]=a;d.fb[1]=b;d.fb[2]=c;d.fb[3]=k;this.td=this.Tc=!1};a.prototype.clearRect=function(a,b,c,k){if(!(0>c||0>k)){var d=
this.he();d.type=7;d.yd=1;d.fb||(d.fb=$c());d.fb[0]=a;d.fb[1]=b;d.fb[2]=c;d.fb[3]=k;this.td=this.Tc=!1}};a.prototype.$y=function(a){if(this.Qb&&(a=!!a,this.qm!==a)){var b=this.he();b.type=14;b.yd=a?1:0;this.td=this.Tc=!1;this.qm=a;this.Gq=null;this.qm?this.Ce(2):this.Ce(0)}};a.prototype.Yy=function(a){if(this.Qb){var b=this.he();b.type=13;b.yd=a?1:0;this.td=this.Tc=!1}};a.prototype.Qw=function(){ad(this.Ft,g);this.If();this.kf();var a=this.width/2,b=this.height/2;this.Wk(-a,b,a,b,a,-b,-a,-b);ad(g,
this.ef);this.kf()};a.prototype.Xy=function(a,b,c){this.Ce(3);var k=this.he();k.type=12;k.fb||(k.fb=$c());k.fb[0]=a;k.fb[1]=b;k.fb[2]=c;k.fb[3]=1;this.td=this.Tc=!1};a.prototype.vG=function(){this.Ce(0)};a.prototype.gG=function(){this.Ce(2)};a.prototype.VF=function(){this.yg();this.ya.flush()};var f=[],h={};a.prototype.PC=function(){H(f);h={}};a.prototype.Hk=function(a,b,c,k){b=!!b;c=!!c;var d=a.src+","+b+","+c+(b?",undefined":""),g=null;if("undefined"!==typeof a.src&&h.hasOwnProperty(d))return g=
h[d],g.Do++,g;this.yg();var r=this.ya,v=pa(a.width)&&pa(a.height),g=r.createTexture();r.bindTexture(r.TEXTURE_2D,g);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var t=r.RGBA,q=r.RGBA,u=r.UNSIGNED_BYTE;if(k&&!this.gh)switch(k){case 1:q=t=r.RGB;break;case 2:u=r.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=r.UNSIGNED_SHORT_5_5_5_1;break;case 4:q=t=r.RGB,u=r.UNSIGNED_SHORT_5_6_5}if(!v&&b){k=document.createElement("canvas");k.width=qa(a.width);k.height=qa(a.height);var x=k.getContext("2d");x.webkitImageSmoothingEnabled=
c;x.mozImageSmoothingEnabled=c;x.msImageSmoothingEnabled=c;x.imageSmoothingEnabled=c;x.drawImage(a,0,0,a.width,a.height,0,0,k.width,k.height);r.texImage2D(r.TEXTURE_2D,0,t,q,u,k)}else r.texImage2D(r.TEXTURE_2D,0,t,q,u,a);b?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE));c?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,
r.LINEAR),v&&this.Hw?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.generateMipmap(r.TEXTURE_2D)):r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST));r.bindTexture(r.TEXTURE_2D,null);this.gi=null;g.Ui=a.width;g.Ti=a.height;g.Do=1;g.rw=d;f.push(g);return h[d]=g};a.prototype.Ke=function(a,b,c,k,d){this.yg();var h=this.ya;this.gh&&(k=!1);var g=
h.createTexture();h.bindTexture(h.TEXTURE_2D,g);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,a,b,0,h.RGBA,k?h.UNSIGNED_SHORT_4_4_4_4:h.UNSIGNED_BYTE,null);d?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,c?h.LINEAR:h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,
c?h.LINEAR:h.NEAREST);h.bindTexture(h.TEXTURE_2D,null);this.gi=null;g.Ui=a;g.Ti=b;f.push(g);return g};a.prototype.Rz=function(a,b,c){this.yg();var k=this.ya;this.gh&&(c=!1);k.bindTexture(k.TEXTURE_2D,b);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{k.texImage2D(k.TEXTURE_2D,0,k.RGBA,k.RGBA,c?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,a)}catch(d){console&&console.error&&console.error("Error updating WebGL texture: ",d)}k.bindTexture(k.TEXTURE_2D,null);this.gi=null};a.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.Do&&1<a.Do?a.Do--:(this.yg(),a===this.gi&&(this.ya.bindTexture(this.ya.TEXTURE_2D,null),this.gi=null),a===this.qj&&(this.ya.activeTexture(this.ya.TEXTURE1),this.ya.bindTexture(this.ya.TEXTURE_2D,null),this.ya.activeTexture(this.ya.TEXTURE0),this.qj=null),La(f,a),"undefined"!==typeof a.rw&&delete h[a.rw],this.ya.deleteTexture(a)))};a.prototype.Jf=function(a){if(a!==this.Gq){var b=this.he();b.type=6;this.Gq=b.Mf=a;this.td=this.Tc=!1}};Yb=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Le=(this.pm=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Ld=!!a.dc;this.rx="undefined"!==typeof window.AppMobi||
this.Ld;this.Af=!!window.c2cocoonjs;this.Zf=!!window.c2ejecta;this.Af&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Zf&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.eb=this.Ld||this.Af||this.Zf;this.tm=
/edge\//i.test(navigator.userAgent);this.gh=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.tm;this.wx=/tizen/i.test(navigator.userAgent);this.Hp=/android/i.test(navigator.userAgent)&&!this.wx&&!this.gh&&!this.tm;this.Ax=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.gh&&!this.tm;this.nF=/ipad/i.test(navigator.userAgent);this.xk=this.Ax||this.nF||this.Zf;this.nm=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.gh&&!this.tm;this.mt=/amazonwebappplatform/i.test(navigator.userAgent);this.fF=/firefox/i.test(navigator.userAgent);this.kF=/safari/i.test(navigator.userAgent)&&!this.nm&&!this.gh&&!this.tm;this.lF=/windows/i.test(navigator.userAgent);this.di="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.xx=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.yx=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.sk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.yt=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.xt=!!window.cr_windows10;this.ut=this.xx||this.yx||this.yt||this.xt;this.dF=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Ip=this.Hp&&!this.nm&&!this.pm&&!this.fF&&!this.mt&&!this.eb;this.devicePixelRatio=
1;this.hh=this.Le||this.pm||this.rx||this.Af||this.Hp||this.xk||this.sk||this.yt||this.dF||this.wx||this.Zf;this.hh||(this.hh=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.wm=!!(this.xk&&this.Le&&window.indexedDB);this.bt=null;this.YE="";this.wm&&(this.bt=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.di||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.di=!0);this.canvas=a;this.$j=document.getElementById("c2canvasdiv");this.la=this.ya=null;this.Ws="(unavailable)";this.Qb=!1;this.Zi=0;this.Ab=null;this.Is="";this.gp=!1;this.oy=this.qy=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Ld&&(window.c2runtime=this);this.di&&(window.ondragover=function(a){a.preventDefault();return!1},
window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Ip&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.Ha=this.width;this.Ga=this.height;this.Mo=this.width;this.Ml=this.height;this.Dk=window.innerWidth;this.Ck=window.innerHeight;this.iE=!1;this.Ua=!0;this.mj=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types=
{};this.ua=[];this.fc=[];this.Lt={};this.$f=[];this.Cs={};this.ah=[];this.ll=[];this.mr=[];this.Yr=[];this.AC=[];this.Cx=this.nz=null;this.Yi={};this.ot=this.ci=!1;this.cf=0;this.nt=this.qt=!1;this.Wf=[];this.rm=!1;this.kh=this.Od=this.Tp=this.Ku="";this.Bn=this.lz=!1;this.fp=[];this.Yh=this.Xa=0;this.by=30;this.rs=this.Wm=0;this.hg=1;this.dd=new Bb;this.Eh=new Bb;this.hq=this.op=this.bj=this.jf=this.sj=this.Gs=this.Qp=0;this.Gl=null;this.Wo=[];this.Bs=[];this.Yo=-1;this.St=[[]];this.hv=this.Xp=0;
this.Dq(null);this.Ut=[];this.Zp=-1;this.Sl=this.jy=this.$m=0;this.Cn=[];this.cv=this.zu=-1;this.zm=!0;this.Jk=0;this.um=!1;this.zG=0;this.Yj=null;this.Sb=this.wp=!1;this.cu=new ca;this.du=new ca;this.eu=new ca;this.qn=[];this.fg=new Eb([]);this.Xu=new Eb([]);this.Wj=[];this.nk={};this.Th={};this.Nh={};this.kl={};this.ow={};this.Ix=this.Sp=this.Fc=this.Uc=this.Hx=this.Rp=this.Ob=null;this.il=this.zt=!1;this.Js=[null,null];this.cj=0;this.Es="";this.qh={};this.zn=this.ji=null;this.mz="";this.gq=[];
this.fG()}}function c(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function g(a,b,c,k){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=d;f.onerror=k;f.onsuccess=function(d){d=d.target.result;d.onerror=k;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}catch(h){k(h)}}function f(a,b,c){try{var k=indexedDB.open("_C2SaveStates");
k.onupgradeneeded=d;k.onerror=c;k.onsuccess=function(k){k=k.target.result;k.onerror=c;var d=k.transaction(["saves"]).objectStore("saves").get(a);d.onsuccess=function(){d.result?b(d.result.data):b(null)}}}catch(f){c(f)}}function h(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function e(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof
ca||a[b]&&"undefined"!==typeof a[b].vg||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.fG=function(){var a=this;if(this.wm)this.bt?this.bt.startServer({port:0,localhost_only:!0},function(b){a.YE=b;a.Nw(function(b){a.Gk(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+
a)}):this.Nw(function(b){a.Gk(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.sk?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.xx||this.sk||this.yt||this.xt)c="data.json";b.open("GET",c,!0);var k=!1;if(!this.eb&&"response"in b&&"responseType"in b)try{b.responseType="json",k="json"===b.responseType}catch(d){k=!1}if(!k&&"responseType"in b)try{b.responseType="text"}catch(f){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(h){}this.sk?
b.onreadystatechange=function(){4===b.readyState&&a.Gk(JSON.parse(b.responseText))}:(b.onload=function(){if(k)a.Gk(b.response);else if(a.Zf){var c=b.responseText,c=c.substr(c.indexOf("{"));a.Gk(JSON.parse(c))}else a.Gk(JSON.parse(b.responseText))},b.onerror=function(a){ja("Error requesting "+c+":");ja(a)});b.send()}};a.prototype.aF=function(){var a=this,b,c,k,d,f,h,e,l,g;this.lj=(!this.eb||this.Zf||this.Le)&&this.LG&&!this.Ip;0===this.Zd&&this.xk&&(this.lj=!1);this.devicePixelRatio=this.lj?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ad();c=!(!this.iE&&(!this.$r||this.di||this.ut||this.sk||this.pm||this.Le||this.mt));0<this.Zd&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.zD&&(this.Af||this.Zf||!this.eb)&&(b={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.ya=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(m){}if(this.ya){if(b=this.ya.getExtension("WEBGL_debug_renderer_info"))this.Ws=
this.ya.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.ya.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Qb&&(this.Ws+=" [front-to-back enabled]");this.eb||(this.ud=document.createElement("canvas"),jQuery(this.ud).appendTo(this.canvas.parentNode),this.ud.oncontextmenu=function(){return!1},this.ud.onselectstart=function(){return!1},this.ud.width=Math.round(this.Mo*this.devicePixelRatio),this.ud.height=Math.round(this.Ml*this.devicePixelRatio),jQuery(this.ud).css({width:this.Mo+"px",height:this.Ml+
"px"}),this.Jy(),this.ou=this.ud.getContext("2d"));this.la=new Yb(this.ya,this.hh,this.Qb);this.la.Kj(this.canvas.width,this.canvas.height);this.la.Hw=0!==this.sD;this.Ab=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.FF();fa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.la.kx();a.la.Kj(a.la.width,a.la.height,!0);a.Uc=null;a.Fc=null;a.Js[0]=null;a.Js[1]=null;a.GF();a.Ua=!0;
fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(c=this.ua.length;b<c;b++)for(f=this.ua[b],k=0,d=f.Qa.length;k<d;k++)e=f.Qa[k],e.Kc=this.la.Ts(e.id),e.Gf=this.la.uu(e.Kc),this.il=this.il||this.la.kn(e.Kc);b=0;for(c=this.$f.length;b<c;b++){l=this.$f[b];k=0;for(d=l.Qa.length;k<d;k++)e=l.Qa[k],e.Kc=this.la.Ts(e.id),e.Gf=this.la.uu(e.Kc);l.jg();k=0;for(d=l.Sa.length;k<d;k++){g=l.Sa[k];f=0;for(h=g.Qa.length;f<h;f++)e=g.Qa[f],e.Kc=this.la.Ts(e.id),e.Gf=this.la.uu(e.Kc),
this.il=this.il||this.la.kn(e.Kc);g.jg()}}}else{if(0<this.Zd&&this.Ld){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ab=AppMobi.canvas.getContext("2d");try{this.Ab.samplingMode=this.Ya?"smooth":"sharp",this.Ab.globalScale=1,this.Ab.HTML5CompatibilityMode=!0,this.Ab.imageSmoothingEnabled=this.Ya}catch(n){}0!==this.width&&0!==this.height&&(this.Ab.width=this.width,this.Ab.height=this.height)}this.Ab||(this.Af?(b={antialias:!!this.Ya,alpha:c},
this.Ab=this.canvas.getContext("2d",b)):(b={alpha:c},this.Ab=this.canvas.getContext("2d",b)),this.Ab.webkitImageSmoothingEnabled=this.Ya,this.Ab.mozImageSmoothingEnabled=this.Ya,this.Ab.msImageSmoothingEnabled=this.Ya,this.Ab.imageSmoothingEnabled=this.Ya);this.ou=this.ud=null}this.xz=function(b){a.mb(!1,b)};window==window.top||this.eb||this.ut||this.sk||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==
typeof cr_is_preview&&(this.Af&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),this.Tp="__c2_continuouspreview",this.Bn=!0),this.MF&&!this.hh&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Dj()});this.eb||(b=function(a){if(Xb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&
document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Zd&&this.lj&&1<this.devicePixelRatio&&this.setSize(this.Ic,this.Hc,!0);this.Gz();this.SE();this.go();this.na={}};a.prototype.setSize=function(a,b,c){var k=0,d=0,f=0,h=0,h=0;if(this.Dk!==
a||this.Ck!==b||c){this.Dk=a;this.Ck=b;var e=this.Zd,l=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.um)&&!this.Le;if(l||0!==this.Zd||c)l&&0<this.cj&&(e=this.cj),c=this.devicePixelRatio,4<=e?(f=this.Ic/this.Hc,a/b>f?(f*=b,5===e?(h=f*c/this.Ic,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),f=this.Ic*h/c,h=this.Hc*h/c,k=(a-f)/2,d=(b-h)/2,a=f,b=h):(k=(a-f)/2,a=f)):(h=a/f,5===e?(h=h*c/this.Hc,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),
f=this.Ic*h/c,h=this.Hc*h/c,k=(a-f)/2,d=(b-h)/2,a=f):d=(b-h)/2,b=h),l&&!this.di&&(d=k=0)):this.di&&this.um&&0===this.Rw&&(k=Math.floor((a-this.Ic)/2),d=Math.floor((b-this.Hc)/2),a=this.Ic,b=this.Hc),2>e&&(this.El=c),this.Mo=Math.round(a),this.Ml=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.Ua=!0,this.Sz?(this.Ha=this.width,this.Ga=this.height,this.Ye=!0):this.width<this.Ic&&this.height<this.Hc||1===e?(this.Ha=this.width,this.Ga=this.height,this.Ye=!0):(this.Ha=this.Ic,
this.Ga=this.Hc,this.Ye=!1,2===e?(f=this.Ic/this.Hc,e=this.Dk/this.Ck,e<f?this.Ha=this.Ga*e:e>f&&(this.Ga=this.Ha/e)):3===e&&(f=this.Ic/this.Hc,e=this.Dk/this.Ck,e>f?this.Ha=this.Ga*e:e<f&&(this.Ga=this.Ha/e))),this.$j&&!this.eb&&(jQuery(this.$j).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(k)+"px","margin-top":Math.floor(d)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=
Math.round(a*c),this.canvas.height=Math.round(b*c),this.Zf?(this.canvas.style.left=Math.floor(k)+"px",this.canvas.style.top=Math.floor(d)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.lj&&!this.eb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.ud&&(this.ud.width=Math.round(a*c),this.ud.height=Math.round(b*c),this.ud.style.width=this.Mo+"px",this.ud.style.height=this.Ml+"px"),this.la&&this.la.Kj(Math.round(a*
c),Math.round(b*c)),this.Ld&&this.Ab&&(this.Ab.width=Math.round(a),this.Ab.height=Math.round(b)),this.Ab&&(this.Ab.webkitImageSmoothingEnabled=this.Ya,this.Ab.mozImageSmoothingEnabled=this.Ya,this.Ab.msImageSmoothingEnabled=this.Ya,this.Ab.imageSmoothingEnabled=this.Ya),this.Gz(),this.Ax&&!this.Le&&window.scrollTo(0,0)}};a.prototype.Gz=function(){if(this.EC&&0!==this.mu){var a="portrait";2===this.mu&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?
screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};a.prototype.FF=function(){this.la.PC();this.zt=!0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Tk&&c.Tk()};a.prototype.GF=function(){this.zt=!1;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.cn&&c.cn()};
a.prototype.Jy=function(){if(!this.eb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.um)&&!this.Le?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.ud).css(a)}};var l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.mj)for(fa("[Construct 2] Suspending"),
this.mj=!0,-1!==this.zu&&l&&l(this.zu),-1!==this.cv&&clearTimeout(this.cv),a=0,b=this.Cn.length;a<b;a++)this.Cn[a](!0);else if(!a&&this.mj){fa("[Construct 2] Resuming");this.mj=!1;this.Qp=tb();this.sj=tb();a=this.Wm=this.op=0;for(b=this.Cn.length;a<b;a++)this.Cn[a](!1);this.mb(!1)}};a.prototype.Xr=function(a){this.Cn.push(a)};a.prototype.Jh=function(a){return this.gq[a]};a.prototype.Gk=function(a){a&&a.project||ja("Project model unavailable");a=a.project;this.name=a[0];this.Pw=a[1];this.Zd=a[12];
this.Rw=a[12];this.Ic=a[10];this.Hc=a[11];this.Ey=this.Ic/2;this.Fy=this.Hc/2;this.eb&&!this.Zf&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Rw=this.Zd=3);this.pv=a[18];this.ki=a[19];if(0===this.ki){var b=new Image;b.crossOrigin="anonymous";this.az(b,"loading-logo.png");this.ji={Yp:b}}else if(4===this.ki){b=new Image;b.src="";var c=new Image;c.src="";var k=new Image;k.src="";var d=new Image;d.src=
"";var f=new Image;f.src="";var h=new Image;h.src="";var e=new Image;e.src="";var l=new Image;l.src="";var g=new Image;g.src="";var m=new Image;m.src="";var n=new Image;n.src="";var u=new Image;u.src="";this.ji={Yp:[b,c,k,d],SF:[f,h,e,l],PG:[g,m,n,u]}}this.$m=a[21];this.gq=ed();this.Ng=new L(this);b=0;for(c=a[2].length;b<c;b++)e=a[2][b],k=this.Jh(e[0]),Zb(e,k.prototype),l=new k(this),l.Vq=e[1],l.ei=e[2],l.gy=e[9],l.ma&&l.ma(),this.plugins.push(l);this.gq=ed();b=0;for(c=a[3].length;b<c;b++){e=a[3][b];
f=this.Jh(e[1]);l=null;k=0;for(d=this.plugins.length;k<d;k++)if(this.plugins[k]instanceof f){l=this.plugins[k];break}g=new l.wa(l);g.name=e[0];g.Aa=e[2];g.lt=e[3].slice(0);g.NG=e[3].length;g.FC=e[4];g.kE=e[5];g.kb=e[11];g.Aa?(g.Ok=[],g.bh=this.Sl++,g.ec=null):(g.Ok=null,g.bh=-1,g.ec=[]);g.dp=null;g.jk=null;g.Iw=null;g.Md=!1;g.Je=null;e[6]?(g.Gn=e[6][0],g.Hn=e[6][1],g.In=e[6][2]):(g.Gn=null,g.Hn=0,g.In=0);e[7]?g.He=e[7]:g.He=null;g.index=b;g.H=[];g.Ro=[];g.Ah=[new $b(g)];g.xg=0;g.wf=null;g.Bw=0;g.el=
!0;g.nr=ac;g.Ps=bc;g.yE=cc;g.La=ec;g.mn=fc;g.nn=gc;g.wi=hc;g.pp=ic;g.Ls=jc;g.Os=kc;g.Ie=lc;g.Qs=mc;g.Hl=new Fb(this.Ic,this.Hc);g.ro=!0;g.so=!1;g.na={};g.toString=nc;g.fc=[];k=0;for(d=e[8].length;k<d;k++){m=e[8][k];n=this.Jh(m[1]);u=null;f=0;for(h=this.fc.length;f<h;f++)if(this.fc[f]instanceof n){u=this.fc[f];break}u||(u=new n(this),u.dq=[],u.cq=new ca,u.ma&&u.ma(),this.fc.push(u),gd&&u instanceof gd&&(this.nz=u),hd&&u instanceof hd&&(this.Cx=u));-1===u.dq.indexOf(g)&&u.dq.push(g);f=new u.wa(u,g);
f.name=m[0];f.kb=m[2];f.ma();g.fc.push(f)}g.global=e[9];g.pt=e[10];g.Qa=[];k=0;for(d=e[12].length;k<d;k++)g.Qa.push({id:e[12][k][0],name:e[12][k][1],Kc:-1,Gf:!1,xc:!0,index:k});g.hr=e[13];this.pv&&!g.Aa&&!g.pt&&l.ei||g.ma();g.name&&(this.types[g.name]=g);this.ua.push(g);l.Vq&&(k=new l.ta(g),k.uid=this.$m++,k.Py=this.jy++,k.ij=0,k.fm=oc,k.toString=pc,k.U=e[14],k.ma(),g.H.push(k),this.qh[k.uid.toString()]=k)}b=0;for(c=a[4].length;b<c;b++)for(f=a[4][b],h=this.ua[f[0]],k=1,d=f.length;k<d;k++)e=this.ua[f[k]],
e.ec.push(h),h.Ok.push(e);b=0;for(c=a[28].length;b<c;b++){f=a[28][b];h=[];k=0;for(d=f.length;k<d;k++)h.push(this.ua[f[k]]);k=0;for(d=h.length;k<d;k++)h[k].Md=!0,h[k].Je=h}if(0<this.Sl)for(b=0,c=this.ua.length;b<c;b++)if(e=this.ua[b],!e.Aa&&e.ec.length){e.dp=Array(this.Sl);e.jk=Array(this.Sl);e.Iw=Array(this.Sl);g=[];k=u=n=m=0;for(d=e.ec.length;k<d;k++)for(l=e.ec[k],e.dp[l.bh]=m,m+=l.NG,e.jk[l.bh]=n,n+=l.FC,e.Iw[l.bh]=u,u+=l.kE,f=0,h=l.Qa.length;f<h;f++)g.push(Ca({},l.Qa[f]));e.Qa=g.concat(e.Qa);k=
0;for(d=e.Qa.length;k<d;k++)e.Qa[k].index=k}b=0;for(c=a[5].length;b<c;b++)e=a[5][b],k=new qc(this,e),this.Lt[k.name]=k,this.$f.push(k);b=0;for(c=a[6].length;b<c;b++)e=a[6][b],k=new rc(this,e),this.Cs[k.name]=k,this.ah.push(k);b=0;for(c=this.ah.length;b<c;b++)this.ah[b].wc();b=0;for(c=this.ah.length;b<c;b++)this.ah[b].lv();b=0;for(c=this.mr.length;b<c;b++)this.mr[b].wc();H(this.mr);this.DC=a[7];this.Es=a[8];this.ze=a[9];this.El=1;this.zD=a[13];this.Ya=a[14];this.$r=a[15];this.OG=a[16];this.LG=a[17];
this.mu=a[20];this.EC=0<this.mu;this.MF=a[22];this.Ye=this.Sz=a[23];this.sD=a[24];this.TF=a[25];this.Qb=a[27]&&!this.gh;this.Zq=Date.now();H(this.gq);this.aF()};var k=!1;a.prototype.tr=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){k=a.qw=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.Zf?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){k=a.qw=!0;console&&console.error&&console.error("Error extracting image '"+
b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.az(a,b)));this.ll.push(a)};a.prototype.gE=function(a){var b,c;b=0;for(c=this.ll.length;b<c;b++)if(this.ll[b].SC===a)return this.ll[b];return null};var n=0,p=!1;a.prototype.SE=function(){this.Yj&&(n=this.Yj.tG(this.DC))};a.prototype.kw=function(){var a=n,b=0,c=0,k=!0,d,f,c=0;for(d=this.ll.length;c<d;c++){f=this.ll[c];var e=f.Ko;if(!e||0>=e)e=5E4;a+=e;f.src&&(f.complete||f.loaded)&&!f.qw?b+=e:k=!1}k&&this.TF&&this.Yj&&(p||(this.Yj.AG(),
p=!0),c=this.Yj.zE(),b+=c,c<n&&(k=!1));this.bg=0==a?1:b/a;return k};var r=!1;a.prototype.go=function(){if(this.Ab||this.la){var a=this.Ab||this.ou;this.ud&&this.Jy();var b=window.innerWidth,c=window.innerHeight;this.Dk===b&&this.Ck===c||this.setSize(b,c);this.bg=0;this.Gx=-1;var d=this;if(this.kw()&&(4!==this.ki||r))this.TE();else{c=Date.now()-this.Zq;if(a){var f=this.width,e=this.height,b=this.devicePixelRatio;if(3>this.ki&&(this.Af||500<=c&&this.Gx!=this.bg)){a.clearRect(0,0,f,e);var c=f/2,e=e/
2,f=0===this.ki&&this.ji.Yp.complete,h=40*b,g=0,l=80*b,n;if(f){var u=this.ji.Yp,l=u.width*b;n=u.height*b;h=l/2;g=n/2;a.drawImage(u,wa(c-h),wa(e-g),l,n)}1>=this.ki?(c=wa(c-h)+.5,e=wa(e+(g+(f?12*b:0)))+.5,a.fillStyle=k?"red":"DodgerBlue",a.fillRect(c,e,Math.floor(l*this.bg),6*b),a.strokeStyle="black",a.strokeRect(c,e,l,6*b),a.strokeStyle="white",a.strokeRect(c-1*b,e-1*b,l+2*b,8*b)):2===this.ki&&(a.font=this.Zf?"12pt ArialMT":"12pt Arial",a.fillStyle=k?"#f00":"#999",a.XH="middle",b=Math.round(100*this.bg)+
"%",f=a.measureText?a.measureText(b):null,a.fillText(b,c-(f?f.width:0)/2,e));this.Gx=this.bg}else if(4===this.ki){this.xD(a);m?m(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.Af?10:100)}}};var v=-1,t="undefined"===typeof cr_is_preview?200:0,q=!0,u=!1,x=0,z=0,E="undefined"===typeof cr_is_preview?3E3:0,B=null,D=null,C=0;a.prototype.xD=function(a){if(!r){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),f=this.ji.Yp,e=this.ji.SF,h=this.ji.PG,
l=0;4>l;++l)if(!f[l].complete||!e[l].complete||!h[l].complete)return;0===C&&(v=Date.now());var l=Date.now(),g=!1,m=a,n,p;q||u?(a.clearRect(0,0,b,d),B&&B.width===b&&B.height===d||(B=document.createElement("canvas"),B.width=b,B.height=d,D=B.getContext("2d")),m=D,g=!0,q&&1===C&&(v=Date.now())):a.globalAlpha=1;m.fillStyle="#333333";m.fillRect(0,0,b,d);256<this.Ml?(n=Ma(.22*d,105,.6*b),p=.25*n,m.drawImage(c(e,n),.5*b-n/2,.2*d-p/2,n,p),p=n=Math.min(.395*d,.95*b),m.drawImage(c(f,n),.5*b-n/2,.485*d-p/2,n,
p),n=Ma(.22*d,105,.6*b),p=.25*n,m.drawImage(c(h,n),.5*b-n/2,.868*d-p/2,n,p),m.fillStyle="#3C3C3C",n=b,p=Math.max(.005*d,2),m.fillRect(0,.8*d-p/2,n,p),m.fillStyle=k?"red":"#E0FF65",n=b*this.bg,m.fillRect(.5*b-n/2,.8*d-p/2,n,p)):(p=n=.55*d,m.drawImage(c(f,n),.5*b-n/2,.45*d-p/2,n,p),m.fillStyle="#3C3C3C",n=b,p=Math.max(.005*d,2),m.fillRect(0,.85*d-p/2,n,p),m.fillStyle=k?"red":"#E0FF65",n=b*this.bg,m.fillRect(.5*b-n/2,.85*d-p/2,n,p));g&&(q?a.globalAlpha=0===C?0:Math.min((l-v)/300,1):u&&(a.globalAlpha=
Math.max(1-(l-z)/300,0)),a.drawImage(B,0,0,b,d));q&&300<=l-v&&2<=C&&(q=!1,x=l);!q&&l-x>=E&&!u&&1<=this.bg&&(u=!0,z=l);if(u&&l-z>=300+t||"undefined"!==typeof cr_is_preview&&1<=this.bg&&500>Date.now()-v)r=!0,u=q=!1,this.ji=D=B=null;++C}};a.prototype.TE=function(){this.ud&&(this.canvas.parentNode.removeChild(this.ud),this.ud=this.ou=null);this.Zq=Date.now();this.sj=tb();var a,b,c;if(this.pv)for(a=0,b=this.ua.length;a<b;a++)c=this.ua[a],c.Aa||c.pt||!c.Za.ei||c.ma();else this.zm=!1;a=0;for(b=this.$f.length;a<
b;a++)this.$f[a].TC();2<=this.Zd&&(a=this.Ic/this.Hc,b=this.width/this.height,this.El=2!==this.Zd&&b>a||2===this.Zd&&b<a?this.height/this.Hc:this.width/this.Ic);this.Pw?this.Lt[this.Pw].Vu():this.$f[0].Vu();this.pv||(this.Jk=1,this.trigger(L.prototype.F.Nv,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.EF&&c.EF();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.mb(!1);this.Ld&&AppMobi.webview.execute("onGameReady();")};a.prototype.mb=function(a,b,c){if(this.Ob){var k=tb();if(c||!this.mj||a){a||(m?this.zu=m(this.xz):this.cv=setTimeout(this.xz,this.hh?1:16));b=b||k;var d=this.Zd;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Le)||this.um)&&0<this.cj&&(d=this.cj);if(0<d){var d=window.innerWidth,f=window.innerHeight;this.Dk===d&&this.Ck===f||this.setSize(d,f)}this.eb||(c?(this.gp||(this.Is=
jQuery(this.canvas).css("margin")||"0",this.gp=!0),this.nm||this.di||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.gp?(this.nm||this.di||jQuery(this.canvas).css("margin",this.Is),this.Is="",this.gp=!1,0===this.Zd&&this.setSize(Math.round(this.qy/this.devicePixelRatio),Math.round(this.oy/this.devicePixelRatio),!0)):(this.qy=this.width,this.oy=this.height));
this.zm&&(c=this.kw(),this.Jk=this.bg,c&&(this.zm=!1,this.bg=1,this.trigger(L.prototype.F.Nv,null)));this.rF(b);!this.Ua&&!this.Af||this.zt||this.Bn||a||(this.Ua=!1,this.la?this.Bc():this.Yd(),this.zn&&(this.canvas&&this.canvas.toDataURL&&(this.mz=this.canvas.toDataURL(this.zn[0],this.zn[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.mz),this.trigger(L.prototype.F.UA,null)),this.zn=null));this.JH||(this.jf++,this.bj++,this.op++);this.Wm+=tb()-k}}};a.prototype.rF=function(a){var b,c,k,d,f,e,h,
l;1E3<=a-this.sj&&(this.sj+=1E3,1E3<=a-this.sj&&(this.sj=a),this.Gs=this.op,this.op=0,this.rs=this.Wm,this.Wm=0);b=0;0!==this.Qp&&(b=a-this.Qp,0>b&&(b=0),this.Yh=b/=1E3,.5<this.Yh?this.Yh=0:this.Yh>1/this.by&&(this.Yh=1/this.by));this.Qp=a;this.Xa=this.Yh*this.hg;this.dd.add(this.Xa);this.Eh.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.um)&&!this.Le;2<=this.Zd||a&&0<this.cj?(b=this.Ic/this.Hc,c=this.width/this.height,k=this.Zd,
a&&0<this.cj&&(k=this.cj),this.El=2!==k&&c>b||2===k&&c<b?this.height/this.Hc:this.width/this.Ic,this.Ob&&(this.Ob.Lu(this.Ob.scrollX),this.Ob.Mu(this.Ob.scrollY))):this.El=this.lj?this.devicePixelRatio:1;this.Ad();this.cf++;this.Ng.kG();this.cf--;this.Ad();this.cf++;c=this.cu.kg();a=0;for(b=c.length;a<b;a++)c[a].WF();a=0;for(b=this.ua.length;a<b;a++)if(e=this.ua[a],!e.Aa&&(e.fc.length||e.ec.length))for(c=0,k=e.H.length;c<k;c++)for(h=e.H[c],d=0,f=h.Ka.length;d<f;d++)h.Ka[d].mb();a=0;for(b=this.ua.length;a<
b;a++)if(e=this.ua[a],!e.Aa&&(e.fc.length||e.ec.length))for(c=0,k=e.H.length;c<k;c++)for(h=e.H[c],d=0,f=h.Ka.length;d<f;d++)l=h.Ka[d],l.Ly&&l.Ly();c=this.du.kg();a=0;for(b=c.length;a<b;a++)c[a].mb();this.cf--;this.VE();for(a=0;this.Gl&&10>a++;)this.Gw(this.Gl);a=0;for(b=this.ah.length;a<b;a++)this.ah[a].$s=!1;this.Ob.$i&&this.Ob.$i.Jc();H(this.qn);this.cf++;a=0;for(b=this.ua.length;a<b;a++)if(e=this.ua[a],!e.Aa&&(e.fc.length||e.ec.length))for(c=0,k=e.H.length;c<k;c++)for(h=e.H[c],d=0,f=h.Ka.length;d<
f;d++)l=h.Ka[d],l.Jn&&l.Jn();c=this.eu.kg();a=0;for(b=c.length;a<b;a++)c[a].Jn();this.cf--};a.prototype.Dj=function(){var a,b,c,k,d,f,e,h,l;a=0;for(b=this.ua.length;a<b;a++)if(e=this.ua[a],!e.Aa)for(c=0,k=e.H.length;c<k;c++)if(h=e.H[c],h.Dj&&h.Dj(),h.Ka)for(d=0,f=h.Ka.length;d<f;d++)l=h.Ka[d],l.Dj&&l.Dj()};a.prototype.Gw=function(a){var b=this.Ob;this.Ob.CG();var c,k,d;if(this.la)for(c=0,k=this.ua.length;c<k;c++)d=this.ua[c],d.Aa||!d.Nn||d.global&&0!==d.H.length||-1!==a.lm.indexOf(d)||d.Nn();b==a&&
H(this.Ng.Ue);H(this.qn);this.Ty(!0);a.Vu();this.Ty(!1);this.Ua=!0;this.Ad()};a.prototype.Ty=function(a){var b,c,k,d,f,e,h,l,g;b=0;for(c=this.fc.length;b<c;b++)k=this.fc[b],a?k.an&&k.an():k.bn&&k.bn();b=0;for(c=this.ua.length;b<c;b++)if(k=this.ua[b],k.global||k.Za.Vq)for(d=0,f=k.H.length;d<f;d++)if(e=k.H[d],a?e.an&&e.an():e.bn&&e.bn(),e.Ka)for(h=0,l=e.Ka.length;h<l;h++)g=e.Ka[h],a?g.an&&g.an():g.bn&&g.bn()};a.prototype.XF=function(a){this.cu.add(a)};a.prototype.Gi=function(a){this.du.add(a)};a.prototype.EG=
function(a){this.eu.add(a)};a.prototype.Cg=function(a){return a&&-1!==a.Zm?this.Yh*a.Zm:this.Xa};a.prototype.Yd=function(){this.Ob.Yd(this.Ab);this.Ld&&this.Ab.present()};a.prototype.Bc=function(){this.Qb&&(this.Zi=1,this.Ob.Xh(this.la));this.Ob.Bc(this.la);this.la.VF()};a.prototype.Vj=function(a){a&&this.Wo.push(a)};a.prototype.Cu=function(a){La(this.Wo,a)};a.prototype.Xf=function(a){a=a.toString();return this.qh.hasOwnProperty(a)?this.qh[a]:null};var y=[];a.prototype.Ee=function(a){var b,c;b=a.type.name;
var k=null;if(this.Yi.hasOwnProperty(b)){if(k=this.Yi[b],k.contains(a))return}else k=y.length?y.pop():new ca,this.Yi[b]=k;k.add(a);this.ci=!0;if(a.Md)for(b=0,c=a.siblings.length;b<c;b++)this.Ee(a.siblings[b]);this.ot&&k.jl.push(a);this.nt||(this.cf++,this.trigger(Object.getPrototypeOf(a.type.Za).F.Dv,a),this.cf--)};a.prototype.Ad=function(){if(this.ci){var a,b,c,k,d,f;this.ot=!0;c=0;for(d=this.Wf.length;c<d;++c)for(a=this.Wf[c],b=a.type,b.H.push(a),k=0,f=b.ec.length;k<f;++k)b.ec[k].H.push(a),b.ec[k].el=
!0;H(this.Wf);this.GA();mb(this.Yi);this.ci=this.ot=!1}};a.prototype.GA=function(){for(var a in this.Yi)this.Yi.hasOwnProperty(a)&&this.dA(this.Yi[a])};a.prototype.dA=function(a){var b=a.kg(),c=b[0].type,k,d,f,e,h,l;ub(c.H,a);c.el=!0;0===c.H.length&&(c.so=!1);k=0;for(d=c.ec.length;k<d;++k)l=c.ec[k],ub(l.H,a),l.el=!0;k=0;for(d=this.Ng.Ue.length;k<d;++k)if(h=this.Ng.Ue[k],h.Te.hasOwnProperty(c.index)&&ub(h.Te[c.index].kj,a),!c.Aa)for(f=0,e=c.ec.length;f<e;++f)l=c.ec[f],h.Te.hasOwnProperty(l.index)&&
ub(h.Te[l.index].kj,a);if(h=b[0].O){if(h.lf)for(f=h.H,k=0,d=f.length;k<d;++k)e=f[k],a.contains(e)&&(e.ab(),h.xd.update(e,e.Ae,null),e.Ae.set(0,0,-1,-1));ub(h.H,a);h.un(0)}for(k=0;k<b.length;++k)this.cA(b[k],c);a.clear();y.push(a);this.Ua=!0};a.prototype.cA=function(a,b){var c,k,d;c=0;for(k=this.Wo.length;c<k;++c)this.Wo[c](a);a.tf&&b.Hl.update(a,a.tf,null);(c=a.O)&&c.Xk(a,!0);if(a.Ka)for(c=0,k=a.Ka.length;c<k;++c)d=a.Ka[c],d.Re&&d.Re(),d.behavior.cq.remove(a);this.cu.remove(a);this.du.remove(a);this.eu.remove(a);
a.Re&&a.Re();this.qh.hasOwnProperty(a.uid.toString())&&delete this.qh[a.uid.toString()];this.hq--;100>b.Ro.length&&b.Ro.push(a)};a.prototype.Jl=function(a,b,c,k){if(a.Aa){var d=wa(Math.random()*a.Ok.length);return this.Jl(a.Ok[d],b,c,k)}return a.wf?this.Uh(a.wf,b,!1,c,k,!1):null};var w=[];a.prototype.Uh=function(a,b,c,k,d,f){var e,h,l,g;if(!a)return null;var n=this.ua[a[1]],m=n.Za.ei;if(this.zm&&m&&!n.pt||m&&!this.la&&11===a[0][11])return null;var u=b;m||(b=null);var q;n.Ro.length?(q=n.Ro.pop(),q.wd=
!0,n.Za.ta.call(q,n)):(q=new n.Za.ta(n),q.wd=!1);!c||f||this.qh.hasOwnProperty(a[2].toString())?q.uid=this.$m++:q.uid=a[2];this.qh[q.uid.toString()]=q;q.Py=this.jy++;q.ij=n.H.length;e=0;for(h=this.Wf.length;e<h;++e)this.Wf[e].type===n&&q.ij++;q.fm=oc;q.toString=pc;l=a[3];if(q.wd)mb(q.na);else{q.na={};if("undefined"!==typeof cr_is_preview)for(q.ox=[],q.ox.length=l.length,e=0,h=l.length;e<h;e++)q.ox[e]=l[e][1];q.Rb=[];q.Rb.length=l.length}e=0;for(h=l.length;e<h;e++)q.Rb[e]=l[e][0];if(m){var r=a[0];
q.x=la(k)?r[0]:k;q.y=la(d)?r[1]:d;q.z=r[2];q.width=r[3];q.height=r[4];q.depth=r[5];q.M=r[6];q.opacity=r[7];q.te=r[8];q.ue=r[9];q.Cd=r[10];e=r[11];!this.la&&n.Qa.length&&(q.Cd=e);q.Il=Hb(q.Cd);this.ya&&Mb(q,q.Cd,this.ya);if(q.wd){e=0;for(h=r[12].length;e<h;e++)for(l=0,g=r[12][e].length;l<g;l++)q.gc[e][l]=r[12][e][l];q.Lb.set(0,0,0,0);q.tf.set(0,0,-1,-1);q.Ae.set(0,0,-1,-1);q.Mb.bl(q.Lb);H(q.es)}else{q.gc=r[12].slice(0);e=0;for(h=q.gc.length;e<h;e++)q.gc[e]=r[12][e].slice(0);q.yb=[];q.Mh=[];q.Mh.length=
n.Qa.length;q.Lb=new Aa(0,0,0,0);q.tf=new Aa(0,0,-1,-1);q.Ae=new Aa(0,0,-1,-1);q.Mb=new Ba;q.es=[];q.aa=sc;q.yC=tc;q.Hd=uc;q.ab=vc;q.Oz=wc;q.ov=xc;q.Dg=yc}q.Bh=!1;q.Bz=0;q.Az=0;q.zz=null;14===r.length&&(q.Bh=!0,q.Bz=r[13][0],q.Az=r[13][1],q.zz=r[13][2]);e=0;for(h=n.Qa.length;e<h;e++)q.Mh[e]=!0;q.yh=!0;q.jg=zc;q.jg();q.Pz=!!q.yb.length;q.zo=!0;q.ls=!0;n.ro=!0;q.visible=!0;q.Zm=-1;q.O=b;q.lg=b.H.length;q.Zi=0;"undefined"===typeof q.ib&&(q.ib=null);this.Ua=q.uf=!0}var p;H(w);e=0;for(h=n.ec.length;e<
h;e++)w.push.apply(w,n.ec[e].fc);w.push.apply(w,n.fc);if(q.wd)for(e=0,h=w.length;e<h;e++){var x=w[e];p=q.Ka[e];p.wd=!0;x.behavior.ta.call(p,x,q);r=a[4][e];l=0;for(g=r.length;l<g;l++)p.U[l]=r[l];p.ma();x.behavior.cq.add(q)}else for(q.Ka=[],e=0,h=w.length;e<h;e++)x=w[e],p=new x.behavior.ta(x,q),p.wd=!1,p.U=a[4][e].slice(0),p.ma(),q.Ka.push(p),x.behavior.cq.add(q);r=a[5];if(q.wd)for(e=0,h=r.length;e<h;e++)q.U[e]=r[e];else q.U=r.slice(0);this.Wf.push(q);this.ci=!0;b&&(b.Dl(q,!0),1!==b.xe||1!==b.ye)&&
(n.so=!0);this.hq++;if(n.Md){if(q.Md=!0,q.wd?H(q.siblings):q.siblings=[],!c&&!f){e=0;for(h=n.Je.length;e<h;e++)if(n.Je[e]!==n){if(!n.Je[e].wf)return null;q.siblings.push(this.Uh(n.Je[e].wf,u,!1,m?q.x:k,m?q.y:d,!0))}e=0;for(h=q.siblings.length;e<h;e++)for(q.siblings[e].siblings.push(q),l=0;l<h;l++)e!==l&&q.siblings[e].siblings.push(q.siblings[l])}}else q.Md=!1,q.siblings=null;q.ma();e=0;for(h=q.Ka.length;e<h;e++)q.Ka[e].Ky&&q.Ka[e].Ky();return q};a.prototype.Zl=function(a){var b,c;b=0;for(c=this.Ob.Sa.length;b<
c;b++){var k=this.Ob.Sa[b];if(Rb(k.name,a))return k}return null};a.prototype.eh=function(a){a=wa(a);0>a&&(a=0);a>=this.Ob.Sa.length&&(a=this.Ob.Sa.length-1);return this.Ob.Sa[a]};a.prototype.os=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].La().$a=!0};a.prototype.mn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].mn()};a.prototype.nn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].nn()};a.prototype.wi=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].wi()};a.prototype.Lz=function(a){if(a.ro){var b,
c,k=a.H;b=0;for(c=k.length;b<c;++b)k[b].ov();k=this.Wf;b=0;for(c=k.length;b<c;++b)k[b].type===a&&k[b].ov();a.ro=!1}};a.prototype.Ms=function(a,b,c,k){var d,e,f=a?1!==a.xe||1!==a.ye:!1;if(b.Aa)for(a=0,d=b.Ok.length;a<d;++a)e=b.Ok[a],f||e.so?Ia(k,e.H):(this.Lz(e),e.Hl.Eq(c,k));else f||b.so?Ia(k,b.H):(this.Lz(b),b.Hl.Eq(c,k))};a.prototype.cx=function(a,b,c,k){var d,e;d=0;for(e=b.length;d<e;++d)this.Ms(a,b[d],c,k)};a.prototype.DE=function(a,b,c){var k=this.nz;k&&this.cx(a,k.dq,b,c)};a.prototype.wE=function(a,
b,c){var k=this.Cx;k&&this.cx(a,k.dq,b,c)};a.prototype.Dn=function(a,b,c){var k=a.La(),d,e,f,h,l=this.Ec().bd.ff,g,n,m;if(k.$a)for(k.$a=!1,H(k.H),d=0,h=a.H.length;d<h;d++)f=a.H[d],f.ab(),g=f.O.oc(b,c,!0),n=f.O.oc(b,c,!1),f.Hd(g,n)?k.H.push(f):l&&k.Ra.push(f);else{e=0;m=l?k.Ra:k.H;d=0;for(h=m.length;d<h;d++)f=m[d],f.ab(),g=f.O.oc(b,c,!0),n=f.O.oc(b,c,!1),f.Hd(g,n)&&(l?k.H.push(f):(k.H[e]=k.H[d],e++));m.length=e}a.Ie();return k.Zs()};a.prototype.Rd=function(a,b){if(!(a&&b&&a!==b&&a.uf&&b.uf))return!1;
a.ab();b.ab();var c=a.O,k=b.O,d,e,f,h,l,g,n,m;if(c===k||c.xe===k.xe&&k.ye===k.ye&&c.scale===k.scale&&c.M===k.M&&c.Wd===k.Wd){if(!a.Lb.bF(b.Lb)||!a.Mb.qx(b.Mb)||a.Bh&&b.Bh)return!1;if(a.Bh)return this.uz(a,b);if(b.Bh)return this.uz(b,a);n=a.ib&&!a.ib.nj();d=b.ib&&!b.ib.nj();if(!n&&!d)return!0;n?(a.ib.Rh(a.width,a.height,a.M),n=a.ib):(this.fg.al(a.Mb,a.x,a.y,a.width,a.height),n=this.fg);d?(b.ib.Rh(b.width,b.height,b.M),m=b.ib):(this.fg.al(b.Mb,b.x,b.y,b.width,b.height),m=this.fg);return n.mm(m,b.x-
a.x,b.y-a.y)}n=a.ib&&!a.ib.nj();d=b.ib&&!b.ib.nj();n?(a.ib.Rh(a.width,a.height,a.M),this.fg.fz(a.ib)):this.fg.al(a.Mb,a.x,a.y,a.width,a.height);n=this.fg;d?(b.ib.Rh(b.width,b.height,b.M),this.Xu.fz(b.ib)):this.Xu.al(b.Mb,b.x,b.y,b.width,b.height);m=this.Xu;d=0;for(e=n.ge;d<e;d++)f=2*d,h=f+1,l=n.Jb[f],g=n.Jb[h],n.Jb[f]=c.Bb(l+a.x,g+a.y,!0),n.Jb[h]=c.Bb(l+a.x,g+a.y,!1);n.ab();d=0;for(e=m.ge;d<e;d++)f=2*d,h=f+1,l=m.Jb[f],g=m.Jb[h],m.Jb[f]=k.Bb(l+b.x,g+b.y,!0),m.Jb[h]=k.Bb(l+b.x,g+b.y,!1);m.ab();return n.mm(m,
0,0)};var F=new Ba;new Aa(0,0,0,0);var I=[];a.prototype.uz=function(a,b){var c,k,d,e,f=b.Lb,h=a.x,l=a.y;a.qE(f,I);var g=b.ib&&!b.ib.nj();c=0;for(k=I.length;c<k;++c)if(d=I[c],e=d.Db,f.cF(e,h,l)&&(F.bl(e),F.offset(h,l),F.qx(b.Mb)))if(g)if(b.ib.Rh(b.width,b.height,b.M),d.fe){if(d.fe.mm(b.ib,b.x-(h+e.left),b.y-(l+e.top)))return H(I),!0}else{if(this.fg.al(F,0,0,e.right-e.left,e.bottom-e.top),this.fg.mm(b.ib,b.x,b.y))return H(I),!0}else if(d.fe){if(this.fg.al(b.Mb,0,0,b.width,b.height),d.fe.mm(this.fg,
-(h+e.left),-(l+e.top)))return H(I),!0}else return H(I),!0;H(I);return!1};a.prototype.Hz=function(a,b){if(!b)return!1;var c,k,d,e,f;c=0;for(k=a.fc.length;c<k;c++)if(a.fc[c].behavior instanceof b)return!0;if(!a.Aa)for(c=0,k=a.ec.length;c<k;c++)for(f=a.ec[c],d=0,e=f.fc.length;d<e;d++)if(f.fc[d].behavior instanceof b)return!0;return!1};a.prototype.iv=function(a){return this.Hz(a,Xc.kH)};a.prototype.jv=function(a){return this.Hz(a,Xc.lH)};var Q=[];a.prototype.kd=function(a){var b,c,k;a.ab();this.DE(a.O,
a.Lb,Q);b=0;for(c=Q.length;b<c;++b)if(k=Q[b],k.na.solidEnabled&&this.Rd(a,k))return H(Q),k;H(Q);return null};var da=[];a.prototype.Pg=function(a,b){var c=null;b&&(c=da,H(c));a.ab();this.wE(a.O,a.Lb,Q);var k,d,e;k=0;for(d=Q.length;k<d;++k)if(e=Q[k],e.na.jumpthruEnabled&&this.Rd(a,e))if(b)c.push(e);else return H(Q),e;H(Q);return c};a.prototype.Hf=function(a,b,c,k,d,e){k=k||50;var f=a.x,h=a.y,l,g=null,n=null;for(l=0;l<k;l++)if(a.x=f+b*l,a.y=h+c*l,a.aa(),!this.Rd(a,g)&&((g=this.kd(a))&&(n=g),!g&&(d&&
(e?g=this.Rd(a,e)?e:null:g=this.Pg(a),g&&(n=g)),!g)))return n&&this.wu(a,b,c,n),!0;a.x=f;a.y=h;a.aa();return!1};a.prototype.wu=function(a,b,c,k){var d=2,e,f=!1;e=!1;for(var h=a.x,l=a.y;16>=d;)e=1/d,d*=2,a.x+=b*e*(f?1:-1),a.y+=c*e*(f?1:-1),a.aa(),this.Rd(a,k)?e=f=!0:(e=f=!1,h=a.x,l=a.y);e&&(a.x=h,a.y=l,a.aa())};a.prototype.Qy=function(a,b){var c=la(b)?100:b,k=0,d=a.x,e=a.y,f=0,h=0,l=0,g=this.kd(a);if(!g)return!0;for(;k<=c;){switch(f){case 0:h=0;l=-1;k++;break;case 1:h=1;l=-1;break;case 2:h=1;l=0;break;
case 3:l=h=1;break;case 4:h=0;l=1;break;case 5:h=-1;l=1;break;case 6:h=-1;l=0;break;case 7:l=h=-1}f=(f+1)%8;a.x=wa(d+h*k);a.y=wa(e+l*k);a.aa();if(!this.Rd(a,g)&&(g=this.kd(a),!g))return!0}a.x=d;a.y=e;a.aa();return!1};a.prototype.Gj=function(a,b){a.uf&&b.uf&&this.qn.push([a,b])};a.prototype.MC=function(a,b){var c,k,d;c=0;for(k=this.qn.length;c<k;c++)if(d=this.qn[c],d[0]==a&&d[1]==b||d[0]==b&&d[1]==a)return!0;return!1};a.prototype.JC=function(a,b,c){var k=a.x,d=a.y,e=ta(10,bb(b,c,k,d)),f=Wa(b,c,k,d),
h=this.kd(a);if(!h)return Sa(f+va);var l=h,g,n,m,q,u=Pa(5);for(g=1;36>g;g++)if(n=f-g*u,a.x=b+Math.cos(n)*e,a.y=c+Math.sin(n)*e,a.aa(),!this.Rd(a,l)&&(l=this.kd(a),!l)){m=n;break}36===g&&(m=Sa(f+va));l=h;for(g=1;36>g;g++)if(n=f+g*u,a.x=b+Math.cos(n)*e,a.y=c+Math.sin(n)*e,a.aa(),!this.Rd(a,l)&&(l=this.kd(a),!l)){q=n;break}36===g&&(q=Sa(f+va));a.x=k;a.y=d;a.aa();if(q===m)return q;a=Xa(q,m)/2;a=$a(q,m)?Sa(m+a+va):Sa(q+a);m=Math.cos(f);f=Math.sin(f);q=Math.cos(a);a=Math.sin(a);b=m*q+f*a;return Wa(0,0,
m-2*b*q,f-2*b*a)};var R=-1;a.prototype.trigger=function(a,b,c){if(!this.Ob)return!1;var k=this.Ob.$i;if(!k)return!1;var d=!1,e,f,h;R++;var l=k.ys;f=0;for(h=l.length;f<h;++f)e=this.Ez(a,b,l[f],c),d=d||e;e=this.Ez(a,b,k,c);R--;return d||e};a.prototype.Ez=function(a,b,c,k){var d=!1,e,f,h,l;if(b)for(h=this.gv(a,b,b.type.name,c,k),d=d||h,l=b.type.ec,e=0,f=l.length;e<f;++e)h=this.gv(a,b,l[e].name,c,k),d=d||h;else h=this.gv(a,b,"system",c,k),d=d||h;return d};a.prototype.gv=function(a,b,c,k,d){var e,f=!1,
h=!1,h="undefined"!==typeof d,l=(h?k.Kw:k.Fz)[c];if(!l)return f;var g=null;k=0;for(e=l.length;k<e;++k)if(l[k].method==a){g=l[k].Ql;break}if(!g)return f;var n;h?n=g[d]:n=g;if(!n)return null;k=0;for(e=n.length;k<e;k++)a=n[k][0],d=n[k][1],h=this.eE(b,c,a,d),f=f||h;return f};a.prototype.eE=function(a,b,c,k){var d,e,f=!1;this.hv++;var h=this.Ec().bd;h&&this.mn(h.Ci);var l=1<this.hv;this.mn(c.Ci);l&&this.$F();var g=this.Dq(c);g.bd=c;a&&(d=this.types[b].La(),d.$a=!1,H(d.H),d.H[0]=a,this.types[b].Ie());a=
!0;if(c.parent){b=g.sz;for(d=c.parent;d;)b.push(d),d=d.parent;b.reverse();d=0;for(e=b.length;d<e;d++)if(!b[d].mG()){a=!1;break}}a&&(this.bj++,c.ff?c.lG(k):c.Jc(),f=f||g.rj);this.zq();l&&this.QF();this.wi(c.Ci);h&&this.wi(h.Ci);this.ci&&0===this.cf&&0===R&&!this.qt&&this.Ad();this.hv--;return f};a.prototype.Yl=function(){var a=this.Ec();return a.bd.Qc[a.yc]};a.prototype.eF=function(){return 0===this.Ec().yc};a.prototype.rE=function(){var a=this.Ec();return a.bd.pf[a.We]};a.prototype.$F=function(){this.Xp++;
this.Xp>=this.St.length&&this.St.push([])};a.prototype.QF=function(){this.Xp--};a.prototype.Vw=function(){return this.St[this.Xp]};a.prototype.Dq=function(a){this.Yo++;this.Yo>=this.Bs.length&&this.Bs.push(new Ac);var b=this.Ec();b.reset(a);return b};a.prototype.zq=function(){this.Yo--};a.prototype.Ec=function(){return this.Bs[this.Yo]};a.prototype.aG=function(){this.Zp++;this.Zp>=this.Ut.length&&this.Ut.push(aa({name:void 0,index:0,jd:!1}));var a=this.sE();a.name=void 0;a.index=0;a.jd=!1;return a};
a.prototype.RF=function(){this.Zp--};a.prototype.sE=function(){return this.Ut[this.Zp]};a.prototype.Xw=function(a,b){for(var c,k,d,e,f,h;b;){c=0;for(k=b.Lf.length;c<k;c++)if(h=b.Lf[c],h instanceof Bc&&Rb(a,h.name))return h;b=b.parent}c=0;for(k=this.ah.length;c<k;c++)for(f=this.ah[c],d=0,e=f.Zh.length;d<e;d++)if(h=f.Zh[d],h instanceof Bc&&Rb(a,h.name))return h;return null};a.prototype.$w=function(a){var b,c;b=0;for(c=this.$f.length;b<c;b++)if(this.$f[b].kb===a)return this.$f[b];return null};a.prototype.tp=
function(a){var b,c;b=0;for(c=this.ua.length;b<c;b++)if(this.ua[b].kb===a)return this.ua[b];return null};a.prototype.tE=function(a){var b,c;b=0;for(c=this.Wj.length;b<c;b++)if(this.Wj[b].kb===a)return this.Wj[b];return null};a.prototype.ZC=function(a,b){this.zn=[a,b];this.Ua=!0};a.prototype.VE=function(){var a=this,c=this.Ku,k=this.kh,d=this.Tp,e=!1;this.lz&&(e=!0,c="__c2_continuouspreview",this.lz=!1);if(c.length){this.Ad();k=this.qG();if(b()&&!this.Af)g(c,k,function(){fa("Saved state to IndexedDB storage ("+
k.length+" bytes)");a.kh=k;a.trigger(L.prototype.F.Jr,null);a.kh="";e&&h()},function(b){try{localStorage.setItem("__c2save_"+c,k),fa("Saved state to WebStorage ("+k.length+" bytes)"),a.kh=k,a.trigger(L.prototype.F.Jr,null),a.kh="",e&&h()}catch(d){fa("Failed to save game state: "+b+"; "+d),a.trigger(L.prototype.F.Sv,null)}});else try{localStorage.setItem("__c2save_"+c,k),fa("Saved state to WebStorage ("+k.length+" bytes)"),a.kh=k,this.trigger(L.prototype.F.Jr,null),a.kh="",e&&h()}catch(l){fa("Error saving to WebStorage: "+
l),a.trigger(L.prototype.F.Sv,null)}this.Od=this.Tp=this.Ku=""}if(d.length){if(b()&&!this.Af)f(d,function(b){b?(a.Od=b,fa("Loaded state from IndexedDB storage ("+a.Od.length+" bytes)")):(a.Od=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+a.Od.length+" bytes)"));a.Bn=!1;a.Od.length||a.trigger(L.prototype.F.Hr,null)},function(){a.Od=localStorage.getItem("__c2save_"+d)||"";fa("Loaded state from WebStorage ("+a.Od.length+" bytes)");a.Bn=!1;a.Od.length||a.trigger(L.prototype.F.Hr,
null)});else{try{this.Od=localStorage.getItem("__c2save_"+d)||"",fa("Loaded state from WebStorage ("+this.Od.length+" bytes)")}catch(n){this.Od=""}this.Bn=!1;a.Od.length||a.trigger(L.prototype.F.Hr,null)}this.Ku=this.Tp=""}this.Od.length&&(this.Ad(),this.qF(this.Od),this.kh=this.Od,this.trigger(L.prototype.F.kB,null),this.Od=this.kh="")};a.prototype.qG=function(){var a,b,c,k,d,f,h,l={c2save:!0,version:1,rt:{time:this.dd.Va,walltime:this.Eh.Va,timescale:this.hg,tickcount:this.jf,execcount:this.bj,
next_uid:this.$m,running_layout:this.Ob.kb,start_time_offset:Date.now()-this.Zq},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ua.length;a<b;a++)if(d=this.ua[a],!d.Aa&&!this.iv(d)){f={instances:[]};lb(d.na)&&(f.ex=e(d.na));c=0;for(k=d.H.length;c<k;c++)f.instances.push(this.Ju(d.H[c]));l.types[d.kb.toString()]=f}a=0;for(b=this.$f.length;a<b;a++)c=this.$f[a],l.layouts[c.kb.toString()]=c.Tb();k=l.events.groups;a=0;for(b=this.Wj.length;a<b;a++)c=this.Wj[a],k[c.kb.toString()]=
this.nk[c.gm].fj;b=l.events.cnds;for(h in this.Th)this.Th.hasOwnProperty(h)&&(a=this.Th[h],lb(a.na)&&(b[h]={ex:e(a.na)}));b=l.events.acts;for(h in this.Nh)this.Nh.hasOwnProperty(h)&&(a=this.Nh[h],lb(a.na)&&(b[h]={ex:e(a.na)}));b=l.events.vars;for(h in this.kl)this.kl.hasOwnProperty(h)&&(a=this.kl[h],a.Kp||a.parent&&!a.ym||(b[h]=a.data));l.system=this.Ng.Tb();return JSON.stringify(l)};a.prototype.Sy=function(){var a,b,c,k,d,e;this.qh={};a=0;for(b=this.ua.length;a<b;a++)if(c=this.ua[a],!c.Aa)for(k=
0,d=c.H.length;k<d;k++)e=c.H[k],this.qh[e.uid.toString()]=e};a.prototype.qF=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.rm=!0;var b=a.rt;this.dd.reset();this.dd.Va=b.time;this.Eh.reset();this.Eh.Va=b.walltime||0;this.hg=b.timescale;this.jf=b.tickcount;this.bj=b.execcount;this.Zq=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.Ob.kb)if(c=this.$w(c))this.Gw(c);else return;var k,d,e,f,h,l,g;l=a.types;for(d in l)if(l.hasOwnProperty(d)&&(f=this.tp(parseInt(d,10)))&&
!f.Aa&&!this.iv(f)){l[d].ex?f.na=l[d].ex:mb(f.na);h=f.H;e=l[d].instances;c=0;for(k=ua(h.length,e.length);c<k;c++)this.Up(h[c],e[c]);c=e.length;for(k=h.length;c<k;c++)this.Ee(h[c]);c=h.length;for(k=e.length;c<k;c++){h=null;if(f.Za.ei&&(h=this.Ob.sp(e[c].w.l),!h))continue;h=this.Uh(f.wf,h,!1,0,0,!0);this.Up(h,e[c])}f.el=!0}this.Ad();this.Sy();k=a.layouts;for(d in k)k.hasOwnProperty(d)&&(c=this.$w(parseInt(d,10)))&&c.Yb(k[d]);k=a.events.groups;for(d in k)k.hasOwnProperty(d)&&(c=this.tE(parseInt(d,10)))&&
this.nk[c.gm]&&this.nk[c.gm].Oq(k[d]);c=a.events.cnds;for(d in this.Th)this.Th.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.Th[d].na=c[d].ex:this.Th[d].na={});c=a.events.acts;for(d in this.Nh)this.Nh.hasOwnProperty(d)&&(c.hasOwnProperty(d)?this.Nh[d].na=c[d].ex:this.Nh[d].na={});c=a.events.vars;for(d in c)c.hasOwnProperty(d)&&this.kl.hasOwnProperty(d)&&(this.kl[d].data=c[d]);this.$m=b.next_uid;this.rm=!1;c=0;for(k=this.fp.length;c<k;++c)h=this.fp[c],this.trigger(Object.getPrototypeOf(h.type.Za).F.Sg,
h);H(this.fp);this.Ng.Yb(a.system);c=0;for(k=this.ua.length;c<k;c++)if(f=this.ua[c],!f.Aa&&!this.iv(f))for(d=0,a=f.H.length;d<a;d++){h=f.H[d];if(f.Md)for(l=h.fm(),H(h.siblings),b=0,e=f.Je.length;b<e;b++)g=f.Je[b],f!==g&&h.siblings.push(g.H[l]);h.qf&&h.qf();if(h.Ka)for(b=0,e=h.Ka.length;b<e;b++)l=h.Ka[b],l.qf&&l.qf()}this.Ua=!0}};a.prototype.Ju=function(a,b){var c,k,d,f,h;f=a.type;d=f.Za;var l={};b?l.c2=!0:l.uid=a.uid;lb(a.na)&&(l.ex=e(a.na));if(a.Rb&&a.Rb.length)for(l.ivs={},c=0,k=a.Rb.length;c<k;c++)l.ivs[a.type.lt[c].toString()]=
a.Rb[c];if(d.ei){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.O.kb,zi:a.Dg()};0!==a.M&&(d.a=a.M);1!==a.opacity&&(d.o=a.opacity);.5!==a.te&&(d.hX=a.te);.5!==a.ue&&(d.hY=a.ue);0!==a.Cd&&(d.bm=a.Cd);a.visible||(d.v=a.visible);a.uf||(d.ce=a.uf);-1!==a.Zm&&(d.mts=a.Zm);if(f.Qa.length)for(d.fx=[],c=0,k=f.Qa.length;c<k;c++)h=f.Qa[c],d.fx.push({name:h.name,active:a.Mh[h.index],params:a.gc[h.index]});l.w=d}if(a.Ka&&a.Ka.length)for(l.behs={},c=0,k=a.Ka.length;c<k;c++)f=a.Ka[c],f.Tb&&(l.behs[f.type.kb.toString()]=
f.Tb());a.Tb&&(l.data=a.Tb());return l};a.prototype.vE=function(a,b){var c,k;c=0;for(k=a.lt.length;c<k;c++)if(a.lt[c]===b)return c;return-1};a.prototype.pE=function(a,b){var c,k;c=0;for(k=a.Ka.length;c<k;c++)if(a.Ka[c].type.kb===b)return c;return-1};a.prototype.Up=function(a,b,c){var k,d,e,f,h;h=a.type;f=h.Za;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.na=b.ex:mb(a.na);if(d=b.ivs)for(k in d)d.hasOwnProperty(k)&&(e=this.vE(h,parseInt(k,10)),0>e||e>=a.Rb.length||(a.Rb[e]=d[k]));if(f.ei){e=b.w;a.O.kb!==
e.l&&(d=a.O,a.O=this.Ob.sp(e.l),a.O?(d.Xk(a,!0),a.O.Dl(a,!0),a.aa(),a.O.un(0)):(a.O=d,c||this.Ee(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.lg=e.zi;a.M=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.te=e.hasOwnProperty("hX")?e.hX:.5;a.ue=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.uf=e.hasOwnProperty("ce")?e.ce:!0;a.Zm=e.hasOwnProperty("mts")?e.mts:-1;a.Cd=e.hasOwnProperty("bm")?e.bm:0;a.Il=Hb(a.Cd);this.ya&&Mb(a,a.Cd,this.ya);a.aa();if(e.hasOwnProperty("fx"))for(c=
0,d=e.fx.length;c<d;c++)f=h.Os(e.fx[c].name),0>f||(a.Mh[f]=e.fx[c].active,a.gc[f]=e.fx[c].params);a.jg()}if(h=b.behs)for(k in h)h.hasOwnProperty(k)&&(c=this.pE(a,parseInt(k,10)),0>c||a.Ka[c].Yb(h[k]));b.data&&a.Yb(b.data)};a.prototype.Lw=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,c)},c)};a.prototype.Nw=function(a,b){this.Lw("data.js",function(c){var k=new FileReader;k.onload=function(b){a(b.target.result)};k.onerror=b;k.readAsText(c)},
b)};a.prototype.Mw=function(a,b,c){this.Lw(a,function(a){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.fE=function(a,b,c){this.Mw(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},c)};a.prototype.az=function(a,b){this.wm?this.fE(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};Cc=function(b){return new a(document.getElementById(b))};Dc=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=
Cc;window.cr_createDCRuntime=Dc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.j=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));
window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.ZC(a,c)};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.i=a;this.$i=null;this.scrollX=this.i.Ic/2;this.scrollY=this.i.Hc/2;this.scale=1;this.M=0;this.kk=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Iz=b[3];this.iz=b[4];this.kb=b[5];var c=b[6],d,e;this.Sa=[];this.lm=[];d=0;for(e=c.length;d<e;d++){var f=new Ec(this,c[d]);f.my=d;this.Sa.push(f)}c=b[7];this.jj=[];d=0;for(e=c.length;d<e;d++){var f=c[d],h=this.i.ua[f[1]];h.wf||(h.wf=f);this.jj.push(f);-1===this.lm.indexOf(h)&&this.lm.push(h)}this.Qa=[];this.yb=[];
this.yh=!0;this.gc=[];d=0;for(e=b[8].length;d<e;d++)this.Qa.push({id:b[8][d][0],name:b[8][d][1],Kc:-1,Gf:!1,xc:!0,index:d}),this.gc.push(b[8][d][2].slice(0));this.jg();this.xi=new Aa(0,0,1,1);this.Au=new Aa(0,0,1,1);this.ti={}}function c(a,b){return a.lg-b.lg}function b(a,b){this.rc=a;this.i=a.i;this.H=[];this.scale=1;this.M=0;this.$g=!1;this.Ch=new Aa(0,0,0,0);this.Cz=new Ba;this.Eb=this.rb=this.Fb=this.qb=0;this.Pj=!1;this.Gh=-1;this.qs=0;this.name=b[0];this.index=b[1];this.kb=b[2];this.visible=
b[3];this.Tf=b[4];this.ig=b[5];this.xe=b[6];this.ye=b[7];this.opacity=b[8];this.np=b[9];this.lf=b[10];this.Wd=b[11];this.Cd=b[12];this.yD=b[13];this.Il="source-over";this.Id=this.Pd=0;this.xd=null;this.lh=d();this.eg=!0;this.Ek=new Aa(0,0,-1,-1);this.qd=new Aa(0,0,-1,-1);this.lf&&(this.xd=new Gb(this.i.Ic,this.i.Hc));this.Kg=!1;var c=b[14],e,f;this.oz=[];this.$e=[];this.Ll=[];e=0;for(f=c.length;e<f;e++){var h=c[e],l=this.i.ua[h[1]];l.wf||(l.wf=h,l.Bw=this.index);this.$e.push(h);-1===this.rc.lm.indexOf(l)&&
this.rc.lm.push(l)}Ga(this.oz,this.$e);this.Qa=[];this.yb=[];this.yh=!0;this.gc=[];e=0;for(f=b[15].length;e<f;e++)this.Qa.push({id:b[15][e][0],name:b[15][e][1],Kc:-1,Gf:!1,xc:!0,index:e}),this.gc.push(b[15][e][2].slice(0));this.jg();this.xi=new Aa(0,0,1,1);this.Au=new Aa(0,0,1,1)}function d(){return e.length?e.pop():[]}function g(a){H(a);e.push(a)}a.prototype.pG=function(a){var b=a.type.kb.toString();this.ti.hasOwnProperty(b)||(this.ti[b]=[]);this.ti[b].push(this.i.Ju(a))};a.prototype.gx=function(){var a=
this.Sa[0];return!a.ig&&1===a.opacity&&!a.np&&a.visible};a.prototype.jg=function(){H(this.yb);this.yh=!0;var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.xc&&(this.yb.push(c),c.Gf||(this.yh=!1))};a.prototype.Ns=function(a){var b,c,d;b=0;for(c=this.Qa.length;b<c;b++)if(d=this.Qa[b],d.name===a)return d;return null};var f=[],h=!0;a.prototype.Vu=function(){this.iz&&(this.$i=this.i.Cs[this.iz],this.$i.lv());this.i.Ob=this;this.scrollX=this.i.Ic/2;this.scrollY=this.i.Hc/2;var a,b,d,e,l,g,m;a=0;
for(d=this.i.ua.length;a<d;a++)if(b=this.i.ua[a],!b.Aa)for(l=b.H,b=0,e=l.length;b<e;b++)if(g=l[b],g.O){var u=g.O.my;u>=this.Sa.length&&(u=this.Sa.length-1);g.O=this.Sa[u];-1===g.O.H.indexOf(g)&&g.O.H.push(g);g.O.Pj=!0}if(!h)for(a=0,d=this.Sa.length;a<d;++a)this.Sa[a].H.sort(c);H(f);this.HC();a=0;for(d=this.Sa.length;a<d;a++)g=this.Sa[a],g.UC(),g.qr();l=!1;if(!this.kk){for(m in this.ti)if(this.ti.hasOwnProperty(m)&&(b=this.i.tp(parseInt(m,10)))&&!b.Aa&&this.i.jv(b)){e=this.ti[m];a=0;for(d=e.length;a<
d;a++){g=null;if(b.Za.ei&&(g=this.sp(e[a].w.l),!g))continue;g=this.i.Uh(b.wf,g,!1,0,0,!0);this.i.Up(g,e[a]);l=!0;f.push(g)}H(e)}a=0;for(d=this.Sa.length;a<d;a++)this.Sa[a].H.sort(c),this.Sa[a].Pj=!0}l&&(this.i.Ad(),this.i.Sy());for(a=0;a<f.length;a++)if(g=f[a],g.type.Md)for(d=g.fm(),b=0,e=g.type.Je.length;b<e;b++)m=g.type.Je[b],g.type!==m&&(m.H.length>d?g.siblings.push(m.H[d]):m.wf&&(l=this.i.Uh(m.wf,g.O,!0,g.x,g.y,!0),this.i.Ad(),m.nr(),g.siblings.push(l),f.push(l)));a=0;for(d=this.jj.length;a<d;a++)this.i.Uh(this.jj[a],
null,!0);this.i.Gl=null;this.i.Ad();if(this.i.Ab&&!this.i.eb)for(a=0,d=this.i.ua.length;a<d;a++)m=this.i.ua[a],!m.Aa&&m.H.length&&m.jn&&m.jn(this.i.Ab);if(this.i.rm)Ga(this.i.fp,f);else for(a=0,d=f.length;a<d;a++)g=f[a],this.i.trigger(Object.getPrototypeOf(g.type.Za).F.Sg,g);H(f);this.i.rm||this.i.trigger(L.prototype.F.Mv,null);this.kk=!1};a.prototype.TC=function(){var a,b,c,d,e;b=a=0;for(c=this.jj.length;a<c;a++)d=this.jj[a],e=this.i.ua[d[1]],e.global?e.Md||this.i.Uh(d,null,!0):(this.jj[b]=d,b++);
Fa(this.jj,b)};a.prototype.CG=function(){this.i.rm||this.i.trigger(L.prototype.F.jB,null);this.i.nt=!0;H(this.i.Ng.Ue);var a,b,c,d,e,f;if(!this.kk)for(a=0,b=this.Sa.length;a<b;a++)for(this.Sa[a].nv(),e=this.Sa[a].H,c=0,d=e.length;c<d;c++)f=e[c],f.type.global||this.i.jv(f.type)&&this.pG(f);a=0;for(b=this.Sa.length;a<b;a++){e=this.Sa[a].H;c=0;for(d=e.length;c<d;c++)f=e[c],f.type.global||this.i.Ee(f);this.i.Ad();H(e);this.Sa[a].Pj=!0}a=0;for(b=this.i.ua.length;a<b;a++)if(e=this.i.ua[a],!(e.global||e.Za.ei||
e.Za.Vq||e.Aa)){c=0;for(d=e.H.length;c<d;c++)this.i.Ee(e.H[c]);this.i.Ad()}h=!1;this.i.nt=!1};new Aa(0,0,0,0);a.prototype.Yd=function(a){var b,c=a,d=!1,e=!this.i.Ye;e&&(this.i.Sp||(this.i.Sp=document.createElement("canvas"),b=this.i.Sp,b.width=this.i.Ha,b.height=this.i.Ga,this.i.Ix=b.getContext("2d"),d=!0),b=this.i.Sp,c=this.i.Ix,b.width!==this.i.Ha&&(b.width=this.i.Ha,d=!0),b.height!==this.i.Ga&&(b.height=this.i.Ga,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.Ya,c.mozImageSmoothingEnabled=this.i.Ya,
c.msImageSmoothingEnabled=this.i.Ya,c.imageSmoothingEnabled=this.i.Ya));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.i.$r&&!this.gx()&&c.clearRect(0,0,this.i.Ha,this.i.Ga);var f,h,d=0;for(f=this.Sa.length;d<f;d++)h=this.Sa[d],h.visible&&0<h.opacity&&11!==h.Cd&&(h.H.length||!h.ig)?h.Yd(c):h.qr();e&&a.drawImage(b,0,0,this.i.width,this.i.height)};a.prototype.Xh=function(a){a.$y(!0);this.i.Fc||(this.i.Fc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya));if(this.i.Fc.Ui!==this.i.Ha||this.i.Fc.Ti!==
this.i.Ga)a.deleteTexture(this.i.Fc),this.i.Fc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya);a.Jf(this.i.Fc);this.i.Ye||a.Kj(this.i.Ha,this.i.Ga);var b,c;for(b=this.Sa.length-1;0<=b;--b)c=this.Sa[b],c.visible&&1===c.opacity&&c.yh&&0===c.Cd&&(c.H.length||!c.ig)?c.Xh(a):c.qr();a.$y(!1)};a.prototype.Bc=function(a){var b=0<this.yb.length||this.i.il||!this.i.Ye||this.i.Qb;if(b){this.i.Fc||(this.i.Fc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya));if(this.i.Fc.Ui!==this.i.Ha||this.i.Fc.Ti!==this.i.Ga)a.deleteTexture(this.i.Fc),
this.i.Fc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya);a.Jf(this.i.Fc);this.i.Ye||a.Kj(this.i.Ha,this.i.Ga)}else this.i.Fc&&(a.Jf(null),a.deleteTexture(this.i.Fc),this.i.Fc=null);this.i.$r&&!this.gx()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Sa.length;c<d;c++)e=this.Sa[c],e.visible&&0<e.opacity&&(e.H.length||!e.ig)?e.Bc(a):e.qr();b&&(0===this.yb.length||1===this.yb.length&&this.i.Ye?(1===this.yb.length?(b=this.yb[0].index,a.Ce(this.yb[0].Kc),a.$k(null,1/this.i.Ha,1/this.i.Ga,0,0,1,1,this.scale,this.M,0,
0,this.i.Ha/2,this.i.Ga/2,this.i.dd.Va,this.gc[b]),a.Cq(this.yb[0].Kc)&&(this.i.Ua=!0)):a.Ce(0),this.i.Ye||a.Kj(this.i.width,this.i.height),a.Jf(null),a.Yy(!1),a.xh(1),a.ie(this.i.Fc),a.Wy(),a.If(),a.kf(),b=this.i.width/2,c=this.i.height/2,a.Wk(-b,c,b,c,b,-c,-b,-c),a.ie(null),a.Yy(!0)):this.Du(a,null,null,null))};a.prototype.$l=function(){return 0<this.yb.length||this.i.il||!this.i.Ye||this.i.Qb?this.i.Fc:null};a.prototype.ax=function(){var a=this.Sa[0].Kd(),b,c,d;b=1;for(c=this.Sa.length;b<c;b++)d=
this.Sa[b],(0!==d.xe||0!==d.ye)&&d.Kd()<a&&(a=d.Kd());return a};a.prototype.Lu=function(a){if(!this.Iz){var b=1/this.ax()*this.i.Ha/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.i.Ua=!0)};a.prototype.Mu=function(a){if(!this.Iz){var b=1/this.ax()*this.i.Ga/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.i.Ua=!0)};a.prototype.HC=function(){this.Lu(this.scrollX);this.Mu(this.scrollY)};a.prototype.Du=function(a,b,c,d){var e=
c?c.yb:b?b.yb:this.yb,f=1,h=0,l=0,g=0,m=this.i.Ha,E=this.i.Ga;c?(f=c.O.Kd(),h=c.O.Vb(),l=c.O.qb,g=c.O.rb,m=c.O.Fb,E=c.O.Eb):b&&(f=b.Kd(),h=b.Vb(),l=b.qb,g=b.rb,m=b.Fb,E=b.Eb);var B=this.i.Js,D,C,y,w,F=0,I=1,Q,da,R=this.i.Ha,G=this.i.Ga,Z=R/2,T=G/2,S=b?b.xi:this.xi,J=b?b.Au:this.Au,M=0,O=0,K=0,N=0,U=R,ga=R,P=G,ra=G,ma=y=0;w=c?c.O.Vb():0;if(c){D=0;for(C=e.length;D<C;D++)y+=a.AE(e[D].Kc),ma+=a.BE(e[D].Kc);N=c.Lb;M=b.Bb(N.left,N.top,!0,!0);K=b.Bb(N.left,N.top,!1,!0);U=b.Bb(N.right,N.bottom,!0,!0);P=b.Bb(N.right,
N.bottom,!1,!0);0!==w&&(D=b.Bb(N.right,N.top,!0,!0),C=b.Bb(N.right,N.top,!1,!0),O=b.Bb(N.left,N.bottom,!0,!0),N=b.Bb(N.left,N.bottom,!1,!0),w=Math.min(M,U,D,O),U=Math.max(M,U,D,O),M=w,w=Math.min(K,P,C,N),P=Math.max(K,P,C,N),K=w);M-=y;K-=ma;U+=y;P+=ma;J.left=M/R;J.top=1-K/G;J.right=U/R;J.bottom=1-P/G;O=M=wa(M);N=K=wa(K);ga=U=xa(U);ra=P=xa(P);O-=y;N-=ma;ga+=y;ra+=ma;0>M&&(M=0);0>K&&(K=0);U>R&&(U=R);P>G&&(P=G);0>O&&(O=0);0>N&&(N=0);ga>R&&(ga=R);ra>G&&(ra=G);S.left=M/R;S.top=1-K/G;S.right=U/R;S.bottom=
1-P/G}else S.left=J.left=0,S.top=J.top=0,S.right=J.right=1,S.bottom=J.bottom=1;ma=c&&(a.kn(e[0].Kc)||0!==y||0!==ma||1!==c.opacity||c.type.Za.gy)||b&&!c&&1!==b.opacity;a.Wy();if(ma){B[F]||(B[F]=a.Ke(R,G,this.i.Ya));if(B[F].Ui!==R||B[F].Ti!==G)a.deleteTexture(B[F]),B[F]=a.Ke(R,G,this.i.Ya);a.Ce(0);a.Jf(B[F]);da=ra-N;a.clearRect(O,G-N-da,ga-O,da);c?c.Bc(a):(a.ie(this.i.Uc),a.xh(b.opacity),a.If(),a.translate(-Z,-T),a.kf(),a.dg(M,P,U,P,U,K,M,K,S));J.left=J.top=0;J.right=J.bottom=1;c&&(w=S.top,S.top=S.bottom,
S.bottom=w);F=1;I=0}a.xh(1);y=e.length-1;var Ya=a.vu(e[y].Kc)||!b&&!c&&!this.i.Ye;D=w=0;for(C=e.length;D<C;D++){B[F]||(B[F]=a.Ke(R,G,this.i.Ya));if(B[F].Ui!==R||B[F].Ti!==G)a.deleteTexture(B[F]),B[F]=a.Ke(R,G,this.i.Ya);a.Ce(e[D].Kc);w=e[D].index;a.Cq(e[D].Kc)&&(this.i.Ua=!0);0!=D||ma?(a.$k(d,1/R,1/G,J.left,J.top,J.right,J.bottom,f,h,l,g,(l+m)/2,(g+E)/2,this.i.dd.Va,c?c.gc[w]:b?b.gc[w]:this.gc[w]),a.ie(null),D!==y||Ya?(a.Jf(B[F]),da=ra-N,Q=G-N-da,a.clearRect(O,Q,ga-O,da)):(c?a.Bi(c.Pd,c.Id):b&&a.Bi(b.Pd,
b.Id),a.Jf(d)),a.ie(B[I]),a.If(),a.translate(-Z,-T),a.kf(),a.dg(M,P,U,P,U,K,M,K,S),D!==y||Ya||a.ie(null)):(a.Jf(B[F]),da=ra-N,Q=G-N-da,a.clearRect(O,Q,ga-O,da),c?(c.od&&c.od.Da?(Q=c.od.Da,I=1/Q.width,Q=1/Q.height):(I=1/c.width,Q=1/c.height),a.$k(d,I,Q,J.left,J.top,J.right,J.bottom,f,h,l,g,(l+m)/2,(g+E)/2,this.i.dd.Va,c.gc[w]),c.Bc(a)):(a.$k(d,1/R,1/G,0,0,1,1,f,h,l,g,(l+m)/2,(g+E)/2,this.i.dd.Va,b?b.gc[w]:this.gc[w]),a.ie(b?this.i.Uc:this.i.Fc),a.If(),a.translate(-Z,-T),a.kf(),a.dg(M,P,U,P,U,K,M,K,
S)),J.left=J.top=0,J.right=J.bottom=1,c&&!Ya&&(w=P,P=K,K=w));F=0===F?1:0;I=0===F?1:0}Ya&&(a.Ce(0),c?a.Bi(c.Pd,c.Id):b?a.Bi(b.Pd,b.Id):this.i.Ye||(a.Kj(this.i.width,this.i.height),Z=this.i.width/2,T=this.i.height/2,K=M=0,U=this.i.width,P=this.i.height),a.Jf(d),a.ie(B[I]),a.If(),a.translate(-Z,-T),a.kf(),c&&1===e.length&&!ma?a.dg(M,K,U,K,U,P,M,P,S):a.dg(M,P,U,P,U,K,M,K,S),a.ie(null))};a.prototype.sp=function(a){var b,c;b=0;for(c=this.Sa.length;b<c;b++)if(this.Sa[b].kb===a)return this.Sa[b];return null};
a.prototype.Tb=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.M,w:this.width,h:this.height,fv:this.kk,persist:this.ti,fx:[],layers:{}};a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],d.fx.push({name:c.name,active:c.xc,params:this.gc[c.index]});a=0;for(b=this.Sa.length;a<b;a++)c=this.Sa[a],d.layers[c.kb.toString()]=c.Tb();return d};a.prototype.Yb=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.M=a.a;this.width=a.w;this.height=a.h;this.ti=a.persist;
"undefined"!==typeof a.fv&&(this.kk=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.Ns(f[b].name))d.xc=f[b].active,this.gc[d.index]=f[b].params;this.jg();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.sp(parseInt(e,10)))&&a.Yb(b[e])};qc=a;b.prototype.jg=function(){H(this.yb);this.yh=!0;var a,b,c;a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],c.xc&&(this.yb.push(c),c.Gf||(this.yh=!1))};b.prototype.Ns=function(a){var b,c,d;b=0;for(c=this.Qa.length;b<c;b++)if(d=this.Qa[b],d.name===a)return d;
return null};b.prototype.UC=function(){var a,b,c,d,e,h;b=a=0;for(c=this.$e.length;a<c;a++){d=this.$e[a];e=this.i.ua[d[1]];h=this.i.jv(e);e=!0;if(!h||this.rc.kk){d=this.i.Uh(d,this,!0);if(!d)continue;f.push(d);d.type.global&&(e=!1,this.Ll.push(d.uid))}e&&(this.$e[b]=this.$e[a],b++)}this.$e.length=b;this.i.Ad();!this.i.la&&this.Qa.length&&(this.Cd=this.yD);this.Il=Hb(this.Cd);this.i.ya&&Mb(this,this.Cd,this.i.ya);this.eg=!0};b.prototype.Xk=function(a,b){var c=Ja(this.H,a);0>c||(b&&this.lf&&a.Ae&&a.Ae.right>=
a.Ae.left&&(a.ab(),this.xd.update(a,a.Ae,null),a.Ae.set(0,0,-1,-1)),c===this.H.length-1?this.H.pop():(Da(this.H,c),this.un(c)),this.eg=!0)};b.prototype.Dl=function(a,b){a.lg=this.H.length;this.H.push(a);b&&this.lf&&a.Ae&&a.aa();this.eg=!0};b.prototype.UF=function(a){this.H.unshift(a);this.un(0)};b.prototype.yF=function(a,b,c){var d=a.Dg();b=b.Dg();Da(this.H,d);d<b&&b--;c&&b++;b===this.H.length?this.H.push(a):this.H.splice(b,0,a);this.un(d<b?d:b)};b.prototype.un=function(a){-1===this.Gh?this.Gh=a:
a<this.Gh&&(this.Gh=a);this.eg=this.Pj=!0};b.prototype.nv=function(){if(this.Pj){-1===this.Gh&&(this.Gh=0);var a,b,c;if(this.lf)for(a=this.Gh,b=this.H.length;a<b;++a)c=this.H[a],c.lg=a,this.xd.tF(c.Ae);else for(a=this.Gh,b=this.H.length;a<b;++a)this.H[a].lg=a;this.Pj=!1;this.Gh=-1}};b.prototype.Kd=function(a){return this.xE()*(this.i.Ye||a?this.i.El:1)};b.prototype.xE=function(){return(this.scale*this.rc.scale-1)*this.Wd+1};b.prototype.Vb=function(){return this.$g?0:Sa(this.rc.M+this.M)};var e=[],
m=[],l=[];b.prototype.Ss=function(){this.nv();this.xd.Eq(this.qb,this.rb,this.Fb,this.Eb,l);if(!l.length)return d();if(1===l.length){var a=d();Ga(a,l[0]);H(l);return a}for(var b=!0;1<l.length;){for(var a=l,c=void 0,e=void 0,f=void 0,h=void 0,q=void 0,c=0,e=a.length;c<e-1;c+=2){var f=a[c],h=a[c+1],q=d(),u=f,x=h,z=q,E=0,B=0,D=0,C=u.length,y=x.length,w=void 0,F=void 0;for(z.length=C+y;E<C&&B<y;++D)w=u[E],F=x[B],w.lg<F.lg?(z[D]=w,++E):(z[D]=F,++B);for(;E<C;++E,++D)z[D]=u[E];for(;B<y;++B,++D)z[D]=x[B];
b||(g(f),g(h));m.push(q)}1===e%2&&(b?(f=d(),Ga(f,a[e-1]),m.push(f)):m.push(a[e-1]));Ga(a,m);H(m);b=!1}a=l[0];H(l);return a};b.prototype.Yd=function(a){this.Kg=this.np||1!==this.opacity||0!==this.Cd;var b=this.i.canvas,c=a,d=!1;this.Kg&&(this.i.Rp||(this.i.Rp=document.createElement("canvas"),b=this.i.Rp,b.width=this.i.Ha,b.height=this.i.Ga,this.i.Hx=b.getContext("2d"),d=!0),b=this.i.Rp,c=this.i.Hx,b.width!==this.i.Ha&&(b.width=this.i.Ha,d=!0),b.height!==this.i.Ga&&(b.height=this.i.Ga,d=!0),d&&(c.webkitImageSmoothingEnabled=
this.i.Ya,c.mozImageSmoothingEnabled=this.i.Ya,c.msImageSmoothingEnabled=this.i.Ya,c.imageSmoothingEnabled=this.i.Ya),this.ig&&c.clearRect(0,0,this.i.Ha,this.i.Ga));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.ig||(c.fillStyle="rgb("+this.Tf[0]+","+this.Tf[1]+","+this.Tf[2]+")",c.fillRect(0,0,this.i.Ha,this.i.Ga));c.save();this.$g=!0;var d=this.oc(0,0,!0,!0),e=this.oc(0,0,!1,!0);this.$g=!1;this.i.ze&&(d=Math.round(d),e=Math.round(e));this.Hq(d,e,c);var f=this.Kd();c.scale(f,f);c.translate(-d,
-e);this.lf?(this.qd.left=this.xd.ke(this.qb),this.qd.top=this.xd.le(this.rb),this.qd.right=this.xd.ke(this.Fb),this.qd.bottom=this.xd.le(this.Eb),this.eg||!this.qd.Ol(this.Ek)?(g(this.lh),d=this.Ss(),this.eg=!1,this.Ek.ak(this.qd)):d=this.lh):d=this.H;for(var h,l=null,e=0,f=d.length;e<f;++e)h=d[e],h!==l&&(this.tD(h,c),l=h);this.lf&&(this.lh=d);c.restore();this.Kg&&(a.globalCompositeOperation=this.Il,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.tD=function(a,b){if(a.visible&&0!==a.width&&
0!==a.height){a.ab();var c=a.Lb;c.right<this.qb||c.bottom<this.rb||c.left>this.Fb||c.top>this.Eb||(b.globalCompositeOperation=a.Il,a.Yd(b))}};b.prototype.qr=function(){this.$g=!0;var a=this.oc(0,0,!0,!0),b=this.oc(0,0,!1,!0);this.$g=!1;this.i.ze&&(a=Math.round(a),b=Math.round(b));this.Hq(a,b,null)};b.prototype.Hq=function(a,b,c){var d=this.Kd();this.qb=a;this.rb=b;this.Fb=a+1/d*this.i.Ha;this.Eb=b+1/d*this.i.Ga;this.qb>this.Fb&&(a=this.qb,this.qb=this.Fb,this.Fb=a);this.rb>this.Eb&&(a=this.rb,this.rb=
this.Eb,this.Eb=a);a=this.Vb();0!==a&&(c&&(c.translate(this.i.Ha/2,this.i.Ga/2),c.rotate(-a),c.translate(this.i.Ha/-2,this.i.Ga/-2)),this.Ch.set(this.qb,this.rb,this.Fb,this.Eb),this.Ch.offset((this.qb+this.Fb)/-2,(this.rb+this.Eb)/-2),this.Cz.gz(this.Ch,a),this.Cz.pw(this.Ch),this.Ch.offset((this.qb+this.Fb)/2,(this.rb+this.Eb)/2),this.qb=this.Ch.left,this.rb=this.Ch.top,this.Fb=this.Ch.right,this.Eb=this.Ch.bottom)};b.prototype.Xh=function(a){if(this.Kg=this.np){this.i.Uc||(this.i.Uc=a.Ke(this.i.Ha,
this.i.Ga,this.i.Ya));if(this.i.Uc.Ui!==this.i.Ha||this.i.Uc.Ti!==this.i.Ga)a.deleteTexture(this.i.Uc),this.i.Uc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya);a.Jf(this.i.Uc)}this.$g=!0;var b=this.oc(0,0,!0,!0),c=this.oc(0,0,!1,!0);this.$g=!1;this.i.ze&&(b=Math.round(b),c=Math.round(c));this.Hq(b,c,null);b=this.Kd();a.If();a.scale(b,b);a.Iq(-this.Vb());a.translate((this.qb+this.Fb)/-2,(this.rb+this.Eb)/-2);a.kf();this.lf?(this.qd.left=this.xd.ke(this.qb),this.qd.top=this.xd.le(this.rb),this.qd.right=this.xd.ke(this.Fb),
this.qd.bottom=this.xd.le(this.Eb),this.eg||!this.qd.Ol(this.Ek)?(g(this.lh),b=this.Ss(),this.eg=!1,this.Ek.ak(this.qd)):b=this.lh):b=this.H;for(var d,e=null,c=b.length-1;0<=c;--c)d=b[c],d!==e&&(this.vD(b[c],a),e=d);this.lf&&(this.lh=b);this.ig||(this.qs=this.i.Zi++,a.Nq(this.qs),a.Xy(1,1,1),a.Qw(),a.gG())};b.prototype.Bc=function(a){var b=0,c=0;if(this.Kg=this.np||1!==this.opacity||0<this.yb.length||0!==this.Cd){this.i.Uc||(this.i.Uc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya));if(this.i.Uc.Ui!==this.i.Ha||
this.i.Uc.Ti!==this.i.Ga)a.deleteTexture(this.i.Uc),this.i.Uc=a.Ke(this.i.Ha,this.i.Ga,this.i.Ya);a.Jf(this.i.Uc);this.ig&&a.clear(0,0,0,0)}this.ig||(this.i.Qb?(a.Nq(this.qs),a.Xy(this.Tf[0]/255,this.Tf[1]/255,this.Tf[2]/255),a.Qw(),a.vG()):a.clear(this.Tf[0]/255,this.Tf[1]/255,this.Tf[2]/255,1));this.$g=!0;var d=this.oc(0,0,!0,!0),b=this.oc(0,0,!1,!0);this.$g=!1;this.i.ze&&(d=Math.round(d),b=Math.round(b));this.Hq(d,b,null);d=this.Kd();a.If();a.scale(d,d);a.Iq(-this.Vb());a.translate((this.qb+this.Fb)/
-2,(this.rb+this.Eb)/-2);a.kf();this.lf?(this.qd.left=this.xd.ke(this.qb),this.qd.top=this.xd.le(this.rb),this.qd.right=this.xd.ke(this.Fb),this.qd.bottom=this.xd.le(this.Eb),this.eg||!this.qd.Ol(this.Ek)?(g(this.lh),b=this.Ss(),this.eg=!1,this.Ek.ak(this.qd)):b=this.lh):b=this.H;var e,f,h=null,c=0;for(e=b.length;c<e;++c)f=b[c],f!==h&&(this.uD(b[c],a),h=f);this.lf&&(this.lh=b);this.Kg&&(b=this.yb.length?this.yb[0].Kc:0,c=this.yb.length?this.yb[0].index:0,0===this.yb.length||1===this.yb.length&&!a.vu(b)&&
1===this.opacity?(1===this.yb.length?(a.Ce(b),a.$k(this.rc.$l(),1/this.i.Ha,1/this.i.Ga,0,0,1,1,d,this.Vb(),this.qb,this.rb,(this.qb+this.Fb)/2,(this.rb+this.Eb)/2,this.i.dd.Va,this.gc[c]),a.Cq(b)&&(this.i.Ua=!0)):a.Ce(0),a.Jf(this.rc.$l()),a.xh(this.opacity),a.ie(this.i.Uc),a.Bi(this.Pd,this.Id),a.If(),a.kf(),d=this.i.Ha/2,b=this.i.Ga/2,a.Wk(-d,b,d,b,d,-b,-d,-b),a.ie(null)):this.rc.Du(a,this,null,this.rc.$l()))};b.prototype.uD=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ab();var c=a.Lb;
c.right<this.qb||c.bottom<this.rb||c.left>this.Fb||c.top>this.Eb||(b.Nq(a.Zi),a.Pz?this.wD(a,b):(b.Ce(0),b.Bi(a.Pd,a.Id),a.Bc(b)))}};b.prototype.vD=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ab();var c=a.Lb;c.right<this.qb||c.bottom<this.rb||c.left>this.Fb||c.top>this.Eb||(a.Zi=this.i.Zi++,0===a.Cd&&1===a.opacity&&a.yh&&a.Xh&&(b.Nq(a.Zi),a.Xh(b)))}};b.prototype.wD=function(a,b){var c=a.yb[0].Kc,d=a.yb[0].index,e=this.Kd();if(1!==a.yb.length||b.vu(c)||b.YF(c)||(a.M||a.O.Vb())&&b.kn(c)||
1!==a.opacity||a.type.Za.gy)this.rc.Du(b,this,a,this.Kg?this.i.Uc:this.rc.$l()),b.If(),b.scale(e,e),b.Iq(-this.Vb()),b.translate((this.qb+this.Fb)/-2,(this.rb+this.Eb)/-2),b.kf();else{b.Ce(c);b.Bi(a.Pd,a.Id);b.Cq(c)&&(this.i.Ua=!0);var f=0,h=0,l=0,g=0;b.kn(c)&&(g=a.Lb,f=this.Bb(g.left,g.top,!0,!0),h=this.Bb(g.left,g.top,!1,!0),l=this.Bb(g.right,g.bottom,!0,!0),g=this.Bb(g.right,g.bottom,!1,!0),f=f/windowWidth,h=1-h/windowHeight,l=l/windowWidth,g=1-g/windowHeight);var m;a.od&&a.od.Da?(m=a.od.Da,c=
1/m.width,m=1/m.height):(c=1/a.width,m=1/a.height);b.$k(this.Kg?this.i.Uc:this.rc.$l(),c,m,f,h,l,g,e,this.Vb(),this.qb,this.rb,(this.qb+this.Fb)/2,(this.rb+this.Eb)/2,this.i.dd.Va,a.gc[d]);a.Bc(b)}};b.prototype.oc=function(a,b,c,d){var e=this.i.devicePixelRatio;this.i.lj&&(a*=e,b*=e);var e=this.i.Ey,f=this.i.Fy,e=(this.rc.scrollX-e)*this.xe+e,f=(this.rc.scrollY-f)*this.ye+f,h=e,l=f,g=1/this.Kd(!d);d?(h-=this.i.Ha*g/2,l-=this.i.Ga*g/2):(h-=this.i.width*g/2,l-=this.i.height*g/2);h+=a*g;l+=b*g;b=this.Vb();
0!==b&&(h-=e,l-=f,a=Math.cos(b),b=Math.sin(b),d=h*a-l*b,l=l*a+h*b,h=d+e,l+=f);return c?h:l};b.prototype.Bb=function(a,b,c,d){var e=this.i.Ey,f=this.i.Fy,h=(this.rc.scrollX-e)*this.xe+e,l=(this.rc.scrollY-f)*this.ye+f,f=h,e=l,g=this.Vb();if(0!==g){a-=h;b-=l;var m=Math.cos(-g),g=Math.sin(-g),E=a*m-b*g;b=b*m+a*g;a=E+h;b+=l}h=1/this.Kd(!d);d?(f-=this.i.Ha*h/2,e-=this.i.Ga*h/2):(f-=this.i.width*h/2,e-=this.i.height*h/2);f=(a-f)/h;e=(b-e)/h;a=this.i.devicePixelRatio;this.i.lj&&!d&&(f/=a,e/=a);return c?
f:e};b.prototype.Tb=function(){var a,b,c,d={s:this.scale,a:this.M,vl:this.qb,vt:this.rb,vr:this.Fb,vb:this.Eb,v:this.visible,bc:this.Tf,t:this.ig,px:this.xe,py:this.ye,o:this.opacity,zr:this.Wd,fx:[],cg:this.Ll,instances:[]};a=0;for(b=this.Qa.length;a<b;a++)c=this.Qa[a],d.fx.push({name:c.name,active:c.xc,params:this.gc[c.index]});return d};b.prototype.Yb=function(a){var b,d,e;this.scale=a.s;this.M=a.a;this.qb=a.vl;this.rb=a.vt;this.Fb=a.vr;this.Eb=a.vb;this.visible=a.v;this.Tf=a.bc;this.ig=a.t;this.xe=
a.px;this.ye=a.py;this.opacity=a.o;this.Wd=a.zr;this.Ll=a.cg||[];Ga(this.$e,this.oz);var f=new ca;b=0;for(e=this.Ll.length;b<e;++b)f.add(this.Ll[b]);d=b=0;for(e=this.$e.length;b<e;++b)f.contains(this.$e[b][2])||(this.$e[d]=this.$e[b],++d);Fa(this.$e,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.Ns(d[b].name))a.xc=d[b].active,this.gc[a.index]=d[b].params;this.jg();this.H.sort(c);this.Pj=!0};Ec=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,h;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=v.length&&(v.length=b.length+1);v[b.length]||(v[b.length]=[]);h=v[b.length];d=0;for(e=h.length;d<e;d++)if(f=h[d],a(b,f))return f;h.push(b);return b}
function d(a,b){this.i=a;this.Fz={};this.Kw={};this.$s=!1;this.jx=new ca;this.ys=[];this.as=[];this.name=b[0];var c=b[1];this.Zh=[];var d,e;d=0;for(e=c.length;d<e;d++)this.mx(c[d],null,this.Zh)}function g(a){this.type=a;this.H=[];this.Ra=[];this.$a=!0}function f(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Xb=[];this.Ci=[];this.hx=this.jr=this.dv=this.ht=this.group=this.Tu=!1;this.Qc=[];this.pf=[];this.Lf=[];this.gm="";this.fj=this.ht=this.group=!1;this.Ho=null;c[1]&&(this.gm=c[1][1].toLowerCase(),
this.group=!0,this.ht=!!c[1][0],this.Ho=[],this.fj=this.ht,this.i.Wj.push(this),this.i.nk[this.gm]=this);this.ff=c[2];this.kb=c[4];this.group||(this.i.ow[this.kb.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Fc(this,d[a]);e.index=a;this.Qc.push(e);this.hw(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Gc(this,d[a]),e.index=a,this.pf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.mx(c[a],this,this.Lf);this.Lp=!1;this.Qc.length&&(this.Lp=null==this.Qc[0].type&&
this.Qc[0].rd==L.prototype.F.vv)}function h(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Md))for(c=0,d=a.Je.length;c<d;c++)e=a.Je[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function e(a,b){this.Xe=a;this.sheet=a.sheet;this.i=a.i;this.Ta=[];this.lc=[];this.na={};this.index=-1;this.Bl=!1;this.rd=this.i.Jh(b[1]);this.trigger=0<b[3];this.Jw=2===b[3];this.Fg=b[4];this.Gp=b[5];this.oF=b[6];this.kb=b[7];this.i.Th[this.kb.toString()]=this;-1===b[0]?(this.type=null,this.Jc=this.Iu,this.Si=null,this.Vf=
-1):(this.type=this.i.ua[b[0]],this.Jc=this.oF?this.nG:this.Hu,b[2]?(this.Si=this.type.pp(b[2]),this.Vf=this.type.Ls(b[2])):(this.Si=null,this.Vf=-1),this.Xe.parent&&this.Xe.parent.Qq());this.Jw&&(this.Jc=this.oG);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Hc(this,e[c]);this.Ta.push(f)}this.lc.length=e.length}}function m(a,b){this.Xe=a;this.sheet=a.sheet;this.i=a.i;this.Ta=[];this.lc=[];this.na={};this.index=-1;this.Bl=!1;this.rd=this.i.Jh(b[1]);-1===b[0]?(this.type=null,
this.Jc=this.Iu,this.Si=null,this.Vf=-1):(this.type=this.i.ua[b[0]],this.Jc=this.Hu,b[2]?(this.Si=this.type.pp(b[2]),this.Vf=this.type.Ls(b[2])):(this.Si=null,this.Vf=-1));this.kb=b[3];this.i.Nh[this.kb.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Hc(this,e[c]);this.Ta.push(f)}this.lc.length=e.length}}function l(){q++;t.length===q&&t.push(new Kc);return t[q]}function k(a,b){this.Zb=a;this.Xe=a.Xe;this.sheet=a.sheet;this.i=a.i;this.type=b[0];this.Ag=null;this.zh=
0;this.get=null;this.ww=0;this.rc=null;this.key=0;this.object=null;this.index=0;this.Qn=this.Mj=this.Qn=this.Mj=this.Ow=this.aj=this.Rn=null;this.Nf=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Ag=new Sc(this,b[1]);this.zh=0;this.get=this.JE;break;case 1:this.Ag=new Sc(this,b[1]);this.zh=0;this.get=this.KE;break;case 5:this.Ag=new Sc(this,b[1]);this.zh=0;this.get=this.OE;break;case 3:case 8:this.ww=b[1];this.get=this.HE;break;case 6:this.rc=this.i.Lt[b[1]];this.get=this.PE;break;case 9:this.key=b[1];
this.get=this.NE;break;case 4:this.object=this.i.ua[b[1]];this.get=this.QE;this.Xe.hw(this.object);this.Zb instanceof Gc?this.Xe.Qq():this.Xe.parent&&this.Xe.parent.Qq();break;case 10:this.index=b[1];a.type&&a.type.Aa?(this.get=this.LE,this.Nf=!0):this.get=this.ME;break;case 11:this.Rn=b[1];this.aj=null;this.get=this.IE;break;case 2:case 12:this.Ow=b[1];this.get=this.GE;break;case 13:for(this.get=this.RE,this.Mj=[],this.Qn=[],c=1,d=b.length;c<d;c++)e=new Hc(this.Zb,b[c]),this.Mj.push(e),this.Qn.push(0)}}
function n(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Xb=[];this.name=c[1];this.sr=c[2];this.Bp=c[3];this.ym=!!c[4];this.Kp=!!c[5];this.kb=c[6];this.i.kl[this.kb.toString()]=this;this.data=this.Bp;this.parent?(this.xj=this.ym||this.Kp?-1:this.i.zG++,this.i.AC.push(this)):(this.xj=-1,this.i.Yr.push(this))}function p(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.Xb=[];this.km=null;this.ZE=c[1];this.xc=!0}function r(){this.sz=[];this.reset(null)}var v=[];d.prototype.toString=function(){return this.name};
d.prototype.mx=function(a,b,c){switch(a[0]){case 0:a=new Tc(this,b,a);if(a.ff)for(c.push(a),c=0,b=a.Qc.length;c<b;c++)a.Qc[c].trigger&&this.nx(a,c);else a.zx()?this.nx(a,0):c.push(a);break;case 1:a=new Bc(this,b,a);c.push(a);break;case 2:a=new Uc(this,b,a),c.push(a)}};d.prototype.wc=function(){var a,b;a=0;for(b=this.Zh.length;a<b;a++)this.Zh[a].wc(a<b-1&&this.Zh[a+1].Lp)};d.prototype.lv=function(){H(this.ys);H(this.as);this.gw(this);H(this.as)};d.prototype.gw=function(a){var b,c,d,e,f=a.ys,h=a.as,
l=this.jx.kg();b=0;for(c=l.length;b<c;++b)d=l[b],e=d.km,!d.xc||a===e||-1<h.indexOf(e)||(h.push(e),e.gw(a),f.push(e))};d.prototype.Jc=function(a){this.i.VH||(this.$s=!0,a||(this.i.qt=!0));var b,c;b=0;for(c=this.Zh.length;b<c;b++){var d=this.Zh[b];d.Jc();this.i.os(d.Xb);this.i.ci&&this.i.Ad()}a||(this.i.qt=!1)};d.prototype.nx=function(a,b){a.ff||this.i.mr.push(a);var c,d,e=a.Qc[b],f;e.type?f=e.type.name:f="system";var h=(c=e.Jw)?this.Kw:this.Fz;h[f]||(h[f]=[]);f=h[f];h=e.rd;if(c){if(e.Ta.length&&(e=
e.Ta[0],1===e.type&&2===e.Ag.type)){e=e.Ag.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==h){c=f[c].Ql;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:h,Ql:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==h){f[c].Ql.push([a,b]);return}id&&h===id.prototype.F.Uj?f.unshift({method:h,Ql:[[a,b]]}):f.push({method:h,Ql:[[a,b]]})}};rc=d;g.prototype.Zs=function(){return this.$a?this.type.H.length:this.H.length};g.prototype.Jd=function(){return this.$a?this.type.H:
this.H};g.prototype.Uk=function(a){a&&(a.i.Ec().bd.ff?(this.$a&&(H(this.H),Ga(this.Ra,a.type.H),this.$a=!1),a=this.Ra.indexOf(a),-1!==a&&(this.H.push(this.Ra[a]),this.Ra.splice(a,1))):(this.$a=!1,H(this.H),this.H[0]=a))};$b=g;window._c2hh_="5AFA373D7ADC68A1BB7AD7F0086E70B954407AFE";f.prototype.wc=function(a){var c,d=this.parent;if(this.group)for(this.jr=!0;d;){if(!d.group){this.jr=!1;break}d=d.parent}this.dv=!this.zx()&&(!this.parent||this.parent.group&&this.parent.jr);this.hx=!!a;this.Ci=this.Xb.slice(0);
for(d=this.parent;d;){a=0;for(c=d.Xb.length;a<c;a++)this.xC(d.Xb[a]);d=d.parent}this.Xb=b(this.Xb);this.Ci=b(this.Ci);a=0;for(c=this.Qc.length;a<c;a++)this.Qc[a].wc();a=0;for(c=this.pf.length;a<c;a++)this.pf[a].wc();a=0;for(c=this.Lf.length;a<c;a++)this.Lf[a].wc(a<c-1&&this.Lf[a+1].Lp)};f.prototype.Oq=function(a){if(this.fj!==!!a){this.fj=!!a;var b;a=0;for(b=this.Ho.length;a<b;++a)this.Ho[a].Kz();0<b&&this.i.Ob.$i&&this.i.Ob.$i.lv()}};f.prototype.hw=function(a){h(a,this.Xb)};f.prototype.xC=function(a){h(a,
this.Ci)};f.prototype.Qq=function(){this.Tu=!0;this.parent&&this.parent.Qq()};f.prototype.zx=function(){return this.Qc.length?this.Qc[0].trigger:!1};f.prototype.Jc=function(){var a,b,c=!1,d=this.i,e=this.i.Ec();e.bd=this;var f=this.Qc;this.Lp||(e.zs=!1);if(this.ff){0===f.length&&(c=!0);e.yc=0;for(a=f.length;e.yc<a;e.yc++)b=f[e.yc],b.trigger||(b=b.Jc())&&(c=!0);(e.rj=c)&&this.Jq()}else{e.yc=0;for(a=f.length;e.yc<a;e.yc++)if(b=f[e.yc].Jc(),!b){e.rj=!1;this.dv&&d.ci&&d.Ad();return}e.rj=!0;this.Jq()}this.AD(e)};
f.prototype.AD=function(a){a.rj&&this.hx&&(a.zs=!0);this.dv&&this.i.ci&&this.i.Ad()};f.prototype.lG=function(a){this.i.Ec().bd=this;this.Qc[a].Jc()&&(this.Jq(),this.i.Ec().rj=!0)};f.prototype.Jq=function(){var a=this.i.Ec(),b;a.We=0;for(b=this.pf.length;a.We<b;a.We++)if(this.pf[a.We].Jc())return;this.Uy()};f.prototype.iG=function(){var a=this.i.Ec(),b;for(b=this.pf.length;a.We<b;a.We++)if(this.pf[a.We].Jc())return;this.Uy()};f.prototype.Uy=function(){if(this.Lf.length){var a,b,c,d,e=this.Lf.length-
1;this.i.Dq(this);if(this.Tu)for(a=0,b=this.Lf.length;a<b;a++)c=this.Lf[a],(d=!this.jr||!this.group&&a<e)&&this.i.nn(c.Xb),c.Jc(),d?this.i.wi(c.Xb):this.i.os(c.Xb);else for(a=0,b=this.Lf.length;a<b;a++)this.Lf[a].Jc();this.i.zq()}};f.prototype.mG=function(){var a=this.i.Ec();a.bd=this;var b=!1,c;a.yc=0;for(c=this.Qc.length;a.yc<c;a.yc++)if(this.Qc[a.yc].Jc())b=!0;else if(!this.ff)return!1;return this.ff?b:!0};f.prototype.Gu=function(){this.i.bj++;var a=this.i.Ec().yc,b=this.i.Dq(this);if(!this.ff)for(b.yc=
a+1,a=this.Qc.length;b.yc<a;b.yc++)if(!this.Qc[b.yc].Jc()){this.i.zq();return}this.Jq();this.i.zq()};f.prototype.gF=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Qc[b].type===a.type)return!1;return!0};Tc=f;e.prototype.wc=function(){var a,b,c;a=0;for(b=this.Ta.length;a<b;a++)c=this.Ta[a],c.wc(),c.Nf&&(this.Bl=!0)};e.prototype.oG=function(){return!0};e.prototype.Iu=function(){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.lc[a]=this.Ta[a].get();return cb(this.rd.apply(this.i.Ng,
this.lc),this.Gp)};e.prototype.nG=function(){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.lc[a]=this.Ta[a].get();a=this.rd.apply(this.Si?this.Si:this.type,this.lc);this.type.Ie();return a};e.prototype.Hu=function(){var a,b,c,d,e,f,h,l,g=this.type,k=g.La(),m=this.Xe.ff&&!this.trigger;b=0;var q=g.Md,n=g.Aa,r=g.bh,p=this.Vf,t=-1<p,v=this.Bl,S=this.Ta,J=this.lc,M=this.Gp,O=this.rd,K;if(v)for(b=0,e=S.length;b<e;++b)f=S[b],f.Nf||(J[b]=f.get(0));else for(b=0,e=S.length;b<e;++b)J[b]=S[b].get(0);if(k.$a){H(k.H);
H(k.Ra);K=g.H;a=0;for(d=K.length;a<d;++a){l=K[a];if(v)for(b=0,e=S.length;b<e;++b)f=S[b],f.Nf&&(J[b]=f.get(a));t?(b=0,n&&(b=l.type.jk[r]),b=O.apply(l.Ka[p+b],J)):b=O.apply(l,J);(h=cb(b,M))?k.H.push(l):m&&k.Ra.push(l)}g.finish&&g.finish(!0);k.$a=!1;g.Ie();return k.Zs()}c=0;K=(h=m&&!this.Xe.gF(this))?k.Ra:k.H;var N=!1;a=0;for(d=K.length;a<d;++a){l=K[a];if(v)for(b=0,e=S.length;b<e;++b)f=S[b],f.Nf&&(J[b]=f.get(a));t?(b=0,n&&(b=l.type.jk[r]),b=O.apply(l.Ka[p+b],J)):b=O.apply(l,J);if(cb(b,M))if(N=!0,h){if(k.H.push(l),
q)for(b=0,e=l.siblings.length;b<e;b++)f=l.siblings[b],f.type.La().H.push(f)}else{K[c]=l;if(q)for(b=0,e=l.siblings.length;b<e;b++)f=l.siblings[b],f.type.La().H[c]=f;c++}else if(h){K[c]=l;if(q)for(b=0,e=l.siblings.length;b<e;b++)f=l.siblings[b],f.type.La().Ra[c]=f;c++}else if(m&&(k.Ra.push(l),q))for(b=0,e=l.siblings.length;b<e;b++)f=l.siblings[b],f.type.La().Ra.push(f)}Fa(K,c);if(q)for(n=g.Je,a=0,d=n.length;a<d;a++)l=n[a].La(),h?Fa(l.Ra,c):Fa(l.H,c);c=N;if(h&&!N)for(a=0,d=k.H.length;a<d;a++){l=k.H[a];
if(v)for(b=0,e=S.length;b<e;b++)f=S[b],f.Nf&&(J[b]=f.get(a));b=t?O.apply(l.Ka[p],J):O.apply(l,J);if(cb(b,M)){N=!0;break}}g.finish&&g.finish(c||m);return m?N:k.Zs()};Fc=e;m.prototype.wc=function(){var a,b,c;a=0;for(b=this.Ta.length;a<b;a++)c=this.Ta[a],c.wc(),c.Nf&&(this.Bl=!0)};m.prototype.Iu=function(){var a=this.i,b,c,d=this.Ta,e=this.lc;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.rd.apply(a.Ng,e)};m.prototype.Hu=function(){var a=this.type,b=this.Vf,c=a.bh,d=this.Bl,e=this.Ta,f=this.lc,
h=this.rd,l=a.La().Jd(),a=a.Aa,g=-1<b,k,m,q,n,r,p;if(d)for(m=0,n=e.length;m<n;++m)r=e[m],r.Nf||(f[m]=r.get(0));else for(m=0,n=e.length;m<n;++m)f[m]=e[m].get(0);k=0;for(q=l.length;k<q;++k){p=l[k];if(d)for(m=0,n=e.length;m<n;++m)r=e[m],r.Nf&&(f[m]=r.get(k));g?(m=0,a&&(m=p.type.jk[c]),h.apply(p.Ka[b+m],f)):h.apply(p,f)}return!1};Gc=m;var t=[],q=-1;k.prototype.wc=function(){var a,b;if(11===this.type)this.aj=this.i.Xw(this.Rn,this.Xe.parent);else if(13===this.type)for(a=0,b=this.Mj.length;a<b;a++)this.Mj[a].wc();
this.Ag&&this.Ag.wc()};k.prototype.vF=function(a){this.Nf||!a||a.Za.Vq||(this.Nf=!0)};k.prototype.ez=function(){this.Nf=!0};k.prototype.JE=function(a){this.zh=a||0;a=l();this.Ag.get(a);q--;return a.data};k.prototype.KE=function(a){this.zh=a||0;a=l();this.Ag.get(a);q--;return oa(a.data)?a.data:""};k.prototype.QE=function(){return this.object};k.prototype.HE=function(){return this.ww};k.prototype.OE=function(a){this.zh=a||0;a=l();this.Ag.get(a);q--;return a.cd()?this.i.eh(a.data):this.i.Zl(a.data)};
k.prototype.PE=function(){return this.rc};k.prototype.NE=function(){return this.key};k.prototype.ME=function(){return this.index};k.prototype.LE=function(a){a=a||0;var b=this.Zb.type,c=null,c=b.La(),d=c.Jd();if(d.length)c=d[a%d.length].type;else if(c.Ra.length)c=c.Ra[a%c.Ra.length].type;else if(b.H.length)c=b.H[a%b.H.length].type;else return 0;return this.index+c.dp[b.bh]};k.prototype.IE=function(){return this.aj};k.prototype.GE=function(){return this.Ow};k.prototype.RE=function(){var a,b;a=0;for(b=
this.Mj.length;a<b;a++)this.Qn[a]=this.Mj[a].get();return this.Qn};Hc=k;n.prototype.wc=function(){this.Xb=b(this.Xb)};n.prototype.Lj=function(a){var b=this.i.Vw();this.parent&&!this.ym&&b?(this.xj>=b.length&&(b.length=this.xj+1),b[this.xj]=a):this.data=a};n.prototype.em=function(){var a=this.i.Vw();return!this.parent||this.ym||!a||this.Kp?this.data:this.xj>=a.length||"undefined"===typeof a[this.xj]?this.Bp:a[this.xj]};n.prototype.Jc=function(){!this.parent||this.ym||this.Kp||this.Lj(this.Bp)};Bc=
n;p.prototype.toString=function(){return"include:"+this.km.toString()};p.prototype.wc=function(){this.km=this.i.Cs[this.ZE];this.sheet.jx.add(this);this.Xb=b(this.Xb);for(var a=this.parent;a;)a.group&&a.Ho.push(this),a=a.parent;this.Kz()};p.prototype.Jc=function(){this.parent&&this.i.mn(this.i.ua);this.km.$s||this.km.Jc(!0);this.parent&&this.i.wi(this.i.ua)};p.prototype.Kz=function(){for(var a=this.parent;a;){if(a.group&&!a.fj){this.xc=!1;return}a=a.parent}this.xc=!0};Uc=p;r.prototype.reset=function(a){this.bd=
a;this.We=this.yc=0;H(this.sz);this.zs=this.rj=!1};r.prototype.jF=function(){return this.bd.Tu?!0:this.yc<this.bd.Qc.length-1?!!this.bd.Xb.length:!1};Ac=r})();
(function(){function a(a,b){this.Zb=a;this.i=a.i;this.type=b[0];this.get=[this.SD,this.OD,this.aE,this.dE,this.DD,this.bE,this.WD,this.LD,this.VD,this.$D,this.ED,this.ZD,this.MD,this.XD,this.TD,this.UD,this.PD,this.QD,this.KD,this.cE,this.YD,this.RD,this.JD,this.ND][this.type];var c=null;this.ph=this.Ta=this.lc=this.rd=this.er=this.second=this.first=this.value=null;this.Vf=-1;this.Yf=null;this.Qz=-1;this.aj=this.Rn=null;this.Yk=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Sc(a,b[1]);break;case 18:this.first=new Sc(a,b[1]);this.second=new Sc(a,b[2]);this.er=new Sc(a,b[3]);break;case 19:this.rd=this.i.Jh(b[1]);this.rd!==L.prototype.Ea.random&&this.rd!==L.prototype.Ea.NC||this.Zb.ez();this.lc=[];this.Ta=[];3===b.length?(c=b[2],this.lc.length=c.length+1):this.lc.length=1;break;case 20:this.ph=this.i.ua[b[1]];this.Vf=-1;this.rd=this.i.Jh(b[2]);this.Yk=b[3];jd&&this.rd===jd.prototype.Ea.aA&&this.Zb.ez();b[4]?this.Yf=new Sc(a,b[4]):this.Yf=null;this.lc=[];this.Ta=[];
6===b.length?(c=b[5],this.lc.length=c.length+1):this.lc.length=1;break;case 21:this.ph=this.i.ua[b[1]];this.Yk=b[2];b[3]?this.Yf=new Sc(a,b[3]):this.Yf=null;this.Qz=b[4];break;case 22:this.ph=this.i.ua[b[1]];this.ph.pp(b[2]);this.Vf=this.ph.Ls(b[2]);this.rd=this.i.Jh(b[3]);this.Yk=b[4];b[5]?this.Yf=new Sc(a,b[5]):this.Yf=null;this.lc=[];this.Ta=[];7===b.length?(c=b[6],this.lc.length=c.length+1):this.lc.length=1;break;case 23:this.Rn=b[1],this.aj=null}this.Zb.vF(this.ph);4<=this.type&&17>=this.type&&
(this.first=new Sc(a,b[1]),this.second=new Sc(a,b[2]));if(c){var d,f;d=0;for(f=c.length;d<f;d++)this.Ta.push(new Sc(a,c[d]))}}function c(){++f;g.length===f&&g.push(new Kc);return g[f]}function b(a,b,c){var d,f;d=0;for(f=a.length;d<f;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||Vc.Sj;this.data=b||0;this.Bj=null;this.type==Vc.Sj&&(this.data=Math.floor(this.data))}a.prototype.wc=function(){23===this.type&&(this.aj=this.Zb.i.Xw(this.Rn,this.Zb.Xe.parent));this.first&&this.first.wc();this.second&&
this.second.wc();this.er&&this.er.wc();this.Yf&&this.Yf.wc();if(this.Ta){var a,b;a=0;for(b=this.Ta.length;a<b;a++)this.Ta[a].wc()}};var g=[],f=-1;a.prototype.cE=function(a){var d=this.Ta,g=this.lc;g[0]=a;a=c();b(d,g,a);--f;this.rd.apply(this.i.Ng,g)};a.prototype.YD=function(a){var d=this.ph,g=this.lc,l=this.Ta,k=this.Yf,n=this.rd,p=this.Zb.zh,r=d.La(),v=r.Jd();if(!v.length)if(r.Ra.length)v=r.Ra;else{this.Yk?a.hd(""):a.Ub(0);return}g[0]=a;a.Bj=d;a=c();b(l,g,a);k&&(k.get(a),a.cd()&&(p=a.data,v=d.H));
--f;d=v.length;if(p>=d||p<=-d)p%=d;0>p&&(p+=d);n.apply(v[p],g)};a.prototype.JD=function(a){var d=this.ph,g=this.lc,l=this.Ta,k=this.Yf,n=this.Vf,p=this.rd,r=this.Zb.zh,v=d.La(),t=v.Jd();if(!t.length)if(v.Ra.length)t=v.Ra;else{this.Yk?a.hd(""):a.Ub(0);return}g[0]=a;a.Bj=d;a=c();b(l,g,a);k&&(k.get(a),a.cd()&&(r=a.data,t=d.H));--f;l=t.length;if(r>=l||r<=-l)r%=l;0>r&&(r+=l);r=t[r];t=0;d.Aa&&(t=r.type.jk[d.bh]);p.apply(r.Ka[n+t],g)};a.prototype.RD=function(a){var b=this.Yf,d=this.ph,l=this.Qz,g=this.Zb.zh,
n=d.La(),p=n.Jd();if(!p.length)if(n.Ra.length)p=n.Ra;else{this.Yk?a.hd(""):a.Ub(0);return}if(b){n=c();b.get(n);if(n.cd()){g=n.data;p=d.H;0!==p.length&&(g%=p.length,0>g&&(g+=p.length));g=d.Qs(g);d=g.Rb[l];oa(d)?a.hd(d):a.xa(d);--f;return}--f}b=p.length;if(g>=b||g<=-b)g%=b;0>g&&(g+=b);g=p[g];p=0;d.Aa&&(p=g.type.dp[d.bh]);d=g.Rb[l+p];oa(d)?a.hd(d):a.xa(d)};a.prototype.SD=function(a){a.type=Vc.Sj;a.data=this.value};a.prototype.OD=function(a){a.type=Vc.Rj;a.data=this.value};a.prototype.aE=function(a){a.type=
Vc.String;a.data=this.value};a.prototype.dE=function(a){this.first.get(a);a.cd()&&(a.data=-a.data)};a.prototype.DD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data+=b.data,b.tk()&&a.Mk());--f};a.prototype.bE=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data-=b.data,b.tk()&&a.Mk());--f};a.prototype.WD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data*=b.data,b.tk()&&a.Mk());--f};a.prototype.LD=function(a){this.first.get(a);
var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data/=b.data,a.Mk());--f};a.prototype.VD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data%=b.data,b.tk()&&a.Mk());--f};a.prototype.$D=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data=Math.pow(a.data,b.data),b.tk()&&a.Mk());--f};a.prototype.ED=function(a){this.first.get(a);var b=c();this.second.get(b);b.wk()||a.wk()?this.GD(a,b):this.FD(a,b);--f};a.prototype.GD=function(a,b){a.wk()&&
b.wk()?this.ID(a,b):this.HD(a,b)};a.prototype.ID=function(a,b){a.data+=b.data};a.prototype.HD=function(a,b){a.wk()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.hd(a.data.toString()+b.data)};a.prototype.FD=function(a,b){a.Ub(a.data&&b.data?1:0)};a.prototype.ZD=function(a){this.first.get(a);var b=c();this.second.get(b);a.cd()&&b.cd()&&(a.data||b.data?a.Ub(1):a.Ub(0));--f};a.prototype.KD=function(a){this.first.get(a);a.data?this.second.get(a):this.er.get(a)};a.prototype.MD=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Ub(a.data===b.data?1:0);--f};a.prototype.XD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ub(a.data!==b.data?1:0);--f};a.prototype.TD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ub(a.data<b.data?1:0);--f};a.prototype.UD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ub(a.data<=b.data?1:0);--f};a.prototype.PD=function(a){this.first.get(a);var b=c();this.second.get(b);a.Ub(a.data>b.data?1:0);--f};a.prototype.QD=function(a){this.first.get(a);
var b=c();this.second.get(b);a.Ub(a.data>=b.data?1:0);--f};a.prototype.ND=function(a){var b=this.aj.em();na(b)?a.xa(b):a.hd(b)};Sc=a;d.prototype.tk=function(){return this.type===Vc.Rj};d.prototype.cd=function(){return this.type===Vc.Sj||this.type===Vc.Rj};d.prototype.wk=function(){return this.type===Vc.String};d.prototype.Mk=function(){this.tk()||(this.wk()&&(this.data=parseFloat(this.data)),this.type=Vc.Rj)};d.prototype.Ub=function(a){this.type=Vc.Sj;this.data=Math.floor(a)};d.prototype.xa=function(a){this.type=
Vc.Rj;this.data=a};d.prototype.hd=function(a){this.type=Vc.String;this.data=a};d.prototype.Rq=function(a){na(a)?(this.type=Vc.Rj,this.data=a):oa(a)?(this.type=Vc.String,this.data=a.toString()):(this.type=Vc.Sj,this.data=0)};Kc=d;Vc={Sj:0,Rj:1,String:2}})();function L(a){this.i=a;this.Ue=[]}
L.prototype.Tb=function(){var a={},c,b,d,g,f,h,e,m;a.waits=[];var l=a.waits,k;c=0;for(b=this.Ue.length;c<b;c++){h=this.Ue[c];k={t:h.time,st:h.yG,s:h.kz,ev:h.Pl.kb,sm:[],sols:{}};h.Pl.pf[h.We]&&(k.act=h.Pl.pf[h.We].kb);d=0;for(g=h.Xb.length;d<g;d++)k.sm.push(h.Xb[d].kb);for(f in h.Te)if(h.Te.hasOwnProperty(f)){e=this.i.ua[parseInt(f,10)];m={sa:h.Te[f].Vy,insts:[]};d=0;for(g=h.Te[f].kj.length;d<g;d++)m.insts.push(h.Te[f].kj[d].uid);k.sols[e.kb.toString()]=m}l.push(k)}return a};
L.prototype.Yb=function(a){a=a.waits;var c,b,d,g,f,h,e,m,l,k,n;H(this.Ue);c=0;for(b=a.length;c<b;c++)if(h=a[c],m=this.i.ow[h.ev.toString()]){l=-1;d=0;for(g=m.pf.length;d<g;d++)if(m.pf[d].kb===h.act){l=d;break}if(-1!==l){e={Te:{},Xb:[],Dw:!1};e.time=h.t;e.yG=h.st||"";e.kz=!!h.s;e.Pl=m;e.We=l;d=0;for(g=h.sm.length;d<g;d++)(m=this.i.tp(h.sm[d]))&&e.Xb.push(m);for(f in h.sols)if(h.sols.hasOwnProperty(f)&&(m=this.i.tp(parseInt(f,10)))){l=h.sols[f];k={Vy:l.sa,kj:[]};d=0;for(g=l.insts.length;d<g;d++)(n=
this.i.Xf(l.insts[d]))&&k.kj.push(n);e.Te[m.index.toString()]=k}this.Ue.push(e)}}};
(function(){function a(){}function c(){}function b(){}var d=L.prototype;a.prototype.Mv=function(){return!0};a.prototype.jB=function(){return!0};a.prototype.eA=function(a,b,c){return Wc(a,b,c)};var g=[],f=-1;a.prototype.rA=function(a){var b=a.La();f++;g.length===f&&g.push([]);var c=g[f];Ga(c,b.Jd());var d=this.i.Ec(),e=d.bd,h=d.jF(),d=this.i.aG(),v,t,q,u,x,z,E=a.Md;if(h)for(h=0,v=c.length;h<v&&!d.jd;h++){this.i.nn(e.Xb);u=c[h];b=a.La();b.$a=!1;H(b.H);b.H[0]=u;if(E)for(t=0,q=u.siblings.length;t<q;t++)x=
u.siblings[t],z=x.type.La(),z.$a=!1,H(z.H),z.H[0]=x;d.index=h;e.Gu();this.i.wi(e.Xb)}else for(b.$a=!1,H(b.H),h=0,v=c.length;h<v&&!d.jd;h++){u=c[h];b.H[0]=u;if(E)for(t=0,q=u.siblings.length;t<q;t++)x=u.siblings[t],z=x.type.La(),z.$a=!1,H(z.H),z.H[0]=x;d.index=h;e.Gu()}H(c);this.i.RF();f--;return!1};a.prototype.LB=function(a,b,c,d){var e,h,v,t;if(a){f++;g.length===f&&g.push([]);var q=g[f],u=a.La();Ga(q,u.Jd());u.$a&&H(u.Ra);var x=this.i.Yl();v=e=0;for(h=q.length;e<h;e++)t=q[e],q[v]=t,b=x.Ta[1].get(e),
d=x.Ta[3].get(e),Wc(b,c,d)?v++:u.Ra.push(t);Fa(q,v);u.$a=!1;Ga(u.H,q);H(q);f--;a.Ie();return!!u.H.length}};a.prototype.oA=function(a){var b=this.i.Yl(),c=b.na.Every_lastTime||0,d=this.i.dd.Va;"undefined"===typeof b.na.Every_seconds&&(b.na.Every_seconds=a);var e=b.na.Every_seconds;if(d>=c+e)return b.na.Every_lastTime=c+e,d>=b.na.Every_lastTime+.04&&(b.na.Every_lastTime=d),b.na.Every_seconds=a,!0;d<c-.1&&(b.na.Every_lastTime=d);return!1};a.prototype.MB=function(a){if(!a)return!1;var b=a.La(),c=b.Jd(),
d=wa(Math.random()*c.length);if(d>=c.length)return!1;b.Uk(c[d]);a.Ie();return!0};a.prototype.iA=function(a,b,c){return Wc(a.em(),b,c)};a.prototype.zA=function(a){return(a=this.i.nk[a.toLowerCase()])&&a.fj};a.prototype.fA=function(a,b,c){return a>=b&&a<=c};a.prototype.vv=function(){var a=this.i.Ec();return a.zs?!1:!a.rj};a.prototype.Nv=function(){return!0};a.prototype.UA=function(){return!0};a.prototype.Jr=function(){return!0};a.prototype.Sv=function(){return!0};a.prototype.kB=function(){return!0};
a.prototype.Hr=function(){return!0};a.prototype.Yz=function(a,b,c){return Xa(Pa(a),Pa(c))<=Pa(b)};a.prototype.xA=function(a,b){return $a(Pa(a),Pa(b))};a.prototype.vA=function(a,b,c){a=Va(a);b=Va(b);c=Va(c);return $a(c,b)?$a(a,b)&&!$a(a,c):!(!$a(a,b)&&$a(a,c))};d.F=new a;c.prototype.tA=function(a){this.i.zm||this.i.Gl||(this.i.Gl=a)};c.prototype.mA=function(a,b,c,d){if(b&&a&&(b=this.i.Jl(a,b,c,d))){this.i.cf++;var e;this.i.trigger(Object.getPrototypeOf(a.Za).F.Sg,b);if(b.Md)for(c=0,d=b.siblings.length;c<
d;c++)e=b.siblings[c],this.i.trigger(Object.getPrototypeOf(e.type.Za).F.Sg,e);this.i.cf--;a=a.La();a.$a=!1;H(a.H);a.H[0]=b;if(b.Md)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.La(),a.$a=!1,H(a.H),a.H[0]=e}};c.prototype.bC=function(a,b){0===a.sr?na(b)?a.Lj(b):a.Lj(parseFloat(b)):1===a.sr&&a.Lj(b.toString())};c.prototype.Xz=function(a,b){0===a.sr?na(b)?a.Lj(a.em()+b):a.Lj(a.em()+parseFloat(b)):1===a.sr&&a.Lj(a.em()+b.toString())};c.prototype.UB=function(a,b){var c=this.i.nk[a.toLowerCase()];
if(c)switch(b){case 0:c.Oq(!1);break;case 1:c.Oq(!0);break;case 2:c.Oq(!c.fj)}};c.prototype.aC=function(a){0>a&&(a=0);this.i.hg=a};var h=[],e=[];c.prototype.PB=function(){var a,b,c;a=0;for(b=this.i.Yr.length;a<b;a++)c=this.i.Yr[a],c.data=c.Bp};d.da=new c;b.prototype["int"]=function(a,b){oa(b)?(a.Ub(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Ub(b)};b.prototype["float"]=function(a,b){oa(b)?(a.xa(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.xa(b)};b.prototype.random=function(a,b,c){void 0===c?a.xa(Math.random()*
b):a.xa(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.xa(Math.sqrt(b))};b.prototype.abs=function(a,b){a.xa(Math.abs(b))};b.prototype.round=function(a,b){a.Ub(Math.round(b))};b.prototype.floor=function(a,b){a.Ub(Math.floor(b))};b.prototype.ceil=function(a,b){a.Ub(Math.ceil(b))};b.prototype.sin=function(a,b){a.xa(Math.sin(Pa(b)))};b.prototype.cos=function(a,b){a.xa(Math.cos(Pa(b)))};b.prototype.tan=function(a,b){a.xa(Math.tan(Pa(b)))};b.prototype.asin=function(a,b){a.xa(Qa(Math.asin(b)))};
b.prototype.acos=function(a,b){a.xa(Qa(Math.acos(b)))};b.prototype.atan=function(a,b){a.xa(Qa(Math.atan(b)))};b.prototype.exp=function(a,b){a.xa(Math.exp(b))};b.prototype.log10=function(a,b){a.xa(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.xa(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<
d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.xa(b)};b.prototype.Xa=function(a){a.xa(this.i.Xa)};b.prototype.hg=function(a){a.xa(this.i.hg)};b.prototype.time=function(a){a.xa(this.i.dd.Va)};b.prototype.jf=function(a){a.Ub(this.i.jf)};b.prototype.hq=function(a){a.Ub(this.i.hq)};b.prototype.Gs=function(a){a.Ub(this.i.Gs)};b.prototype.M=function(a,b,c,d,e){a.xa(Qa(Wa(b,c,d,e)))};b.prototype.BF=function(a){a.hd("\n")};b.prototype.left=function(a,b,c){a.hd(oa(b)?b.substr(0,c):"")};b.prototype.right=
function(a,b,c){a.hd(oa(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){oa(b)&&oa(c)&&oa(d)?a.hd(b.replace(new RegExp(Cb(c),"gi"),d)):a.hd(oa(b)?b:"")};b.prototype.trim=function(a,b){a.hd(oa(b)?b.trim():"")};b.prototype.NC=function(a){var b=wa(Math.random()*(arguments.length-1));a.Rq(arguments[b+1])};b.prototype.ZF=function(a){a.hd(this.i.OG)};b.prototype.rs=function(a){a.xa(this.i.rs/1E3)};b.prototype.Jk=function(a){a.xa(this.i.Jk)};d.Ea=new b;d.kG=function(){var a,b,c,d,f,g,v=
this.i.Ec();a=0;for(c=this.Ue.length;a<c;a++){d=this.Ue[a];if(-1===d.time){if(!d.kz)continue}else if(d.time>this.i.dd.Va)continue;v.bd=d.Pl;v.We=d.We;v.yc=0;for(b in d.Te)d.Te.hasOwnProperty(b)&&(f=this.i.ua[parseInt(b,10)].La(),g=d.Te[b],f.$a=g.Vy,Ga(f.H,g.kj),f=g,H(f.kj),e.push(f));d.Pl.iG();this.i.os(d.Xb);d.Dw=!0}b=a=0;for(c=this.Ue.length;a<c;a++)d=this.Ue[a],this.Ue[b]=d,d.Dw?(mb(d.Te),H(d.Xb),h.push(d)):b++;Fa(this.Ue,b)}})();
(function(){Zb=function(a,b){var d=a[1],g=a[3],f=a[4],h=a[5],e=a[6],m=a[7],l=a[8];b.F||(b.F={});b.da||(b.da={});b.Ea||(b.Ea={});var k=b.F,n=b.da,p=b.Ea;g&&(k.jA=function(a,b){return Wc(this.x,a,b)},k.kA=function(a,b){return Wc(this.y,a,b)},k.aH=function(){var a=this.O;this.ab();var b=this.Lb;return!(b.right<a.qb||b.bottom<a.rb||b.left>a.Fb||b.top>a.Eb)},k.bH=function(){this.ab();var a=this.Lb,b=this.i.Ob;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.nH=function(a,b,c){var d=this.La(),
e=d.Jd();if(!e.length)return!1;var f=e[0],g=f,h=bb(f.x,f.y,b,c),l,k,m;l=1;for(k=e.length;l<k;l++)if(f=e[l],m=bb(f.x,f.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=f;d.Uk(g);return!0},n.BH=function(a){this.x!==a&&(this.x=a,this.aa())},n.CH=function(a){this.y!==a&&(this.y=a,this.aa())},n.xH=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.aa()},n.yH=function(a,b){var c=a.yE(this);if(c){var d;c.zf?(d=c.zf(b,!0),c=c.zf(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.aa()}},
n.gH=function(a){0!==a&&(this.x+=Math.cos(this.M)*a,this.y+=Math.sin(this.M)*a,this.aa())},n.fH=function(a,b){0!==b&&(this.x+=Math.cos(Pa(a))*b,this.y+=Math.sin(Pa(a))*b,this.aa())},p.Rr=function(a){a.xa(this.x)},p.Sr=function(a){a.xa(this.y)},p.Xa=function(a){a.xa(this.i.Cg(this))});f&&(k.YG=function(a,b){return Wc(this.width,a,b)},k.WG=function(a,b){return Wc(this.height,a,b)},n.Zv=function(a){this.width!==a&&(this.width=a,this.aa())},n.wH=function(a){this.height!==a&&(this.height=a,this.aa())},
n.zH=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.aa()},p.oC=function(a){a.xa(this.width)},p.uA=function(a){a.xa(this.height)},p.TG=function(a){this.ab();a.xa(this.Lb.left)},p.VG=function(a){this.ab();a.xa(this.Lb.top)},p.UG=function(a){this.ab();a.xa(this.Lb.right)},p.SG=function(a){this.ab();a.xa(this.Lb.bottom)});h&&(k.Yz=function(a,b){return Xa(this.M,Pa(b))<=Pa(a)},k.xA=function(a){return $a(this.M,Pa(a))},k.vA=function(a,b){var c=Va(a),d=Va(b),e=Sa(this.M);
return $a(d,c)?$a(e,c)&&!$a(e,d):!(!$a(e,c)&&$a(e,d))},n.Lr=function(a){a=Pa(Ra(a));isNaN(a)||this.M===a||(this.M=a,this.aa())},n.QB=function(a){0===a||isNaN(a)||(this.M+=Pa(a),this.M=Sa(this.M),this.aa())},n.rH=function(a){0===a||isNaN(a)||(this.M-=Pa(a),this.M=Sa(this.M),this.aa())},n.sH=function(a,b){var c=Za(this.M,Pa(b),Pa(a));isNaN(c)||this.M===c||(this.M=c,this.aa())},n.tH=function(a,b,c){a=Za(this.M,Math.atan2(c-this.y,b-this.x),Pa(a));isNaN(a)||this.M===a||(this.M=a,this.aa())},n.AH=function(a,
b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.M===c||(this.M=c,this.aa())},p.RG=function(a){a.xa(Ua(this.M))});d||(k.gA=function(a,b,c){return Wc(this.Rb[a],b,c)},k.wA=function(a){return this.Rb[a]},k.oH=function(a,b){var c=this.La(),d=c.Jd();if(!d.length)return!1;var e=d[0],f=e,g=e.Rb[b],h,l,k;h=1;for(l=d.length;h<l;h++)if(e=d[h],k=e.Rb[b],0===a&&k<g||1===a&&k>g)g=k,f=e;c.Uk(f);return!0},k.mH=function(a){var b,c,d,e,f;if(this.i.Yl().Gp){f=this.La();if(f.$a)for(f.$a=!1,H(f.H),H(f.Ra),d=this.H,
b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.Ra.push(e):f.H.push(e);else{d=b=0;for(c=f.H.length;b<c;b++)e=f.H[b],f.H[d]=e,e.uid===a?f.Ra.push(e):d++;Fa(f.H,d)}this.Ie();return!!f.H.length}e=this.i.Xf(a);if(!e)return!1;f=this.La();if(!f.$a&&-1===f.H.indexOf(e))return!1;if(this.Aa)for(a=e.type.ec,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Uk(e),this.Ie(),!0}else if(e.type===this)return f.Uk(e),this.Ie(),!0;return!1},k.Sg=function(){return!0},k.Dv=function(){return!0},n.XB=function(a,b){var c=this.Rb;
na(c[a])?c[a]=na(b)?b:parseFloat(b):oa(c[a])&&(c[a]=oa(b)?b:b.toString())},n.Wz=function(a,b){var c=this.Rb;na(c[a])?c[a]=na(b)?c[a]+b:c[a]+parseFloat(b):oa(c[a])&&(c[a]=oa(b)?c[a]+b:c[a]+b.toString())},n.hC=function(a,b){var c=this.Rb;na(c[a])&&(c[a]=na(b)?c[a]-b:c[a]-parseFloat(b))},n.SB=function(a,b){this.Rb[a]=b?1:0},n.iC=function(a){this.Rb[a]=1-this.Rb[a]},n.Bd=function(){this.i.Ee(this)},n.HA||(n.HA=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.i.Up(this,b,!0);this.qf&&this.qf();
if(this.Ka)for(a=0,b=this.Ka.length;a<b;++a)c=this.Ka[a],c.qf&&c.qf()}),p.lA=function(a){var b=a.Bj.H.length,c,d,e;c=0;for(d=this.i.Wf.length;c<d;c++)e=this.i.Wf[c],a.Bj.Aa?0<=e.type.ec.indexOf(a.Bj)&&b++:e.type===a.Bj&&b++;a.Ub(b)},p.qH=function(a){a.Ub(a.Bj.La().Jd().length)},p.kC=function(a){a.Ub(this.uid)},p.ZG=function(a){a.Ub(this.fm())},p.$z||(p.$z=function(a){a.hd(JSON.stringify(this.i.Ju(this,!0)))}));e&&(k.cH=function(){return this.visible},n.ko=function(a){!a!==!this.visible&&(this.visible=
!!a,this.i.Ua=!0)},k.XG=function(a,b){return Wc(Nb(100*this.opacity),a,b)},n.$B=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.i.Ua=!0)},p.Opacity=function(a){a.xa(Nb(100*this.opacity))});m&&(k.$G=function(a){return a?this.O===a:!1},k.pH=function(a){var b=this.La(),c=b.Jd();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.O.index>e.O.index||d.O.index===e.O.index&&d.Dg()>e.Dg())e=d}else if(d.O.index<e.O.index||d.O.index===e.O.index&&
d.Dg()<e.Dg())e=d;b.Uk(e);return!0},n.jH=function(){var a=this.O,b=a.H;b.length&&b[b.length-1]===this||(a.Xk(this,!1),a.Dl(this,!1),this.i.Ua=!0)},n.hH=function(){var a=this.O,b=a.H;b.length&&b[0]===this||(a.Xk(this,!1),a.UF(this),this.i.Ua=!0)},n.iH=function(a){a&&a!=this.O&&(this.O.Xk(this,!0),this.O=a,a.Dl(this,!0),this.i.Ua=!0)},n.rC=function(a,b){var c=0===a;if(b){var d=b.Ps(this);d&&d.uid!==this.uid&&(this.O.index!==d.O.index&&(this.O.Xk(this,!0),this.O=d.O,d.O.Dl(this,!0)),this.O.yF(this,d,
c),this.i.Ua=!0)}},p.eH=function(a){a.Ub(this.O.my)},p.dH=function(a){a.hd(this.O.name)},p.DH=function(a){a.Ub(this.Dg())});l&&(n.uH=function(a,b){if(this.i.la){var c=this.type.Os(b);if(!(0>c)){var d=1===a;this.Mh[c]!==d&&(this.Mh[c]=d,this.jg(),this.i.Ua=!0)}}},n.vH=function(a,b,c){if(this.i.la){var d=this.type.Os(a);0>d||(a=this.type.Qa[d],d=this.gc[d],b=Math.floor(b),0>b||b>=d.length||(1===this.i.la.CE(a.Kc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.xc&&(this.i.Ua=!0))))}})};sc=function(){this.ls=this.zo=
!0;this.type.ro=!0;this.i.Ua=!0;var a,b,d=this.es;a=0;for(b=d.length;a<b;++a)d[a](this);this.O.lf&&this.ab()};tc=function(a){a&&this.es.push(a)};vc=function(){if(this.zo){var a=this.Lb,b=this.Mb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.te*this.width,-this.ue*this.height);this.M?(a.offset(-this.x,-this.y),b.gz(a,this.M),b.offset(this.x,this.y),b.pw(a)):b.bl(a);a.normalize();this.zo=!1;this.Oz()}};var a=new Aa(0,0,0,0);wc=function(){if(this.O.lf){var c=this.O.xd,b=this.Lb;
a.set(c.ke(b.left),c.le(b.top),c.ke(b.right),c.le(b.bottom));this.Ae.Ol(a)||(this.Ae.right<this.Ae.left?c.update(this,null,a):c.update(this,this.Ae,a),this.Ae.ak(a),this.O.eg=!0)}};xc=function(){if(this.ls&&this.uf){this.ab();var c=this.type.Hl,b=this.Lb;a.set(c.ke(b.left),c.le(b.top),c.ke(b.right),c.le(b.bottom));this.tf.Ol(a)||(this.tf.right<this.tf.left?c.update(this,null,a):c.update(this,this.tf,a),this.tf.ak(a),this.ls=!1)}};uc=function(a,b){return this.Lb.Hd(a,b)&&this.Mb.Hd(a,b)?this.ib&&!this.ib.nj()?
(this.ib.Rh(this.width,this.height,this.M),this.ib.Hd(a-this.x,b-this.y)):!0:!1};oc=function(){this.type.nr();return this.ij};yc=function(){this.O.nv();return this.lg};zc=function(){H(this.yb);var a,b,d,g=!0;a=0;for(b=this.Mh.length;a<b;a++)this.Mh[a]&&(d=this.type.Qa[a],this.yb.push(d),d.Gf||(g=!1));this.Pz=!!this.yb.length;this.yh=g};pc=function(){return"Inst"+this.Py};bc=function(a){if(a&&a.Md&&a.type!=this){var b,d,g;b=0;for(d=a.siblings.length;b<d;b++)if(g=a.siblings[b],g.type==this)return g}a=
this.La().Jd();return a.length?a[0]:null};cc=function(a){var b=this.La().Jd();return b.length?b[a.fm()%b.length]:null};ac=function(){if(this.el&&!this.Aa){var a,b;a=0;for(b=this.H.length;a<b;a++)this.H[a].ij=a;var d=a,g=this.i.Wf;a=0;for(b=g.length;a<b;++a)g[a].type===this&&(g[a].ij=d++);this.el=!1}};mc=function(a){if(a<this.H.length)return this.H[a];a-=this.H.length;var b=this.i.Wf,d,g;d=0;for(g=b.length;d<g;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};ec=function(){return this.Ah[this.xg]};
fc=function(){this.xg++;this.xg===this.Ah.length?this.Ah.push(new $b(this)):(this.Ah[this.xg].$a=!0,H(this.Ah[this.xg].Ra))};gc=function(){this.xg++;this.xg===this.Ah.length&&this.Ah.push(new $b(this));var a=this.Ah[this.xg],b=this.Ah[this.xg-1];b.$a?(a.$a=!0,H(a.Ra)):(a.$a=!1,Ga(a.H,b.H),Ga(a.Ra,b.Ra))};hc=function(){this.xg--};ic=function(a){var b,d,g,f,h,e=0;if(!this.Aa)for(b=0,d=this.ec.length;b<d;b++)for(h=this.ec[b],g=0,f=h.fc.length;g<f;g++){if(a===h.fc[g].name)return this.na.lastBehIndex=
e,h.fc[g];e++}b=0;for(d=this.fc.length;b<d;b++){if(a===this.fc[b].name)return this.na.lastBehIndex=e,this.fc[b];e++}return null};jc=function(a){return this.pp(a)?this.na.lastBehIndex:-1};kc=function(a){var b,d;b=0;for(d=this.Qa.length;b<d;b++)if(this.Qa[b].name===a)return b;return-1};lc=function(){if(this.Md&&!this.Aa){var a,b,d,g,f,h,e;this.nr();h=this.La();var m=h.$a,l=(a=this.i.Ec())&&a.bd&&a.bd.ff;a=0;for(b=this.Je.length;a<b;a++)if(f=this.Je[a],f!==this&&(f.nr(),e=f.La(),e.$a=m,!m)){H(e.H);d=
0;for(g=h.H.length;d<g;++d)e.H[d]=f.Qs(h.H[d].ij);if(l)for(H(e.Ra),d=0,g=h.Ra.length;d<g;++d)e.Ra[d]=f.Qs(h.Ra[d].ij)}}};nc=function(){return"Type"+this.kb};Wc=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();
var dd={glowhorizontal:{src:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump float pixelWidth;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, max(front, sum), intensity);\n}",Zo:8,
$o:0,ts:!1,Gf:!1,bs:!1,Ta:[["intensity",0,1]]}};function kd(a){this.i=a}
(function(){function a(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function c(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function b(a){a=a.toLowerCase();return ha.hasOwnProperty(a)&&ha[a].length?ha[a][0].Ze():G.destination}function d(){return G.createGain?G.createGain():G.createGainNode()}function g(a){return G.createDelay?G.createDelay(a):G.createDelayNode(a)}function f(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function h(a,b,c,d){a.start?a.start(d||
0,b):a.noteGrainOn(d||0,b,c-b)}function e(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function m(a,b,c,e,f,g){this.type="filter";this.Cb=[a,b,c,e,f,g];this.nb=d();this.Pa=d();this.Pa.gain.value=g;this.Na=d();this.Na.gain.value=1-g;this.Dc=G.createBiquadFilter();this.Dc.type="number"===typeof this.Dc.type?a:fd[a];this.Dc.frequency.value=b;this.Dc.detune&&(this.Dc.detune.value=c);this.Dc.Q.value=e;this.Dc.gain.value=f;this.nb.connect(this.Dc);this.nb.connect(this.Na);this.Dc.connect(this.Pa)}function l(a,
b,c){this.type="delay";this.Cb=[a,b,c];this.nb=d();this.Pa=d();this.Pa.gain.value=c;this.Na=d();this.Na.gain.value=1-c;this.Xm=d();this.xf=g(a);this.xf.delayTime.value=a;this.So=d();this.So.gain.value=b;this.nb.connect(this.Xm);this.nb.connect(this.Na);this.Xm.connect(this.Pa);this.Xm.connect(this.xf);this.xf.connect(this.So);this.So.connect(this.Xm)}function k(a,b,c,e){this.type="convolve";this.Cb=[b,c,e];this.nb=d();this.Pa=d();this.Pa.gain.value=c;this.Na=d();this.Na.gain.value=1-c;this.Wi=G.createConvolver();
a&&(this.Wi.normalize=b,this.Wi.buffer=a);this.nb.connect(this.Wi);this.nb.connect(this.Na);this.Wi.connect(this.Pa)}function n(a,b,c,e,h){this.type="flanger";this.Cb=[a,b,c,e,h];this.nb=d();this.Na=d();this.Na.gain.value=1-h/2;this.Pa=d();this.Pa.gain.value=h/2;this.ep=d();this.ep.gain.value=e;this.xf=g(a+b);this.xf.delayTime.value=a;this.gd=G.createOscillator();this.gd.frequency.value=c;this.Se=d();this.Se.gain.value=b;this.nb.connect(this.xf);this.nb.connect(this.Na);this.xf.connect(this.Pa);this.xf.connect(this.ep);
this.ep.connect(this.xf);this.gd.connect(this.Se);this.Se.connect(this.xf.delayTime);f(this.gd)}function p(a,b,c,e,g,h){this.type="phaser";this.Cb=[a,b,c,e,g,h];this.nb=d();this.Na=d();this.Na.gain.value=1-h/2;this.Pa=d();this.Pa.gain.value=h/2;this.Dc=G.createBiquadFilter();this.Dc.type="number"===typeof this.Dc.type?7:"allpass";this.Dc.frequency.value=a;this.Dc.detune&&(this.Dc.detune.value=b);this.Dc.Q.value=c;this.gd=G.createOscillator();this.gd.frequency.value=g;this.Se=d();this.Se.gain.value=
e;this.nb.connect(this.Dc);this.nb.connect(this.Na);this.Dc.connect(this.Pa);this.gd.connect(this.Se);this.Se.connect(this.Dc.frequency);f(this.gd)}function r(a){this.type="gain";this.Cb=[a];this.xb=d();this.xb.gain.value=a}function v(a,b){this.type="tremolo";this.Cb=[a,b];this.xb=d();this.xb.gain.value=1-b/2;this.gd=G.createOscillator();this.gd.frequency.value=a;this.Se=d();this.Se.gain.value=b/2;this.gd.connect(this.Se);this.Se.connect(this.xb.gain);f(this.gd)}function t(a,b){this.type="ringmod";
this.Cb=[a,b];this.nb=d();this.Pa=d();this.Pa.gain.value=b;this.Na=d();this.Na.gain.value=1-b;this.tn=d();this.tn.gain.value=0;this.gd=G.createOscillator();this.gd.frequency.value=a;this.gd.connect(this.tn.gain);f(this.gd);this.nb.connect(this.tn);this.nb.connect(this.Na);this.tn.connect(this.Pa)}function q(a,b,c,e,f){this.type="distortion";this.Cb=[a,b,c,e,f];this.nb=d();this.Bq=d();this.Aq=d();this.rG(c,Math.pow(10,e/20));this.Pa=d();this.Pa.gain.value=f;this.Na=d();this.Na.gain.value=1-f;this.ur=
G.createWaveShaper();this.Qo=new Float32Array(65536);this.mE(a,b);this.ur.Qo=this.Qo;this.nb.connect(this.Bq);this.nb.connect(this.Na);this.Bq.connect(this.ur);this.ur.connect(this.Aq);this.Aq.connect(this.Pa)}function u(a,b,c,d,e){this.type="compressor";this.Cb=[a,b,c,d,e];this.xb=G.createDynamicsCompressor();try{this.xb.threshold.value=a,this.xb.knee.value=b,this.xb.ratio.value=c,this.xb.attack.value=d,this.xb.release.value=e}catch(f){}}function x(a,b){this.type="analyser";this.Cb=[a,b];this.xb=
G.createAnalyser();this.xb.fftSize=a;this.xb.smoothingTimeConstant=b;this.jE=new Float32Array(this.xb.frequencyBinCount);this.jz=new Uint8Array(a);this.dn=0}function z(){this.Ma=null;this.Vp=0;this.Di=[];this.bu=this.Pp=this.Op=0}function E(a,b){this.src=a;this.jb=R;this.Bf=b;this.qo=!1;var c=this;this.$t=this.nu=null;this.Ej=[];this.Kq=0;this.rv=this.cp=this.pz=this.tq=!1;1===R&&b&&!xb&&(this.jb=0,this.nu=d());this.Wg=this.zb=null;var e;switch(this.jb){case 0:this.zb=new Audio;this.zb.crossOrigin=
"anonymous";this.zb.addEventListener("canplaythrough",function(){c.rv=!0});1===R&&G.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.pz=!0,this.zb.addEventListener("canplay",function(){c.$t||(c.$t=G.createMediaElementSource(c.zb),c.$t.connect(c.nu))}));this.zb.autoplay=!1;this.zb.SH="auto";this.zb.src=a;break;case 1:F.wm?F.Mw(a,function(a){c.Wg=a;c.Aw()},function(){c.cp=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.Wg=e.response;
c.Aw()},e.onerror=function(){c.cp=!0},e.send());break;case 2:this.zb=!0;break;case 3:this.zb=!0}}function B(a,c){var e=this;this.tag=c;this.jd=this.Bg=!0;this.src=a.src;this.buffer=a;this.jb=R;this.Bf=a.Bf;this.playbackRate=1;this.pk=!0;this.Me=this.hf=!1;this.Be=0;this.xm=this.uk=this.Fg=!1;this.volume=1;this.lu=function(a){if(!e.Me&&!e.hf){var b=this;b||(b=a.target);b===e.po&&(e.pk=!0,e.jd=!0,Q=e.tag,F.trigger(kd.prototype.F.co,I))}};this.po=null;this.rk=1===M&&!this.Bf||2===M;this.Pk=1;this.startTime=
this.rk?F.dd.Va:F.Eh.Va;this.vc=this.Sc=null;this.Ig=!1;this.uc=null;this.By=this.Ay=this.zy=this.yy=this.Dy=this.Cy=0;this.X=null;var f=!1;1!==this.jb||0!==this.buffer.jb||this.buffer.pz||(this.jb=0);switch(this.jb){case 0:this.Bf?(this.X=a.zb,f=!a.qo,a.qo=!0):(this.X=new Audio,this.X.crossOrigin="anonymous",this.X.autoplay=!1,this.X.src=a.zb.src,f=!0);f&&this.X.addEventListener("ended",function(){Q=e.tag;e.jd=!0;F.trigger(kd.prototype.F.co,I)});break;case 1:this.Sc=d();this.Sc.connect(b(c));1===
this.buffer.jb?a.zb&&(this.X=G.createBufferSource(),this.X.buffer=a.zb,this.X.connect(this.Sc)):(this.X=this.buffer.zb,this.buffer.nu.connect(this.Sc),this.buffer.qo||(this.buffer.qo=!0,this.buffer.zb.addEventListener("ended",function(){Q=e.tag;e.jd=!0;F.trigger(kd.prototype.F.co,I)})));break;case 2:this.X=new window.Media(da+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.pk=!0,e.jd=!0,Q=e.tag,F.trigger(kd.prototype.F.co,I))});break;case 3:this.X=!0}}function D(a,b){ha.hasOwnProperty(a)?
ha[a].push(b):ha[a]=[b];var c,d,e,f,g=G.destination;if(ha.hasOwnProperty(a)&&(e=ha[a],e.length))for(g=e[0].Ze(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.vf(G.destination):f.vf(e[c+1].Ze());H(zb);if(a.length)for(c=0,d=T.length;c<d;c++)e=T[c],Rb(a,e.tag)&&zb.push(e);else S&&!S.hj()&&(H(zb),zb[0]=S);c=0;for(d=zb.length;c<d;c++)zb[c].cG(g);Na&&Ob===a&&(Na.disconnect(),Na.connect(g))}function C(){}function y(){}var w=kd.prototype;w.wa=function(a){this.Za=a;this.i=a.i};w.wa.prototype.ma=function(){};var F=
null,I=null,Q="",da="",R=0,G=null,Z=[],T=[],S=null,J=!1,M=0,O=!1,K=1,N=0,U=0,ga=!1,P=1,ra=1,ma=10,Ya=1E4,Sd=1,Na=null,Ob="",ya=!1,Ab=[],xb=!1,ha={},fd="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");m.prototype.vf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};m.prototype.remove=function(){this.nb.disconnect();this.Dc.disconnect();this.Pa.disconnect();this.Na.disconnect()};m.prototype.Ze=function(){return this.nb};l.prototype.vf=
function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};l.prototype.remove=function(){this.nb.disconnect();this.Xm.disconnect();this.xf.disconnect();this.So.disconnect();this.Pa.disconnect();this.Na.disconnect()};l.prototype.Ze=function(){return this.nb};k.prototype.vf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};k.prototype.remove=function(){this.nb.disconnect();this.Wi.disconnect();this.Pa.disconnect();this.Na.disconnect()};
k.prototype.Ze=function(){return this.nb};n.prototype.vf=function(a){this.Na.disconnect();this.Na.connect(a);this.Pa.disconnect();this.Pa.connect(a)};n.prototype.remove=function(){this.nb.disconnect();this.xf.disconnect();this.gd.disconnect();this.Se.disconnect();this.Na.disconnect();this.Pa.disconnect();this.ep.disconnect()};n.prototype.Ze=function(){return this.nb};p.prototype.vf=function(a){this.Na.disconnect();this.Na.connect(a);this.Pa.disconnect();this.Pa.connect(a)};p.prototype.remove=function(){this.nb.disconnect();
this.Dc.disconnect();this.gd.disconnect();this.Se.disconnect();this.Na.disconnect();this.Pa.disconnect()};p.prototype.Ze=function(){return this.nb};r.prototype.vf=function(a){this.xb.disconnect();this.xb.connect(a)};r.prototype.remove=function(){this.xb.disconnect()};r.prototype.Ze=function(){return this.xb};v.prototype.vf=function(a){this.xb.disconnect();this.xb.connect(a)};v.prototype.remove=function(){this.gd.disconnect();this.Se.disconnect();this.xb.disconnect()};v.prototype.Ze=function(){return this.xb};
t.prototype.vf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};t.prototype.remove=function(){this.gd.disconnect();this.tn.disconnect();this.nb.disconnect();this.Pa.disconnect();this.Na.disconnect()};t.prototype.Ze=function(){return this.nb};q.prototype.rG=function(a,b){.01>a&&(a=.01);this.Bq.gain.value=a;this.Aq.gain.value=Math.pow(1/a,.6)*b};q.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));
return b*c};q.prototype.mE=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Qo[32768+f]=e,this.Qo[32768-f-1]=-e};q.prototype.vf=function(a){this.Pa.disconnect();this.Pa.connect(a);this.Na.disconnect();this.Na.connect(a)};q.prototype.remove=function(){this.nb.disconnect();this.Bq.disconnect();this.ur.disconnect();this.Aq.disconnect();this.Pa.disconnect();this.Na.disconnect()};q.prototype.Ze=function(){return this.nb};u.prototype.vf=
function(a){this.xb.disconnect();this.xb.connect(a)};u.prototype.remove=function(){this.xb.disconnect()};u.prototype.Ze=function(){return this.xb};x.prototype.mb=function(){this.xb.getFloatFrequencyData(this.jE);this.xb.getByteTimeDomainData(this.jz);for(var a=this.xb.fftSize,b=0,d=this.dn=0,e=0;b<a;b++)e=(this.jz[b]-128)/128,0>e&&(e=-e),this.dn<e&&(this.dn=e),d+=e*e;this.dn=c(this.dn);c(Math.sqrt(d/a))};x.prototype.vf=function(a){this.xb.disconnect();this.xb.connect(a)};x.prototype.remove=function(){this.xb.disconnect()};
x.prototype.Ze=function(){return this.xb};z.prototype.Zk=function(a){if(this.Ma=a)this.Op=this.Ma.x,this.Pp=this.Ma.y;H(this.Di)};z.prototype.zp=function(){return!!this.Ma};z.prototype.mb=function(a){this.Ma&&0!==a&&(this.bu=Wa(this.Op,this.Pp,this.Ma.x,this.Ma.y),a=bb(this.Op,this.Pp,this.Ma.x,this.Ma.y)/a,4>this.Di.length||this.Di.shift(),this.Di.push(a),this.Op=this.Ma.x,this.Pp=this.Ma.y)};z.prototype.cm=function(){if(!this.Di.length)return 0;var a,b,c=0;a=0;for(b=this.Di.length;a<b;a++)c+=this.Di[a];
return c/this.Di.length};z.prototype.Us=function(){return Math.cos(this.bu)*this.cm()};z.prototype.Vs=function(){return Math.sin(this.bu)*this.cm()};var dc=!1;E.prototype.dG=function(){var a,b,c,d;c=a=0;for(b=T.length;a<b;++a)d=T[a],T[c]=d,d.buffer===this?d.stop():++c;T.length=c;this.Wg=this.zb=null};E.prototype.Aw=function(){if(!this.zb&&this.Wg){var a=this;if(G.decodeAudioData)G.decodeAudioData(this.Wg,function(b){a.zb=b;a.Wg=null;var c,d,e;if(la(a.xq)||O)la(a.Jo)||(c=a.Jo.Wi,c.normalize=a.ky,c.buffer=
b);else if(a.Ej.length){c=0;for(d=a.Ej.length;c<d;c++){b=a.Ej[c];e=new B(a,b.Yu);e.Ou(!0);if("undefined"!==typeof b.ny&&(b.Ma=F.Xf(b.ny),!b.Ma))continue;if(b.Ma){var f=ab(b.Ma.x,b.Ma.y,-b.Ma.O.Vb(),N,U,!0),g=ab(b.Ma.x,b.Ma.y,-b.Ma.O.Vb(),N,U,!1);e.Pq(f,g,Qa(b.Ma.M-b.Ma.O.Vb()),b.Ap,b.fq,b.jq);e.Zk(b.Ma)}else e.Pq(b.x,b.y,b.T,b.Ap,b.fq,b.jq);e.play(a.Tt,a.qv,a.Kq);a.tq&&e.pause();T.push(e)}H(a.Ej)}else e=new B(a,a.xq||""),e.play(a.Tt,a.qv,a.Kq),a.tq&&e.pause(),T.push(e)},function(){a.cp=!0});else if(this.zb=
G.createBuffer(this.Wg,!1),this.Wg=null,la(this.xq)||O)la(this.Jo)||(b=this.Jo.Wi,b.normalize=this.ky,b.buffer=this.zb);else{var b=new B(this,this.xq);b.play(this.Tt,this.qv,this.Kq);this.tq&&b.pause();T.push(b)}}};E.prototype.tx=function(){switch(this.jb){case 0:var a=4<=this.zb.readyState;a&&(this.rv=!0);return a||this.rv;case 1:return!!this.Wg||!!this.zb;case 2:return!0;case 3:return!0}return!1};E.prototype.iF=function(){switch(this.jb){case 0:return this.tx();case 1:return!!this.zb;case 2:return!0;
case 3:return!0}return!1};E.prototype.XE=function(){switch(this.jb){case 0:return!!this.zb.error;case 1:return this.cp}return!1};B.prototype.hj=function(){switch(this.jb){case 0:return this.X.ended;case 1:return 1===this.buffer.jb?!this.Bg&&!this.jd&&this.X.loop||this.Me?!1:this.pk:this.X.ended;case 2:return this.pk;case 3:!0}return!0};B.prototype.LC=function(){return this.Bg||this.jd?!0:this.hj()};B.prototype.Ou=function(a){1===R&&(!this.Ig&&a?this.Sc&&(this.vc||(this.vc=G.createPanner(),this.vc.panningModel=
"number"===typeof this.vc.panningModel?P:["equalpower","HRTF","soundfield"][P],this.vc.distanceModel="number"===typeof this.vc.distanceModel?ra:["linear","inverse","exponential"][ra],this.vc.refDistance=ma,this.vc.maxDistance=Ya,this.vc.rolloffFactor=Sd),this.Sc.disconnect(),this.Sc.connect(this.vc),this.vc.connect(b(this.tag)),this.Ig=!0):this.Ig&&!a&&this.Sc&&(this.vc.disconnect(),this.Sc.disconnect(),this.Sc.connect(b(this.tag)),this.Ig=!1))};B.prototype.Pq=function(a,b,c,d,e,f){this.Ig&&1===R&&
(this.vc.setPosition(a,b,0),this.vc.setOrientation(Math.cos(Pa(c)),Math.sin(Pa(c)),0),this.vc.coneInnerAngle=d,this.vc.coneOuterAngle=e,this.vc.coneOuterGain=f,this.Cy=a,this.Dy=b,this.yy=c,this.zy=d,this.Ay=e,this.By=f)};B.prototype.Zk=function(a){this.Ig&&1===R&&(this.uc||(this.uc=new z),this.uc.Zk(a))};B.prototype.mb=function(a){if(this.Ig&&1===R&&this.uc&&this.uc.zp()&&this.vm()){this.uc.mb(a);a=this.uc.Ma;var b=ab(a.x,a.y,-a.O.Vb(),N,U,!0),c=ab(a.x,a.y,-a.O.Vb(),N,U,!1);this.vc.setPosition(b,
c,0);b=0;"undefined"!==typeof this.uc.Ma.M&&(b=a.M-a.O.Vb(),this.vc.setOrientation(Math.cos(b),Math.sin(b),0));b=ab(this.uc.Us(),this.uc.Vs(),-a.O.Vb(),0,0,!0);c=ab(this.uc.Us(),this.uc.Vs(),-a.O.Vb(),0,0,!1);this.vc.setVelocity(b,c,0)}};B.prototype.play=function(a,b,c,d){var e=this.X;this.Fg=a;this.volume=b;c=c||0;d=d||0;switch(this.jb){case 0:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==b*K&&(e.volume=b*K);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=!1);if(e.currentTime!==c)try{e.currentTime=
c}catch(g){}if(this.Bf&&ya&&!F.Sb)Ab.push(this);else try{this.X.play()}catch(l){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",l)}break;case 1:this.muted=!1;this.Pk=1;if(1===this.buffer.jb)this.Sc.gain.value=b*K,this.Bg||(this.X=G.createBufferSource(),this.X.buffer=this.buffer.zb,this.X.connect(this.Sc)),this.X.onended=this.lu,this.po=this.X,this.X.loop=a,this.pk=!1,0===c?f(this.X,d):h(this.X,c,this.ej(),d);else{1!==e.playbackRate&&(e.playbackRate=
1);e.loop!==a&&(e.loop=a);e.volume=b*K;if(e.currentTime!==c)try{e.currentTime=c}catch(k){}this.Bf&&ya&&!F.Sb?Ab.push(this):e.play()}break;case 2:(!this.Bg&&this.jd||0!==c)&&e.seekTo(c);e.play();this.pk=!1;break;case 3:F.Ld?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.rk?F.dd.Va:F.Eh.Va)-c;this.Me=this.jd=this.Bg=!1};B.prototype.stop=function(){switch(this.jb){case 0:this.X.paused||this.X.pause();break;case 1:1===this.buffer.jb?
e(this.X):this.X.paused||this.X.pause();break;case 2:this.X.stop();break;case 3:F.Ld&&AppMobi.context.stopSound(this.src)}this.jd=!0;this.Me=!1};B.prototype.pause=function(){if(!(this.Bg||this.jd||this.hj()||this.Me)){switch(this.jb){case 0:this.X.paused||this.X.pause();break;case 1:1===this.buffer.jb?(this.Be=this.Rs(!0),this.Fg&&(this.Be=this.Be%this.ej()),this.Me=!0,e(this.X)):this.X.paused||this.X.pause();break;case 2:this.X.pause();break;case 3:F.Ld&&AppMobi.context.stopSound(this.src)}this.Me=
!0}};B.prototype.hG=function(){if(!(this.Bg||this.jd||this.hj())&&this.Me){switch(this.jb){case 0:this.X.play();break;case 1:1===this.buffer.jb?(this.X=G.createBufferSource(),this.X.buffer=this.buffer.zb,this.X.connect(this.Sc),this.X.onended=this.lu,this.po=this.X,this.X.loop=this.Fg,this.Sc.gain.value=K*this.volume*this.Pk,this.or(),this.startTime=(this.rk?F.dd.Va:F.Eh.Va)-this.Be/(this.playbackRate||.001),h(this.X,this.Be,this.ej())):this.X.play();break;case 2:this.X.play();break;case 3:F.Ld&&
AppMobi.context.resumeSound(this.src)}this.Me=!1}};B.prototype.seek=function(a){if(!(this.Bg||this.jd||this.hj()))switch(this.jb){case 0:try{this.X.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.jb)this.Me?this.Be=a:(this.pause(),this.Be=a,this.hG());else try{this.X.currentTime=a}catch(c){}break;case 3:F.Ld&&AppMobi.context.seekSound(this.src,a)}};B.prototype.cG=function(a){1===this.jb&&(this.Ig?(this.vc.disconnect(),this.vc.connect(a)):(this.Sc.disconnect(),this.Sc.connect(a)))};B.prototype.ej=
function(){var a=0;switch(this.jb){case 0:"undefined"!==typeof this.X.duration&&(a=this.X.duration);break;case 1:a=this.buffer.zb.duration;break;case 2:a=this.X.getDuration();break;case 3:F.Ld&&(a=AppMobi.context.getDurationSound(this.src))}return a};B.prototype.Rs=function(a){var b=this.ej(),c=0;switch(this.jb){case 0:"undefined"!==typeof this.X.currentTime&&(c=this.X.currentTime);break;case 1:if(1===this.buffer.jb){if(this.Me)return this.Be;c=(this.rk?F.dd.Va:F.Eh.Va)-this.startTime}else"undefined"!==
typeof this.X.currentTime&&(c=this.X.currentTime);break;case 3:F.Ld&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Fg&&c>b&&(c=b);return c};B.prototype.vm=function(){return!this.Me&&!this.Bg&&!this.jd&&!this.hj()};B.prototype.wG=function(){return!this.Bg&&!this.jd&&!this.hj()};B.prototype.JG=function(){var a=this.volume*K;isFinite(a)||(a=0);switch(this.jb){case 0:"undefined"!==typeof this.X.volume&&this.X.volume!==a&&(this.X.volume=a);break;case 1:1===this.buffer.jb?
this.Sc.gain.value=a*this.Pk:"undefined"!==typeof this.X.volume&&this.X.volume!==a&&(this.X.volume=a)}};B.prototype.Xo=function(a){switch(this.jb){case 0:this.X.muted!==!!a&&(this.X.muted=!!a);break;case 1:1===this.buffer.jb?(this.Pk=a?0:1,this.Sc.gain.value=K*this.volume*this.Pk):this.X.muted!==!!a&&(this.X.muted=!!a)}};B.prototype.sG=function(){this.uk=!0;this.Xo(this.uk||this.xm)};B.prototype.cz=function(a){this.xm=!!a;this.Xo(this.uk||this.xm)};B.prototype.or=function(){var a=this.playbackRate;
this.rk&&(a*=F.hg);switch(this.jb){case 0:this.X.playbackRate!==a&&(this.X.playbackRate=a);break;case 1:1===this.buffer.jb?this.X.playbackRate.value!==a&&(this.X.playbackRate.value=a):this.X.playbackRate!==a&&(this.X.playbackRate=a)}};B.prototype.uG=function(a){switch(this.jb){case 0:a?this.vm()?(this.hf=!0,this.X.pause()):this.hf=!1:this.hf&&(this.X.play(),this.hf=!1);break;case 1:a?this.vm()?(this.hf=!0,1===this.buffer.jb?(this.Be=this.Rs(!0),this.Fg&&(this.Be=this.Be%this.ej()),e(this.X)):this.X.pause()):
this.hf=!1:this.hf&&(1===this.buffer.jb?(this.X=G.createBufferSource(),this.X.buffer=this.buffer.zb,this.X.connect(this.Sc),this.X.onended=this.lu,this.po=this.X,this.X.loop=this.Fg,this.Sc.gain.value=K*this.volume*this.Pk,this.or(),this.startTime=(this.rk?F.dd.Va:F.Eh.Va)-this.Be/(this.playbackRate||.001),h(this.X,this.Be,this.ej())):this.X.play(),this.hf=!1);break;case 2:a?this.vm()?(this.X.pause(),this.hf=!0):this.hf=!1:this.hf&&(this.hf=!1,this.X.play())}};w.ta=function(a){function b(){if(!ga&&
G.createBuffer){var a=G.createBuffer(1,220,22050),c=G.createBufferSource();c.buffer=a;c.connect(G.destination);f(c)}}this.type=a;F=this.i=a.i;I=this;this.ae=null;this.Pm=-600;this.i.wm&&(xb=!0);!(this.i.xk||this.i.Hp&&(this.i.nm||this.i.Ip))||this.i.pm||this.i.eb||this.i.mt||xb||(ya=!0);G=null;"undefined"!==typeof AudioContext?(R=1,G=new AudioContext):"undefined"!==typeof webkitAudioContext&&(R=1,G=new webkitAudioContext);this.i.xk&&G&&(G.close&&G.close(),"undefined"!==typeof AudioContext?G=new AudioContext:
"undefined"!==typeof webkitAudioContext&&(G=new webkitAudioContext));ya?document.addEventListener("touchend",function(){!dc&&G&&(b(),dc=!0);var a,c,d;if(ya){if(!O)for(a=0,c=Ab.length;a<c;++a)d=Ab[a],d.jd||d.Me||d.X.play();H(Ab)}},!0):xb&&document.addEventListener("touchend",function(){!dc&&G&&(b(),dc=!0)},!0);1!==R&&(this.i.Le&&"undefined"!==typeof window.Media?R=2:this.i.rx&&(R=3));2===R&&(da=location.href,a=da.lastIndexOf("/"),-1<a&&(da=da.substr(0,a+1)),da=da.replace("file://",""));if(this.i.kF&&
this.i.lF&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.i.Ee(this);else{if(this.i.Ld)J=this.i.Hp;else try{J=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){J=!1}this.i.Gi(this)}};var Ha=w.ta.prototype;Ha.ma=function(){this.i.Yj=this;M=this.U[0];this.wh=this.U[1];this.NF=0!==this.U[2];this.iy=0;P=this.U[3];ra=this.U[4];this.Pm=-this.U[5];ma=this.U[6];Ya=this.U[7];Sd=this.U[8];
this.ae=new z;var a=this.i.Ha||this.i.width,c=this.i.Ga||this.i.height;1===R&&("undefined"!==typeof G.listener.dopplerFactor&&(G.listener.dopplerFactor=0),G.listener.setPosition(a/2,c/2,this.Pm),G.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,c){Na&&Na.disconnect();Ob=c.toLowerCase();Na=G.createMediaStreamSource(a);Na.connect(b(Ob))});this.i.Xr(function(a){I.JF(a)});var d=this;this.i.Vj(function(a){d.Cj(a)})};Ha.Cj=function(a){var b,c,d;b=0;for(c=T.length;b<c;b++)d=T[b],
d.uc&&d.uc.Ma===a&&(d.uc.Ma=null,d.Ig&&d.vm()&&d.Fg&&d.stop());this.ae.Ma===a&&(this.ae.Ma=null)};Ha.Tb=function(){var a={silent:O,masterVolume:K,listenerZ:this.Pm,listenerUid:this.ae.zp()?this.ae.Ma.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,h;c=0;for(d=T.length;c<d;c++)e=T[c],!e.wG()||3===this.wh||e.Bf&&1===this.wh||!e.Bf&&2===this.wh||(f=e.Rs(),e.Fg&&(f=f%e.ej()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Bf,playbackTime:f,volume:e.volume,looping:e.Fg,muted:e.uk,playbackRate:e.playbackRate,
paused:e.Me,resume_position:e.Be},e.Ig&&(f.pan={},h=f.pan,e.uc&&e.uc.zp()?h.objUid=e.uc.Ma.uid:(h.x=e.Cy,h.y=e.Dy,h.a=e.yy),h.ia=e.zy,h.oa=e.Ay,h.og=e.By),b.push(f));b=a.effects;for(g in ha)if(ha.hasOwnProperty(g)){e=[];c=0;for(d=ha[g].length;c<d;c++)e.push({type:ha[g][c].type,params:ha[g][c].Cb});b[g]=e}return a};var Pb=[];Ha.Yb=function(a){var b=a.silent;K=a.masterVolume;this.Pm=a.listenerZ;this.ae.Zk(null);var c=a.listenerUid;-1!==c&&(this.ae.Vp=c,Pb.push(this.ae));var c=a.playing,d,e,f,g,h,E,
B,C,y,w,F;if(3!==this.wh)for(d=0,e=T.length;d<e;d++)y=T[d],y.Bf&&1===this.wh||(y.Bf||2!==this.wh)&&y.stop();for(h in ha)if(ha.hasOwnProperty(h))for(d=0,e=ha[h].length;d<e;d++)ha[h][d].remove();mb(ha);for(h in a.effects)if(a.effects.hasOwnProperty(h))for(E=a.effects[h],d=0,e=E.length;d<e;d++)switch(f=E[d].type,w=E[d].params,f){case "filter":D(h,new m(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "delay":D(h,new l(w[0],w[1],w[2]));break;case "convolve":f=w[2];y=this.Xl(f,!1);y.zb?f=new k(y.zb,w[0],w[1],
f):(f=new k(null,w[0],w[1],f),y.ky=w[0],y.Jo=f);D(h,f);break;case "flanger":D(h,new n(w[0],w[1],w[2],w[3],w[4]));break;case "phaser":D(h,new p(w[0],w[1],w[2],w[3],w[4],w[5]));break;case "gain":D(h,new r(w[0]));break;case "tremolo":D(h,new v(w[0],w[1]));break;case "ringmod":D(h,new t(w[0],w[1]));break;case "distortion":D(h,new q(w[0],w[1],w[2],w[3],w[4]));break;case "compressor":D(h,new u(w[0],w[1],w[2],w[3],w[4]));break;case "analyser":D(h,new x(w[0],w[1]))}d=0;for(e=c.length;d<e;d++)3===this.wh||
(a=c[d],f=a.buffersrc,g=a.is_music,h=a.tag,E=a.playbackTime,B=a.looping,C=a.volume,F=(w=a.pan)&&w.hasOwnProperty("objUid")?w.objUid:-1,g&&1===this.wh)||!g&&2===this.wh||((y=this.Uw(f,h,g,B,C))?(y.Be=a.resume_position,y.Ou(!!w),y.play(B,C,E),y.or(),y.JG(),y.Xo(y.uk||y.xm),a.paused&&y.pause(),a.muted&&y.sG(),y.Xo(y.uk||y.xm),w&&(-1!==F?(y.uc=y.uc||new z,y.uc.Vp=F,Pb.push(y.uc)):y.Pq(w.x,w.y,w.a,w.ia,w.oa,w.og))):(y=this.Xl(f,g),y.Kq=E,y.tq=a.paused,w&&(-1!==F?y.Ej.push({ny:F,Ap:w.ia,fq:w.oa,jq:w.og,
Yu:h}):y.Ej.push({x:w.x,y:w.y,T:w.a,Ap:w.ia,fq:w.oa,jq:w.og,Yu:h}))));if(b&&!O){d=0;for(e=T.length;d<e;d++)T[d].cz(!0);O=!0}else if(!b&&O){d=0;for(e=T.length;d<e;d++)T[d].cz(!1);O=!1}};Ha.qf=function(){var a,b,c,d;a=0;for(b=Pb.length;a<b;a++)c=Pb[a],d=this.i.Xf(c.Vp),c.Zk(d),c.Vp=-1,d&&(N=d.x,U=d.y);H(Pb)};Ha.JF=function(a){if(!this.NF){!a&&G&&G.resume&&(G.resume(),ga=!1);var b,c;b=0;for(c=T.length;b<c;b++)T[b].uG(a);a&&G&&G.suspend&&(G.suspend(),ga=!0)}};Ha.mb=function(){var a=this.i.Xa,b,c,d;b=
0;for(c=T.length;b<c;b++)d=T[b],d.mb(a),0!==M&&d.or();var e,f;for(e in ha)if(ha.hasOwnProperty(e))for(d=ha[e],b=0,c=d.length;b<c;b++)f=d[b],f.mb&&f.mb();1===R&&this.ae.zp()&&(this.ae.mb(a),N=this.ae.Ma.x,U=this.ae.Ma.y,G.listener.setPosition(this.ae.Ma.x,this.ae.Ma.y,this.Pm),G.listener.setVelocity(this.ae.Us(),this.ae.Vs(),0))};var Qb=[];Ha.tG=function(a){var b,c,d,e,f,h=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&J||!f&&!J)Qb.push({filename:e,
size:d,Ma:null}),h+=d;return h};Ha.AG=function(){var a,b,c,d;a=0;for(b=Qb.length;a<b;++a)c=Qb[a],d=this.i.Es+c.filename,c.Ma=this.Xl(d,!1)};Ha.zE=function(){var a=0,b,c,d;b=0;for(c=Qb.length;b<c;++b)d=Qb[b],d.Ma.iF()||d.Ma.XE()||this.i.eb||this.i.Ip?a+=d.size:d.Ma.tx()&&(a+=Math.floor(d.size/2));return a};Ha.eG=function(){var a,b,c,d;c=a=0;for(b=Z.length;a<b;++a)d=Z[a],Z[c]=d,d.Bf?d.dG():++c;Z.length=c};Ha.Xl=function(a,b){var c,d,e,f=null;c=0;for(d=Z.length;c<d;c++)if(e=Z[c],e.src===a){f=e;break}f||
(xb&&b&&this.eG(),f=new E(a,b),Z.push(f));return f};Ha.Uw=function(a,b,c,d,e){var f,h,g;f=0;for(h=T.length;f<h;f++)if(g=T[f],g.src===a&&(g.LC()||c))return g.tag=b,g;a=this.Xl(a,c);if(!a.zb)return"<preload>"!==b&&(a.xq=b,a.Tt=d,a.qv=e),null;g=new B(a,b);T.push(g);return g};var zb=[];C.prototype.co=function(a){return Rb(Q,a)};w.F=new C;y.prototype.OB=function(b,c,d,e,f,h,g,l){if(!O&&e&&(e=e.Ps())){d=a(d);var k=b[1];b=this.i.Es+b[0]+(J?".ogg":".m4a");(S=this.Uw(b,l,k,0!==c,d))?(S.Ou(!0),l=ab(e.x,e.y,
-e.O.Vb(),N,U,!0),b=ab(e.x,e.y,-e.O.Vb(),N,U,!1),S.Pq(l,b,Qa(e.M-e.O.Vb()),f,h,a(g)),S.Zk(e),S.play(0!==c,d,0,this.iy),this.iy=0):this.Xl(b,k).Ej.push({Ma:e,Ap:f,fq:h,jq:a(g),Yu:l})}};w.da=new y;w.Ea=new function(){}})();function ld(a){this.i=a}
(function(){function a(){}var c=ld.prototype;c.wa=function(a){this.Za=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a){this.type=a;this.i=a.i};c.ta.prototype.ma=function(){var a=this;window.addEventListener("resize",function(){a.i.trigger(ld.prototype.F.tB,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.i.trigger(ld.prototype.F.mB,a)}),window.addEventListener("offline",function(){a.i.trigger(ld.prototype.F.lB,a)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){a.i.Jk=1;a.i.trigger(ld.prototype.F.Kr,a)}),window.applicationCache.addEventListener("progress",function(c){a.i.Jk=c.loaded/c.total||0}));this.i.Ld||(document.addEventListener("appMobi.device.update.available",function(){a.i.trigger(ld.prototype.F.Kr,a)}),document.addEventListener("backbutton",function(){a.i.trigger(ld.prototype.F.ao,a)}),document.addEventListener("menubutton",function(){a.i.trigger(ld.prototype.F.Ov,a)}),document.addEventListener("searchbutton",
function(){a.i.trigger(ld.prototype.F.vB,a)}),document.addEventListener("tizenhwkey",function(c){var g;switch(c.keyName){case "back":g=a.i.trigger(ld.prototype.F.ao,a);!g&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(g=a.i.trigger(ld.prototype.F.Ov,a))||c.preventDefault()}}));this.i.xt&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(c){a.i.trigger(ld.prototype.F.ao,a)&&(c.yp=
!0)}):this.i.ut&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.i.trigger(ld.prototype.F.ao,a)});this.i.Xr(function(c){c?a.i.trigger(ld.prototype.F.nB,a):a.i.trigger(ld.prototype.F.oB,a)})};a.prototype.mB=function(){return!0};a.prototype.lB=function(){return!0};a.prototype.yA=function(){return"undefined"===typeof window.applicationCache?!1:window.applicationCache.status===window.applicationCache.DOWNLOADING};a.prototype.Kr=function(){return!0};a.prototype.oB=function(){return!0};
a.prototype.nB=function(){return!0};a.prototype.tB=function(){return!0};a.prototype.ao=function(){return!0};a.prototype.Ov=function(){return!0};a.prototype.vB=function(){return!0};c.F=new a;c.da=new function(){};c.Ea=new function(){}})();function md(a){this.i=a}
(function(){function a(){}function c(){}var b=md.prototype;b.wa=function(a){this.Za=a;this.i=a.i};b.wa.prototype.ma=function(){};b.ta=function(a){this.type=a;this.i=a.i};var d=b.ta.prototype;d.ma=function(){this.i.eb?fa("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.qk=1===this.U[0],this.bf=document.createElement("input"),this.Z=this.qk?document.createElement("label"):this.bf,this.Cm=null,this.bf.type=this.qk?"checkbox":"button",this.bf.id=this.U[6],
jQuery(this.Z).appendTo(this.i.$j?this.i.$j:"body"),this.qk?(jQuery(this.bf).appendTo(this.Z),this.Cm=document.createTextNode(this.U[1]),jQuery(this.Z).append(this.Cm),this.bf.checked=0!==this.U[7],jQuery(this.Z).css("font-family","sans-serif"),jQuery(this.Z).css("display","inline-block"),jQuery(this.Z).css("color","black")):this.bf.value=this.U[1],this.Z.title=this.U[2],this.bf.disabled=0===this.U[4],this.ds=0!==this.U[5],this.qe=!1,0===this.U[3]&&(jQuery(this.Z).hide(),this.visible=!1,this.qe=!0),
this.bf.onclick=function(a){return function(b){b.stopPropagation();a.i.Sb=!0;a.i.trigger(md.prototype.F.bo,a);a.i.Sb=!1}}(this),this.Z.addEventListener("touchstart",function(a){a.stopPropagation()},!1),this.Z.addEventListener("touchmove",function(a){a.stopPropagation()},!1),this.Z.addEventListener("touchend",function(a){a.stopPropagation()},!1),jQuery(this.Z).mousedown(function(a){a.stopPropagation()}),jQuery(this.Z).mouseup(function(a){a.stopPropagation()}),jQuery(this.Z).keydown(function(a){a.stopPropagation()}),
jQuery(this.Z).keyup(function(a){a.stopPropagation()}),this.Im=this.Jm=this.Dm=this.Gm=this.Hm=this.Em=0,this.On(!0),this.i.Gi(this))};d.Tb=function(){var a={tooltip:this.Z.title,disabled:!!this.bf.disabled};this.qk?(a.checked=!!this.bf.checked,a.text=this.Cm.nodeValue):a.text=this.Z.value;return a};d.Yb=function(a){this.Z.title=a.tooltip;this.bf.disabled=a.disabled;this.qk?(this.bf.checked=a.checked,this.Cm.nodeValue=a.text):this.Z.value=a.text};d.Re=function(){this.i.eb||(jQuery(this.Z).remove(),
this.Z=null)};d.mb=function(){this.On()};d.On=function(a){if(!this.i.eb){var b=this.O.Bb(this.x,this.y,!0),c=this.O.Bb(this.x,this.y,!1),d=this.O.Bb(this.x+this.width,this.y+this.height,!0),m=this.O.Bb(this.x+this.width,this.y+this.height,!1),l=this.i.width/this.i.devicePixelRatio,k=this.i.height/this.i.devicePixelRatio;!this.visible||!this.O.visible||0>=d||0>=m||b>=l||c>=k?(this.qe||jQuery(this.Z).hide(),this.qe=!0):(1>b&&(b=1),1>c&&(c=1),d>=l&&(d=l-1),m>=k&&(m=k-1),l=window.innerWidth,k=window.innerHeight,
a||this.Em!==b||this.Hm!==c||this.Gm!==d||this.Dm!==m||this.Jm!==l||this.Im!==k?(this.Em=b,this.Hm=c,this.Gm=d,this.Dm=m,this.Jm=l,this.Im=k,this.qe&&(jQuery(this.Z).show(),this.qe=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,l=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.Z).css("position","absolute"),jQuery(this.Z).offset({left:a,top:l}),jQuery(this.Z).width(Math.round(d-b)),jQuery(this.Z).height(Math.round(m-c)),this.ds&&jQuery(this.Z).css("font-size",this.O.Kd(!0)/this.i.devicePixelRatio-
.2+"em")):this.qe&&(jQuery(this.Z).show(),this.qe=!1))}};d.Yd=function(){};d.Bc=function(){};a.prototype.bo=function(){return!0};b.F=new a;c.prototype.Nr=function(a){this.i.eb||(this.qk?this.Cm.nodeValue=a:this.Z.value=a)};c.prototype.ko=function(a){this.i.eb||(this.visible=0!==a)};c.prototype.Qf=function(a){this.i.eb||(this.bf.disabled=0===a)};b.da=new c;b.Ea=new function(){}})();function jd(a){this.i=a}
(function(){function a(){this.name="";this.rn=0;this.Cb=[]}function c(){e++;e===h.length&&h.push(new a);return h[e]}function b(){}function d(){}function g(){}var f=jd.prototype;f.wa=function(a){this.Za=a;this.i=a.i};f.wa.prototype.ma=function(){};f.ta=function(a){this.type=a;this.i=a.i};var h=[],e=-1;f.ta.prototype.ma=function(){var a=this;window.c2_callFunction=function(b,d){var f,h,g,v=c();v.name=b.toLowerCase();v.rn=0;if(d)for(v.Cb.length=d.length,f=0,h=d.length;f<h;++f)g=d[f],v.Cb[f]="number"===
typeof g||"string"===typeof g?g:"boolean"===typeof g?g?1:0:0;else H(v.Cb);a.i.trigger(jd.prototype.F.fo,a,v.name);e--;return v.rn}};b.prototype.fo=function(a){var b=0>e?null:h[e];return b?Rb(a,b.name):!1};f.F=new b;d.prototype.CallFunction=function(a,b){var d=c();d.name=a.toLowerCase();d.rn=0;Ga(d.Cb,b);this.i.trigger(jd.prototype.F.fo,this,d.name);e--};f.da=new d;g.prototype.KB=function(a,b){b=wa(b);var c=0>e?null:h[e];c?0<=b&&b<c.Cb.length?a.Rq(c.Cb[b]):a.Ub(0):a.Ub(0)};g.prototype.aA=function(a,
b){var d=c();d.name=b.toLowerCase();d.rn=0;H(d.Cb);var f,h;f=2;for(h=arguments.length;f<h;f++)d.Cb.push(arguments[f]);this.i.trigger(jd.prototype.F.fo,this,d.name);e--;a.Rq(d.rn)};f.Ea=new g})();function nd(a){this.i=a}
(function(){function a(){}var c=nd.prototype;c.wa=function(a){this.Za=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a){this.type=a;this.i=a.i;this.Ak=Array(256);this.Pn=Array(256);this.Dh=0};var b=c.ta.prototype;b.ma=function(){var a=this;this.i.eb||(jQuery(document).keydown(function(b){a.fu(b)}),jQuery(document).keyup(function(b){a.gu(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.fu=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Ak[a.which])this.Pn[a.which]&&!b&&a.preventDefault();else{this.Ak[a.which]=!0;this.Dh=a.which;this.i.Sb=!0;this.i.trigger(nd.prototype.F.PA,this);var c=this.i.trigger(nd.prototype.F.Jv,this),e=this.i.trigger(nd.prototype.F.iB,this);this.i.Sb=!1;if(c||e)this.Pn[a.which]=!0,b||a.preventDefault()}};b.gu=function(a){this.Ak[a.which]=!1;this.Dh=a.which;this.i.Sb=!0;this.i.trigger(nd.prototype.F.zv,this);var b=this.i.trigger(nd.prototype.F.Gr,this),c=this.i.trigger(nd.prototype.F.Kv,this);this.i.Sb=
!1;if(b||c||this.Pn[a.which])this.Pn[a.which]=!0,a.preventDefault()};b.Dj=function(){var a;for(a=0;256>a;++a)if(this.Ak[a]){this.Ak[a]=!1;this.Dh=a;this.i.trigger(nd.prototype.F.zv,this);var b=this.i.trigger(nd.prototype.F.Gr,this),c=this.i.trigger(nd.prototype.F.Kv,this);if(b||c)this.Pn[a]=!0}};b.Tb=function(){return{triggerKey:this.Dh}};b.Yb=function(a){this.Dh=a.triggerKey};a.prototype.BA=function(a){return this.Ak[a]};a.prototype.Jv=function(a){return a===this.Dh};a.prototype.PA=function(){return!0};
a.prototype.zv=function(){return!0};a.prototype.Gr=function(a){return a===this.Dh};a.prototype.iB=function(a){return a===this.Dh};a.prototype.Kv=function(a){return a===this.Dh};c.F=new a;c.da=new function(){};c.Ea=new function(){}})();var od=!1;
try{!function(){var a,c,b;!function(){var d={},g={};a=function(a,b,c){d[a]={WC:b,KC:c}};b=c=function(a){function h(b){if("."!==b.charAt(0))return b;b=b.split("/");for(var c=a.split("/").slice(0,-1),d=0,e=b.length;e>d;d++){var h=b[d];".."===h?c.pop():"."!==h&&c.push(h)}return c.join("/")}if(b.EH=d,g[a])return g[a];if(g[a]={},!d[a])throw Error("Could not find module "+a);for(var e,m=d[a],l=m.WC,m=m.KC,k=[],n=0,p=l.length;p>n;n++)"exports"===l[n]?k.push(e={}):k.push(c(h(l[n])));l=m.apply(this,k);return g[a]=
e||l}}();a("promise/all",["./utils","exports"],function(a,b){var c=a.isArray,h=a.isFunction;b.all=function(a){if(!c(a))throw new TypeError("You must pass an array to all.");return new this(function(b,c){function d(a){return function(c){g[a]=c;0===--r&&b(g)}}var f,g=[],r=a.length;0===r&&b([]);for(var v=0;v<a.length;v++)(f=a[v])&&h(f.then)?f.then(d(v),c):(g[v]=f,0===--r&&b(g))})}});a("promise/asap",["exports"],function(a){function b(){return function(){process.RH(e)}}function c(){var a=0,b=new k(e),
d=document.createTextNode("");return b.observe(d,{characterData:!0}),function(){d.data=a=++a%2}}function h(){return function(){n.setTimeout(e,1)}}function e(){for(var a=0;a<p.length;a++){var b=p[a];(0,b[0])(b[1])}p=[]}var m,l="undefined"!=typeof window?window:{},k=l.MutationObserver||l.WebKitMutationObserver,n="undefined"!=typeof global?global:void 0===this?window:this,p=[];m="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():k?c():h();a.CC=function(a,b){1===p.push([a,
b])&&m()}});a("promise/config",["exports"],function(a){var b={KH:!1};a.xw=b;a.OC=function(a,c){return 2!==arguments.length?b[a]:void(b[a]=c)}});a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){var h=a.Promise,e=b.isFunction;c.PF=function(){var a;a="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=
a}),e(b)}()||(a.Promise=h)}});a("promise/promise","./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "),function(a,b,c,h,e,m,l,k){function n(a){if(!y(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof n))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.oo=[];p(a,this)}function p(a,b){function c(a){u(b,
a)}function d(a){z(b,a)}try{a(c,d)}catch(e){d(e)}}function r(a,b,c,d){var e,f,h,g,l=y(c);if(l)try{e=c(d),h=!0}catch(k){g=!0,f=k}else e=d,h=!0;q(b,e)||(l&&h?u(b,e):g?z(b,f):a===I?u(b,e):a===Q&&z(b,e))}function v(a,b,c,d){a=a.oo;var e=a.length;a[e]=b;a[e+I]=c;a[e+Q]=d}function t(a,b){for(var c,d,e=a.oo,f=a.no,h=0;h<e.length;h+=3)c=e[h],d=e[h+b],r(b,c,d,f);a.oo=null}function q(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(C(b)&&(d=b.then,
y(d)))return d.call(b,function(d){return c?!0:(c=!0,void(b!==d?u(a,d):x(a,d)))},function(b){return c?!0:(c=!0,void z(a,b))}),!0}catch(e){return c?!0:(z(a,e),!0)}return!1}function u(a,b){a===b?x(a,b):q(a,b)||x(a,b)}function x(a,b){a.Ug===w&&(a.Ug=F,a.no=b,D.async(E,a))}function z(a,b){a.Ug===w&&(a.Ug=F,a.no=b,D.async(B,a))}function E(a){t(a,a.Ug=I)}function B(a){t(a,a.Ug=Q)}var D=a.xw,C=(a.OC,b.CF),y=b.isFunction;a=(b.now,c.all);h=h.race;e=e.resolve;m=m.reject;D.async=l.CC;var w=void 0,F=0,I=1,Q=2;
n.prototype={constructor:n,Ug:void 0,no:void 0,oo:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this.Ug){var e=arguments;D.async(function(){r(c.Ug,d,e[c.Ug-1],c.no)})}else v(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}};n.all=a;n.race=h;n.resolve=e;n.reject=m;k.Promise=n});a("promise/race",["./utils","exports"],function(a,b){var c=a.isArray;b.race=function(a){if(!c(a))throw new TypeError("You must pass an array to race.");return new this(function(b,
c){for(var d,f=0;f<a.length;f++)(d=a[f])&&"function"==typeof d.then?d.then(b,c):b(d)})}});a("promise/reject",["exports"],function(a){a.reject=function(a){return new this(function(b,c){c(a)})}});a("promise/resolve",["exports"],function(a){a.resolve=function(a){return a&&"object"==typeof a&&a.constructor===this?a:new this(function(b){b(a)})}});a("promise/utils",["exports"],function(a){function b(a){return"function"==typeof a}var c=Date.now||function(){return(new Date).getTime()};a.CF=function(a){return b(a)||
"object"==typeof a&&null!==a};a.isFunction=b;a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.now=c});c("promise/polyfill").PF()}();var zd=function(){return function(a){function c(d){if(b[d])return b[d].zg;var g=b[d]={zg:{},id:d,loaded:!1};return a[d].call(g.zg,g,g.zg,c),g.loaded=!0,g.zg}var b={};return c.j=a,c.I=b,c.k="",c(0)}([function(a,c,b){c.lo=!0;var d=function(a){function c(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,
c)})}}function d(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(r(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function e(a){for(var b in l)if(l.hasOwnProperty(b)&&l[b]===a)return!0;return!1}var m={},l={tl:"asyncStorage",ul:"localStorageWrapper",yl:"webSQLStorage"},k="clear getItem iterate key keys length removeItem setItem".split(" "),n={description:"",hk:[l.tl,l.yl,l.ul].slice(),name:"localforage",size:4980736,Ib:"keyvaluepairs",
version:1},p=function(a){var b={},c;try{var d=d||a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.B||a.msIndexedDB;c="undefined"!=typeof a.openDatabase&&a.navigator&&a.navigator.userAgent&&/Safari/.test(a.navigator.userAgent)&&!/Chrome/.test(a.navigator.userAgent)?!1:d&&"function"==typeof d.open&&"undefined"!=typeof a.IDBKeyRange}catch(e){c=!1}b[l.tl]=!!c;var f;try{f=a.openDatabase}catch(h){f=!1}b[l.yl]=!!f;var g;try{g=a.localStorage&&"setItem"in a.localStorage&&a.localStorage.setItem}catch(k){g=
!1}return b[l.ul]=!!g,b}(a),r=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return new (function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.tl=l.tl;this.ul=l.ul;this.yl=l.yl;this.Tr=d({},n);this.Pi=d({},this.Tr,b);this.bw=this.tg=null;this.Lh=!1;this.Gb=null;this.cw();this.Zy(this.Pi.hk)}return a.prototype.xw=function(a){if("object"==typeof a){if(this.Lh)return Error("Can't call config() after localforage has been used.");
for(var b in a)"storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),this.Pi[b]=a[b];return"driver"in a&&a.hk&&this.Zy(this.Pi.hk),!0}return"string"==typeof a?this.Pi[a]:this.Pi},a.prototype.hk=function(){return this.zl||null},a.prototype.Ww=function(a,c,d){var f=this,h=function(){if(e(a))switch(a){case f.tl:return new Promise(function(a){a(b(1))});case f.ul:return new Promise(function(a){a(b(2))});case f.yl:return new Promise(function(a){a(b(4))})}else if(m[a])return Promise.resolve(m[a]);return Promise.reject(Error("Driver not found."))}();
return h.then(c,d),h},a.prototype.ready=function(a){var b=this,c=b.tg.then(function(){return null===b.Lh&&(b.Lh=b.bw()),b.Lh});return c.then(a,a),c},a.prototype.Zy=function(a,b,c){function d(){f.Pi.hk=f.hk()}function e(a){return function(){function b(){for(;c<a.length;){var e=a[c];return c++,f.Gb=null,f.Lh=null,f.Ww(e).then(function(a){return f.sC(a),d(),f.Lh=f.Vr(f.Pi),f.Lh})["catch"](b)}d();return f.tg=Promise.reject(Error("No available storage method found.")),f.tg}var c=0;return b()}}var f=this;
r(a)||(a=[a]);var h=this.tC(a);return this.tg=(null!==this.tg?this.tg["catch"](function(){return Promise.resolve()}):Promise.resolve()).then(function(){var a=h[0];return f.Gb=null,f.Lh=null,f.Ww(a).then(function(a){f.zl=a.zl;d();f.cw();f.bw=e(h)})})["catch"](function(){d();return f.tg=Promise.reject(Error("No available storage method found.")),f.tg}),this.tg.then(b,c),this.tg},a.prototype.supports=function(a){return!!p[a]},a.prototype.sC=function(a){d(this,a)},a.prototype.tC=function(a){for(var b=
[],c=0,d=a.length;d>c;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype.cw=function(){for(var a=0;a<k.length;a++)c(this,k[a])},a.prototype.Jl=function(b){return new a(b)},a}())}("undefined"!=typeof window?window:self);c["default"]=d;a.zg=c["default"]},function(a,c){c.lo=!0;c["default"]=function(a){function c(d,e){d=d||[];e=e||{};try{return new Blob(d,e)}catch(f){if("TypeError"!==f.name)throw f;for(var h=new (a.BlobBuilder||a.j||a.k||a.WebKitBlobBuilder),g=0;g<d.length;g+=1)h.append(d[g]);
return h.getBlob(e.type)}}function g(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.withCredentials=!0;d.responseType="arraybuffer";d.onreadystatechange=function(){return 4===d.readyState?200===d.status?b({response:d.response,type:d.getResponseHeader("Content-Type")}):void c({status:d.status,response:d.response}):void 0};d.send()})}function f(a){return(new Promise(function(b,e){var f=c([""],{type:"image/png"}),h=a.transaction([w],"readwrite");h.objectStore(w).put(f,
"key");h.oncomplete=function(){var c=a.transaction([w],"readwrite").objectStore(w).get("key");c.onerror=e;c.onsuccess=function(a){var c=URL.createObjectURL(a.target.result);g(c).then(function(a){b(!(!a||"image/png"!==a.type))},function(){b(!1)}).then(function(){URL.revokeObjectURL(c)})}};h.onerror=h.onabort=e}))["catch"](function(){return!1})}function h(a){return"boolean"==typeof C?Promise.resolve(C):f(a).then(function(a){return C=a})}function e(a){return new Promise(function(b,c){var d=new FileReader;
d.onerror=c;d.onloadend=function(c){b({aw:!0,data:btoa(c.target.result||""),type:a.type})};d.readAsBinaryString(a)})}function m(a){for(var b=atob(a.data),e=b.length,f=new ArrayBuffer(e),h=new Uint8Array(f),g=0;e>g;g++)h[g]=b.charCodeAt(g);return c([f],{type:a.type})}function l(a){var b=this,c=b.Ur().then(function(){var a=y[b.Gb.name];return a&&a.dk?a.dk:void 0});return c.then(a,a),c}function k(a){a=y[a.name];var b={};b.promise=new Promise(function(a){b.resolve=a});a.Cw.push(b);a.dk?a.dk=a.dk.then(function(){return b.promise}):
a.dk=b.promise}function n(c){function d(){return Promise.resolve()}var e=this,f={db:null};if(c)for(var h in c)f[h]=c[h];y||(y={});var g=y[f.name];g||(g={mp:[],db:null,dk:null,Cw:[]},y[f.name]=g);g.mp.push(e);e.Ur||(e.Ur=e.ready,e.ready=l);c=[];for(h=0;h<g.mp.length;h++){var k=g.mp[h];k!==e&&c.push(k.Ur()["catch"](d))}var m=g.mp.slice(0);return Promise.all(c).then(function(){return f.db=g.db,p(f,!1)}).then(function(c){f.db=c;var d;d=e.Tr.version;if(f.db){var h=!f.db.objectStoreNames.contains(f.Ib),
g=f.version>f.db.version;(f.version<f.db.version&&(f.version!==d&&a.console.warn('The database "'+f.name+"\" can't be downgraded from version "+f.db.version+" to version "+f.version+"."),f.version=f.db.version),g||h)?(h&&(d=f.db.version+1,d>f.version&&(f.version=d)),d=!0):d=!1}else d=!0;return d?p(f,!0):c}).then(function(a){f.db=g.db=a;e.Gb=f;for(a=0;a<m.length;a++){var b=m[a];b!==e&&(b.Gb.db=f.db,b.Gb.version=f.version)}})}function p(c,d){return new Promise(function(e,f){if(c.db){if(!d)return e(c.db);
k(c);c.db.close()}var h=[c.name];d&&h.push(c.version);var g=D.open.apply(D,h);d&&(g.onupgradeneeded=function(d){var e=g.result;try{e.createObjectStore(c.Ib),1>=d.oldVersion&&e.createObjectStore(w)}catch(f){if("ConstraintError"!==f.name)throw f;a.console.warn('The database "'+c.name+'" has been upgraded from version '+d.oldVersion+" to version "+d.newVersion+', but the storage "'+c.Ib+'" already exists.')}});g.onerror=function(){f(g.error)};g.onsuccess=function(){e(g.result);var a=y[c.name].Cw.pop();
a&&a.resolve()}})}function r(c,d){var e=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var f=new Promise(function(a,b){e.ready().then(function(){var d=e.Gb,f=d.db.transaction(d.Ib,"readonly").objectStore(d.Ib).get(c);f.onsuccess=function(){var b=f.result;void 0===b&&(b=null);b&&b.aw&&(b=m(b));a(b)};f.onerror=function(){b(f.error)}})["catch"](b)});return B(f,d),f}function v(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var e=
c.Gb,f=e.db.transaction(e.Ib,"readonly").objectStore(e.Ib).openCursor(),h=1;f.onsuccess=function(){var c=f.result;if(c){var d=c.value;d&&d.aw&&(d=m(d));d=a(d,c.key,h++);void 0!==d?b(d):c["continue"]()}else b()};f.onerror=function(){d(f.error)}})["catch"](d)});return B(d,b),d}function t(c,d,f){var g=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var l=new Promise(function(a,b){var f;g.ready().then(function(){return f=g.Gb,d instanceof Blob?h(f.db).then(function(a){return a?
d:e(d)}):d}).then(function(d){var e=f.db.transaction(f.Ib,"readwrite"),h=e.objectStore(f.Ib);null===d&&(d=void 0);e.oncomplete=function(){void 0===d&&(d=null);a(d)};e.onabort=e.onerror=function(){b(g.error?g.error:g.transaction.error)};var g=h.put(d,c)})["catch"](b)});return B(l,f),l}function q(c,d){var e=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var f=new Promise(function(a,b){e.ready().then(function(){var d=e.Gb,f=d.db.transaction(d.Ib,"readwrite"),
h=f.objectStore(d.Ib)["delete"](c);f.oncomplete=function(){a()};f.onerror=function(){b(h.error)};f.onabort=function(){b(h.error?h.error:h.transaction.error)}})["catch"](b)});return B(f,d),f}function u(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb,e=d.db.transaction(d.Ib,"readwrite"),f=e.objectStore(d.Ib).clear();e.oncomplete=function(){a()};e.onabort=e.onerror=function(){c(f.error?f.error:f.transaction.error)}})["catch"](c)});return B(c,a),c}function x(a){var b=this,
c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb,e=d.db.transaction(d.Ib,"readonly").objectStore(d.Ib).count();e.onsuccess=function(){a(e.result)};e.onerror=function(){c(e.error)}})["catch"](c)});return B(c,a),c}function z(a,b){var c=this,d=new Promise(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c.Gb,f=!1,h=e.db.transaction(e.Ib,"readonly").objectStore(e.Ib).openCursor();h.onsuccess=function(){var c=h.result;return c?void(0===a?b(c.key):f?b(c.key):(f=
!0,c.advance(a))):void b(null)};h.onerror=function(){d(h.error)}})["catch"](d)});return B(d,b),d}function E(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb,e=d.db.transaction(d.Ib,"readonly").objectStore(d.Ib).openCursor(),f=[];e.onsuccess=function(){var b=e.result;return b?(f.push(b.key),void b["continue"]()):void a(f)};e.onerror=function(){c(e.error)}})["catch"](c)});return B(c,a),c}function B(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var D=D||a.indexedDB||
a.webkitIndexedDB||a.mozIndexedDB||a.B||a.msIndexedDB;if(D){var C,y,w="local-forage-detect-blob-support";return{zl:"asyncStorage",Vr:n,Bx:v,getItem:r,setItem:t,removeItem:q,clear:u,length:x,key:z,keys:E}}}("undefined"!=typeof window?window:self);a.zg=c["default"]},function(a,c,b){c.lo=!0;c["default"]=function(a){function c(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var f=null;try{if(!(a.localStorage&&"setItem"in a.localStorage))return;f=a.localStorage}catch(h){return}return{zl:"localStorageWrapper",
Vr:function(a){var c={};if(a)for(var d in a)c[d]=a[d];return c.Eg=c.name+"/",c.Ib!==this.Tr.Ib&&(c.Eg+=c.Ib+"/"),this.Gb=c,(new Promise(function(a){a(b(3))})).then(function(a){return c.Jj=a,Promise.resolve()})},Bx:function(a,b){var d=this,h=d.ready().then(function(){for(var b=d.Gb,c=b.Eg,h=c.length,g=f.length,k=1,m=0;g>m;m++){var u=f.key(m);if(0===u.indexOf(c)){var x=f.getItem(u);if(x&&(x=b.Jj.Uo(x)),x=a(x,u.substring(h),k++),void 0!==x)return x}}});return c(h,b),h},getItem:function(b,h){var l=this;
"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var k=l.ready().then(function(){var a=l.Gb,c=f.getItem(a.Eg+b);return c&&(c=a.Jj.Uo(c)),c});return c(k,h),k},setItem:function(b,h,l){var k=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var n=k.ready().then(function(){void 0===h&&(h=null);var a=h;return new Promise(function(c,d){var g=k.Gb;g.Jj.serialize(h,function(h,l){if(l)d(l);else try{f.setItem(g.Eg+
b,h),c(a)}catch(k){"QuotaExceededError"!==k.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==k.name||d(k),d(k)}})})});return c(n,l),n},removeItem:function(b,h){var l=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var k=l.ready().then(function(){f.removeItem(l.Gb.Eg+b)});return c(k,h),k},clear:function(a){var b=this,d=b.ready().then(function(){for(var a=b.Gb.Eg,c=f.length-1;0<=c;c--){var d=f.key(c);0===d.indexOf(a)&&f.removeItem(d)}});return c(d,a),d},length:function(a){var b=
this.keys().then(function(a){return a.length});return c(b,a),b},key:function(a,b){var d=this,h=d.ready().then(function(){var b,c=d.Gb;try{b=f.key(a)}catch(h){b=null}return b&&(b=b.substring(c.Eg.length)),b});return c(h,b),h},keys:function(a){var b=this,d=b.ready().then(function(){for(var a=b.Gb,c=f.length,d=[],e=0;c>e;e++)0===f.key(e).indexOf(a.Eg)&&d.push(f.key(e).substring(a.Eg.length));return d});return c(d,a),d}}}("undefined"!=typeof window?window:self);a.zg=c["default"]},function(a,c){c.lo=!0;
c["default"]=function(a){function c(a){var b,d,h,g,p;b=.75*a.length;var r=a.length,v=0;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);var t=new ArrayBuffer(b),q=new Uint8Array(t);for(b=0;r>b;b+=4)d=f.indexOf(a[b]),h=f.indexOf(a[b+1]),g=f.indexOf(a[b+2]),p=f.indexOf(a[b+3]),q[v++]=d<<2|h>>4,q[v++]=(15&h)<<4|g>>2,q[v++]=(3&g)<<6|63&p;return t}function g(a){var b=new Uint8Array(a),c="";for(a=0;a<b.length;a+=3)c+=f[b[a]>>2],c+=f[(3&b[a])<<4|b[a+1]>>4],c+=f[(15&b[a+1])<<2|b[a+2]>>6],c+=f[63&b[a+2]];
return 2===b.length%3?c=c.substring(0,c.length-1)+"=":1===b.length%3&&(c=c.substring(0,c.length-2)+"=="),c}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/^~~local_forage_type~([^~]+)~/;return{serialize:function(a,b){var c="";if(a&&(c=a.toString()),a&&("[object ArrayBuffer]"===a.toString()||a.buffer&&"[object ArrayBuffer]"===a.buffer.toString())){var d,f="__lfsc__:";a instanceof ArrayBuffer?(d=a,f+="arbf"):(d=a.buffer,"[object Int8Array]"===c?f+="si08":"[object Uint8Array]"===
c?f+="ui08":"[object Uint8ClampedArray]"===c?f+="uic8":"[object Int16Array]"===c?f+="si16":"[object Uint16Array]"===c?f+="ur16":"[object Int32Array]"===c?f+="si32":"[object Uint32Array]"===c?f+="ui32":"[object Float32Array]"===c?f+="fl32":"[object Float64Array]"===c?f+="fl64":b(Error("Failed to get type for BinaryArray")));b(f+g(d))}else if("[object Blob]"===c)c=new FileReader,c.onload=function(){var c="~~local_forage_type~"+a.type+"~"+g(this.result);b("__lfsc__:blob"+c)},c.readAsArrayBuffer(a);else try{b(JSON.stringify(a))}catch(h){console.error("Couldn't convert value into a JSON string: ",
a),b(null,h)}},Uo:function(e){if("__lfsc__:"!==e.substring(0,9))return JSON.parse(e);var f,g=e.substring(13);e=e.substring(9,13);if("blob"===e&&h.test(g)){var k=g.match(h);f=k[1];g=g.substring(k[0].length)}g=c(g);switch(e){case "arbf":return g;case "blob":var n;g=[g];f={type:f};g=g||[];f=f||{};try{n=new Blob(g,f)}catch(p){if("TypeError"!==p.name)throw p;n=new (a.BlobBuilder||a.j||a.k||a.WebKitBlobBuilder);for(e=0;e<g.length;e+=1)n.append(g[e]);n=n.getBlob(f.type)}return n;case "si08":return new Int8Array(g);
case "ui08":return new Uint8Array(g);case "uic8":return new Uint8ClampedArray(g);case "si16":return new Int16Array(g);case "ur16":return new Uint16Array(g);case "si32":return new Int32Array(g);case "ui32":return new Uint32Array(g);case "fl32":return new Float32Array(g);case "fl64":return new Float64Array(g);default:throw Error("Unkown type: "+e);}},WH:c,GH:g}}("undefined"!=typeof window?window:self);a.zg=c["default"]},function(a,c,b){c.lo=!0;c["default"]=function(a){function c(a){var d=this,e={db:null};
if(a)for(var f in a)e[f]="string"!=typeof a[f]?a[f].toString():a[f];var h=new Promise(function(a,b){try{e.db=v(e.name,String(e.version),e.description,e.size)}catch(c){return b(c)}e.db.transaction(function(c){c.executeSql("CREATE TABLE IF NOT EXISTS "+e.Ib+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){d.Gb=e;a()},function(a,c){b(c)})})});return(new Promise(function(a){a(b(3))})).then(function(a){return e.Jj=a,h})}function f(b,c){var e=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),
b=String(b));var f=new Promise(function(a,c){e.ready().then(function(){var d=e.Gb;d.db.transaction(function(e){e.executeSql("SELECT * FROM "+d.Ib+" WHERE key = ? LIMIT 1",[b],function(b,c){var e=c.rows.length?c.rows.item(0).value:null;e&&(e=d.Jj.Uo(e));a(e)},function(a,b){c(b)})})})["catch"](c)});return r(f,c),f}function h(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var e=c.Gb;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.Ib,[],function(c,d){for(var f=d.rows,
h=f.length,g=0;h>g;g++){var l=f.item(g),k=l.value;if(k&&(k=e.Jj.Uo(k)),k=a(k,l.key,g+1),void 0!==k)return void b(k)}b()},function(a,b){d(b)})})})["catch"](d)});return r(d,b),d}function e(b,c,e){var f=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var h=new Promise(function(a,d){f.ready().then(function(){void 0===c&&(c=null);var e=c,h=f.Gb;h.Jj.serialize(c,function(c,f){f?d(f):h.db.transaction(function(f){f.executeSql("INSERT OR REPLACE INTO "+h.Ib+
" (key, value) VALUES (?, ?)",[b,c],function(){a(e)},function(a,b){d(b)})},function(a){a.code===a.QUOTA_ERR&&d(a)})})})["catch"](d)});return r(h,e),h}function m(b,c){var e=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var f=new Promise(function(a,c){e.ready().then(function(){var d=e.Gb;d.db.transaction(function(e){e.executeSql("DELETE FROM "+d.Ib+" WHERE key = ?",[b],function(){a()},function(a,b){c(b)})})})["catch"](c)});return r(f,c),f}function l(a){var b=
this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.Ib,[],function(){a()},function(a,b){c(b)})})})["catch"](c)});return r(c,a),c}function k(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.Ib,[],function(b,c){var d=c.rows.item(0).I;a(d)},function(a,b){c(b)})})})["catch"](c)});return r(c,a),c}function n(a,b){var c=this,
d=new Promise(function(b,d){c.ready().then(function(){var e=c.Gb;e.db.transaction(function(c){c.executeSql("SELECT key FROM "+e.Ib+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})["catch"](d)});return r(d,b),d}function p(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.Gb;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.Ib,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);
a(d)},function(a,b){c(b)})})})["catch"](c)});return r(c,a),c}function r(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var v=a.openDatabase;if(v)return{zl:"webSQLStorage",Vr:c,Bx:h,getItem:f,setItem:e,removeItem:m,clear:l,length:k,key:n,keys:p}}("undefined"!=typeof window?window:self);a.zg=c["default"]}])};"object"==typeof exports&&"object"==typeof module?module.zg=zd():"function"==typeof define&&define.FH?define([],zd):"object"==typeof exports?exports.localforage=zd():this.localforage=
zd()}catch(Ad){od=!0}function Bd(a){this.i=a}
(function(){function a(a){a.i.trigger(Bd.prototype.F.eo,a)}function c(){}function b(){}function d(){}var g="",f="",h="";"undefined"!==typeof window.is_scirra_arcade&&(h="sa"+window.scirra_arcade_id+"_");var e=Bd.prototype;e.wa=function(a){this.Za=a;this.i=a.i};e.wa.prototype.ma=function(){};e.ta=function(a){this.type=a;this.i=a.i};var m=e.ta.prototype;m.ma=function(){this.pu=this.qu=0};m.Re=function(){};m.Tb=function(){return{}};m.Yb=function(){};c.prototype.hB=function(a){return g===a};c.prototype.OA=
function(){return!0};c.prototype.Gv=function(a){return g===a};c.prototype.NA=function(){return!0};c.prototype.eo=function(){return!0};c.prototype.Fv=function(a){return g===a};c.prototype.Hv=function(a){return g===a};c.prototype.JA=function(){return!0};c.prototype.IA=function(){return!0};e.F=new c;b.prototype.YB=function(b,c){if(od)a(this);else{var d=h+b;this.qu++;var e=this;localforage.setItem(d,c,function(a,c){e.qu--;a?e.i.trigger(Bd.prototype.F.eo,e):(g=b,f=c,e.i.trigger(Bd.prototype.F.OA,e),e.i.trigger(Bd.prototype.F.hB,
e),f=g="");0===e.qu&&e.i.trigger(Bd.prototype.F.JA,e)})}};b.prototype.sA=function(b){if(od)a(this);else{var c=h+b;this.pu++;var d=this;localforage.getItem(c,function(a,c){d.pu--;if(a)d.i.trigger(Bd.prototype.F.eo,d);else{g=b;f=c;if("undefined"===typeof f||null===f)f="";d.i.trigger(Bd.prototype.F.NA,d);d.i.trigger(Bd.prototype.F.Gv,d);f=g=""}0===d.pu&&d.i.trigger(Bd.prototype.F.IA,d)})}};b.prototype.bA=function(b){if(od)a(this);else{var c=this;localforage.getItem(h+b,function(a,d){a?c.i.trigger(Bd.prototype.F.eo,
c):(g=b,null===d?(f="",c.i.trigger(Bd.prototype.F.Hv,c)):(f=d,c.i.trigger(Bd.prototype.F.Fv,c)),f=g="")})}};e.da=new b;d.prototype.FA=function(a){a.Rq(f)};e.Ea=new d})();function Cd(a){this.i=a}
(function(){function a(){}function c(){}var b=Cd.prototype;b.wa=function(a){this.Za=a;this.i=a.i};b.wa.prototype.ma=function(){};b.ta=function(a){this.type=a;this.i=a.i;this.Co=Array(4);this.Dz=this.kr=this.gl=this.ri=this.qi=0;this.yp=!1};var d=b.ta.prototype;d.ma=function(){var a=this;if(!this.i.eb){jQuery(document).mousemove(function(b){a.iu(b)});jQuery(document).mousedown(function(b){a.hu(b)});jQuery(document).mouseup(function(b){a.ju(b)});jQuery(document).dblclick(function(b){a.HF(b)});var b=
function(b){a.KF(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var g={left:0,top:0};d.iu=function(a){var b=this.i.eb?g:jQuery(this.i.canvas).offset();this.qi=a.pageX-b.left;this.ri=a.pageY-b.top};d.cy=function(){return 0<this.i.Zd?!0:0<=this.qi&&0<=this.ri&&this.qi<this.i.width&&this.ri<this.i.height};d.hu=function(a){this.cy()&&(this.Co[a.which]=!0,this.i.Sb=!0,this.i.trigger(Cd.prototype.F.MA,this),this.gl=a.which-1,this.kr=0,this.i.trigger(Cd.prototype.F.Cv,
this),this.i.trigger(Cd.prototype.F.Ir,this),this.i.Sb=!1)};d.ju=function(a){this.Co[a.which]&&(this.i.wp&&!this.i.hh&&a.preventDefault(),this.i.wp=!0,this.Co[a.which]=!1,this.i.Sb=!0,this.gl=a.which-1,this.i.trigger(Cd.prototype.F.sB,this),this.i.Sb=!1)};d.HF=function(a){this.cy()&&(a.preventDefault(),this.i.Sb=!0,this.gl=a.which-1,this.kr=1,this.i.trigger(Cd.prototype.F.Cv,this),this.i.trigger(Cd.prototype.F.Ir,this),this.i.Sb=!1)};d.KF=function(a){this.Dz=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.yp=!1;this.i.Sb=!0;this.i.trigger(Cd.prototype.F.JB,this);this.i.Sb=!1;this.yp&&Xb(a)&&a.preventDefault()};a.prototype.Cv=function(a,b){return a===this.gl&&b===this.kr};a.prototype.MA=function(){return!0};a.prototype.xv=function(a){return this.Co[a+1]};a.prototype.sB=function(a){return a===this.gl};a.prototype.Ir=function(a,b,c){return a!==this.gl||b!==this.kr?!1:this.i.Dn(c,this.qi,this.ri)};a.prototype.JB=function(a){this.yp=!0;return a===this.Dz};b.F=new a;b.da=new function(){};
c.prototype.Rr=function(a,b){var c,d,g,k,n;la(b)?(c=this.i.eh(0),d=c.scale,g=c.Wd,k=c.xe,n=c.M,c.scale=1,c.Wd=1,c.xe=1,c.M=0,a.xa(c.oc(this.qi,this.ri,!0)),c.scale=d,c.Wd=g,c.xe=k,c.M=n):(c=na(b)?this.i.eh(b):this.i.Zl(b))?a.xa(c.oc(this.qi,this.ri,!0)):a.xa(0)};c.prototype.Sr=function(a,b){var c,d,g,k,n;la(b)?(c=this.i.eh(0),d=c.scale,g=c.Wd,k=c.ye,n=c.M,c.scale=1,c.Wd=1,c.ye=1,c.M=0,a.xa(c.oc(this.qi,this.ri,!1)),c.scale=d,c.Wd=g,c.ye=k,c.M=n):(c=na(b)?this.i.eh(b):this.i.Zl(b))?a.xa(c.oc(this.qi,
this.ri,!1)):a.xa(0)};b.Ea=new c})();function Dd(a){this.i=a}
(function(){function a(a){this.n=a;this.history=[]}function c(a){this.DF=a;this.M=this.y=this.x=this.timestamp=0;this.fi=[]}function b(a,b,c,d){a=b-a;if(0===a)return 0;b=sa(a);if(b<=sa(c/10)||1>b||1E3<=b)return a;var e=b/50;d&&(e=ta(e,1));d=sa(c/5);10<=b&&(e=b/10,d=sa(c/2));c=ta(e,d);c>b&&(c=b);return 0<a?c:-c}function d(){}var g=Dd.prototype;g.wa=function(a){this.Za=a;this.i=a.i};g.wa.prototype.ma=function(){};g.ta=function(a){this.type=a;this.i=a.i};var f=g.ta.prototype,h=!1;f.ma=function(){this.Ia=
null;(h=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.Ia=new window.C2Multiplayer);this.AF=this.ey=this.fy=this.zF=this.pF=this.uq=this.vq=this.xG="";this.kv={};this.Fp={};this.rh={};this.ml=this.jG=this.lE=null;this.Ep=[];this.Ln=[];this.Hg={};var a=this;h&&(this.Ia.onserverlist=function(){a.i.trigger(Dd.prototype.F.wB,a)},this.Ia.onsignallingerror=function(){a.i.trigger(Dd.prototype.F.zB,a)},this.Ia.onsignallingclose=function(){a.i.trigger(Dd.prototype.F.yB,
a);a.xG=""},this.Ia.onsignallingwelcome=function(){a.i.trigger(Dd.prototype.F.xB,a)},this.Ia.onsignallinglogin=function(){a.i.trigger(Dd.prototype.F.DB,a)},this.Ia.onsignallingjoin=function(b){a.Fp={};a.rh={};a.Ln.length=0;a.Ep.length=0;a.Hg={};a.i.trigger(Dd.prototype.F.AB,a);a.i.mj&&b&&a.ml.postMessage("start")},this.Ia.onsignallingleave=function(){a.i.trigger(Dd.prototype.F.CB,a)},this.Ia.onsignallingkicked=function(){a.i.trigger(Dd.prototype.F.BB,a)},this.Ia.onbeforeclientupdate=function(){a.i.trigger(Dd.prototype.F.VA,
a)},this.Ia.onpeeropen=function(b){a.vq=b.id;a.uq=b.alias;a.i.trigger(Dd.prototype.F.pB,a)},this.Ia.onpeerclose=function(b,c){a.vq=b.id;a.uq=b.alias;a.pF=c||"unknown";var d=a.Tw(b);if(d){var e=a.kv[d.type];e&&e.removeObjectNid(b.nid);a.i.Ee(d)}a.rh.hasOwnProperty(b.id)&&delete a.rh[b.id];a.i.trigger(Dd.prototype.F.qB,a)},this.Ia.onpeermessage=function(b,c){a.fy=c.t;a.ey=c.f?c.f:b.id;a.AF=a.Ia.getAliasFromId(a.ey);a.zF=c.m;a.i.trigger(Dd.prototype.F.QA,a);a.i.trigger(Dd.prototype.F.rB,a)},this.Ia.onsignallinginstancelist=
function(b){a.lE=b;a.i.trigger(Dd.prototype.F.cB,a)},this.Ia.onsignallingroomlist=function(b){a.jG=b;a.i.trigger(Dd.prototype.F.uB,a)},this.Ia.ongetobjectcount=function(a){return a.H.length},this.Ia.ongetobjectvalue=function(b,c,d){if(!d)return b.H[c].uid;b=b.H[c];switch(d.tag){case "x":return b.x;case "y":return b.y;case "a":return b.M;case "iv":if(d.clientvaluetag&&(c=a.Fp[b.uid])&&a.Ia.me!==c&&!c.wasRemoved&&c.hasClientState(d.clientvaluetag))return c.getInterpClientState(d.clientvaluetag);d=b.Rb[d.userdata];
return"number"===typeof d?d:0;default:return 0}},this.Ia.oninstancedestroyed=function(b,c,d){var e=b.userdata;b=e.kt;e.xs||(e.xs={});e.xs[c]=d;b&&b.hasOwnProperty(c)&&((d=b[c])&&a.i.Ee(d),delete b[c])},this.i.Vj(function(b){var c,d=b.uid;a.Fp.hasOwnProperty(d)&&delete a.Fp[d];for(c in a.rh)if(a.rh.hasOwnProperty(c)&&a.rh[c]===b){delete a.rh[c];break}a.Hg.hasOwnProperty(d)&&delete a.Hg[d];c=a.Ep.indexOf(b);-1<c&&a.Ep.splice(c,1);c=a.Ln.indexOf(b);-1<c&&a.Ln.splice(c,1);a.Ia.removeObjectId(d)}),this.ml=
new Worker("waker.js"),this.ml.addEventListener("message",function(b){"tick"===b.data&&a.i.mj&&a.i.mb(!0)},!1),this.ml.postMessage(""));this.i.Xr(function(b){h&&a.Ia.isHost()&&(b?a.ml.postMessage("start"):a.ml.postMessage("stop"))});this.i.XF(this)};f.Tw=function(a){a=a.id;return this.rh.hasOwnProperty(a)?this.rh[a]:null};f.hF=function(a){return 0<=this.Ep.indexOf(a)};f.WF=function(){if(h){this.Ia.tick(this.i.Yh);this.GG();var a,b,c;if(this.Ia.isInRoom()&&!this.Ia.isHost())for(a=0,b=this.Ia.registeredObjects.length;a<
b;++a)c=this.Ia.registeredObjects[a],this.IG(c)}};var e=[];f.IG=function(a){a.tick();var b=a.obj,c=a.getCount(),d=a.netvalues,f=a.userdata;f.kt||(f.kt={});var h=f.kt,f=f.xs,g=a.simTime,m,u,x,z,E,B,D,C=d.length;for(m in h)h.hasOwnProperty(m)&&(z=h[m],this.i.Xf(z.uid)||delete h[m]);if(f)for(m in f)f.hasOwnProperty(m)&&f[m]<g-3E3&&delete f[m];for(m=0;m<c;++m)if(u=a.getNetInstAt(m),x=u.nid,f&&f[x]>=g-3E3)e.push(u),h.hasOwnProperty(x)&&(this.i.Ee(h[x]),delete h[x]);else{if(h.hasOwnProperty(x))z=h[x],D=
!1;else{if(z=this.Ia.getPeerByNid(x))this.vq=z.id,this.uq=z.alias;else{if(a.hasOverriddenNids)continue;this.uq=this.vq=""}z=this.i.Jl(b,this.i.Ob.Sa[b.Bw],-1E3,-1E3);h[x]=z;D=!0}if(u.isTimedOut(g))e.push(u),h.hasOwnProperty(x)&&delete h[x],this.i.Ee(z);else{if(this.hF(z))this.RC(z,u,d,g);else for(B=0;B<C;++B)switch(x=u.getInterp(g,B),E=d[B],E.tag){case "x":z.x=x;z.aa();break;case "y":z.y=x;z.aa();break;case "a":z.M=x;z.aa();break;case "iv":E=E.userdata;if(E>z.Rb.length||"number"!==typeof z.Rb[E])break;
z.Rb[E]=x}D&&this.i.trigger(Object.getPrototypeOf(b.Za).F.Sg,z)}}m=0;for(c=e.length;m<c;++m)a.removeNetInstance(e[m]);e.length=0};f.GG=function(){var a=this.Ia.getHostInputArrivalTime(),b,c;b=0;for(c=this.Ln.length;b<c;++b)this.HG(this.Ln[b],a)};a.prototype.Zw=function(a){if(2>this.history.length)return 0;var b=this.history[this.history.length-2],c=this.history[this.history.length-1];switch(a){case "x":return c.x-b.x;case "y":return c.y-b.y;case "a":return c.M-b.M;case "iv":return c.fi[void 0]-b.fi[void 0]}return 0};
a.prototype.Yw=function(a,b,c,d){var e,f,h,g=null,m=null;e=0;for(f=this.history.length;e<f;++e)if(h=this.history[e],h.timestamp<c)g=h;else{e+1<this.history.length&&(m=this.history[e+1]);break}if(g){e=0;switch(a){case "x":e=g.x;break;case "y":e=g.y;break;case "a":e=g.M;break;case "iv":e=g.fi[b]}if(!m)return e;f=e;switch(a){case "x":f=m.x;break;case "y":f=m.y;break;case "a":f=m.M;break;case "iv":f=m.fi[b]}return window.interpNetValue(d,e,f,fb(g.timestamp,m.timestamp,c),!1)}};a.prototype.BC=function(a,
b,c){var d,e,f;d=0;for(e=this.history.length;d<e;++d)switch(f=this.history[d],a){case "x":f.x+=c;break;case "y":f.y+=c;break;case "a":f.M+=c;break;case "iv":f.fi[b]+=c}};var m=[];f.HG=function(b,d){this.Hg.hasOwnProperty(b.uid)||(this.Hg[b.uid]=new a(b));var e=this.Hg[b.uid],f;m.length?(f=m.pop(),f.DF=e):f=new c(e);f.timestamp=d;f.x=b.x;f.y=b.y;f.M=b.M;Ga(f.fi,b.Rb);for(e.history.push(f);0<e.history.length&&e.history[0].timestamp<=d-2E3;)f=e.history.shift(),f.fi.length=0,1E3>m.length&&m.push(f)};
f.RC=function(a,c,d,e){if(this.Hg.hasOwnProperty(a.uid)){var f=this.Hg[a.uid],h,g,m,u,x,z,E,B=d.length,D=bb(0,0,f.Zw("x"),f.Zw("y")),C=!!a.na.isPlatformBehavior;for(h=0;h<B;++h)if(x=d[h],z=x.tag,E=x.userdata,u=x.interp,g=c.getLatestUpdate())if(m=g.data[h],u=f.Yw(z,E,g.timestamp,u),"undefined"!==typeof u){g=0;switch(z){case "x":g=b(u,m,D,C);0!==g&&(a.x+=g,a.aa());break;case "y":g=b(u,m,D,C);0!==g&&(a.y+=g,a.aa());break;case "a":g=kb(u,m,.5)-u;0!==g&&(a.M+=g,a.aa());break;case "iv":m=E;if(m>a.Rb.length||
"number"!==typeof a.Rb[m])break;x.clientvaluetag||(a.Rb[m]=c.getInterp(e,h))}0!==g&&f.BC(z,E,g)}}};f.G=function(){};f.Re=function(){};f.Tb=function(){return{}};f.Yb=function(){};d.prototype.wB=function(){return!0};d.prototype.zB=function(){return!0};d.prototype.xB=function(){return!0};d.prototype.yB=function(){return!0};d.prototype.DB=function(){return!0};d.prototype.AB=function(){return!0};d.prototype.CB=function(){return!0};d.prototype.BB=function(){return!0};d.prototype.pB=function(){return!0};
d.prototype.qB=function(){return!0};d.prototype.rB=function(a){return this.fy===a};d.prototype.QA=function(){return!0};d.prototype.VA=function(){return!0};d.prototype.cB=function(){return!0};d.prototype.uB=function(){return!0};g.F=new d;f.j=function(a,b,c,d){h&&(d=this.Ia.registerObject(a,a.kb,d),1===b?(d.addValue(this.Ia.INTERP_LINEAR,c,"x"),d.addValue(this.Ia.INTERP_LINEAR,c,"y")):2===b?d.addValue(this.Ia.INTERP_ANGULAR,c,"a"):3===b&&(d.addValue(this.Ia.INTERP_LINEAR,c,"x"),d.addValue(this.Ia.INTERP_LINEAR,
c,"y"),d.addValue(this.Ia.INTERP_ANGULAR,c,"a")),this.kv[a]=d)};f.k=function(a,b,c,d,e){if(h&&(a=this.kv[a])){var f=this.Ia.INTERP_NONE;1===d?f=this.Ia.INTERP_LINEAR:2===d&&(f=this.Ia.INTERP_ANGULAR);a.addValue(f,c,"iv",b,e)}};g.da=new function(){};f.B=function(a,b,c,d){if(!h||!this.Ia.isHost())return 0;var e=this.Ia.getPeerById(a);if(!e)return 0;var f=this.Tw(e);if(!f)return 0;a=0;switch(c){case "x":a=f.x;break;case "y":a=f.y;break;case "a":a=f.M}b=this.Ia.getPeerById(b);if(!b||b===e||this.Ia.me===
b)return a;b=2*(b.latency+this.Ia.clientDelay);f=f.uid;if(!this.Hg.hasOwnProperty(f))return a;d=this.Hg[f].Yw(c,0,tb()-b,d);return"undefined"===typeof d?a:d};g.Ea=new function(){}})();function Ed(a){this.i=a}
(function(){function a(a){this.Zb=a;this.xc=!1;this.M=this.speed=this.y=this.x=0;this.opacity=1;this.Oh=this.ok=this.size=this.up=0}function c(){}var b=Ed.prototype;b.wa=function(a){this.Za=a;this.i=a.i};var d=b.wa.prototype;d.ma=function(){this.Aa||(this.Da=new Image,this.Da.Ko=this.Hn,this.lb=null,this.i.tr(this.Da,this.Gn))};d.Tk=function(){this.Aa||(this.lb=null)};d.cn=function(){this.Aa||!this.H.length||this.lb||(this.lb=this.i.la.Hk(this.Da,!0,this.i.Ya,this.In))};d.Ik=function(){this.Aa||this.lb||
!this.i.la||(this.lb=this.i.la.Hk(this.Da,!0,this.i.Ya,this.In))};d.Nn=function(){this.Aa||this.H.length||!this.lb||(this.i.la.deleteTexture(this.lb),this.lb=null)};d.jn=function(a){a.drawImage(this.Da,0,0)};a.prototype.init=function(){var a=this.Zb;this.x=a.x-a.Br/2+Math.random()*a.Br;this.y=a.y-a.Cr/2+Math.random()*a.Cr;this.speed=a.Dp-a.Xq/2+Math.random()*a.Xq;this.M=a.M-a.Yq/2+Math.random()*a.Yq;this.opacity=a.it;this.size=a.Cp-a.Wq/2+Math.random()*a.Wq;this.up=a.Ys-a.vp/2+Math.random()*a.vp;
this.Oh=this.ok=0};a.prototype.mb=function(a){var b=this.Zb;this.x+=Math.cos(this.M)*this.speed*a;this.y+=Math.sin(this.M)*this.speed*a;this.y+=this.ok*a;this.speed+=b.ne*a;this.size+=this.up*a;this.ok+=b.sd*a;this.Oh+=a;1>this.size?this.xc=!1:(0!==b.Mm&&(this.M+=Math.random()*b.Mm*a-b.Mm*a/2),0!==b.Om&&(this.speed+=Math.random()*b.Om*a-b.Om*a/2),0!==b.Nm&&(this.opacity+=Math.random()*b.Nm*a-b.Nm*a/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=b.fk&&this.Oh>=b.timeout&&(this.xc=
!1),2===b.fk&&0>=this.speed&&(this.xc=!1))};a.prototype.Yd=function(a){var b=this.Zb.opacity*this.opacity;if(0!==b){0===this.Zb.fk&&(b*=1-this.Oh/this.Zb.timeout);a.globalAlpha=b;var b=this.x-this.size/2,c=this.y-this.size/2;this.Zb.i.ze&&(b=b+.5|0,c=c+.5|0);a.drawImage(this.Zb.type.Da,b,c,this.size,this.size)}};a.prototype.Bc=function(a){var b=this.Zb.opacity*this.opacity;0===this.Zb.fk&&(b*=1-this.Oh/this.Zb.timeout);var c=this.size,d=c*this.Zb.Gy,g=this.x-c/2,k=this.y-c/2;this.Zb.i.ze&&(g=g+.5|
0,k=k+.5|0);1>d||0===b||(d<a.wF||d>a.Wt?(a.xh(b),a.Wk(g,k,g+c,k,g+c,k+c,g,k+c)):a.OF(this.x,this.y,d,b))};a.prototype.left=function(){return this.x-this.size/2};a.prototype.right=function(){return this.x+this.size/2};a.prototype.top=function(){return this.y-this.size/2};a.prototype.bottom=function(){return this.y+this.size/2};b.ta=function(a){this.type=a;this.i=a.i};var d=b.ta.prototype,g=[];d.ma=function(){var a=this.U;this.Fq=a[0];this.Yq=Pa(a[1]);this.cl=a[2];this.Uu=!0;this.Dp=a[3];this.Cp=a[4];
this.it=a[5]/100;this.Ys=a[6];this.Br=a[7];this.Cr=a[8];this.Xq=a[9];this.Wq=a[10];this.vp=a[11];this.ne=a[12];this.sd=a[13];this.Mm=a[14];this.Om=a[15];this.Nm=a[16];this.fk=a[17];this.timeout=a[18];this.Fj=0;this.Gy=1;this.qq=this.x;this.sq=this.y;this.rq=this.x;this.pq=this.y;this.yC(function(a){a.Lb.set(a.qq,a.sq,a.rq,a.pq);a.Mb.bl(a.Lb);a.zo=!1;a.ov();a.Oz()});this.wd||(this.ee=[]);this.i.Gi(this);this.type.Ik();if(1===this.cl)for(a=0;a<this.Fq;a++)this.Zr().opacity=0;this.ip=!0};d.Tb=function(){var a=
{r:this.Fq,sc:this.Yq,st:this.cl,s:this.Uu,isp:this.Dp,isz:this.Cp,io:this.it,gr:this.Ys,xr:this.Br,yr:this.Cr,spr:this.Xq,szr:this.Wq,grnd:this.vp,acc:this.ne,g:this.sd,lar:this.Mm,lsr:this.Om,lor:this.Nm,dm:this.fk,to:this.timeout,pcc:this.Fj,ft:this.ip,p:[]},b,c,d,g=a.p;b=0;for(c=this.ee.length;b<c;b++)d=this.ee[b],g.push([d.x,d.y,d.speed,d.M,d.opacity,d.up,d.size,d.ok,d.Oh]);return a};d.Yb=function(a){this.Fq=a.r;this.Yq=a.sc;this.cl=a.st;this.Uu=a.s;this.Dp=a.isp;this.Cp=a.isz;this.it=a.io;this.Ys=
a.gr;this.Br=a.xr;this.Cr=a.yr;this.Xq=a.spr;this.Wq=a.szr;this.vp=a.grnd;this.ne=a.acc;this.sd=a.g;this.Mm=a.lar;this.Om=a.lsr;this.Nm=a.lor;this.fk=a.dm;this.timeout=a.to;this.Fj=a.pcc;this.ip=a.ft;g.push.apply(g,this.ee);H(this.ee);var b,c,d,l=a.p;a=0;for(b=l.length;a<b;a++)c=this.Zr(),d=l[a],c.x=d[0],c.y=d[1],c.speed=d[2],c.M=d[3],c.opacity=d[4],c.up=d[5],c.size=d[6],c.ok=d[7],c.Oh=d[8]};d.Re=function(){g.push.apply(g,this.ee);H(this.ee)};d.Zr=function(){var b;g.length?(b=g.pop(),b.Zb=this):b=
new a(this);this.ee.push(b);b.xc=!0;return b};d.mb=function(){var a=this.i.Cg(this),b,c,d,l;if(0===this.cl&&this.Uu)for(this.Fj+=a*this.Fq,c=wa(this.Fj),this.Fj-=c,b=0;b<c;b++)d=this.Zr(),d.init();this.qq=this.x;this.sq=this.y;this.rq=this.x;this.pq=this.y;l=b=0;for(c=this.ee.length;b<c;b++)d=this.ee[b],this.ee[l]=d,this.i.Ua=!0,1===this.cl&&this.ip&&d.init(),d.mb(a),d.xc?(d.left()<this.qq&&(this.qq=d.left()),d.right()>this.rq&&(this.rq=d.right()),d.top()<this.sq&&(this.sq=d.top()),d.bottom()>this.pq&&
(this.pq=d.bottom()),l++):g.push(d);Fa(this.ee,l);this.aa();this.ip=!1;1===this.cl&&0===this.ee.length&&this.i.Ee(this)};d.Yd=function(a){var b,c,d,g=this.O;b=0;for(c=this.ee.length;b<c;b++)d=this.ee[b],d.right()>=g.qb&&d.bottom()>=g.rb&&d.left()<=g.Fb&&d.top()<=g.Eb&&d.Yd(a)};d.Bc=function(a){this.Gy=this.O.Kd();a.ie(this.type.lb);var b,c,d,g=this.O;b=0;for(c=this.ee.length;b<c;b++)d=this.ee[b],d.right()>=g.qb&&d.bottom()>=g.rb&&d.left()<=g.Fb&&d.top()<=g.Eb&&d.Bc(a)};b.F=new function(){};c.prototype.WB=
function(a){this.Dp=a};c.prototype.VB=function(a){this.Cp=a};b.da=new c;b.Ea=new function(){}})();function id(a){this.i=a}
(function(){function a(){if(0===this.ws.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.dl?b.drawImage(this.Da,this.Rk,this.Sk,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Da,0,0,this.width,this.height);this.ws=a.toDataURL("image/png")}return this.ws}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;p.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function g(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var g=p.length?p.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=e;a[f]=g}}function f(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function h(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return r=a[b][2],!0;r=-2;return!1}function e(){}var m=id.prototype;m.wa=function(a){this.Za=a;this.i=a.i};var l=m.wa.prototype;l.ma=function(){if(!this.Aa){var b,c,d,e,f,g,h,k,l;this.Rf=[];this.hm=!1;b=0;for(c=this.He.length;b<c;b++){f=this.He[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Eu=f[3];
h.Fu=f[4];h.Hy=f[5];h.kb=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],k={},k.Gn=g[0],k.Hn=g[1],k.Rk=g[2],k.Sk=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.te=g[7],k.ue=g[8],k.dt=g[9],k.yq=g[10],k.Iy=g[11],k.dl=0!==k.width,k.ws="",k.IH=a,l={left:0,top:0,right:1,bottom:1},k.Su=l,k.lb=null,(l=this.i.gE(g[0]))?k.Da=l:(k.Da=new Image,k.Da.SC=g[0],k.Da.Ko=g[1],k.Da.IC=null,this.i.tr(k.Da,g[0])),h.frames.push(k),this.Rf.push(k);this.He[b]=h}}};l.Mz=function(){var a,b,c;a=0;for(b=this.H.length;a<
b;a++)c=this.H[a],c.No=c.od.lb};l.Tk=function(){if(!this.Aa){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],c.Da.IC=null,c.lb=null;this.hm=!1;this.Mz()}};l.cn=function(){if(!this.Aa&&this.H.length){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],c.lb=this.i.la.Hk(c.Da,!1,this.i.Ya,c.Iy);this.Mz()}};l.Ik=function(){if(!this.Aa&&!this.hm&&this.i.la){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],c.lb=this.i.la.Hk(c.Da,!1,this.i.Ya,c.Iy);this.hm=!0}};l.Nn=function(){if(!this.Aa&&
!this.H.length&&this.hm){var a,b,c;a=0;for(b=this.Rf.length;a<b;++a)c=this.Rf[a],this.i.la.deleteTexture(c.lb),c.lb=null;this.hm=!1}};var k=[];l.jn=function(a){var b,c,d;H(k);b=0;for(c=this.Rf.length;b<c;++b)d=this.Rf[b].Da,-1===k.indexOf(d)&&(a.drawImage(d,0,0),k.push(d))};m.ta=function(a){this.type=a;this.i=a.i;a=this.type.He[0].frames[0].yq;this.wd?this.ib.vn(a):this.ib=new Eb(a)};var n=m.ta.prototype;n.ma=function(){this.visible=0===this.U[0];this.gt=this.tt=!1;this.uf=0!==this.U[3];this.Pb=this.Sw(this.U[1])||
this.type.He[0];this.za=this.U[2];0>this.za&&(this.za=0);this.za>=this.Pb.frames.length&&(this.za=this.Pb.frames.length-1);var a=this.Pb.frames[this.za];this.ib.vn(a.yq);this.te=a.te;this.ue=a.ue;this.bk=this.Pb.speed;this.Vh=this.Pb.Fu;1===this.type.He.length&&1===this.type.He[0].frames.length||0===this.bk||(this.i.Gi(this),this.tt=!0);this.wd?this.ug.reset():this.ug=new Bb;this.dh=this.ug.Va;this.Ri=!0;this.Vg=0;this.Qi=!0;this.Go=this.iw="";this.uw=0;this.ns=-1;this.type.Ik();var b,c,d,e,f,g,h,
a=0;for(b=this.type.He.length;a<b;a++)for(e=this.type.He[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Da.width,f.height=f.Da.height),f.dl&&(h=f.Da,g=f.Su,g.left=f.Rk/h.width,g.top=f.Sk/h.height,g.right=(f.Rk+f.width)/h.width,g.bottom=(f.Sk+f.height)/h.height,0===f.Rk&&0===f.Sk&&f.width===h.width&&f.height===h.height&&(f.dl=!1));this.od=this.Pb.frames[this.za];this.No=this.od.lb};n.Tb=function(){var a={a:this.Pb.kb,f:this.za,cas:this.bk,fs:this.dh,ar:this.Vg,at:this.ug.Va,
rt:this.Vh};this.Ri||(a.ap=this.Ri);this.Qi||(a.af=this.Qi);return a};n.Yb=function(a){var b=this.oE(a.a);b&&(this.Pb=b);this.za=a.f;0>this.za&&(this.za=0);this.za>=this.Pb.frames.length&&(this.za=this.Pb.frames.length-1);this.bk=a.cas;this.dh=a.fs;this.Vg=a.ar;this.ug.reset();this.ug.Va=a.at;this.Ri=a.hasOwnProperty("ap")?a.ap:!0;this.Qi=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.Vh=a.rt:this.Vh=this.Pb.Fu;this.od=this.Pb.frames[this.za];this.No=this.od.lb;this.ib.vn(this.od.yq);
this.te=this.od.te;this.ue=this.od.ue};n.cs=function(a){this.za=a?0:this.Pb.frames.length-1;this.Ri=!1;this.iw=this.Pb.name;this.gt=!0;this.i.trigger(id.prototype.F.LA,this);this.i.trigger(id.prototype.F.KA,this);this.gt=!1;this.Vg=0};n.j=function(){return this.ug.Va};n.mb=function(){this.ug.add(this.i.Cg(this));this.Go.length&&this.Fw();0<=this.ns&&this.$C();var a=this.ug.Va,b=this.Pb,c=b.frames[this.za],d=c.duration/this.bk;this.Ri&&a>=this.dh+d&&(this.Qi?this.za++:this.za--,this.dh+=d,this.za>=
b.frames.length&&(b.Hy?(this.Qi=!1,this.za=b.frames.length-2):b.loop?this.za=this.Vh:(this.Vg++,this.Vg>=b.Eu?this.cs(!1):this.za=this.Vh)),0>this.za&&(b.Hy?(this.za=1,this.Qi=!0,b.loop||(this.Vg++,this.Vg>=b.Eu&&this.cs(!0))):b.loop?this.za=this.Vh:(this.Vg++,this.Vg>=b.Eu?this.cs(!0):this.za=this.Vh)),0>this.za?this.za=0:this.za>=b.frames.length&&(this.za=b.frames.length-1),a>this.dh+b.frames[this.za].duration/this.bk&&(this.dh=a),a=b.frames[this.za],this.Uj(c,a),this.i.Ua=!0)};n.Sw=function(a){var b,
c,d;b=0;for(c=this.type.He.length;b<c;b++)if(d=this.type.He[b],Rb(d.name,a))return d;return null};n.oE=function(a){var b,c,d;b=0;for(c=this.type.He.length;b<c;b++)if(d=this.type.He[b],d.kb===a)return d;return null};n.Fw=function(){var a=this.Pb.frames[this.za],b=this.Sw(this.Go);this.Go="";!b||Rb(b.name,this.Pb.name)&&this.Ri||(this.Pb=b,this.bk=b.speed,this.Vh=b.Fu,0>this.za&&(this.za=0),this.za>=this.Pb.frames.length&&(this.za=this.Pb.frames.length-1),1===this.uw&&(this.za=0),this.Ri=!0,this.dh=
this.ug.Va,this.Qi=!0,this.Uj(a,this.Pb.frames[this.za]),this.i.Ua=!0)};n.$C=function(){var a=this.Pb.frames[this.za],b=this.za;this.za=wa(this.ns);0>this.za&&(this.za=0);this.za>=this.Pb.frames.length&&(this.za=this.Pb.frames.length-1);b!==this.za&&(this.Uj(a,this.Pb.frames[this.za]),this.dh=this.ug.Va,this.i.Ua=!0);this.ns=-1};n.Uj=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.te=b.te;this.ue=b.ue;this.ib.vn(b.yq);this.aa();this.od=
b;this.No=b.lb;c=0;for(d=this.Ka.length;c<d;c++)e=this.Ka[c],e.IF&&e.IF(a,b);this.i.trigger(id.prototype.F.Uj,this)};n.Yd=function(a){a.globalAlpha=this.opacity;var b=this.od,c=b.dl,d=b.Da,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.M&&0<=g&&0<=h)e-=this.te*g,f-=this.ue*h,this.i.ze&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Rk,b.Sk,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.i.ze&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,l=0<h?1:-1;a.translate(e,
f);1===k&&1===l||a.scale(k,l);a.rotate(this.M*k*l);e=0-this.te*sa(g);f=0-this.ue*sa(h);c?a.drawImage(d,b.Rk,b.Sk,b.width,b.height,e,f,sa(g),sa(h)):a.drawImage(d,e,f,sa(g),sa(h));a.restore()}};n.Xh=function(a){this.Bc(a)};n.Bc=function(a){a.ie(this.No);a.xh(this.opacity);var b=this.od,c=this.Mb;if(this.i.ze){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.dl?a.dg(c.Wc+d,c.Xc+e,c.Ud+d,c.Vd+e,c.Fd+d,c.Gd+e,c.Dd+d,c.Ed+e,b.Su):a.Wk(c.Wc+d,c.Xc+e,c.Ud+d,c.Vd+e,c.Fd+d,c.Gd+e,c.Dd+d,c.Ed+e)}else b.dl?
a.dg(c.Wc,c.Xc,c.Ud,c.Vd,c.Fd,c.Gd,c.Dd,c.Ed,b.Su):a.Wk(c.Wc,c.Xc,c.Ud,c.Vd,c.Fd,c.Gd,c.Dd,c.Ed)};n.uE=function(a){var b=this.od,c,d;c=0;for(d=b.dt.length;c<d;c++)if(Rb(a,b.dt[c][0]))return c;return-1};n.zf=function(a,b){var c=this.od,d=c.dt,e;oa(a)?e=this.uE(a):e=a-1;e=wa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.te)*this.width,d=d[e][2],d=(d-c.ue)*this.height,c=Math.cos(this.M);e=Math.sin(this.M);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var p=[],r=-2,v=[];
c.prototype.WA=function(a){if(!a)return!1;var c=this.i,d=c.Yl(),e=d.type,k=null;d.na.collmemory?k=d.na.collmemory:(k={},d.na.collmemory=k);d.na.spriteCreatedDestroyCallback||(d.na.spriteCreatedDestroyCallback=!0,c.Vj(function(a){var c=d.na.collmemory;a=a.uid;var e,f;for(e in c)c.hasOwnProperty(e)&&(f=c[e],f[0]===a||f[1]===a)&&(b(c[e]),delete c[e])}));var l=e.La(),m=a.La(),l=l.Jd(),q,n,u,x,p,z,t,S=this.i.jf,J=S-1,M=c.Ec().bd;for(n=0;n<l.length;n++){u=l[n];m.$a?(u.ab(),this.i.Ms(u.O,a,u.Lb,v),q=v):
q=m.Jd();for(x=0;x<q.length;x++)p=q[x],c.Rd(u,p)||c.MC(u,p)?(z=h(k,u,p),z=!z||r<J,g(k,u,p,S),z&&(c.nn(M.Xb),z=e.La(),t=a.La(),z.$a=!1,t.$a=!1,e===a?(z.H.length=2,z.H[0]=u,z.H[1]=p,e.Ie()):(z.H.length=1,t.H.length=1,z.H[0]=u,t.H[0]=p,e.Ie(),a.Ie()),M.Gu(),c.wi(M.Xb))):f(k,u,p);H(v)}return!1};var t=null,q=new ca,u=!1,x=[],z=new Aa(0,0,0,0);l.finish=function(a){if(u){if(a){var b=this.i.Ec().bd.ff;a=t.La();var c=q.kg(),d,e;if(a.$a){a.$a=!1;H(a.H);d=0;for(e=c.length;d<e;++d)a.H[d]=c[d];if(b)for(H(a.Ra),
d=0,e=t.H.length;d<e;++d)c=t.H[d],q.contains(c)||a.Ra.push(c)}else if(b)for(b=a.H.length,d=0,e=c.length;d<e;++d)a.H[b+d]=c[d],La(a.Ra,c[d]);else Ga(a.H,c);t.Ie()}q.clear();u=!1}};c.prototype.DA=function(a){if(a){var b=!1,c,d,e,f=this.i.Yl(),g=f.type,f=f.Gp;c=a.La();d=this.i.Ec().bd.ff;var h;c.$a?(this.ab(),z.ak(this.Lb),z.offset(0,0),this.i.Ms(this.O,a,z,x),h=x):h=d?this.i.eF()&&!c.Ra.length&&c.H.length?c.H:c.Ra:c.H;t=a;u=g!==a&&!f;c=0;for(d=h.length;c<d;c++)if(e=h[c],this.i.Rd(this,e)){b=!0;if(f)break;
g!==a&&q.add(e)}H(x);a=b}else a=!1;return a};c.prototype.KA=function(a){return Rb(this.iw,a)};c.prototype.LA=function(){return!0};c.prototype.Uj=function(){return!0};m.F=new c;e.prototype.fC=function(a,b,c){if(a&&b&&(b=this.i.Jl(a,b,this.zf(c,!0),this.zf(c,!1)))){"undefined"!==typeof b.M&&(b.M=this.M,b.aa());this.i.cf++;var d,e,f;this.i.trigger(Object.getPrototypeOf(a.Za).F.Sg,b);if(b.Md)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.i.trigger(Object.getPrototypeOf(f.type.Za).F.Sg,f);this.i.cf--;
d=this.i.rE();c=!1;if(la(d.na.Spawn_LastExec)||d.na.Spawn_LastExec<this.i.bj)c=!0,d.na.Spawn_LastExec=this.i.bj;if(a!=this.type&&(a=a.La(),a.$a=!1,c?(H(a.H),a.H[0]=b):a.H.push(b),b.Md))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.La(),a.$a=!1,c?(H(a.H),a.H[0]=f):a.H.push(f)}};e.prototype.RB=function(a,b){this.Go=a;this.uw=b;this.tt||(this.i.Gi(this),this.tt=!0);this.gt||this.Fw()};e.prototype.ZB=function(a){a=sa(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.aa())};e.prototype.TB=
function(a){this.uf!==(0!==a)&&((this.uf=0!==a)?this.aa():(this.tf.right>=this.tf.left&&this.type.Hl.update(this,this.tf,null),this.tf.set(0,0,-1,-1)))};m.da=new e;m.Ea=new function(){}})();function Fd(a){this.i=a}
(function(){function a(){return m.length?m.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)m.push(a[b]);H(a)}function b(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function d(){}function g(){}var f=Fd.prototype;f.ma=function(){f.da.Zv=function(a){this.width!==a&&(this.width=a,this.Fi=!0,this.aa())}};f.wa=function(a){this.Za=a;this.i=a.i};var h=f.wa.prototype;h.ma=function(){};h.Tk=function(){if(!this.Aa){var a,b,c;a=0;for(b=this.H.length;a<b;a++)c=this.H[a],
c.Gg=null,c.Aj=null,c.Qe=null}};f.ta=function(a){this.type=a;this.i=a.i;this.wd?H(this.hi):this.hi=[];this.Fi=!0};h=f.ta.prototype;h.ma=function(){this.text=this.U[0];this.visible=0===this.U[1];this.font=this.U[2];this.color=this.U[3];this.xp=this.U[4];this.rr=this.U[5];this.sv=0===this.U[7];this.Kt=this.nh=this.width;this.mh=this.height;this.Mt=this.U[8];this.lp=this.ik="";this.vz=this.wz=this.ln=0;this.LF();this.Qe=this.Aj=this.Gg=null;this.hy=!1;this.Km=this.i.jf;this.wd?this.xi.set(0,0,1,1):this.xi=
new Aa(0,0,1,1);this.i.la&&this.i.Gi(this)};h.LF=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.ln=parseInt(a[b].substr(0,a[b].length-2));this.xu=Math.ceil(this.ln/72*96)+4;0<b&&(this.lp=a[b-1]);this.ik=a[b+1];for(b+=2;b<a.length;b++)this.ik+=" "+a[b];break}};h.Tb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.xp,va:this.rr,wr:this.sv,lho:this.Mt,fn:this.ik,fs:this.lp,ps:this.ln,pxh:this.xu,tw:this.wz,th:this.vz,lrt:this.Km}};
h.Yb=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.xp=a.ha;this.rr=a.va;this.sv=a.wr;this.Mt=a.lho;this.ik=a.fn;this.lp=a.fs;this.ln=a.ps;this.xu=a.pxh;this.wz=a.tw;this.vz=a.th;this.Km=a.lrt;this.Fi=!0;this.Kt=this.nh=this.width;this.mh=this.height};h.mb=function(){if(this.i.la&&this.Qe&&300<=this.i.jf-this.Km){var a=this.O;this.ab();var b=this.Lb;if(b.right<a.qb||b.bottom<a.rb||b.left>a.Fb||b.top>a.Eb)this.i.la.deleteTexture(this.Qe),this.Gg=this.Aj=this.Qe=null}};h.Re=function(){this.Gg=
this.Aj=null;this.i.la&&this.Qe&&this.i.la.deleteTexture(this.Qe);this.Qe=null};h.j=function(){this.font=this.lp+" "+this.ln.toString()+"pt "+this.ik;this.Fi=!0;this.i.Ua=!0};h.Yd=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.O.Kd()),a.save(),a.scale(c,c));if(this.Fi||this.width!==this.Kt)this.type.Za.pC(this.text,this.hi,a,this.width,this.sv),this.Fi=!1,this.Kt=this.width;this.ab();var c=b?0:this.Mb.Wc,d=b?0:
this.Mb.Xc;this.i.ze&&(c=c+.5|0,d=d+.5|0);0===this.M||b||(a.save(),a.translate(c,d),a.rotate(this.M),d=c=0);var e=d+this.height,f=this.xu,f=f+this.Mt,g,h;1===this.rr?d+=Math.max(this.height/2-this.hi.length*f/2,0):2===this.rr&&(d+=Math.max(this.height-this.hi.length*f-2,0));for(h=0;h<this.hi.length&&!(g=c,1===this.xp?g=c+(this.width-this.hi[h].width)/2:2===this.xp&&(g=c+(this.width-this.hi[h].width)),a.fillText(this.hi[h].text,g,d),d+=f,d>=e-f);h++);(0!==this.M||b)&&a.restore();this.Km=this.i.jf};
h.Bc=function(a){if(!(1>this.width||1>this.height)){var b=this.Fi||this.hy;this.hy=!1;var c=this.O.Kd(),d=this.O.Vb(),e=this.xi,f=c*this.width,g=c*this.height,h=Math.ceil(f),m=Math.ceil(g),x=Math.abs(h),z=Math.abs(m),E=this.i.Ha/2,B=this.i.Ga/2;this.Aj||(this.Gg=document.createElement("canvas"),this.Gg.width=x,this.Gg.height=z,this.nh=x,this.mh=z,b=!0,this.Aj=this.Gg.getContext("2d"));if(x!==this.nh||z!==this.mh)this.Gg.width=x,this.Gg.height=z,this.Qe&&(a.deleteTexture(this.Qe),this.Qe=null),b=!0;
b&&(this.Aj.clearRect(0,0,x,z),this.Yd(this.Aj,!0),this.Qe||(this.Qe=a.Ke(x,z,this.i.Ya,this.i.hh)),a.Rz(this.Gg,this.Qe,this.i.hh));this.nh=x;this.mh=z;a.ie(this.Qe);a.xh(this.opacity);a.If();a.translate(-E,-B);a.kf();var D=this.Mb,b=this.O.Bb(D.Wc,D.Xc,!0,!0),x=this.O.Bb(D.Wc,D.Xc,!1,!0),z=this.O.Bb(D.Ud,D.Vd,!0,!0),E=this.O.Bb(D.Ud,D.Vd,!1,!0),B=this.O.Bb(D.Fd,D.Gd,!0,!0),C=this.O.Bb(D.Fd,D.Gd,!1,!0),y=this.O.Bb(D.Dd,D.Ed,!0,!0),D=this.O.Bb(D.Dd,D.Ed,!1,!0);if(this.i.ze||0===this.M&&0===d)var w=
(b+.5|0)-b,F=(x+.5|0)-x,b=b+w,x=x+F,z=z+w,E=E+F,B=B+w,C=C+F,y=y+w,D=D+F;0===this.M&&0===d?(z=b+h,E=x,B=z,C=x+m,y=b,D=C,e.right=1,e.bottom=1):(e.right=f/h,e.bottom=g/m);a.dg(b,x,z,E,B,C,y,D,e);a.If();a.scale(c,c);a.Iq(-this.O.Vb());a.translate((this.O.qb+this.O.Fb)/-2,(this.O.rb+this.O.Eb)/-2);a.kf();this.Km=this.i.jf}};var e=[];f.jC=function(a){H(e);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(e.push(b),b=""),e.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),
d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));e.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&e.push(b)};var m=[];f.pC=function(b,d,e,f,g){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var h=e.measureText(b).width;if(h<=f){c(d);d.push(a());d[0].text=b;d[0].width=h;return}}this.qC(b,d,e,f,g)}else c(d)};f.qC=function(c,d,f,g,h){h&&(this.jC(c),c=e);var v="",t,q,u,x=0;for(u=0;u<c.length;u++)"\n"===c[u]?(x>=d.length&&d.push(a()),v=b(v),q=d[x],q.text=v,q.width=
f.measureText(v).width,x++,v=""):(t=v,v+=c[u],q=f.measureText(v).width,q>=g&&(x>=d.length&&d.push(a()),t=b(t),q=d[x],q.text=t,q.width=f.measureText(t).width,x++,v=c[u],h||" "!==v||(v="")));v.length&&(x>=d.length&&d.push(a()),v=b(v),q=d[x],q.text=v,q.width=f.measureText(v).width,x++);for(u=x;u<d.length;u++)m.push(d[u]);d.length=x};f.F=new function(){};d.prototype.Nr=function(a){na(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Fi=!0,this.i.Ua=!0)};d.prototype.Zz=
function(a){na(a)&&(a=Math.round(1E10*a)/1E10);if(a=a.toString())this.text+=a,this.Fi=!0,this.i.Ua=!0};f.da=new d;g.prototype.Text=function(a){a.hd(this.text)};f.Ea=new g})();function Gd(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=Gd.prototype;d.wa=function(a){this.Za=a;this.i=a.i};d.wa.prototype.ma=function(){};d.ta=function(a){this.type=a;this.i=a.i};var g=d.ta.prototype,f="text password email number tel url".split(" ");-1<navigator.userAgent.indexOf("MSIE 9")&&(f[2]="text",f[3]="text",f[4]="text",f[5]="text");g.ma=function(){if(this.i.eb)fa("[Construct 2] Textbox plugin not supported on this platform - the object will not be created");else{6===this.U[7]?(this.Z=
document.createElement("textarea"),jQuery(this.Z).css("resize","none")):(this.Z=document.createElement("input"),this.Z.type=f[this.U[7]]);this.Z.id=this.U[9];jQuery(this.Z).appendTo(this.i.$j?this.i.$j:"body");this.Z.autocomplete="off";this.Z.value=this.U[0];this.Z.placeholder=this.U[1];this.Z.title=this.U[2];this.Z.disabled=0===this.U[4];this.Z.readOnly=1===this.U[5];this.Z.spellcheck=1===this.U[6];this.ds=0!==this.U[8];this.qe=!1;0===this.U[3]&&(jQuery(this.Z).hide(),this.visible=!1,this.qe=!0);
var a=function(a){return function(){a.i.trigger(Gd.prototype.F.HB,a)}}(this);this.Z.oninput=a;-1!==navigator.userAgent.indexOf("MSIE")&&(this.Z.oncut=a);this.Z.onclick=function(a){return function(b){b.stopPropagation();a.i.Sb=!0;a.i.trigger(Gd.prototype.F.bo,a);a.i.Sb=!1}}(this);this.Z.ondblclick=function(a){return function(b){b.stopPropagation();a.i.Sb=!0;a.i.trigger(Gd.prototype.F.XA,a);a.i.Sb=!1}}(this);this.Z.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.Z.addEventListener("touchmove",
function(a){a.stopPropagation()},!1);this.Z.addEventListener("touchend",function(a){a.stopPropagation()},!1);jQuery(this.Z).mousedown(function(a){a.stopPropagation()});jQuery(this.Z).mouseup(function(a){a.stopPropagation()});jQuery(this.Z).keydown(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});jQuery(this.Z).keyup(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});this.Im=this.Jm=this.Dm=this.Gm=this.Hm=this.Em=0;this.On(!0);this.i.Gi(this)}};g.Tb=function(){return{text:this.Z.value,
placeholder:this.Z.placeholder,tooltip:this.Z.title,disabled:!!this.Z.disabled,readonly:!!this.Z.readOnly,spellcheck:!!this.Z.spellcheck}};g.Yb=function(a){this.Z.value=a.text;this.Z.placeholder=a.placeholder;this.Z.title=a.tooltip;this.Z.disabled=a.disabled;this.Z.readOnly=a.readonly;this.Z.spellcheck=a.spellcheck};g.Re=function(){this.i.eb||(jQuery(this.Z).remove(),this.Z=null)};g.mb=function(){this.On()};g.On=function(a){if(!this.i.eb){var b=this.O.Bb(this.x,this.y,!0),c=this.O.Bb(this.x,this.y,
!1),d=this.O.Bb(this.x+this.width,this.y+this.height,!0),f=this.O.Bb(this.x+this.width,this.y+this.height,!1),g=this.i.width/this.i.devicePixelRatio,p=this.i.height/this.i.devicePixelRatio;!this.visible||!this.O.visible||0>=d||0>=f||b>=g||c>=p?(this.qe||jQuery(this.Z).hide(),this.qe=!0):(1>b&&(b=1),1>c&&(c=1),d>=g&&(d=g-1),f>=p&&(f=p-1),g=window.innerWidth,p=window.innerHeight,a||this.Em!==b||this.Hm!==c||this.Gm!==d||this.Dm!==f||this.Jm!==g||this.Im!==p?(this.Em=b,this.Hm=c,this.Gm=d,this.Dm=f,
this.Jm=g,this.Im=p,this.qe&&(jQuery(this.Z).show(),this.qe=!1),a=Math.round(b)+jQuery(this.i.canvas).offset().left,g=Math.round(c)+jQuery(this.i.canvas).offset().top,jQuery(this.Z).css("position","absolute"),jQuery(this.Z).offset({left:a,top:g}),jQuery(this.Z).width(Math.round(d-b)),jQuery(this.Z).height(Math.round(f-c)),this.ds&&jQuery(this.Z).css("font-size",this.O.Kd(!0)/this.i.devicePixelRatio-.2+"em")):this.qe&&(jQuery(this.Z).show(),this.qe=!1))}};g.Yd=function(){};g.Bc=function(){};a.prototype.HB=
function(){return!0};a.prototype.bo=function(){return!0};a.prototype.XA=function(){return!0};d.F=new a;c.prototype.Nr=function(a){this.i.eb||(this.Z.value=a)};c.prototype.ko=function(a){this.i.eb||(this.visible=0!==a)};c.prototype.Qf=function(a){this.i.eb||(this.Z.disabled=0===a)};d.da=new c;b.prototype.Text=function(a){this.i.eb?a.hd(""):a.hd(this.Z.value)};d.Ea=new b})();function Hd(a){this.i=a}
(function(){var a=Hd.prototype;a.wa=function(a){this.Za=a;this.i=a.i};var c=a.wa.prototype;c.ma=function(){this.Aa||(this.Da=new Image,this.Da.Ko=this.Hn,this.i.tr(this.Da,this.Gn),this.lb=this.pattern=null)};c.Tk=function(){this.Aa||(this.lb=null)};c.cn=function(){if(!this.Aa&&this.H.length){this.lb||(this.lb=this.i.la.Hk(this.Da,!0,this.i.Ya,this.In));var a,c;a=0;for(c=this.H.length;a<c;a++)this.H[a].lb=this.lb}};c.Ik=function(){this.Aa||this.lb||!this.i.la||(this.lb=this.i.la.Hk(this.Da,!0,this.i.Ya,
this.In))};c.Nn=function(){this.Aa||this.H.length||!this.lb||(this.i.la.deleteTexture(this.lb),this.lb=null)};c.jn=function(a){a.drawImage(this.Da,0,0)};a.ta=function(a){this.type=a;this.i=a.i};c=a.ta.prototype;c.ma=function(){this.visible=0===this.U[0];this.xi=new Aa(0,0,0,0);this.ix=!1;this.Da=this.type.Da;this.i.la?(this.type.Ik(),this.lb=this.type.lb):(this.type.pattern||(this.type.pattern=this.i.Ab.createPattern(this.type.Da,"repeat")),this.pattern=this.type.pattern)};c.qf=function(){this.ix=
!1;this.Da=this.type.Da};c.Re=function(){this.i.la&&this.ix&&this.lb&&(this.i.la.deleteTexture(this.lb),this.lb=null)};c.Yd=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,g=this.y;this.i.ze&&(c=Math.round(c),g=Math.round(g));var f=-(this.te*this.width),h=-(this.ue*this.height),e=f%this.Da.width,m=h%this.Da.height;0>e&&(e+=this.Da.width);0>m&&(m+=this.Da.height);a.translate(c,g);a.rotate(this.M);a.translate(e,m);a.fillRect(f-e,h-m,this.width,this.height);a.restore()};
c.Xh=function(a){this.Bc(a)};c.Bc=function(a){a.ie(this.lb);a.xh(this.opacity);var c=this.xi;c.right=this.width/this.Da.width;c.bottom=this.height/this.Da.height;var g=this.Mb;if(this.i.ze){var f=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;a.dg(g.Wc+f,g.Xc+h,g.Ud+f,g.Vd+h,g.Fd+f,g.Gd+h,g.Dd+f,g.Ed+h,c)}else a.dg(g.Wc,g.Xc,g.Ud,g.Vd,g.Fd,g.Gd,g.Dd,g.Ed,c)};a.F=new function(){};a.da=new function(){};a.Ea=new function(){}})();function Id(a){this.i=a}
(function(){function a(){this.ir=this.id=-1;this.jw=this.gk=this.Un=this.jm=!1;this.Db=new Aa(0,0,0,0)}function c(a){1E4>p.length&&p.push(a)}function b(){this.id=-1;this.Db=new Aa(0,0,0,0);this.fe=null}function d(a){1E4>r.length&&r.push(a)}function g(a,b,c){var d;return v.length?(d=v.pop(),d.n=a,d.x=b,d.y=c,d.left=d.x*d.n.Pc*d.n.Td,d.top=d.y*d.n.$c*d.n.Sd,d.clear(),d.pn=!1,d):new f(a,b,c)}function f(a,b,c){this.n=a;this.x=b;this.y=c;this.left=this.x*this.n.Pc*this.n.Td;this.top=this.y*this.n.$c*this.n.Sd;
this.Qg=[];this.vd=[];this.Xd=[];this.pn=!1;var d,e;a=0;for(b=this.n.$c;a<b;++a){e=[];c=0;for(d=this.n.Pc;c<d;++c)e.push(-1);this.Qg.push(e)}}var h=Id.prototype;h.wa=function(a){this.Za=a;this.i=a.i};var e=h.wa.prototype;e.ma=function(){var a,b,c;if(!this.Aa&&(this.Da=new Image,this.Da.Ko=this.Hn,this.i.tr(this.Da,this.Gn),this.Xi=[],this.vs=!1,this.gg=[],this.yz=!1,this.hr&&this.hr.length))for(a=0,b=this.hr.length;a<b;++a)(c=this.hr[a])?this.gg.push({fe:c,jp:[[[null,null],[null,null]],[[null,null],
[null,null]]]}):this.gg.push(null)};e.Qh=function(a,b,c,d,e,f){if(!(0>a||a>=this.gg.length)&&this.gg[a]){var g=this.gg[a].jp;a=new Eb(this.gg[a].fe);a.Rh(b,c,0);f&&a.YC();d&&a.xF(b/2);e&&a.hE(c/2);g[d?1:0][e?1:0][f?1:0]=a}};e.EE=function(a){if(-1===a)return null;var b=a&n;return 0>b||b>=this.gg.length||!this.gg[b]?null:this.gg[b].jp[a&m?1:0][a&l?1:0][a&k?1:0]};e.Hs=function(){var a,b,c=this.i.la;if(c)for(a=0,b=this.Xi.length;a<b;++a)c.deleteTexture(this.Xi[a]);H(this.Xi);this.vs=!1};e.Yt=function(a,
b,c,d,e,f,g){if(!(this.vs||0>=a||0>=b)){this.Hs();var h=this.Da.width,k=this.Da.height,l;for(l=d;l+b<=k;l+=b+f)for(d=c;d+a<=h;d+=a+e)this.Xi.push(this.nA(d,l,a,b,g));this.vs=!0}};e.nA=function(a,b,c,d,e){if(this.i.la)return this.Fr(a,b,c,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=this.Fr(a,b,c,d,!1,!1,!1,e);return{jp:f,x:a,y:b,Mc:c,UE:d}};e.wv=function(a,b,c,d,e){if(0>a||a>=this.Xi.length)return null;a=this.Xi[a];var f=a.jp;b=b?1:0;c=c?1:0;d=d?1:0;var g=f[b][c][d];
if(g)return g;g=this.Fr(a.x,a.y,a.Mc,a.UE,0!==b,0!==c,0!==d,e);return f[b][c][d]=g};e.Fr=function(a,b,c,d,e,f,g,h){var k=c,l=d;this.i.la&&!h&&(pa(k)||(k=qa(k)),pa(l)||(l=qa(l)));var m=document.createElement("canvas");m.width=k;m.height=l;var n=m.getContext("2d");if(this.i.Ab)return e?f?(g?(n.rotate(Math.PI/2),n.scale(-1,1)):n.scale(-1,-1),n.translate(-k,-l)):g?(n.rotate(Math.PI/2),n.translate(0,-l)):(n.scale(-1,1),n.translate(-k,0)):f?g?(n.rotate(-Math.PI/2),n.translate(-k,0)):(n.scale(1,-1),n.translate(0,
-l)):g&&(n.scale(-1,1),n.rotate(Math.PI/2)),n.drawImage(this.Da,a,b,c,d,0,0,k,l),h?m:this.i.Ab.createPattern(m,"repeat");n.drawImage(this.Da,a,b,c,d,0,0,k,l);a=this.i.la.Ke(k,l,this.i.Ya,!1,!h);this.i.la.Rz(m,a);return a};e.Tk=function(){this.Aa||this.Hs()};e.cn=function(){};e.Ik=function(){};e.Nn=function(){this.Aa||this.H.length||this.Hs()};e.jn=function(){};h.ta=function(a){this.type=a;this.i=a.i};var e=h.ta.prototype,m=-2147483648,l=1073741824,k=536870912,n=536870911,p=[],r=[],v=[];f.prototype.clear=
function(){var a,b,c,d,e;this.Qg.length=this.n.$c;a=0;for(b=this.Qg.length;a<b;++a)for(e=this.Qg[a],e||(e=[],this.Qg[a]=e),e.length=this.n.Pc,c=0,d=e.length;c<d;++c)e[c]=-1};f.prototype.Ym=function(){if(!this.pn){var e=this.n.Td,f=this.n.Sd;if(!(0>=e||0>=f)){var g,h,t,B,v,C;g=0;for(h=this.vd.length;g<h;++g)c(this.vd[g]);g=0;for(h=this.Xd.length;g<h;++g)d(this.Xd[g]);H(this.vd);H(this.Xd);var y=Math.min(this.n.Ef,Math.floor(this.n.width/e)),w=Math.min(this.n.ag,Math.floor(this.n.height/f)),y=y-this.left/
e,w=w-this.top/f;y>this.n.Pc&&(y=this.n.Pc);w>this.n.$c&&(w=this.n.$c);var F=this.n.Ai,I=null;g=0;for(h=w;g<h;++g){v=this.Qg[g];t=0;for(B=y;t<B;++t)C=v[t],-1===C?I&&(this.vd.push(I),I=null):F||!I||C!==I.id?(I&&this.vd.push(I),I=p.length?p.pop():new a,I.id=C,I.ir=C&n,I.jm=0!==(C&m),I.Un=0!==(C&l),I.gk=0!==(C&k),I.jw=I.jm||I.Un||I.gk,I.Db.left=t*e+this.left,I.Db.top=g*f+this.top,I.Db.right=I.Db.left+e,I.Db.bottom=I.Db.top+f):I.Db.right+=e;I&&(this.vd.push(I),I=null)}var I=null,Q=!1;g=0;for(h=w;g<h;++g){v=
this.Qg[g];t=0;for(B=y;t<B;++t)C=v[t],-1===C?I&&(this.Xd.push(I),I=null,Q=!1):(w=this.n.type.EE(C),!I||w||Q?(I&&this.Xd.push(I),I=r.length?r.pop():new b,I.id=C,I.fe=w?w:null,C=I.Db,C.left=t*e+this.left,C.top=g*f+this.top,C.right=C.left+e,C.bottom=C.top+f,Q=!!w):I.Db.right+=e);I&&(this.Xd.push(I),I=null,Q=!1)}if(!F)for(h=this.vd.length,g=0;g<h;++g)for(B=this.vd[g],e=g+1;e<h;++e)if(t=this.vd[e],!(t.Db.top<B.Db.bottom)){if(t.Db.top>B.Db.bottom)break;if(t.Db.right>B.Db.right||t.Db.left>B.Db.left)break;
t.id===B.id&&t.Db.left===B.Db.left&&t.Db.right===B.Db.right&&(c(this.vd[e]),this.vd.splice(e,1),--h,B.Db.bottom+=f,--e)}h=this.Xd.length;for(g=0;g<h;++g)if(B=this.Xd[g],!B.fe)for(v=B.Db,e=g+1;e<h;++e)if(t=this.Xd[e],B=t.Db,!(B.top<v.bottom)){if(B.top>v.bottom)break;if(B.right>v.right||B.left>v.left)break;t.fe||B.left!==v.left||B.right!==v.right||(d(this.Xd[e]),this.Xd.splice(e,1),--h,v.bottom+=f,--e)}this.pn=!0}}};f.prototype.Pu=function(a,b,c){this.Qg[b][a]!==c&&(this.Qg[b][a]=c,this.pn=!1,this.n.uo=
!0,this.n.vi=!0,this.n.i.Ua=!0)};e.ma=function(){var a,b,c;this.visible=0===this.U[0];this.Td=this.U[1];this.Sd=this.U[2];this.Zu=this.U[3];this.av=this.U[4];this.$u=this.U[5];this.bv=this.U[6];this.Ai=0!==this.U[7];this.Ef=this.Bz;this.ag=this.Az;this.nh=this.width;this.mh=this.height;var d=this.Td,e=this.Sd;0===d&&(d=1);0===e&&(e=1);this.Pc=Math.ceil(this.i.Ic/d);this.$c=Math.ceil(this.i.Hc/e);if(!this.type.yz)for(this.type.yz=!0,a=0,b=this.type.gg.length;a<b;++a)if(c=this.type.gg[a])this.type.Qh(a,
d,e,!1,!1,!1),this.type.Qh(a,d,e,!1,!1,!0),this.type.Qh(a,d,e,!1,!0,!1),this.type.Qh(a,d,e,!1,!0,!0),this.type.Qh(a,d,e,!0,!1,!1),this.type.Qh(a,d,e,!0,!1,!0),this.type.Qh(a,d,e,!0,!0,!1),this.type.Qh(a,d,e,!0,!0,!0);this.wd||(this.je=[]);this.Zt(!0);this.dz(this.zz);this.type.Yt(this.Td,this.Sd,this.Zu,this.av,this.$u,this.bv,this.Ai);this.vi=!1;this.uo=!0;this.Xt()};e.Xt=function(){if(this.uo){var a,b,c,d,e;a=0;for(b=this.je.length;a<b;++a)for(e=this.je[a],c=0,d=e.length;c<d;++c)e[c].Ym();this.uo=
!1}};e.Mq=function(){var a,b,c,d,e;a=0;for(b=this.je.length;a<b;++a)for(e=this.je[a],c=0,d=e.length;c<d;++c)e[c].pn=!1;this.uo=!0};e.Zt=function(a){var b=wa(this.width/this.Td),c=wa(this.height/this.Sd);if(!(b<=this.Ef&&c<=this.ag)||a){var d;a?(a=Math.ceil(this.ag/this.$c),d=Math.ceil(this.Ef/this.Pc)):(a=this.je.length,d=Math.ceil(this.Ef/this.Pc),c>this.ag&&(this.ag=c,a=Math.ceil(this.ag/this.$c)),b>this.Ef&&(this.Ef=b,d=Math.ceil(this.Ef/this.Pc)),this.Mq(),this.vi=!0,this.i.Ua=!0);for(var e,b=
0;b<a;++b)if(e=this.je[b])for(c=e.length;c<d;++c)e.push(g(this,c,b));else{e=[];for(c=0;c<d;++c)e.push(g(this,c,b));this.je[b]=e}}};e.hs=function(a,b){if(0>a||0>b)return null;var c=wa(b/this.$c);if(c>=this.je.length)return null;var c=this.je[c],d=wa(a/this.Pc);return d>=c.length?null:c[d]};e.ks=function(a,b){if(0>a||0>b||b>=this.je.length)return null;var c=this.je[b];return a>=c.length?null:c[a]};e.dz=function(a){var b=[];a=a.split(",");var c,d,e,f,g;c=0;for(d=a.length;c<d;++c)if(e=a[c],f=e.indexOf("x"),
-1<f)for(g=parseInt(e.substring(0,f),10),e=e.substring(f+1),f=parseInt(e,10),-1<e.indexOf("h")&&(f|=m),-1<e.indexOf("v")&&(f|=l),-1<e.indexOf("d")&&(f|=k);0<g;--g)b.push(f);else f=parseInt(e,10),-1<e.indexOf("h")&&(f|=m),-1<e.indexOf("v")&&(f|=l),-1<e.indexOf("d")&&(f|=k),b.push(f);for(c=a=0;c<this.ag;++c)for(d=0;d<this.Ef;++d)g=b[a++],(e=this.hs(d,c))&&e.Pu(d%this.Pc,c%this.$c,g)};e.FE=function(){var a="";if(0>=this.Ef||0>=this.ag)return a;var b=1,c=this.bx(0,0),d,e,f,g,h,p,r,t;g=wa(this.width/this.Td);
e=wa(this.height/this.Sd);for(d=0;d<e;++d)for(f=0===d?1:0;f<g;++f)h=this.bx(f,d),h===c?++b:(-1===c?(p=-1,c=t=r=!1):(p=c&n,r=0!==(c&m),t=0!==(c&l),c=0!==(c&k)),a=1===b?a+(""+p):a+(""+b+"x"+p),r&&(a+="h"),t&&(a+="v"),c&&(a+="d"),a+=",",b=1,c=h);-1===c?(p=-1,c=t=r=!1):(p=c&n,r=0!==(c&m),t=0!==(c&l),c=0!==(c&k));a=1===b?a+(""+p):a+(""+b+"x"+p);r&&(a+="h");t&&(a+="v");c&&(a+="d");return a};e.bx=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Ef||b>=this.ag)return-1;var c=this.hs(a,b);
return c?c.Qg[b%this.$c][a%this.Pc]:-1};e.Pu=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Ef||b>=this.ag)return-1;var d=this.hs(a,b);if(!d)return-1;d.Pu(a%this.Pc,b%this.$c,c)};e.Tz=function(a){return Math.floor((a-this.x)/(this.Pc*this.Td))};e.Uz=function(a){return Math.floor((a-this.y)/(this.$c*this.Sd))};e.qE=function(a,b){var c=this.Uz(a.top),d=this.Tz(a.right),e=this.Uz(a.bottom),f,g,h;for(f=this.Tz(a.left);f<=d;++f)for(g=c;g<=e;++g)if(h=this.ks(f,g))h.Ym(),Ia(b,h.Xd)};
e.nE=function(a){var b,c,d,e,f,g;b=0;for(c=this.je.length;b<c;++b)for(f=this.je[b],d=0,e=f.length;d<e;++d)g=f[d],g.Ym(),Ia(a,g.Xd)};e.Re=function(){var a,b,e,f,g;a=0;for(b=this.je.length;a<b;++a){g=this.je[a];e=0;for(f=g.length;e<f;++e){for(var h=g[e],k=void 0,l=void 0,k=0,l=h.vd.length;k<l;++k)c(h.vd[k]);H(h.vd);k=0;for(l=h.Xd.length;k<l;++k)d(h.Xd[k]);H(h.Xd);1E3>v.length&&v.push(h)}H(g)}H(this.je)};e.Tb=function(){this.Zt();return{w:wa(this.width/this.Td),h:wa(this.height/this.Sd),d:this.FE()}};
e.Yb=function(a){this.Ef=a.w;this.ag=a.h;this.Zt(!0);this.dz(a.d);this.vi=!0;this.Mq()};e.Yd=function(a){if(!(0>=this.Td||0>=this.Sd)){this.type.Yt(this.Td,this.Sd,this.Zu,this.av,this.$u,this.bv,this.Ai);if(this.width!==this.nh||this.height!==this.mh)this.vi=!0,this.Mq(),this.Xt(),this.nh=this.width,this.mh=this.height;a.globalAlpha=this.opacity;var b=this.O,c=b.qb,d=b.rb,e=b.Fb,b=b.Eb,f=this.x,g=this.y,h=this.Ai,k;this.i.ze&&(f=Math.round(f),g=Math.round(g));var l=this.Pc*this.Td,m=this.$c*this.Sd,
n=Math.floor((c-f)/l),l=Math.floor((e-f)/l),p=Math.floor((d-g)/m),m=Math.floor((b-g)/m),r=f%this.Td,t=g%this.Sd;this.Ai&&(t=r=0);if(0!==r||0!==t)a.save(),a.translate(r,t),f-=r,g-=t,c-=r,d-=t,e-=r,b-=t;for(var v,Z,T,S,J,M,O,K,N;n<=l;++n)for(v=p;v<=m;++v)if(Z=this.ks(n,v))for(Z.Ym(),T=0,S=Z.vd.length;T<S;++T)J=Z.vd[T],-1!==J.id&&(k=J.Db,M=k.left+f,O=k.top+g,K=k.right+f,k=k.bottom+g,M>e||K<c||O>b||k<d||(N=this.type.wv(J.ir,J.jm,J.Un,J.gk,this.Ai),h?a.drawImage(N,M,O):(a.fillStyle=this.type.wv(J.ir,J.jm,
J.Un,J.gk,this.Ai),a.fillRect(M,O,K-M,k-O))));0===r&&0===t||a.restore()}};var t=new Aa(0,0,1,1);e.Xh=function(a){this.Bc(a)};e.Bc=function(a){if(!(0>=this.Td||0>=this.Sd)){this.type.Yt(this.Td,this.Sd,this.Zu,this.av,this.$u,this.bv,this.Ai);if(this.width!==this.nh||this.height!==this.mh)this.vi=!0,this.Mq(),this.Xt(),this.nh=this.width,this.mh=this.height;a.xh(this.opacity);var b=this.type.Xi,c=this.O,d=c.qb,e=c.rb,f=c.Fb,c=c.Eb,g=this.x,h=this.y,k;this.i.ze&&(g=Math.round(g),h=Math.round(h));var l=
this.Pc*this.Td,m=this.$c*this.Sd,n=Math.floor((f-g)/l),p=Math.floor((e-h)/m),m=Math.floor((c-h)/m),r,v,G,Z,T,S,J,M,O,K,N,U,ga,P,ra,ma,Ya;for(ra=Math.floor((d-g)/l);ra<=n;++ra)for(ma=p;ma<=m;++ma)if(Ya=this.ks(ra,ma))for(Ya.Ym(),l=0,r=Ya.vd.length;l<r;++l)v=Ya.vd[l],-1!==v.id&&(k=v.Db,G=k.left+g,Z=k.top+h,T=k.right+g,k=k.bottom+h,G>f||T<d||Z>c||k<e||(a.ie(b[v.ir]),t.right=(T-G)/this.Td,t.bottom=(k-Z)/this.Sd,v.jw?(v.gk&&(P=t.right,t.right=t.bottom,t.bottom=P),J=S=0,M=t.right,O=0,K=t.right,N=t.bottom,
U=0,ga=t.bottom,v.gk&&(P=U,U=M,M=P,P=ga,ga=O,O=P),v.jm&&(P=S,S=M,M=P,P=J,J=O,O=P,P=U,U=K,K=P,P=ga,ga=N,N=P),v.Un&&(P=S,S=U,U=P,P=J,J=ga,ga=P,P=M,M=K,K=P,P=O,O=N,N=P),a.bG(G,Z,T,Z,T,k,G,k,S,J,M,O,K,N,U,ga)):a.dg(G,Z,T,Z,T,k,G,k,t)))}};h.F=new function(){};h.da=new function(){};h.Ea=new function(){}})();function Jd(a){this.i=a}
(function(){function a(a){m=a.x;l=a.y;k=a.z}function c(a,c,d,e){var f;f=n.length?n.pop():new b;f.init(a,c,d,e);return f}function b(){this.An=this.id=this.uj=this.tj=this.y=this.x=this.br=this.$q=this.Jt=this.time=this.Wu=0;this.Kn=this.lr=!1}function d(){}function g(){}var f=Jd.prototype;f.wa=function(a){this.Za=a;this.i=a.i};f.wa.prototype.ma=function(){};f.ta=function(a){this.type=a;this.i=a.i;this.touches=[];this.au=!1};var h=f.ta.prototype,e={left:0,top:0};h.Ul=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var m=0,l=0,k=0,n=[];b.prototype.init=function(a,b,c,d){var e=tb();this.Wu=this.Jt=this.time=e;this.$q=a;this.br=b;this.x=a;this.y=b;this.tj=a;this.uj=b;this.pressure=this.height=this.width=0;this.id=c;this.An=d;this.Kn=this.lr=!1};b.prototype.update=function(a,b,c,d,e,f){this.Jt=this.time;this.time=a;this.tj=this.x;this.uj=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Kn&&15<=bb(this.$q,this.br,this.x,this.y)&&(this.Kn=
!0)};b.prototype.uF=function(a,b){!this.lr&&500<=tb()-this.Wu&&!this.Kn&&15>bb(this.$q,this.br,this.x,this.y)&&(this.lr=!0,a.Rg=this.An,a.hl=this.id,a.mk=b,a.i.trigger(Jd.prototype.F.fB,a),a.Yg=this.x,a.Zg=this.y,a.i.trigger(Jd.prototype.F.gB,a),a.mk=0)};var p=-1E3,r=-1E3,v=-1E4;b.prototype.ay=function(a,b){if(!this.lr){var c=tb();333>=c-this.Wu&&!this.Kn&&15>bb(this.$q,this.br,this.x,this.y)&&(a.Rg=this.An,a.hl=this.id,a.mk=b,666>=c-v&&25>bb(p,r,this.x,this.y)?(a.i.trigger(Jd.prototype.F.YA,a),a.Yg=
this.x,a.Zg=this.y,a.i.trigger(Jd.prototype.F.ZA,a),r=p=-1E3,v=-1E4):(a.i.trigger(Jd.prototype.F.EB,a),a.Yg=this.x,a.Zg=this.y,a.i.trigger(Jd.prototype.F.GB,a),p=this.x,r=this.y,v=c),a.mk=0)}};h.ma=function(){this.mF=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.mk=this.hl=this.Rg=this.Zg=this.Yg=this.fw=this.ew=this.dw=this.wC=this.vC=this.uC=this.oq=this.nq=this.mq=0;this.MG=0!==this.U[0];var b=0<this.i.Zd?document:this.i.canvas,c=document;this.i.Ld?c=b=window.Canvas:this.i.Af&&
(c=b=window);var d=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",function(a){d.ty(a)},!1),b.addEventListener("pointermove",function(a){d.ry(a)},!1),c.addEventListener("pointerup",function(a){d.kq(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.kq(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.i.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){d.ty(a)},!1),b.addEventListener("MSPointerMove",function(a){d.ry(a)},!1),c.addEventListener("MSPointerUp",function(a){d.kq(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.kq(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",function(a){d.wy(a)},!1),b.addEventListener("touchmove",function(a){d.uy(a)},!1),c.addEventListener("touchend",function(a){d.ku(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.ku(a,!0)},!1));if(this.mF){var e=function(a){a=a.reading;d.dw=a.accelerationX;d.ew=a.accelerationY;d.fw=a.accelerationZ},f=function(a){a=a.reading;d.mq=a.yawDegrees;d.nq=a.pitchDegrees;d.oq=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();
g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){d.mq=a.alpha||0;d.nq=a.beta||0;d.oq=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.uC=a.accelerationIncludingGravity.x||0,d.vC=a.accelerationIncludingGravity.y||0,d.wC=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.dw=a.acceleration.x||0,d.ew=a.acceleration.y||0,d.fw=a.acceleration.z||0)},!1);this.MG&&!this.i.eb&&(jQuery(document).mousemove(function(a){d.iu(a)}),jQuery(document).mousedown(function(a){d.hu(a)}),
jQuery(document).mouseup(function(a){d.ju(a)}));!this.i.xk&&this.i.Le&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(a,null,{frequency:40});this.i.EG(this)};h.ry=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Ul(a.pointerId),c=tb();if(0<=b){var d=this.i.eb?e:jQuery(this.i.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,
a.width||0,a.height||0,a.pressure||0)}}};h.ty=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.i.eb?e:jQuery(this.i.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;tb();this.Rg=this.touches.length;this.hl=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.Rg));this.i.Sb=!0;this.i.trigger(Jd.prototype.F.Rv,this);this.i.trigger(Jd.prototype.F.Wv,this);this.Yg=d;this.Zg=b;this.i.trigger(Jd.prototype.F.Vv,this);
this.i.Sb=!1}};h.kq=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Xb(a)&&a.preventDefault();var c=this.Ul(a.pointerId);this.Rg=0<=c?this.touches[c].An:-1;this.hl=0<=c?this.touches[c].id:-1;this.i.Sb=!0;this.i.trigger(Jd.prototype.F.Qv,this);this.i.trigger(Jd.prototype.F.Uv,this);0<=c&&(b||this.touches[c].ay(this,c),100>n.length&&n.push(this.touches[c]),this.touches.splice(c,1));this.i.Sb=!1}};h.uy=function(a){a.preventDefault&&a.preventDefault();
var b=tb(),c,d,f,g;c=0;for(d=a.changedTouches.length;c<d;c++)if(f=a.changedTouches[c],g=this.Ul(f.identifier),0<=g){var h=this.i.eb?e:jQuery(this.i.canvas).offset();g=this.touches[g];2>b-g.time||g.update(b,f.pageX-h.left,f.pageY-h.top,2*(f.TH||f.ZH||f.MH||f.PH||0),2*(f.UH||f.$H||f.NH||f.QH||0),f.HH||f.YH||f.LH||f.OH||0)}};h.wy=function(a){a.preventDefault&&Xb(a)&&a.preventDefault();var b=this.i.eb?e:jQuery(this.i.canvas).offset();tb();this.i.Sb=!0;var d,f,g,h;d=0;for(f=a.changedTouches.length;d<f;d++)if(g=
a.changedTouches[d],h=this.Ul(g.identifier),-1===h){h=g.pageX-b.left;var k=g.pageY-b.top;this.Rg=this.touches.length;this.hl=g.identifier;this.touches.push(c(h,k,g.identifier,this.Rg));this.i.trigger(Jd.prototype.F.Rv,this);this.i.trigger(Jd.prototype.F.Wv,this);this.Yg=h;this.Zg=k;this.i.trigger(Jd.prototype.F.Vv,this)}this.i.Sb=!1};h.ku=function(a,b){a.preventDefault&&Xb(a)&&a.preventDefault();this.i.Sb=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Ul(e.identifier),
0<=e&&(this.Rg=this.touches[e].An,this.hl=this.touches[e].id,this.i.trigger(Jd.prototype.F.Qv,this),this.i.trigger(Jd.prototype.F.Uv,this),b||this.touches[e].ay(this,e),100>n.length&&n.push(this.touches[e]),this.touches.splice(e,1));this.i.Sb=!1};h.j=function(){return this.i.Le&&0===this.mq&&0!==k?90*k:this.mq};h.k=function(){return this.i.Le&&0===this.nq&&0!==l?90*l:this.nq};h.B=function(){return this.i.Le&&0===this.oq&&0!==m?90*m:this.oq};h.hu=function(a){this.wy({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]});this.au=!0};h.iu=function(a){this.au&&this.uy({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};h.ju=function(a){a.preventDefault&&this.i.wp&&!this.i.hh&&a.preventDefault();this.i.wp=!0;this.ku({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.au=!1};h.Jn=function(){var a,b,c,d=tb();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Jt=d),c.uF(this,a)};d.prototype.Wv=function(){return!0};d.prototype.Uv=function(){return!0};
d.prototype.Vv=function(a){return a?this.i.Dn(a,this.Yg,this.Zg):!1};var t=[];d.prototype.EA=function(a){if(!a)return!1;var b=a.La(),c=b.Jd(),d,e,f,g,h,k;f=0;for(g=c.length;f<g;f++){var l=c[f];l.ab();h=0;for(k=this.touches.length;h<k;h++)if(e=this.touches[h],d=l.O.oc(e.x,e.y,!0),e=l.O.oc(e.x,e.y,!1),l.Hd(d,e)){t.push(l);break}}return t.length?(b.$a=!1,Ga(b.H,t),a.Ie(),H(t),!0):!1};d.prototype.Rv=function(a){a=Math.floor(a);return a===this.Rg};d.prototype.Qv=function(a){a=Math.floor(a);return a===
this.Rg};d.prototype.fB=function(){return!0};d.prototype.EB=function(){return!0};d.prototype.YA=function(){return!0};d.prototype.gB=function(a){return a?this.i.Dn(a,this.Yg,this.Zg):!1};d.prototype.GB=function(a){return a?this.i.Dn(a,this.Yg,this.Zg):!1};d.prototype.ZA=function(a){return a?this.i.Dn(a,this.Yg,this.Zg):!1};f.F=new d;g.prototype.Rr=function(a,b){var c=this.mk;if(0>c||c>=this.touches.length)a.xa(0);else{var d,e,f,g,h;la(b)?(d=this.i.eh(0),e=d.scale,f=d.Wd,g=d.xe,h=d.M,d.scale=1,d.Wd=
1,d.xe=1,d.M=0,a.xa(d.oc(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Wd=f,d.xe=g,d.M=h):(d=na(b)?this.i.eh(b):this.i.Zl(b))?a.xa(d.oc(this.touches[c].x,this.touches[c].y,!0)):a.xa(0)}};g.prototype.Sr=function(a,b){var c=this.mk;if(0>c||c>=this.touches.length)a.xa(0);else{var d,e,f,g,h;la(b)?(d=this.i.eh(0),e=d.scale,f=d.Wd,g=d.ye,h=d.M,d.scale=1,d.Wd=1,d.ye=1,d.M=0,a.xa(d.oc(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.Wd=f,d.ye=g,d.M=h):(d=na(b)?this.i.eh(b):this.i.Zl(b))?a.xa(d.oc(this.touches[c].x,
this.touches[c].y,!1)):a.xa(0)}};f.Ea=new g})();function Kd(a){this.i=a}
(function(){function a(a){var b;if(!k[a])for(k[a]=Array(20),b=0;20>b;++b)k[a][b]=0;return k[a]}function c(a){var b;if(!n[a])for(n[a]=Array(20),b=0;20>b;++b)n[a][b]=0;return n[a]}function b(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function d(a){l[a.gamepad.index]=a.gamepad;e.trigger(Kd.prototype.F.dB,m)}function g(a){e.trigger(Kd.prototype.F.eB,m);l[a.gamepad.index]=null}function f(){}var h=Kd.prototype;h.wa=function(a){this.Za=a;this.i=a.i};h.wa.prototype.ma=function(){};var e=null,m=null,l=Array(16),
k=Array(16),n=Array(16),p="",r="",v=null,t={windows:{}};t.windows.firefox={};var q=[0,1,2,3,4,5,8,9,10,11],u=[0,1,[7,6],2,3,[14,15],[12,13]];t.windows.firefox.xbox360=function(a,b){return b?a>=u.length?-1:na(u[a])?u[a]+16:u[a]:a>=q.length?-1:q[a]};var x=[2,0,1,3,4,6,5,7,8,9],z=[0,1,2,3,[14,15],[12,13]];t.windows.firefox.logitechdualaction=function(a,b){return b?a>=z.length?-1:na(z[a])?z[a]+16:z[a]:a>=x.length?-1:x[a]};h.ta=function(a){this.type=a;e=this.i=a.i;m=this};var E=h.ta.prototype;E.ma=function(){this.Bk=
0;var a=navigator.userAgent;p="windows";/mac/i.test(a)&&(p="mac");v=t[p];r="chrome";/firefox/i.test(a)&&(r="firefox");v&&(v=v[r]);window.addEventListener("webkitgamepadconnected",d,!1);window.addEventListener("webkitgamepaddisconnected",g,!1);window.addEventListener("MozGamepadConnected",d,!1);window.addEventListener("MozGamepadDisconnected",g,!1);window.addEventListener("gamepadconnected",d,!1);window.addEventListener("gamepaddisconnected",g,!1);this.i.Gi(this);this.Al=[]};E.mb=function(){this.Al.length=
0;var d=null,e=!1;navigator.getGamepads?d=navigator.getGamepads():navigator.webkitGetGamepads?d=navigator.webkitGetGamepads():navigator.mozGetGamepads?d=navigator.mozGetGamepads():navigator.msGetGamepads?d=navigator.msGetGamepads():this.i.yx&&window.cr_getGamepads?(d=window.cr_getGamepads(),e=!0):d=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||l;if(d){var f,g,h,m,p,q,r;f=0;for(g=d.length;f<g;f++){var t=d[f];if(t){var u=a(f),x=c(f);m=f;h=a(m);m=c(m);p=void 0;for(p=0;20>p;++p)m[p]=
h[p];e?h=b:v?(h="",m=t.id.toLowerCase(),-1<m.indexOf("xbox 360")?h="xbox360":-1<m.indexOf("logitech dual action")&&(h="logitechdualaction"),h=v[h]||b):h=b;p=h;h=0;for(m=t.buttons.length;h<m;h++)r="undefined"!==typeof t.buttons[h].value?t.buttons[h].value:t.buttons[h],q=p(h,!1,r),0<=q&&20>q&&(u[q]=100*r,50<=u[q]&&50>x[q]&&(this.Bk=q));h=0;for(m=t.axes.length;h<m;h++)r=t.axes[h],q=p(h,!0,r),na(q)?0<=q&&20>q&&(u[q]=100*r):(u[q[0]]=0,u[q[1]]=0,0>=r?u[q[0]]=Math.abs(100*r):u[q[1]]=Math.abs(100*r));this.Al.push(t)}else t=
f,k[t]=null,n[t]=null}for(;20>f;++f)d=f,k[d]=null,n[d]=null}};E.Tb=function(){return{lastButton:this.Bk}};E.Yb=function(a){this.Bk=a.lastButton};f.prototype.dB=function(){return!0};f.prototype.eB=function(){return!0};f.prototype.xv=function(b,c){b=Math.floor(b);if(0>b||b>=this.Al.length)return!1;var d=a(b);if(!d)return!1;if(d=50<=d[c])this.Bk=c;return d};f.prototype.RA=function(b,d){b=Math.floor(b);if(0>b||b>=this.Al.length)return!1;var e=a(b),f=c(b);if(!e||!f)return!1;if(e=50<=e[d]&&50>f[d])this.Bk=
d;return e};f.prototype.SA=function(b,d){b=Math.floor(b);if(0>b||b>=this.Al.length)return!1;var e=a(b),f=c(b);if(!e||!f)return!1;if(e=50>e[d]&&50<=f[d])this.Bk=d;return e};h.F=new f;h.da=new function(){};h.Ea=new function(){}})();function Ld(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=Ld.prototype;d.wa=function(a){this.behavior=a;this.i=a.i};d.wa.prototype.ma=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var g=d.ta.prototype;g.ma=function(){var a=this.U[0];this.ne=this.U[1];this.sd=this.U[2];this.GC=0!==this.U[3];this.Nu=0!==this.U[4];this.Y=Math.cos(this.n.M)*a;this.ba=Math.sin(this.n.M)*a;this.tj=this.n.x;this.uj=this.n.y;this.Nd=this.n.M;this.Mn=0;this.enabled=0!==this.U[5]};
g.Tb=function(){return{acc:this.ne,g:this.sd,dx:this.Y,dy:this.ba,lx:this.tj,ly:this.uj,lka:this.Nd,t:this.Mn,e:this.enabled}};g.Yb=function(a){this.ne=a.acc;this.sd=a.g;this.Y=a.dx;this.ba=a.dy;this.tj=a.lx;this.uj=a.ly;this.Nd=a.lka;this.Mn=a.t;this.enabled=a.e};g.mb=function(){if(this.enabled){var a=this.i.Cg(this.n),b,c;this.n.M!==this.Nd&&(this.Nu&&(b=bb(0,0,this.Y,this.ba),this.Y=Math.cos(this.n.M)*b,this.ba=Math.sin(this.n.M)*b),this.Nd=this.n.M);0!==this.ne&&(b=bb(0,0,this.Y,this.ba),c=0===
this.Y&&0===this.ba?this.n.M:Wa(0,0,this.Y,this.ba),b+=this.ne*a,0>b&&(b=0),this.Y=Math.cos(c)*b,this.ba=Math.sin(c)*b);0!==this.sd&&(this.ba+=this.sd*a);this.tj=this.n.x;this.uj=this.n.y;if(0!==this.Y||0!==this.ba)if(this.n.x+=this.Y*a,this.n.y+=this.ba*a,this.Mn+=bb(0,0,this.Y*a,this.ba*a),this.Nu&&(this.n.M=Wa(0,0,this.Y,this.ba),this.n.aa(),this.Nd=this.n.M),this.n.aa(),this.GC&&(b=this.i.kd(this.n)))this.i.Gj(this.n,b),b=bb(0,0,this.Y,this.ba),c=this.i.JC(this.n,this.tj,this.uj),this.Y=Math.cos(c)*
b,this.ba=Math.sin(c)*b,this.n.x+=this.Y*a,this.n.y+=this.ba*a,this.n.aa(),this.Nu&&(this.Nd=this.n.M=c,this.n.aa()),this.i.Hf(this.n,this.Y/b,this.ba/b,Math.max(2.5*b*a,30))||this.i.Qy(this.n,100)}};a.prototype.hA=function(a,b){return Wc(this.Mn,a,b)};d.F=new a;c.prototype.Yv=function(a){var b=Wa(0,0,this.Y,this.ba);this.Y=Math.cos(b)*a;this.ba=Math.sin(b)*a};c.prototype.Xv=function(a){a=Pa(a);var b=bb(0,0,this.Y,this.ba);this.Y=Math.cos(a)*b;this.ba=Math.sin(a)*b};c.prototype.Qf=function(a){this.enabled=
1===a};d.da=new c;b.prototype.Or=function(a){var b=bb(0,0,this.Y,this.ba),b=Nb(b);a.xa(b)};d.Ea=new b})();function Md(a){this.i=a}
(function(){function a(){}function c(){}var b=Md.prototype;b.wa=function(a){this.behavior=a;this.i=a.i};b.wa.prototype.ma=function(){};b.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.ta.prototype;d.ma=function(){this.Wr=1===this.U[0];this.bz=!1;this.Rl=this.U[1];this.Xn=this.U[2];this.bp=this.U[3];this.XC=this.U[4];this.Lc=this.Wr?0:3;this.wd?this.Kf.reset():this.Kf=new Bb;this.ni=this.n.opacity?this.n.opacity:1;this.Wr&&(0===this.Rl?(this.Lc=1,0===this.Xn&&(this.Lc=
2)):(this.n.opacity=0,this.i.Ua=!0))};d.Tb=function(){return{fit:this.Rl,wt:this.Xn,fot:this.bp,s:this.Lc,st:this.Kf.Va,mo:this.ni}};d.Yb=function(a){this.Rl=a.fit;this.Xn=a.wt;this.bp=a.fot;this.Lc=a.s;this.Kf.reset();this.Kf.Va=a.st;this.ni=a.mo};d.mb=function(){this.Kf.add(this.i.Cg(this.n));0===this.Lc&&(this.n.opacity=this.Kf.Va/this.Rl*this.ni,this.i.Ua=!0,this.n.opacity>=this.ni&&(this.n.opacity=this.ni,this.Lc=1,this.Kf.reset(),this.i.trigger(Md.prototype.F.$A,this.n)));1===this.Lc&&this.Kf.Va>=
this.Xn&&(this.Lc=2,this.Kf.reset(),this.i.trigger(Md.prototype.F.IB,this.n));2===this.Lc&&0!==this.bp&&(this.n.opacity=this.ni-this.Kf.Va/this.bp*this.ni,this.i.Ua=!0,0>this.n.opacity&&(this.n.opacity=0,this.Lc=3,this.Kf.reset(),this.i.trigger(Md.prototype.F.aB,this.n),1===this.XC&&this.i.Ee(this.n)))};d.qD=function(){this.Lc=0;this.Kf.reset();0===this.Rl?(this.Lc=1,0===this.Xn&&(this.Lc=2)):(this.n.opacity=0,this.i.Ua=!0)};a.prototype.aB=function(){return!0};a.prototype.$A=function(){return!0};
a.prototype.IB=function(){return!0};b.F=new a;c.prototype.gC=function(){this.Wr||this.bz||(this.ni=this.n.opacity?this.n.opacity:1,this.bz=!0);3===this.Lc&&this.qD()};b.da=new c;b.Ea=new function(){}})();function Nd(a){this.i=a}
(function(){function a(){}function c(){}var b=Nd.prototype;b.wa=function(a){this.behavior=a;this.i=a.i};b.wa.prototype.ma=function(){};b.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var d=b.ta.prototype;d.ma=function(){this.Hi=this.Mg=this.Lc=this.iq=this.lq=0};d.Tb=function(){return{ontime:this.lq,offtime:this.iq,stage:this.Lc,stagetimeleft:this.Mg,timeleft:this.Hi}};d.Yb=function(a){this.lq=a.ontime;this.iq=a.offtime;this.Lc=a.stage;this.Mg=a.stagetimeleft;this.Hi=
a.timeleft};d.mb=function(){if(!(0>=this.Hi)){var a=this.i.Cg(this.n);this.Hi-=a;0>=this.Hi?(this.Hi=0,this.n.visible=!0,this.i.Ua=!0,this.i.trigger(Nd.prototype.F.Ev,this.n)):(this.Mg-=a,0>=this.Mg&&(0===this.Lc?(this.n.visible=!1,this.Lc=1,this.Mg+=this.iq):(this.n.visible=!0,this.Lc=0,this.Mg+=this.lq),this.i.Ua=!0))}};a.prototype.Ev=function(){return!0};b.F=new a;c.prototype.qA=function(a,b,c){this.lq=a;this.iq=b;this.Lc=1;this.Mg=b;this.Hi=c;this.n.visible=!1;this.i.Ua=!0};b.da=new c;b.Ea=new function(){}})();
function Od(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var Pd=2/180*Math.PI,Qd=8/180*Math.PI,Rd=.5*Math.PI,Ud=Rd*Rd,Vd=2/180*Math.PI,Wd=Number.MIN_VALUE*Number.MIN_VALUE;function Xd(a,c){return a.x*c.x+a.y*c.y}function Yd(a,c){return a.x*c.y-a.y*c.x}function Zd(a){return V(1*a.y,-1*a.x)}function $d(a,c){return V(a.u.x*c.x+a.A.x*c.y,a.u.y*c.x+a.A.y*c.y)}function ae(a,c){return V(Xd(c,a.u),Xd(c,a.A))}
function be(a,c){var b=$d(a.D,c);b.x+=a.position.x;b.y+=a.position.y;return b}function ce(a,c){var b=de(c,a.position),d=b.x*a.D.u.x+b.y*a.D.u.y;b.y=b.x*a.D.A.x+b.y*a.D.A.y;b.x=d;return b}function de(a,c){return V(a.x-c.x,a.y-c.y)}function ee(a,c,b){return a<c?c:a>b?b:a}function fe(){this.u=V(0,0);this.A=V(0,0);this.u.Set(1,0);this.A.Set(0,1)}function ge(a){var c=new fe;c.Set(a);return c}fe.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.u.Set(c,a);this.A.Set(-a,c)};
fe.prototype.Nc=function(){var a=new fe;he(a,this);return a};function he(a,c){a.u.S(c.u);a.A.S(c.A)}fe.prototype.Ja=function(){this.u.Set(0,0);this.A.Set(0,0)};fe.prototype.Li=function(){return Math.atan2(this.u.y,this.u.x)};function ie(a,c){var b=a.u.x*a.A.y-a.A.x*a.u.y;0!==b&&(b=1/b);c.u.x=b*a.A.y;c.A.x=-b*a.A.x;c.u.y=-b*a.u.y;c.A.y=b*a.u.x}function je(a,c,b,d){var g=a.u.x*a.A.y-a.A.x*a.u.y;0!==g&&(g=1/g);c.x=g*(a.A.y*b-a.A.x*d);c.y=g*(a.u.x*d-a.u.y*b);return c}
function ke(a,c,b){this.u=new le(0,0,0);this.A=new le(0,0,0);this.j=new le(0,0,0);a&&this.u.S(a);c&&this.A.S(c);b&&this.j.S(b)}ke.prototype.Nc=function(){return new ke(this.u,this.A,this.j)};ke.prototype.Ja=function(){this.u.Set(0,0,0);this.A.Set(0,0,0);this.j.Set(0,0,0)};function me(a,c,b,d){var g=a.u.x,f=a.A.x,h=a.u.y;a=a.A.y;var e=g*a-f*h;0!=e&&(e=1/e);c.x=e*(a*b-f*d);c.y=e*(g*d-h*b);return c}
function De(a,c,b,d,g){var f=a.u.x,h=a.u.y,e=a.u.z,m=a.A.x,l=a.A.y,k=a.A.z,n=a.j.x,p=a.j.y;a=a.j.z;var r=f*(l*a-k*p)+h*(k*n-m*a)+e*(m*p-l*n);0!=r&&(r=1/r);c.x=r*(b*(l*a-k*p)+d*(k*n-m*a)+g*(m*p-l*n));c.y=r*(f*(d*a-g*p)+h*(g*n-b*a)+e*(b*p-d*n));c.z=r*(f*(l*g-k*d)+h*(k*b-m*g)+e*(m*d-l*b));return c}function Ee(){this.V=V(0,0);this.Zc=V(0,0);this.I=V(0,0)}Ee.prototype.Set=function(a){this.V.S(a.V);this.Zc.S(a.Zc);this.I.S(a.I);this.of=a.of;this.T=a.T;this.Qd=a.Qd};
Ee.prototype.Nc=function(){var a=new Ee;a.V.S(this.V);a.Zc.S(this.Zc);a.I.S(this.I);a.of=this.of;a.T=this.T;a.Qd=this.Qd;return a};Ee.prototype.Fe=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.Zc.x+c*this.I.x;a.position.y=(1-c)*this.Zc.y+c*this.I.y;a.D.Set((1-c)*this.of+c*this.T);var b=a.D;a.position.x-=b.u.x*this.V.x+b.A.x*this.V.y;a.position.y-=b.u.y*this.V.x+b.A.y*this.V.y};
Ee.prototype.Hh=function(a){void 0===a&&(a=0);if(this.Qd<a&&1-this.Qd>Number.MIN_VALUE){var c=(a-this.Qd)/(1-this.Qd);this.Zc.x=(1-c)*this.Zc.x+c*this.I.x;this.Zc.y=(1-c)*this.Zc.y+c*this.I.y;this.of=(1-c)*this.of+c*this.T;this.Qd=a}};function Fe(a,c){this.position=V(0,0);this.D=new fe;a&&this.position.S(a);c&&he(this.D,c)}Fe.prototype.Set=function(a){this.position.S(a.position);he(this.D,a.D)};Fe.prototype.Li=function(){return Math.atan2(this.D.u.y,this.D.u.x)};
function Ge(a,c){this.x=a;this.y=c}var He=[];function V(a,c){if(0<He.length){var b=He.pop();b.Set(a,c);return b}return new Ge(a,c)}function Ie(a){He.push(a)}A=Ge.prototype;A.Ja=function(){this.y=this.x=0};A.Set=function(a,c){this.x=a;this.y=c};A.S=function(a){this.x=a.x;this.y=a.y};A.Ih=function(){return V(-this.x,-this.y)};A.Nc=function(){return V(this.x,this.y)};A.mg=function(a){this.x+=a.x;this.y+=a.y};A.$v=function(a){this.x-=a.x;this.y-=a.y};A.Ve=function(a){this.x*=a;this.y*=a};
function Je(a){return Math.sqrt(Ke(a))}function Ke(a){return a.x*a.x+a.y*a.y}function Le(a){var c=Je(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function le(a,c,b){this.x=a;this.y=c;this.z=b}A=le.prototype;A.Ja=function(){this.z=this.y=this.x=0};A.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};A.S=function(a){this.x=a.x;this.y=a.y;this.z=a.z};A.Ih=function(){return new le(-this.x,-this.y,-this.z)};A.Nc=function(){return new le(this.x,this.y,this.z)};
A.mg=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};A.$v=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};A.Ve=function(a){this.x*=a;this.y*=a;this.z*=a};function Me(){this.ob=.005}A=Me.prototype;A.Ni=function(){};A.Nc=function(){};A.Set=function(a){this.ob=a.ob};A.Qj=function(){};A.pl=function(){};A.Zn=function(){};A.Mr=function(){};function Ne(a){this.ob=.005;this.ob=a;this.j=a*a;this.Hb=V(0,0)}Od(Ne,Me);A=Ne.prototype;A.Ni=function(){return"b2CircleShape"};
A.Nc=function(){var a=new Ne(this.ob);a.Set(this);return a};A.Set=function(a){Me.prototype.Set.call(this,a);a instanceof Ne&&this.Hb.S(a.Hb)};A.Qj=function(a,c){var b=c.D,d=c.position.x+(b.u.x*this.Hb.x+b.A.x*this.Hb.y),b=c.position.y+(b.u.y*this.Hb.x+b.A.y*this.Hb.y);a.j.Set(d-this.ob,b-this.ob);a.k.Set(d+this.ob,b+this.ob)};A.pl=function(a,c){a.j=c*Math.PI*this.j;a.k.S(this.Hb);a.B=a.j*(.5*this.j+(this.Hb.x*this.Hb.x+this.Hb.y*this.Hb.y))};
A.Zn=function(a,c,b,d){b=be(b,this.Hb);var g=-(Xd(a,b)-c);if(g<-this.ob+Number.MIN_VALUE)return 0;if(g>this.ob)return d.S(b),Math.PI*this.j;c=g*g;g=this.j*(Math.asin(g/this.ob)+Math.PI/2)+g*Math.sqrt(this.j-c);c=-2/3*Math.pow(this.j-c,1.5)/g;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return g};A.Mr=function(a){a.W=[this.Hb];a.j=1;a.ob=this.ob};
function Oe(a,c){this.ob=.005;this.j=a;this.k=c;this.B=V(this.k.x-this.j.x,this.k.y-this.j.y);Le(this.B);this.G=V(this.B.y,-this.B.x);V(-.04*(this.G.x-this.B.x)+this.j.x,-.04*(this.G.y-this.B.y)+this.j.y);V(-.04*(this.G.x+this.B.x)+this.k.x,-.04*(this.G.y+this.B.y)+this.k.y);V(-this.G.x,-this.G.y)}Od(Oe,Me);Oe.prototype.Ni=function(){return"b2EdgeShape"};
Oe.prototype.Qj=function(a,c){var b=c.D,d=c.position.x+(b.u.x*this.j.x+b.A.x*this.j.y),g=c.position.y+(b.u.y*this.j.x+b.A.y*this.j.y),f=c.position.x+(b.u.x*this.k.x+b.A.x*this.k.y),b=c.position.y+(b.u.y*this.k.x+b.A.y*this.k.y);d<f?(a.j.x=d,a.k.x=f):(a.j.x=f,a.k.x=d);g<b?(a.j.y=g,a.k.y=b):(a.j.y=b,a.k.y=g)};Oe.prototype.pl=function(a){a.j=0;a.k.S(this.j);a.B=0};
Oe.prototype.Zn=function(a,c,b,d){void 0===c&&(c=0);var g=V(a.x*c,a.y*c),f=be(b,this.j);b=be(b,this.k);var h=Xd(a,f)-c;a=Xd(a,b)-c;if(0<h){if(0<a)return 0;f.x=-a/(h-a)*f.x+h/(h-a)*b.x;f.y=-a/(h-a)*f.y+h/(h-a)*b.y}else 0<a&&(b.x=-a/(h-a)*f.x+h/(h-a)*b.x,b.y=-a/(h-a)*f.y+h/(h-a)*b.y);d.x=(g.x+f.x+b.x)/3;d.y=(g.y+f.y+b.y)/3;return.5*((f.x-g.x)*(b.y-g.y)-(f.y-g.y)*(b.x-g.x))};function Pe(){this.j=0;this.k=V(0,0);this.B=0}function Qe(){this.ob=.005;this.j=V(0,0);this.W=[];this.Nb=[]}Od(Qe,Me);A=Qe.prototype;
A.Ni=function(){return"b2PolygonShape"};A.Nc=function(){var a=new Qe;a.Set(this);return a};A.Set=function(a){Me.prototype.Set.call(this,a);if(a instanceof Qe){this.j.S(a.j);this.wb=a.wb;Re(this,this.wb);for(var c=0;c<this.wb;c++)this.W[c].S(a.W[c]),this.Nb[c].S(a.Nb[c])}};
function Se(a,c){var b=c.length;a.wb=b;Re(a,b);for(b=b=0;b<a.wb;b++)a.W[b].S(c[b]);for(b=0;b<a.wb;++b){var d=de(a.W[b+1<a.wb?b+1:0],a.W[b]);a.Nb[b].S(Zd(d));Le(a.Nb[b])}for(var b=a.W,d=a.wb,g=V(0,0),f=0,h=1/3,e=0;e<d;++e){var m=b[e],l=e+1<d?b[e+1]:b[0],k=.5*((m.x-0)*(l.y-0)-(m.y-0)*(l.x-0)),f=f+k;g.x+=k*h*(0+m.x+l.x);g.y+=k*h*(0+m.y+l.y)}g.x*=1/f;g.y*=1/f;a.j=g}
function Te(a,c,b){a.wb=4;Re(a,4);a.W[0].Set(-c,-b);a.W[1].Set(c,-b);a.W[2].Set(c,b);a.W[3].Set(-c,b);a.Nb[0].Set(0,-1);a.Nb[1].Set(1,0);a.Nb[2].Set(0,1);a.Nb[3].Set(-1,0);a.j.Ja()}
A.Qj=function(a,c){for(var b=c.D,d=this.W[0],g=c.position.x+(b.u.x*d.x+b.A.x*d.y),f=c.position.y+(b.u.y*d.x+b.A.y*d.y),h=g,e=f,m=1;m<this.wb;++m)var d=this.W[m],l=c.position.x+(b.u.x*d.x+b.A.x*d.y),d=c.position.y+(b.u.y*d.x+b.A.y*d.y),g=g<l?g:l,f=f<d?f:d,h=h>l?h:l,e=e>d?e:d;a.j.x=g-this.ob;a.j.y=f-this.ob;a.k.x=h+this.ob;a.k.y=e+this.ob};
A.pl=function(a,c){if(2==this.wb)a.k.x=.5*(this.W[0].x+this.W[1].x),a.k.y=.5*(this.W[0].y+this.W[1].y),a.j=0,a.B=0;else{for(var b=0,d=0,g=0,f=0,h=1/3,e=0;e<this.wb;++e)var m=this.W[e],l=e+1<this.wb?this.W[e+1]:this.W[0],k=m.x-0,n=m.y-0,p=l.x-0,r=l.y-0,v=k*r-n*p,t=.5*v,g=g+t,b=b+t*h*(0+m.x+l.x),d=d+t*h*(0+m.y+l.y),m=k,f=f+v*(h*(.25*(m*m+p*m+p*p)+(0*m+0*p))+0+(h*(.25*(n*n+r*n+r*r)+(0*n+0*r))+0));a.j=c*g;a.k.Set(1/g*b,1/g*d);a.B=c*f}};
A.Zn=function(a,c,b,d){var g=ae(b.D,a),f=c-Xd(a,b.position),h=[],e=0,m=-1;c=-1;var l=!1;for(a=a=0;a<this.wb;++a){h[a]=Xd(g,this.W[a])-f;var k=h[a]<-Number.MIN_VALUE;0<a&&(k?l||(m=a-1,e++):l&&(c=a-1,e++));l=k}switch(e){case 0:return l?(a=new Pe,this.pl(a,1),d.S(be(b,a.k)),a.j):0;case 1:-1==m?m=this.wb-1:c=this.wb-1}a=(m+1)%this.wb;g=(c+1)%this.wb;f=(0-h[m])/(h[a]-h[m]);h=(0-h[c])/(h[g]-h[c]);m=V(this.W[m].x*(1-f)+this.W[a].x*f,this.W[m].y*(1-f)+this.W[a].y*f);c=V(this.W[c].x*(1-h)+this.W[g].x*h,this.W[c].y*
(1-h)+this.W[g].y*h);h=0;f=V(0,0);for(e=this.W[a];a!=g;)a=(a+1)%this.wb,l=a==g?c:this.W[a],k=.5*((e.x-m.x)*(l.y-m.y)-(e.y-m.y)*(l.x-m.x)),h+=k,f.x+=k*(m.x+e.x+l.x)/3,f.y+=k*(m.y+e.y+l.y)/3,e=l;f.Ve(1/h);d.S(be(b,f));return h};A.Mr=function(a){a.W=this.W;a.j=this.wb;a.ob=this.ob};A.$n=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.wb;++d){var g=this.W[d].x*a.x+this.W[d].y*a.y;g>b&&(c=d,b=g)}return c};
A.sl=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.wb;++d){var g=this.W[d].x*a.x+this.W[d].y*a.y;g>b&&(c=d,b=g)}return this.W[c]};function Re(a,c){a.W=[];a.Nb=[];for(var b=a.W.length;b<c;b++)a.W[b]=V(0,0),a.Nb[b]=V(0,0)}new fe;function Ue(){this.k=this.j=this.B=this.nc=0}function Ve(a,c){a.nc=c;a.B=a.nc&255;a.j=(a.nc&65280)>>8&255;a.k=(a.nc&16711680)>>16&255;a.G=(a.nc&4278190080)>>24&255}Ue.prototype.Set=function(a){Ve(this,a.nc)};
Ue.prototype.Nc=function(){var a=new Ue;a.Set(this);return a};function We(){this.nf=V(0,0);this.id=new Ue}We.prototype.Set=function(a){this.nf.S(a.nf);this.id.Set(a.id)};function $e(){this.j=V(0,0);this.k=V(0,0)}var af=[];function bf(){if(0<af.length){var a=af.pop();a.Ja();return a}return new $e}$e.prototype.Ja=function(){this.j.Set(0,0);this.k.Set(0,0)};function cf(a,c){var b;return b=(b=(b=(b=a.j.x<=c.j.x)&&a.j.y<=c.j.y)&&c.k.x<=a.k.x)&&c.k.y<=a.k.y}
$e.prototype.xl=function(a){return 0<a.j.x-this.k.x||0<a.j.y-this.k.y||0<this.j.x-a.k.x||0<this.j.y-a.k.y?!1:!0};function df(a,c,b){a.j.x=Math.min(c.j.x,b.j.x);a.j.y=Math.min(c.j.y,b.j.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function ef(a,c,b,d){var g=0,f=c[0].nf,h=c[1].nf,e=b.x*f.x+b.y*f.y-d;b=b.x*h.x+b.y*h.y-d;0>=e&&a[g++].Set(c[0]);0>=b&&a[g++].Set(c[1]);0>e*b&&(b=e/(e-b),d=a[g].nf,d.x=f.x+b*(h.x-f.x),d.y=f.y+b*(h.y-f.y),a[g].id=0<e?c[0].id:c[1].id,g++);return g}
function ff(a,c,b,d,g){for(var f=c.D.u.x*a.Nb[b].x+c.D.A.x*a.Nb[b].y,h=c.D.u.y*a.Nb[b].x+c.D.A.y*a.Nb[b].y,e=g.D.u.x*f+g.D.u.y*h,m=g.D.A.x*f+g.D.A.y*h,l=0,k=Number.MAX_VALUE,n=0;n<d.wb;n++){var p=d.W[n].x*e+d.W[n].y*m;p<k&&(k=p,l=n)}return(g.position.x+(g.D.u.x*d.W[l].x+g.D.A.x*d.W[l].y)-(c.position.x+(c.D.u.x*a.W[b].x+c.D.A.x*a.W[b].y)))*f+(g.position.y+(g.D.u.y*d.W[l].x+g.D.A.y*d.W[l].y)-(c.position.y+(c.D.u.y*a.W[b].x+c.D.A.y*a.W[b].y)))*h}
function gf(a,c,b,d){for(var g=d.position.x+(d.D.u.x*b.j.x+d.D.A.x*b.j.y),f=d.position.y+(d.D.u.y*b.j.x+d.D.A.y*b.j.y),g=g-(c.position.x+(c.D.u.x*a.j.x+c.D.A.x*a.j.y)),f=f-(c.position.y+(c.D.u.y*a.j.x+c.D.A.y*a.j.y)),h=g*c.D.u.x+f*c.D.u.y,f=g*c.D.A.x+f*c.D.A.y,g=0,e=-Number.MAX_VALUE,m=0;m<a.wb;++m){var l=a.Nb[m].x*h+a.Nb[m].y*f;l>e&&(e=l,g=m)}h=ff(a,c,g,b,d);f=g-1;0>f&&(f=a.wb-1);e=ff(a,c,f,b,d);m=g+1;m>=a.wb&&(m=0);var l=ff(a,c,m,b,d),k=0,n=0;if(e>h&&e>l)for(k=f,n=e;;)if(g=k-1,0>g&&(g=a.wb-1),h=
ff(a,c,g,b,d),h>n)k=g,n=h;else break;else if(l>h)for(k=m,n=l;;)if(g=k+1,g>=a.wb&&(g=0),h=ff(a,c,g,b,d),h>n)k=g,n=h;else break;else k=g,n=h;return{mw:k,Lq:n}}
function hf(a,c,b){var d=new jf,g=b.uh,f=b.j,h=b.vh,e=b.k,m,l;d.j=c.count;for(var k=d.W,n=0;n<d.j;n++){var p=k[n];p.pc=c.pc[n];p.qc=c.qc[n];m=kf(g,p.pc);l=kf(h,p.qc);p.zd=be(f,m);p.Pf=be(e,l);p.Mc=de(p.Pf,p.zd);p.T=0}1<d.j&&(m=c.j,l=lf(d),l<.5*m||2*m<l||l<Number.MIN_VALUE)&&(d.j=0);0==d.j&&(p=k[0],p.pc=0,p.qc=0,m=kf(g,0),l=kf(h,0),p.zd=be(f,m),p.Pf=be(e,l),p.Mc=de(p.Pf,p.zd),d.j=1);for(g=0;20>g;){f=[];for(h=0;h<d.j;h++)f[h]={},f[h].pc=d.W[h].pc,f[h].qc=d.W[h].qc;if(2==d.j)h=d,e=h.k.Mc,k=h.B.Mc,m=
de(k,e),e=-(e.x*m.x+e.y*m.y),0>=e?(h.k.T=1,h.j=1):(k=k.x*m.x+k.y*m.y,0>=k?(h.B.T=1,h.j=1,h.k.Set(h.B)):(m=1/(k+e),h.k.T=k*m,h.B.T=e*m,h.j=2));else if(3==d.j){var h=d,r=h.k.Mc,v=h.B.Mc,t=h.G.Mc,q=de(v,r),e=Xd(v,q),k=-Xd(r,q),u=de(t,r);m=Xd(t,u);l=-Xd(r,u);p=de(t,v);n=Xd(t,p);p=-Xd(v,p);u=Yd(q,u);q=u*Yd(v,t);t=u*Yd(t,r);r=u*Yd(r,v);0>=k&&0>=l?(h.k.T=1,h.j=1):0<e&&0<k&&0>=r?(m=1/(e+k),h.k.T=e*m,h.B.T=k*m,h.j=2):0<m&&0<l&&0>=t?(e=1/(m+l),h.k.T=m*e,h.G.T=l*e,h.j=2,h.B.Set(h.G)):0>=e&&0>=p?(h.B.T=1,h.j=
1,h.k.Set(h.B)):0>=m&&0>=n?(h.G.T=1,h.j=1,h.k.Set(h.G)):0<n&&0<p&&0>=q?(e=1/(n+p),h.B.T=n*e,h.G.T=p*e,h.j=2,h.k.Set(h.G)):(e=1/(q+t+r),h.k.T=q*e,h.B.T=t*e,h.G.T=r*e,h.j=3)}if(3==d.j)break;h=d;1==h.j?h=h.k.Mc.Ih():2==h.j?(e=de(h.B.Mc,h.k.Mc),h=0<Yd(e,h.k.Mc.Ih())?V(-1*e.y,1*e.x):Zd(e)):h=V(0,0);if(Ke(h)<Wd)break;e=h.Ih();d.W[d.j].pc=b.uh.$n(ae(b.j.D,e));d.W[d.j].zd=be(b.j,kf(b.uh,d.W[d.j].pc));d.W[d.j].qc=b.vh.$n(ae(b.k.D,h));d.W[d.j].Pf=be(b.k,kf(b.vh,d.W[d.j].qc));d.W[d.j].Mc=de(d.W[d.j].Pf,d.W[d.j].zd);
Ie(h);Ie(e);g++;e=!1;for(h=0;h<f.length;h++)if(d.W[d.j].pc==f[h].pc&&d.W[d.j].qc==f[h].qc){e=!0;break}if(e)break;d.j++}g=a.j;f=a.k;1==d.j?(g.S(d.k.zd),f.S(d.k.Pf)):2==d.j?(g.x=d.k.T*d.k.zd.x+d.B.T*d.B.zd.x,g.y=d.k.T*d.k.zd.y+d.B.T*d.B.zd.y,f.x=d.k.T*d.k.Pf.x+d.B.T*d.B.Pf.x,f.y=d.k.T*d.k.Pf.y+d.B.T*d.B.Pf.y):3==d.j&&(f.x=g.x=d.k.T*d.k.zd.x+d.B.T*d.B.zd.x+d.G.T*d.G.zd.x,f.y=g.y=d.k.T*d.k.zd.y+d.B.T*d.B.zd.y+d.G.T*d.G.zd.y);a.B=Je(de(a.j,a.k));c.j=lf(d);c.count=d.j;g=d.W;for(f=0;f<d.j;f++)c.pc[f]=g[f].pc,
c.qc[f]=g[f].qc;b.B&&(c=b.uh.ob,b=b.vh.ob,a.B>c+b&&a.B>Number.MIN_VALUE?(a.B-=c+b,d=de(a.k,a.j),Le(d),a.j.x+=c*d.x,a.j.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,Ie(d)):(b=V(0,0),b.x=.5*(a.j.x+a.k.x),b.y=.5*(a.j.y+a.k.y),a.j.x=a.k.x=b.x,a.j.y=a.k.y=b.y,a.B=0,Ie(b)))}function mf(){}function nf(){this.j=V(0,0);this.k=V(0,0);this.B=0}function of(){}of.prototype.Set=function(a){a.Mr(this)};
of.prototype.$n=function(a){for(var c=0,b=this.W[0].x*a.x+this.W[0].y*a.y,d=1;d<this.j;d++){var g=this.W[d].x*a.x+this.W[d].y*a.y;g>b&&(c=d,b=g)}return c};of.prototype.sl=function(a){return this.W[this.$n(a)]};function kf(a,c){void 0===c&&(c=0);return a.W[c]}function pf(){this.j=null}pf.prototype.ql=function(a){qf(this,a);a.Bd()};function rf(a,c,b){if(null!==a.j){var d=[];for(d.push(a.j);0<d.length;)if(a=d.pop(),a.hb.xl(b))if(null===a.oe){if(!c(a.yf))break}else d.push(a.oe),d.push(a.wg)}}
function sf(a,c){if(null===a.j)a.j=c,a.j.parent=null;else{var b;b=c.hb;b=V((b.j.x+b.k.x)/2,(b.j.y+b.k.y)/2);for(var d=a.j;null!==d.oe;)var g=d.oe,d=d.wg,f=Math.abs((g.hb.j.x+g.hb.k.x)/2-b.x)+Math.abs((g.hb.j.y+g.hb.k.y)/2-b.y),h=Math.abs((d.hb.j.x+d.hb.k.x)/2-b.x)+Math.abs((d.hb.j.y+d.hb.k.y)/2-b.y),d=f<h?g:d;Ie(b);b=d;g=b.parent;d=tf();d.parent=g;df(d.hb,c.hb,b.hb);if(g)for(b.parent.oe==b?g.oe=d:g.wg=d,d.oe=b,d.wg=c,b.parent=d,c.parent=d;g&&!cf(g.hb,d.hb);)df(g.hb,g.oe.hb,g.wg.hb),d=g,g=g.parent;
else d.oe=b,d.wg=c,b.parent=d,c.parent=d,a.j=d}}function qf(a,c){if(c==a.j)a.j=null;else{var b=c.parent,d=b.parent,g;g=b.oe==c?b.wg:b.oe;if(d)for(d.oe==b?d.oe=g:d.wg=g,g.parent=d;d;){g=d.hb;df(d.hb,d.oe.hb,d.wg.hb);if(cf(g,d.hb))break;d=d.parent}else a.j=g,g.parent=null;b.Bd()}}function uf(){this.k=new pf;this.j=[]}uf.prototype.ql=function(a){La(this.j,a);this.k.ql(a)};uf.prototype.xl=function(a,c){return a.hb.xl(c.hb)};
function vf(a,c){for(var b=[];0<a.j.length;){var d=a.j.pop();rf(a.k,function(a){a!=d.yf&&b.push(new wf(d.yf,a));return!0},d.hb)}for(var g=0;g<b.length;){var f=b[g];c(f.Vl,f.Wl);for(g++;g<b.length;){var h=b[g];if(!(h.Vl==f.Vl&&h.Wl==f.Wl||h.Vl==f.Wl&&h.Wl==f.Vl))break;g++}}}function xf(a){this.hb=bf();this.yf=this.parent=this.wg=this.oe=null;"undefined"!=typeof a&&(this.yf=a)}var yf=[];
function tf(a){if(0<yf.length){var c=yf.pop();"undefined"!=typeof a&&(c.yf=a);c.hb.Ja();return c}return new xf(a)}xf.prototype.Bd=function(){this.yf=this.parent=this.wg=this.oe=null;yf.push(this)};function wf(a,c){this.Vl=a;this.Wl=c}function zf(){this.pb=this.jc=0;this.Fa=[];for(var a=0;2>a;a++)this.Fa[a]=new Af;this.ed=V(0,0);this.Oa=V(0,0)}zf.prototype.Yc=function(){for(var a=0;2>a;a++)this.Fa[a].Yc();this.ed.Ja();this.Oa.Ja();this.jc=this.pb=0};
zf.prototype.Set=function(a){this.jc=a.jc;for(var c=0;2>c;c++)this.Fa[c].Set(a.Fa[c]);this.ed.S(a.ed);this.Oa.S(a.Oa);this.pb=a.pb};zf.prototype.Nc=function(){var a=new zf;a.Set(this);return a};function Af(){this.Oa=V(0,0);this.Df=new Ue;this.Yc()}Af.prototype.Yc=function(){this.Oa.Ja();this.zj=this.yj=0;Ve(this.Df,0)};Af.prototype.Set=function(a){this.Oa.S(a.Oa);this.yj=a.yj;this.zj=a.zj;this.Df.Set(a.Df)};
function Bf(){var a=Hf,c=Mf,b=Tf,d,g,f=0;switch(a.pb){case Uf:d=ae(c.D,a.j);g=ae(b.D,a.j.Ih());d=a.k.sl(d);g=a.B.sl(g);c=be(c,d);b=be(b,g);f=(b.x-c.x)*a.j.x+(b.y-c.y)*a.j.y;break;case Vf:f=$d(c.D,a.j);c=be(c,a.Oa);g=ae(b.D,f.Ih());g=a.B.sl(g);b=be(b,g);f=(b.x-c.x)*f.x+(b.y-c.y)*f.y;break;case Wf:f=$d(b.D,a.j),b=be(b,a.Oa),d=ae(c.D,f.Ih()),d=a.k.sl(d),c=be(c,d),f=(c.x-b.x)*f.x+(c.y-b.y)*f.y}return f}var Uf=1,Vf=2,Wf=4;
function jf(){this.k=new Xf;this.B=new Xf;this.G=new Xf;this.W=[this.k,this.B,this.G]}function lf(a){return 1==a.j?0:2==a.j?Je(de(a.k.Mc,a.B.Mc)):3==a.j?Yd(de(a.B.Mc,a.k.Mc),de(a.G.Mc,a.k.Mc)):0}function Yf(){this.pc=[0,0,0];this.qc=[0,0,0]}function Xf(){}Xf.prototype.Set=function(a){this.zd.S(a.zd);this.Pf.S(a.Pf);this.Mc.S(a.Mc);this.T=a.T;this.pc=a.pc;this.qc=a.qc};function Zf(){this.uh=new of;this.vh=new of;this.qz=new Ee;this.rz=new Ee}
function $f(a,c){this.fa="Body"+ag++;this.J=new Fe;this.J.position.S(a.position);this.J.D.Set(a.M);this.q=new Ee;this.q.V.Ja();this.q.Qd=1;this.q.of=this.q.T=a.M;this.q.I.x=this.J.D.u.x*this.q.V.x+this.J.D.A.x*this.q.V.y;this.q.I.y=this.J.D.u.y*this.q.V.x+this.J.D.A.y*this.q.V.y;this.q.I.x+=this.J.position.x;this.q.I.y+=this.J.position.y;this.q.Zc.S(this.q.I);this.C=a.R.Nc();this.k=V(0,0);this.K=a.Zj;this.Kb=a.j;this.Wa=a.k;this.Ne=a.G;this.ra=a.xc;this.Oe=c;this.$b=null;this.pe=new bg;this.qa=new cg;
this.L=a.B;this.ub=a.Fk;this.bb=a.Xj;this.R=this.G=0;this.pb=a.type;this.ea=2==this.pb?1:0;this.P=2==this.pb?1:0;this.ca=this.j=0;this.cb=a.K;this.B=new dg;this.N=[]}function eg(a,c){var b=new fg(a,0,c);if(a.ra){var d=a.Oe.j.j;b.Gc.Qj(b.j,a.J);var g=d.k,f=b.j,h=tf(b);h.hb.j.x=f.j.x-.1;h.hb.j.y=f.j.y-.1;h.hb.k.x=f.k.x+.1;h.hb.k.y=f.k.y+.1;sf(g,h);d.j.push(h);b.k=h}d=a.B;g=b.uv;null==d.j[g]&&(f=new gg(b),h=d.B,null!=h?h.next=f:d.k=f,f.Tg(h),d.B=f,d.j[g]=f);b.Vt=a;0<b.G&&hg(a);a.Oe.k=!0}A=$f.prototype;
A.Bd=function(){Ie(this.C);Ie(this.k)};function ig(a,c,b){a.J.D.Set(b);a.J.position.S(c);c=a.J.D;var d=a.q.V;a.q.I.x=c.u.x*d.x+c.A.x*d.y;a.q.I.y=c.u.y*d.x+c.A.y*d.y;a.q.I.x+=a.J.position.x;a.q.I.y+=a.J.position.y;a.q.Zc.S(a.q.I);a.q.of=a.q.T=b;b=a.Oe.j.j;for(c=a.B.tb();c;c=c.gb())jg(c.yf,b,a.J,a.J);kg(a.Oe.j)}A.Fe=function(){return this.J};A.Li=function(){return this.q.T};A.Lr=function(a){ig(this,this.J.position,a)};function lg(a,c){0!=a.pb&&a.C.S(c)}
A.jo=function(a){void 0===a&&(a=0);0!=this.pb&&(this.L=a)};A.Ji=function(a,c){2==this.pb&&(mg(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.G+=(c.x-this.q.I.x)*a.y-(c.y-this.q.I.y)*a.x)};A.Er=function(a){void 0===a&&(a=0);2==this.pb&&(mg(this,!0),this.G+=a)};
function hg(a){a.ea=0;a.P=0;a.j=0;a.ca=0;a.q.V.Ja();if(0!=a.pb&&1!=a.pb){for(var c=V(0,0),b=a.B.tb();b;b=b.gb()){var d=b.yf;if(0!=d.G){var g=void 0,g=new Pe;d.Gc.pl(g,d.G);d=g;a.ea+=d.j;c.x+=d.k.x*d.j;c.y+=d.k.y*d.j;a.j+=d.B}}0<a.ea?(a.P=1/a.ea,c.x*=a.P,c.y*=a.P):(a.ea=1,a.P=1);0<a.j&&!a.Kb?(a.j-=a.ea*(c.x*c.x+c.y*c.y),a.j*=a.cb,a.ca=1/a.j):(a.j=0,a.ca=0);b=a.q.I.Nc();a.q.V.S(c);a.q.Zc.S(be(a.J,a.q.V));a.q.I.S(a.q.Zc);a.C.x+=a.L*-(a.q.I.y-b.y);a.C.y+=a.L*+(a.q.I.x-b.x);Ie(c);Ie(b)}}
function ng(a,c){var b=a.J.D,b=V(b.u.x*c.x+b.A.x*c.y,b.u.y*c.x+b.A.y*c.y);b.x+=a.J.position.x;b.y+=a.J.position.y;return b}A.md=function(){return this.pb};function mg(a,c){if(a.Ne!=c){a.Ne=c;a.R=0;c||(a.C.Ja(),a.L=0,a.k.Ja(),a.G=0);for(var b=0;b<a.N.length;b++)og(a.N[b],a)}}A.Tj=function(){return this.ra};A.Mi=function(){return this.pe};
function pg(a){qg.D.Set(a.q.of);var c=qg.D,b=a.q.V;qg.position.x=a.q.Zc.x-(c.u.x*b.x+c.A.x*b.y);qg.position.y=a.q.Zc.y-(c.u.y*b.x+c.A.y*b.y);c=a.Oe.j.j;for(b=a.B.tb();b;b=b.gb())jg(b.yf,c,qg,a.J)}function rg(a){a.J.D.Set(a.q.T);var c=a.J.D,b=a.q.V;a.J.position.x=a.q.I.x-(c.u.x*b.x+c.A.x*b.y);a.J.position.y=a.q.I.y-(c.u.y*b.x+c.A.y*b.y)}function sg(a,c){if(2!=a.pb&&2!=c.pb)return!1;for(var b=a.$b;b;b=b.next)if(b.gf==c&&0==b.jh.$x)return!1;return!0}
A.Hh=function(a){this.q.Hh(a);this.q.I.S(this.q.Zc);this.q.T=this.q.of;rg(this)};var ag=0;function tg(){this.position=V(0,0);this.R=V(0,0);this.Xj=this.Fk=this.B=this.M=0;this.G=this.k=!0;this.Zj=this.j=!1;this.type=0;this.xc=!0;this.K=1}function ug(){this.k=[];for(var a=0;a<=vg;a++)this.k[a]=null;this.B=[];for(a=0;a<=vg;a++)this.B[a]=null;this.j={}}ug.prototype.tb=function(a){return this.k[a]};
function og(a,c){var b=c.md(),d=c.fa,g=c.Ne,f=c.Tj();2==b?wg(a,c,d,xg):yg(a,d,xg);0!=b?wg(a,c,d,zg):yg(a,d,zg);0!=b&&f&&g?wg(a,c,d,Ag):yg(a,d,Ag);g?wg(a,c,d,Bg):yg(a,d,Bg);f?wg(a,c,d,Cg):yg(a,d,Cg)}ug.prototype.ho=function(a){var c=a.fa;if(null!=this.j[c]){La(a.N,this);for(a=0;a<=vg;a++)yg(this,c,a);delete this.j[c]}};function yg(a,c,b){var d=a.j[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.j,c=c.gb(),null==d?a.k[b]=c:d.next=c,null==c?a.B[b]=d:c.Tg(d)))}
function wg(a,c,b,d){var g=a.j[b];if(null==g){for(var g=[],f=0;f<=vg;f++)g[f]=null;a.j[b]=g}null==g[d]&&(g[d]=new Dg(c),c=a.B[d],null!=c?c.next=g[d]:a.k[d]=g[d],g[d].Tg(c),a.B[d]=g[d])}var xg=0,zg=1,Cg=2,Ag=3,Bg=4,vg=5;function Dg(a){this.body=a;this.j=this.next=null}Dg.prototype.Tg=function(a){this.j=a};Dg.prototype.sb=function(){return this.body};Dg.prototype.gb=function(){return this.next};function Eg(){}
Eg.prototype.j=function(a,c){var b=a.K.Nc(),d=c.K.Nc();return b.j==d.j&&0!=b.j?0<b.j:0!=(b.B&d.k)&&0!=(b.k&d.B)};var Fg=new Eg;function Gg(){this.j=[];this.k=[]}function Hg(){}Hg.prototype.BeginContact=function(){};Hg.prototype.EndContact=function(){};function Ig(a){this.Oe=a;this.B=Fg;this.k=Jg;this.G=new Kg;this.j=new uf}
function kg(a){vf(a.j,function(c,b){a:{var d=c.sb(),g=b.sb();if(d!=g&&sg(g,d)&&a.B.j(c,b)){for(d=g.pe.tb(Lg);d;d=d.gb())if(g=d.Rc.tc,g==c){if(g=d.Rc.ic,g==b)break a}else if(g==b&&(g=d.Rc.ic,g==c))break a;a.G.B(c,b)}}})}Ig.prototype.Bd=function(a){a.Oj&&this.k.EndContact(a);0<a.df.jc&&(mg(a.tc.sb(),!0),mg(a.ic.sb(),!0));Mg(a.Ao,a);Mg(a.Bo,a);Mg(a.Ar,a);this.G.Bd(a)};function Ng(){this.k=1;this.B=65535;this.j=0}Ng.prototype.Nc=function(){var a=new Ng;a.k=this.k;a.B=this.B;a.j=this.j;return a};
function fg(a,c,b){this.uv="Fixture"+Og++;this.K=b.j.Nc();this.j=bf();this.Vt=a;this.Gc=b.shape.Nc();this.G=b.Wh;this.R=b.ai;this.N=b.yi;this.B=b.k}fg.prototype.sb=function(){return this.Vt};fg.prototype.Bd=function(){af.push(this.j)};fg.prototype.ql=function(a){null!=this.k&&(a.ql(this.k),this.k=null)};
function jg(a,c,b,d){if(a.k){var g=bf(),f=bf();a.Gc.Qj(g,b);a.Gc.Qj(f,d);df(a.j,g,f);af.push(g);af.push(f);b=de(d.position,b.position);d=a.k;g=c.k;a=a.j;if(cf(d.hb,a))a=!1;else{qf(g,d);var f=.1+2*Math.abs(b.x),h=.1+2*Math.abs(b.y);d.hb.j.x=a.j.x-f;d.hb.j.y=a.j.y-h;d.hb.k.x=a.k.x+f;d.hb.k.y=a.k.y+h;sf(g,d);a=!0}a&&c.j.push(d);Ie(b)}}var Og=0;function Pg(){this.j=new Ng;this.j.k=1;this.j.B=65535;this.j.j=0;this.shape=null;this.ai=.2;this.Wh=this.yi=0;this.k=!1}
function dg(){this.B=this.k=null;this.j={}}dg.prototype.tb=function(){return this.k};function gg(a){this.yf=a;this.j=this.next=null}gg.prototype.Tg=function(a){this.j=a};gg.prototype.gb=function(){return this.next};function Qg(a,c){this.ra=a;this.G=c;this.k=[];this.R=[];this.K=[];this.B=[];this.j=[]}function Rg(a){a.k=[];a.R=[];a.K=[];a.B=[];a.j=[]}function Sg(a,c){if(null!=a.ra)for(var b=0;b<a.B.length;++b)for(var d=c[b],g=new Gg,f=0;f<d.K;++f)g.j[f]=d.B[f].kc,g.k[f]=d.B[f].Og}
function Tg(a,c){a.k.push(c);0!=c.md()&&(a.K.push(c),2==c.md()&&a.R.push(c))}function Ug(a,c,b,d,g){this.Xa=a;var f=0;0<a&&(f=1/a);this.j=f;this.Cc=c;this.hn=b;this.Tn=d;this.Fh=g}function Vg(a,c){this.j=new Ig(this);this.B=new Wg;this.k=!1;this.Ki=new ug;this.pe=new bg;this.$b=null;this.R=new cg;this.N=0;this.fa=c;this.G=a;this.K=0;this.sF=Xg(this,new tg)}var Yg=1-100*Number.MIN_VALUE;function Xg(a,c){var b=new $f(c,a),d=a.Ki,g=b.fa;null==d.j[g]&&(wg(d,b,g,vg),og(d,b),b.N.push(d));return b}
function Zg(a,c){for(var b=c.$b;b;){var d=b,b=b.next;$g(a,d.jh)}for(b=c.qa.tb();b;b=b.gb())b.QC.ho(c);for(b=c.pe.tb(Lg);b;b=b.gb())a.j.Bd(b.Rc);for(b=c.B.tb();b;b=b.gb()){var d=c,g=b.yf,f=d.B,h=g.uv,e=f.j[h];if(null!=e){var m=e.j,e=e.gb();null==m?f.k=e:m.next=e;null==e?f.B=m:e.Tg(m);delete f.j[h]}for(f=d.pe.tb(Lg);f;f=f.gb())g!=f.Rc.tc&&g!=f.Rc.ic||d.Oe.j.Bd(f.Rc);d.ra&&g.ql(d.Oe.j.j);g.Bd();g.Vt=null;hg(d)}c.Bd();a.Ki.ho(c)}
function ah(a,c){var b=c.B();b.Lk=null;if(b.mi=a.$b)a.$b.Lk=b;a.$b=b;a.N++;b.be.jh=b;b.be.gf=b.ka;b.be.prev=null;if(b.be.next=b.ja.$b)b.ja.$b.prev=b.be;b.ja.$b=b.be;b.de.jh=b;b.de.gf=b.ja;b.de.prev=null;if(b.de.next=b.ka.$b)b.ka.$b.prev=b.de;b.ka.$b=b.de;var d=c.j,g=c.k;if(!c.R)for(var f=g.pe.tb(Lg);f;f=f.gb())bh(f.Rc,g)==d&&(f.Rc.Tl=!0);return b}
function $g(a,c){var b=c.$x;c.Lk&&(c.Lk.mi=c.mi);c.mi&&(c.mi.Lk=c.Lk);c==a.$b&&(a.$b=c.mi);var d=c.ja,g=c.ka;mg(d,!0);mg(g,!0);c.be.prev&&(c.be.prev.next=c.be.next);c.be.next&&(c.be.next.prev=c.be.prev);c.be==d.$b&&(d.$b=c.be.next);c.be.prev=null;c.be.next=null;c.de.prev&&(c.de.prev.next=c.de.next);c.de.next&&(c.de.next.prev=c.de.prev);c.de==g.$b&&(g.$b=c.de.next);c.de.prev=null;c.de.next=null;a.N--;if(!b)for(b=g.pe.tb(Lg);b;b=b.gb())bh(b.Rc,g)==d&&(b.Rc.Tl=!0)}
Vg.prototype.Kh=function(a,c,b){var d,g;this.k&&(kg(this.j),this.k=!1);for(var f=new Ug(a,this.K*a,c,b,!0),h=this.j,e=h.Oe.pe.tb(Lg);e;e=e.gb()){var m=e.Rc,l=m.tc,k=m.ic,n=l.sb(),p=k.sb();if(0!=n.Ne||0!=p.Ne){if(m.Tl){if(0==sg(p,n)){h.Bd(m);continue}if(0==h.B.j(l,k)){h.Bd(m);continue}m.Tl=!1}0==h.j.xl(l.k,k.k)?h.Bd(m):ch(m,h.k)}}if(0<f.Xa){for(var r=this.R.tb();r;r=r.gb())r.QC.Kh(f);for(var v=new Qg(this.j.k,this.B),t=this.Ki.tb(vg);t;t=t.gb())t.body.Wb=!1;for(var q=this.pe.tb(Lg);q;q=q.gb())q.Rc.Wb=
!1;for(var u=this.$b;u;u=u.mi)u.Wb=!1;for(t=this.Ki.tb(Ag);t;t=t.gb()){var x=t.body;if(!x.Wb){Rg(v);jh.length=0;var z=jh;z.push(x);for(x.Wb=!0;0<z.length;){var E=z.pop();Tg(v,E);E.Ne||mg(E,!0);if(0!=E.md()){for(q=E.pe.tb(kh);q;q=q.gb()){var B=q.Rc;if(!B.Wb){v.B.push(B);B.Wb=!0;var D=bh(B,E);D.Wb||(z.push(D),D.Wb=!0)}}for(var C=E.$b;C;C=C.next)!C.jh.Wb&&C.gf.Tj()&&(v.j.push(C.jh),C.jh.Wb=!0,C.gf.Wb||(z.push(C.gf),C.gf.Wb=!0))}}for(var y=v,w=f,F=this.fa,I=y,Q=w,da=this.G,R=0;R<I.R.length;R++){var G=
I.R[R];G.C.x+=Q.Xa*(da.x+G.P*G.k.x);G.C.y+=Q.Xa*(da.y+G.P*G.k.y);G.L+=Q.Xa*G.ca*G.G;G.C.Ve(ee(1-Q.Xa*G.ub,0,1));G.L*=ee(1-Q.Xa*G.bb,0,1)}lh(y.G,y.B,y.B.length);for(var Z=y,T=w,S=Z.G,J=0;J<S.k;++J){var M=S.j[J],O=M.j,K=M.k,N=O.P,U=O.ca,ga=K.P,P=K.ca,ra=M.G.x,ma=M.G.y,Ya=ma,Sd=-ra,Na=0,Ob=0;if(T.Fh)for(Ob=M.K,Na=0;Na<Ob;++Na){var ya=M.B[Na];ya.kc*=T.Cc;ya.Og*=T.Cc;var Ab=ya.kc*ra+ya.Og*Ya,xb=ya.kc*ma+ya.Og*Sd;O.L-=U*(ya.ac.x*xb-ya.ac.y*Ab);O.C.x-=N*Ab;O.C.y-=N*xb;K.L+=P*(ya.cc.x*xb-ya.cc.y*Ab);K.C.x+=
ga*Ab;K.C.y+=ga*xb}else for(Ob=M.K,Na=0;Na<Ob;++Na){var ha=M.B[Na];ha.kc=0;ha.Og=0}}for(var fd=0;fd<Z.j.length;fd++)Z.j[fd].ng(T);for(var dc=0;dc<T.Tn;dc++){for(var Ha=0;Ha<Z.j.length;Ha++)Z.j[Ha].qg(T);mh(Z.G)}for(var Pb=0;Pb<Z.j.length;Pb++);for(var Qb=Z.G,zb=0;zb<Qb.k;++zb)for(var Xe=Qb.j[zb],Mi=Xe.ra,Td=0;Td<Xe.K;++Td){var dh=Mi.Fa[Td],eh=Xe.B[Td];dh.yj=eh.kc;dh.zj=eh.Og}for(var fh=y,yb=w,Ye=0;Ye<fh.K.length;++Ye){var ia=fh.K[Ye],gh=yb.Xa*ia.C.x,hh=yb.Xa*ia.C.y;4<gh*gh+hh*hh&&(Le(ia.C),ia.C.x=
2*ia.C.x*yb.j,ia.C.y=2*ia.C.y*yb.j);var ih=yb.Xa*ia.L;ih*ih>Ud&&(ia.L=0>ia.L?-Rd*yb.j:Rd*yb.j);ia.q.Zc.S(ia.q.I);ia.q.of=ia.q.T;ia.q.I.x+=yb.Xa*ia.C.x;ia.q.I.y+=yb.Xa*ia.C.y;ia.q.T+=yb.Xa*ia.L;rg(ia)}for(var Ze=y,Ni=w,Xh=0;Xh<Ni.hn;Xh++){for(var aj=nh(Ze.G,.2),Cf=!0,Df=0;Df<Ze.j.length;Df++)var bj=Ze.j[Df].pg(.2),Cf=Cf&&bj;if(aj&&Cf)break}Sg(y,y.G.j);if(F){for(var ne=y,cj=w,oe=Number.MAX_VALUE,Ef=0;Ef<ne.K.length;Ef++){var Sb=ne.K[Ef];!Sb.Wa||Math.abs(Sb.L)>Vd||1E-4<Xd(Sb.C,Sb.C)?oe=Sb.R=0:(Sb.R+=
cj.Xa,oe=Math.min(oe,Sb.R))}if(.5<=oe)for(var Ff=0;Ff<ne.k.length;Ff++)mg(ne.k[Ff],!1)}}}for(t=this.Ki.tb(Ag);t;t=t.gb())pg(t.body);kg(this.j);for(var Ea=new Qg(this.j.k,this.B),pe=this.Ki.tb(vg);pe;pe=pe.gb()){var Db=pe.body;Db.Wb=!1;Db.q.Qd=0}for(var Ta=this.pe.tb(Lg);Ta;Ta=Ta.gb())Ta.Rc.Wb=!1,Ta.Rc.j=null;for(var qe=this.$b;qe;qe=qe.mi)qe.Wb=!1;for(;;){for(var Zh=null,Gf=1,re=this.pe.tb(oh);re;re=re.gb()){var nb=re.Rc,$h=nb.tc.sb(),ai=nb.ic.sb();if(2==$h.md()&&$h.Ne||2==ai.md()&&ai.Ne){var gb=
1;if(null!=nb.j)gb=nb.j;else if(nb.Oj)gb=1,nb.j=gb;else{var Ic=nb.tc.sb(),pd=nb.ic.sb(),qd=Ic.q.Qd;Ic.q.Qd<pd.q.Qd?(qd=pd.q.Qd,Ic.q.Hh(qd)):pd.q.Qd<Ic.q.Qd&&(qd=Ic.q.Qd,pd.q.Hh(qd));var bi=nb,dj=Ic.q,ej=pd.q;ph.uh.Set(bi.tc.Gc);ph.vh.Set(bi.ic.Gc);ph.qz=dj;ph.rz=ej;ph.FG=.005;var rd=ph;qh++;var If=rd.uh,Jf=rd.vh,Kf=rd.qz,Lf=rd.rz,se=If.ob+Jf.ob,te=rd.FG,ob=0,sd=0,Jc=0;rh.count=0;for(sh.B=!1;;){Kf.Fe(Mf,ob);Lf.Fe(Tf,ob);sh.uh=If;sh.vh=Jf;sh.j=Mf;sh.k=Tf;hf(th,rh,sh);if(0>=th.B){ob=1;break}var gj=Jf,
W=Hf,Ka=rh,pb=Mf,qb=Tf;W.k=If;W.B=gj;var Tb=void 0,rb=void 0,Ib=void 0,Ub=void 0,sb=void 0,Jb=void 0,Lc=0,Mc=0,Nc=0,Oc=0,ue=0,ve=0,X=void 0,Y=void 0,hb=0;if(1==Ka.count)W.pb=Uf,Tb=kf(W.k,Ka.pc[0]),Ub=kf(W.B,Ka.qc[0]),Y=Tb,X=pb.D,Lc=pb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Mc=pb.position.y+(X.u.y*Y.x+X.A.y*Y.y),Y=Ub,X=qb.D,Nc=qb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Oc=qb.position.y+(X.u.y*Y.x+X.A.y*Y.y),W.j.x=Nc-Lc,W.j.y=Oc-Mc,Le(W.j);else{if(Ka.qc[0]==Ka.qc[1])W.pb=Vf,rb=kf(W.k,Ka.pc[0]),Ib=kf(W.k,Ka.pc[1]),
Ub=kf(W.B,Ka.qc[0]),W.Oa.x=.5*(rb.x+Ib.x),W.Oa.y=.5*(rb.y+Ib.y),W.j=Zd(de(Ib,rb)),Le(W.j),Y=W.j,X=pb.D,ue=X.u.x*Y.x+X.A.x*Y.y,ve=X.u.y*Y.x+X.A.y*Y.y,Y=W.Oa,X=pb.D,Lc=pb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Mc=pb.position.y+(X.u.y*Y.x+X.A.y*Y.y),Y=Ub,X=qb.D,Nc=qb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Oc=qb.position.y+(X.u.y*Y.x+X.A.y*Y.y),hb=(Nc-Lc)*ue+(Oc-Mc)*ve;else if(Ka.pc[0]==Ka.pc[0])W.pb=Wf,sb=kf(W.B,Ka.qc[0]),Jb=kf(W.B,Ka.qc[1]),Tb=kf(W.k,Ka.pc[0]),W.Oa.x=.5*(sb.x+Jb.x),W.Oa.y=.5*(sb.y+Jb.y),W.j=Zd(de(Jb,
sb)),Le(W.j),Y=W.j,X=qb.D,ue=X.u.x*Y.x+X.A.x*Y.y,ve=X.u.y*Y.x+X.A.y*Y.y,Y=W.Oa,X=qb.D,Nc=qb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Oc=qb.position.y+(X.u.y*Y.x+X.A.y*Y.y),Y=Tb,X=pb.D,Lc=pb.position.x+(X.u.x*Y.x+X.A.x*Y.y),Mc=pb.position.y+(X.u.y*Y.x+X.A.y*Y.y),hb=(Lc-Nc)*ue+(Mc-Oc)*ve;else{var rb=kf(W.k,Ka.pc[0]),Ib=kf(W.k,Ka.pc[1]),sb=kf(W.B,Ka.qc[0]),Jb=kf(W.B,Ka.qc[1]),Kb=$d(pb.D,de(Ib,rb)),Lb=$d(qb.D,de(Jb,sb)),di=Kb.x*Kb.x+Kb.y*Kb.y,Nf=Lb.x*Lb.x+Lb.y*Lb.y,we=de(Lb,Kb),ei=Kb.x*we.x+Kb.y*we.y,fi=Lb.x*
we.x+Lb.y*we.y,td=Kb.x*Lb.x+Kb.y*Lb.y,gi=di*Nf-td*td,hb=0;0!=gi&&(hb=ee((td*fi-ei*Nf)/gi,0,1));0>(td*hb+fi)/Nf&&(hb=ee((td-ei)/di,0,1));Tb=V(0,0);Tb.x=rb.x+hb*(Ib.x-rb.x);Tb.y=rb.y+hb*(Ib.y-rb.y);Ub=V(0,0);Ub.x=sb.x+hb*(Jb.x-sb.x);Ub.y=sb.y+hb*(Jb.y-sb.y);0==hb||1==hb?(W.pb=Wf,W.j=Zd(de(Jb,sb)),Le(W.j),W.Oa=Ub):(W.pb=Vf,W.j=Zd(de(Ib,rb)),W.Oa=Tb)}if(0>hb){var xe=W.j;xe.x=-xe.x;xe.y=-xe.y}}var ud=Bf();if(0>=ud){ob=1;break}0==sd&&(Jc=ud>se?Math.max(se-te,.75*se):Math.max(ud-te,.02*se));if(ud-Jc<.5*
te){if(0==sd){ob=1;break}break}var Of=ob,ye=ob,vd=1,Pf=ud;Kf.Fe(Mf,vd);Lf.Fe(Tf,vd);var Qf=Bf();if(Qf>=Jc){ob=1;break}for(var ze=0;;){var Pc=0,Pc=ze&1?ye+(Jc-Pf)*(vd-ye)/(Qf-Pf):.5*(ye+vd);Kf.Fe(Mf,Pc);Lf.Fe(Tf,Pc);var Ae=Bf();if(Math.abs(Ae-Jc)<.025*te){Of=Pc;break}Ae>Jc?(ye=Pc,Pf=Ae):(vd=Pc,Qf=Ae);ze++;uh++;if(50==ze)break}vh=Math.max(vh,ze);if(Of<(1+100*Number.MIN_VALUE)*ob)break;ob=Of;sd++;wh++;if(1E3==sd)break}xh=Math.max(xh,sd);gb=ob;0<gb&&1>gb&&(gb=(1-gb)*qd+gb);nb.j=gb}Number.MIN_VALUE<gb&&
gb<Gf&&(Zh=nb,Gf=gb)}}d=Zh;g=Gf;var Vb=d,Qc=g;if(null===Vb||Yg<Qc)break;var wd=Vb.tc.sb(),xd=Vb.ic.sb();yh.Set(wd.q);zh.Set(xd.q);wd.Hh(Qc);xd.Hh(Qc);ch(Vb,this.j.k);Vb.j=null;if(Vb.K||!Vb.enabled)wd.q.Set(yh),xd.q.Set(zh),rg(wd),rg(xd);else if(Vb.Oj){var Be=wd;2!=Be.md()&&(Be=xd);Rg(Ea);jh.length=0;var yd=jh;yd.push(Be);for(Be.Wb=!0;0<yd.length;)if(Db=yd.pop(),Tg(Ea,Db),Db.Ne||mg(Db,!0),2==Db.md()){for(Ta=Db.pe.tb(kh);Ta&&32!=Ea.fa;Ta=Ta.gb()){var Ce=Ta.Rc;if(!Ce.Wb){Ea.B.push(Ce);Ce.Wb=!0;var Rc=
bh(Ce,Db);Rc.Wb||(0!=Rc.md()&&(Rc.Hh(Qc),mg(Rc,!0),yd.push(Rc)),Rc.Wb=!0)}}for(var ib=Db.$b;ib;ib=ib.next)32!=Ea.N&&!ib.jh.Wb&&ib.gf.Tj()&&(Ea.j.push(ib.jh),ib.jh.Wb=!0,ib.gf.Wb||(0!=ib.gf.md()&&(ib.gf.Hh(Qc),mg(ib.gf,!0),yd.push(ib.gf)),ib.gf.Wb=!0))}var jb=Ea,db=new Ug((1-Qc)*f.Xa,0,f.Tn,f.hn,!1),eb=0,Wb=0;lh(jb.G,jb.B,jb.B.length);for(var Rf=jb.G,eb=0;eb<jb.j.length;++eb)jb.j[eb].ng(db);for(eb=0;eb<db.Tn;++eb)for(mh(Rf),Wb=0;Wb<jb.j.length;++Wb)jb.j[Wb].qg(db);for(eb=0;eb<jb.K.length;++eb){var ka=
jb.K[eb],li=db.Xa*ka.C.x,mi=db.Xa*ka.C.y;4<li*li+mi*mi&&(Le(ka.C),ka.C.x=2*ka.C.x*db.j,ka.C.y=2*ka.C.y*db.j);var ni=db.Xa*ka.L;ni*ni>Ud&&(ka.L=0>ka.L?-Rd*db.j:Rd*db.j);ka.q.Zc.S(ka.q.I);ka.q.of=ka.q.T;ka.q.I.x+=db.Xa*ka.C.x;ka.q.I.y+=db.Xa*ka.C.y;ka.q.T+=db.Xa*ka.L;rg(ka)}for(eb=0;eb<db.hn;++eb){for(var jj=nh(Rf,.75),Sf=!0,Wb=0;Wb<jb.j.length;++Wb)var kj=jb.j[Wb].pg(.2),Sf=Sf&&kj;if(jj&&Sf)break}Sg(jb,Rf.j);for(var Oa=0;Oa<Ea.k.length;Oa++)if(Ea.k[Oa].Wb=!1,Ea.k[Oa].Ne&&2==Ea.k[Oa].md())for(pg(Ea.k[Oa]),
Ta=Ea.k[Oa].pe.tb(Lg);Ta;Ta=Ta.gb())Ta.Rc.j=null;for(Oa=0;Oa<Ea.fa;Oa++)Ea.B[Oa].Wb=!1,Ea.B[Oa].j=null;for(Oa=0;Oa<Ea.N;Oa++)Ea.j[Oa].Wb=!1;kg(this.j)}}this.K=f.j}};Vg.prototype.Mi=function(){return this.pe};var jh=[];function Ah(a,c){this.k="Contact"+Bh++;this.df=new zf;this.G=new zf;this.Oj=!1;var b=a.sb(),d=c.sb();this.R=2!=b.md()||b.K||2!=d.md()||d.K;this.K=a.B||c.B;this.Tl=!1;this.tc=a;this.ic=c;this.enabled=!0;this.Ao=b.Mi();this.Bo=d.Mi();this.Ar=d.Oe.Mi();Ch(this)}
Ah.prototype.Yc=function(a,c){this.df.Yc();this.G.Yc();this.Oj=!1;var b=a.sb(),d=c.sb();this.R=2!=b.md()||b.K||2!=d.md()||d.K;this.K=a.B||c.B;this.Tl=!1;this.tc=a;this.ic=c;this.enabled=!0;this.Ao=b.Mi();this.Bo=d.Mi();this.Ar=d.Oe.Mi();Ch(this)};function Ch(a){Dh(a.Ao,a);Dh(a.Bo,a);Dh(a.Ar,a);Eh(a)}function Eh(a){var c=!1,b=!1;!a.K&&a.enabled&&(a.Oj&&(c=!0),a.R&&(b=!0));Fh(a.Ao,a,c,b);Fh(a.Bo,a,c,b);Fh(a.Ar,a,c,b)}Ah.prototype.Qf=function(a){this.enabled=a;Eh(this)};
function bh(a,c){var b=a.tc.sb();return b!=c?b:a.ic.sb()}
function ch(a,c){var b=a.G;a.G=a.df;a.df=b;a.enabled=!0;var d=!1,b=a.Oj,g=a.tc.sb(),f=a.ic.sb(),h=a.tc.j.xl(a.ic.j);if(a.K){if(h){var d=a.tc.Gc,g=g.Fe(),h=a.ic.Gc,e=f.Fe(),f=new mf;f.uh=new of;f.uh.Set(d);f.vh=new of;f.vh.Set(h);f.j=g;f.k=e;f.B=!0;g=new Yf;g.count=0;d=new nf;hf(d,g,f);d=d.B<10*Number.MIN_VALUE}a.df.jc=0}else{a.R=2!=g.md()||g.K||2!=f.md()||f.K?!0:!1;if(h)for(a.B(),d=0<a.df.jc,h=0;h<a.df.jc;h++){e=a.df.Fa[h];e.yj=0;for(var m=e.zj=0;m<a.G.jc;m++){var l=a.G.Fa[m];if(l.Df.nc==e.Df.nc){e.yj=
l.yj;e.zj=l.zj;break}}}else a.df.jc=0;d!=b&&(mg(g,!0),mg(f,!0))}a.Oj=d;d!=b&&Eh(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}Ah.prototype.B=function(){};var ph=new Zf,Bh=0;function Gh(a,c){Ah.call(this,a,c)}Od(Gh,Ah);Gh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};
Gh.prototype.B=function(){var a=this.df,c=this.tc.Gc,b=this.tc.sb().J,d=this.ic.Gc,g=this.ic.sb().J;a.jc=0;var f=g.position.x+(g.D.u.x*d.Hb.x+g.D.A.x*d.Hb.y)-(b.position.x+(b.D.u.x*c.Hb.x+b.D.A.x*c.Hb.y)),b=g.position.y+(g.D.u.y*d.Hb.x+g.D.A.y*d.Hb.y)-(b.position.y+(b.D.u.y*c.Hb.x+b.D.A.y*c.Hb.y)),g=c.ob+d.ob;f*f+b*b>g*g||(a.pb=1,a.Oa.S(c.Hb),a.ed.Ja(),a.jc=1,a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0))};
function Hh(){this.R=V(0,0);this.hc=V(0,0);this.G=V(0,0);this.oh=new fe;this.N=new fe;this.B=[];for(var a=0;2>a;a++)this.B[a]=new Ih}function Ih(){this.hc=V(0,0);this.ac=V(0,0);this.cc=V(0,0)}Ih.prototype.Yc=function(){this.hc.Set(0,0);this.ac.Set(0,0);this.cc.Set(0,0)};
function Kg(){this.j={};this.k={};Jh(this,Gh,"b2CircleShape","b2CircleShape");Jh(this,Kh,"b2PolygonShape","b2CircleShape");Jh(this,Lh,"b2PolygonShape","b2PolygonShape");Jh(this,Mh,"b2EdgeShape","b2CircleShape");Jh(this,Nh,"b2PolygonShape","b2EdgeShape")}function Jh(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.j[b]=a.j[b]||{};a.j[b][d]=new Oh;a.j[b][d].yw=c;a.j[b][d].My=!0;b!=d&&(a.j[d]=a.j[d]||{},a.j[d][b]=new Oh,a.j[d][b].yw=c,a.j[d][b].My=!1)}
Kg.prototype.B=function(a,c){var b=a.Gc.Ni(),d=c.Gc.Ni(),g=this.j[b][d],f=g.yw;return null!=f?g.My?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.Yc(a,c),b):new f(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.Yc(c,a),b):new f(c,a):null};Kg.prototype.Bd=function(a){this.k[a.tc.Gc.Ni()][a.ic.Gc.Ni()].push(a)};function bg(){this.k=[];for(var a=0;a<=Lg;a++)this.k[a]=null;this.B=[];for(a=0;a<=Lg;a++)this.B[a]=null;this.j={}}bg.prototype.tb=function(a){return this.k[a]};
function Dh(a,c){var b=c.k;if(null==a.j[b]){a.j[b]=[];for(var d=0;d<=Lg;d++)a.j[b][d]=null;Ph(a,c,b,Lg)}}function Fh(a,c,b,d){b?Ph(a,c,c.k,kh):Qh(a,c.k,kh);d?Ph(a,c,c.k,oh):Qh(a,c.k,oh)}function Mg(a,c){var b=c.k;if(null!=a.j[b]){for(var d=0;d<=Lg;d++)Qh(a,b,d);delete a.j[b]}}function Qh(a,c,b){var d=a.j[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.j,g=c.gb();null==d?a.k[b]=g:d.next=g;null==g?a.B[b]=d:g.Tg(d);Rh.push(c)}}
function Ph(a,c,b,d){b=a.j[b];if(null==b[d]){if(0<Rh.length){var g=Rh.pop();g.next=null;g.j=null;g.Rc=c;c=g}else c=new Sh(c);b[d]=c;c=a.B[d];null!=c?(c.next=b[d],b[d].Tg(c)):a.k[d]=b[d];a.B[d]=b[d]}}var kh=0,oh=1,Lg=2;function Sh(a){this.Rc=a;this.j=this.next=null}var Rh=[];Sh.prototype.Tg=function(a){this.j=a};Sh.prototype.gb=function(){return this.next};function Oh(){}function Wg(){this.j=[]}
function lh(a,c,b){for(a.k=b;a.j.length<a.k;)a.j[a.j.length]=new Hh;for(var d=0;d<b;d++){var g=c[d],f=g.tc,h=g.ic,e=f.Gc.ob,m=h.Gc.ob,l=f.sb(),k=h.sb(),g=g.df,n=Math.sqrt(f.R*h.R),p,f=f.N,h=h.N;p=f>h?f:h;var h=l.C.x,f=l.C.y,r=k.C.x,v=k.C.y,t=l.L,q=k.L,u=g,x=l.J,z=e,E=k.J,B=m,D=Th;if(0!=u.jc){var C=0,y=void 0,w=void 0,F=0,I=0,Q=0,da=0,R=0,y=0;switch(u.pb){case 1:w=x.D;y=u.Oa;C=x.position.x+w.u.x*y.x+w.A.x*y.y;x=x.position.y+w.u.y*y.x+w.A.y*y.y;w=E.D;y=u.Fa[0].Oa;u=E.position.x+w.u.x*y.x+w.A.x*y.y;
E=E.position.y+w.u.y*y.x+w.A.y*y.y;y=u-C;w=E-x;F=y*y+w*w;F>Wd?(F=Math.sqrt(F),D.j.x=y/F,D.j.y=w/F):(D.j.x=1,D.j.y=0);y=x+z*D.j.y;E=E-B*D.j.y;D.Fa[0].x=.5*(C+z*D.j.x+(u-B*D.j.x));D.Fa[0].y=.5*(y+E);break;case 2:w=x.D;y=u.ed;F=w.u.x*y.x+w.A.x*y.y;I=w.u.y*y.x+w.A.y*y.y;w=x.D;y=u.Oa;Q=x.position.x+w.u.x*y.x+w.A.x*y.y;da=x.position.y+w.u.y*y.x+w.A.y*y.y;D.j.x=F;D.j.y=I;for(C=0;C<u.jc;C++)w=E.D,y=u.Fa[C].Oa,R=E.position.x+w.u.x*y.x+w.A.x*y.y,y=E.position.y+w.u.y*y.x+w.A.y*y.y,D.Fa[C].x=R+.5*(z-(R-Q)*F-
(y-da)*I-B)*F,D.Fa[C].y=y+.5*(z-(R-Q)*F-(y-da)*I-B)*I;break;case 4:for(w=E.D,y=u.ed,F=w.u.x*y.x+w.A.x*y.y,I=w.u.y*y.x+w.A.y*y.y,w=E.D,y=u.Oa,Q=E.position.x+w.u.x*y.x+w.A.x*y.y,da=E.position.y+w.u.y*y.x+w.A.y*y.y,D.j.x=-F,D.j.y=-I,C=0;C<u.jc;C++)w=x.D,y=u.Fa[C].Oa,R=x.position.x+w.u.x*y.x+w.A.x*y.y,y=x.position.y+w.u.y*y.x+w.A.y*y.y,D.Fa[C].x=R+.5*(B-(R-Q)*F-(y-da)*I-z)*F,D.Fa[C].y=y+.5*(B-(R-Q)*F-(y-da)*I-z)*I}}B=Th.j.x;D=Th.j.y;z=a.j[d];z.j=l;z.k=k;z.ra=g;z.G.x=B;z.G.y=D;z.K=g.jc;z.ai=n;z.yi=p;z.R.x=
g.ed.x;z.R.y=g.ed.y;z.hc.x=g.Oa.x;z.hc.y=g.Oa.y;z.fa=e+m;z.type=g.pb;for(e=0;e<z.K;++e)n=g.Fa[e],m=z.B[e],m.kc=n.yj,m.Og=n.zj,m.hc.S(n.Oa),n=m.ac.x=Th.Fa[e].x-l.q.I.x,p=m.ac.y=Th.Fa[e].y-l.q.I.y,E=m.cc.x=Th.Fa[e].x-k.q.I.x,C=m.cc.y=Th.Fa[e].y-k.q.I.y,u=n*D-p*B,y=E*D-C*B,u*=u,y*=y,m.oh=1/(l.P+k.P+l.ca*u+k.ca*y),w=l.ea*l.P+k.ea*k.P,w+=l.ea*l.ca*u+k.ea*k.ca*y,m.CD=1/w,y=D,w=-B,u=n*w-p*y,y=E*w-C*y,u*=u,y*=y,m.DG=1/(l.P+k.P+l.ca*u+k.ca*y),m.Sn=0,n=z.G.x*(r+-q*C-h- -t*p)+z.G.y*(v+q*E-f-t*n),-1>n&&(m.Sn+=
-z.yi*n);2==z.K&&(v=z.B[0],r=z.B[1],g=l.P,l=l.ca,h=k.P,k=k.ca,f=v.ac.x*D-v.ac.y*B,v=v.cc.x*D-v.cc.y*B,t=r.ac.x*D-r.ac.y*B,e=r.cc.x*D-r.cc.y*B,r=g+h+l*f*f+k*v*v,q=g+h+l*t*t+k*e*e,k=g+h+l*f*t+k*v*e,r*r<100*(r*q-k*k)?(z.N.u.Set(r,k),z.N.A.Set(k,q),ie(z.N,z.oh)):z.K=1)}}
function mh(a){for(var c=0;c<a.k;c++){for(var b=a.j[c],d=b.G.x,g=b.G.y,f=0;f<b.K;f++){var h=b,e=b.B[f],m=h.G.y,l=-h.G.x,k=h.ai*e.kc,k=ee(e.Og-e.DG*((h.k.C.x-h.k.L*e.cc.y-h.j.C.x+h.j.L*e.ac.y)*m+(h.k.C.y+h.k.L*e.cc.x-h.j.C.y-h.j.L*e.ac.x)*l),-k,k),n=k-e.Og,m=n*m,l=n*l;h.j.C.x-=h.j.P*m;h.j.C.y-=h.j.P*l;h.j.L-=h.j.ca*(e.ac.x*l-e.ac.y*m);h.k.C.x+=h.k.P*m;h.k.C.y+=h.k.P*l;h.k.L+=h.k.ca*(e.cc.x*l-e.cc.y*m);e.Og=k}if(1==b.K)f=b.B[0],h=f.kc-f.oh*((b.k.C.x-b.k.L*f.cc.y-b.j.C.x+b.j.L*f.ac.y)*d+(b.k.C.y+b.k.L*
f.cc.x-b.j.C.y-b.j.L*f.ac.x)*g-f.Sn),h=0<h?h:0,e=h-f.kc,d=e*d,g=e*g,b.j.C.x-=b.j.P*d,b.j.C.y-=b.j.P*g,b.j.L-=b.j.ca*(f.ac.x*g-f.ac.y*d),b.k.C.x+=b.k.P*d,b.k.C.y+=b.k.P*g,b.k.L+=b.k.ca*(f.cc.x*g-f.cc.y*d),f.kc=h;else for(f=b.B[0],h=b.B[1],e=f.kc,l=h.kc,k=(b.k.C.x-b.k.L*f.cc.y-b.j.C.x+b.j.L*f.ac.y)*d+(b.k.C.y+b.k.L*f.cc.x-b.j.C.y-b.j.L*f.ac.x)*g-f.Sn,g=(b.k.C.x-b.k.L*h.cc.y-b.j.C.x+b.j.L*h.ac.y)*d+(b.k.C.y+b.k.L*h.cc.x-b.j.C.y-b.j.L*h.ac.x)*g-h.Sn,k-=b.N.u.x*e+b.N.A.x*l,g-=b.N.u.y*e+b.N.A.y*l;;){d=
-(b.oh.u.x*k+b.oh.A.x*g);if(0<=d&&(m=-(b.oh.u.y*k+b.oh.A.y*g),0<=m)){Uh(b,f,h,d-e,m-l);f.kc=d;h.kc=m;break}d=-f.oh*k;if(0<=d&&0<=b.N.u.y*d+g){Uh(b,f,h,d-e,-l);f.kc=d;h.kc=0;break}d=-h.oh*g;if(0<=d&&0<=b.N.A.x*d+k){Uh(b,f,h,-e,d-l);f.kc=0;h.kc=d;break}if(0<=k&&0<=g){Uh(b,f,h,-e,-l);f.kc=0;h.kc=0;break}break}}}
function Uh(a,c,b,d,g){var f=d*a.G.x;d*=a.G.y;var h=g*a.G.x;g*=a.G.y;a.j.C.x-=a.j.P*(f+h);a.j.C.y-=a.j.P*(d+g);a.j.L-=a.j.ca*(c.ac.x*d-c.ac.y*f+b.ac.x*g-b.ac.y*h);a.k.C.x+=a.k.P*(f+h);a.k.C.y+=a.k.P*(d+g);a.k.L+=a.k.ca*(c.cc.x*d-c.cc.y*f+b.cc.x*g-b.cc.y*h);c.kc=0;b.kc=0}
function nh(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var g=a.j[d],f=g.j,h=g.k,e=f.ea*f.P,m=f.ea*f.ca,l=h.ea*h.P,k=h.ea*h.ca,n=g,p=Vh;switch(n.type){case 1:var r=n.j.J.D,v=n.hc,t=n.j.J.position.x+(r.u.x*v.x+r.A.x*v.y),q=n.j.J.position.y+(r.u.y*v.x+r.A.y*v.y),r=n.k.J.D,v=n.B[0].hc,u=n.k.J.position.x+(r.u.x*v.x+r.A.x*v.y),r=n.k.J.position.y+(r.u.y*v.x+r.A.y*v.y),v=u-t,x=r-q,z=v*v+x*x;z>Wd?(z=Math.sqrt(z),p.j.x=v/z,p.j.y=x/z):(p.j.x=1,p.j.y=0);p.Fa[0].x=.5*(t+u);p.Fa[0].y=.5*(q+r);p.k[0]=v*p.j.x+
x*p.j.y-n.fa;break;case 2:p.j.x=n.j.J.D.u.x*n.R.x+n.j.J.D.A.x*n.R.y;p.j.y=n.j.J.D.u.y*n.R.x+n.j.J.D.A.y*n.R.y;t=n.j.J.position.x+(n.j.J.D.u.x*n.hc.x+n.j.J.D.A.x*n.hc.y);q=n.j.J.position.y+(n.j.J.D.u.y*n.hc.x+n.j.J.D.A.y*n.hc.y);for(u=0;u<n.K;u++)r=n.k.J.position.x+(n.k.J.D.u.x*n.B[u].hc.x+n.k.J.D.A.x*n.B[u].hc.y),v=n.k.J.position.y+(n.k.J.D.u.y*n.B[u].hc.x+n.k.J.D.A.y*n.B[u].hc.y),p.k[u]=(r-t)*p.j.x+(v-q)*p.j.y-n.fa,p.Fa[u].x=r,p.Fa[u].y=v;break;case 4:p.j.x=n.k.J.D.u.x*n.R.x+n.k.J.D.A.x*n.R.y;p.j.y=
n.k.J.D.u.y*n.R.x+n.k.J.D.A.y*n.R.y;t=n.k.J.position.x+(n.k.J.D.u.x*n.hc.x+n.k.J.D.A.x*n.hc.y);q=n.k.J.position.y+(n.k.J.D.u.y*n.hc.x+n.k.J.D.A.y*n.hc.y);for(u=0;u<n.K;u++)r=n.j.J.position.x+(n.j.J.D.u.x*n.B[u].hc.x+n.j.J.D.A.x*n.B[u].hc.y),v=n.j.J.position.y+(n.j.J.D.u.y*n.B[u].hc.x+n.j.J.D.A.y*n.B[u].hc.y),p.k[u]=(r-t)*p.j.x+(v-q)*p.j.y-n.fa,p.Fa[u].Set(r,v);p.j.x*=-1;p.j.y*=-1}p=Vh.j;for(n=0;n<g.K;n++)v=g.B[n],r=Vh.Fa[n],x=Vh.k[n],t=r.x-f.q.I.x,q=r.y-f.q.I.y,u=r.x-h.q.I.x,r=r.y-h.q.I.y,b=b<x?b:
x,x=-v.CD*ee(c*(x+.005),-.2,0),v=x*p.x,x*=p.y,f.q.I.x-=e*v,f.q.I.y-=e*x,f.q.T-=m*(t*x-q*v),rg(f),h.q.I.x+=l*v,h.q.I.y+=l*x,h.q.T+=k*(u*x-r*v),rg(h)}return-.0075<b}function Mh(a,c){Ah.call(this,a,c)}Od(Mh,Ah);Mh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};Mh.prototype.B=function(){};function Kh(a,c){Ah.call(this,a,c)}Od(Kh,Ah);Kh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};
Kh.prototype.B=function(){a:{var a=this.df,c=this.tc.Gc,b=this.tc.sb().J,d=this.ic.Gc,g=this.ic.sb().J;a.jc=0;for(var f=g.position.x+(g.D.u.x*d.Hb.x+g.D.A.x*d.Hb.y)-b.position.x,h=g.position.y+(g.D.u.y*d.Hb.x+g.D.A.y*d.Hb.y)-b.position.y,g=f*b.D.u.x+h*b.D.u.y,b=f*b.D.A.x+h*b.D.A.y,f=0,h=-Number.MAX_VALUE,e=c.ob+d.ob,m=0;m<c.wb;++m){var l=c.Nb[m].x*(g-c.W[m].x)+c.Nb[m].y*(b-c.W[m].y);if(l>e)break a;l>h&&(h=l,f=m)}l=f+1;l>=c.wb&&(l=0);var m=c.W[f],k=c.W[l];h<Number.MIN_VALUE?(a.jc=1,a.pb=2,a.ed.S(c.Nb[f]),
a.Oa.x=.5*(m.x+k.x),a.Oa.y=.5*(m.y+k.y),a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0)):0>=(g-m.x)*(k.x-m.x)+(b-m.y)*(k.y-m.y)?(g-m.x)*(g-m.x)+(b-m.y)*(b-m.y)>e*e||(a.jc=1,a.pb=2,a.ed.x=g-m.x,a.ed.y=b-m.y,Le(a.ed),a.Oa.S(m),a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0)):0>=(g-k.x)*(m.x-k.x)+(b-k.y)*(m.y-k.y)?(g-k.x)*(g-k.x)+(b-k.y)*(b-k.y)>e*e||(a.jc=1,a.pb=2,a.ed.x=g-k.x,a.ed.y=b-k.y,Le(a.ed),a.Oa.S(k),a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0)):(l=.5*(m.x+k.x),m=.5*(m.y+k.y),h=(g-l)*c.Nb[f].x+(b-m)*c.Nb[f].y,h>e||(a.jc=1,
a.pb=2,a.ed.x=c.Nb[f].x,a.ed.y=c.Nb[f].y,Le(a.ed),a.Oa.Set(l,m),a.Fa[0].Oa.S(d.Hb),Ve(a.Fa[0].Df,0)))}};function Nh(a,c){Ah.call(this,a,c)}Od(Nh,Ah);Nh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};Nh.prototype.B=function(){};function Lh(a,c){Ah.call(this,a,c)}Od(Lh,Ah);Lh.prototype.Yc=function(a,c){Ah.prototype.Yc.call(this,a,c)};
Lh.prototype.B=function(){var a=this.df,c=this.tc.Gc,b=this.tc.sb().J,d=this.ic.Gc,g=this.ic.sb().J;a.jc=0;var f=c.ob+d.ob,h=gf(c,b,d,g),e=h.mw;if(!(h.Lq>f)){var m=gf(d,g,c,b);if(!(m.Lq>f)){var l=c,k=d,n=b,p=g,r=0;a.pb=2;m.Lq>.98*h.Lq+.001&&(l=d,k=c,n=g,p=b,e=m.mw,a.pb=4,r=1);c=e;b=k;d=p;k=Wh;void 0===c&&(c=0);for(var h=n.D.u.x*l.Nb[c].x+n.D.A.x*l.Nb[c].y,m=n.D.u.y*l.Nb[c].x+n.D.A.y*l.Nb[c].y,g=d.D.u.x*h+d.D.u.y*m,m=d.D.A.x*h+d.D.A.y*m,h=g,g=0,v=Number.MAX_VALUE,t=0;t<b.wb;t++){var q=h*b.Nb[t].x+
m*b.Nb[t].y;q<v&&(v=q,g=t)}h=g+1;h>=b.wb&&(h=0);k[0].nf.x=d.position.x+(d.D.u.x*b.W[g].x+d.D.A.x*b.W[g].y);k[0].nf.y=d.position.y+(d.D.u.y*b.W[g].x+d.D.A.y*b.W[g].y);m=k[0].id;m.B=c;m.nc=m.nc&4294967040|m.B&255;m=k[0].id;m.j=g;m.nc=m.nc&4294902015|m.j<<8&65280;g=k[0].id;g.k=0;g.nc=g.nc&4278255615|g.k<<16&16711680;k[1].nf.x=d.position.x+(d.D.u.x*b.W[h].x+d.D.A.x*b.W[h].y);k[1].nf.y=d.position.y+(d.D.u.y*b.W[h].x+d.D.A.y*b.W[h].y);b=k[1].id;b.B=c;b.nc=b.nc&4294967040|b.B&255;c=k[1].id;c.j=h;c.nc=c.nc&
4294902015|c.j<<8&65280;c=k[1].id;c.k=1;c.nc=c.nc&4278255615|c.k<<16&16711680;c=l.W[e];e=e+1<l.wb?l.W[e+1]:l.W[0];Yh.Set(e.x-c.x,e.y-c.y);Le(Yh);ci.x=Yh.y;ci.y=-Yh.x;hi.Set(.5*(c.x+e.x),.5*(c.y+e.y));ii.x=n.D.u.x*Yh.x+n.D.A.x*Yh.y;ii.y=n.D.u.y*Yh.x+n.D.A.y*Yh.y;ji.x=-ii.x;ji.y=-ii.y;ki.x=ii.y;ki.y=-ii.x;oi.x=n.position.x+(n.D.u.x*c.x+n.D.A.x*c.y);oi.y=n.position.y+(n.D.u.y*c.x+n.D.A.y*c.y);pi.x=n.position.x+(n.D.u.x*e.x+n.D.A.x*e.y);pi.y=n.position.y+(n.D.u.y*e.x+n.D.A.y*e.y);if(!(2>ef(qi,Wh,ji,-ii.x*
oi.x-ii.y*oi.y+f)||2>ef(ri,qi,ii,ii.x*pi.x+ii.y*pi.y+f))){a.ed.S(ci);a.Oa.S(hi);n=ki.x*oi.x+ki.y*oi.y;for(l=e=0;2>l;++l)ki.x*ri[l].nf.x+ki.y*ri[l].nf.y-n<=f&&(c=ri[l].nf.x-p.position.x,k=ri[l].nf.y-p.position.y,a.Fa[e].Oa.x=c*p.D.u.x+k*p.D.u.y,a.Fa[e].Oa.y=c*p.D.A.x+k*p.D.A.y,a.Fa[e].Df.Set(ri[l].id),c=a.Fa[e].Df,c.G=r,c.nc=c.nc&16777215|c.G<<24&4278190080,e++);a.jc=e}}}};function si(){this.K="Controller"+ti++;this.Oe=null;this.j=new ug}si.prototype.Kh=function(){};
si.prototype.ho=function(a){this.j.ho(a);a=a.qa;var c=this.K,b=a.k[c];if(null!=b){var d=b.j(),b=b.gb();null==d?a.j=b:d.k(b);null==b||b.Tg(d);delete a.k[c]}};var ti=0;function ui(){si.call(this);this.B=V(0,-1);this.Wh=this.offset=0;this.G=V(0,0);this.k=null}Od(ui,si);
ui.prototype.Kh=function(){this.k=this.Oe.G.Nc();for(var a=this.j.tb(Bg);a;a=a.gb()){for(var c=a.body,b=V(0,0),d=V(0,0),g=0,f=0,h=c.B.tb();h;h=h.gb()){var e=V(0,0),m=h.yf.Gc.Zn(this.B,this.offset,c.Fe(),e),g=g+m;b.x+=m*e.x;b.y+=m*e.y;var l=0,l=1,f=f+m*l;d.x+=m*e.x*l;d.y+=m*e.y*l}g<Number.MIN_VALUE||(b.x/=g,b.y/=g,d.x/=f,d.y/=f,f=this.k.Ih(),f.Ve(this.Wh*g),c.Ji(f,d),f=V(c.C.x-c.L*(b.y-c.q.I.y),c.C.y+c.L*(b.x-c.q.I.x)),f.$v(this.G),f.Ve(-2*g),c.Ji(f,b),c.Er(-c.j/c.ea*g*c.L*1),Ie(b),Ie(d))}};
function vi(){si.call(this);this.k=V(0,0)}Od(vi,si);vi.prototype.Kh=function(a){a=V(this.k.x*a.Xa,this.k.y*a.Xa);for(var c=this.j.tb(Bg);c;c=c.gb()){var b=c.body,d=b.C;lg(b,V(d.x+a.x,d.y+a.y))}Ie(a)};function wi(){si.call(this);this.k=V(0,0)}Od(wi,si);wi.prototype.Kh=function(){for(var a=this.j.tb(Bg);a;a=a.gb()){var c=a.body;c.Ji(this.k,c.q.I)}};function cg(){this.j=null;this.k={}}cg.prototype.tb=function(){return this.j};function xi(){si.call(this)}Od(xi,si);
xi.prototype.Kh=function(){for(var a=null,c=null,b=0,d=null,g=null,f=0,h=0,e=0,f=null,m=this.j.tb(vg);m;m=m.gb())for(var a=m.body,c=a.q.I,b=a.ea,l=this.j.tb(vg);l;l=l.gb())if(d=l.body,a.Ne||d.Ne)g=d.q.I,f=g.x-c.x,h=g.y-c.y,e=f*f+h*h,e<Number.MIN_VALUE||(f=V(f,h),f.Ve(1/e/Math.sqrt(e)*b*d.ea),a.Ne&&a.Ji(f,c),f.Ve(-1),d.Ne&&d.Ji(f,g),Ie(f))};function yi(){si.call(this);this.B=new fe;this.k=0}Od(yi,si);
yi.prototype.Kh=function(a){a=a.Xa;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.j.tb(Bg);c;c=c.gb()){var b=c.body,d;d=$d(this.B,ae(b.J.D,b.C));d=$d(b.J.D,d);lg(b,V(b.C.x+d.x*a,b.C.y+d.y*a))}}};function zi(a){this.be=new Ai;this.de=new Ai;this.rg=V(0,0);this.sg=V(0,0);this.pb=a.type;this.mi=this.Lk=null;this.ja=a.j;this.ka=a.k;this.$x=a.R}A=zi.prototype;A.md=function(){return this.pb};A.Tj=function(){return this.ja.Tj()&&this.ka.Tj()};A.ng=function(){};A.qg=function(){};
A.pg=function(){return!1};function Bi(){this.type=0;this.k=this.j=null;this.R=!1}function Ai(){}function Ci(a){zi.call(this,a);this.Ba=V(0,0);this.Ca=V(0,0);this.j=V(0,0);this.Ba.S(a.N);this.Ca.S(a.fa);this.K=a.length;this.G=a.K;this.N=a.G;this.R=this.B=this.k=0}Od(Ci,zi);
Ci.prototype.ng=function(a){var c,b=0,d=this.ja,g=this.ka;c=d.J.D;var f=this.Ba.x-d.q.V.x,h=this.Ba.y-d.q.V.y,b=c.u.x*f+c.A.x*h,h=c.u.y*f+c.A.y*h,f=b;c=g.J.D;var e=this.Ca.x-g.q.V.x,m=this.Ca.y-g.q.V.y,b=c.u.x*e+c.A.x*m,m=c.u.y*e+c.A.y*m,e=b;this.j.x=g.q.I.x+e-d.q.I.x-f;this.j.y=g.q.I.y+m-d.q.I.y-h;b=Math.sqrt(this.j.x*this.j.x+this.j.y*this.j.y);.005<b?this.j.Ve(1/b):this.j.Ja();c=f*this.j.y-h*this.j.x;var l=e*this.j.y-m*this.j.x;c=d.P+d.ca*c*c+g.P+g.ca*l*l;this.ea=0!=c?1/c:0;if(0<this.G){var b=
b-this.K,l=2*Math.PI*this.G,k=this.ea*l*l;this.B=a.Xa*(2*this.ea*this.N*l+a.Xa*k);this.B=0!=this.B?1/this.B:0;this.R=b*a.Xa*k*this.B;this.ea=c+this.B;this.ea=0!=this.ea?1/this.ea:0}a.Fh?(this.k*=a.Cc,a=this.k*this.j.x,c=this.k*this.j.y,d.C.x-=d.P*a,d.C.y-=d.P*c,d.L-=d.ca*(f*c-h*a),g.C.x+=g.P*a,g.C.y+=g.P*c,g.L+=g.ca*(e*c-m*a)):this.k=0};
Ci.prototype.qg=function(){var a=this.Ba.x-this.ja.q.V.x,c=this.Ba.y-this.ja.q.V.y,b=this.ja.J.D.u.x*a+this.ja.J.D.A.x*c,c=this.ja.J.D.u.y*a+this.ja.J.D.A.y*c,a=b,d=this.Ca.x-this.ka.q.V.x,g=this.Ca.y-this.ka.q.V.y,b=this.ka.J.D.u.x*d+this.ka.J.D.A.x*g,g=this.ka.J.D.u.y*d+this.ka.J.D.A.y*g,d=b,f=-this.ea*(this.j.x*(this.ka.C.x-this.ka.L*g-(this.ja.C.x-this.ja.L*c))+this.j.y*(this.ka.C.y+this.ka.L*d-(this.ja.C.y+this.ja.L*a))+this.R+this.B*this.k);this.k+=f;b=f*this.j.x;f*=this.j.y;this.ja.C.x-=this.ja.P*
b;this.ja.C.y-=this.ja.P*f;this.ja.L-=this.ja.ca*(a*f-c*b);this.ka.C.x+=this.ka.P*b;this.ka.C.y+=this.ka.P*f;this.ka.L+=this.ka.ca*(d*f-g*b)};
Ci.prototype.pg=function(){if(0<this.G)return!0;var a=this.Ba.x-this.ja.q.V.x,c=this.Ba.y-this.ja.q.V.y,b=this.ja.J.D.u.x*a+this.ja.J.D.A.x*c,c=this.ja.J.D.u.y*a+this.ja.J.D.A.y*c,a=b,d=this.Ca.x-this.ka.q.V.x,g=this.Ca.y-this.ka.q.V.y,b=this.ka.J.D.u.x*d+this.ka.J.D.A.x*g,g=this.ka.J.D.u.y*d+this.ka.J.D.A.y*g,d=b,f=this.ka.q.I.x+d-this.ja.q.I.x-a,h=this.ka.q.I.y+g-this.ja.q.I.y-c,e=Math.sqrt(f*f+h*h),b=ee(e-this.K,-.2,.2),m=-this.ea*b;this.j.Set(f/e,h/e);f=m*this.j.x;m*=this.j.y;this.ja.q.I.x-=this.ja.P*
f;this.ja.q.I.y-=this.ja.P*m;this.ja.q.T-=this.ja.ca*(a*m-c*f);this.ka.q.I.x+=this.ka.P*f;this.ka.q.I.y+=this.ka.P*m;this.ka.q.T+=this.ka.ca*(d*m-g*f);rg(this.ja);rg(this.ka);return.005>Math.abs(b)};function Di(){Bi.call(this);this.N=V(0,0);this.fa=V(0,0);this.type=3;this.length=1;this.G=this.K=0}Od(Di,Bi);Di.prototype.B=function(){return new Ci(this)};
function Ei(a){zi.call(this,a);this.B=V(0,0);this.G=V(0,0);this.R=new fe;this.j=V(0,0);this.B.S(a.G);this.G.S(a.K);this.R.Ja();this.K=0;this.j.Ja();this.k=0;this.N=a.N;this.fa=a.fa}Od(Ei,zi);
Ei.prototype.ng=function(a){var c,b=0,d=this.ja,g=this.ka;c=d.J.D;var f=this.B.x-d.q.V.x,h=this.B.y-d.q.V.y,b=c.u.x*f+c.A.x*h,h=c.u.y*f+c.A.y*h,f=b;c=g.J.D;var e=this.G.x-g.q.V.x,m=this.G.y-g.q.V.y,b=c.u.x*e+c.A.x*m,m=c.u.y*e+c.A.y*m,e=b;c=d.P;var b=g.P,l=d.ca,k=g.ca,n=new fe;n.u.x=c+b;n.A.x=0;n.u.y=0;n.A.y=c+b;n.u.x+=l*h*h;n.A.x+=-l*f*h;n.u.y+=-l*f*h;n.A.y+=l*f*f;n.u.x+=k*m*m;n.A.x+=-k*e*m;n.u.y+=-k*e*m;n.A.y+=k*e*e;ie(n,this.R);this.K=l+k;0<this.K&&(this.K=1/this.K);a.Fh?(this.j.x*=a.Cc,this.j.y*=
a.Cc,this.k*=a.Cc,a=this.j,d.C.x-=c*a.x,d.C.y-=c*a.y,d.L-=l*(f*a.y-h*a.x+this.k),g.C.x+=b*a.x,g.C.y+=b*a.y,g.L+=k*(e*a.y-m*a.x+this.k)):(this.j.Ja(),this.k=0)};
Ei.prototype.qg=function(a){var c,b=0,d=this.ja,g=this.ka,f=d.C,h=d.L,e=g.C,m=g.L,l=d.P,k=g.P,n=d.ca,p=g.ca;c=d.J.D;var r=this.B.x-d.q.V.x,v=this.B.y-d.q.V.y,b=c.u.x*r+c.A.x*v,v=c.u.y*r+c.A.y*v,r=b;c=g.J.D;var t=this.G.x-g.q.V.x,q=this.G.y-g.q.V.y,b=c.u.x*t+c.A.x*q,q=c.u.y*t+c.A.y*q,t=b;c=0;var b=-this.K*(m-h),u=this.k;c=a.Xa*this.fa;this.k=ee(this.k+b,-c,c);b=this.k-u;h-=n*b;m+=p*b;c=$d(this.R,V(-(e.x-m*q-f.x+h*v),-(e.y+m*t-f.y-h*r)));b=this.j.Nc();this.j.mg(c);c=a.Xa*this.N;Ke(this.j)>c*c&&(Le(this.j),
this.j.Ve(c));c=de(this.j,b);f.x-=l*c.x;f.y-=l*c.y;h-=n*(r*c.y-v*c.x);e.x+=k*c.x;e.y+=k*c.y;m+=p*(t*c.y-q*c.x);d.L=h;g.L=m};Ei.prototype.pg=function(){return!0};function Fi(){Bi.call(this);this.G=V(0,0);this.K=V(0,0);this.type=9;this.fa=this.N=0}Od(Fi,Bi);Fi.prototype.B=function(){return new Ei(this)};
function Gi(a){zi.call(this,a);this.fa=V(0,0);this.ra=V(0,0);this.Ba=V(0,0);this.Ca=V(0,0);this.j=new Hi;var c=a.G.pb,b=a.K.pb;this.N=this.K=this.R=this.G=null;var d=0,g=0;this.Wa=a.G.ja;this.ja=a.G.ka;1==c?(this.G=a.G,this.fa.S(this.G.Ba),this.Ba.S(this.G.Ca),d=Ii(this.G)):(this.R=a.G,this.fa.S(this.R.Ba),this.Ba.S(this.R.Ca),d=this.R.rl());this.bb=a.K.ja;this.ka=a.K.ka;1==b?(this.K=a.K,this.ra.S(this.K.Ba),this.Ca.S(this.K.Ca),g=Ii(this.K)):(this.N=a.K,this.ra.S(this.N.Ba),this.Ca.S(this.N.Ca),
g=this.N.rl());this.k=a.N;this.qa=d+this.k*g;this.B=0}Od(Gi,zi);
Gi.prototype.ng=function(a){var c=this.Wa,b=this.bb,d=this.ja,g=this.ka,f=0,h=0,e=0,m=0,l=e=0,k=0;this.j.Ja();this.G?(this.j.B=-1,k+=d.ca):(c=c.J.D,h=this.R.we,f=c.u.x*h.x+c.A.x*h.y,h=c.u.y*h.x+c.A.y*h.y,c=d.J.D,e=this.Ba.x-d.q.V.x,m=this.Ba.y-d.q.V.y,l=c.u.x*e+c.A.x*m,m=c.u.y*e+c.A.y*m,e=l*h-m*f,this.j.j.Set(-f,-h),this.j.B=-e,k+=d.P+d.ca*e*e);this.K?(this.j.G=-this.k,k+=this.k*this.k*g.ca):(c=b.J.D,h=this.N.we,f=c.u.x*h.x+c.A.x*h.y,h=c.u.y*h.x+c.A.y*h.y,c=g.J.D,e=this.Ca.x-g.q.V.x,m=this.Ca.y-g.q.V.y,
l=c.u.x*e+c.A.x*m,m=c.u.y*e+c.A.y*m,e=l*h-m*f,this.j.k.Set(-this.k*f,-this.k*h),this.j.G=-this.k*e,k+=this.k*this.k*(g.P+g.ca*e*e));this.ea=0<k?1/k:0;a.Fh?(d.C.x+=d.P*this.B*this.j.j.x,d.C.y+=d.P*this.B*this.j.j.y,d.L+=d.ca*this.B*this.j.B,g.C.x+=g.P*this.B*this.j.k.x,g.C.y+=g.P*this.B*this.j.k.y,g.L+=g.ca*this.B*this.j.G):this.B=0};
Gi.prototype.qg=function(){var a=this.ja,c=this.ka,b=this.j,d=a.C,g=a.L,f=c.C,h=c.L;void 0===g&&(g=0);void 0===h&&(h=0);b=-this.ea*(b.j.x*d.x+b.j.y*d.y+b.B*g+(b.k.x*f.x+b.k.y*f.y)+b.G*h);this.B+=b;a.C.x+=a.P*b*this.j.j.x;a.C.y+=a.P*b*this.j.j.y;a.L+=a.ca*b*this.j.B;c.C.x+=c.P*b*this.j.k.x;c.C.y+=c.P*b*this.j.k.y;c.L+=c.ca*b*this.j.G};
Gi.prototype.pg=function(){var a=this.ja,c=this.ka,b=0,d=0;this.G?b=Ii(this.G):b=this.R.rl();this.K?d=Ii(this.K):d=this.N.rl();b=-this.ea*(this.qa-(b+this.k*d));a.q.I.x+=a.P*b*this.j.j.x;a.q.I.y+=a.P*b*this.j.j.y;a.q.T+=a.ca*b*this.j.B;c.q.I.x+=c.P*b*this.j.k.x;c.q.I.y+=c.P*b*this.j.k.y;c.q.T+=c.ca*b*this.j.G;rg(a);rg(c);return!0};function Ji(){Bi.call(this);this.type=6;this.K=this.G=null;this.N=1}Od(Ji,Bi);Ji.prototype.B=function(){return new Gi(this)};function Hi(){this.j=V(0,0);this.k=V(0,0)}
Hi.prototype.Ja=function(){this.j.Ja();this.B=0;this.k.Ja();this.G=0};Hi.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.j.S(a);this.B=c;this.k.S(b);this.G=d};
function Ki(a){zi.call(this,a);this.Ba=V(0,0);this.Ca=V(0,0);this.we=V(0,0);this.Ge=V(0,0);this.k=V(0,0);this.N=V(0,0);this.qa=new fe;this.j=V(0,0);this.Ba.S(a.fa);this.Ca.S(a.ra);this.we.S(a.G);this.Ge.x=-this.we.y;this.Ge.y=this.we.x;this.j.Ja();this.cb=this.Kb=0;this.Oc=a.qa;this.nd=a.Kb;this.Pr=a.Wa;this.Qr=a.bb;this.Oi=a.K;this.wl=a.N;this.ub=0;this.k.Ja();this.N.Ja()}Od(Ki,zi);
Ki.prototype.rl=function(){var a=this.ja,c=this.ka,b=ng(a,this.Ba),d=ng(c,this.Ca),c=d.x-b.x,b=d.y-b.y,a=$d(a.J.D,this.we);return a.x*c+a.y*b};
Ki.prototype.ng=function(a){var c=this.ja,b=this.ka,d,g=0;this.rg.S(c.q.V);this.sg.S(b.q.V);var f=c.Fe();b.Fe();d=c.J.D;var h=this.Ba.x-this.rg.x,e=this.Ba.y-this.rg.y,g=d.u.x*h+d.A.x*e,e=d.u.y*h+d.A.y*e,h=g;d=b.J.D;var m=this.Ca.x-this.sg.x,l=this.Ca.y-this.sg.y,g=d.u.x*m+d.A.x*l,l=d.u.y*m+d.A.y*l,m=g;d=b.q.I.x+m-c.q.I.x-h;g=b.q.I.y+l-c.q.I.y-e;this.fa=c.P;this.ra=b.P;this.Wa=c.ca;this.bb=b.ca;this.k.S($d(f.D,this.we));this.B=(d+h)*this.k.y-(g+e)*this.k.x;this.G=m*this.k.y-l*this.k.x;this.Kb=this.fa+
this.ra+this.Wa*this.B*this.B+this.bb*this.G*this.G;this.Kb=this.Kb>Number.MIN_VALUE?1/this.Kb:0;this.N.S($d(f.D,this.Ge));this.K=(d+h)*this.N.y-(g+e)*this.N.x;this.R=m*this.N.y-l*this.N.x;f=this.fa;h=this.ra;e=this.Wa;m=this.bb;this.qa.u.x=f+h+e*this.K*this.K+m*this.R*this.R;this.qa.u.y=e*this.K*this.B+m*this.R*this.G;this.qa.A.x=this.qa.u.y;this.qa.A.y=f+h+e*this.B*this.B+m*this.G*this.G;this.Oi?(d=this.k.x*d+this.k.y*g,.01>Math.abs(this.nd-this.Oc)?this.ub=3:d<=this.Oc?1!=this.ub&&(this.ub=1,this.j.y=
0):d>=this.nd?2!=this.ub&&(this.ub=2,this.j.y=0):(this.ub=0,this.j.y=0)):this.ub=0;0==this.wl&&(this.cb=0);a.Fh?(this.j.x*=a.Cc,this.j.y*=a.Cc,this.cb*=a.Cc,a=this.j.x*this.N.x+(this.cb+this.j.y)*this.k.x,d=this.j.x*this.N.y+(this.cb+this.j.y)*this.k.y,g=this.j.x*this.K+(this.cb+this.j.y)*this.B,f=this.j.x*this.R+(this.cb+this.j.y)*this.G,c.C.x-=this.fa*a,c.C.y-=this.fa*d,c.L-=this.Wa*g,b.C.x+=this.ra*a,b.C.y+=this.ra*d,b.L+=this.bb*f):(this.j.Ja(),this.cb=0)};
Ki.prototype.qg=function(a){var c=this.ja,b=this.ka,d=c.C,g=c.L,f=b.C,h=b.L,e=0,m=0,l=0,k=0;this.wl&&3!=this.ub&&(k=this.Kb*(this.Qr-(this.k.x*(f.x-d.x)+this.k.y*(f.y-d.y)+this.G*h-this.B*g)),e=this.cb,m=a.Xa*this.Pr,this.cb=ee(this.cb+k,-m,m),k=this.cb-e,e=k*this.k.x,m=k*this.k.y,l=k*this.B,k*=this.G,d.x-=this.fa*e,d.y-=this.fa*m,g-=this.Wa*l,f.x+=this.ra*e,f.y+=this.ra*m,h+=this.bb*k);m=this.N.x*(f.x-d.x)+this.N.y*(f.y-d.y)+this.R*h-this.K*g;this.Oi&&0!=this.ub?(l=this.k.x*(f.x-d.x)+this.k.y*(f.y-
d.y)+this.G*h-this.B*g,e=this.j.Nc(),a=je(this.qa,V(0,0),-m,-l),this.j.mg(a),1==this.ub?this.j.y=Math.max(this.j.y,0):2==this.ub&&(this.j.y=Math.min(this.j.y,0)),m=-m-(this.j.y-e.y)*this.qa.A.x,l=0,l=0!=this.qa.u.x?m/this.qa.u.x+e.x:e.x,this.j.x=l,a.x=this.j.x-e.x,a.y=this.j.y-e.y,e=a.x*this.N.x+a.y*this.k.x,m=a.x*this.N.y+a.y*this.k.y,l=a.x*this.K+a.y*this.B,k=a.x*this.R+a.y*this.G):(a=0,a=0!=this.qa.u.x?-m/this.qa.u.x:0,this.j.x+=a,e=a*this.N.x,m=a*this.N.y,l=a*this.K,k=a*this.R);d.x-=this.fa*e;
d.y-=this.fa*m;g-=this.Wa*l;f.x+=this.ra*e;f.y+=this.ra*m;h+=this.bb*k;c.C.S(d);c.L=g;b.C.S(f);b.L=h};
Ki.prototype.pg=function(){var a=this.ja,c=this.ka,b=a.q.I,d=a.q.T,g=c.q.I,f=c.q.T,h,e=0,m=0,l=0,k=0,n=h=0,p=0,m=!1,r=0,v=ge(d),l=ge(f);h=v;var p=this.Ba.x-this.rg.x,t=this.Ba.y-this.rg.y,e=h.u.x*p+h.A.x*t,t=h.u.y*p+h.A.y*t,p=e;h=l;l=this.Ca.x-this.sg.x;k=this.Ca.y-this.sg.y;e=h.u.x*l+h.A.x*k;k=h.u.y*l+h.A.y*k;l=e;h=g.x+l-b.x-p;e=g.y+k-b.y-t;if(this.Oi){this.k=$d(v,this.we);this.B=(h+p)*this.k.y-(e+t)*this.k.x;this.G=l*this.k.y-k*this.k.x;var q=this.k.x*h+this.k.y*e;.01>Math.abs(this.nd-this.Oc)?
(r=ee(q,-.2,.2),n=Math.abs(q),m=!0):q<=this.Oc?(r=ee(q-this.Oc+.005,-.2,0),n=this.Oc-q,m=!0):q>=this.nd&&(r=ee(q-this.nd+.005,0,.2),n=q-this.nd,m=!0)}this.N=$d(v,this.Ge);this.K=(h+p)*this.N.y-(e+t)*this.N.x;this.R=l*this.N.y-k*this.N.x;v=V(0,0);t=this.N.x*h+this.N.y*e;n=Math.max(n,Math.abs(t));p=0;m?(m=this.fa,l=this.ra,k=this.Wa,h=this.bb,this.qa.u.x=m+l+k*this.K*this.K+h*this.R*this.R,this.qa.u.y=k*this.K*this.B+h*this.R*this.G,this.qa.A.x=this.qa.u.y,this.qa.A.y=m+l+k*this.B*this.B+h*this.G*this.G,
je(this.qa,v,-t,-r)):(m=this.fa,l=this.ra,k=this.Wa,h=this.bb,r=m+l+k*this.K*this.K+h*this.R*this.R,v.x=0!=r?-t/r:0,v.y=0);r=v.x*this.N.x+v.y*this.k.x;m=v.x*this.N.y+v.y*this.k.y;t=v.x*this.K+v.y*this.B;v=v.x*this.R+v.y*this.G;b.x-=this.fa*r;b.y-=this.fa*m;d-=this.Wa*t;g.x+=this.ra*r;g.y+=this.ra*m;f+=this.bb*v;a.q.T=d;c.q.T=f;rg(a);rg(c);return.005>=n&&p<=Pd};
function Li(){Bi.call(this);this.fa=V(0,0);this.ra=V(0,0);this.G=V(0,0);this.type=7;this.G.Set(1,0);this.K=!1;this.Kb=this.qa=0;this.N=!1;this.bb=this.Wa=0}Od(Li,Bi);Li.prototype.B=function(){return new Ki(this)};
function Oi(a){zi.call(this,a);this.Ba=V(0,0);this.Ca=V(0,0);this.we=V(0,0);this.Ge=V(0,0);this.N=V(0,0);this.qa=V(0,0);this.k=new ke;this.j=new le(0,0,0);this.Ba.S(a.fa);this.Ca.S(a.ra);this.we.S(a.G);this.Ge.x=-this.we.y;this.Ge.y=this.we.x;this.lC=a.Kb;this.j.Ja();this.cb=this.Kb=0;this.Oc=a.qa;this.nd=a.cb;this.Pr=a.Wa;this.Qr=a.bb;this.Oi=a.K;this.wl=a.N;this.ub=0;this.N.Ja();this.qa.Ja()}Od(Oi,zi);
Oi.prototype.rl=function(){var a=this.ja,c=this.ka,b=ng(a,this.Ba),d=ng(c,this.Ca),c=d.x-b.x,b=d.y-b.y,a=$d(a.J.D,this.we);return a.x*c+a.y*b};
Oi.prototype.ng=function(a){var c=this.ja,b=this.ka,d,g=0;this.rg.S(c.q.V);this.sg.S(b.q.V);var f=c.Fe();b.Fe();d=c.J.D;var h=this.Ba.x-this.rg.x,e=this.Ba.y-this.rg.y,g=d.u.x*h+d.A.x*e,e=d.u.y*h+d.A.y*e,h=g;d=b.J.D;var m=this.Ca.x-this.sg.x,l=this.Ca.y-this.sg.y,g=d.u.x*m+d.A.x*l,l=d.u.y*m+d.A.y*l,m=g;d=b.q.I.x+m-c.q.I.x-h;g=b.q.I.y+l-c.q.I.y-e;this.fa=c.P;this.ra=b.P;this.Wa=c.ca;this.bb=b.ca;this.N.S($d(f.D,this.we));this.B=(d+h)*this.N.y-(g+e)*this.N.x;this.G=m*this.N.y-l*this.N.x;this.Kb=this.fa+
this.ra+this.Wa*this.B*this.B+this.bb*this.G*this.G;this.Kb>Number.MIN_VALUE&&(this.Kb=1/this.Kb);this.qa.S($d(f.D,this.Ge));this.K=(d+h)*this.qa.y-(g+e)*this.qa.x;this.R=m*this.qa.y-l*this.qa.x;f=this.fa;h=this.ra;e=this.Wa;m=this.bb;this.k.u.x=f+h+e*this.K*this.K+m*this.R*this.R;this.k.u.y=e*this.K+m*this.R;this.k.u.z=e*this.K*this.B+m*this.R*this.G;this.k.A.x=this.k.u.y;this.k.A.y=e+m;this.k.A.z=e*this.B+m*this.G;this.k.j.x=this.k.u.z;this.k.j.y=this.k.A.z;this.k.j.z=f+h+e*this.B*this.B+m*this.G*
this.G;this.Oi?(d=this.N.x*d+this.N.y*g,.01>Math.abs(this.nd-this.Oc)?this.ub=3:d<=this.Oc?1!=this.ub&&(this.ub=1,this.j.z=0):d>=this.nd?2!=this.ub&&(this.ub=2,this.j.z=0):(this.ub=0,this.j.z=0)):this.ub=0;0==this.wl&&(this.cb=0);a.Fh?(this.j.x*=a.Cc,this.j.y*=a.Cc,this.cb*=a.Cc,a=this.j.x*this.qa.x+(this.cb+this.j.z)*this.N.x,d=this.j.x*this.qa.y+(this.cb+this.j.z)*this.N.y,g=this.j.x*this.K+this.j.y+(this.cb+this.j.z)*this.B,f=this.j.x*this.R+this.j.y+(this.cb+this.j.z)*this.G,c.C.x-=this.fa*a,
c.C.y-=this.fa*d,c.L-=this.Wa*g,b.C.x+=this.ra*a,b.C.y+=this.ra*d,b.L+=this.bb*f):(this.j.Ja(),this.cb=0)};
Oi.prototype.qg=function(a){var c=this.ja,b=this.ka,d=c.C,g=c.L,f=b.C,h=b.L,e=0,m=0,l=0,k=0;this.wl&&3!=this.ub&&(k=this.Kb*(this.Qr-(this.N.x*(f.x-d.x)+this.N.y*(f.y-d.y)+this.G*h-this.B*g)),e=this.cb,a=a.Xa*this.Pr,this.cb=ee(this.cb+k,-a,a),k=this.cb-e,e=k*this.N.x,m=k*this.N.y,l=k*this.B,k*=this.G,d.x-=this.fa*e,d.y-=this.fa*m,g-=this.Wa*l,f.x+=this.ra*e,f.y+=this.ra*m,h+=this.bb*k);l=this.qa.x*(f.x-d.x)+this.qa.y*(f.y-d.y)+this.R*h-this.K*g;m=h-g;this.Oi&&0!=this.ub?(a=this.N.x*(f.x-d.x)+this.N.y*
(f.y-d.y)+this.G*h-this.B*g,e=this.j.Nc(),a=De(this.k,new le(0,0,0),-l,-m,-a),this.j.mg(a),1==this.ub?this.j.z=Math.max(this.j.z,0):2==this.ub&&(this.j.z=Math.min(this.j.z,0)),l=-l-(this.j.z-e.z)*this.k.j.x,m=-m-(this.j.z-e.z)*this.k.j.y,m=me(this.k,V(0,0),l,m),m.x+=e.x,m.y+=e.y,this.j.x=m.x,this.j.y=m.y,a.x=this.j.x-e.x,a.y=this.j.y-e.y,a.z=this.j.z-e.z,e=a.x*this.qa.x+a.z*this.N.x,m=a.x*this.qa.y+a.z*this.N.y,l=a.x*this.K+a.y+a.z*this.B,k=a.x*this.R+a.y+a.z*this.G,d.x-=this.fa*e,d.y-=this.fa*m,
g-=this.Wa*l,f.x+=this.ra*e,f.y+=this.ra*m,h+=this.bb*k):(a=me(this.k,V(0,0),-l,-m),this.j.x+=a.x,this.j.y+=a.y,e=a.x*this.qa.x,m=a.x*this.qa.y,l=a.x*this.K+a.y,k=a.x*this.R+a.y,d.x-=this.fa*e,d.y-=this.fa*m,g-=this.Wa*l,f.x+=this.ra*e,f.y+=this.ra*m,h+=this.bb*k);c.C.S(d);c.L=g;b.C.S(f);b.L=h};
Oi.prototype.pg=function(){var a=this.ja,c=this.ka,b=a.q.I,d=a.q.T,g=c.q.I,f=c.q.T,h,e=0,m=0,l=0,k=e=h=0,n=0,m=!1,p=0,r=ge(d),v=ge(f);h=r;var n=this.Ba.x-this.rg.x,t=this.Ba.y-this.rg.y,e=h.u.x*n+h.A.x*t,t=h.u.y*n+h.A.y*t,n=e;h=v;v=this.Ca.x-this.sg.x;l=this.Ca.y-this.sg.y;e=h.u.x*v+h.A.x*l;l=h.u.y*v+h.A.y*l;v=e;h=g.x+v-b.x-n;e=g.y+l-b.y-t;if(this.Oi){this.N=$d(r,this.we);this.B=(h+n)*this.N.y-(e+t)*this.N.x;this.G=v*this.N.y-l*this.N.x;var q=this.N.x*h+this.N.y*e;.01>Math.abs(this.nd-this.Oc)?(p=
ee(q,-.2,.2),k=Math.abs(q),m=!0):q<=this.Oc?(p=ee(q-this.Oc+.005,-.2,0),k=this.Oc-q,m=!0):q>=this.nd&&(p=ee(q-this.nd+.005,0,.2),k=q-this.nd,m=!0)}this.qa=$d(r,this.Ge);this.K=(h+n)*this.qa.y-(e+t)*this.qa.x;this.R=v*this.qa.y-l*this.qa.x;r=new le(0,0,0);t=this.qa.x*h+this.qa.y*e;v=f-d-this.lC;k=Math.max(k,Math.abs(t));n=Math.abs(v);m?(m=this.fa,l=this.ra,h=this.Wa,e=this.bb,this.k.u.x=m+l+h*this.K*this.K+e*this.R*this.R,this.k.u.y=h*this.K+e*this.R,this.k.u.z=h*this.K*this.B+e*this.R*this.G,this.k.A.x=
this.k.u.y,this.k.A.y=h+e,this.k.A.z=h*this.B+e*this.G,this.k.j.x=this.k.u.z,this.k.j.y=this.k.A.z,this.k.j.z=m+l+h*this.B*this.B+e*this.G*this.G,De(this.k,r,-t,-v,-p)):(m=this.fa,l=this.ra,h=this.Wa,e=this.bb,p=h*this.K+e*this.R,q=h+e,this.k.u.Set(m+l+h*this.K*this.K+e*this.R*this.R,p,0),this.k.A.Set(p,q,0),p=me(this.k,V(0,0),-t,-v),r.x=p.x,r.y=p.y,r.z=0);p=r.x*this.qa.x+r.z*this.N.x;m=r.x*this.qa.y+r.z*this.N.y;t=r.x*this.K+r.y+r.z*this.B;r=r.x*this.R+r.y+r.z*this.G;b.x-=this.fa*p;b.y-=this.fa*
m;d-=this.Wa*t;g.x+=this.ra*p;g.y+=this.ra*m;f+=this.bb*r;a.q.T=d;c.q.T=f;rg(a);rg(c);return.005>=k&&n<=Pd};function Pi(){Bi.call(this);this.fa=V(0,0);this.ra=V(0,0);this.G=V(0,0);this.type=2;this.G.Set(1,0);this.Kb=0;this.K=!1;this.cb=this.qa=0;this.N=!1;this.bb=this.Wa=0}Od(Pi,Bi);Pi.prototype.B=function(){return new Oi(this)};
function Qi(a){zi.call(this,a);this.fa=V(0,0);this.ra=V(0,0);this.Ba=V(0,0);this.Ca=V(0,0);this.j=V(0,0);this.k=V(0,0);this.K=this.ja.Oe.sF;this.fa.x=a.G.x-this.K.J.position.x;this.fa.y=a.G.y-this.K.J.position.y;this.ra.x=a.K.x-this.K.J.position.x;this.ra.y=a.K.y-this.K.J.position.y;this.Ba.S(a.N);this.Ca.S(a.fa);this.B=a.ra;this.bb=0+0*this.B;this.nd=Math.min(0,this.bb-this.B*Ri);this.Ge=Math.min(0,(this.bb-Ri)/this.B);this.N=this.R=this.G=0}Od(Qi,zi);
Qi.prototype.ng=function(a){var c=this.ja,b=this.ka,d;d=c.J.D;var g=this.Ba.x-c.q.V.x,f=this.Ba.y-c.q.V.y,h=d.u.x*g+d.A.x*f,f=d.u.y*g+d.A.y*f,g=h;d=b.J.D;var e=this.Ca.x-b.q.V.x,m=this.Ca.y-b.q.V.y,h=d.u.x*e+d.A.x*m,m=d.u.y*e+d.A.y*m,e=h;d=b.q.I.x+e;var h=b.q.I.y+m,l=this.K.J.position.x+this.ra.x,k=this.K.J.position.y+this.ra.y;this.j.Set(c.q.I.x+g-(this.K.J.position.x+this.fa.x),c.q.I.y+f-(this.K.J.position.y+this.fa.y));this.k.Set(d-l,h-k);d=Je(this.j);h=Je(this.k);.005<d?this.j.Ve(1/d):this.j.Ja();
.005<h?this.k.Ve(1/h):this.k.Ja();0<this.bb-d-this.B*h?this.G=this.Oc=0:this.Oc=2;d<this.nd?this.R=this.cb=0:this.cb=2;h<this.Ge?this.N=this.ub=0:this.ub=2;d=g*this.j.y-f*this.j.x;h=e*this.k.y-m*this.k.x;this.qa=c.P+c.ca*d*d;this.Wa=b.P+b.ca*h*h;this.Kb=this.qa+this.B*this.B*this.Wa;this.qa=1/this.qa;this.Wa=1/this.Wa;this.Kb=1/this.Kb;a.Fh?(this.G*=a.Cc,this.R*=a.Cc,this.N*=a.Cc,a=(-this.G-this.R)*this.j.x,d=(-this.G-this.R)*this.j.y,h=(-this.B*this.G-this.N)*this.k.x,l=(-this.B*this.G-this.N)*this.k.y,
c.C.x+=c.P*a,c.C.y+=c.P*d,c.L+=c.ca*(g*d-f*a),b.C.x+=b.P*h,b.C.y+=b.P*l,b.L+=b.ca*(e*l-m*h)):this.N=this.R=this.G=0};
Qi.prototype.qg=function(){var a=this.ja,c=this.ka,b;b=a.J.D;var d=this.Ba.x-a.q.V.x,g=this.Ba.y-a.q.V.y,f=b.u.x*d+b.A.x*g,g=b.u.y*d+b.A.y*g,d=f;b=c.J.D;var h=this.Ca.x-c.q.V.x,e=this.Ca.y-c.q.V.y,f=b.u.x*h+b.A.x*e,e=b.u.y*h+b.A.y*e,h=f,m=f=b=0,l=0;b=l=b=l=m=f=b=0;2==this.Oc&&(b=a.C.x+-a.L*g,f=a.C.y+a.L*d,m=c.C.x+-c.L*e,l=c.C.y+c.L*h,b=-(this.j.x*b+this.j.y*f)-this.B*(this.k.x*m+this.k.y*l),l=this.Kb*-b,b=this.G,this.G=Math.max(0,this.G+l),l=this.G-b,b=-l*this.j.x,f=-l*this.j.y,m=-this.B*l*this.k.x,
l=-this.B*l*this.k.y,a.C.x+=a.P*b,a.C.y+=a.P*f,a.L+=a.ca*(d*f-g*b),c.C.x+=c.P*m,c.C.y+=c.P*l,c.L+=c.ca*(h*l-e*m));2==this.cb&&(b=a.C.x+-a.L*g,f=a.C.y+a.L*d,b=-(this.j.x*b+this.j.y*f),l=-this.qa*b,b=this.R,this.R=Math.max(0,this.R+l),l=this.R-b,b=-l*this.j.x,f=-l*this.j.y,a.C.x+=a.P*b,a.C.y+=a.P*f,a.L+=a.ca*(d*f-g*b));2==this.ub&&(m=c.C.x+-c.L*e,l=c.C.y+c.L*h,b=-(this.k.x*m+this.k.y*l),l=-this.Wa*b,b=this.N,this.N=Math.max(0,this.N+l),l=this.N-b,m=-l*this.k.x,l=-l*this.k.y,c.C.x+=c.P*m,c.C.y+=c.P*
l,c.L+=c.ca*(h*l-e*m))};
Qi.prototype.pg=function(){var a=this.ja,c=this.ka,b,d=this.K.J.position.x+this.fa.x,g=this.K.J.position.y+this.fa.y,f=this.K.J.position.x+this.ra.x,h=this.K.J.position.y+this.ra.y,e=0,m=0,l=0,k=0,n=b=0,p=0,r=0,v=n=r=b=n=b=0;2==this.Oc&&(b=a.J.D,e=this.Ba.x-a.q.V.x,m=this.Ba.y-a.q.V.y,n=b.u.x*e+b.A.x*m,m=b.u.y*e+b.A.y*m,e=n,b=c.J.D,l=this.Ca.x-c.q.V.x,k=this.Ca.y-c.q.V.y,n=b.u.x*l+b.A.x*k,k=b.u.y*l+b.A.y*k,l=n,b=a.q.I.x+e,n=a.q.I.y+m,p=c.q.I.x+l,r=c.q.I.y+k,this.j.Set(b-d,n-g),this.k.Set(p-f,r-h),
b=Je(this.j),n=Je(this.k),.005<b?this.j.Ve(1/b):this.j.Ja(),.005<n?this.k.Ve(1/n):this.k.Ja(),b=this.bb-b-this.B*n,v=Math.max(v,-b),b=ee(b+.005,-.2,0),r=-this.Kb*b,b=-r*this.j.x,n=-r*this.j.y,p=-this.B*r*this.k.x,r=-this.B*r*this.k.y,a.q.I.x+=a.P*b,a.q.I.y+=a.P*n,a.q.T+=a.ca*(e*n-m*b),c.q.I.x+=c.P*p,c.q.I.y+=c.P*r,c.q.T+=c.ca*(l*r-k*p),rg(a),rg(c));2==this.cb&&(b=a.J.D,e=this.Ba.x-a.q.V.x,m=this.Ba.y-a.q.V.y,n=b.u.x*e+b.A.x*m,m=b.u.y*e+b.A.y*m,e=n,b=a.q.I.x+e,n=a.q.I.y+m,this.j.Set(b-d,n-g),b=Je(this.j),
.005<b?(this.j.x*=1/b,this.j.y*=1/b):this.j.Ja(),b=this.nd-b,v=Math.max(v,-b),b=ee(b+.005,-.2,0),r=-this.qa*b,b=-r*this.j.x,n=-r*this.j.y,a.q.I.x+=a.P*b,a.q.I.y+=a.P*n,a.q.T+=a.ca*(e*n-m*b),rg(a));2==this.ub&&(b=c.J.D,l=this.Ca.x-c.q.V.x,k=this.Ca.y-c.q.V.y,n=b.u.x*l+b.A.x*k,k=b.u.y*l+b.A.y*k,l=n,p=c.q.I.x+l,r=c.q.I.y+k,this.k.Set(p-f,r-h),n=Je(this.k),.005<n?(this.k.x*=1/n,this.k.y*=1/n):this.k.Ja(),b=this.Ge-n,v=Math.max(v,-b),b=ee(b+.005,-.2,0),r=-this.Wa*b,p=-r*this.k.x,r=-r*this.k.y,c.q.I.x+=
c.P*p,c.q.I.y+=c.P*r,c.q.T+=c.ca*(l*r-k*p),rg(c));return.005>v};var Ri=1;function Si(){Bi.call(this);this.G=V(0,0);this.K=V(0,0);this.N=V(0,0);this.fa=V(0,0);this.type=4;this.G.Set(-1,1);this.K.Set(1,1);this.N.Set(-1,0);this.fa.Set(1,0);this.ra=1;this.R=!0}Od(Si,Bi);Si.prototype.B=function(){return new Qi(this)};
function Ti(a){zi.call(this,a);this.qa=new fe;this.N=new fe;this.fa=new fe;this.ra=new fe;this.k=new le(0,0,0);this.G=V(0,0);this.R=V(0,0);this.Ba=V(0,0);this.Ca=V(0,0);this.j=new le(0,0,0);this.ea=new ke;this.Ba.S(a.G);this.Ca.S(a.K);this.cb=a.fa;this.j.Ja();this.K=0;this.Wa=a.ra;this.ub=a.qa;this.Ge=a.Kb;this.nd=a.bb;this.bb=a.N;this.Oc=a.Wa;this.B=0}Od(Ti,zi);function Ii(a){return a.ka.q.T-a.ja.q.T-a.cb}
Ti.prototype.ng=function(a){var c=this.ja,b=this.ka,d,g=0;d=c.J.D;var f=this.Ba.x-c.q.V.x,h=this.Ba.y-c.q.V.y,g=d.u.x*f+d.A.x*h,h=d.u.y*f+d.A.y*h,f=g;d=b.J.D;var e=this.Ca.x-b.q.V.x,m=this.Ca.y-b.q.V.y,g=d.u.x*e+d.A.x*m,m=d.u.y*e+d.A.y*m,e=g;d=c.P;var g=b.P,l=c.ca,k=b.ca;this.ea.u.x=d+g+h*h*l+m*m*k;this.ea.A.x=-h*f*l-m*e*k;this.ea.j.x=-h*l-m*k;this.ea.u.y=this.ea.A.x;this.ea.A.y=d+g+f*f*l+e*e*k;this.ea.j.y=f*l+e*k;this.ea.u.z=this.ea.j.x;this.ea.A.z=this.ea.j.y;this.ea.j.z=l+k;this.Kb=1/(l+k);this.Oc||
(this.K=0);if(this.bb){var n=b.q.T-c.q.T-this.cb;Math.abs(this.ub-this.Wa)<2*Pd?this.B=3:n<=this.Wa?(1!=this.B&&(this.j.z=0),this.B=1):n>=this.ub?(2!=this.B&&(this.j.z=0),this.B=2):(this.B=0,this.j.z=0)}else this.B=0;a.Fh?(this.j.x*=a.Cc,this.j.y*=a.Cc,this.K*=a.Cc,a=this.j.x,n=this.j.y,c.C.x-=d*a,c.C.y-=d*n,c.L-=l*(f*n-h*a+this.K+this.j.z),b.C.x+=g*a,b.C.y+=g*n,b.L+=k*(e*n-m*a+this.K+this.j.z)):(this.j.Ja(),this.K=0)};
Ti.prototype.qg=function(a){var c=this.ja,b=this.ka,d=0,g=d=0,f=0,h=0,e=0,m=c.C,l=c.L,k=b.C,n=b.L,p=c.P,r=b.P,v=c.ca,t=b.ca;this.Oc&&3!=this.B&&(g=this.Kb*-(n-l-this.nd),f=this.K,h=a.Xa*this.Ge,this.K=ee(this.K+g,-h,h),g=this.K-f,l-=v*g,n+=t*g);if(this.bb&&0!=this.B){a=c.J.D;g=this.Ba.x-c.q.V.x;f=this.Ba.y-c.q.V.y;d=a.u.x*g+a.A.x*f;f=a.u.y*g+a.A.y*f;g=d;a=b.J.D;h=this.Ca.x-b.q.V.x;e=this.Ca.y-b.q.V.y;d=a.u.x*h+a.A.x*e;e=a.u.y*h+a.A.y*e;h=d;a=k.x+-n*e-m.x- -l*f;var q=k.y+n*h-m.y-l*g;De(this.ea,this.k,
-a,-q,-(n-l));3==this.B?this.j.mg(this.k):1==this.B?(d=this.j.z+this.k.z,0>d&&(me(this.ea,this.R,-a,-q),this.k.x=this.R.x,this.k.y=this.R.y,this.k.z=-this.j.z,this.j.x+=this.R.x,this.j.y+=this.R.y,this.j.z=0)):2==this.B&&(d=this.j.z+this.k.z,0<d&&(me(this.ea,this.R,-a,-q),this.k.x=this.R.x,this.k.y=this.R.y,this.k.z=-this.j.z,this.j.x+=this.R.x,this.j.y+=this.R.y,this.j.z=0));m.x-=p*this.k.x;m.y-=p*this.k.y;l-=v*(g*this.k.y-f*this.k.x+this.k.z);k.x+=r*this.k.x;k.y+=r*this.k.y;n+=t*(h*this.k.y-e*this.k.x+
this.k.z)}else a=c.J.D,g=this.Ba.x-c.q.V.x,f=this.Ba.y-c.q.V.y,d=a.u.x*g+a.A.x*f,f=a.u.y*g+a.A.y*f,g=d,a=b.J.D,h=this.Ca.x-b.q.V.x,e=this.Ca.y-b.q.V.y,d=a.u.x*h+a.A.x*e,e=a.u.y*h+a.A.y*e,h=d,me(this.ea,this.G,-(k.x+-n*e-m.x- -l*f),-(k.y+n*h-m.y-l*g)),this.j.x+=this.G.x,this.j.y+=this.G.y,m.x-=p*this.G.x,m.y-=p*this.G.y,l-=v*(g*this.G.y-f*this.G.x),k.x+=r*this.G.x,k.y+=r*this.G.y,n+=t*(h*this.G.y-e*this.G.x);c.C.S(m);c.L=l;b.C.S(k);b.L=n};
Ti.prototype.pg=function(){var a=0,c,b=this.ja,d=this.ka,g=0,f=c=0,h=0,f=0;if(this.bb&&0!=this.B){var a=d.q.T-b.q.T-this.cb,e=0;3==this.B?(a=ee(a-this.Wa,-Qd,Qd),e=-this.Kb*a,g=Math.abs(a)):1==this.B?(a-=this.Wa,g=-a,a=ee(a+Pd,-Qd,0),e=-this.Kb*a):2==this.B&&(g=a-=this.ub,a=ee(a-Pd,0,Qd),e=-this.Kb*a);b.q.T-=b.ca*e;d.q.T+=d.ca*e;rg(b);rg(d)}c=b.J.D;e=this.Ba.x-b.q.V.x;a=this.Ba.y-b.q.V.y;f=c.u.x*e+c.A.x*a;a=c.u.y*e+c.A.y*a;e=f;c=d.J.D;var m=this.Ca.x-d.q.V.x,l=this.Ca.y-d.q.V.y,f=c.u.x*m+c.A.x*l,
l=c.u.y*m+c.A.y*l,m=f,h=d.q.I.x+m-b.q.I.x-e,f=d.q.I.y+l-b.q.I.y-a,k=h*h+f*f;c=Math.sqrt(k);var n=b.P,p=d.P,r=b.ca,v=d.ca;k>.05*.05&&(k=1/(n+p),h=k*-h,f=k*-f,b.q.I.x-=.5*n*h,b.q.I.y-=.5*n*f,d.q.I.x+=.5*p*h,d.q.I.y+=.5*p*f,h=d.q.I.x+m-b.q.I.x-e,f=d.q.I.y+l-b.q.I.y-a);this.N.u.x=n+p;this.N.A.x=0;this.N.u.y=0;this.N.A.y=n+p;this.fa.u.x=r*a*a;this.fa.A.x=-r*e*a;this.fa.u.y=-r*e*a;this.fa.A.y=r*e*e;this.ra.u.x=v*l*l;this.ra.A.x=-v*m*l;this.ra.u.y=-v*m*l;this.ra.A.y=v*m*m;he(this.qa,this.N);n=this.qa;p=
this.fa;n.u.mg(p.u);n.A.mg(p.A);n=this.qa;p=this.ra;n.u.mg(p.u);n.A.mg(p.A);je(this.qa,Ui,-h,-f);h=Ui.x;f=Ui.y;b.q.I.x-=b.P*h;b.q.I.y-=b.P*f;b.q.T-=b.ca*(e*f-a*h);d.q.I.x+=d.P*h;d.q.I.y+=d.P*f;d.q.T+=d.ca*(m*f-l*h);rg(b);rg(d);return.005>=c&&g<=Pd};var Ui=V(0,0);function Vi(){Bi.call(this);this.G=V(0,0);this.K=V(0,0);this.type=1;this.G.Ja();this.K.Ja();this.bb=this.Kb=this.qa=this.ra=this.fa=0;this.Wa=this.N=!1}Od(Vi,Bi);
function Wi(a,c,b,d){a.j=c;a.k=b;a.G=ce(a.j.J,d);a.K=ce(a.k.J,d);a.fa=a.k.Li()-a.j.Li()}Vi.prototype.B=function(){return new Ti(this)};function Xi(a){zi.call(this,a);this.k=V(0,0);this.B=V(0,0);this.j=new le(0,0,0);this.ea=new ke;this.k.S(a.G);this.B.S(a.K);this.G=a.N}Od(Xi,zi);
Xi.prototype.ng=function(a){var c,b=0,d=this.ja,g=this.ka;c=d.J.D;var f=this.k.x-d.q.V.x,h=this.k.y-d.q.V.y,b=c.u.x*f+c.A.x*h,h=c.u.y*f+c.A.y*h,f=b;c=g.J.D;var e=this.B.x-g.q.V.x,m=this.B.y-g.q.V.y,b=c.u.x*e+c.A.x*m,m=c.u.y*e+c.A.y*m,e=b;c=d.P;var b=g.P,l=d.ca,k=g.ca;this.ea.u.x=c+b+h*h*l+m*m*k;this.ea.A.x=-h*f*l-m*e*k;this.ea.j.x=-h*l-m*k;this.ea.u.y=this.ea.A.x;this.ea.A.y=c+b+f*f*l+e*e*k;this.ea.j.y=f*l+e*k;this.ea.u.z=this.ea.j.x;this.ea.A.z=this.ea.j.y;this.ea.j.z=l+k;a.Fh?(this.j.x*=a.Cc,this.j.y*=
a.Cc,this.j.z*=a.Cc,d.C.x-=c*this.j.x,d.C.y-=c*this.j.y,d.L-=l*(f*this.j.y-h*this.j.x+this.j.z),g.C.x+=b*this.j.x,g.C.y+=b*this.j.y,g.L+=k*(e*this.j.y-m*this.j.x+this.j.z)):this.j.Ja()};
Xi.prototype.qg=function(){var a,c=0,b=this.ja,d=this.ka,g=b.C,f=b.L,h=d.C,e=d.L,m=b.P,l=d.P,k=b.ca,n=d.ca;a=b.J.D;var p=this.k.x-b.q.V.x,r=this.k.y-b.q.V.y,c=a.u.x*p+a.A.x*r,r=a.u.y*p+a.A.y*r,p=c;a=d.J.D;var v=this.B.x-d.q.V.x,t=this.B.y-d.q.V.y,c=a.u.x*v+a.A.x*t,t=a.u.y*v+a.A.y*t,v=c;a=new le(0,0,0);De(this.ea,a,-(h.x-e*t-g.x+f*r),-(h.y+e*v-g.y-f*p),-(e-f));this.j.mg(a);g.x-=m*a.x;g.y-=m*a.y;f-=k*(p*a.y-r*a.x+a.z);h.x+=l*a.x;h.y+=l*a.y;e+=n*(v*a.y-t*a.x+a.z);b.L=f;d.L=e};
Xi.prototype.pg=function(){var a,c=0,b=this.ja,d=this.ka;a=b.J.D;var g=this.k.x-b.q.V.x,f=this.k.y-b.q.V.y,c=a.u.x*g+a.A.x*f,f=a.u.y*g+a.A.y*f,g=c;a=d.J.D;var h=this.B.x-d.q.V.x,e=this.B.y-d.q.V.y,c=a.u.x*h+a.A.x*e,e=a.u.y*h+a.A.y*e,h=c;a=b.P;var c=d.P,m=b.ca,l=d.ca,k=d.q.I.x+h-b.q.I.x-g,n=d.q.I.y+e-b.q.I.y-f,p=d.q.T-b.q.T-this.G,r=Math.sqrt(k*k+n*n),v=Math.abs(p);.05<r&&(m*=1,l*=1);this.ea.u.x=a+c+f*f*m+e*e*l;this.ea.A.x=-f*g*m-e*h*l;this.ea.j.x=-f*m-e*l;this.ea.u.y=this.ea.A.x;this.ea.A.y=a+c+g*
g*m+h*h*l;this.ea.j.y=g*m+h*l;this.ea.u.z=this.ea.j.x;this.ea.A.z=this.ea.j.y;this.ea.j.z=m+l;var t=new le(0,0,0);De(this.ea,t,-k,-n,-p);b.q.I.x-=a*t.x;b.q.I.y-=a*t.y;b.q.T-=m*(g*t.y-f*t.x+t.z);d.q.I.x+=c*t.x;d.q.I.y+=c*t.y;d.q.T+=l*(h*t.y-e*t.x+t.z);rg(b);rg(d);return.005>=r&&v<=Pd};function Yi(){Bi.call(this);this.G=V(0,0);this.K=V(0,0);this.type=8;this.N=0}Od(Yi,Bi);Yi.prototype.B=function(){return new Xi(this)};
var Wh=[new We,new We],qi=[new We,new We],ri=[new We,new We],Yh=V(0,0),ci=V(0,0),hi=V(0,0),ki=V(0,0),ii=V(0,0),ji=V(0,0),oi=V(0,0),pi=V(0,0),qh=0,wh=0,xh=0,uh=0,vh=0,rh=new Yf,sh=new mf,Mf=new Fe,Tf=new Fe,Hf=new function(){this.Oa=V(0,0);this.j=V(0,0)},th=new nf,qg=new Fe,Jg=new Hg;new function(){this.position=V(0,0);V(0,0);V(0,0);this.id=new Ue};new Fe;
var yh=new Ee,zh=new Ee,ph=new Zf,Th=new function(){this.j=V(0,0);this.Fa=[];for(var a=this.jc=0;2>a;a++)this.Fa[a]=V(0,0)},Vh=new function(){this.j=V(0,0);this.k=[];this.Fa=[];for(var a=0;2>a;a++)this.Fa[a]=V(0,0)};function Zi(a,c,b,d,g,f){var h;if(h=(b+.1>=a&&a>=g-.1||b-.1<=a&&a<=g+.1)&&(d+.1>=c&&c>=f-.1||d-.1<=c&&c<=f+.1))h=.1<Math.abs(g-b)?.1>Math.abs((f-d)/(g-b)*(a-b)+d-c):.1>Math.abs(a-b);return h}
function $i(a,c){var b=fj(a),d=[],g,f,h,e,m,l,k,n,p;m=0;for(l=b.length;m<l;m++){f=b[m];g=[];g.length=f.length;k=p=0;for(n=f.length;k<n;k++)h=f[k],e=f[(k+1)%n],p+=h.x*e.y-h.y*e.x,g[k]=V(h.x,h.y);p=Math.abs(p/2);p>=.001*c&&d.push(g)}return d}
function fj(a){var c=[],b=0,d=0,g=0,f=0,h=0,e=h=0,m=0,l=0,k=0,f=0,n,p,r,v,t,q=f=b=0,u=0,g=[],m=[],x=!1,z=[],E=[];for(E.push(a);E.length;){c=E[0];d=c.length;x=!0;for(b=0;b<d;b++)if(l=b,k=b<d-1?b+1:b+1-d,f=b<d-2?b+2:b+2-d,a=c[l],n=c[k],p=c[f],f=a.x,g=a.y,m=n.x,h=n.y,e=p.x,p=p.y,f=f*h+m*p+e*g-g*m-h*e-p*f,0>f){x=!1;m=1E9;for(g=0;g<d;g++)if(g!==l&&g!==k){b=g;f=g<d-1?g+1:0;r=c[b];v=c[f];e=a.x;p=a.y;var B=n.x,D=n.y,h=r.x;r=r.y;var C=v.x;v=v.y;var y=B-e,w=D-p,F=C-h,I=v-r,F=(F*(r-p)-I*(h-e))/(w*F-y*I),y=e+
F*y,w=p+F*w,e=Zi(B,D,e,p,y,w),h=Zi(y,w,h,r,C,v);if(p=e&&h?V(y,w):null)h=n.x-p.x,e=n.y-p.y,h=h*h+e*e,h<m&&(u=b,q=f,t=p,m=h)}if(1E9===m)return[];g=[];m=[];b=u;f=q;r=c[b];v=c[f];q=t.y;u=v.y;.1>Math.abs(v.x-t.x)&&.1>Math.abs(u-q)||g.push(t);q=t.y;u=r.y;.1>Math.abs(r.x-t.x)&&.1>Math.abs(u-q)||m.push(t);u=-1;for(q=l;;){if(q!==f)g.push(c[q]);else{if(0>u||u>=d)return[];Zi(v.x,v.y,c[u].x,c[u].y,a.x,a.y)||g.push(c[q]);break}u=q;0>q-1?q=d-1:q--}g.reverse();u=-1;for(q=k;;){if(q!==b)m.push(c[q]);else{if(0>u||
u>=d)return[];q!==b||Zi(r.x,r.y,c[u].x,c[u].y,n.x,n.y)||m.push(c[q]);break}u=q;q+1>d-1?q=0:q++}E.push(g,m);E.shift();break}x&&z.push(E.shift())}return z}
function hj(a){for(var c=0;4E3>c;c++)He.push(new Ge(0,0));this.i=a;this.De=new Vg(V(0,10),!0);this.Ht=-1;a=new Hg;a.behavior=this;a.BeginContact=function(a){this.behavior.i.Gj(a.tc.sb().vg.n,a.ic.sb().vg.n)};this.De.j.k=a;a=new Eg;a.behavior=this;a.j=function(a,c){if(this.behavior.zC)return!0;var g=a.sb().vg.n.type,f=c.sb().vg.n.type,h=g.na.Physics_DisabledCollisions;return h&&h.contains(f)?!1:(h=f.na.Physics_DisabledCollisions)&&h.contains(g)?!1:!0};this.De.j.B=a;this.BG=0;this.Tn=8;this.hn=3;this.zC=
!0}
(function(){function a(){}var c=hj.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.De=this.behavior.De};var b=c.ta.prototype;b.ma=function(){this.et=0!==this.U[0];this.vw=this.U[1];this.tu=0!==this.U[2];this.Wh=this.U[3];this.ai=this.U[4];this.yi=this.U[5];this.Fk=this.U[6];this.Xj=this.U[7];this.Zj=0!==this.U[8];this.enabled=0!==this.U[9];this.body=null;this.n.ab();this.Mp=this.n.x;this.Np=
this.n.y;this.Nd=this.n.M;this.Et=this.It=0;this.Ry=this.Gt=!1;this.Bt=null;this.Ct=-1;this.Pe?(this.Pe.length=0,this.Ff.length=0,this.ih.clear()):(this.Pe=[],this.Ff=[],this.ih=new ca);var a=this;this.wd||(this.si=function(b){a.Cj(b)});this.i.Vj(this.si)};b.Ky=function(){this.n.ab();this.Lo();this.Bt=this.n.Pb;this.Ct=this.n.za};b.Re=function(){this.Vo();this.Ff.length=0;this.ih.clear();this.body&&(Zg(this.De,this.body),this.body=null);this.i.Cu(this.si)};b.Tb=function(){var a={e:this.enabled,im:this.et,
pr:this.tu,d:this.Wh,fr:this.ai,re:this.yi,ld:this.Fk,ad:this.Xj,b:this.Zj,mcj:this.Ff};if(this.enabled){var b=V(0,0);b.S(this.body.C);a.vx=b.x;a.vy=b.y;a.om=this.body.L}return a};b.Yb=function(a){this.Vo();this.Ff.length=0;this.ih.clear();this.body&&(Zg(this.De,this.body),this.body=null);this.enabled=a.e;this.et=a.im;this.tu=a.pr;this.Wh=a.d;this.ai=a.fr;this.yi=a.re;this.Fk=a.ld;this.Xj=a.ad;this.Zj=a.b;this.Mp=this.n.x;this.Np=this.n.y;this.Nd=this.n.M;this.It=this.n.width;this.Et=this.n.height;
this.enabled&&(this.Lo(),lg(this.body,V(a.vx,a.vy)),this.body.jo(a.om),0===a.vx&&0===a.vy&&0===a.om||mg(this.body,!0),this.Ff=a.mcj)};b.qf=function(){this.enabled&&this.Bu();this.behavior.Ht=this.i.jf-1};b.Cj=function(a){var b,c,d,m=a.uid;d=b=0;for(c=this.Ff.length;b<c;b++)this.Ff[d]=this.Ff[b],d<this.Pe.length&&(this.Pe[d]=this.Pe[b]),this.Ff[b].Cb[1]==m?$g(this.De,this.Pe[b]):d++;this.Ff.length=d;d<this.Pe.length&&(this.Pe.length=d);this.ih.remove(a)};b.Vo=function(){var a,b;a=0;for(b=this.Pe.length;a<
b;a++)$g(this.De,this.Pe[a]);this.Pe.length=0};b.Bu=function(){var a,b,c;a=0;for(b=this.Ff.length;a<b;a++)switch(c=this.Ff[a],c.type){case 0:this.bD(c.Cb[0],c.Cb[1],c.Cb[2],c.Cb[3],c.Cb[4]);break;case 1:this.dD(c.Cb[0],c.Cb[1]);break;case 2:this.cD(c.Cb[0],c.Cb[1],c.Cb[2],c.Cb[3])}};b.Ew=function(){this.body&&(this.Vo(),Zg(this.De,this.body),this.body=null,this.n.na.sf=null)};var d=[];b.Lo=function(){if(this.enabled){var a=this.n,b=!1,c=null,e=null,m,l,k,n,p,r,v,t,q,u,x,z,E;if(this.body){b=!0;c=V(0,
0);c.S(this.body.C);e=this.body.L;t=this.ih.kg();m=0;for(l=t.length;m<l;m++)q=t[m].na.sf.vg,q.Vo();this.Ew()}q=new Pg;q.Wh=this.Wh;q.ai=this.ai;q.yi=this.yi;m=new tg;m.type=this.et?0:2;a.ab();m.position.x=.02*a.Mb.oi();m.position.y=.02*a.Mb.pi();m.M=a.M;m.j=this.tu;m.Fk=this.Fk;m.Xj=this.Xj;m.Zj=this.Zj;t=this.n.ib&&!this.n.ib.nj();this.body=Xg(this.De,m);this.body.vg=this;m=this.vw;t||this.n.Bh||0!==this.vw||(m=1);l=Math.max(Math.abs(a.width),1);k=Math.max(Math.abs(a.height),1);u=0>a.width;x=0>a.height;
if(0===m)if(a.Bh)for(z=a.Mb.oi()-a.x,v=a.Mb.pi()-a.y,a.nE(d),t=[],m=0,l=d.length;m<l;++m){u=d[m];x=u.Db;if(u.fe){if(!u.fe.Io){p=u.fe.Jb;n=u.fe.ge;for(k=0;k<n;++k)t.push(V(p[2*k],p[2*k+1]));k=u.id&3758096384;(-2147483648===k||1073741824===k||536870912===k||k&-2147483648&&k&1073741824&&k&536870912)&&t.reverse();u.fe.Io=$i(t,(x.right-x.left)*(x.bottom-x.top));k=0;for(n=t.length;k<n;++k)Ie(t[k]);t.length=0}k=0;for(n=u.fe.Io.length;k<n;++k){E=u.fe.Io[k];p=0;for(r=E.length;p<r;++p)t.push(V(.02*(x.left+
E[p].x-z),.02*(x.top+E[p].y-v)));q.shape=new Qe;Se(q.shape,t);eg(this.body,q);p=0;for(r=t.length;p<r;++p)Ie(t[p]);t.length=0}}else t.push(V(.02*(x.left-z),.02*(x.top-v))),t.push(V(.02*(x.right-z),.02*(x.top-v))),t.push(V(.02*(x.right-z),.02*(x.bottom-v))),t.push(V(.02*(x.left-z),.02*(x.bottom-v))),q.shape=new Qe,Se(q.shape,t),eg(this.body,q);k=0;for(n=t.length;k<n;++k)Ie(t[k]);t.length=0}else{m=a.M;a.M=0;a.aa();a.ab();z=a.Mb.oi()-a.x;v=a.Mb.pi()-a.y;a.M=m;a.aa();a.ib.Rh(u?-l:l,x?-k:k,0);p=a.ib.Jb;
n=a.ib.ge;t=[];t.length=n;for(m=0;m<n;m++)t[m]=V(p[2*m]-z,p[2*m+1]-v);u!==x&&t.reverse();z=$i(t,l*k);for(m=0;m<n;m++)Ie(t[m]);if(z.length)for(m=0,l=z.length;m<l;m++){t=z[m];k=0;for(n=t.length;k<n;k++)v=t[k],v.x*=.02,v.y*=.02;q.shape=new Qe;Se(q.shape,t);eg(this.body,q);k=0;for(n=t.length;k<n;k++)Ie(t[k])}else q.shape=new Qe,Te(q.shape,.01*l,.01*k),eg(this.body,q)}else 1===m?(q.shape=new Qe,Te(q.shape,.01*l,.01*k)):q.shape=new Ne(.01*Math.min(l,k)),eg(this.body,q);a.na.sf=this.body;this.It=a.width;
this.Et=a.height;if(b)for(lg(this.body,c),this.body.jo(e),Ie(c),this.Bu(),t=this.ih.kg(),m=0,l=t.length;m<l;m++)q=t[m].na.sf.vg,q.Bu();d.length=0}};b.mb=function(){if(this.enabled){var a=this.n,b;0===this.behavior.BG?b=this.i.hg/60:(b=this.i.Cg(this.n),b>1/30&&(b=1/30));if(this.i.jf>this.behavior.Ht&&0<this.i.hg){this.De.Kh(b,this.behavior.Tn,this.behavior.hn);for(b=this.De.Ki.tb(xg);b;b=b.gb())b.body.k.Ja(),b.body.G=0;this.behavior.Ht=this.i.jf}if(this.Ry||a.width!==this.It||a.height!==this.Et||
a.Pb!==this.Bt||a.za!==this.Ct||a.Bh&&a.vi)this.Lo(),this.Ry=!1,this.Bt=a.Pb,this.Ct=a.za,a.Bh&&a.vi&&(a.vi=!1);b=a.M!==this.Nd;if(a.x!==this.Mp||a.y!==this.Np){a.ab();var c=a.Mb.oi(),d=a.Mb.pi(),m=c-this.Mp,l=d-this.Np,k=this.body,c=V(.02*c,.02*d);ig(k,c,k.Li());lg(this.body,V(m,l));this.Gt=!0;mg(this.body,!0)}else this.Gt&&(this.Gt=!1,lg(this.body,V(0,0)),m=this.body,l=V(.02*a.Mb.oi(),.02*a.Mb.pi()),ig(m,l,m.Li()));b&&(this.body.Lr(a.M),mg(this.body,!0));m=this.body.J.position;b=m.x/.02;m=m.y/.02;
l=this.body.Li();if(b!==a.x||m!==a.y||l!==a.M)if(a.x=b,a.y=m,a.M=l,a.aa(),a.ab(),b=a.Mb.oi()-a.x,m=a.Mb.pi()-a.y,0!==b||0!==m)a.x-=b,a.y-=m,a.aa();this.Mp=a.x;this.Np=a.y;this.Nd=a.M}};b.qp=function(a){return-1!==a&&this.n.zf?0===a&&this.body?(this.body.J.position.x+this.body.q.V.x)/.02:this.n.zf(a,!0):this.n.x};b.rp=function(a){return-1!==a&&this.n.zf?0===a&&this.body?(this.body.J.position.y+this.body.q.V.y)/.02:this.n.zf(a,!1):this.n.y};c.F=new function(){};a.prototype.Ji=function(a,b,c){if(this.enabled){var d=
this.qp(c);c=this.rp(c);this.body.Ji(V(a,b),V(.02*d,.02*c))}};a.prototype.Er=function(a){this.enabled&&this.body.Er(Pa(a))};a.prototype.jo=function(a){this.enabled&&(this.body.jo(Pa(a)),mg(this.body,!0))};b.bD=function(a,b,c,d,m){if(this.enabled){var l=this.i.Xf(b);if(l&&l!=this.n&&l.na.sf){l.na.sf.vg.ih.add(this.n);var k=this.qp(a),n=this.rp(a),p,r;l.zf?(p=l.zf(c,!0),r=l.zf(c,!1)):(p=l.x,r=l.y);c=k-p;a=n-r;b=new Di;l=l.na.sf;k=V(.02*k,.02*n);p=V(.02*p,.02*r);b.j=this.body;b.k=l;b.N.S(ce(b.j.J,k));
b.fa.S(ce(b.k.J,p));l=p.x-k.x;k=p.y-k.y;b.length=Math.sqrt(l*l+k*k);b.K=0;b.G=0;b.length=.02*Math.sqrt(c*c+a*a);b.G=d;b.K=m;this.Pe.push(ah(this.De,b))}}};b.dD=function(a,b){if(this.enabled){var c=this.i.Xf(b);if(c&&c!=this.n&&c.na.sf){c.na.sf.vg.ih.add(this.n);var d=this.qp(a),m=this.rp(a),l=new Vi;Wi(l,this.body,c.na.sf,V(.02*d,.02*m));this.Pe.push(ah(this.De,l))}}};b.cD=function(a,b,c,d){if(this.enabled&&(b=this.i.Xf(b))&&b!=this.n&&b.na.sf){b.na.sf.vg.ih.add(this.n);var m=this.qp(a);a=this.rp(a);
var l=new Vi;Wi(l,this.body,b.na.sf,V(.02*m,.02*a));l.N=!0;l.ra=Pa(c);l.qa=Pa(d);this.Pe.push(ah(this.De,l))}};a.prototype.Qf=function(a){this.enabled&&0===a?(this.Ew(),this.enabled=!1):this.enabled||1!==a||(this.enabled=!0,this.Lo())};c.da=new a;c.Ea=new function(){}})();function ij(a){this.i=a}
(function(){function a(){}var c=ij.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ma=function(){this.Vc=null;this.wq=-1;this.mode=this.Nd=this.dr=this.Qk=this.sh=this.gn=0;var a=this;this.wd||(this.si=function(b){a.Cj(b)});this.i.Vj(this.si)};b.Tb=function(){return{uid:this.Vc?this.Vc.uid:-1,pa:this.gn,pd:this.sh,msa:this.Qk,tsa:this.dr,lka:this.Nd,m:this.mode}};
b.Yb=function(a){this.wq=a.uid;this.gn=a.pa;this.sh=a.pd;this.Qk=a.msa;this.dr=a.tsa;this.Nd=a.lka;this.mode=a.m};b.qf=function(){-1===this.wq?this.Vc=null:this.Vc=this.i.Xf(this.wq);this.wq=-1};b.Cj=function(a){this.Vc==a&&(this.Vc=null)};b.Re=function(){this.Vc=null;this.i.Cu(this.si)};b.mb=function(){};b.Jn=function(){if(this.Vc){this.Nd!==this.n.M&&(this.Qk=Sa(this.Qk+(this.n.M-this.Nd)));var a=this.n.x,b=this.n.y;if(3===this.mode||4===this.mode){var c=bb(this.n.x,this.n.y,this.Vc.x,this.Vc.y);
if(c>this.sh||4===this.mode&&c<this.sh)b=Wa(this.Vc.x,this.Vc.y,this.n.x,this.n.y),a=this.Vc.x+Math.cos(b)*this.sh,b=this.Vc.y+Math.sin(b)*this.sh}else a=this.Vc.x+Math.cos(this.Vc.M+this.gn)*this.sh,b=this.Vc.y+Math.sin(this.Vc.M+this.gn)*this.sh;this.Nd=c=Sa(this.Qk+(this.Vc.M-this.dr));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.n.x===a&&this.n.y===b||(this.n.x=a,this.n.y=b,this.n.aa());0!==this.mode&&2!==this.mode||this.n.M===c||(this.n.M=c,this.n.aa())}};c.F=new function(){};
a.prototype.NB=function(a,b){if(a){var c=a.Ps(this.n);c&&(this.Vc=c,this.gn=Wa(c.x,c.y,this.n.x,this.n.y)-c.M,this.sh=bb(c.x,c.y,this.n.x,this.n.y),this.Nd=this.Qk=this.n.M,this.dr=c.M,this.mode=b)}};c.da=new a;c.Ea=new function(){}})();function lj(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=lj.prototype;d.wa=function(a){this.behavior=a;this.i=a.i};d.wa.prototype.ma=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.yn=this.Uq=this.Tq=this.ct=this.Fl=this.Nl=this.yk=this.zk=this.sn=this.Lm=!1;this.$d=null;this.Nt=-1;this.pj=this.oj=0;this.kp=!1;this.$h=this.Sf=0;this.hp=!0;this.ba=this.Y=0};var g=d.ta.prototype;g.Nz=function(){this.zc=Math.cos(this.lk);this.Ac=Math.sin(this.lk);this.Hj=
Math.cos(this.lk-Math.PI/2);this.Ij=Math.sin(this.lk-Math.PI/2);this.zc=Nb(this.zc);this.Ac=Nb(this.Ac);this.Hj=Nb(this.Hj);this.Ij=Nb(this.Ij);this.Ks=this.sd;0>this.sd&&(this.zc*=-1,this.Ac*=-1,this.sd=Math.abs(this.sd))};g.ma=function(){this.Nk=this.U[0];this.ne=this.U[1];this.ek=this.U[2];this.Bm=this.U[3];this.Ks=this.sd=this.U[4];this.bq=this.U[5];this.As=0!==this.U[6];this.At=this.U[7]/1E3;this.VC=1===this.U[8];this.enabled=0!==this.U[9];this.nl=!1;this.ol=this.i.Pg(this.n);this.Ot=-1;this.Nj=
0;this.lk=Pa(90);this.Nz();var a=this;this.VC&&!this.i.eb&&(jQuery(document).keydown(function(b){a.fu(b)}),jQuery(document).keyup(function(b){a.gu(b)}));this.wd||(this.si=function(b){a.Cj(b)});this.i.Vj(this.si);this.n.na.isPlatformBehavior=!0};g.Tb=function(){return{ii:this.ct,lfx:this.oj,lfy:this.pj,lfo:this.$d?this.$d.uid:-1,am:this.Sf,en:this.enabled,fall:this.$h,ft:this.hp,dx:this.Y,dy:this.ba,ms:this.Nk,acc:this.ne,dec:this.ek,js:this.Bm,g:this.sd,g1:this.Ks,mf:this.bq,wof:this.nl,woj:this.ol?
this.ol.uid:-1,ga:this.lk,edj:this.As,cdj:this.Fl,dj:this.Nl,sus:this.At}};g.Yb=function(a){this.ct=a.ii;this.oj=a.lfx;this.pj=a.lfy;this.Nt=a.lfo;this.Sf=a.am;this.enabled=a.en;this.$h=a.fall;this.hp=a.ft;this.Y=a.dx;this.ba=a.dy;this.Nk=a.ms;this.ne=a.acc;this.ek=a.dec;this.Bm=a.js;this.sd=a.g;this.Ks=a.g1;this.bq=a.mf;this.nl=a.wof;this.Ot=a.woj;this.lk=a.ga;this.As=a.edj;this.Fl=a.cdj;this.Nl=a.dj;this.At=a.sus;this.yn=this.Uq=this.Tq=this.yk=this.zk=this.sn=this.Lm=!1;this.Nj=0;this.Nz()};g.qf=
function(){-1===this.Nt?this.$d=null:this.$d=this.i.Xf(this.Nt);-1===this.Ot?this.ol=null:this.ol=this.i.Xf(this.Ot)};g.Cj=function(a){this.$d==a&&(this.$d=null)};g.Re=function(){this.$d=null;this.i.Cu(this.si)};g.fu=function(a){switch(a.which){case 38:a.preventDefault();this.zk=!0;break;case 37:a.preventDefault();this.Lm=!0;break;case 39:a.preventDefault(),this.sn=!0}};g.gu=function(a){switch(a.which){case 38:a.preventDefault();this.yk=this.zk=!1;break;case 37:a.preventDefault();this.Lm=!1;break;
case 39:a.preventDefault(),this.sn=!1}};g.Dj=function(){this.zk=this.sn=this.Lm=!1};g.j=function(){return 0>this.sd?-1:1};g.ux=function(){var a=null,b=null,c,d;c=this.n.x;d=this.n.y;this.n.x+=this.zc;this.n.y+=this.Ac;this.n.aa();if(this.$d&&this.i.Rd(this.n,this.$d))return this.n.x=c,this.n.y=d,this.n.aa(),this.$d;(a=this.i.kd(this.n))||0!==this.$h||(b=this.i.Pg(this.n,!0));this.n.x=c;this.n.y=d;this.n.aa();if(a){if(this.i.Rd(this.n,a))return null;this.kp=!1;return a}if(b&&b.length){d=a=0;for(c=
b.length;a<c;a++)b[d]=b[a],this.i.Rd(this.n,b[a])||d++;if(1<=d)return this.kp=!0,b[0]}return null};g.mb=function(){};g.Ly=function(){var a=this.i.Cg(this.n),b,c,d,g,k,n,p,r,v;this.zk||this.yn||(this.yk=!1);var t=this.Lm||this.Tq;d=this.sn||this.Uq;var q=(g=this.zk||this.yn)&&!this.yk;this.yn=this.Uq=this.Tq=!1;if(this.enabled){this.ct&&(q=g=d=t=!1);g||(this.Nj=0);r=this.$d;v=!1;this.hp&&((this.i.kd(this.n)||this.i.Pg(this.n))&&this.i.Hf(this.n,-this.zc,-this.Ac,4,!0),this.hp=!1);!r||0!==this.ba||
r.y===this.pj&&r.x===this.oj||(b=r.x-this.oj,c=r.y-this.pj,this.n.x+=b,this.n.y+=c,this.n.aa(),this.oj=r.x,this.pj=r.y,v=!0,this.i.kd(this.n)&&this.i.Hf(this.n,-b,-c,2.5*Math.sqrt(b*b+c*c)));var u=this.ux();if(c=this.i.kd(this.n))if(this.n.na.inputPredicted)this.i.Hf(this.n,-this.zc,-this.Ac,10,!1);else if(this.i.Qy(this.n,Math.max(this.n.width,this.n.height)/2))this.i.Gj(this.n,c);else return;u?(this.Fl=this.Nl=!1,0<this.ba&&(this.nl||(this.i.wu(this.n,-this.zc,-this.Ac,u),this.nl=!0),this.ba=0),
r!=u)?(this.$d=u,this.oj=u.x,this.pj=u.y,this.i.Gj(this.n,u)):v&&(c=this.i.kd(this.n))&&(this.i.Gj(this.n,c),0!==b&&(0<b?this.i.Hf(this.n,-this.Hj,-this.Ij):this.i.Hf(this.n,this.Hj,this.Ij)),this.i.Hf(this.n,-this.zc,-this.Ac)):g||(this.Fl=!0);if(u&&q||!u&&this.As&&g&&this.Fl&&!this.Nl)r=this.n.x,v=this.n.y,this.n.x-=this.zc,this.n.y-=this.Ac,this.n.aa(),this.i.kd(this.n)?q=!1:(this.Nj=this.At,this.i.trigger(lj.prototype.F.Iv,this.n),this.Sf=2,this.ba=-this.Bm,q=!0,u?this.yk=!0:this.Nl=!0),this.n.x=
r,this.n.y=v,this.n.aa();u||(g&&0<this.Nj?(this.ba=-this.Bm,this.Nj-=a):(this.$d=null,this.ba+=this.sd*a,this.ba>this.bq&&(this.ba=this.bq)),q&&(this.yk=!0));this.nl=!!u;t==d&&(0>this.Y?(this.Y+=this.ek*a,0<this.Y&&(this.Y=0)):0<this.Y&&(this.Y-=this.ek*a,0>this.Y&&(this.Y=0)));t&&!d&&(this.Y=0<this.Y?this.Y-(this.ne+this.ek)*a:this.Y-this.ne*a);d&&!t&&(this.Y=0>this.Y?this.Y+(this.ne+this.ek)*a:this.Y+this.ne*a);this.Y>this.Nk?this.Y=this.Nk:this.Y<-this.Nk&&(this.Y=-this.Nk);t=!1;0!==this.Y&&(r=
this.n.x,v=this.n.y,b=this.Y*a*this.Hj,c=this.Y*a*this.Ij,this.n.x+=this.Hj*(1<this.Y?1:-1)-this.zc,this.n.y+=this.Ij*(1<this.Y?1:-1)-this.Ac,this.n.aa(),g=!1,k=this.i.kd(this.n),this.n.x=r+b,this.n.y=v+c,this.n.aa(),d=this.i.kd(this.n),!d&&u&&(d=this.i.Pg(this.n))&&(this.n.x=r,this.n.y=v,this.n.aa(),this.i.Rd(this.n,d)?(d=null,g=!1):g=!0,this.n.x=r+b,this.n.y=v+c,this.n.aa()),d?(b=Math.abs(this.Y*a)+2,k||!this.i.Hf(this.n,-this.zc,-this.Ac,b,g,d))?(this.i.Gj(this.n,d),b=Math.max(Math.abs(this.Y*
a*2.5),30),this.i.Hf(this.n,this.Hj*(0>this.Y?1:-1),this.Ij*(0>this.Y?1:-1),b,!1)?!u||g||this.kp||(r=this.n.x,v=this.n.y,this.n.x+=this.zc,this.n.y+=this.Ac,this.i.kd(this.n)?this.i.Hf(this.n,-this.zc,-this.Ac,3,!1)||(this.n.x=r,this.n.y=v,this.n.aa()):(this.n.x=r,this.n.y=v,this.n.aa())):(this.n.x=r,this.n.y=v,this.n.aa()),g||(this.Y=0)):!k&&!q&&Math.abs(this.ba)<Math.abs(this.Bm/4)&&(this.ba=0,u||(t=!0)):(r=this.ux(),u&&!r?(c=Math.ceil(Math.abs(this.Y*a))+2,r=this.n.x,v=this.n.y,this.n.x+=this.zc*
c,this.n.y+=this.Ac*c,this.n.aa(),this.i.kd(this.n)||this.i.Pg(this.n)?this.i.Hf(this.n,-this.zc,-this.Ac,c+2,!0):(this.n.x=r,this.n.y=v,this.n.aa())):r&&0===this.ba&&this.i.wu(this.n,-this.zc,-this.Ac,r)));if(0!==this.ba){r=this.n.x;v=this.n.y;this.n.x+=this.ba*a*this.zc;this.n.y+=this.ba*a*this.Ac;b=this.n.x;d=this.n.y;this.n.aa();c=this.i.kd(this.n);g=!1;if(!c&&0<this.ba&&!u){if((g=0<this.$h?null:this.i.Pg(this.n,!0))&&g.length){if(this.ol){this.n.x=r;this.n.y=v;this.n.aa();p=k=0;for(n=g.length;k<
n;k++)g[p]=g[k],this.i.Rd(this.n,g[k])||p++;g.length=p;this.n.x=b;this.n.y=d;this.n.aa()}1<=g.length&&(c=g[0])}g=!!c}c&&(this.i.Gj(this.n,c),this.Nj=0,b=g?Math.abs(this.ba*a*2.5+10):Math.max(Math.abs(this.ba*a*2.5+10),30),this.i.Hf(this.n,this.zc*(0>this.ba?1:-1),this.Ac*(0>this.ba?1:-1),b,g,c)?(this.$d=c,this.oj=c.x,this.pj=c.y,(this.kp=g)&&(t=!0),this.ba=0):(this.n.x=r,this.n.y=v,this.n.aa(),this.nl=!0,g||(this.ba=0)))}3!==this.Sf&&0<this.ba&&!u&&(this.i.trigger(lj.prototype.F.bB,this.n),this.Sf=
3);if(u||t)3===this.Sf||t||q&&0===this.ba?(this.i.trigger(lj.prototype.F.Lv,this.n),this.Sf=0===this.Y&&0===this.ba?0:1):(0!==this.Sf&&0===this.Y&&0===this.ba&&(this.i.trigger(lj.prototype.F.Tv,this.n),this.Sf=0),1===this.Sf||0===this.Y&&0===this.ba||q||(this.i.trigger(lj.prototype.F.Pv,this.n),this.Sf=1));0<this.$h&&this.$h--;this.ol=this.i.Pg(this.n)}};a.prototype.yv=function(){return 0!==this.Y||0!==this.ba};a.prototype.CA=function(){if(0!==this.ba)return!1;var a=null,b=null,c,d;c=this.n.x;d=this.n.y;
this.n.x+=this.zc;this.n.y+=this.Ac;this.n.aa();(a=this.i.kd(this.n))||0!==this.$h||(b=this.i.Pg(this.n,!0));this.n.x=c;this.n.y=d;this.n.aa();if(a)return!this.i.Rd(this.n,a);if(b&&b.length){d=a=0;for(c=b.length;a<c;a++)b[d]=b[a],this.i.Rd(this.n,b[a])||d++;if(1<=d)return!0}return!1};a.prototype.AA=function(){return 0>this.ba};a.prototype.Iv=function(){return!0};a.prototype.bB=function(){return!0};a.prototype.Tv=function(){return!0};a.prototype.Pv=function(){return!0};a.prototype.Lv=function(){return!0};
d.F=new a;c.prototype.eC=function(a){switch(a){case 0:this.Tq=!0;break;case 1:this.Uq=!0;break;case 2:this.yn=!0}};c.prototype.cC=function(a){this.Y=a};c.prototype.dC=function(a){this.ba=a};c.prototype.Qf=function(a){this.enabled!==(1===a)&&(this.enabled=1===a,this.enabled||(this.$d=null))};c.prototype.pA=function(){var a=this.n.x,b=this.n.y;this.n.x+=this.zc;this.n.y+=this.Ac;this.n.aa();var c=this.i.Pg(this.n,!1);this.n.x=a;this.n.y=b;this.n.aa();c&&(this.$h=3,this.$d=null)};d.da=new c;b.prototype.Or=
function(a){a.xa(Math.sqrt(this.Y*this.Y+this.ba*this.ba))};b.prototype.mC=function(a){a.xa(this.Y)};b.prototype.nC=function(a){a.xa(this.ba)};d.Ea=new b})();function mj(a){this.i=a}
(function(){function a(){}function c(){}function b(){}var d=mj.prototype;d.wa=function(a){this.behavior=a;this.i=a.i};d.wa.prototype.ma=function(){};d.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i;this.Vi=this.ba=this.Y=0};var g=d.ta.prototype;g.ma=function(){this.fl=this.U[0];this.yu=this.U[1];this.enabled=0!==this.U[2]};g.Tb=function(){return{dx:this.Y,dy:this.ba,cancelStep:this.Vi,enabled:this.enabled,stepMode:this.fl,pxPerStep:this.yu}};g.Yb=function(a){this.Y=a.dx;
this.ba=a.dy;this.Vi=a.cancelStep;this.enabled=a.enabled;this.fl=a.stepMode;this.yu=a.pxPerStep};g.cm=function(){return Math.sqrt(this.Y*this.Y+this.ba*this.ba)};g.Vb=function(){return Math.atan2(this.ba,this.Y)};g.step=function(a,b,c){if(0!==a||0!==b){var d=this.n.x,g=this.n.y,k,n=Math.round(Math.sqrt(a*a+b*b)/this.yu);0===n&&(n=1);var p;for(p=1;p<=n;p++)if(k=p/n,this.n.x=d+a*k,this.n.y=g+b*k,this.n.aa(),this.i.trigger(c,this.n),1===this.Vi){p--;k=p/n;this.n.x=d+a*k;this.n.y=g+b*k;this.n.aa();break}else if(2===
this.Vi)break}};g.mb=function(){var a=this.i.Cg(this.n),b=this.Y*a,a=this.ba*a;0===this.Y&&0===this.ba||!this.enabled||(this.Vi=0,0===this.fl?(this.n.x+=b,this.n.y+=a):1===this.fl?this.step(b,a,mj.prototype.F.TA):2===this.fl?(this.step(b,0,mj.prototype.F.Av),this.Vi=0,this.step(0,a,mj.prototype.F.Bv)):3===this.fl&&(this.step(0,a,mj.prototype.F.Bv),this.Vi=0,this.step(b,0,mj.prototype.F.Av)),this.n.aa())};a.prototype.yv=function(){return 0!=this.Y||0!=this.ba};a.prototype.TA=function(){return!0};a.prototype.Av=
function(){return!0};a.prototype.Bv=function(){return!0};d.F=new a;c.prototype.Yv=function(a,b){var c;switch(a){case 0:c=this.Vb();this.Y=Math.cos(c)*b;this.ba=Math.sin(c)*b;break;case 1:this.Y=b;break;case 2:this.ba=b}};c.prototype.Vz=function(a,b,c){a=a*this.i.Cg(this.n);b=Math.atan2(c-this.n.y,b-this.n.x);this.Y+=Math.cos(b)*a;this.ba+=Math.sin(b)*a};c.prototype.Xv=function(a){a=Pa(a);var b=this.cm();this.Y=Math.cos(a)*b;this.ba=Math.sin(a)*b};c.prototype.Qf=function(a){this.enabled=1===a};d.da=
new c;b.prototype.Or=function(a){a.xa(this.cm())};b.prototype.Y=function(a){a.xa(this.Y)};b.prototype.ba=function(a){a.xa(this.ba)};d.Ea=new b})();function nj(a){this.i=a}
(function(){var a=nj.prototype;a.wa=function(a){this.behavior=a;this.i=a.i};a.wa.prototype.ma=function(){};a.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.ta.prototype;a.ma=function(){};a.mb=function(){this.n.ab();var a=this.n.Lb,b=this.n.O.rc;(0>a.right||0>a.bottom||a.left>b.width||a.top>b.height)&&this.i.Ee(this.n)}})();function hd(a){this.i=a}
(function(){function a(){}var c=hd.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ma=function(){this.n.na.jumpthruEnabled=0!==this.U[0]};b.mb=function(){};c.F=new function(){};a.prototype.Qf=function(a){this.n.na.jumpthruEnabled=!!a};c.da=new a})();function oj(a){this.i=a;this.Ru=this.Sq=this.xn=this.Qu=0}
(function(){function a(){}var c=oj.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ma=function(){this.enabled=0!==this.U[0]};b.Tb=function(){return{smg:this.behavior.Qu,ss:this.behavior.xn,se:this.behavior.Sq,smd:this.behavior.Ru}};b.Yb=function(a){this.behavior.Qu=a.smg;this.behavior.xn=a.ss;this.behavior.Sq=a.se;this.behavior.Ru=a.smd};b.mb=function(){};b.Jn=
function(){if(this.enabled){var a=this.behavior.cq.kg(),b=0,c=0,h,e,m,l=0;h=0;for(e=a.length;h<e;h++){a:{m=a[h];for(var k=void 0,n=void 0,p=void 0,k=0,n=m.Ka.length;k<n;++k)if(p=m.Ka[k],p.behavior instanceof oj){m=p;break a}m=null}m&&m.enabled&&(b+=a[h].x,c+=a[h].y,++l)}a=this.n.O.rc;e=this.i.dd.Va;m=h=0;e>=this.behavior.xn&&e<this.behavior.Sq&&(h=this.behavior.Qu*Math.min(this.i.hg,1),0===this.behavior.Ru&&(h*=1-(e-this.behavior.xn)/(this.behavior.Sq-this.behavior.xn)),e=Math.random()*Math.PI*2,
m=Math.random()*h,h=Math.cos(e)*m,m*=Math.sin(e));a.Lu(b/l+h);a.Mu(c/l+m)}};a.prototype.Qf=function(a){this.enabled=0!==a};c.da=new a})();function gd(a){this.i=a}
(function(){function a(){}var c=gd.prototype;c.wa=function(a){this.behavior=a;this.i=a.i};c.wa.prototype.ma=function(){};c.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};var b=c.ta.prototype;b.ma=function(){this.n.na.solidEnabled=0!==this.U[0]};b.mb=function(){};c.F=new function(){};a.prototype.Qf=function(a){this.n.na.solidEnabled=!!a};c.da=new a})();function pj(a){this.i=a}
(function(){var a=pj.prototype;a.wa=function(a){this.behavior=a;this.i=a.i};a.wa.prototype.ma=function(){};a.ta=function(a,b){this.type=a;this.behavior=a.behavior;this.n=b;this.i=a.i};a=a.ta.prototype;a.ma=function(){this.mode=this.U[0]};a.mb=function(){var a=this.n;a.ab();var b=a.Lb,d=a.O,g=d.rc,f=0,h=0,e=0,m=0;0===this.mode?(h=g.width,m=g.height):(f=d.qb,h=d.Fb,e=d.rb,m=d.Eb);b.right<f?(a.x=h-1+(a.x-b.left),a.aa()):b.left>h?(a.x=f+1-(b.right-a.x),a.aa()):b.bottom<e?(a.y=m-1+(a.y-b.top),a.aa()):
b.top>m&&(a.y=e+1-(b.bottom-a.y),a.aa())}})();
function ed(){return[md,Kd,nd,Cd,Dd,Ed,Bd,id,Id,Gd,Fd,Hd,Jd,kd,jd,ld,hd,hj,gd,ij,pj,oj,Nd,nj,mj,Ld,Md,lj,L.prototype.F.oA,L.prototype.F.MB,L.prototype.da.bC,L.prototype.Ea.random,L.prototype.F.iA,L.prototype.F.fA,id.prototype.da.fC,L.prototype.F.zA,L.prototype.F.Mv,Fd.prototype.da.Zz,Fd.prototype.da.Nr,md.prototype.F.bo,Gd.prototype.Ea.Text,md.prototype.da.Qf,L.prototype.da.PB,L.prototype.da.tA,ld.prototype.F.yA,L.prototype.Ea.ZF,kd.prototype.da.OB,Bd.prototype.da.bA,ld.prototype.F.Kr,id.prototype.F.DA,
id.prototype.F.gA,L.prototype.da.UB,id.prototype.F.WA,id.prototype.da.Bd,Bd.prototype.F.Gv,Bd.prototype.Ea.FA,L.prototype.Ea.BF,Bd.prototype.F.Fv,Bd.prototype.da.sA,Bd.prototype.F.Hv,nd.prototype.F.BA,Kd.prototype.F.xv,lj.prototype.da.eC,L.prototype.F.eA,lj.prototype.Ea.mC,id.prototype.da.SB,id.prototype.da.ZB,nd.prototype.F.Jv,Kd.prototype.F.RA,lj.prototype.da.pA,lj.prototype.F.Pv,lj.prototype.F.CA,id.prototype.da.RB,L.prototype.da.mA,id.prototype.Ea.Rr,id.prototype.Ea.Sr,id.prototype.Ea.uA,Ed.prototype.da.VB,
Ed.prototype.da.WB,lj.prototype.F.Iv,lj.prototype.F.Tv,lj.prototype.F.Lv,lj.prototype.F.yv,id.prototype.da.Wz,Kd.prototype.F.SA,nd.prototype.F.Gr,id.prototype.da.XB,Ed.prototype.da.Bd,L.prototype.F.vv,id.prototype.Ea.lA,Ld.prototype.da.Yv,Ld.prototype.Ea.Or,ij.prototype.da.NB,Ed.prototype.da.rC,id.prototype.da.$B,id.prototype.F.wA,Ld.prototype.da.Xv,Ld.prototype.F.hA,Ed.prototype.da.Lr,jd.prototype.da.CallFunction,Nd.prototype.F.Ev,L.prototype.da.Xz,lj.prototype.F.AA,lj.prototype.da.dC,lj.prototype.Ea.nC,
jd.prototype.F.fo,id.prototype.da.hC,Nd.prototype.da.qA,L.prototype.F.rA,id.prototype.Ea.kC,id.prototype.F.jA,id.prototype.F.kA,id.prototype.F.Dv,mj.prototype.da.Vz,Md.prototype.da.gC,id.prototype.da.iC,L.prototype.F.LB,lj.prototype.da.Qf,id.prototype.da.TB,lj.prototype.da.cC,id.prototype.da.QB,id.prototype.F.Sg,Cd.prototype.F.Ir,jd.prototype.Ea.KB,Bd.prototype.da.YB,id.prototype.da.Zv,Fd.prototype.F.Sg,Jd.prototype.F.EA,L.prototype.da.aC,L.prototype.Ea.hg,Fd.prototype.da.ko,Hd.prototype.da.ko,id.prototype.Ea.oC]}
;
