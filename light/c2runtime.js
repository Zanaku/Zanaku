// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,ca,da,z,ea,fa,ga,T,ia,ja,ka,la,na,U,oa,pa,qa,sa,ta,va,wa,W,ya,za,Aa,Da,Ea,X,Ga,Ha,Ia,Ja,Ka,Y,La,Na,Oa,Pa,Ra,Sa,Ta,Ua,Va,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc={},cc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(a,b,f,u){this.set(a,b,f,u)}function h(){this.zb=this.yb=this.Bb=this.Ab=this.Jb=this.Ib=this.jb=this.ib=0}function m(a,b,f,u){a<b?f<u?(B=a<f?a:f,k=b>u?b:u):(B=a<u?a:u,k=b>f?b:f):f<u?(B=b<f?b:f,k=a>u?a:u):(B=b<u?b:u,k=a>f?a:f)}function q(){this.items=this.Fd=null;this.uh=0;D&&(this.Fd=new Set);this.Fg=[];this.ue=!0}function r(a){L[P++]=a}function t(){this.X=this.tk=this.y=this.Vk=0}function g(a){this.Va=[];this.Ai=this.Ci=this.Di=this.Bi=0;this.$h(a)}function b(a,b){this.$k=
a;this.Zk=b;this.cells={}}function e(a,b){this.$k=a;this.Zk=b;this.cells={}}function c(a,b,f){var u;return A.length?(u=A.pop(),u.Gl=a,u.x=b,u.y=f,u):new ba(a,b,f)}function a(a,b,f){this.Gl=a;this.x=b;this.y=f;this.nb=new ca}function f(a,b,f){var u;return F.length?(u=F.pop(),u.Gl=a,u.x=b,u.y=f,u):new da(a,b,f)}function l(a,b,f){this.Gl=a;this.x=b;this.y=f;this.nb=[];this.eg=!0;this.Cd=new ca;this.Jg=!1}function p(a,b){return a.md-b.md}z=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};T=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,b){return a<b?a:b};na=Math.PI;U=function(a){return 0<=a?a|0:(a|0)-1};oa=function(a){var b=a|0;return b===a?b:b+1};pa=function(a,b,f,u,v,c,p,n){var e,
l,k,g;a<f?(l=a,e=f):(l=f,e=a);v<p?(g=v,k=p):(g=p,k=v);if(e<g||l>k)return!1;b<u?(l=b,e=u):(l=u,e=b);c<n?(g=c,k=n):(g=n,k=c);if(e<g||l>k)return!1;e=v-a+p-f;l=c-b+n-u;a=f-a;b=u-b;v=p-v;c=n-c;n=ka(b*v-c*a);return ka(v*l-c*e)>n?!1:ka(a*l-b*e)<=n};d.prototype.set=function(a,b,f,u){this.left=a;this.top=b;this.right=f;this.bottom=u};d.prototype.Ng=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};d.prototype.width=function(){return this.right-this.left};d.prototype.height=
function(){return this.bottom-this.top};d.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};d.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};d.prototype.tv=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};d.prototype.uv=function(a,b,f){return!(a.right+b<this.left||a.bottom+
f<this.top||a.left+b>this.right||a.top+f>this.bottom)};d.prototype.Lb=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};d.prototype.Tg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};qa=d;h.prototype.If=function(a){this.ib=a.left;this.jb=a.top;this.Ib=a.right;this.Jb=a.top;this.Ab=a.right;this.Bb=a.bottom;this.yb=a.left;this.zb=a.bottom};h.prototype.Zq=function(a,b){if(0===b)this.If(a);else{var f=Math.sin(b),u=Math.cos(b),
v=a.left*f,c=a.top*f,p=a.right*f,f=a.bottom*f,n=a.left*u,e=a.top*u,l=a.right*u,u=a.bottom*u;this.ib=n-c;this.jb=e+v;this.Ib=l-c;this.Jb=e+p;this.Ab=l-f;this.Bb=u+p;this.yb=n-f;this.zb=u+v}};h.prototype.offset=function(a,b){this.ib+=a;this.jb+=b;this.Ib+=a;this.Jb+=b;this.Ab+=a;this.Bb+=b;this.yb+=a;this.zb+=b;return this};var B=0,k=0;h.prototype.so=function(a){m(this.ib,this.Ib,this.Ab,this.yb);a.left=B;a.right=k;m(this.jb,this.Jb,this.Bb,this.zb);a.top=B;a.bottom=k};h.prototype.Lb=function(a,b){var f=
this.ib,u=this.jb,v=this.Ib-f,c=this.Jb-u,p=this.Ab-f,n=this.Bb-u,e=a-f,l=b-u,k=v*v+c*c,g=v*p+c*n,c=v*e+c*l,d=p*p+n*n,w=p*e+n*l,B=1/(k*d-g*g),v=(d*c-g*w)*B,k=(k*w-g*c)*B;if(0<=v&&0<k&&1>v+k)return!0;v=this.yb-f;c=this.zb-u;k=v*v+c*c;g=v*p+c*n;c=v*e+c*l;B=1/(k*d-g*g);v=(d*c-g*w)*B;k=(k*w-g*c)*B;return 0<=v&&0<k&&1>v+k};h.prototype.re=function(a,b){if(b)switch(a){case 0:return this.ib;case 1:return this.Ib;case 2:return this.Ab;case 3:return this.yb;case 4:return this.ib;default:return this.ib}else switch(a){case 0:return this.jb;
case 1:return this.Jb;case 2:return this.Bb;case 3:return this.zb;case 4:return this.jb;default:return this.jb}};h.prototype.aq=function(){return(this.ib+this.Ib+this.Ab+this.yb)/4};h.prototype.bq=function(){return(this.jb+this.Jb+this.Bb+this.zb)/4};h.prototype.kp=function(a){var b=a.aq(),f=a.bq();if(this.Lb(b,f))return!0;b=this.aq();f=this.bq();if(a.Lb(b,f))return!0;var u,v,c,p,n,e,l,k;for(l=0;4>l;l++)for(k=0;4>k;k++)if(b=this.re(l,!0),f=this.re(l,!1),u=this.re(l+1,!0),v=this.re(l+1,!1),c=a.re(k,
!0),p=a.re(k,!1),n=a.re(k+1,!0),e=a.re(k+1,!1),pa(b,f,u,v,c,p,n,e))return!0;return!1};sa=h;ta=function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);return a};va=function(a,b){var f,u;b=U(b);if(!(0>b||b>=a.length)){f=b;for(u=a.length-1;f<u;f++)a[f]=a[f+1];wa(a,u)}};wa=function(a,b){a.length=b};W=function(a){wa(a,0)};ya=function(a,b){W(a);var f,u;f=0;for(u=b.length;f<u;++f)a[f]=b[f]};za=function(a,b){a.push.apply(a,b)};Aa=function(a,b){var f,u;f=0;for(u=a.length;f<u;++f)if(a[f]===b)return f;
return-1};Da=function(a,b){var f=Aa(a,b);-1!==f&&va(a,f)};Ea=function(a,b,f){return a<b?b:a>f?f:a};X=function(a){return a/(180/na)};Ga=function(a){return 180/na*a};Ha=function(a){a%=360;0>a&&(a+=360);return a};Ia=function(a){a%=2*na;0>a&&(a+=2*na);return a};Ja=function(a){return Ha(Ga(a))};Ka=function(a){return Ia(X(a))};Y=function(a,b,f,u){return Math.atan2(u-b,f-a)};La=function(a,b){if(a===b)return 0;var f=Math.sin(a),u=Math.cos(a),v=Math.sin(b),c=Math.cos(b),f=f*v+u*c;return 1<=f?0:-1>=f?na:Math.acos(f)};
Na=function(a,b,f){var u=Math.sin(a),v=Math.cos(a),c=Math.sin(b),p=Math.cos(b);return Math.acos(u*c+v*p)>f?0<v*c-u*p?Ia(a+f):Ia(a-f):Ia(b)};Oa=function(a,b){var f=Math.sin(a),u=Math.cos(a),v=Math.sin(b),c=Math.cos(b);return 0>=u*v-f*c};Pa=function(a,b,f,u,v,c){if(0===f)return c?a:b;var p=Math.sin(f);f=Math.cos(f);a-=u;b-=v;var n=a*p;a=a*f-b*p;b=b*f+n;return c?a+u:b+v};Ra=function(a,b,f,u){a=f-a;b=u-b;return Math.sqrt(a*a+b*b)};Sa=function(a,b){return!a!==!b};Ta=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;
return!1};Ua=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var J=+new Date;Va=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-J};var n=!1,w=n=!1,C=!1;"undefined"!==typeof window&&(n=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
n=!n&&/safari/i.test(navigator.userAgent),w=/(iphone|ipod|ipad)/i.test(navigator.userAgent),C=window.c2ejecta);var D=!n&&!C&&!w&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;q.prototype.contains=function(a){return this.Vd()?!1:D?this.Fd.has(a):this.items&&this.items.hasOwnProperty(a)};q.prototype.add=function(a){if(D)this.Fd.has(a)||(this.Fd.add(a),this.ue=!1);else{var b=a.toString(),f=this.items;f?f.hasOwnProperty(b)||(f[b]=a,this.uh++,this.ue=!1):(this.items={},this.items[b]=
a,this.uh=1,this.ue=!1)}};q.prototype.remove=function(a){if(!this.Vd())if(D)this.Fd.has(a)&&(this.Fd["delete"](a),this.ue=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.uh--,this.ue=!1)}};q.prototype.clear=function(){this.Vd()||(D?this.Fd.clear():(this.items=null,this.uh=0),W(this.Fg),this.ue=!0)};q.prototype.Vd=function(){return 0===this.count()};q.prototype.count=function(){return D?this.Fd.size:this.uh};var L=null,P=0;q.prototype.Lw=function(){if(!this.ue){if(D)W(this.Fg),
L=this.Fg,P=0,this.Fd.forEach(r),L=null,P=0;else{var a=this.Fg;W(a);var b,f=0,u=this.items;if(u)for(b in u)u.hasOwnProperty(b)&&(a[f++]=u[b])}this.ue=!0}};q.prototype.Id=function(){this.Lw();return this.Fg};ca=q;var N=new ca;Ya=function(a){var b,f;b=0;for(f=a.length;b<f;++b)N.add(a[b]);ya(a,N.Id());N.clear()};Za=function(a,b){D?$a(a,b.Fd):ab(a,b.Id())};$a=function(a,b){var f,u,v,c;u=f=0;for(v=a.length;f<v;++f)c=a[f],b.has(c)||(a[u++]=c);wa(a,u)};ab=function(a,b){var f,u,v,c;u=f=0;for(v=a.length;f<
v;++f)c=a[f],-1===Aa(b,c)&&(a[u++]=c);wa(a,u)};t.prototype.add=function(a){this.y=a-this.Vk;this.tk=this.X+this.y;this.Vk=this.tk-this.X-this.y;this.X=this.tk};t.prototype.reset=function(){this.X=this.tk=this.y=this.Vk=0};bb=t;cb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};g.prototype.$h=function(a){this.Iq=a;this.Mc=a.length/2;this.Va.length=a.length;this.Fi=this.Gi=-1;this.vo=0};g.prototype.De=function(){return!this.Iq.length};g.prototype.ya=function(){for(var a=this.Va,b=a[0],
f=b,u=a[1],v=u,c,p,n=1,e=this.Mc;n<e;++n)p=2*n,c=a[p],p=a[p+1],c<b&&(b=c),c>f&&(f=c),p<u&&(u=p),p>v&&(v=p);this.Bi=b;this.Ci=f;this.Di=u;this.Ai=v};g.prototype.If=function(a,b,f){this.Va.length=8;this.Mc=4;var u=this.Va;u[0]=a.left-b;u[1]=a.top-f;u[2]=a.right-b;u[3]=a.top-f;u[4]=a.right-b;u[5]=a.bottom-f;u[6]=a.left-b;u[7]=a.bottom-f;this.Gi=a.right-a.left;this.Fi=a.bottom-a.top;this.ya()};g.prototype.Te=function(a,b,f,u,v){this.Va.length=8;this.Mc=4;var c=this.Va;c[0]=a.ib-b;c[1]=a.jb-f;c[2]=a.Ib-
b;c[3]=a.Jb-f;c[4]=a.Ab-b;c[5]=a.Bb-f;c[6]=a.yb-b;c[7]=a.zb-f;this.Gi=u;this.Fi=v;this.ya()};g.prototype.Yq=function(a){this.Mc=a.Mc;ya(this.Va,a.Va);this.Bi=a.Bi;this.Di-a.Di;this.Ci=a.Ci;this.Ai=a.Ai};g.prototype.te=function(a,b,f){if(this.Gi!==a||this.Fi!==b||this.vo!==f){this.Gi=a;this.Fi=b;this.vo=f;var u,v,c,p,n,e=0,l=1,k=this.Iq,g=this.Va;0!==f&&(e=Math.sin(f),l=Math.cos(f));f=0;for(c=this.Mc;f<c;f++)u=2*f,v=u+1,p=k[u]*a,n=k[v]*b,g[u]=p*l-n*e,g[v]=n*l+p*e;this.ya()}};g.prototype.Lb=function(a,
b){var f=this.Va;if(a===f[0]&&b===f[1])return!0;var u,v,c,p=this.Mc,n=this.Bi-110,e=this.Di-101,l=this.Ci+131,k=this.Ai+120,g,d,w=0,B=0;for(u=0;u<p;u++)v=2*u,c=(u+1)%p*2,g=f[v],v=f[v+1],d=f[c],c=f[c+1],pa(n,e,a,b,g,v,d,c)&&w++,pa(l,k,a,b,g,v,d,c)&&B++;return 1===w%2||1===B%2};g.prototype.hh=function(a,b,f){var u=a.Va,v=this.Va;if(this.Lb(u[0]+b,u[1]+f)||a.Lb(v[0]-b,v[1]-f))return!0;var c,p,n,e,l,k,g,d,w,B,t,h;c=0;for(e=this.Mc;c<e;c++)for(p=2*c,n=(c+1)%e*2,d=v[p],p=v[p+1],w=v[n],B=v[n+1],n=0,g=a.Mc;n<
g;n++)if(l=2*n,k=(n+1)%g*2,t=u[l]+b,l=u[l+1]+f,h=u[k]+b,k=u[k+1]+f,pa(d,p,w,B,t,l,h,k))return!0;return!1};db=g;b.prototype.Ae=function(a,b,f){var u;u=this.cells[a];return u?(u=u[b])?u:f?(u=c(this,a,b),this.cells[a][b]=u):null:f?(u=c(this,a,b),this.cells[a]={},this.cells[a][b]=u):null};b.prototype.Qb=function(a){return U(a/this.$k)};b.prototype.Rb=function(a){return U(a/this.Zk)};b.prototype.update=function(a,b,f){var u,v,c,p,n;if(b)for(u=b.left,v=b.right;u<=v;++u)for(c=b.top,p=b.bottom;c<=p;++c)if(!f||
!f.Lb(u,c))if(n=this.Ae(u,c,!1))n.remove(a),n.Vd()&&(n.nb.clear(),1E3>A.length&&A.push(n),this.cells[u][c]=null);if(f)for(u=f.left,v=f.right;u<=v;++u)for(c=f.top,p=f.bottom;c<=p;++c)b&&b.Lb(u,c)||this.Ae(u,c,!0).Pl(a)};b.prototype.ck=function(a,b){var f,u,v,c,p,n;f=this.Qb(a.left);v=this.Rb(a.top);u=this.Qb(a.right);for(p=this.Rb(a.bottom);f<=u;++f)for(c=v;c<=p;++c)(n=this.Ae(f,c,!1))&&n.dump(b)};eb=b;e.prototype.Ae=function(a,b,c){var u;u=this.cells[a];return u?(u=u[b])?u:c?(u=f(this,a,b),this.cells[a][b]=
u):null:c?(u=f(this,a,b),this.cells[a]={},this.cells[a][b]=u):null};e.prototype.Qb=function(a){return U(a/this.$k)};e.prototype.Rb=function(a){return U(a/this.Zk)};e.prototype.update=function(a,b,f){var u,v,c,p,n;if(b)for(u=b.left,v=b.right;u<=v;++u)for(c=b.top,p=b.bottom;c<=p;++c)if(!f||!f.Lb(u,c))if(n=this.Ae(u,c,!1))n.remove(a),n.Vd()&&(n.reset(),1E3>F.length&&F.push(n),this.cells[u][c]=null);if(f)for(u=f.left,v=f.right;u<=v;++u)for(c=f.top,p=f.bottom;c<=p;++c)b&&b.Lb(u,c)||this.Ae(u,c,!0).Pl(a)};
e.prototype.ck=function(a,b,f,u,v){var c,p;a=this.Qb(a);b=this.Rb(b);f=this.Qb(f);for(c=this.Rb(u);a<=f;++a)for(u=b;u<=c;++u)(p=this.Ae(a,u,!1))&&p.dump(v)};e.prototype.Gv=function(a){var b,f,u,v,c;b=a.left;u=a.top;f=a.right;for(v=a.bottom;b<=f;++b)for(a=u;a<=v;++a)if(c=this.Ae(b,a,!1))c.eg=!1};fb=e;var A=[];a.prototype.Vd=function(){return this.nb.Vd()};a.prototype.Pl=function(a){this.nb.add(a)};a.prototype.remove=function(a){this.nb.remove(a)};a.prototype.dump=function(a){za(a,this.nb.Id())};ba=
a;var F=[];l.prototype.Vd=function(){if(!this.nb.length)return!0;if(this.nb.length>this.Cd.count())return!1;this.ql();return!0};l.prototype.Pl=function(a){this.Cd.contains(a)?(this.Cd.remove(a),this.Cd.Vd()&&(this.Jg=!1)):this.nb.length?(this.nb[this.nb.length-1].xd()>a.xd()&&(this.eg=!1),this.nb.push(a)):(this.nb.push(a),this.eg=!0)};l.prototype.remove=function(a){this.Cd.add(a);this.Jg=!0;30<=this.Cd.count()&&this.ql()};l.prototype.ql=function(){this.Jg&&(this.Cd.count()===this.nb.length?this.reset():
(Za(this.nb,this.Cd),this.Cd.clear(),this.Jg=!1))};l.prototype.Xt=function(){this.eg||(this.nb.sort(p),this.eg=!0)};l.prototype.reset=function(){W(this.nb);this.eg=!0;this.Cd.clear();this.Jg=!1};l.prototype.dump=function(a){this.ql();this.Xt();this.nb.length&&a.push(this.nb)};da=l;var M="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");gb=function(a){return 0>=a||11<=a?"source-over":M[a-1]};hb=function(a,b,f){if(f)switch(a.Gb=
f.ONE,a.Db=f.ONE_MINUS_SRC_ALPHA,b){case 1:a.Gb=f.ONE;a.Db=f.ONE;break;case 3:a.Gb=f.ONE;a.Db=f.ZERO;break;case 4:a.Gb=f.ONE_MINUS_DST_ALPHA;a.Db=f.ONE;break;case 5:a.Gb=f.DST_ALPHA;a.Db=f.ZERO;break;case 6:a.Gb=f.ZERO;a.Db=f.SRC_ALPHA;break;case 7:a.Gb=f.ONE_MINUS_DST_ALPHA;a.Db=f.ZERO;break;case 8:a.Gb=f.ZERO;a.Db=f.ONE_MINUS_SRC_ALPHA;break;case 9:a.Gb=f.DST_ALPHA;a.Db=f.ONE_MINUS_SRC_ALPHA;break;case 10:a.Gb=f.ONE_MINUS_DST_ALPHA,a.Db=f.SRC_ALPHA}};ib=function(a){return Math.round(1E6*a)/1E6};
jb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};kb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||jb(a.tagName,"canvas")?!0:!1}})();var dc="undefined"!==typeof Float32Array?Float32Array:Array;function ec(d){var h=new dc(3);d&&(h[0]=d[0],h[1]=d[1],h[2]=d[2]);return h}
function fc(d){var h=new dc(16);d&&(h[0]=d[0],h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=d[6],h[7]=d[7],h[8]=d[8],h[9]=d[9],h[10]=d[10],h[11]=d[11],h[12]=d[12],h[13]=d[13],h[14]=d[14],h[15]=d[15]);return h}function gc(d,h){h[0]=d[0];h[1]=d[1];h[2]=d[2];h[3]=d[3];h[4]=d[4];h[5]=d[5];h[6]=d[6];h[7]=d[7];h[8]=d[8];h[9]=d[9];h[10]=d[10];h[11]=d[11];h[12]=d[12];h[13]=d[13];h[14]=d[14];h[15]=d[15]}
function hc(d,h){var m=h[0],q=h[1];h=h[2];d[0]*=m;d[1]*=m;d[2]*=m;d[3]*=m;d[4]*=q;d[5]*=q;d[6]*=q;d[7]*=q;d[8]*=h;d[9]*=h;d[10]*=h;d[11]*=h}
function ic(d,h,m,q){q||(q=fc());var r,t,g,b,e,c,a,f,l=d[0],p=d[1];d=d[2];t=m[0];g=m[1];r=m[2];m=h[1];c=h[2];l===h[0]&&p===m&&d===c?(d=q,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(m=l-h[0],c=p-h[1],a=d-h[2],f=1/Math.sqrt(m*m+c*c+a*a),m*=f,c*=f,a*=f,h=g*a-r*c,r=r*m-t*a,t=t*c-g*m,(f=Math.sqrt(h*h+r*r+t*t))?(f=1/f,h*=f,r*=f,t*=f):t=r=h=0,g=c*t-a*r,b=a*h-m*t,e=m*r-c*h,(f=Math.sqrt(g*g+b*b+e*e))?(f=1/f,g*=f,b*=f,e*=f):e=b=g=0,
q[0]=h,q[1]=g,q[2]=m,q[3]=0,q[4]=r,q[5]=b,q[6]=c,q[7]=0,q[8]=t,q[9]=e,q[10]=a,q[11]=0,q[12]=-(h*l+r*p+t*d),q[13]=-(g*l+b*p+e*d),q[14]=-(m*l+c*p+a*d),q[15]=1)}
(function(){function d(b,e,c){this.Wd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.ua=!!c;this.tj=this.kh=!1;this.Pi=0;this.Fk=1;this.Pn=1E3;this.Rw=(this.Pn-this.Fk)/32768;this.Xk=ec([0,0,100]);this.Kp=ec([0,0,0]);this.Cr=ec([0,1,0]);this.si=ec([1,1,1]);this.Fo=!0;this.Mj=fc();this.wc=fc();this.cm=fc();this.il=fc();this.q=b;this.gp()}function h(b,e,c){this.q=b;this.ai=e;this.name=c;this.Jc=b.getAttribLocation(e,"aPos");this.Le=b.getAttribLocation(e,
"aTex");this.Ip=b.getUniformLocation(e,"matP");this.Ij=b.getUniformLocation(e,"matMV");this.mg=b.getUniformLocation(e,"opacity");this.pm=b.getUniformLocation(e,"colorFill");this.Jp=b.getUniformLocation(e,"samplerFront");this.Eh=b.getUniformLocation(e,"samplerBack");this.Af=b.getUniformLocation(e,"destStart");this.zf=b.getUniformLocation(e,"destEnd");this.Gh=b.getUniformLocation(e,"seconds");this.rm=b.getUniformLocation(e,"pixelWidth");this.qm=b.getUniformLocation(e,"pixelHeight");this.Dh=b.getUniformLocation(e,
"layerScale");this.Ch=b.getUniformLocation(e,"layerAngle");this.Hh=b.getUniformLocation(e,"viewOrigin");this.Fh=b.getUniformLocation(e,"scrollPos");this.nv=!!(this.rm||this.qm||this.Gh||this.Eh||this.Af||this.zf||this.Dh||this.Ch||this.Hh||this.Fh);this.Sp=this.Tp=-999;this.Lj=1;this.Op=this.Np=0;this.Qp=this.Mp=this.Lp=1;this.Wp=this.Vp=this.Up=this.Yp=this.Xp=this.Pp=0;this.am=[];this.Rp=fc();this.mg&&b.uniform1f(this.mg,1);this.pm&&b.uniform4f(this.pm,1,1,1,1);this.Jp&&b.uniform1i(this.Jp,0);this.Eh&&
b.uniform1i(this.Eh,1);this.Af&&b.uniform2f(this.Af,0,0);this.zf&&b.uniform2f(this.zf,1,1);this.Dh&&b.uniform1f(this.Dh,1);this.Ch&&b.uniform1f(this.Ch,0);this.Hh&&b.uniform2f(this.Hh,0,0);this.Fh&&b.uniform2f(this.Fh,0,0);this.Gh&&b.uniform1f(this.Gh,0);this.qf=!1}function m(b,e){return b[0]===e[0]&&b[1]===e[1]&&b[2]===e[2]&&b[3]===e[3]&&b[4]===e[4]&&b[5]===e[5]&&b[6]===e[6]&&b[7]===e[7]&&b[8]===e[8]&&b[9]===e[9]&&b[10]===e[10]&&b[11]===e[11]&&b[12]===e[12]&&b[13]===e[13]&&b[14]===e[14]&&b[15]===
e[15]}function q(b,e){this.type=b;this.n=e;this.q=e.q;this.uc=this.Hb=this.tq=0;this.U=this.Qc=null;this.$q=[]}var r=fc();d.prototype.gp=function(){var b=this.q,e;this.yp=1;this.wf=this.Fe=null;this.Oi=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.ua?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):b.disable(b.DEPTH_TEST);this.Ap=b.ONE;this.up=b.ONE_MINUS_SRC_ALPHA;
this.ri=new Float32Array(8E3*(this.ua?3:2));this.ji=new Float32Array(16E3);this.Eq=new Float32Array(32E3);this.Rm=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.Rm);b.bufferData(b.ARRAY_BUFFER,this.Eq.byteLength,b.DYNAMIC_DRAW);this.qi=Array(4);this.ii=Array(4);for(e=0;4>e;e++)this.qi[e]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.qi[e]),b.bufferData(b.ARRAY_BUFFER,this.ri.byteLength,b.DYNAMIC_DRAW),this.ii[e]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.ii[e]),b.bufferData(b.ARRAY_BUFFER,
this.ji.byteLength,b.DYNAMIC_DRAW);this.Md=0;this.rv=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.rv);for(var c=new Uint16Array(12E3),a=e=0;12E3>e;)c[e++]=a,c[e++]=a+1,c[e++]=a+2,c[e++]=a,c[e++]=a+2,c[e++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,c,b.STATIC_DRAW);this.Sm=this.We=this.Sc=0;this.Na=[];e=this.ua?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Og({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.Na.push(c);c=this.Og({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Na.push(c);c=this.Og({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.Na.push(c);c=this.Og({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.Na.push(c);for(var f in jc)jc.hasOwnProperty(f)&&this.Na.push(this.Og(jc[f],e,f));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.rd=[];this.Wc=0;this.kb=!1;this.Bo=this.vh=-1;this.Uf=null;this.pl=b.createFramebuffer();this.Ti=this.ek=null;this.qo=!1;this.ua&&(this.Ti=b.createRenderbuffer());this.Xe=ec([0,0,0]);this.Zp=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Zp&&(this.Zp=2048);this.cc(0)};h.prototype.Hn=function(b){m(this.Rp,b)||(gc(b,this.Rp),this.q.uniformMatrix4fv(this.Ij,
!1,b))};d.prototype.Og=function(b,e,c){var a=this.q,f=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(f,b.src);a.compileShader(f);if(!a.getShaderParameter(f,a.COMPILE_STATUS))return a.deleteShader(f),null;var l=a.createShader(a.VERTEX_SHADER);a.shaderSource(l,e);a.compileShader(l);if(!a.getShaderParameter(l,a.COMPILE_STATUS))return a.deleteShader(f),a.deleteShader(l),null;e=a.createProgram();a.attachShader(e,f);a.attachShader(e,l);a.linkProgram(e);if(!a.getProgramParameter(e,a.LINK_STATUS))return a.deleteShader(f),
a.deleteShader(l),a.deleteProgram(e),null;a.useProgram(e);a.deleteShader(f);a.deleteShader(l);c=new h(a,e,c);c.Zi=b.Zi||0;c.$i=b.$i||0;c.hl=!!b.hl;c.Lc=!!b.Lc;c.Pk=!!b.Pk;c.R=b.R||[];b=0;for(f=c.R.length;b<f;b++)c.R[b][1]=a.getUniformLocation(e,c.R[b][0]),c.am.push(0),a.uniform1f(c.R[b][1],0);return c};d.prototype.Cl=function(b){var e,c;e=0;for(c=this.Na.length;e<c;e++)if(this.Na[e].name===b)return e;return-1};d.prototype.Hq=function(b,e,c){var a=this.wc,f=this.Mj,l=[0,0,0,0,0,0,0,0];l[0]=a[0]*b+
a[4]*e+a[12];l[1]=a[1]*b+a[5]*e+a[13];l[2]=a[2]*b+a[6]*e+a[14];l[3]=a[3]*b+a[7]*e+a[15];l[4]=f[0]*l[0]+f[4]*l[1]+f[8]*l[2]+f[12]*l[3];l[5]=f[1]*l[0]+f[5]*l[1]+f[9]*l[2]+f[13]*l[3];l[6]=f[2]*l[0]+f[6]*l[1]+f[10]*l[2]+f[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],c[0]=(.5*l[4]+.5)*this.width,c[1]=(.5*l[5]+.5)*this.height)};d.prototype.Hf=function(b,e,c){if(this.width!==b||this.height!==e||c){this.Qd();c=this.q;this.width=b;this.height=e;c.viewport(0,0,b,e);ic(this.Xk,
this.Kp,this.Cr,this.wc);if(this.ua){var a=-b/2;b=b/2;var f=e/2;e=-e/2;var l=this.Fk,p=this.Pn,g=this.Mj;g||(g=fc());var k=b-a,d=e-f,n=p-l;g[0]=2/k;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/d;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/n;g[11]=0;g[12]=-(a+b)/k;g[13]=-(e+f)/d;g[14]=-(p+l)/n;g[15]=1;this.si[0]=1;this.si[1]=1}else e=b/e,a=this.Fk,b=this.Pn,g=this.Mj,p=a*Math.tan(45*Math.PI/360),e*=p,f=-e,l=-p,g||(g=fc()),k=e-f,d=p-l,n=b-a,g[0]=2*a/k,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*a/d,g[6]=0,g[7]=0,g[8]=(e+f)/
k,g[9]=(p+l)/d,g[10]=-(b+a)/n,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(b*a*2)/n,g[15]=0,a=[0,0],b=[0,0],this.Hq(0,0,a),this.Hq(1,1,b),this.si[0]=1/(b[0]-a[0]),this.si[1]=-1/(b[1]-a[1]);a=0;for(b=this.Na.length;a<b;a++)f=this.Na[a],f.qf=!1,f.Ip&&(c.useProgram(f.ai),c.uniformMatrix4fv(f.Ip,!1,this.Mj));c.useProgram(this.Na[this.vh].ai);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.wf=this.Fe=null;this.Ti&&(c.bindFramebuffer(c.FRAMEBUFFER,
this.pl),c.bindRenderbuffer(c.RENDERBUFFER,this.Ti),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.qo||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.Ti),this.qo=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.ek=null)}};d.prototype.Nc=function(){ic(this.Xk,this.Kp,this.Cr,this.wc);hc(this.wc,this.si)};d.prototype.translate=function(b,e){if(0!==b||0!==e){this.Xe[0]=b;this.Xe[1]=e;this.Xe[2]=
0;var c=this.wc,a=this.Xe,f=a[0],l=a[1],a=a[2];c[12]=c[0]*f+c[4]*l+c[8]*a+c[12];c[13]=c[1]*f+c[5]*l+c[9]*a+c[13];c[14]=c[2]*f+c[6]*l+c[10]*a+c[14];c[15]=c[3]*f+c[7]*l+c[11]*a+c[15]}};d.prototype.scale=function(b,e){if(1!==b||1!==e)this.Xe[0]=b,this.Xe[1]=e,this.Xe[2]=1,hc(this.wc,this.Xe)};d.prototype.gk=function(b){if(0!==b){var e=this.wc,c,a=Math.sin(b);b=Math.cos(b);var f=e[0],l=e[1],p=e[2],g=e[3],k=e[4],d=e[5],n=e[6],w=e[7];c?e!==c&&(c[8]=e[8],c[9]=e[9],c[10]=e[10],c[11]=e[11],c[12]=e[12],c[13]=
e[13],c[14]=e[14],c[15]=e[15]):c=e;c[0]=f*b+k*a;c[1]=l*b+d*a;c[2]=p*b+n*a;c[3]=g*b+w*a;c[4]=f*-a+k*b;c[5]=l*-a+d*b;c[6]=p*-a+n*b;c[7]=g*-a+w*b}};d.prototype.Ac=function(){if(!m(this.cm,this.wc)){var b=this.Yb();b.type=5;b.U?gc(this.wc,b.U):b.U=fc(this.wc);gc(this.wc,this.cm);this.kb=!1}};d.prototype.ik=function(b){this.ua&&(32760<b&&(b=32760),this.Pi=this.Xk[2]-this.Fk-b*this.Rw)};q.prototype.Ht=function(){var b=this.q,e=this.n;0!==this.Hb?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),
b.bindFramebuffer(b.FRAMEBUFFER,e.pl),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),e.tj=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),e.tj=!1)};q.prototype.Lt=function(){this.q.bindTexture(this.q.TEXTURE_2D,this.Qc)};q.prototype.Mt=function(){var b=this.q;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.Qc);b.activeTexture(b.TEXTURE0)};q.prototype.It=function(){var b=this.tq,
e=this.n;e.Oi=b;e=e.Uf;e.mg&&e.Lj!==b&&(e.Lj=b,this.q.uniform1f(e.mg,b))};q.prototype.Ct=function(){this.q.drawElements(this.q.TRIANGLES,this.uc,this.q.UNSIGNED_SHORT,this.Hb)};q.prototype.Et=function(){this.q.blendFunc(this.Hb,this.uc)};q.prototype.Nt=function(){var b,e,c,a=this.n.Na,f=this.n.Bo;b=0;for(e=a.length;b<e;b++)c=a[b],b===f&&c.Ij?(c.Hn(this.U),c.qf=!0):c.qf=!1;gc(this.U,this.n.il)};q.prototype.Dt=function(){var b=this.q,e=this.n;this.Qc?(e.wf===this.Qc&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,
null),e.wf=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,e.pl),e.tj||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.Qc,0)):(e.ua||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};q.prototype.At=function(){var b=this.q,e=this.Hb;0===e?(b.clearColor(this.U[0],this.U[1],this.U[2],this.U[3]),b.clear(b.COLOR_BUFFER_BIT)):1===e?(b.enable(b.SCISSOR_TEST),b.scissor(this.U[0],this.U[1],this.U[2],
this.U[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};q.prototype.Gt=function(){var b=this.q;0!==this.Hb?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};q.prototype.Bt=function(){var b=this.q,e=this.n;e.ua&&b.disable(b.DEPTH_TEST);var c=e.Na[1];b.useProgram(c.ai);!c.qf&&c.Ij&&(c.Hn(e.il),c.qf=!0);b.enableVertexAttribArray(c.Jc);b.bindBuffer(b.ARRAY_BUFFER,e.Rm);b.vertexAttribPointer(c.Jc,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.Hb/
4,this.uc);c=e.Uf;b.useProgram(c.ai);0<=c.Jc&&(b.enableVertexAttribArray(c.Jc),b.bindBuffer(b.ARRAY_BUFFER,e.qi[e.Md]),b.vertexAttribPointer(c.Jc,e.ua?3:2,b.FLOAT,!1,0,0));0<=c.Le&&(b.enableVertexAttribArray(c.Le),b.bindBuffer(b.ARRAY_BUFFER,e.ii[e.Md]),b.vertexAttribPointer(c.Le,2,b.FLOAT,!1,0,0));e.ua&&b.enable(b.DEPTH_TEST)};q.prototype.Jt=function(){var b=this.q,e=this.n,c=e.Na[this.Hb];e.Bo=this.Hb;e.Uf=c;b.useProgram(c.ai);!c.qf&&c.Ij&&(c.Hn(e.il),c.qf=!0);c.mg&&c.Lj!==e.Oi&&(c.Lj=e.Oi,b.uniform1f(c.mg,
e.Oi));0<=c.Jc&&(b.enableVertexAttribArray(c.Jc),b.bindBuffer(b.ARRAY_BUFFER,e.qi[e.Md]),b.vertexAttribPointer(c.Jc,e.ua?3:2,b.FLOAT,!1,0,0));0<=c.Le&&(b.enableVertexAttribArray(c.Le),b.bindBuffer(b.ARRAY_BUFFER,e.ii[e.Md]),b.vertexAttribPointer(c.Le,2,b.FLOAT,!1,0,0))};q.prototype.Ft=function(){var b=this.U;this.q.uniform4f(this.n.Uf.pm,b[0],b[1],b[2],b[3])};q.prototype.Kt=function(){var b,e,c=this.n.Uf,a=this.q;b=this.U;c.Eh&&this.n.wf!==this.Qc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
this.Qc),this.n.wf=this.Qc,a.activeTexture(a.TEXTURE0));var f=b[0];c.rm&&f!==c.Tp&&(c.Tp=f,a.uniform1f(c.rm,f));f=b[1];c.qm&&f!==c.Sp&&(c.Sp=f,a.uniform1f(c.qm,f));f=b[2];e=b[3];!c.Af||f===c.Np&&e===c.Op||(c.Np=f,c.Op=e,a.uniform2f(c.Af,f,e));f=b[4];e=b[5];!c.zf||f===c.Lp&&e===c.Mp||(c.Lp=f,c.Mp=e,a.uniform2f(c.zf,f,e));f=b[6];c.Dh&&f!==c.Qp&&(c.Qp=f,a.uniform1f(c.Dh,f));f=b[7];c.Ch&&f!==c.Pp&&(c.Pp=f,a.uniform1f(c.Ch,f));f=b[8];e=b[9];!c.Hh||f===c.Xp&&e===c.Yp||(c.Xp=f,c.Yp=e,a.uniform2f(c.Hh,f,
e));f=b[10];e=b[11];!c.Fh||f===c.Up&&e===c.Vp||(c.Up=f,c.Vp=e,a.uniform2f(c.Fh,f,e));f=b[12];c.Gh&&f!==c.Wp&&(c.Wp=f,a.uniform1f(c.Gh,f));if(c.R.length)for(b=0,e=c.R.length;b<e;b++)f=this.$q[b],f!==c.am[b]&&(c.am[b]=f,a.uniform1f(c.R[b][1],f))};d.prototype.Yb=function(){this.Wc===this.rd.length&&this.rd.push(new q(0,this));return this.rd[this.Wc++]};d.prototype.Qd=function(){if(0!==this.Wc&&!this.q.isContextLost()){var b=this.q;0<this.Sm&&(b.bindBuffer(b.ARRAY_BUFFER,this.Rm),b.bufferSubData(b.ARRAY_BUFFER,
0,this.Eq.subarray(0,this.Sm)),e&&0<=e.Jc&&"<point>"===e.name&&b.vertexAttribPointer(e.Jc,4,b.FLOAT,!1,0,0));if(0<this.Sc){var e=this.Uf;b.bindBuffer(b.ARRAY_BUFFER,this.qi[this.Md]);b.bufferSubData(b.ARRAY_BUFFER,0,this.ri.subarray(0,this.Sc));e&&0<=e.Jc&&"<point>"!==e.name&&b.vertexAttribPointer(e.Jc,this.ua?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.ii[this.Md]);b.bufferSubData(b.ARRAY_BUFFER,0,this.ji.subarray(0,this.We));e&&0<=e.Le&&"<point>"!==e.name&&b.vertexAttribPointer(e.Le,2,
b.FLOAT,!1,0,0)}for(var c,b=0,e=this.Wc;b<e;b++)switch(c=this.rd[b],c.type){case 1:c.Ct();break;case 2:c.Lt();break;case 3:c.It();break;case 4:c.Et();break;case 5:c.Nt();break;case 6:c.Dt();break;case 7:c.At();break;case 8:c.Bt();break;case 9:c.Jt();break;case 10:c.Kt();break;case 11:c.Mt();break;case 12:c.Ft();break;case 13:c.Gt();break;case 14:c.Ht()}this.Sm=this.We=this.Sc=this.Wc=0;this.tj=this.kb=!1;this.Md++;4<=this.Md&&(this.Md=0)}};d.prototype.Se=function(b){if(b!==this.yp&&!this.kh){var e=
this.Yb();e.type=3;this.yp=e.tq=b;this.kb=!1}};d.prototype.hb=function(b){if(b!==this.Fe){var e=this.Yb();e.type=2;this.Fe=e.Qc=b;this.kb=!1}};d.prototype.Re=function(b,e){if((b!==this.Ap||e!==this.up)&&!this.kh){var c=this.Yb();c.type=4;c.Hb=b;c.uc=e;this.Ap=b;this.up=e;this.kb=!1}};d.prototype.Qq=function(){this.Re(this.q.ONE,this.q.ONE_MINUS_SRC_ALPHA)};d.prototype.Gf=function(b,e,c,a,f,l,p,g){15992<=this.Sc&&this.Qd();var k=this.Sc,d=this.We,n=this.ri,w=this.ji,t=this.Pi;if(this.kb)this.rd[this.Wc-
1].uc+=6;else{var h=this.Yb();h.type=1;h.Hb=this.ua?k:k/2*3;h.uc=6;this.kb=!0}this.ua?(n[k++]=b,n[k++]=e,n[k++]=t,n[k++]=c,n[k++]=a,n[k++]=t,n[k++]=f,n[k++]=l,n[k++]=t,n[k++]=p,n[k++]=g,n[k++]=t):(n[k++]=b,n[k++]=e,n[k++]=c,n[k++]=a,n[k++]=f,n[k++]=l,n[k++]=p,n[k++]=g);w[d++]=0;w[d++]=0;w[d++]=1;w[d++]=0;w[d++]=1;w[d++]=1;w[d++]=0;w[d++]=1;this.Sc=k;this.We=d};d.prototype.Dd=function(b,e,c,a,f,l,p,g,k){15992<=this.Sc&&this.Qd();var d=this.Sc,n=this.We,w=this.ri,t=this.ji,h=this.Pi;if(this.kb)this.rd[this.Wc-
1].uc+=6;else{var m=this.Yb();m.type=1;m.Hb=this.ua?d:d/2*3;m.uc=6;this.kb=!0}var m=k.left,q=k.top,r=k.right;k=k.bottom;this.ua?(w[d++]=b,w[d++]=e,w[d++]=h,w[d++]=c,w[d++]=a,w[d++]=h,w[d++]=f,w[d++]=l,w[d++]=h,w[d++]=p,w[d++]=g,w[d++]=h):(w[d++]=b,w[d++]=e,w[d++]=c,w[d++]=a,w[d++]=f,w[d++]=l,w[d++]=p,w[d++]=g);t[n++]=m;t[n++]=q;t[n++]=r;t[n++]=q;t[n++]=r;t[n++]=k;t[n++]=m;t[n++]=k;this.Sc=d;this.We=n};d.prototype.Kq=function(b,e,c,a,f,l,p,g,k,d,n,w,t){15992<=this.Sc&&this.Qd();var h=this.Sc,m=this.We,
q=this.ri,r=this.ji,A=this.Pi;if(this.kb)this.rd[this.Wc-1].uc+=6;else{var F=this.Yb();F.type=1;F.Hb=this.ua?h:h/2*3;F.uc=6;this.kb=!0}this.ua?(q[h++]=b,q[h++]=e,q[h++]=A,q[h++]=c,q[h++]=a,q[h++]=A,q[h++]=f,q[h++]=l,q[h++]=A,q[h++]=p,q[h++]=g,q[h++]=A):(q[h++]=b,q[h++]=e,q[h++]=c,q[h++]=a,q[h++]=f,q[h++]=l,q[h++]=p,q[h++]=g);r[m++]=k;r[m++]=d;r[m++]=n;r[m++]=0;r[m++]=w;r[m++]=0;r[m++]=t;r[m++]=0;this.Sc=h;this.We=m};d.prototype.zo=function(b){var e=b.length/2-2,c=e-1,a=b[0],f=b[1],l,p,g,k,d,n,w;for(l=
0;l<e;l+=2)p=2*l,g=b[p+2],k=b[p+3],d=b[p+4],n=b[p+5],l===c?this.Gf(a,f,g,k,d,n,d,n):(w=b[p+6],p=b[p+7],this.Gf(a,f,g,k,d,n,w,p))};d.prototype.cc=function(b){if(this.vh!==b){if(!this.Na[b]){if(0===this.vh)return;b=0}var e=this.Yb();e.type=9;this.vh=e.Hb=b;this.kb=!1}};d.prototype.Th=function(b){b=this.Na[b];return!(!b.Af&&!b.zf)};d.prototype.Vm=function(b){b=this.Na[b];return!!(b.Af||b.zf||b.hl)};d.prototype.Um=function(b){return this.Na[b].Lc};d.prototype.aw=function(b){b=this.Na[b];return 0!==b.Zi||
0!==b.$i};d.prototype.Su=function(b){return this.Na[b].Zi};d.prototype.Tu=function(b){return this.Na[b].$i};d.prototype.Uu=function(b,e){return this.Na[b].R[e][2]};d.prototype.bk=function(b){return this.Na[b].Pk};d.prototype.xg=function(b,e,c,a,f,l,p,g,k,d,n,w,t,h,m){var q=this.Na[this.vh],r,A;if(q.nv||m.length){r=this.Yb();r.type=10;r.U?gc(this.wc,r.U):r.U=fc();A=r.U;A[0]=e;A[1]=c;A[2]=a;A[3]=f;A[4]=l;A[5]=p;A[6]=g;A[7]=k;A[8]=d;A[9]=n;A[10]=w;A[11]=t;A[12]=h;q.Eh?r.Qc=b:r.Qc=null;if(m.length)for(c=
r.$q,c.length=m.length,b=0,e=m.length;b<e;b++)c[b]=m[b];this.kb=!1}};d.prototype.clear=function(b,e,c,a){var f=this.Yb();f.type=7;f.Hb=0;f.U||(f.U=fc());f.U[0]=b;f.U[1]=e;f.U[2]=c;f.U[3]=a;this.kb=!1};d.prototype.clearRect=function(b,e,c,a){if(!(0>c||0>a)){var f=this.Yb();f.type=7;f.Hb=1;f.U||(f.U=fc());f.U[0]=b;f.U[1]=e;f.U[2]=c;f.U[3]=a;this.kb=!1}};d.prototype.Tq=function(b){if(this.ua&&(b=!!b,this.kh!==b)){var e=this.Yb();e.type=14;e.Hb=b?1:0;this.kb=!1;this.kh=b;this.ek=null;this.kh?this.cc(2):
this.cc(0)}};d.prototype.Sq=function(b){if(this.ua){var e=this.Yb();e.type=13;e.Hb=b?1:0;this.kb=!1}};d.prototype.Oo=function(){gc(this.cm,r);this.Nc();this.Ac();var b=this.width/2,e=this.height/2;this.Gf(-b,e,b,e,b,-e,-b,-e);gc(r,this.wc);this.Ac()};d.prototype.Rq=function(b,e,c){this.cc(3);var a=this.Yb();a.type=12;a.U||(a.U=fc());a.U[0]=b;a.U[1]=e;a.U[2]=c;a.U[3]=1;this.kb=!1};d.prototype.zw=function(){this.cc(0)};d.prototype.iw=function(){this.cc(2)};d.prototype.$v=function(){this.Qd();this.q.flush()};
var t=[],g={};d.prototype.mt=function(){W(t);g={}};d.prototype.Gj=function(b,e,c,a){e=!!e;c=!!c;var f=b.src+","+e+","+c+(e?",undefined":""),l=null;if("undefined"!==typeof b.src&&g.hasOwnProperty(f))return l=g[f],l.Ei++,l;this.Qd();var p=this.q,d=ia(b.width)&&ia(b.height),l=p.createTexture();p.bindTexture(p.TEXTURE_2D,l);p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var k=p.RGBA,h=p.RGBA,n=p.UNSIGNED_BYTE;if(a&&!this.Wd)switch(a){case 1:h=k=p.RGB;break;case 2:n=p.UNSIGNED_SHORT_4_4_4_4;break;
case 3:n=p.UNSIGNED_SHORT_5_5_5_1;break;case 4:h=k=p.RGB,n=p.UNSIGNED_SHORT_5_6_5}if(!d&&e){a=document.createElement("canvas");a.width=ja(b.width);a.height=ja(b.height);var w=a.getContext("2d");w.webkitImageSmoothingEnabled=c;w.mozImageSmoothingEnabled=c;w.msImageSmoothingEnabled=c;w.imageSmoothingEnabled=c;w.drawImage(b,0,0,b.width,b.height,0,0,a.width,a.height);p.texImage2D(p.TEXTURE_2D,0,k,h,n,a)}else p.texImage2D(p.TEXTURE_2D,0,k,h,n,b);e?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE));c?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),d&&this.Fo?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR_MIPMAP_LINEAR),p.generateMipmap(p.TEXTURE_2D)):p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,
p.TEXTURE_MIN_FILTER,p.NEAREST));p.bindTexture(p.TEXTURE_2D,null);this.Fe=null;l.df=b.width;l.cf=b.height;l.Ei=1;l.uo=f;t.push(l);return g[f]=l};d.prototype.Tb=function(b,e,c,a,f){this.Qd();var l=this.q;this.Wd&&(a=!1);var p=l.createTexture();l.bindTexture(l.TEXTURE_2D,p);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,b,e,0,l.RGBA,a?l.UNSIGNED_SHORT_4_4_4_4:l.UNSIGNED_BYTE,null);f?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,c?l.LINEAR:l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,c?l.LINEAR:l.NEAREST);l.bindTexture(l.TEXTURE_2D,null);this.Fe=null;p.df=b;p.cf=e;t.push(p);return p};d.prototype.Kn=function(b,e,c){this.Qd();var a=this.q;this.Wd&&(c=!1);a.bindTexture(a.TEXTURE_2D,e);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{a.texImage2D(a.TEXTURE_2D,
0,a.RGBA,a.RGBA,c?a.UNSIGNED_SHORT_4_4_4_4:a.UNSIGNED_BYTE,b)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}a.bindTexture(a.TEXTURE_2D,null);this.Fe=null};d.prototype.deleteTexture=function(b){b&&("undefined"!==typeof b.Ei&&1<b.Ei?b.Ei--:(this.Qd(),b===this.Fe&&(this.q.bindTexture(this.q.TEXTURE_2D,null),this.Fe=null),b===this.wf&&(this.q.activeTexture(this.q.TEXTURE1),this.q.bindTexture(this.q.TEXTURE_2D,null),this.q.activeTexture(this.q.TEXTURE0),this.wf=null),
Da(t,b),"undefined"!==typeof b.uo&&delete g[b.uo],this.q.deleteTexture(b)))};d.prototype.Oc=function(b){if(b!==this.ek){var e=this.Yb();e.type=6;this.ek=e.Qc=b;this.kb=!1}};lb=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.ic=(this.jh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Eb=!!a.dc;this.lp="undefined"!==typeof window.AppMobi||
this.Eb;this.Gc=!!window.c2cocoonjs;this.bd=!!window.c2ejecta;this.Gc&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.bd&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.ja=this.Eb||this.Gc||this.bd;this.mh=
/edge\//i.test(navigator.userAgent);this.Wd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.mh;this.np=/tizen/i.test(navigator.userAgent);this.rj=/android/i.test(navigator.userAgent)&&!this.np&&!this.Wd&&!this.mh;this.sp=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Wd&&!this.mh;this.Cv=/ipad/i.test(navigator.userAgent);this.gg=this.sp||this.Cv||this.bd;this.ih=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Wd&&!this.mh;this.Sl=/amazonwebappplatform/i.test(navigator.userAgent);this.wv=/firefox/i.test(navigator.userAgent);this.zv=/safari/i.test(navigator.userAgent)&&!this.ih&&!this.Wd&&!this.mh;this.Av=/windows/i.test(navigator.userAgent);this.Ce="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.pp=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.qp=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.ag=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Yl=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.op=!!window.cr_windows10;this.Xl=this.pp||this.qp||this.Yl||this.op;this.vv=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.sj=this.rj&&!this.ih&&!this.jh&&!this.wv&&!this.Sl&&!this.ja;this.devicePixelRatio=
1;this.Yd=this.ic||this.jh||this.lp||this.Gc||this.rj||this.gg||this.ag||this.Yl||this.vv||this.np||this.bd;this.Yd||(this.Yd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.qh=!!(this.gg&&this.ic&&window.indexedDB);this.ep=null;this.pv="";this.qh&&(this.ep=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Ce||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.Ce=!0);this.canvas=a;this.Ii=document.getElementById("c2canvasdiv");this.n=this.q=null;this.Fl="(unavailable)";this.ua=!1;this.kf=0;this.ga=null;this.sl="";this.ej=!1;this.nq=this.oq=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Eb&&(window.c2runtime=this);this.Ce&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=
function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.sj&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.F=this.width;this.D=this.height;this.Mi=this.width;this.Qg=this.height;this.xh=window.innerWidth;this.wh=window.innerHeight;this.Du=!1;this.da=!0;this.ph=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.p=[];this.Ja=
[];this.jm={};this.cd=[];this.ol={};this.Rd=[];this.Hg=[];this.zk=[];this.Zs=[];this.$s=[];this.pn=this.hr=null;this.gf={};this.Ul=this.Be=!1;this.Xd=0;this.Tl=this.Wl=!1;this.Yc=[];this.lh=!1;this.Zd=this.Fb=this.Ej=this.kn="";this.fi=this.er=!1;this.dj=[];this.ye=this.jf=0;this.cq=30;this.fl=this.Ih=0;this.Nf=1;this.mb=new bb;this.le=new bb;this.Qj=this.hj=this.Yi=this.jd=this.yf=this.rl=this.zj=0;this.cl=null;this.Ui=[];this.nl=[];this.Xi=-1;this.tm=[[]];this.Cn=this.Jj=0;this.Xm(null);this.Wg=
this.iq=this.Mh=0;this.gi=[];this.zn=this.Zm=-1;this.wj=!0;this.lg=0;this.nh=!1;this.Ew=0;this.Tf=null;this.Ha=this.oj=!1;this.mq=new ca;this.Bm=new ca;this.Cm=new ca;this.an=[];this.hd=new db([]);this.vn=new db([]);this.Sf=[];this.nj={};this.ve={};this.pe={};this.Gg={};this.ro={};this.Gp=this.Dj=this.Ua=this.$a=this.Fp=this.Cj=this.xa=null;this.Eg=this.Zl=!1;this.tl=[null,null];this.of=0;this.Mo="";this.be={};this.ci=this.Je=null;this.fr="";this.Pj=[];this.hw()}}function h(a,b){return 128>=b?a[3]:
256>=b?a[2]:512>=b?a[1]:a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function q(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function r(a,b,f,c){try{var p=indexedDB.open("_C2SaveStates");p.onupgradeneeded=q;p.onerror=c;p.onsuccess=function(p){p=p.target.result;p.onerror=c;p.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=f}}catch(n){c(n)}}function t(a,b,f){try{var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=q;c.onerror=
f;c.onsuccess=function(c){c=c.target.result;c.onerror=f;var p=c.transaction(["saves"]).objectStore("saves").get(a);p.onsuccess=function(){p.result?b(p.result.data):b(null)}}}catch(p){f(p)}}function g(){z("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var b,f={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ca||a[b]&&"undefined"!==typeof a[b].Xx||
"spriteCreatedDestroyCallback"!==b&&(f[b]=a[b]);return f}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.hw=function(){var a=this;if(this.qh)this.ep.startServer({port:0,localhost_only:!0},function(b){a.pv=b;a.Au(function(b){a.Bh(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)});else{var b;this.ag?b=new ActiveXObject("Microsoft.XMLHTTP"):
b=new XMLHttpRequest;var f="data.js";if(this.pp||this.ag||this.Yl||this.op)f="data.json";b.open("GET",f,!0);var c=!1;if(!this.ja&&"response"in b&&"responseType"in b)try{b.responseType="json",c="json"===b.responseType}catch(p){c=!1}if(!c&&"responseType"in b)try{b.responseType="text"}catch(n){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(e){}this.ag?b.onreadystatechange=function(){4===b.readyState&&a.Bh(JSON.parse(b.responseText))}:(b.onload=function(){if(c)a.Bh(b.response);
else if(a.bd){var f=b.responseText,f=f.substr(f.indexOf("{"));a.Bh(JSON.parse(f))}else a.Bh(JSON.parse(b.responseText))},b.onerror=function(a){ea("Error requesting "+f+":");ea(a)});b.send()}};d.prototype.sv=function(){var a=this,b,f,c,p,n,e,l,g,k;this.vf=(!this.ja||this.bd||this.ic)&&this.Nw&&!this.sj;0===this.Nb&&this.gg&&(this.vf=!1);this.devicePixelRatio=this.vf?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.wb();f=!(!this.Du&&
(!this.Mk||this.Ce||this.Xl||this.ag||this.jh||this.ic||this.Sl));0<this.Nb&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Vt&&(this.Gc||this.bd||!this.ja)&&(b={alpha:f,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.q=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(d){}if(this.q){if(b=this.q.getExtension("WEBGL_debug_renderer_info"))this.Fl=this.q.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.q.getParameter(b.UNMASKED_VENDOR_WEBGL)+
"]";this.ua&&(this.Fl+=" [front-to-back enabled]");this.ja||(this.tb=document.createElement("canvas"),jQuery(this.tb).appendTo(this.canvas.parentNode),this.tb.oncontextmenu=function(){return!1},this.tb.onselectstart=function(){return!1},this.tb.width=Math.round(this.Mi*this.devicePixelRatio),this.tb.height=Math.round(this.Qg*this.devicePixelRatio),jQuery(this.tb).css({width:this.Mi+"px",height:this.Qg+"px"}),this.Gq(),this.Qm=this.tb.getContext("2d"));this.n=new lb(this.q,this.Yd,this.ua);this.n.Hf(this.canvas.width,
this.canvas.height);this.n.Fo=0!==this.Ot;this.ga=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.Lv();z("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.n.gp();a.n.Hf(a.n.width,a.n.height,!0);a.$a=null;a.Ua=null;a.tl[0]=null;a.tl[1]=null;a.Mv();a.da=!0;z("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(f=this.p.length;b<f;b++)for(n=this.p[b],c=0,
p=n.M.length;c<p;c++)l=n.M[c],l.Wa=this.n.Cl(l.id),l.Lc=this.n.Um(l.Wa),this.Eg=this.Eg||this.n.Th(l.Wa);b=0;for(f=this.cd.length;b<f;b++){g=this.cd[b];c=0;for(p=g.M.length;c<p;c++)l=g.M[c],l.Wa=this.n.Cl(l.id),l.Lc=this.n.Um(l.Wa);g.ld();c=0;for(p=g.O.length;c<p;c++){k=g.O[c];n=0;for(e=k.M.length;n<e;n++)l=k.M[n],l.Wa=this.n.Cl(l.id),l.Lc=this.n.Um(l.Wa),this.Eg=this.Eg||this.n.Th(l.Wa);k.ld()}}}else{if(0<this.Nb&&this.Eb){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=
function(){return!1};this.ga=AppMobi.canvas.getContext("2d");try{this.ga.samplingMode=this.T?"smooth":"sharp",this.ga.globalScale=1,this.ga.HTML5CompatibilityMode=!0,this.ga.imageSmoothingEnabled=this.T}catch(w){}0!==this.width&&0!==this.height&&(this.ga.width=this.width,this.ga.height=this.height)}this.ga||(this.Gc?(b={antialias:!!this.T,alpha:f},this.ga=this.canvas.getContext("2d",b)):(b={alpha:f},this.ga=this.canvas.getContext("2d",b)),this.ga.webkitImageSmoothingEnabled=this.T,this.ga.mozImageSmoothingEnabled=
this.T,this.ga.msImageSmoothingEnabled=this.T,this.ga.imageSmoothingEnabled=this.T);this.Qm=this.tb=null}this.rr=function(b){a.Ia(!1,b)};window==window.top||this.ja||this.Xl||this.ag||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Gc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(z("Reloading for continuous preview"),
this.Ej="__c2_continuouspreview",this.fi=!0),this.Sv&&!this.Yd&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Ef()});this.ja||(b=function(a){if(kb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?
document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Nb&&this.vf&&1<this.devicePixelRatio&&this.setSize(this.cb,this.bb,!0);this.yr();this.kv();this.go();this.u={}};d.prototype.setSize=function(a,b,f){var c=0,p=0,n=0,l=0,l=0;if(this.xh!==a||this.wh!==b||f){this.xh=a;this.wh=b;var e=this.Nb,g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.nh)&&!this.ic;
if(g||0!==this.Nb||f)g&&0<this.of&&(e=this.of),f=this.devicePixelRatio,4<=e?(n=this.cb/this.bb,a/b>n?(n*=b,5===e?(l=n*f/this.cb,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),n=this.cb*l/f,l=this.bb*l/f,c=(a-n)/2,p=(b-l)/2,a=n,b=l):(c=(a-n)/2,a=n)):(l=a/n,5===e?(l=l*f/this.bb,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),n=this.cb*l/f,l=this.bb*l/f,c=(a-n)/2,p=(b-l)/2,a=n):p=(b-l)/2,b=l),g&&!this.Ce&&(p=c=0)):this.Ce&&this.nh&&0===this.Po&&(c=Math.floor((a-this.cb)/2),p=Math.floor((b-this.bb)/2),a=
this.cb,b=this.bb),2>e&&(this.Lg=f),this.Mi=Math.round(a),this.Qg=Math.round(b),this.width=Math.round(a*f),this.height=Math.round(b*f),this.da=!0,this.Kr?(this.F=this.width,this.D=this.height,this.sc=!0):this.width<this.cb&&this.height<this.bb||1===e?(this.F=this.width,this.D=this.height,this.sc=!0):(this.F=this.cb,this.D=this.bb,this.sc=!1,2===e?(n=this.cb/this.bb,e=this.xh/this.wh,e<n?this.F=this.D*e:e>n&&(this.D=this.F/e)):3===e&&(n=this.cb/this.bb,e=this.xh/this.wh,e>n?this.F=this.D*e:e<n&&(this.D=
this.F/e))),this.Ii&&!this.ja&&(jQuery(this.Ii).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(c)+"px","margin-top":Math.floor(p)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*f),this.canvas.height=Math.round(b*f),this.bd?(this.canvas.style.left=Math.floor(c)+"px",this.canvas.style.top=Math.floor(p)+"px",this.canvas.style.width=Math.round(a)+
"px",this.canvas.style.height=Math.round(b)+"px"):this.vf&&!this.ja&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.tb&&(this.tb.width=Math.round(a*f),this.tb.height=Math.round(b*f),this.tb.style.width=this.Mi+"px",this.tb.style.height=this.Qg+"px"),this.n&&this.n.Hf(Math.round(a*f),Math.round(b*f)),this.Eb&&this.ga&&(this.ga.width=Math.round(a),this.ga.height=Math.round(b)),this.ga&&(this.ga.webkitImageSmoothingEnabled=this.T,this.ga.mozImageSmoothingEnabled=
this.T,this.ga.msImageSmoothingEnabled=this.T,this.ga.imageSmoothingEnabled=this.T),this.yr(),this.sp&&!this.ic&&window.scrollTo(0,0)}};d.prototype.yr=function(){if(this.ct&&0!==this.Om){var a="portrait";2===this.Om&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&
console.warn&&console.warn("Failed to lock orientation: ",b)}}};d.prototype.Lv=function(){this.n.mt();this.Zl=!0;var a,b,f;a=0;for(b=this.p.length;a<b;a++)f=this.p[a],f.Ph&&f.Ph()};d.prototype.Mv=function(){this.Zl=!1;var a,b,f;a=0;for(b=this.p.length;a<b;a++)f=this.p[a],f.Sj&&f.Sj()};d.prototype.Gq=function(){if(!this.ja){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.nh)&&!this.ic?jQuery(this.canvas).offset():jQuery(this.canvas).position();
a.position="absolute";jQuery(this.tb).css(a)}};var c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var b;if(a&&!this.ph)for(z("[Construct 2] Suspending"),this.ph=!0,-1!==this.Zm&&c&&c(this.Zm),-1!==this.zn&&clearTimeout(this.zn),a=0,b=this.gi.length;a<b;a++)this.gi[a](!0);else if(!a&&this.ph){z("[Construct 2] Resuming");this.ph=!1;this.zj=Va();this.yf=
Va();a=this.Ih=this.hj=0;for(b=this.gi.length;a<b;a++)this.gi[a](!1);this.Ia(!1)}};d.prototype.no=function(a){this.gi.push(a)};d.prototype.ne=function(a){return this.Pj[a]};d.prototype.Bh=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.No=a[1];this.Nb=a[12];this.Po=a[12];this.cb=a[10];this.bb=a[11];this.Aq=this.cb/2;this.Bq=this.bb/2;this.ja&&!this.bd&&(4<=a[12]||0===a[12])&&(z("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Po=this.Nb=3);this.Jn=a[18];this.Ke=a[19];if(0===this.Ke){var b=new Image;b.crossOrigin="anonymous";this.Uq(b,"loading-logo.png");this.Je={Kj:b}}else if(4===this.Ke){b=new Image;b.src="";var f=new Image;f.src="";var c=new Image;c.src="";var p=new Image;p.src="";var n=new Image;n.src="";var l=new Image;l.src="";var e=new Image;e.src="";var g=new Image;g.src="";var k=new Image;k.src="";var d=new Image;d.src="";var w=new Image;w.src="";var t=new Image;t.src="";this.Je={Kj:[b,f,c,p],Xv:[n,l,e,g],
Qw:[k,d,w,t]}}this.Mh=a[21];this.Pj=kc();this.Gd=new Z(this);b=0;for(f=a[2].length;b<f;b++)e=a[2][b],c=this.ne(e[0]),mb(e,c.prototype),g=new c(this),g.pk=e[1],g.Ee=e[2],g.fq=e[9],g.C&&g.C(),this.plugins.push(g);this.Pj=kc();b=0;for(f=a[3].length;b<f;b++){e=a[3][b];n=this.ne(e[1]);g=null;c=0;for(p=this.plugins.length;c<p;c++)if(this.plugins[c]instanceof n){g=this.plugins[c];break}k=new g.S(g);k.name=e[0];k.G=e[2];k.Ql=e[3].slice(0);k.Pw=e[3].length;k.dt=e[4];k.Fu=e[5];k.W=e[11];k.G?(k.Nj=[],k.Sd=this.Wg++,
k.Ga=null):(k.Nj=null,k.Sd=-1,k.Ga=[]);k.bj=null;k.Wf=null;k.Go=null;k.Hc=!1;k.fc=null;e[6]?(k.wn=e[6][0],k.xn=e[6][1],k.yn=e[6][2]):(k.wn=null,k.xn=0,k.yn=0);e[7]?k.Sb=e[7]:k.Sb=null;k.index=b;k.d=[];k.Ri=[];k.he=[new nb(k)];k.sd=0;k.ud=null;k.wt=0;k.zg=!0;k.Ak=ob;k.Vo=pb;k.Pu=qb;k.Ca=rb;k.Vh=sb;k.Wm=tb;k.ug=ub;k.jj=vb;k.ul=wb;k.xl=xb;k.qe=yb;k.zl=Ab;k.Ji=new eb(this.cb,this.bb);k.xi=!0;k.yi=!1;k.u={};k.toString=Bb;k.Ja=[];c=0;for(p=e[8].length;c<p;c++){d=e[8][c];w=this.ne(d[1]);t=null;n=0;for(l=
this.Ja.length;n<l;n++)if(this.Ja[n]instanceof w){t=this.Ja[n];break}t||(t=new w(this),t.zm=[],t.Oj=new ca,t.C&&t.C(),this.Ja.push(t),lc&&t instanceof lc&&(this.hr=t),mc&&t instanceof mc&&(this.pn=t));-1===t.zm.indexOf(k)&&t.zm.push(k);n=new t.S(t,k);n.name=d[0];n.W=d[2];n.C();k.Ja.push(n)}k.global=e[9];k.Vl=e[10];k.M=[];c=0;for(p=e[12].length;c<p;c++)k.M.push({id:e[12][c][0],name:e[12][c][1],Wa:-1,Lc:!1,pc:!0,index:c});k.qy=e[13];this.Jn&&!k.G&&!k.Vl&&g.Ee||k.C();k.name&&(this.types[k.name]=k);this.p.push(k);
g.pk&&(c=new g.L(k),c.uid=this.Mh++,c.Jq=this.iq++,c.sf=0,c.ah=Cb,c.toString=Db,c.A=e[14],c.C(),k.d.push(c),this.be[c.uid.toString()]=c)}b=0;for(f=a[4].length;b<f;b++)for(n=a[4][b],l=this.p[n[0]],c=1,p=n.length;c<p;c++)e=this.p[n[c]],e.Ga.push(l),l.Nj.push(e);b=0;for(f=a[28].length;b<f;b++){n=a[28][b];l=[];c=0;for(p=n.length;c<p;c++)l.push(this.p[n[c]]);c=0;for(p=l.length;c<p;c++)l[c].Hc=!0,l[c].fc=l}if(0<this.Wg)for(b=0,f=this.p.length;b<f;b++)if(e=this.p[b],!e.G&&e.Ga.length){e.bj=Array(this.Wg);
e.Wf=Array(this.Wg);e.Go=Array(this.Wg);k=[];c=t=w=d=0;for(p=e.Ga.length;c<p;c++)for(g=e.Ga[c],e.bj[g.Sd]=d,d+=g.Pw,e.Wf[g.Sd]=w,w+=g.dt,e.Go[g.Sd]=t,t+=g.Fu,n=0,l=g.M.length;n<l;n++)k.push(ta({},g.M[n]));e.M=k.concat(e.M);c=0;for(p=e.M.length;c<p;c++)e.M[c].index=c}b=0;for(f=a[5].length;b<f;b++)e=a[5][b],c=new Eb(this,e),this.jm[c.name]=c,this.cd.push(c);b=0;for(f=a[6].length;b<f;b++)e=a[6][b],c=new Fb(this,e),this.ol[c.name]=c,this.Rd.push(c);b=0;for(f=this.Rd.length;b<f;b++)this.Rd[b].Ra();b=0;
for(f=this.Rd.length;b<f;b++)this.Rd[b].Gn();b=0;for(f=this.zk.length;b<f;b++)this.zk[b].Ra();W(this.zk);this.bt=a[7];this.Mo=a[8];this.ed=a[9];this.Lg=1;this.Vt=a[13];this.T=a[14];this.Mk=a[15];this.Nw=a[17];this.Om=a[20];this.ct=0<this.Om;this.Sv=a[22];this.sc=this.Kr=a[23];this.Ot=a[24];this.Yv=a[25];this.ua=a[27]&&!this.Wd;this.qk=Date.now();W(this.Pj);this.sv()};var a=!1;d.prototype.Mn=function(b,f){b.cocoonLazyLoad=!0;b.onerror=function(f){a=b.to=!0;console&&console.error&&console.error("Error loading image '"+
b.src+"': ",f)};this.bd?b.src=f:b.src||("undefined"!==typeof XAPKReader?XAPKReader.get(f,function(a){b.src=a},function(c){a=b.to=!0;console&&console.error&&console.error("Error extracting image '"+f+"' from expansion file: ",c)}):(b.crossOrigin="anonymous",this.Uq(b,f)));this.Hg.push(b)};d.prototype.Cu=function(a){var b,f;b=0;for(f=this.Hg.length;b<f;b++)if(this.Hg[b].nt===a)return this.Hg[b];return null};var f=0,l=!1;d.prototype.kv=function(){this.Tf&&(f=this.Tf.xw(this.bt))};d.prototype.po=function(){var a=
f,b=0,c=0,p=!0,n,e,c=0;for(n=this.Hg.length;c<n;c++){e=this.Hg[c];var k=e.gl;if(!k||0>=k)k=5E4;a+=k;e.src&&(e.complete||e.loaded)&&!e.to?b+=k:p=!1}p&&this.Yv&&this.Tf&&(l||(this.Tf.Fw(),l=!0),c=this.Tf.Ru(),b+=c,c<f&&(p=!1));this.fd=0==a?1:b/a;return p};var p=!1;d.prototype.go=function(){if(this.ga||this.n){var b=this.ga||this.Qm;this.tb&&this.Gq();this.fd=0;this.Ep=-1;var f=this;if(this.po()&&(4!==this.Ke||p))this.lv();else{var c=Date.now()-this.qk;if(b){var n=this.width,l=this.height,k=this.devicePixelRatio;
if(3>this.Ke&&(this.Gc||500<=c&&this.Ep!=this.fd)){b.clearRect(0,0,n,l);var c=n/2,l=l/2,n=0===this.Ke&&this.Je.Kj.complete,g=40*k,d=0,w=80*k,t;if(n){var h=this.Je.Kj,w=h.width*k;t=h.height*k;g=w/2;d=t/2;b.drawImage(h,U(c-g),U(l-d),w,t)}1>=this.Ke?(c=U(c-g)+.5,l=U(l+(d+(n?12*k:0)))+.5,b.fillStyle=a?"red":"DodgerBlue",b.fillRect(c,l,Math.floor(w*this.fd),6*k),b.strokeStyle="black",b.strokeRect(c,l,w,6*k),b.strokeStyle="white",b.strokeRect(c-1*k,l-1*k,w+2*k,8*k)):2===this.Ke&&(b.font=this.bd?"12pt ArialMT":
"12pt Arial",b.fillStyle=a?"#f00":"#999",b.oy="middle",k=Math.round(100*this.fd)+"%",n=b.measureText?b.measureText(k):null,b.fillText(k,c-(n?n.width:0)/2,l));this.Ep=this.fd}else if(4===this.Ke){this.Tt(b);e?e(function(){f.go()}):setTimeout(function(){f.go()},16);return}}setTimeout(function(){f.go()},this.Gc?10:100)}}};var B=-1,k="undefined"===typeof cr_is_preview?200:0,J=!0,n=!1,w=0,C=0,D="undefined"===typeof cr_is_preview?3E3:0,L=null,P=null,N=0;d.prototype.Tt=function(b){if(!p){for(var f=Math.ceil(this.width),
c=Math.ceil(this.height),e=this.Je.Kj,l=this.Je.Xv,g=this.Je.Qw,d=0;4>d;++d)if(!e[d].complete||!l[d].complete||!g[d].complete)return;0===N&&(B=Date.now());var d=Date.now(),t=!1,m=b,q,r;J||n?(b.clearRect(0,0,f,c),L&&L.width===f&&L.height===c||(L=document.createElement("canvas"),L.width=f,L.height=c,P=L.getContext("2d")),m=P,t=!0,J&&1===N&&(B=Date.now())):b.globalAlpha=1;m.fillStyle="#333333";m.fillRect(0,0,f,c);256<this.Qg?(q=Ea(.22*c,105,.6*f),r=.25*q,m.drawImage(h(l,q),.5*f-q/2,.2*c-r/2,q,r),r=q=
Math.min(.395*c,.95*f),m.drawImage(h(e,q),.5*f-q/2,.485*c-r/2,q,r),q=Ea(.22*c,105,.6*f),r=.25*q,m.drawImage(h(g,q),.5*f-q/2,.868*c-r/2,q,r),m.fillStyle="#3C3C3C",q=f,r=Math.max(.005*c,2),m.fillRect(0,.8*c-r/2,q,r),m.fillStyle=a?"red":"#E0FF65",q=f*this.fd,m.fillRect(.5*f-q/2,.8*c-r/2,q,r)):(r=q=.55*c,m.drawImage(h(e,q),.5*f-q/2,.45*c-r/2,q,r),m.fillStyle="#3C3C3C",q=f,r=Math.max(.005*c,2),m.fillRect(0,.85*c-r/2,q,r),m.fillStyle=a?"red":"#E0FF65",q=f*this.fd,m.fillRect(.5*f-q/2,.85*c-r/2,q,r));t&&
(J?b.globalAlpha=0===N?0:Math.min((d-B)/300,1):n&&(b.globalAlpha=Math.max(1-(d-C)/300,0)),b.drawImage(L,0,0,f,c));J&&300<=d-B&&2<=N&&(J=!1,w=d);!J&&d-w>=D&&!n&&1<=this.fd&&(n=!0,C=d);if(n&&d-C>=300+k||"undefined"!==typeof cr_is_preview&&1<=this.fd&&500>Date.now()-B)p=!0,n=J=!1,this.Je=P=L=null;++N}};d.prototype.lv=function(){this.tb&&(this.canvas.parentNode.removeChild(this.tb),this.tb=this.Qm=null);this.qk=Date.now();this.yf=Va();var a,b,f;if(this.Jn)for(a=0,b=this.p.length;a<b;a++)f=this.p[a],f.G||
f.Vl||!f.na.Ee||f.C();else this.wj=!1;a=0;for(b=this.cd.length;a<b;a++)this.cd[a].pt();2<=this.Nb&&(a=this.cb/this.bb,b=this.width/this.height,this.Lg=2!==this.Nb&&b>a||2===this.Nb&&b<a?this.height/this.bb:this.width/this.cb);this.No?this.jm[this.No].tn():this.cd[0].tn();this.Jn||(this.lg=1,this.trigger(Z.prototype.e.Wn,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.p.length;a<b;a++)f=this.p[a],f.Kv&&f.Kv();document.hidden||document.webkitHidden||
document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ia(!1);this.Eb&&AppMobi.webview.execute("onGameReady();")};d.prototype.Ia=function(a,b,f){if(this.xa){var c=Va();if(f||!this.ph||a){a||(e?this.Zm=e(this.rr):this.zn=setTimeout(this.rr,this.Yd?1:16));b=b||c;var n=this.Nb;((f=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.ic)||this.nh)&&0<this.of&&(n=this.of);if(0<n){var n=window.innerWidth,p=window.innerHeight;this.xh===
n&&this.wh===p||this.setSize(n,p)}this.ja||(f?(this.ej||(this.sl=jQuery(this.canvas).css("margin")||"0",this.ej=!0),this.ih||this.Ce||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.ej?(this.ih||this.Ce||jQuery(this.canvas).css("margin",this.sl),this.sl="",this.ej=!1,0===this.Nb&&this.setSize(Math.round(this.oq/this.devicePixelRatio),Math.round(this.nq/
this.devicePixelRatio),!0)):(this.oq=this.width,this.nq=this.height));this.wj&&(f=this.po(),this.lg=this.fd,f&&(this.wj=!1,this.fd=1,this.trigger(Z.prototype.e.Wn,null)));this.Fv(b);!this.da&&!this.Gc||this.Zl||this.fi||a||(this.da=!1,this.n?this.Mb():this.Fc(),this.ci&&(this.canvas&&this.canvas.toDataURL&&(this.fr=this.canvas.toDataURL(this.ci[0],this.ci[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.fr),this.trigger(Z.prototype.e.cs,null)),this.ci=null));this.by||(this.jd++,this.Yi++,this.hj++);
this.Ih+=Va()-c}}};d.prototype.Fv=function(a){var b,f,c,n,p,e,l,k;1E3<=a-this.yf&&(this.yf+=1E3,1E3<=a-this.yf&&(this.yf=a),this.rl=this.hj,this.hj=0,this.fl=this.Ih,this.Ih=0);0!==this.zj&&(b=a-this.zj,0>b&&(b=0),this.ye=b/1E3,.5<this.ye?this.ye=0:this.ye>1/this.cq&&(this.ye=1/this.cq));this.zj=a;this.jf=this.ye*this.Nf;this.mb.add(this.jf);this.le.add(this.ye);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.nh)&&!this.ic;2<=this.Nb||
a&&0<this.of?(b=this.cb/this.bb,f=this.width/this.height,c=this.Nb,a&&0<this.of&&(c=this.of),this.Lg=2!==c&&f>b||2===c&&f<b?this.height/this.bb:this.width/this.cb,this.xa&&(this.xa.ln(this.xa.scrollX),this.xa.mn(this.xa.scrollY))):this.Lg=this.vf?this.devicePixelRatio:1;this.wb();this.Xd++;this.Gd.lw();this.Xd--;this.wb();this.Xd++;f=this.mq.Id();a=0;for(b=f.length;a<b;a++)f[a].ky();a=0;for(b=this.p.length;a<b;a++)if(e=this.p[a],!e.G&&(e.Ja.length||e.Ga.length))for(f=0,c=e.d.length;f<c;f++)for(l=
e.d[f],n=0,p=l.H.length;n<p;n++)l.H[n].Ia();a=0;for(b=this.p.length;a<b;a++)if(e=this.p[a],!e.G&&(e.Ja.length||e.Ga.length))for(f=0,c=e.d.length;f<c;f++)for(l=e.d[f],n=0,p=l.H.length;n<p;n++)k=l.H[n],k.Wv&&k.Wv();f=this.Bm.Id();a=0;for(b=f.length;a<b;a++)f[a].Ia();this.Xd--;this.mv();for(a=0;this.cl&&10>a++;)this.Eo(this.cl);a=0;for(b=this.Rd.length;a<b;a++)this.Rd[a].Jl=!1;this.xa.mf&&this.xa.mf.fb();W(this.an);this.Xd++;a=0;for(b=this.p.length;a<b;a++)if(e=this.p[a],!e.G&&(e.Ja.length||e.Ga.length))for(f=
0,c=e.d.length;f<c;f++)for(l=e.d[f],n=0,p=l.H.length;n<p;n++)k=l.H[n],k.Bg&&k.Bg();f=this.Cm.Id();a=0;for(b=f.length;a<b;a++)f[a].Bg();this.Xd--};d.prototype.Ef=function(){var a,b,f,c,n,p,e,l,k;a=0;for(b=this.p.length;a<b;a++)if(e=this.p[a],!e.G)for(f=0,c=e.d.length;f<c;f++)if(l=e.d[f],l.Ef&&l.Ef(),l.H)for(n=0,p=l.H.length;n<p;n++)k=l.H[n],k.Ef&&k.Ef()};d.prototype.Eo=function(a){var b=this.xa;this.xa.Gw();var f,c,n;if(this.n)for(f=0,c=this.p.length;f<c;f++)n=this.p[f],n.G||!n.Fn||n.global&&0!==n.d.length||
-1!==a.gh.indexOf(n)||n.Fn();b==a&&W(this.Gd.oc);W(this.an);this.Nq(!0);a.tn();this.Nq(!1);this.da=!0;this.wb()};d.prototype.Nq=function(a){var b,f,c,n,p,e,l,k,g;b=0;for(f=this.Ja.length;b<f;b++)c=this.Ja[b],a?c.Nh&&c.Nh():c.Oh&&c.Oh();b=0;for(f=this.p.length;b<f;b++)if(c=this.p[b],c.global||c.na.pk)for(n=0,p=c.d.length;n<p;n++)if(e=c.d[n],a?e.Nh&&e.Nh():e.Oh&&e.Oh(),e.H)for(l=0,k=e.H.length;l<k;l++)g=e.H[l],a?g.Nh&&g.Nh():g.Oh&&g.Oh()};d.prototype.ki=function(a){this.Bm.add(a)};d.prototype.qr=function(a){this.Cm.add(a)};
d.prototype.kj=function(a){return a&&-1!==a.Lh?this.ye*a.Lh:this.jf};d.prototype.Fc=function(){this.xa.Fc(this.ga);this.Eb&&this.ga.present()};d.prototype.Mb=function(){this.ua&&(this.kf=1,this.xa.hf(this.n));this.xa.Mb(this.n);this.n.$v()};d.prototype.lo=function(a){a&&this.Ui.push(a)};d.prototype.gw=function(a){Da(this.Ui,a)};d.prototype.Zg=function(a){a=a.toString();return this.be.hasOwnProperty(a)?this.be[a]:null};var A=[];d.prototype.Ye=function(a){var b,f;b=a.type.name;var c=null;if(this.gf.hasOwnProperty(b)){if(c=
this.gf[b],c.contains(a))return}else c=A.length?A.pop():new ca,this.gf[b]=c;c.add(a);this.Be=!0;if(a.Hc)for(b=0,f=a.siblings.length;b<f;b++)this.Ye(a.siblings[b]);this.Ul&&c.Fg.push(a);this.Tl||(this.Xd++,this.trigger(Object.getPrototypeOf(a.type.na).e.es,a),this.Xd--)};d.prototype.wb=function(){if(this.Be){var a,b,f,c,n,p;this.Ul=!0;f=0;for(n=this.Yc.length;f<n;++f)for(a=this.Yc[f],b=a.type,b.d.push(a),c=0,p=b.Ga.length;c<p;++c)b.Ga[c].d.push(a),b.Ga[c].zg=!0;W(this.Yc);this.Xr();Ua(this.gf);this.Be=
this.Ul=!1}};d.prototype.Xr=function(){for(var a in this.gf)this.gf.hasOwnProperty(a)&&this.Nr(this.gf[a])};d.prototype.Nr=function(a){var b=a.Id(),f=b[0].type,c,n,p,e,l,k;Za(f.d,a);f.zg=!0;0===f.d.length&&(f.yi=!1);c=0;for(n=f.Ga.length;c<n;++c)k=f.Ga[c],Za(k.d,a),k.zg=!0;c=0;for(n=this.Gd.oc.length;c<n;++c)if(l=this.Gd.oc[c],l.nc.hasOwnProperty(f.index)&&Za(l.nc[f.index].uf,a),!f.G)for(p=0,e=f.Ga.length;p<e;++p)k=f.Ga[p],l.nc.hasOwnProperty(k.index)&&Za(l.nc[k.index].uf,a);if(l=b[0].g){if(l.Bc)for(p=
l.d,c=0,n=p.length;c<n;++c)e=p[c],a.contains(e)&&(e.ya(),l.ub.update(e,e.Zb,null),e.Zb.set(0,0,-1,-1));Za(l.d,a);l.Zh(0)}for(c=0;c<b.length;++c)this.Mr(b[c],f);a.clear();A.push(a);this.da=!0};d.prototype.Mr=function(a,b){var f,c,n;f=0;for(c=this.Ui.length;f<c;++f)this.Ui[f](a);a.we&&b.Ji.update(a,a.we,null);(f=a.g)&&f.vg(a,!0);if(a.H)for(f=0,c=a.H.length;f<c;++f)n=a.H[f],n.Oe&&n.Oe(),n.behavior.Oj.remove(a);this.mq.remove(a);this.Bm.remove(a);this.Cm.remove(a);a.Oe&&a.Oe();this.be.hasOwnProperty(a.uid.toString())&&
delete this.be[a.uid.toString()];this.Qj--;100>b.Ri.length&&b.Ri.push(a)};var F=[];d.prototype.ff=function(a,b,f,c,n,p){var e,l,k,g;if(!a)return null;var d=this.p[a[1]],w=d.na.Ee;if(this.wj&&w&&!d.Vl||w&&!this.n&&11===a[0][11])return null;var t=b;w||(b=null);var h;d.Ri.length?(h=d.Ri.pop(),h.yc=!0,d.na.L.call(h,d)):(h=new d.na.L(d),h.yc=!1);!f||p||this.be.hasOwnProperty(a[2].toString())?h.uid=this.Mh++:h.uid=a[2];this.be[h.uid.toString()]=h;h.Jq=this.iq++;h.sf=d.d.length;e=0;for(l=this.Yc.length;e<
l;++e)this.Yc[e].type===d&&h.sf++;h.ah=Cb;h.toString=Db;k=a[3];if(h.yc)Ua(h.u);else{h.u={};if("undefined"!==typeof cr_is_preview)for(h.jp=[],h.jp.length=k.length,e=0,l=k.length;e<l;e++)h.jp[e]=k[e][1];h.Za=[];h.Za.length=k.length}e=0;for(l=k.length;e<l;e++)h.Za[e]=k[e][0];if(w){var m=a[0];h.x=fa(c)?m[0]:c;h.y=fa(n)?m[1]:n;h.z=m[2];h.width=m[3];h.height=m[4];h.depth=m[5];h.i=m[6];h.opacity=m[7];h.Ub=m[8];h.Vb=m[9];h.xb=m[10];e=m[11];!this.n&&d.M.length&&(h.xb=e);h.Mg=gb(h.xb);this.q&&hb(h,h.xb,this.q);
if(h.yc){e=0;for(l=m[12].length;e<l;e++)for(k=0,g=m[12][e].length;k<g;k++)h.Ka[e][k]=m[12][e][k];h.Ea.set(0,0,0,0);h.we.set(0,0,-1,-1);h.Zb.set(0,0,-1,-1);h.pb.If(h.Ea);W(h.Tk)}else{h.Ka=m[12].slice(0);e=0;for(l=h.Ka.length;e<l;e++)h.Ka[e]=m[12][e].slice(0);h.ba=[];h.oe=[];h.oe.length=d.M.length;h.Ea=new qa(0,0,0,0);h.we=new qa(0,0,-1,-1);h.Zb=new qa(0,0,-1,-1);h.pb=new sa;h.Tk=[];h.ea=Gb;h.Wx=Hb;h.Lb=Ib;h.ya=Jb;h.Mw=Kb;h.Hr=Lb;h.xd=Mb}h.Lf=!1;h.Jw=0;h.Iw=0;h.Hw=null;14===m.length&&(h.Lf=!0,h.Jw=
m[13][0],h.Iw=m[13][1],h.Hw=m[13][2]);e=0;for(l=d.M.length;e<l;e++)h.oe[e]=!0;h.fe=!0;h.ld=Nb;h.ld();h.Ir=!!h.ba.length;h.Sk=!0;h.Yk=!0;d.xi=!0;h.visible=!0;h.Lh=-1;h.g=b;h.md=b.d.length;h.kf=0;"undefined"===typeof h.N&&(h.N=null);this.da=h.Ld=!0}var B;W(F);e=0;for(l=d.Ga.length;e<l;e++)F.push.apply(F,d.Ga[e].Ja);F.push.apply(F,d.Ja);if(h.yc)for(e=0,l=F.length;e<l;e++){var q=F[e];B=h.H[e];B.yc=!0;q.behavior.L.call(B,q,h);m=a[4][e];k=0;for(g=m.length;k<g;k++)B.A[k]=m[k];B.C();q.behavior.Oj.add(h)}else for(h.H=
[],e=0,l=F.length;e<l;e++)q=F[e],B=new q.behavior.L(q,h),B.yc=!1,B.A=a[4][e].slice(0),B.C(),h.H.push(B),q.behavior.Oj.add(h);m=a[5];if(h.yc)for(e=0,l=m.length;e<l;e++)h.A[e]=m[e];else h.A=m.slice(0);this.Yc.push(h);this.Be=!0;b&&(b.Kg(h,!0),1!==b.Wb||1!==b.Xb)&&(d.yi=!0);this.Qj++;if(d.Hc){if(h.Hc=!0,h.yc?W(h.siblings):h.siblings=[],!f&&!p){e=0;for(l=d.fc.length;e<l;e++)if(d.fc[e]!==d){if(!d.fc[e].ud)return null;h.siblings.push(this.ff(d.fc[e].ud,t,!1,w?h.x:c,w?h.y:n,!0))}e=0;for(l=h.siblings.length;e<
l;e++)for(h.siblings[e].siblings.push(h),k=0;k<l;k++)e!==k&&h.siblings[e].siblings.push(h.siblings[k])}}else h.Hc=!1,h.siblings=null;h.C();e=0;for(l=h.H.length;e<l;e++)h.H[e].Vv&&h.H[e].Vv();return h};d.prototype.Yg=function(a){var b,f;b=0;for(f=this.xa.O.length;b<f;b++){var c=this.xa.O[b];if(jb(c.name,a))return c}return null};d.prototype.Ud=function(a){a=U(a);0>a&&(a=0);a>=this.xa.O.length&&(a=this.xa.O.length-1);return this.xa.O[a]};d.prototype.dl=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].Ca().Ma=
!0};d.prototype.Vh=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].Vh()};d.prototype.Wm=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].Wm()};d.prototype.ug=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].ug()};d.prototype.Er=function(a){if(a.xi){var b,f,c=a.d;b=0;for(f=c.length;b<f;++b)c[b].Hr();c=this.Yc;b=0;for(f=c.length;b<f;++b)c[b].type===a&&c[b].Hr();a.xi=!1}};d.prototype.Ku=function(a,b,f,c){var e,n,p=a?1!==a.Wb||1!==a.Xb:!1;if(b.G)for(a=0,e=b.Nj.length;a<e;++a)n=b.Nj[a],p||n.yi?
za(c,n.d):(this.Er(n),n.Ji.ck(f,c));else p||b.yi?za(c,b.d):(this.Er(b),b.Ji.ck(f,c))};d.prototype.$o=function(a,b,f,c){var e,n;e=0;for(n=b.length;e<n;++e)this.Ku(a,b[e],f,c)};d.prototype.Vu=function(a,b,f){var c=this.hr;c&&this.$o(a,c.zm,b,f)};d.prototype.hi=function(a,b,f){var c=a.Ca(),e,n,p,l,k,g;if(c.Ma)for(c.Ma=!1,W(c.d),e=0,l=a.d.length;e<l;e++)p=a.d[e],p.ya(),k=p.g.Xa(b,f,!0),g=p.g.Xa(b,f,!1),p.Lb(k,g)&&c.d.push(p);else{e=n=0;for(l=c.d.length;e<l;e++)p=c.d[e],p.ya(),k=p.g.Xa(b,f,!0),g=p.g.Xa(b,
f,!1),p.Lb(k,g)&&(c.d[n]=c.d[e],n++);c.d.length=n}a.qe();return c.Il()};d.prototype.lr=function(a,b){if(!(a&&b&&a!==b&&a.Ld&&b.Ld))return!1;a.ya();b.ya();var f=a.g,c=b.g,e,n,p,l,k,g,d,h;if(f===c||f.Wb===c.Wb&&c.Xb===c.Xb&&f.scale===c.scale&&f.i===c.i&&f.Kb===c.Kb){if(!a.Ea.tv(b.Ea)||!a.pb.kp(b.pb)||a.Lf&&b.Lf)return!1;if(a.Lf)return this.mr(a,b);if(b.Lf)return this.mr(b,a);d=a.N&&!a.N.De();e=b.N&&!b.N.De();if(!d&&!e)return!0;d?(a.N.te(a.width,a.height,a.i),d=a.N):(this.hd.Te(a.pb,a.x,a.y,a.width,
a.height),d=this.hd);e?(b.N.te(b.width,b.height,b.i),h=b.N):(this.hd.Te(b.pb,b.x,b.y,b.width,b.height),h=this.hd);return d.hh(h,b.x-a.x,b.y-a.y)}d=a.N&&!a.N.De();e=b.N&&!b.N.De();d?(a.N.te(a.width,a.height,a.i),this.hd.Yq(a.N)):this.hd.Te(a.pb,a.x,a.y,a.width,a.height);d=this.hd;e?(b.N.te(b.width,b.height,b.i),this.vn.Yq(b.N)):this.vn.Te(b.pb,b.x,b.y,b.width,b.height);h=this.vn;e=0;for(n=d.Mc;e<n;e++)p=2*e,l=p+1,k=d.Va[p],g=d.Va[l],d.Va[p]=f.wa(k+a.x,g+a.y,!0),d.Va[l]=f.wa(k+a.x,g+a.y,!1);d.ya();
e=0;for(n=h.Mc;e<n;e++)p=2*e,l=p+1,k=h.Va[p],g=h.Va[l],h.Va[p]=c.wa(k+b.x,g+b.y,!0),h.Va[l]=c.wa(k+b.x,g+b.y,!1);h.ya();return d.hh(h,0,0)};var M=new sa;new qa(0,0,0,0);var S=[];d.prototype.mr=function(a,b){var f,c,e,n,p=b.Ea,l=a.x,k=a.y;a.Ro(p,S);var g=b.N&&!b.N.De();f=0;for(c=S.length;f<c;++f)if(e=S[f],n=e.Lq,p.uv(n,l,k)&&(M.If(n),M.offset(l,k),M.kp(b.pb)))if(g)if(b.N.te(b.width,b.height,b.i),e.Ff){if(e.Ff.hh(b.N,b.x-(l+n.left),b.y-(k+n.top)))return W(S),!0}else{if(this.hd.Te(M,0,0,n.right-n.left,
n.bottom-n.top),this.hd.hh(b.N,b.x,b.y))return W(S),!0}else if(e.Ff){if(this.hd.Te(b.pb,0,0,b.width,b.height),e.Ff.hh(this.hd,-(l+n.left),-(k+n.top)))return W(S),!0}else return W(S),!0;W(S);return!1};d.prototype.Ar=function(a,b){if(!b)return!1;var f,c,e,n,p;f=0;for(c=a.Ja.length;f<c;f++)if(a.Ja[f].behavior instanceof b)return!0;if(!a.G)for(f=0,c=a.Ga.length;f<c;f++)for(p=a.Ga[f],e=0,n=p.Ja.length;e<n;e++)if(p.Ja[e].behavior instanceof b)return!0;return!1};d.prototype.Dn=function(a){return this.Ar(a,
cc.wx)};d.prototype.En=function(a){return this.Ar(a,cc.xx)};var G=[];d.prototype.Ag=function(a){var b,f,c;a.ya();this.Vu(a.g,a.Ea,G);b=0;for(f=G.length;b<f;++b)if(c=G[b],c.u.solidEnabled&&this.lr(a,c))return W(G),c;W(G);return null};d.prototype.cw=function(a){var b=fa(void 0)?100:void 0,f=0,c=a.x,e=a.y,n=0,p=0,l=0,k=this.Ag(a);if(!k)return!0;for(;f<=b;){switch(n){case 0:p=0;l=-1;f++;break;case 1:p=1;l=-1;break;case 2:p=1;l=0;break;case 3:l=p=1;break;case 4:p=0;l=1;break;case 5:p=-1;l=1;break;case 6:p=
-1;l=0;break;case 7:l=p=-1}n=(n+1)%8;a.x=U(c+p*f);a.y=U(e+l*f);a.ea();if(!this.lr(a,k)&&(k=this.Ag(a),!k))return!0}a.x=c;a.y=e;a.ea();return!1};d.prototype.dk=function(a,b){a.Ld&&b.Ld&&this.an.push([a,b])};var y=-1;d.prototype.trigger=function(a,b,f){if(!this.xa)return!1;var c=this.xa.mf;if(!c)return!1;var e=!1,n,p,l;y++;var k=c.kl;p=0;for(l=k.length;p<l;++p)n=this.ur(a,b,k[p],f),e=e||n;n=this.ur(a,b,c,f);y--;return e||n};d.prototype.ur=function(a,b,f,c){var e=!1,n,p,l,k;if(b)for(l=this.Bn(a,b,b.type.name,
f,c),e=e||l,k=b.type.Ga,n=0,p=k.length;n<p;++n)l=this.Bn(a,b,k[n].name,f,c),e=e||l;else l=this.Bn(a,b,"system",f,c),e=e||l;return e};d.prototype.Bn=function(a,b,f,c,e){var n,p=!1,l=!1,l="undefined"!==typeof e,k=(l?c.Io:c.xr)[f];if(!k)return p;var g=null;c=0;for(n=k.length;c<n;++c)if(k[c].method==a){g=k[c].Vg;break}if(!g)return p;var d;l?d=g[e]:d=g;if(!d)return null;c=0;for(n=d.length;c<n;c++)a=d[c][0],e=d[c][1],l=this.zu(b,f,a,e),p=p||l;return p};d.prototype.zu=function(a,b,f,c){var e,n,p=!1;this.Cn++;
var l=this.gc().Zc;l&&this.Vh(l.Ue);var k=1<this.Cn;this.Vh(f.Ue);k&&this.bw();var g=this.Xm(f);g.Zc=f;a&&(e=this.types[b].Ca(),e.Ma=!1,W(e.d),e.d[0]=a,this.types[b].qe());a=!0;if(f.parent){b=g.kr;for(e=f.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(n=b.length;e<n;e++)if(!b[e].ow()){a=!1;break}}a&&(this.Yi++,f.Ad?f.mw(c):f.fb(),p=p||g.xf);this.Fq();k&&this.Uv();this.ug(f.Ue);l&&this.ug(l.Ue);this.Be&&0===this.Xd&&0===y&&!this.Wl&&this.wb();this.Cn--;return p};d.prototype.So=function(){var a=
this.gc();return a.Zc.Cb[a.ec]};d.prototype.bw=function(){this.Jj++;this.Jj>=this.tm.length&&this.tm.push([])};d.prototype.Uv=function(){this.Jj--};d.prototype.To=function(){return this.tm[this.Jj]};d.prototype.Xm=function(a){this.Xi++;this.Xi>=this.nl.length&&this.nl.push(new Ob);var b=this.gc();b.reset(a);return b};d.prototype.Fq=function(){this.Xi--};d.prototype.gc=function(){return this.nl[this.Xi]};d.prototype.Uo=function(a,b){for(var f,c,e,n,p,l;b;){f=0;for(c=b.Pc.length;f<c;f++)if(l=b.Pc[f],
l instanceof Pb&&jb(a,l.name))return l;b=b.parent}f=0;for(c=this.Rd.length;f<c;f++)for(p=this.Rd[f],e=0,n=p.ze.length;e<n;e++)if(l=p.ze[e],l instanceof Pb&&jb(a,l.name))return l;return null};d.prototype.Wo=function(a){var b,f;b=0;for(f=this.cd.length;b<f;b++)if(this.cd[b].W===a)return this.cd[b];return null};d.prototype.mj=function(a){var b,f;b=0;for(f=this.p.length;b<f;b++)if(this.p[b].W===a)return this.p[b];return null};d.prototype.Lu=function(a){var b,f;b=0;for(f=this.Sf.length;b<f;b++)if(this.Sf[b].W===
a)return this.Sf[b];return null};d.prototype.xt=function(a,b){this.ci=[a,b];this.da=!0};d.prototype.mv=function(){var a=this,b=this.kn,f=this.Zd,c=this.Ej,e=!1;this.er&&(e=!0,b="__c2_continuouspreview",this.er=!1);if(b.length){this.wb();f=this.sw();if(m()&&!this.Gc)r(b,f,function(){z("Saved state to IndexedDB storage ("+f.length+" bytes)");a.Zd=f;a.trigger(Z.prototype.e.Jk,null);a.Zd="";e&&g()},function(c){try{localStorage.setItem("__c2save_"+b,f),z("Saved state to WebStorage ("+f.length+" bytes)"),
a.Zd=f,a.trigger(Z.prototype.e.Jk,null),a.Zd="",e&&g()}catch(n){z("Failed to save game state: "+c+"; "+n)}});else try{localStorage.setItem("__c2save_"+b,f),z("Saved state to WebStorage ("+f.length+" bytes)"),a.Zd=f,this.trigger(Z.prototype.e.Jk,null),a.Zd="",e&&g()}catch(n){z("Error saving to WebStorage: "+n)}this.Fb=this.Ej=this.kn=""}if(c.length){if(m()&&!this.Gc)t(c,function(b){b?(a.Fb=b,z("Loaded state from IndexedDB storage ("+a.Fb.length+" bytes)")):(a.Fb=localStorage.getItem("__c2save_"+c)||
"",z("Loaded state from WebStorage ("+a.Fb.length+" bytes)"));a.fi=!1;a.Fb.length||a.trigger(Z.prototype.e.Ik,null)},function(){a.Fb=localStorage.getItem("__c2save_"+c)||"";z("Loaded state from WebStorage ("+a.Fb.length+" bytes)");a.fi=!1;a.Fb.length||a.trigger(Z.prototype.e.Ik,null)});else{try{this.Fb=localStorage.getItem("__c2save_"+c)||"",z("Loaded state from WebStorage ("+this.Fb.length+" bytes)")}catch(p){this.Fb=""}this.fi=!1;a.Fb.length||a.trigger(Z.prototype.e.Ik,null)}this.kn=this.Ej=""}this.Fb.length&&
(this.wb(),this.Ev(this.Fb),this.Zd=this.Fb,this.trigger(Z.prototype.e.us,null),this.Fb=this.Zd="")};d.prototype.sw=function(){var a,f,c,e,n,p,l,k={c2save:!0,version:1,rt:{time:this.mb.X,walltime:this.le.X,timescale:this.Nf,tickcount:this.jd,execcount:this.Yi,next_uid:this.Mh,running_layout:this.xa.W,start_time_offset:Date.now()-this.qk},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(f=this.p.length;a<f;a++)if(n=this.p[a],!n.G&&!this.Dn(n)){p={instances:[]};Ta(n.u)&&(p.ex=
b(n.u));c=0;for(e=n.d.length;c<e;c++)p.instances.push(this.jn(n.d[c]));k.types[n.W.toString()]=p}a=0;for(f=this.cd.length;a<f;a++)c=this.cd[a],k.layouts[c.W.toString()]=c.gb();e=k.events.groups;a=0;for(f=this.Sf.length;a<f;a++)c=this.Sf[a],e[c.W.toString()]=this.nj[c.dh].bh;f=k.events.cnds;for(l in this.ve)this.ve.hasOwnProperty(l)&&(a=this.ve[l],Ta(a.u)&&(f[l]={ex:b(a.u)}));f=k.events.acts;for(l in this.pe)this.pe.hasOwnProperty(l)&&(a=this.pe[l],Ta(a.u)&&(f[l]={ex:b(a.u)}));f=k.events.vars;for(l in this.Gg)this.Gg.hasOwnProperty(l)&&
(a=this.Gg[l],a.uj||a.parent&&!a.sh||(f[l]=a.data));k.system=this.Gd.gb();return JSON.stringify(k)};d.prototype.Mq=function(){var a,b,f,c,e,n;this.be={};a=0;for(b=this.p.length;a<b;a++)if(f=this.p[a],!f.G)for(c=0,e=f.d.length;c<e;c++)n=f.d[c],this.be[n.uid.toString()]=n};d.prototype.Ev=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.lh=!0;var b=a.rt;this.mb.reset();this.mb.X=b.time;this.le.reset();this.le.X=b.walltime||0;this.Nf=b.timescale;this.jd=b.tickcount;this.Yi=b.execcount;this.qk=
Date.now()-b.start_time_offset;var f=b.running_layout;if(f!==this.xa.W)if(f=this.Wo(f))this.Eo(f);else return;var c,e,n,p,l,k,g;k=a.types;for(e in k)if(k.hasOwnProperty(e)&&(p=this.mj(parseInt(e,10)))&&!p.G&&!this.Dn(p)){k[e].ex?p.u=k[e].ex:Ua(p.u);l=p.d;n=k[e].instances;f=0;for(c=la(l.length,n.length);f<c;f++)this.Fj(l[f],n[f]);f=n.length;for(c=l.length;f<c;f++)this.Ye(l[f]);f=l.length;for(c=n.length;f<c;f++){l=null;if(p.na.Ee&&(l=this.xa.lj(n[f].w.l),!l))continue;l=this.ff(p.ud,l,!1,0,0,!0);this.Fj(l,
n[f])}p.zg=!0}this.wb();this.Mq();c=a.layouts;for(e in c)c.hasOwnProperty(e)&&(f=this.Wo(parseInt(e,10)))&&f.sb(c[e]);c=a.events.groups;for(e in c)c.hasOwnProperty(e)&&(f=this.Lu(parseInt(e,10)))&&this.nj[f.dh]&&this.nj[f.dh].vw(c[e]);f=a.events.cnds;for(e in this.ve)this.ve.hasOwnProperty(e)&&(f.hasOwnProperty(e)?this.ve[e].u=f[e].ex:this.ve[e].u={});f=a.events.acts;for(e in this.pe)this.pe.hasOwnProperty(e)&&(f.hasOwnProperty(e)?this.pe[e].u=f[e].ex:this.pe[e].u={});f=a.events.vars;for(e in f)f.hasOwnProperty(e)&&
this.Gg.hasOwnProperty(e)&&(this.Gg[e].data=f[e]);this.Mh=b.next_uid;this.lh=!1;f=0;for(c=this.dj.length;f<c;++f)l=this.dj[f],this.trigger(Object.getPrototypeOf(l.type.na).e.Hk,l);W(this.dj);this.Gd.sb(a.system);f=0;for(c=this.p.length;f<c;f++)if(p=this.p[f],!p.G&&!this.Dn(p))for(e=0,a=p.d.length;e<a;e++){l=p.d[e];if(p.Hc)for(k=l.ah(),W(l.siblings),b=0,n=p.fc.length;b<n;b++)g=p.fc[b],p!==g&&l.siblings.push(g.d[k]);l.od&&l.od();if(l.H)for(b=0,n=l.H.length;b<n;b++)k=l.H[b],k.od&&k.od()}this.da=!0}};
d.prototype.jn=function(a,f){var c,e,n,p,l;p=a.type;n=p.na;var k={};f?k.c2=!0:k.uid=a.uid;Ta(a.u)&&(k.ex=b(a.u));if(a.Za&&a.Za.length)for(k.ivs={},c=0,e=a.Za.length;c<e;c++)k.ivs[a.type.Ql[c].toString()]=a.Za[c];if(n.Ee){n={x:a.x,y:a.y,w:a.width,h:a.height,l:a.g.W,zi:a.xd()};0!==a.i&&(n.a=a.i);1!==a.opacity&&(n.o=a.opacity);.5!==a.Ub&&(n.hX=a.Ub);.5!==a.Vb&&(n.hY=a.Vb);0!==a.xb&&(n.bm=a.xb);a.visible||(n.v=a.visible);a.Ld||(n.ce=a.Ld);-1!==a.Lh&&(n.mts=a.Lh);if(p.M.length)for(n.fx=[],c=0,e=p.M.length;c<
e;c++)l=p.M[c],n.fx.push({name:l.name,active:a.oe[l.index],params:a.Ka[l.index]});k.w=n}if(a.H&&a.H.length)for(k.behs={},c=0,e=a.H.length;c<e;c++)p=a.H[c],p.gb&&(k.behs[p.type.W.toString()]=p.gb());a.gb&&(k.data=a.gb());return k};d.prototype.Nu=function(a,b){var f,c;f=0;for(c=a.Ql.length;f<c;f++)if(a.Ql[f]===b)return f;return-1};d.prototype.Ju=function(a,b){var f,c;f=0;for(c=a.H.length;f<c;f++)if(a.H[f].type.W===b)return f;return-1};d.prototype.Fj=function(a,b,f){var c,e,n,p,l;l=a.type;p=l.na;if(f){if(!b.c2)return}else a.uid=
b.uid;b.ex?a.u=b.ex:Ua(a.u);if(e=b.ivs)for(c in e)e.hasOwnProperty(c)&&(n=this.Nu(l,parseInt(c,10)),0>n||n>=a.Za.length||(a.Za[n]=e[c]));if(p.Ee){n=b.w;a.g.W!==n.l&&(e=a.g,a.g=this.xa.lj(n.l),a.g?(e.vg(a,!0),a.g.Kg(a,!0),a.ea(),a.g.Zh(0)):(a.g=e,f||this.Ye(a)));a.x=n.x;a.y=n.y;a.width=n.w;a.height=n.h;a.md=n.zi;a.i=n.hasOwnProperty("a")?n.a:0;a.opacity=n.hasOwnProperty("o")?n.o:1;a.Ub=n.hasOwnProperty("hX")?n.hX:.5;a.Vb=n.hasOwnProperty("hY")?n.hY:.5;a.visible=n.hasOwnProperty("v")?n.v:!0;a.Ld=n.hasOwnProperty("ce")?
n.ce:!0;a.Lh=n.hasOwnProperty("mts")?n.mts:-1;a.xb=n.hasOwnProperty("bm")?n.bm:0;a.Mg=gb(a.xb);this.q&&hb(a,a.xb,this.q);a.ea();if(n.hasOwnProperty("fx"))for(f=0,e=n.fx.length;f<e;f++)p=l.xl(n.fx[f].name),0>p||(a.oe[p]=n.fx[f].active,a.Ka[p]=n.fx[f].params);a.ld()}if(l=b.behs)for(c in l)l.hasOwnProperty(c)&&(f=this.Ju(a,parseInt(c,10)),0>f||a.H[f].sb(l[c]));b.data&&a.sb(b.data)};d.prototype.Jo=function(a,b,f){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,
f)},f)};d.prototype.Au=function(a,b){this.Jo("data.js",function(f){var c=new FileReader;c.onload=function(b){a(b.target.result)};c.onerror=b;c.readAsText(f)},b)};d.prototype.Ko=function(a,b,f){this.Jo(a,function(a){var f=new FileReader;f.onload=function(a){b(a.target.result)};f.readAsArrayBuffer(a)},f)};d.prototype.Bu=function(a,b,f){this.Ko(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},f)};d.prototype.Uq=function(a,b){this.qh?this.Bu(b,function(b){a.src=b},function(a){alert("Failed to load image: "+
a)}):a.src=b};Qb=function(a){return new d(document.getElementById(a))};Rb=function(a,b){return new d({dc:!0,width:a,height:b})};window.cr_createRuntime=Qb;window.cr_createDCRuntime=Rb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Rk=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});
window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new d(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,h){var m=window.cr_getC2Runtime();m&&m.xt(d,h)};
window.cr_sizeCanvas=function(d,h){if(0!==d&&0!==h){var m=window.cr_getC2Runtime();m&&m.setSize(d,h)}};window.cr_setSuspended=function(d){var h=window.cr_getC2Runtime();h&&h.setSuspended(d)};
(function(){function d(a,b){this.b=a;this.mf=null;this.scrollX=this.b.cb/2;this.scrollY=this.b.bb/2;this.scale=1;this.i=0;this.Xf=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Br=b[3];this.br=b[4];this.W=b[5];var c=b[6],e,g;this.O=[];this.gh=[];e=0;for(g=c.length;e<g;e++){var k=new Sb(this,c[e]);k.kq=e;this.O.push(k)}c=b[7];this.tf=[];e=0;for(g=c.length;e<g;e++){var k=c[e],d=this.b.p[k[1]];d.ud||(d.ud=k);this.tf.push(k);-1===this.gh.indexOf(d)&&this.gh.push(d)}this.M=[];this.ba=[];this.fe=
!0;this.Ka=[];e=0;for(g=b[8].length;e<g;e++)this.M.push({id:b[8][e][0],name:b[8][e][1],Wa:-1,Lc:!1,pc:!0,index:e}),this.Ka.push(b[8][e][2].slice(0));this.ld();this.Qe=new qa(0,0,1,1);this.$m=new qa(0,0,1,1);this.Pe={}}function h(a,b){return a.md-b.md}function m(a,b){this.ab=a;this.b=a.b;this.d=[];this.scale=1;this.i=0;this.Pd=!1;this.je=new qa(0,0,0,0);this.sr=new sa;this.za=this.ra=this.Aa=this.qa=0;this.Of=!1;this.me=-1;this.el=0;this.name=b[0];this.index=b[1];this.W=b[2];this.visible=b[3];this.Vc=
b[4];this.kd=b[5];this.Wb=b[6];this.Xb=b[7];this.opacity=b[8];this.gj=b[9];this.Bc=b[10];this.Kb=b[11];this.xb=b[12];this.Ut=b[13];this.Mg="source-over";this.Db=this.Gb=0;this.ub=null;this.$d=q();this.gd=!0;this.jg=new qa(0,0,-1,-1);this.qb=new qa(0,0,-1,-1);this.Bc&&(this.ub=new fb(this.b.cb,this.b.bb));this.Ed=!1;var c=b[14],e,g;this.ir=[];this.vc=[];this.Pg=[];e=0;for(g=c.length;e<g;e++){var k=c[e],d=this.b.p[k[1]];d.ud||(d.ud=k,d.wt=this.index);this.vc.push(k);-1===this.ab.gh.indexOf(d)&&this.ab.gh.push(d)}ya(this.ir,
this.vc);this.M=[];this.ba=[];this.fe=!0;this.Ka=[];e=0;for(g=b[15].length;e<g;e++)this.M.push({id:b[15][e][0],name:b[15][e][1],Wa:-1,Lc:!1,pc:!0,index:e}),this.Ka.push(b[15][e][2].slice(0));this.ld();this.Qe=new qa(0,0,1,1);this.$m=new qa(0,0,1,1)}function q(){return b.length?b.pop():[]}function r(a){W(a);b.push(a)}d.prototype.rw=function(a){var b=a.type.W.toString();this.Pe.hasOwnProperty(b)||(this.Pe[b]=[]);this.Pe[b].push(this.b.jn(a))};d.prototype.bp=function(){var a=this.O[0];return!a.kd&&1===
a.opacity&&!a.gj&&a.visible};d.prototype.ld=function(){W(this.ba);this.fe=!0;var a,b,c;a=0;for(b=this.M.length;a<b;a++)c=this.M[a],c.pc&&(this.ba.push(c),c.Lc||(this.fe=!1))};d.prototype.wl=function(a){var b,c,e;b=0;for(c=this.M.length;b<c;b++)if(e=this.M[b],e.name===a)return e;return null};var t=[],g=!0;d.prototype.tn=function(){this.br&&(this.mf=this.b.ol[this.br],this.mf.Gn());this.b.xa=this;this.scrollX=this.b.cb/2;this.scrollY=this.b.bb/2;var a,b,c,e,d,k,m;a=0;for(c=this.b.p.length;a<c;a++)if(b=
this.b.p[a],!b.G)for(d=b.d,b=0,e=d.length;b<e;b++)if(k=d[b],k.g){var n=k.g.kq;n>=this.O.length&&(n=this.O.length-1);k.g=this.O[n];-1===k.g.d.indexOf(k)&&k.g.d.push(k);k.g.Of=!0}if(!g)for(a=0,c=this.O.length;a<c;++a)this.O[a].d.sort(h);W(t);this.et();a=0;for(c=this.O.length;a<c;a++)k=this.O[a],k.qt(),k.Ck();d=!1;if(!this.Xf){for(m in this.Pe)if(this.Pe.hasOwnProperty(m)&&(b=this.b.mj(parseInt(m,10)))&&!b.G&&this.b.En(b)){e=this.Pe[m];a=0;for(c=e.length;a<c;a++){k=null;if(b.na.Ee&&(k=this.lj(e[a].w.l),
!k))continue;k=this.b.ff(b.ud,k,!1,0,0,!0);this.b.Fj(k,e[a]);d=!0;t.push(k)}W(e)}a=0;for(c=this.O.length;a<c;a++)this.O[a].d.sort(h),this.O[a].Of=!0}d&&(this.b.wb(),this.b.Mq());for(a=0;a<t.length;a++)if(k=t[a],k.type.Hc)for(c=k.ah(),b=0,e=k.type.fc.length;b<e;b++)m=k.type.fc[b],k.type!==m&&(m.d.length>c?k.siblings.push(m.d[c]):m.ud&&(d=this.b.ff(m.ud,k.g,!0,k.x,k.y,!0),this.b.wb(),m.Ak(),k.siblings.push(d),t.push(d)));a=0;for(c=this.tf.length;a<c;a++)this.b.ff(this.tf[a],null,!0);this.b.cl=null;
this.b.wb();if(this.b.ga&&!this.b.ja)for(a=0,c=this.b.p.length;a<c;a++)m=this.b.p[a],!m.G&&m.d.length&&m.Tm&&m.Tm(this.b.ga);if(this.b.lh)ya(this.b.dj,t);else for(a=0,c=t.length;a<c;a++)k=t[a],this.b.trigger(Object.getPrototypeOf(k.type.na).e.Hk,k);W(t);this.b.lh||this.b.trigger(Z.prototype.e.ts,null);this.Xf=!1};d.prototype.pt=function(){var a,b,c,e,g;b=a=0;for(c=this.tf.length;a<c;a++)e=this.tf[a],g=this.b.p[e[1]],g.global?g.Hc||this.b.ff(e,null,!0):(this.tf[b]=e,b++);wa(this.tf,b)};d.prototype.Gw=
function(){this.b.lh||this.b.trigger(Z.prototype.e.rs,null);this.b.Tl=!0;W(this.b.Gd.oc);var a,b,c,e,d,k;if(!this.Xf)for(a=0,b=this.O.length;a<b;a++)for(this.O[a].In(),d=this.O[a].d,c=0,e=d.length;c<e;c++)k=d[c],k.type.global||this.b.En(k.type)&&this.rw(k);a=0;for(b=this.O.length;a<b;a++){d=this.O[a].d;c=0;for(e=d.length;c<e;c++)k=d[c],k.type.global||this.b.Ye(k);this.b.wb();W(d);this.O[a].Of=!0}a=0;for(b=this.b.p.length;a<b;a++)if(d=this.b.p[a],!(d.global||d.na.Ee||d.na.pk||d.G)){c=0;for(e=d.d.length;c<
e;c++)this.b.Ye(d.d[c]);this.b.wb()}g=!1;this.b.Tl=!1};new qa(0,0,0,0);d.prototype.Fc=function(a){var b,c=a,e=!1,g=!this.b.sc;g&&(this.b.Dj||(this.b.Dj=document.createElement("canvas"),b=this.b.Dj,b.width=this.b.F,b.height=this.b.D,this.b.Gp=b.getContext("2d"),e=!0),b=this.b.Dj,c=this.b.Gp,b.width!==this.b.F&&(b.width=this.b.F,e=!0),b.height!==this.b.D&&(b.height=this.b.D,e=!0),e&&(c.webkitImageSmoothingEnabled=this.b.T,c.mozImageSmoothingEnabled=this.b.T,c.msImageSmoothingEnabled=this.b.T,c.imageSmoothingEnabled=
this.b.T));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.Mk&&!this.bp()&&c.clearRect(0,0,this.b.F,this.b.D);var k,d,e=0;for(k=this.O.length;e<k;e++)d=this.O[e],d.visible&&0<d.opacity&&11!==d.xb&&(d.d.length||!d.kd)?d.Fc(c):d.Ck();g&&a.drawImage(b,0,0,this.b.width,this.b.height)};d.prototype.hf=function(a){a.Tq(!0);this.b.Ua||(this.b.Ua=a.Tb(this.b.F,this.b.D,this.b.T));if(this.b.Ua.df!==this.b.F||this.b.Ua.cf!==this.b.D)a.deleteTexture(this.b.Ua),this.b.Ua=a.Tb(this.b.F,this.b.D,
this.b.T);a.Oc(this.b.Ua);this.b.sc||a.Hf(this.b.F,this.b.D);var b,c;for(b=this.O.length-1;0<=b;--b)c=this.O[b],c.visible&&1===c.opacity&&c.fe&&0===c.xb&&(c.d.length||!c.kd)?c.hf(a):c.Ck();a.Tq(!1)};d.prototype.Mb=function(a){var b=0<this.ba.length||this.b.Eg||!this.b.sc||this.b.ua;if(b){this.b.Ua||(this.b.Ua=a.Tb(this.b.F,this.b.D,this.b.T));if(this.b.Ua.df!==this.b.F||this.b.Ua.cf!==this.b.D)a.deleteTexture(this.b.Ua),this.b.Ua=a.Tb(this.b.F,this.b.D,this.b.T);a.Oc(this.b.Ua);this.b.sc||a.Hf(this.b.F,
this.b.D)}else this.b.Ua&&(a.Oc(null),a.deleteTexture(this.b.Ua),this.b.Ua=null);this.b.Mk&&!this.bp()&&a.clear(0,0,0,0);var c,e,g;c=0;for(e=this.O.length;c<e;c++)g=this.O[c],g.visible&&0<g.opacity&&(g.d.length||!g.kd)?g.Mb(a):g.Ck();b&&(0===this.ba.length||1===this.ba.length&&this.b.sc?(1===this.ba.length?(b=this.ba[0].index,a.cc(this.ba[0].Wa),a.xg(null,1/this.b.F,1/this.b.D,0,0,1,1,this.scale,this.i,0,0,this.b.F/2,this.b.D/2,this.b.mb.X,this.Ka[b]),a.bk(this.ba[0].Wa)&&(this.b.da=!0)):a.cc(0),
this.b.sc||a.Hf(this.b.width,this.b.height),a.Oc(null),a.Sq(!1),a.Se(1),a.hb(this.b.Ua),a.Qq(),a.Nc(),a.Ac(),b=this.b.width/2,c=this.b.height/2,a.Gf(-b,c,b,c,b,-c,-b,-c),a.hb(null),a.Sq(!0)):this.bn(a,null,null,null))};d.prototype.$g=function(){return 0<this.ba.length||this.b.Eg||!this.b.sc||this.b.ua?this.b.Ua:null};d.prototype.Xo=function(){var a=this.O[0].hc(),b,c,e;b=1;for(c=this.O.length;b<c;b++)e=this.O[b],(0!==e.Wb||0!==e.Xb)&&e.hc()<a&&(a=e.hc());return a};d.prototype.ln=function(a){if(!this.Br){var b=
1/this.Xo()*this.b.F/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.da=!0)};d.prototype.mn=function(a){if(!this.Br){var b=1/this.Xo()*this.b.D/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.da=!0)};d.prototype.et=function(){this.ln(this.scrollX);this.mn(this.scrollY)};d.prototype.bn=function(a,b,c,e){var g=c?c.ba:b?b.ba:this.ba,k=1,d=0,n=0,h=0,t=this.b.F,m=this.b.D;c?(k=c.g.hc(),d=c.g.Oa(),n=c.g.qa,h=c.g.ra,t=c.g.Aa,
m=c.g.za):b&&(k=b.hc(),d=b.Oa(),n=b.qa,h=b.ra,t=b.Aa,m=b.za);var q=this.b.tl,r,N,A,F,M=0,S=1,G,y=this.b.F,u=this.b.D,v=y/2,Ba=u/2,E=b?b.Qe:this.Qe,H=b?b.$m:this.$m,K=0,Q=0,x=0,I=0,O=y,ua=y,R=u,xa=u,ma=A=0;F=c?c.g.Oa():0;if(c){r=0;for(N=g.length;r<N;r++)A+=a.Su(g[r].Wa),ma+=a.Tu(g[r].Wa);I=c.Ea;K=b.wa(I.left,I.top,!0,!0);x=b.wa(I.left,I.top,!1,!0);O=b.wa(I.right,I.bottom,!0,!0);R=b.wa(I.right,I.bottom,!1,!0);0!==F&&(r=b.wa(I.right,I.top,!0,!0),N=b.wa(I.right,I.top,!1,!0),Q=b.wa(I.left,I.bottom,!0,
!0),I=b.wa(I.left,I.bottom,!1,!0),F=Math.min(K,O,r,Q),O=Math.max(K,O,r,Q),K=F,F=Math.min(x,R,N,I),R=Math.max(x,R,N,I),x=F);K-=A;x-=ma;O+=A;R+=ma;H.left=K/y;H.top=1-x/u;H.right=O/y;H.bottom=1-R/u;Q=K=U(K);I=x=U(x);ua=O=oa(O);xa=R=oa(R);Q-=A;I-=ma;ua+=A;xa+=ma;0>K&&(K=0);0>x&&(x=0);O>y&&(O=y);R>u&&(R=u);0>Q&&(Q=0);0>I&&(I=0);ua>y&&(ua=y);xa>u&&(xa=u);E.left=K/y;E.top=1-x/u;E.right=O/y;E.bottom=1-R/u}else E.left=H.left=0,E.top=H.top=0,E.right=H.right=1,E.bottom=H.bottom=1;ma=c&&(a.Th(g[0].Wa)||0!==A||
0!==ma||1!==c.opacity||c.type.na.fq)||b&&!c&&1!==b.opacity;a.Qq();if(ma){q[M]||(q[M]=a.Tb(y,u,this.b.T));if(q[M].df!==y||q[M].cf!==u)a.deleteTexture(q[M]),q[M]=a.Tb(y,u,this.b.T);a.cc(0);a.Oc(q[M]);G=xa-I;a.clearRect(Q,u-I-G,ua-Q,G);c?c.Mb(a):(a.hb(this.b.$a),a.Se(b.opacity),a.Nc(),a.translate(-v,-Ba),a.Ac(),a.Dd(K,R,O,R,O,x,K,x,E));H.left=H.top=0;H.right=H.bottom=1;c&&(F=E.top,E.top=E.bottom,E.bottom=F);M=1;S=0}a.Se(1);A=g.length-1;var Ma=a.Vm(g[A].Wa)||!b&&!c&&!this.b.sc,ha=0;r=0;for(N=g.length;r<
N;r++){q[M]||(q[M]=a.Tb(y,u,this.b.T));if(q[M].df!==y||q[M].cf!==u)a.deleteTexture(q[M]),q[M]=a.Tb(y,u,this.b.T);a.cc(g[r].Wa);ha=g[r].index;a.bk(g[r].Wa)&&(this.b.da=!0);0!=r||ma?(a.xg(e,1/y,1/u,H.left,H.top,H.right,H.bottom,k,d,n,h,(n+t)/2,(h+m)/2,this.b.mb.X,c?c.Ka[ha]:b?b.Ka[ha]:this.Ka[ha]),a.hb(null),r!==A||Ma?(a.Oc(q[M]),G=xa-I,F=u-I-G,a.clearRect(Q,F,ua-Q,G)):(c?a.Re(c.Gb,c.Db):b&&a.Re(b.Gb,b.Db),a.Oc(e)),a.hb(q[S]),a.Nc(),a.translate(-v,-Ba),a.Ac(),a.Dd(K,R,O,R,O,x,K,x,E),r!==A||Ma||a.hb(null)):
(a.Oc(q[M]),G=xa-I,F=u-I-G,a.clearRect(Q,F,ua-Q,G),c?(a.xg(e,1/c.width,1/c.height,H.left,H.top,H.right,H.bottom,k,d,n,h,(n+t)/2,(h+m)/2,this.b.mb.X,c.Ka[ha]),c.Mb(a)):(a.xg(e,1/y,1/u,0,0,1,1,k,d,n,h,(n+t)/2,(h+m)/2,this.b.mb.X,b?b.Ka[ha]:this.Ka[ha]),a.hb(b?this.b.$a:this.b.Ua),a.Nc(),a.translate(-v,-Ba),a.Ac(),a.Dd(K,R,O,R,O,x,K,x,E)),H.left=H.top=0,H.right=H.bottom=1,c&&!Ma&&(F=R,R=x,x=F));M=0===M?1:0;S=0===M?1:0}Ma&&(a.cc(0),c?a.Re(c.Gb,c.Db):b?a.Re(b.Gb,b.Db):this.b.sc||(a.Hf(this.b.width,this.b.height),
v=this.b.width/2,Ba=this.b.height/2,x=K=0,O=this.b.width,R=this.b.height),a.Oc(e),a.hb(q[S]),a.Nc(),a.translate(-v,-Ba),a.Ac(),c&&1===g.length&&!ma?a.Dd(K,x,O,x,O,R,K,R,E):a.Dd(K,R,O,R,O,x,K,x,E),a.hb(null))};d.prototype.lj=function(a){var b,c;b=0;for(c=this.O.length;b<c;b++)if(this.O[b].W===a)return this.O[b];return null};d.prototype.gb=function(){var a,b,c,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.Xf,persist:this.Pe,fx:[],layers:{}};a=0;for(b=this.M.length;a<
b;a++)c=this.M[a],e.fx.push({name:c.name,active:c.pc,params:this.Ka[c.index]});a=0;for(b=this.O.length;a<b;a++)c=this.O[a],e.layers[c.W.toString()]=c.gb();return e};d.prototype.sb=function(a){var b,c,e,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.Pe=a.persist;"undefined"!==typeof a.fv&&(this.Xf=a.fv);var k=a.fx;b=0;for(c=k.length;b<c;b++)if(e=this.wl(k[b].name))e.pc=k[b].active,this.Ka[e.index]=k[b].params;this.ld();b=a.layers;for(g in b)b.hasOwnProperty(g)&&
(a=this.lj(parseInt(g,10)))&&a.sb(b[g])};Eb=d;m.prototype.ld=function(){W(this.ba);this.fe=!0;var a,b,c;a=0;for(b=this.M.length;a<b;a++)c=this.M[a],c.pc&&(this.ba.push(c),c.Lc||(this.fe=!1))};m.prototype.wl=function(a){var b,c,e;b=0;for(c=this.M.length;b<c;b++)if(e=this.M[b],e.name===a)return e;return null};m.prototype.qt=function(){var a,b,c,e,g,k;b=a=0;for(c=this.vc.length;a<c;a++){e=this.vc[a];g=this.b.p[e[1]];k=this.b.En(g);g=!0;if(!k||this.ab.Xf){e=this.b.ff(e,this,!0);if(!e)continue;t.push(e);
e.type.global&&(g=!1,this.Pg.push(e.uid))}g&&(this.vc[b]=this.vc[a],b++)}this.vc.length=b;this.b.wb();!this.b.n&&this.M.length&&(this.xb=this.Ut);this.Mg=gb(this.xb);this.b.q&&hb(this,this.xb,this.b.q);this.gd=!0};m.prototype.vg=function(a,b){var c=Aa(this.d,a);0>c||(b&&this.Bc&&a.Zb&&a.Zb.right>=a.Zb.left&&(a.ya(),this.ub.update(a,a.Zb,null),a.Zb.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(va(this.d,c),this.Zh(c)),this.gd=!0)};m.prototype.Kg=function(a,b){a.md=this.d.length;this.d.push(a);
b&&this.Bc&&a.Zb&&a.ea();this.gd=!0};m.prototype.Zv=function(a){this.d.unshift(a);this.Zh(0)};m.prototype.Jv=function(a,b,c){var e=a.xd();b=b.xd();va(this.d,e);e<b&&b--;c&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.Zh(e<b?e:b)};m.prototype.Zh=function(a){-1===this.me?this.me=a:a<this.me&&(this.me=a);this.gd=this.Of=!0};m.prototype.In=function(){if(this.Of){-1===this.me&&(this.me=0);var a,b,c;if(this.Bc)for(a=this.me,b=this.d.length;a<b;++a)c=this.d[a],c.md=a,this.ub.Gv(c.Zb);else for(a=
this.me,b=this.d.length;a<b;++a)this.d[a].md=a;this.Of=!1;this.me=-1}};m.prototype.hc=function(a){return this.Ou()*(this.b.sc||a?this.b.Lg:1)};m.prototype.Ou=function(){return(this.scale*this.ab.scale-1)*this.Kb+1};m.prototype.Oa=function(){return this.Pd?0:Ia(this.ab.i+this.i)};var b=[],e=[],c=[];m.prototype.Bl=function(){this.In();this.ub.ck(this.qa,this.ra,this.Aa,this.za,c);if(!c.length)return q();if(1===c.length){var a=q();ya(a,c[0]);W(c);return a}for(var b=!0;1<c.length;){for(var a=c,g=void 0,
p=void 0,d=void 0,k=void 0,h=void 0,g=0,p=a.length;g<p-1;g+=2){var d=a[g],k=a[g+1],h=q(),n=d,t=k,m=h,D=0,L=0,P=0,N=n.length,A=t.length,F=void 0,M=void 0;for(m.length=N+A;D<N&&L<A;++P)F=n[D],M=t[L],F.md<M.md?(m[P]=F,++D):(m[P]=M,++L);for(;D<N;++D,++P)m[P]=n[D];for(;L<A;++L,++P)m[P]=t[L];b||(r(d),r(k));e.push(h)}1===p%2&&(b?(d=q(),ya(d,a[p-1]),e.push(d)):e.push(a[p-1]));ya(a,e);W(e);b=!1}a=c[0];W(c);return a};m.prototype.Fc=function(a){this.Ed=this.gj||1!==this.opacity||0!==this.xb;var b=this.b.canvas,
c=a,e=!1;this.Ed&&(this.b.Cj||(this.b.Cj=document.createElement("canvas"),b=this.b.Cj,b.width=this.b.F,b.height=this.b.D,this.b.Fp=b.getContext("2d"),e=!0),b=this.b.Cj,c=this.b.Fp,b.width!==this.b.F&&(b.width=this.b.F,e=!0),b.height!==this.b.D&&(b.height=this.b.D,e=!0),e&&(c.webkitImageSmoothingEnabled=this.b.T,c.mozImageSmoothingEnabled=this.b.T,c.msImageSmoothingEnabled=this.b.T,c.imageSmoothingEnabled=this.b.T),this.kd&&c.clearRect(0,0,this.b.F,this.b.D));c.globalAlpha=1;c.globalCompositeOperation=
"source-over";this.kd||(c.fillStyle="rgb("+this.Vc[0]+","+this.Vc[1]+","+this.Vc[2]+")",c.fillRect(0,0,this.b.F,this.b.D));c.save();this.Pd=!0;var e=this.Xa(0,0,!0,!0),g=this.Xa(0,0,!1,!0);this.Pd=!1;this.b.ed&&(e=Math.round(e),g=Math.round(g));this.fk(e,g,c);var k=this.hc();c.scale(k,k);c.translate(-e,-g);this.Bc?(this.qb.left=this.ub.Qb(this.qa),this.qb.top=this.ub.Rb(this.ra),this.qb.right=this.ub.Qb(this.Aa),this.qb.bottom=this.ub.Rb(this.za),this.gd||!this.qb.Tg(this.jg)?(r(this.$d),e=this.Bl(),
this.gd=!1,this.jg.Ng(this.qb)):e=this.$d):e=this.d;for(var d,n=null,g=0,k=e.length;g<k;++g)d=e[g],d!==n&&(this.Pt(d,c),n=d);this.Bc&&(this.$d=e);c.restore();this.Ed&&(a.globalCompositeOperation=this.Mg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};m.prototype.Pt=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ya();var c=a.Ea;c.right<this.qa||c.bottom<this.ra||c.left>this.Aa||c.top>this.za||(b.globalCompositeOperation=a.Mg,a.Fc(b))}};m.prototype.Ck=function(){this.Pd=!0;var a=this.Xa(0,
0,!0,!0),b=this.Xa(0,0,!1,!0);this.Pd=!1;this.b.ed&&(a=Math.round(a),b=Math.round(b));this.fk(a,b,null)};m.prototype.fk=function(a,b,c){var e=this.hc();this.qa=a;this.ra=b;this.Aa=a+1/e*this.b.F;this.za=b+1/e*this.b.D;a=this.Oa();0!==a&&(c&&(c.translate(this.b.F/2,this.b.D/2),c.rotate(-a),c.translate(this.b.F/-2,this.b.D/-2)),this.je.set(this.qa,this.ra,this.Aa,this.za),this.je.offset((this.qa+this.Aa)/-2,(this.ra+this.za)/-2),this.sr.Zq(this.je,a),this.sr.so(this.je),this.je.offset((this.qa+this.Aa)/
2,(this.ra+this.za)/2),this.qa=this.je.left,this.ra=this.je.top,this.Aa=this.je.right,this.za=this.je.bottom)};m.prototype.hf=function(a){if(this.Ed=this.gj){this.b.$a||(this.b.$a=a.Tb(this.b.F,this.b.D,this.b.T));if(this.b.$a.df!==this.b.F||this.b.$a.cf!==this.b.D)a.deleteTexture(this.b.$a),this.b.$a=a.Tb(this.b.F,this.b.D,this.b.T);a.Oc(this.b.$a)}this.Pd=!0;var b=this.Xa(0,0,!0,!0),c=this.Xa(0,0,!1,!0);this.Pd=!1;this.b.ed&&(b=Math.round(b),c=Math.round(c));this.fk(b,c,null);b=this.hc();a.Nc();
a.scale(b,b);a.gk(-this.Oa());a.translate((this.qa+this.Aa)/-2,(this.ra+this.za)/-2);a.Ac();this.Bc?(this.qb.left=this.ub.Qb(this.qa),this.qb.top=this.ub.Rb(this.ra),this.qb.right=this.ub.Qb(this.Aa),this.qb.bottom=this.ub.Rb(this.za),this.gd||!this.qb.Tg(this.jg)?(r(this.$d),b=this.Bl(),this.gd=!1,this.jg.Ng(this.qb)):b=this.$d):b=this.d;for(var e,g=null,c=b.length-1;0<=c;--c)e=b[c],e!==g&&(this.Rt(b[c],a),g=e);this.Bc&&(this.$d=b);this.kd||(this.el=this.b.kf++,a.ik(this.el),a.Rq(1,1,1),a.Oo(),a.iw())};
m.prototype.Mb=function(a){var b=0,c=0;if(this.Ed=this.gj||1!==this.opacity||0<this.ba.length||0!==this.xb){this.b.$a||(this.b.$a=a.Tb(this.b.F,this.b.D,this.b.T));if(this.b.$a.df!==this.b.F||this.b.$a.cf!==this.b.D)a.deleteTexture(this.b.$a),this.b.$a=a.Tb(this.b.F,this.b.D,this.b.T);a.Oc(this.b.$a);this.kd&&a.clear(0,0,0,0)}this.kd||(this.b.ua?(a.ik(this.el),a.Rq(this.Vc[0]/255,this.Vc[1]/255,this.Vc[2]/255),a.Oo(),a.zw()):a.clear(this.Vc[0]/255,this.Vc[1]/255,this.Vc[2]/255,1));this.Pd=!0;var e=
this.Xa(0,0,!0,!0),b=this.Xa(0,0,!1,!0);this.Pd=!1;this.b.ed&&(e=Math.round(e),b=Math.round(b));this.fk(e,b,null);e=this.hc();a.Nc();a.scale(e,e);a.gk(-this.Oa());a.translate((this.qa+this.Aa)/-2,(this.ra+this.za)/-2);a.Ac();this.Bc?(this.qb.left=this.ub.Qb(this.qa),this.qb.top=this.ub.Rb(this.ra),this.qb.right=this.ub.Qb(this.Aa),this.qb.bottom=this.ub.Rb(this.za),this.gd||!this.qb.Tg(this.jg)?(r(this.$d),b=this.Bl(),this.gd=!1,this.jg.Ng(this.qb)):b=this.$d):b=this.d;var g,k,d=null,c=0;for(g=b.length;c<
g;++c)k=b[c],k!==d&&(this.Qt(b[c],a),d=k);this.Bc&&(this.$d=b);this.Ed&&(b=this.ba.length?this.ba[0].Wa:0,c=this.ba.length?this.ba[0].index:0,0===this.ba.length||1===this.ba.length&&!a.Vm(b)&&1===this.opacity?(1===this.ba.length?(a.cc(b),a.xg(this.ab.$g(),1/this.b.F,1/this.b.D,0,0,1,1,e,this.Oa(),this.qa,this.ra,(this.qa+this.Aa)/2,(this.ra+this.za)/2,this.b.mb.X,this.Ka[c]),a.bk(b)&&(this.b.da=!0)):a.cc(0),a.Oc(this.ab.$g()),a.Se(this.opacity),a.hb(this.b.$a),a.Re(this.Gb,this.Db),a.Nc(),a.Ac(),
e=this.b.F/2,b=this.b.D/2,a.Gf(-e,b,e,b,e,-b,-e,-b),a.hb(null)):this.ab.bn(a,this,null,this.ab.$g()))};m.prototype.Qt=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ya();var c=a.Ea;c.right<this.qa||c.bottom<this.ra||c.left>this.Aa||c.top>this.za||(b.ik(a.kf),a.Ir?this.St(a,b):(b.cc(0),b.Re(a.Gb,a.Db),a.Mb(b)))}};m.prototype.Rt=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ya();var c=a.Ea;c.right<this.qa||c.bottom<this.ra||c.left>this.Aa||c.top>this.za||(a.kf=this.b.kf++,0===a.xb&&
1===a.opacity&&a.fe&&a.hf&&(b.ik(a.kf),a.hf(b)))}};m.prototype.St=function(a,b){var c=a.ba[0].Wa,e=a.ba[0].index,g=this.hc();if(1!==a.ba.length||b.Vm(c)||b.aw(c)||(a.i||a.g.Oa())&&b.Th(c)||1!==a.opacity||a.type.na.fq)this.ab.bn(b,this,a,this.Ed?this.b.$a:this.ab.$g()),b.Nc(),b.scale(g,g),b.gk(-this.Oa()),b.translate((this.qa+this.Aa)/-2,(this.ra+this.za)/-2),b.Ac();else{b.cc(c);b.Re(a.Gb,a.Db);b.bk(c)&&(this.b.da=!0);var k=0,d=0,n=0,h=0;b.Th(c)&&(c=a.Ea,k=this.wa(c.left,c.top,!0,!0),d=this.wa(c.left,
c.top,!1,!0),n=this.wa(c.right,c.bottom,!0,!0),c=this.wa(c.right,c.bottom,!1,!0),k=k/windowWidth,d=1-d/windowHeight,n=n/windowWidth,h=1-c/windowHeight);b.xg(this.Ed?this.b.$a:this.ab.$g(),1/a.width,1/a.height,k,d,n,h,g,this.Oa(),this.qa,this.ra,(this.qa+this.Aa)/2,(this.ra+this.za)/2,this.b.mb.X,a.Ka[e]);a.Mb(b)}};m.prototype.Xa=function(a,b,c,e){var g=this.b.devicePixelRatio;this.b.vf&&(a*=g,b*=g);var g=this.b.Aq,k=this.b.Bq,g=(this.ab.scrollX-g)*this.Wb+g,k=(this.ab.scrollY-k)*this.Xb+k,d=g,n=k,
h=1/this.hc(!e);e?(d-=this.b.F*h/2,n-=this.b.D*h/2):(d-=this.b.width*h/2,n-=this.b.height*h/2);d+=a*h;n+=b*h;b=this.Oa();0!==b&&(d-=g,n-=k,a=Math.cos(b),b=Math.sin(b),e=d*a-n*b,n=n*a+d*b,d=e+g,n+=k);return c?d:n};m.prototype.wa=function(a,b,c,e){var g=this.b.Aq,k=this.b.Bq,d=(this.ab.scrollX-g)*this.Wb+g,n=(this.ab.scrollY-k)*this.Xb+k,k=d,g=n,h=this.Oa();if(0!==h){a-=d;b-=n;var t=Math.cos(-h),h=Math.sin(-h),m=a*t-b*h;b=b*t+a*h;a=m+d;b+=n}d=1/this.hc(!e);e?(k-=this.b.F*d/2,g-=this.b.D*d/2):(k-=this.b.width*
d/2,g-=this.b.height*d/2);k=(a-k)/d;g=(b-g)/d;a=this.b.devicePixelRatio;this.b.vf&&!e&&(k/=a,g/=a);return c?k:g};m.prototype.gb=function(){var a,b,c,e={s:this.scale,a:this.i,vl:this.qa,vt:this.ra,vr:this.Aa,vb:this.za,v:this.visible,bc:this.Vc,t:this.kd,px:this.Wb,py:this.Xb,o:this.opacity,zr:this.Kb,fx:[],cg:this.Pg,instances:[]};a=0;for(b=this.M.length;a<b;a++)c=this.M[a],e.fx.push({name:c.name,active:c.pc,params:this.Ka[c.index]});return e};m.prototype.sb=function(a){var b,c,e;this.scale=a.s;this.i=
a.a;this.qa=a.vl;this.ra=a.vt;this.Aa=a.vr;this.za=a.vb;this.visible=a.v;this.Vc=a.bc;this.kd=a.t;this.Wb=a.px;this.Xb=a.py;this.opacity=a.o;this.Kb=a.zr;this.Pg=a.cg||[];ya(this.vc,this.ir);var g=new ca;b=0;for(e=this.Pg.length;b<e;++b)g.add(this.Pg[b]);c=b=0;for(e=this.vc.length;b<e;++b)g.contains(this.vc[b][2])||(this.vc[c]=this.vc[b],++c);wa(this.vc,c);c=a.fx;b=0;for(e=c.length;b<e;b++)if(a=this.wl(c[b].name))a.pc=c[b].active,this.Ka[a.index]=c[b].params;this.ld();this.d.sort(h);this.Of=!0};Sb=
m})();
(function(){function d(a,b){var c,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<e;c++)if(a[c]!==b[c])return!1;return!0}}function h(a,b){return a.index-b.index}function m(a){var b,c,e,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(h);a.length>=B.length&&(B.length=a.length+1);B[a.length]||(B[a.length]=[]);f=B[a.length];b=0;for(c=f.length;b<c;b++)if(e=f[b],d(a,e))return e;f.push(a);return a}function q(a,
b){this.b=a;this.xr={};this.Io={};this.Jl=!1;this.fp=new ca;this.kl=[];this.Nk=[];this.name=b[0];var c=b[1];this.ze=[];var e,f;e=0;for(f=c.length;e<f;e++)this.hp(c[e],null,this.ze)}function r(a){this.type=a;this.d=[];this.Y=[];this.Ma=!0}function t(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Sa=[];this.Ue=[];this.cp=this.wk=this.An=this.Ol=this.group=this.gr=!1;this.Cb=[];this.Tc=[];this.Pc=[];this.dh="";this.bh=this.Ol=this.group=!1;this.Ki=null;c[1]&&(this.dh=c[1][1].toLowerCase(),this.group=
!0,this.Ol=!!c[1][0],this.Ki=[],this.bh=this.Ol,this.b.Sf.push(this),this.b.nj[this.dh]=this);this.Ad=c[2];this.W=c[4];this.group||(this.b.ro[this.W.toString()]=this);var e=c[5];a=0;for(b=e.length;a<b;a++){var f=new Tb(this,e[a]);f.index=a;this.Cb.push(f);this.mo(f.type)}e=c[6];a=0;for(b=e.length;a<b;a++)f=new Ub(this,e[a]),f.index=a,this.Tc.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.hp(c[a],this,this.Pc);this.vj=!1;this.Cb.length&&(this.vj=null==this.Cb[0].type&&this.Cb[0].rb==
Z.prototype.e.Rn)}function g(a,b){var c,e,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Hc))for(c=0,e=a.fc.length;c<e;c++)f=a.fc[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function b(a,b){this.qc=a;this.sheet=a.sheet;this.b=a.b;this.R=[];this.La=[];this.u={};this.index=-1;this.Ig=!1;this.rb=this.b.ne(b[1]);this.trigger=0<b[3];this.Ho=2===b[3];this.yd=b[4];this.Rl=b[5];this.Dv=b[6];this.W=b[7];this.b.ve[this.W.toString()]=this;-1===b[0]?(this.type=null,this.fb=this.hn,this.bf=null,this.Xc=-1):(this.type=this.b.p[b[0]],
this.fb=this.Dv?this.pw:this.gn,b[2]?(this.bf=this.type.jj(b[2]),this.Xc=this.type.ul(b[2])):(this.bf=null,this.Xc=-1),this.qc.parent&&this.qc.parent.jk());this.Ho&&(this.fb=this.qw);if(10===b.length){var c,e,f=b[9];c=0;for(e=f.length;c<e;c++){var k=new Vb(this,f[c]);this.R.push(k)}this.La.length=f.length}}function e(a,b){this.qc=a;this.sheet=a.sheet;this.b=a.b;this.R=[];this.La=[];this.u={};this.index=-1;this.Ig=!1;this.rb=this.b.ne(b[1]);-1===b[0]?(this.type=null,this.fb=this.hn,this.bf=null,this.Xc=
-1):(this.type=this.b.p[b[0]],this.fb=this.gn,b[2]?(this.bf=this.type.jj(b[2]),this.Xc=this.type.ul(b[2])):(this.bf=null,this.Xc=-1));this.W=b[3];this.b.pe[this.W.toString()]=this;if(6===b.length){var c,e,f=b[5];c=0;for(e=f.length;c<e;c++){var k=new Vb(this,f[c]);this.R.push(k)}this.La.length=f.length}}function c(){J++;k.length===J&&k.push(new Wb);return k[J]}function a(a,b){this.Kc=a;this.qc=a.qc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.vd=null;this.ge=0;this.get=null;this.yo=0;this.ab=
null;this.key=0;this.object=null;this.index=0;this.oi=this.Jf=this.oi=this.Jf=this.Lo=this.nf=this.pi=null;this.Rc=!1;var c,e,f;switch(b[0]){case 0:case 7:this.vd=new Xb(this,b[1]);this.ge=0;this.get=this.$u;break;case 1:this.vd=new Xb(this,b[1]);this.ge=0;this.get=this.av;break;case 5:this.vd=new Xb(this,b[1]);this.ge=0;this.get=this.gv;break;case 3:case 8:this.yo=b[1];this.get=this.Yu;break;case 6:this.ab=this.b.jm[b[1]];this.get=this.hv;break;case 9:this.key=b[1];this.get=this.dv;break;case 4:this.object=
this.b.p[b[1]];this.get=this.iv;this.qc.mo(this.object);this.Kc instanceof Ub?this.qc.jk():this.qc.parent&&this.qc.parent.jk();break;case 10:this.index=b[1];a.type.G?(this.get=this.bv,this.Rc=!0):this.get=this.cv;break;case 11:this.pi=b[1];this.nf=null;this.get=this.Zu;break;case 2:case 12:this.Lo=b[1];this.get=this.Xu;break;case 13:for(this.get=this.jv,this.Jf=[],this.oi=[],c=1,e=b.length;c<e;c++)f=new Vb(this.Kc,b[c]),this.Jf.push(f),this.oi.push(0)}}function f(a,b,c){this.sheet=a;this.parent=b;
this.b=a.b;this.Sa=[];this.name=c[1];this.Nl=c[3];this.sh=!!c[4];this.uj=!!c[5];this.W=c[6];this.b.Gg[this.W.toString()]=this;this.data=this.Nl;this.parent?(this.Bf=this.sh||this.uj?-1:this.b.Ew++,this.b.$s.push(this)):(this.Bf=-1,this.b.Zs.push(this))}function l(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Sa=[];this.fh=null;this.qv=c[1];this.pc=!0}function p(){this.kr=[];this.reset(null)}var B=[];q.prototype.toString=function(){return this.name};q.prototype.hp=function(a,b,c){switch(a[0]){case 0:a=
new Yb(this,b,a);if(a.Ad)for(c.push(a),c=0,b=a.Cb.length;c<b;c++)a.Cb[c].trigger&&this.ip(a,c);else a.rp()?this.ip(a,0):c.push(a);break;case 1:a=new Pb(this,b,a);c.push(a);break;case 2:a=new Zb(this,b,a),c.push(a)}};q.prototype.Ra=function(){var a,b;a=0;for(b=this.ze.length;a<b;a++)this.ze[a].Ra(a<b-1&&this.ze[a+1].vj)};q.prototype.Gn=function(){W(this.kl);W(this.Nk);this.ko(this);W(this.Nk)};q.prototype.ko=function(a){var b,c,e,f,k=a.kl,g=a.Nk,p=this.fp.Id();b=0;for(c=p.length;b<c;++b)e=p[b],f=e.fh,
!e.pc||a===f||-1<g.indexOf(f)||(g.push(f),f.ko(a),k.push(f))};q.prototype.fb=function(a){this.b.ny||(this.Jl=!0,a||(this.b.Wl=!0));var b,c;b=0;for(c=this.ze.length;b<c;b++){var e=this.ze[b];e.fb();this.b.dl(e.Sa);this.b.Be&&this.b.wb()}a||(this.b.Wl=!1)};q.prototype.ip=function(a,b){a.Ad||this.b.zk.push(a);var c,e,f=a.Cb[b],k;f.type?k=f.type.name:k="system";var g=(c=f.Ho)?this.Io:this.xr;g[k]||(g[k]=[]);k=g[k];g=f.rb;if(c){if(f.R.length&&(f=f.R[0],1===f.type&&2===f.vd.type)){f=f.vd.value.toLowerCase();
c=0;for(e=k.length;c<e;c++)if(k[c].method==g){c=k[c].Vg;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];k.push({method:g,Vg:c})}}else{c=0;for(e=k.length;c<e;c++)if(k[c].method==g){k[c].Vg.push([a,b]);return}nc&&g===nc.prototype.e.Rf?k.unshift({method:g,Vg:[[a,b]]}):k.push({method:g,Vg:[[a,b]]})}};Fb=q;r.prototype.Il=function(){return this.Ma?this.type.d.length:this.d.length};r.prototype.$c=function(){return this.Ma?this.type.d:this.d};r.prototype.Rh=function(a){a&&(a.b.gc().Zc.Ad?(this.Ma&&
(W(this.d),ya(this.Y,a.type.d),this.Ma=!1),a=this.Y.indexOf(a),-1!==a&&(this.d.push(this.Y[a]),this.Y.splice(a,1))):(this.Ma=!1,W(this.d),this.d[0]=a))};nb=r;window._c2hh_="5AFA373D7ADC68A1BB7AD7F0086E70B954407AFE";t.prototype.Ra=function(a){var b,c=this.parent;if(this.group)for(this.wk=!0;c;){if(!c.group){this.wk=!1;break}c=c.parent}this.An=!this.rp()&&(!this.parent||this.parent.group&&this.parent.wk);this.cp=!!a;this.Ue=this.Sa.slice(0);for(c=this.parent;c;){a=0;for(b=c.Sa.length;a<b;a++)this.Ys(c.Sa[a]);
c=c.parent}this.Sa=m(this.Sa);this.Ue=m(this.Ue);a=0;for(b=this.Cb.length;a<b;a++)this.Cb[a].Ra();a=0;for(b=this.Tc.length;a<b;a++)this.Tc[a].Ra();a=0;for(b=this.Pc.length;a<b;a++)this.Pc[a].Ra(a<b-1&&this.Pc[a+1].vj)};t.prototype.vw=function(a){if(this.bh!==!!a){this.bh=!!a;var b;a=0;for(b=this.Ki.length;a<b;++a)this.Ki[a].Dr();0<b&&this.b.xa.mf&&this.b.xa.mf.Gn()}};t.prototype.mo=function(a){g(a,this.Sa)};t.prototype.Ys=function(a){g(a,this.Ue)};t.prototype.jk=function(){this.gr=!0;this.parent&&
this.parent.jk()};t.prototype.rp=function(){return this.Cb.length?this.Cb[0].trigger:!1};t.prototype.fb=function(){var a,b,c=!1,e=this.b,f=this.b.gc();f.Zc=this;var k=this.Cb;this.vj||(f.ml=!1);if(this.Ad){0===k.length&&(c=!0);f.ec=0;for(a=k.length;f.ec<a;f.ec++)b=k[f.ec],b.trigger||(b=b.fb())&&(c=!0);(f.xf=c)&&this.en()}else{f.ec=0;for(a=k.length;f.ec<a;f.ec++)if(b=k[f.ec].fb(),!b){f.xf=!1;this.An&&e.Be&&e.wb();return}f.xf=!0;this.en()}this.Wt(f)};t.prototype.Wt=function(a){a.xf&&this.cp&&(a.ml=
!0);this.An&&this.b.Be&&this.b.wb()};t.prototype.mw=function(a){this.b.gc().Zc=this;this.Cb[a].fb()&&(this.en(),this.b.gc().xf=!0)};t.prototype.en=function(){var a=this.b.gc(),b;a.Cc=0;for(b=this.Tc.length;a.Cc<b;a.Cc++)if(this.Tc[a.Cc].fb())return;this.Oq()};t.prototype.kw=function(){var a=this.b.gc(),b;for(b=this.Tc.length;a.Cc<b;a.Cc++)if(this.Tc[a.Cc].fb())return;this.Oq()};t.prototype.Oq=function(){if(this.Pc.length){var a,b,c,e,f=this.Pc.length-1;this.b.Xm(this);if(this.gr)for(a=0,b=this.Pc.length;a<
b;a++)c=this.Pc[a],(e=!this.wk||!this.group&&a<f)&&this.b.Wm(c.Sa),c.fb(),e?this.b.ug(c.Sa):this.b.dl(c.Sa);else for(a=0,b=this.Pc.length;a<b;a++)this.Pc[a].fb();this.b.Fq()}};t.prototype.ow=function(){var a=this.b.gc();a.Zc=this;var b=!1,c;a.ec=0;for(c=this.Cb.length;a.ec<c;a.ec++)if(this.Cb[a.ec].fb())b=!0;else if(!this.Ad)return!1;return this.Ad?b:!0};t.prototype.xv=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Cb[b].type===a.type)return!1;return!0};Yb=t;b.prototype.Ra=function(){var a,
b,c;a=0;for(b=this.R.length;a<b;a++)c=this.R[a],c.Ra(),c.Rc&&(this.Ig=!0)};b.prototype.qw=function(){return!0};b.prototype.hn=function(){var a,b;a=0;for(b=this.R.length;a<b;a++)this.La[a]=this.R[a].get();return Sa(this.rb.apply(this.b.Gd,this.La),this.Rl)};b.prototype.pw=function(){var a,b;a=0;for(b=this.R.length;a<b;a++)this.La[a]=this.R[a].get();a=this.rb.apply(this.bf?this.bf:this.type,this.La);this.type.qe();return a};b.prototype.gn=function(){var a,b,c,e,f,k,g,p,d=this.type,l=d.Ca(),h=this.qc.Ad&&
!this.trigger;b=0;var t=d.Hc,m=d.G,q=d.Sd,r=this.Xc,B=-1<r,J=this.Ig,H=this.R,K=this.La,Q=this.Rl,x=this.rb,I;if(J)for(b=0,f=H.length;b<f;++b)k=H[b],k.Rc||(K[b]=k.get(0));else for(b=0,f=H.length;b<f;++b)K[b]=H[b].get(0);if(l.Ma){W(l.d);W(l.Y);I=d.d;a=0;for(e=I.length;a<e;++a){p=I[a];if(J)for(b=0,f=H.length;b<f;++b)k=H[b],k.Rc&&(K[b]=k.get(a));B?(b=0,m&&(b=p.type.Wf[q]),b=x.apply(p.H[r+b],K)):b=x.apply(p,K);(g=Sa(b,Q))?l.d.push(p):h&&l.Y.push(p)}d.finish&&d.finish(!0);l.Ma=!1;d.qe();return l.Il()}c=
0;I=(g=h&&!this.qc.xv(this))?l.Y:l.d;var O=!1;a=0;for(e=I.length;a<e;++a){p=I[a];if(J)for(b=0,f=H.length;b<f;++b)k=H[b],k.Rc&&(K[b]=k.get(a));B?(b=0,m&&(b=p.type.Wf[q]),b=x.apply(p.H[r+b],K)):b=x.apply(p,K);if(Sa(b,Q))if(O=!0,g){if(l.d.push(p),t)for(b=0,f=p.siblings.length;b<f;b++)k=p.siblings[b],k.type.Ca().d.push(k)}else{I[c]=p;if(t)for(b=0,f=p.siblings.length;b<f;b++)k=p.siblings[b],k.type.Ca().d[c]=k;c++}else if(g){I[c]=p;if(t)for(b=0,f=p.siblings.length;b<f;b++)k=p.siblings[b],k.type.Ca().Y[c]=
k;c++}else if(h&&(l.Y.push(p),t))for(b=0,f=p.siblings.length;b<f;b++)k=p.siblings[b],k.type.Ca().Y.push(k)}wa(I,c);if(t)for(m=d.fc,a=0,e=m.length;a<e;a++)p=m[a].Ca(),g?wa(p.Y,c):wa(p.d,c);c=O;if(g&&!O)for(a=0,e=l.d.length;a<e;a++){p=l.d[a];if(J)for(b=0,f=H.length;b<f;b++)k=H[b],k.Rc&&(K[b]=k.get(a));b=B?x.apply(p.H[r],K):x.apply(p,K);if(Sa(b,Q)){O=!0;break}}d.finish&&d.finish(c||h);return h?O:l.Il()};Tb=b;e.prototype.Ra=function(){var a,b,c;a=0;for(b=this.R.length;a<b;a++)c=this.R[a],c.Ra(),c.Rc&&
(this.Ig=!0)};e.prototype.hn=function(){var a=this.b,b,c,e=this.R,f=this.La;b=0;for(c=e.length;b<c;++b)f[b]=e[b].get();return this.rb.apply(a.Gd,f)};e.prototype.gn=function(){var a=this.type,b=this.Xc,c=a.Sd,e=this.Ig,f=this.R,k=this.La,g=this.rb,p=a.Ca().$c(),a=a.G,d=-1<b,l,h,t,m,q,r;if(e)for(h=0,m=f.length;h<m;++h)q=f[h],q.Rc||(k[h]=q.get(0));else for(h=0,m=f.length;h<m;++h)k[h]=f[h].get(0);l=0;for(t=p.length;l<t;++l){r=p[l];if(e)for(h=0,m=f.length;h<m;++h)q=f[h],q.Rc&&(k[h]=q.get(l));d?(h=0,a&&
(h=r.type.Wf[c]),g.apply(r.H[b+h],k)):g.apply(r,k)}return!1};Ub=e;var k=[],J=-1;a.prototype.Ra=function(){var a,b;if(11===this.type)this.nf=this.b.Uo(this.pi,this.qc.parent);else if(13===this.type)for(a=0,b=this.Jf.length;a<b;a++)this.Jf[a].Ra();this.vd&&this.vd.Ra()};a.prototype.Iv=function(a){this.Rc||!a||a.na.pk||(this.Rc=!0)};a.prototype.Xq=function(){this.Rc=!0};a.prototype.$u=function(a){this.ge=a||0;a=c();this.vd.get(a);J--;return a.data};a.prototype.av=function(a){this.ge=a||0;a=c();this.vd.get(a);
J--;return T(a.data)?a.data:""};a.prototype.iv=function(){return this.object};a.prototype.Yu=function(){return this.yo};a.prototype.gv=function(a){this.ge=a||0;a=c();this.vd.get(a);J--;return a.lb()?this.b.Ud(a.data):this.b.Yg(a.data)};a.prototype.hv=function(){return this.ab};a.prototype.dv=function(){return this.key};a.prototype.cv=function(){return this.index};a.prototype.bv=function(a){a=a||0;var b=this.Kc.type,c=null,c=b.Ca(),e=c.$c();if(e.length)c=e[a%e.length].type;else if(c.Y.length)c=c.Y[a%
c.Y.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;else return 0;return this.index+c.bj[b.Sd]};a.prototype.Zu=function(){return this.nf};a.prototype.Xu=function(){return this.Lo};a.prototype.jv=function(){var a,b;a=0;for(b=this.Jf.length;a<b;a++)this.oi[a]=this.Jf[a].get();return this.oi};Vb=a;f.prototype.Ra=function(){this.Sa=m(this.Sa)};f.prototype.Aw=function(a){var b=this.b.To();this.parent&&!this.sh&&b?(this.Bf>=b.length&&(b.length=this.Bf+1),b[this.Bf]=a):this.data=a};f.prototype.Wu=
function(){var a=this.b.To();return!this.parent||this.sh||!a||this.uj?this.data:this.Bf>=a.length||"undefined"===typeof a[this.Bf]?this.Nl:a[this.Bf]};f.prototype.fb=function(){!this.parent||this.sh||this.uj||this.Aw(this.Nl)};Pb=f;l.prototype.toString=function(){return"include:"+this.fh.toString()};l.prototype.Ra=function(){this.fh=this.b.ol[this.qv];this.sheet.fp.add(this);this.Sa=m(this.Sa);for(var a=this.parent;a;)a.group&&a.Ki.push(this),a=a.parent;this.Dr()};l.prototype.fb=function(){this.parent&&
this.b.Vh(this.b.p);this.fh.Jl||this.fh.fb(!0);this.parent&&this.b.ug(this.b.p)};l.prototype.Dr=function(){for(var a=this.parent;a;){if(a.group&&!a.bh){this.pc=!1;return}a=a.parent}this.pc=!0};Zb=l;p.prototype.reset=function(a){this.Zc=a;this.Cc=this.ec=0;W(this.kr);this.ml=this.xf=!1};Ob=p})();
(function(){function d(g,b){this.Kc=g;this.b=g.b;this.type=b[0];this.get=[this.mu,this.iu,this.vu,this.yu,this.Yt,this.wu,this.qu,this.fu,this.pu,this.uu,this.Zt,this.tu,this.gu,this.ru,this.nu,this.ou,this.ju,this.ku,this.eu,this.xu,this.su,this.lu,this.du,this.hu][this.type];var e=null;this.ae=this.R=this.La=this.rb=this.vk=this.second=this.first=this.value=null;this.Xc=-1;this.ad=null;this.Jr=-1;this.nf=this.pi=null;this.wg=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Xb(g,b[1]);break;case 18:this.first=new Xb(g,b[1]);this.second=new Xb(g,b[2]);this.vk=new Xb(g,b[3]);break;case 19:this.rb=this.b.ne(b[1]);this.rb!==Z.prototype.Ba.random&&this.rb!==Z.prototype.Ba.lt||this.Kc.Xq();this.La=[];this.R=[];3===b.length?(e=b[2],this.La.length=e.length+1):this.La.length=1;break;case 20:this.ae=this.b.p[b[1]];this.Xc=-1;this.rb=this.b.ne(b[2]);this.wg=b[3];bc.Function&&this.rb===bc.Function.prototype.Ba.Yw&&this.Kc.Xq();b[4]?this.ad=new Xb(g,b[4]):this.ad=null;this.La=
[];this.R=[];6===b.length?(e=b[5],this.La.length=e.length+1):this.La.length=1;break;case 21:this.ae=this.b.p[b[1]];this.wg=b[2];b[3]?this.ad=new Xb(g,b[3]):this.ad=null;this.Jr=b[4];break;case 22:this.ae=this.b.p[b[1]];this.ae.jj(b[2]);this.Xc=this.ae.ul(b[2]);this.rb=this.b.ne(b[3]);this.wg=b[4];b[5]?this.ad=new Xb(g,b[5]):this.ad=null;this.La=[];this.R=[];7===b.length?(e=b[6],this.La.length=e.length+1):this.La.length=1;break;case 23:this.pi=b[1],this.nf=null}this.Kc.Iv(this.ae);4<=this.type&&17>=
this.type&&(this.first=new Xb(g,b[1]),this.second=new Xb(g,b[2]));if(e){var c,a;c=0;for(a=e.length;c<a;c++)this.R.push(new Xb(g,e[c]))}}function h(){++t;r.length===t&&r.push(new Wb);return r[t]}function m(g,b,e){var c,a;c=0;for(a=g.length;c<a;++c)g[c].get(e),b[c+1]=e.data}function q(g,b){this.type=g||$b.Qf;this.data=b||0;this.Df=null;this.type==$b.Qf&&(this.data=Math.floor(this.data))}d.prototype.Ra=function(){23===this.type&&(this.nf=this.Kc.b.Uo(this.pi,this.Kc.qc.parent));this.first&&this.first.Ra();
this.second&&this.second.Ra();this.vk&&this.vk.Ra();this.ad&&this.ad.Ra();if(this.R){var g,b;g=0;for(b=this.R.length;g<b;g++)this.R[g].Ra()}};var r=[],t=-1;d.prototype.xu=function(g){var b=this.R,e=this.La;e[0]=g;g=h();m(b,e,g);--t;this.rb.apply(this.b.Gd,e)};d.prototype.su=function(g){var b=this.ae,e=this.La,c=this.R,a=this.ad,f=this.rb,d=this.Kc.ge,p=b.Ca(),q=p.$c();if(!q.length)if(p.Y.length)q=p.Y;else{this.wg?g.Pb(""):g.Da(0);return}e[0]=g;g.Df=b;g=h();m(c,e,g);a&&(a.get(g),g.lb()&&(d=g.data,
q=b.d));--t;b=q.length;if(d>=b||d<=-b)d%=b;0>d&&(d+=b);f.apply(q[d],e)};d.prototype.du=function(g){var b=this.ae,e=this.La,c=this.R,a=this.ad,f=this.Xc,d=this.rb,p=this.Kc.ge,q=b.Ca(),k=q.$c();if(!k.length)if(q.Y.length)k=q.Y;else{this.wg?g.Pb(""):g.Da(0);return}e[0]=g;g.Df=b;g=h();m(c,e,g);a&&(a.get(g),g.lb()&&(p=g.data,k=b.d));--t;c=k.length;if(p>=c||p<=-c)p%=c;0>p&&(p+=c);p=k[p];k=0;b.G&&(k=p.type.Wf[b.Sd]);d.apply(p.H[f+k],e)};d.prototype.lu=function(g){var b=this.ad,e=this.ae,c=this.Jr,a=this.Kc.ge,
f=e.Ca(),d=f.$c();if(!d.length)if(f.Y.length)d=f.Y;else{this.wg?g.Pb(""):g.Da(0);return}if(b){f=h();b.get(f);if(f.lb()){a=f.data;d=e.d;0!==d.length&&(a%=d.length,0>a&&(a+=d.length));a=e.zl(a);e=a.Za[c];T(e)?g.Pb(e):g.r(e);--t;return}--t}b=d.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=d[a];d=0;e.G&&(d=a.type.bj[e.Sd]);e=a.Za[c+d];T(e)?g.Pb(e):g.r(e)};d.prototype.mu=function(g){g.type=$b.Qf;g.data=this.value};d.prototype.iu=function(g){g.type=$b.Pf;g.data=this.value};d.prototype.vu=function(g){g.type=
$b.String;g.data=this.value};d.prototype.yu=function(g){this.first.get(g);g.lb()&&(g.data=-g.data)};d.prototype.Yt=function(g){this.first.get(g);var b=h();this.second.get(b);g.lb()&&b.lb()&&(g.data+=b.data,b.bg()&&g.ng());--t};d.prototype.wu=function(g){this.first.get(g);var b=h();this.second.get(b);g.lb()&&b.lb()&&(g.data-=b.data,b.bg()&&g.ng());--t};d.prototype.qu=function(g){this.first.get(g);var b=h();this.second.get(b);g.lb()&&b.lb()&&(g.data*=b.data,b.bg()&&g.ng());--t};d.prototype.fu=function(g){this.first.get(g);
var b=h();this.second.get(b);g.lb()&&b.lb()&&(g.data/=b.data,g.ng());--t};d.prototype.pu=function(g){this.first.get(g);var b=h();this.second.get(b);g.lb()&&b.lb()&&(g.data%=b.data,b.bg()&&g.ng());--t};d.prototype.uu=function(g){this.first.get(g);var b=h();this.second.get(b);g.lb()&&b.lb()&&(g.data=Math.pow(g.data,b.data),b.bg()&&g.ng());--t};d.prototype.Zt=function(g){this.first.get(g);var b=h();this.second.get(b);b.fg()||g.fg()?this.au(g,b):this.$t(g,b);--t};d.prototype.au=function(g,b){g.fg()&&
b.fg()?this.cu(g,b):this.bu(g,b)};d.prototype.cu=function(g,b){g.data+=b.data};d.prototype.bu=function(g,b){g.fg()?g.data+=(Math.round(1E10*b.data)/1E10).toString():g.Pb(g.data.toString()+b.data)};d.prototype.$t=function(g,b){g.Da(g.data&&b.data?1:0)};d.prototype.tu=function(g){this.first.get(g);var b=h();this.second.get(b);g.lb()&&b.lb()&&(g.data||b.data?g.Da(1):g.Da(0));--t};d.prototype.eu=function(g){this.first.get(g);g.data?this.second.get(g):this.vk.get(g)};d.prototype.gu=function(g){this.first.get(g);
var b=h();this.second.get(b);g.Da(g.data===b.data?1:0);--t};d.prototype.ru=function(g){this.first.get(g);var b=h();this.second.get(b);g.Da(g.data!==b.data?1:0);--t};d.prototype.nu=function(g){this.first.get(g);var b=h();this.second.get(b);g.Da(g.data<b.data?1:0);--t};d.prototype.ou=function(g){this.first.get(g);var b=h();this.second.get(b);g.Da(g.data<=b.data?1:0);--t};d.prototype.ju=function(g){this.first.get(g);var b=h();this.second.get(b);g.Da(g.data>b.data?1:0);--t};d.prototype.ku=function(g){this.first.get(g);
var b=h();this.second.get(b);g.Da(g.data>=b.data?1:0);--t};d.prototype.hu=function(g){var b=this.nf.Wu();ga(b)?g.r(b):g.Pb(b)};Xb=d;q.prototype.bg=function(){return this.type===$b.Pf};q.prototype.lb=function(){return this.type===$b.Qf||this.type===$b.Pf};q.prototype.fg=function(){return this.type===$b.String};q.prototype.ng=function(){this.bg()||(this.fg()&&(this.data=parseFloat(this.data)),this.type=$b.Pf)};q.prototype.Da=function(g){this.type=$b.Qf;this.data=Math.floor(g)};q.prototype.r=function(g){this.type=
$b.Pf;this.data=g};q.prototype.Pb=function(g){this.type=$b.String;this.data=g};q.prototype.Bw=function(g){ga(g)?(this.type=$b.Pf,this.data=g):T(g)?(this.type=$b.String,this.data=g.toString()):(this.type=$b.Qf,this.data=0)};Wb=q;$b={Qf:0,Pf:1,String:2}})();function Z(d){this.b=d;this.oc=[]}
Z.prototype.gb=function(){var d={},h,m,q,r,t,g,b,e;d.waits=[];var c=d.waits,a;h=0;for(m=this.oc.length;h<m;h++){g=this.oc[h];a={t:g.time,st:g.Dw,s:g.dr,ev:g.Ug.W,sm:[],sols:{}};g.Ug.Tc[g.Cc]&&(a.act=g.Ug.Tc[g.Cc].W);q=0;for(r=g.Sa.length;q<r;q++)a.sm.push(g.Sa[q].W);for(t in g.nc)if(g.nc.hasOwnProperty(t)){b=this.b.p[parseInt(t,10)];e={sa:g.nc[t].Pq,insts:[]};q=0;for(r=g.nc[t].uf.length;q<r;q++)e.insts.push(g.nc[t].uf[q].uid);a.sols[b.W.toString()]=e}c.push(a)}return d};
Z.prototype.sb=function(d){d=d.waits;var h,m,q,r,t,g,b,e,c,a,f;W(this.oc);h=0;for(m=d.length;h<m;h++)if(g=d[h],e=this.b.ro[g.ev.toString()]){c=-1;q=0;for(r=e.Tc.length;q<r;q++)if(e.Tc[q].W===g.act){c=q;break}if(-1!==c){b={nc:{},Sa:[],Do:!1};b.time=g.t;b.Dw=g.st||"";b.dr=!!g.s;b.Ug=e;b.Cc=c;q=0;for(r=g.sm.length;q<r;q++)(e=this.b.mj(g.sm[q]))&&b.Sa.push(e);for(t in g.sols)if(g.sols.hasOwnProperty(t)&&(e=this.b.mj(parseInt(t,10)))){c=g.sols[t];a={Pq:c.sa,uf:[]};q=0;for(r=c.insts.length;q<r;q++)(f=this.b.Zg(c.insts[q]))&&
a.uf.push(f);b.nc[e.index.toString()]=a}this.oc.push(b)}}};
(function(){function d(){}function h(){}var m=Z.prototype;d.prototype.ts=function(){return!0};d.prototype.rs=function(){return!0};d.prototype.Or=function(d,g,b){return ac(d,g,b)};d.prototype.Rr=function(d){var g=this.b.So(),b=g.u.Every_lastTime||0,e=this.b.mb.X;"undefined"===typeof g.u.Every_seconds&&(g.u.Every_seconds=d);var c=g.u.Every_seconds;if(e>=b+c)return g.u.Every_lastTime=b+c,e>=g.u.Every_lastTime+.04&&(g.u.Every_lastTime=e),g.u.Every_seconds=d,!0;e<b-.1&&(g.u.Every_lastTime=e);return!1};
d.prototype.Rn=function(){var d=this.b.gc();return d.ml?!1:!d.xf};d.prototype.Wn=function(){return!0};d.prototype.cs=function(){return!0};d.prototype.Jk=function(){return!0};d.prototype.us=function(){return!0};d.prototype.Ik=function(){return!0};d.prototype.Lr=function(d,g,b){return La(X(d),X(b))<=X(g)};d.prototype.Ur=function(d,g){return Oa(X(d),X(g))};d.prototype.Tr=function(d,g,b){d=Ka(d);g=Ka(g);b=Ka(b);return Oa(b,g)?Oa(d,g)&&!Oa(d,b):!(!Oa(d,g)&&Oa(d,b))};m.e=new d;var q=[],r=[];m.ka=new function(){};
h.prototype["int"]=function(d,g){T(g)?(d.Da(parseInt(g,10)),isNaN(d.data)&&(d.data=0)):d.Da(g)};h.prototype["float"]=function(d,g){T(g)?(d.r(parseFloat(g)),isNaN(d.data)&&(d.data=0)):d.r(g)};h.prototype.random=function(d,g,b){void 0===b?d.r(Math.random()*g):d.r(Math.random()*(b-g)+g)};h.prototype.sqrt=function(d,g){d.r(Math.sqrt(g))};h.prototype.abs=function(d,g){d.r(Math.abs(g))};h.prototype.round=function(d,g){d.Da(Math.round(g))};h.prototype.floor=function(d,g){d.Da(Math.floor(g))};h.prototype.ceil=
function(d,g){d.Da(Math.ceil(g))};h.prototype.sin=function(d,g){d.r(Math.sin(X(g)))};h.prototype.cos=function(d,g){d.r(Math.cos(X(g)))};h.prototype.tan=function(d,g){d.r(Math.tan(X(g)))};h.prototype.asin=function(d,g){d.r(Ga(Math.asin(g)))};h.prototype.acos=function(d,g){d.r(Ga(Math.acos(g)))};h.prototype.atan=function(d,g){d.r(Ga(Math.atan(g)))};h.prototype.exp=function(d,g){d.r(Math.exp(g))};h.prototype.log10=function(d,g){d.r(Math.log(g)/Math.LN10)};h.prototype.max=function(d){var g=arguments[1];
"number"!==typeof g&&(g=0);var b,e,c;b=2;for(e=arguments.length;b<e;b++)c=arguments[b],"number"===typeof c&&g<c&&(g=c);d.r(g)};h.prototype.min=function(d){var g=arguments[1];"number"!==typeof g&&(g=0);var b,e,c;b=2;for(e=arguments.length;b<e;b++)c=arguments[b],"number"===typeof c&&g>c&&(g=c);d.r(g)};h.prototype.jf=function(d){d.r(this.b.jf)};h.prototype.Nf=function(d){d.r(this.b.Nf)};h.prototype.time=function(d){d.r(this.b.mb.X)};h.prototype.jd=function(d){d.Da(this.b.jd)};h.prototype.Qj=function(d){d.Da(this.b.Qj)};
h.prototype.rl=function(d){d.Da(this.b.rl)};h.prototype.i=function(d,g,b,e,c){d.r(Ga(Y(g,b,e,c)))};h.prototype.left=function(d,g,b){d.Pb(T(g)?g.substr(0,b):"")};h.prototype.right=function(d,g,b){d.Pb(T(g)?g.substr(g.length-b):"")};h.prototype.replace=function(d,g,b,e){T(g)&&T(b)&&T(e)?d.Pb(g.replace(new RegExp(cb(b),"gi"),e)):d.Pb(T(g)?g:"")};h.prototype.trim=function(d,g){d.Pb(T(g)?g.trim():"")};h.prototype.lt=function(d){var g=U(Math.random()*(arguments.length-1));d.Bw(arguments[g+1])};h.prototype.fl=
function(d){d.r(this.b.fl/1E3)};h.prototype.lg=function(d){d.r(this.b.lg)};m.Ba=new h;m.lw=function(){var d,g,b,e,c,a,f=this.b.gc();d=0;for(b=this.oc.length;d<b;d++){e=this.oc[d];if(-1===e.time){if(!e.dr)continue}else if(e.time>this.b.mb.X)continue;f.Zc=e.Ug;f.Cc=e.Cc;f.ec=0;for(g in e.nc)e.nc.hasOwnProperty(g)&&(c=this.b.p[parseInt(g,10)].Ca(),a=e.nc[g],c.Ma=a.Pq,ya(c.d,a.uf),c=a,W(c.uf),r.push(c));e.Ug.kw();this.b.dl(e.Sa);e.Do=!0}g=d=0;for(b=this.oc.length;d<b;d++)e=this.oc[d],this.oc[g]=e,e.Do?
(Ua(e.nc),W(e.Sa),q.push(e)):g++;wa(this.oc,g)}})();
(function(){mb=function(d,m){var q=d[1],r=d[3],t=d[4],g=d[5],b=d[6],e=d[7],c=d[8];m.e||(m.e={});m.ka||(m.ka={});m.Ba||(m.Ba={});var a=m.e,f=m.ka,l=m.Ba;r&&(a.ax=function(a,b){return ac(this.x,a,b)},a.bx=function(a,b){return ac(this.y,a,b)},a.kx=function(){var a=this.g;this.ya();var b=this.Ea;return!(b.right<a.qa||b.bottom<a.ra||b.left>a.Aa||b.top>a.za)},a.lx=function(){this.ya();var a=this.Ea,b=this.b.xa;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.zx=function(a,b,c){var e=this.Ca(),
f=e.$c();if(!f.length)return!1;var d=f[0],g=d,h=Ra(d.x,d.y,b,c),l,m,q;l=1;for(m=f.length;l<m;l++)if(d=f[l],q=Ra(d.x,d.y,b,c),0===a&&q<h||1===a&&q>h)h=q,g=d;e.Rh(g);return!0},f.Px=function(a){this.x!==a&&(this.x=a,this.ea())},f.Qx=function(a){this.y!==a&&(this.y=a,this.ea())},f.Js=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ea()},f.Mx=function(a,b){var c=a.Pu(this);if(c){var e;c.yl?(e=c.yl(b,!0),c=c.yl(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.ea()}},
f.rx=function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.ea())},f.qx=function(a,b){0!==b&&(this.x+=Math.cos(X(a))*b,this.y+=Math.sin(X(a))*b,this.ea())},l.Kk=function(a){a.r(this.x)},l.Lk=function(a){a.r(this.y)},l.jf=function(a){a.r(this.b.kj(this))});t&&(a.$w=function(a,b){return ac(this.width,a,b)},a.Pr=function(a,b){return ac(this.height,a,b)},f.Os=function(a){this.width!==a&&(this.width=a,this.ea())},f.Hs=function(a){this.height!==a&&(this.height=a,this.ea())},f.Nx=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ea()},l.Tx=function(a){a.r(this.width)},l.Sr=function(a){a.r(this.height)},l.Vw=function(a){this.ya();a.r(this.Ea.left)},l.Xw=function(a){this.ya();a.r(this.Ea.top)},l.Ww=function(a){this.ya();a.r(this.Ea.right)},l.Uw=function(a){this.ya();a.r(this.Ea.bottom)});g&&(a.Lr=function(a,b){return La(this.i,X(b))<=X(a)},a.Ur=function(a){return Oa(this.i,X(a))},a.Tr=function(a,b){var c=Ka(a),e=Ka(b),f=Ia(this.i);return Oa(e,
c)?Oa(f,c)&&!Oa(f,e):!(!Oa(f,c)&&Oa(f,e))},f.Hx=function(a){a=X(Ha(a));isNaN(a)||this.i===a||(this.i=a,this.ea())},f.Dx=function(a){0===a||isNaN(a)||(this.i+=X(a),this.i=Ia(this.i),this.ea())},f.Ex=function(a){0===a||isNaN(a)||(this.i-=X(a),this.i=Ia(this.i),this.ea())},f.Fx=function(a,b){var c=Na(this.i,X(b),X(a));isNaN(c)||this.i===c||(this.i=c,this.ea())},f.Gx=function(a,b,c){a=Na(this.i,Math.atan2(c-this.y,b-this.x),X(a));isNaN(a)||this.i===a||(this.i=a,this.ea())},f.Ox=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.i===c||(this.i=c,this.ea())},l.Tw=function(a){a.r(Ja(this.i))});q||(a.Qr=function(a,b,c){return ac(this.Za[a],b,c)},a.ix=function(a){return this.Za[a]},a.Ax=function(a,b){var c=this.Ca(),e=c.$c();if(!e.length)return!1;var f=e[0],d=f,g=f.Za[b],h,l,m;h=1;for(l=e.length;h<l;h++)if(f=e[h],m=f.Za[b],0===a&&m<g||1===a&&m>g)g=m,d=f;c.Rh(d);return!0},a.yx=function(a){var b,c,e,f,d;if(this.b.So().Rl){d=this.Ca();if(d.Ma)for(d.Ma=!1,W(d.d),W(d.Y),e=this.d,b=0,c=e.length;b<c;b++)f=
e[b],f.uid===a?d.Y.push(f):d.d.push(f);else{e=b=0;for(c=d.d.length;b<c;b++)f=d.d[b],d.d[e]=f,f.uid===a?d.Y.push(f):e++;wa(d.d,e)}this.qe();return!!d.d.length}f=this.b.Zg(a);if(!f)return!1;d=this.Ca();if(!d.Ma&&-1===d.d.indexOf(f))return!1;if(this.G)for(a=f.type.Ga,b=0,c=a.length;b<c;b++){if(a[b]===this)return d.Rh(f),this.qe(),!0}else if(f.type===this)return d.Rh(f),this.qe(),!0;return!1},a.Hk=function(){return!0},a.es=function(){return!0},f.Lx=function(a,b){var c=this.Za;ga(c[a])?c[a]=ga(b)?b:parseFloat(b):
T(c[a])&&(c[a]=T(b)?b:b.toString())},f.Sw=function(a,b){var c=this.Za;ga(c[a])?c[a]=ga(b)?c[a]+b:c[a]+parseFloat(b):T(c[a])&&(c[a]=T(b)?c[a]+b:c[a]+b.toString())},f.Qs=function(a,b){var c=this.Za;ga(c[a])&&(c[a]=ga(b)?c[a]-b:c[a]-parseFloat(b))},f.Ix=function(a,b){this.Za[a]=b?1:0},f.Rx=function(a){this.Za[a]=1-this.Za[a]},f.gx=function(){this.b.Ye(this)},f.Yr||(f.Yr=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.Fj(this,b,!0);this.od&&this.od();if(this.H)for(a=0,b=this.H.length;a<
b;++a)c=this.H[a],c.od&&c.od()}),l.cx=function(a){var b=a.Df.d.length,c,e,f;c=0;for(e=this.b.Yc.length;c<e;c++)f=this.b.Yc[c],a.Df.G?0<=f.type.Ga.indexOf(a.Df)&&b++:f.type===a.Df&&b++;a.Da(b)},l.Cx=function(a){a.Da(a.Df.Ca().$c().length)},l.Sx=function(a){a.Da(this.uid)},l.hx=function(a){a.Da(this.ah())},l.Qn||(l.Qn=function(a){a.Pb(JSON.stringify(this.b.jn(this,!0)))}));b&&(a.mx=function(){return this.visible},f.Ns=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.da=!0)},a.Zw=function(a,
b){return ac(ib(100*this.opacity),a,b)},f.Is=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.da=!0)},l.Opacity=function(a){a.r(ib(100*this.opacity))});e&&(a.jx=function(a){return a?this.g===a:!1},a.Bx=function(a){var b=this.Ca(),c=b.$c();if(!c.length)return!1;var e=c[0],f=e,d,g;d=1;for(g=c.length;d<g;d++)if(e=c[d],0===a){if(e.g.index>f.g.index||e.g.index===f.g.index&&e.xd()>f.xd())f=e}else if(e.g.index<f.g.index||e.g.index===f.g.index&&e.xd()<f.xd())f=e;b.Rh(f);return!0},
f.vx=function(){var a=this.g,b=a.d;b.length&&b[b.length-1]===this||(a.vg(this,!1),a.Kg(this,!1),this.b.da=!0)},f.tx=function(){var a=this.g,b=a.d;b.length&&b[0]===this||(a.vg(this,!1),a.Zv(this),this.b.da=!0)},f.ux=function(a){a&&a!=this.g&&(this.g.vg(this,!0),this.g=a,a.Kg(this,!0),this.b.da=!0)},f.Vx=function(a,b){var c=0===a;if(b){var e=b.Vo(this);e&&e.uid!==this.uid&&(this.g.index!==e.g.index&&(this.g.vg(this,!0),this.g=e.g,e.g.Kg(this,!0)),this.g.Jv(this,e,c),this.b.da=!0)}},l.ox=function(a){a.Da(this.g.kq)},
l.nx=function(a){a.Pb(this.g.name)},l.Ux=function(a){a.Da(this.xd())});c&&(f.Jx=function(a,b){if(this.b.n){var c=this.type.xl(b);if(!(0>c)){var e=1===a;this.oe[c]!==e&&(this.oe[c]=e,this.ld(),this.b.da=!0)}}},f.Kx=function(a,b,c){if(this.b.n){var e=this.type.xl(a);0>e||(a=this.type.M[e],e=this.Ka[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.n.Uu(a.Wa,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.pc&&(this.b.da=!0))))}})};Gb=function(){this.Yk=this.Sk=!0;this.type.xi=!0;this.b.da=!0;var d,m,q=this.Tk;d=0;for(m=
q.length;d<m;++d)q[d](this);this.g.Bc&&this.ya()};Hb=function(d){d&&this.Tk.push(d)};Jb=function(){if(this.Sk){var d=this.Ea,m=this.pb;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.Ub*this.width,-this.Vb*this.height);this.i?(d.offset(-this.x,-this.y),m.Zq(d,this.i),m.offset(this.x,this.y),m.so(d)):m.If(d);d.normalize();this.Sk=!1;this.Mw()}};var d=new qa(0,0,0,0);Kb=function(){if(this.g.Bc){var h=this.g.ub,m=this.Ea;d.set(h.Qb(m.left),h.Rb(m.top),h.Qb(m.right),h.Rb(m.bottom));
this.Zb.Tg(d)||(this.Zb.right<this.Zb.left?h.update(this,null,d):h.update(this,this.Zb,d),this.Zb.Ng(d),this.g.gd=!0)}};Lb=function(){if(this.Yk&&this.Ld){this.ya();var h=this.type.Ji,m=this.Ea;d.set(h.Qb(m.left),h.Rb(m.top),h.Qb(m.right),h.Rb(m.bottom));this.we.Tg(d)||(this.we.right<this.we.left?h.update(this,null,d):h.update(this,this.we,d),this.we.Ng(d),this.Yk=!1)}};Ib=function(d,m){return this.Ea.Lb(d,m)&&this.pb.Lb(d,m)?this.N&&!this.N.De()?(this.N.te(this.width,this.height,this.i),this.N.Lb(d-
this.x,m-this.y)):!0:!1};Cb=function(){this.type.Ak();return this.sf};Mb=function(){this.g.In();return this.md};Nb=function(){W(this.ba);var d,m,q,r=!0;d=0;for(m=this.oe.length;d<m;d++)this.oe[d]&&(q=this.type.M[d],this.ba.push(q),q.Lc||(r=!1));this.Ir=!!this.ba.length;this.fe=r};Db=function(){return"Inst"+this.Jq};pb=function(d){if(d&&d.Hc&&d.type!=this){var m,q,r;m=0;for(q=d.siblings.length;m<q;m++)if(r=d.siblings[m],r.type==this)return r}d=this.Ca().$c();return d.length?d[0]:null};qb=function(d){var m=
this.Ca().$c();return m.length?m[d.ah()%m.length]:null};ob=function(){if(this.zg&&!this.G){var d,m;d=0;for(m=this.d.length;d<m;d++)this.d[d].sf=d;var q=d,r=this.b.Yc;d=0;for(m=r.length;d<m;++d)r[d].type===this&&(r[d].sf=q++);this.zg=!1}};Ab=function(d){if(d<this.d.length)return this.d[d];d-=this.d.length;var m=this.b.Yc,q,r;q=0;for(r=m.length;q<r;++q)if(m[q].type===this){if(0===d)return m[q];--d}return null};rb=function(){return this.he[this.sd]};sb=function(){this.sd++;this.sd===this.he.length?this.he.push(new nb(this)):
(this.he[this.sd].Ma=!0,W(this.he[this.sd].Y))};tb=function(){this.sd++;this.sd===this.he.length&&this.he.push(new nb(this));var d=this.he[this.sd],m=this.he[this.sd-1];m.Ma?(d.Ma=!0,W(d.Y)):(d.Ma=!1,ya(d.d,m.d),ya(d.Y,m.Y))};ub=function(){this.sd--};vb=function(d){var m,q,r,t,g,b=0;if(!this.G)for(m=0,q=this.Ga.length;m<q;m++)for(g=this.Ga[m],r=0,t=g.Ja.length;r<t;r++){if(d===g.Ja[r].name)return this.u.lastBehIndex=b,g.Ja[r];b++}m=0;for(q=this.Ja.length;m<q;m++){if(d===this.Ja[m].name)return this.u.lastBehIndex=
b,this.Ja[m];b++}return null};wb=function(d){return this.jj(d)?this.u.lastBehIndex:-1};xb=function(d){var m,q;m=0;for(q=this.M.length;m<q;m++)if(this.M[m].name===d)return m;return-1};yb=function(){if(this.Hc&&!this.G){var d,m,q,r,t,g,b;this.Ak();g=this.Ca();var e=g.Ma,c=(d=this.b.gc())&&d.Zc&&d.Zc.Ad;d=0;for(m=this.fc.length;d<m;d++)if(t=this.fc[d],t!==this&&(t.Ak(),b=t.Ca(),b.Ma=e,!e)){W(b.d);q=0;for(r=g.d.length;q<r;++q)b.d[q]=t.zl(g.d[q].sf);if(c)for(W(b.Y),q=0,r=g.Y.length;q<r;++q)b.Y[q]=t.zl(g.Y[q].sf)}}};
Bb=function(){return"Type"+this.W};ac=function(d,m,q){if("undefined"===typeof d||"undefined"===typeof q)return!1;switch(m){case 0:return d===q;case 1:return d!==q;case 2:return d<q;case 3:return d<=q;case 4:return d>q;case 5:return d>=q;default:return!1}}})();
var jc={multiply:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nfront *= back;\ngl_FragColor = front;\n}",Zi:0,$i:0,hl:!0,Lc:!1,Pk:!1,R:[]}};function oc(d){this.b=d}
(function(){function d(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function h(a){a=a.toLowerCase();return V.hasOwnProperty(a)&&V[a].length?V[a][0].tc():y.destination}function m(){return y.createGain?y.createGain():y.createGainNode()}function q(a){return y.createDelay?y.createDelay(a):y.createDelayNode(a)}function r(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function t(a,b,c,e){a.start?a.start(e||0,b):a.noteGrainOn(e||0,b,c-b)}function g(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}
function b(a,b,c,e,f,d){this.type="filter";this.dd=[a,b,c,e,f,d];this.Z=m();this.K=m();this.K.gain.value=d;this.I=m();this.I.gain.value=1-d;this.Ta=y.createBiquadFilter();this.Ta.type="number"===typeof this.Ta.type?a:Ec[a];this.Ta.frequency.value=b;this.Ta.detune&&(this.Ta.detune.value=c);this.Ta.Q.value=e;this.Ta.gain.value=f;this.Z.connect(this.Ta);this.Z.connect(this.I);this.Ta.connect(this.K)}function e(a,b,c){this.type="delay";this.dd=[a,b,c];this.Z=m();this.K=m();this.K.gain.value=c;this.I=
m();this.I.gain.value=1-c;this.Jh=m();this.Ec=q(a);this.Ec.delayTime.value=a;this.Si=m();this.Si.gain.value=b;this.Z.connect(this.Jh);this.Z.connect(this.I);this.Jh.connect(this.K);this.Jh.connect(this.Ec);this.Ec.connect(this.Si);this.Si.connect(this.Jh)}function c(a,b,c,e){this.type="convolve";this.dd=[b,c,e];this.Z=m();this.K=m();this.K.gain.value=c;this.I=m();this.I.gain.value=1-c;this.ef=y.createConvolver();a&&(this.ef.normalize=b,this.ef.buffer=a);this.Z.connect(this.ef);this.Z.connect(this.I);
this.ef.connect(this.K)}function a(a,b,c,e,f){this.type="flanger";this.dd=[a,b,c,e,f];this.Z=m();this.I=m();this.I.gain.value=1-f/2;this.K=m();this.K.gain.value=f/2;this.cj=m();this.cj.gain.value=e;this.Ec=q(a+b);this.Ec.delayTime.value=a;this.ob=y.createOscillator();this.ob.frequency.value=c;this.lc=m();this.lc.gain.value=b;this.Z.connect(this.Ec);this.Z.connect(this.I);this.Ec.connect(this.K);this.Ec.connect(this.cj);this.cj.connect(this.Ec);this.ob.connect(this.lc);this.lc.connect(this.Ec.delayTime);
r(this.ob)}function f(a,b,c,e,f,d){this.type="phaser";this.dd=[a,b,c,e,f,d];this.Z=m();this.I=m();this.I.gain.value=1-d/2;this.K=m();this.K.gain.value=d/2;this.Ta=y.createBiquadFilter();this.Ta.type="number"===typeof this.Ta.type?7:"allpass";this.Ta.frequency.value=a;this.Ta.detune&&(this.Ta.detune.value=b);this.Ta.Q.value=c;this.ob=y.createOscillator();this.ob.frequency.value=f;this.lc=m();this.lc.gain.value=e;this.Z.connect(this.Ta);this.Z.connect(this.I);this.Ta.connect(this.K);this.ob.connect(this.lc);
this.lc.connect(this.Ta.frequency);r(this.ob)}function l(a){this.type="gain";this.dd=[a];this.aa=m();this.aa.gain.value=a}function p(a,b){this.type="tremolo";this.dd=[a,b];this.aa=m();this.aa.gain.value=1-b/2;this.ob=y.createOscillator();this.ob.frequency.value=a;this.lc=m();this.lc.gain.value=b/2;this.ob.connect(this.lc);this.lc.connect(this.aa.gain);r(this.ob)}function B(a,b){this.type="ringmod";this.dd=[a,b];this.Z=m();this.K=m();this.K.gain.value=b;this.I=m();this.I.gain.value=1-b;this.Xh=m();
this.Xh.gain.value=0;this.ob=y.createOscillator();this.ob.frequency.value=a;this.ob.connect(this.Xh.gain);r(this.ob);this.Z.connect(this.Xh);this.Z.connect(this.I);this.Xh.connect(this.K)}function k(a,b,c,e,f){this.type="distortion";this.dd=[a,b,c,e,f];this.Z=m();this.ak=m();this.$j=m();this.uw(c,Math.pow(10,e/20));this.K=m();this.K.gain.value=f;this.I=m();this.I.gain.value=1-f;this.Ek=y.createWaveShaper();this.Qi=new Float32Array(65536);this.Gu(a,b);this.Ek.Qi=this.Qi;this.Z.connect(this.ak);this.Z.connect(this.I);
this.ak.connect(this.Ek);this.Ek.connect(this.$j);this.$j.connect(this.K)}function J(a,b,c,e,f){this.type="compressor";this.dd=[a,b,c,e,f];this.aa=y.createDynamicsCompressor();try{this.aa.threshold.value=a,this.aa.knee.value=b,this.aa.ratio.value=c,this.aa.attack.value=e,this.aa.release.value=f}catch(d){}}function n(a,b){this.type="analyser";this.dd=[a,b];this.aa=y.createAnalyser();this.aa.fftSize=a;this.aa.smoothingTimeConstant=b;this.Eu=new Float32Array(this.aa.frequencyBinCount);this.cr=new Uint8Array(a);
this.Qh=0}function w(){this.J=null;this.Hj=0;this.Ve=[];this.xm=this.yj=this.xj=0}function C(a,b){this.src=a;this.V=G;this.Ic=b;this.wi=!1;var c=this;this.vm=this.Pm=null;this.tg=[];this.hk=0;this.Nn=this.aj=this.jr=this.Wj=!1;1===G&&b&&!Fa&&(this.V=0,this.Pm=m());this.Kd=this.ca=null;var e;switch(this.V){case 0:this.ca=new Audio;this.ca.crossOrigin="anonymous";this.ca.addEventListener("canplaythrough",function(){c.Nn=!0});1===G&&y.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.jr=
!0,this.ca.addEventListener("canplay",function(){c.vm||(c.vm=y.createMediaElementSource(c.ca),c.vm.connect(c.Pm))}));this.ca.autoplay=!1;this.ca.jy="auto";this.ca.src=a;break;case 1:A.qh?A.Ko(a,function(a){c.Kd=a;c.Co()},function(){c.aj=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.Kd=e.response;c.Co()},e.onerror=function(){c.aj=!0},e.send());break;case 2:this.ca=!0;break;case 3:this.ca=!0}}function D(a,b){var c=this;this.tag=b;this.ac=this.wd=!0;
this.src=a.src;this.buffer=a;this.V=G;this.Ic=a.Ic;this.playbackRate=1;this.Zf=!0;this.jc=this.zc=!1;this.$b=0;this.rh=this.dg=this.yd=!1;this.volume=1;this.Mm=function(a){if(!c.jc&&!c.zc){var b=this;b||(b=a.target);b===c.vi&&(c.Zf=!0,c.ac=!0,M=c.tag,A.trigger(oc.prototype.e.ti,F))}};this.vi=null;this.$f=1===H&&!this.Ic||2===H;this.pg=1;this.startTime=this.$f?A.mb.X:A.le.X;this.Qa=this.Ya=null;this.Bd=!1;this.Pa=null;this.xq=this.wq=this.vq=this.uq=this.zq=this.yq=0;this.j=null;var e=!1;1!==this.V||
0!==this.buffer.V||this.buffer.jr||(this.V=0);switch(this.V){case 0:this.Ic?(this.j=a.ca,e=!a.wi,a.wi=!0):(this.j=new Audio,this.j.crossOrigin="anonymous",this.j.autoplay=!1,this.j.src=a.ca.src,e=!0);e&&this.j.addEventListener("ended",function(){M=c.tag;c.ac=!0;A.trigger(oc.prototype.e.ti,F)});break;case 1:this.Ya=m();this.Ya.connect(h(b));1===this.buffer.V?a.ca&&(this.j=y.createBufferSource(),this.j.buffer=a.ca,this.j.connect(this.Ya)):(this.j=this.buffer.ca,this.buffer.Pm.connect(this.Ya),this.buffer.wi||
(this.buffer.wi=!0,this.buffer.ca.addEventListener("ended",function(){M=c.tag;c.ac=!0;A.trigger(oc.prototype.e.ti,F)})));break;case 2:this.j=new window.Media(S+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.Zf=!0,c.ac=!0,M=c.tag,A.trigger(oc.prototype.e.ti,F))});break;case 3:this.j=!0}}function L(a,b){V.hasOwnProperty(a)?V[a].push(b):V[a]=[b];var c,e,f,d,g=y.destination;if(V.hasOwnProperty(a)&&(f=V[a],f.length))for(g=f[0].tc(),c=0,e=f.length;c<e;c++)d=f[c],c+1===e?d.Dc(y.destination):
d.Dc(f[c+1].tc());W(Qa);if(a.length)for(c=0,e=v.length;c<e;c++)f=v[c],jb(a,f.tag)&&Qa.push(f);else Ba&&!Ba.rf()&&(W(Qa),Qa[0]=Ba);c=0;for(e=Qa.length;c<e;c++)Qa[c].dw(g);ha&&zb===a&&(ha.disconnect(),ha.connect(g))}function P(){}var N=oc.prototype;N.S=function(a){this.na=a;this.b=a.b};N.S.prototype.C=function(){};var A=null,F=null,M="",S="",G=0,y=null,u=[],v=[],Ba=null,E=!1,H=0,K=!1,Q=1,x=0,I=0,O=!1,ua=1,R=1,xa=10,ma=1E4,Ma=1,ha=null,zb="",aa=!1,Ca=[],Fa=!1,V={},Ec="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
b.prototype.Dc=function(a){this.K.disconnect();this.K.connect(a);this.I.disconnect();this.I.connect(a)};b.prototype.remove=function(){this.Z.disconnect();this.Ta.disconnect();this.K.disconnect();this.I.disconnect()};b.prototype.tc=function(){return this.Z};e.prototype.Dc=function(a){this.K.disconnect();this.K.connect(a);this.I.disconnect();this.I.connect(a)};e.prototype.remove=function(){this.Z.disconnect();this.Jh.disconnect();this.Ec.disconnect();this.Si.disconnect();this.K.disconnect();this.I.disconnect()};
e.prototype.tc=function(){return this.Z};c.prototype.Dc=function(a){this.K.disconnect();this.K.connect(a);this.I.disconnect();this.I.connect(a)};c.prototype.remove=function(){this.Z.disconnect();this.ef.disconnect();this.K.disconnect();this.I.disconnect()};c.prototype.tc=function(){return this.Z};a.prototype.Dc=function(a){this.I.disconnect();this.I.connect(a);this.K.disconnect();this.K.connect(a)};a.prototype.remove=function(){this.Z.disconnect();this.Ec.disconnect();this.ob.disconnect();this.lc.disconnect();
this.I.disconnect();this.K.disconnect();this.cj.disconnect()};a.prototype.tc=function(){return this.Z};f.prototype.Dc=function(a){this.I.disconnect();this.I.connect(a);this.K.disconnect();this.K.connect(a)};f.prototype.remove=function(){this.Z.disconnect();this.Ta.disconnect();this.ob.disconnect();this.lc.disconnect();this.I.disconnect();this.K.disconnect()};f.prototype.tc=function(){return this.Z};l.prototype.Dc=function(a){this.aa.disconnect();this.aa.connect(a)};l.prototype.remove=function(){this.aa.disconnect()};
l.prototype.tc=function(){return this.aa};p.prototype.Dc=function(a){this.aa.disconnect();this.aa.connect(a)};p.prototype.remove=function(){this.ob.disconnect();this.lc.disconnect();this.aa.disconnect()};p.prototype.tc=function(){return this.aa};B.prototype.Dc=function(a){this.K.disconnect();this.K.connect(a);this.I.disconnect();this.I.connect(a)};B.prototype.remove=function(){this.ob.disconnect();this.Xh.disconnect();this.Z.disconnect();this.K.disconnect();this.I.disconnect()};B.prototype.tc=function(){return this.Z};
k.prototype.uw=function(a,b){.01>a&&(a=.01);this.ak.gain.value=a;this.$j.gain.value=Math.pow(1/a,.6)*b};k.prototype.shape=function(a,b,c){var e=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+e*(1-Math.exp(-(1/e)*(a-b)));return b*c};k.prototype.Gu=function(a,b){for(var c=Math.pow(10,a/20),e=Math.pow(10,b/20),f=0,d=0;32768>d;++d)f=d/32768,f=this.shape(f,c,e),this.Qi[32768+d]=f,this.Qi[32768-d-1]=-f};k.prototype.Dc=function(a){this.K.disconnect();this.K.connect(a);this.I.disconnect();this.I.connect(a)};
k.prototype.remove=function(){this.Z.disconnect();this.ak.disconnect();this.Ek.disconnect();this.$j.disconnect();this.K.disconnect();this.I.disconnect()};k.prototype.tc=function(){return this.Z};J.prototype.Dc=function(a){this.aa.disconnect();this.aa.connect(a)};J.prototype.remove=function(){this.aa.disconnect()};J.prototype.tc=function(){return this.aa};n.prototype.Ia=function(){this.aa.getFloatFrequencyData(this.Eu);this.aa.getByteTimeDomainData(this.cr);for(var a=this.aa.fftSize,b=0,c=this.Qh=
0,e=0;b<a;b++)e=(this.cr[b]-128)/128,0>e&&(e=-e),this.Qh<e&&(this.Qh=e),c+=e*e;this.Qh=d(this.Qh);d(Math.sqrt(c/a))};n.prototype.Dc=function(a){this.aa.disconnect();this.aa.connect(a)};n.prototype.remove=function(){this.aa.disconnect()};n.prototype.tc=function(){return this.aa};w.prototype.Yh=function(a){if(this.J=a)this.xj=this.J.x,this.yj=this.J.y;W(this.Ve)};w.prototype.qj=function(){return!!this.J};w.prototype.Ia=function(a){this.J&&0!==a&&(this.xm=Y(this.xj,this.yj,this.J.x,this.J.y),a=Ra(this.xj,
this.yj,this.J.x,this.J.y)/a,4>this.Ve.length||this.Ve.shift(),this.Ve.push(a),this.xj=this.J.x,this.yj=this.J.y)};w.prototype.Zo=function(){if(!this.Ve.length)return 0;var a,b,c=0;a=0;for(b=this.Ve.length;a<b;a++)c+=this.Ve[a];return c/this.Ve.length};w.prototype.Dl=function(){return Math.cos(this.xm)*this.Zo()};w.prototype.El=function(){return Math.sin(this.xm)*this.Zo()};var Ac=!1;C.prototype.ew=function(){var a,b,c,e;c=a=0;for(b=v.length;a<b;++a)e=v[a],v[c]=e,e.buffer===this?e.stop():++c;v.length=
c;this.Kd=this.ca=null};C.prototype.Co=function(){if(!this.ca&&this.Kd){var a=this;if(y.decodeAudioData)y.decodeAudioData(this.Kd,function(b){a.ca=b;a.Kd=null;var c,e,f;if(fa(a.Yj)||K)fa(a.Li)||(c=a.Li.ef,c.normalize=a.jq,c.buffer=b);else if(a.tg.length){c=0;for(e=a.tg.length;c<e;c++){b=a.tg[c];f=new D(a,b.pr);f.Vq(!0);if("undefined"!==typeof b.lq&&(b.J=A.Zg(b.lq),!b.J))continue;if(b.J){var d=Pa(b.J.x,b.J.y,-b.J.g.Oa(),x,I,!0),g=Pa(b.J.x,b.J.y,-b.J.g.Oa(),x,I,!1);f.nn(d,g,Ga(b.J.i-b.J.g.Oa()),b.Kl,
b.Am,b.Em);f.Yh(b.J)}else f.nn(b.x,b.y,b.Us,b.Kl,b.Am,b.Em);f.play(a.um,a.Ln,a.hk);a.Wj&&f.pause();v.push(f)}W(a.tg)}else f=new D(a,a.Yj||""),f.play(a.um,a.Ln,a.hk),a.Wj&&f.pause(),v.push(f)},function(){a.aj=!0});else if(this.ca=y.createBuffer(this.Kd,!1),this.Kd=null,fa(this.Yj)||K)fa(this.Li)||(b=this.Li.ef,b.normalize=this.jq,b.buffer=this.ca);else{var b=new D(this,this.Yj);b.play(this.um,this.Ln,this.hk);this.Wj&&b.pause();v.push(b)}}};C.prototype.mp=function(){switch(this.V){case 0:var a=4<=
this.ca.readyState;a&&(this.Nn=!0);return a||this.Nn;case 1:return!!this.Kd||!!this.ca;case 2:return!0;case 3:return!0}return!1};C.prototype.yv=function(){switch(this.V){case 0:return this.mp();case 1:return!!this.ca;case 2:return!0;case 3:return!0}return!1};C.prototype.ov=function(){switch(this.V){case 0:return!!this.ca.error;case 1:return this.aj}return!1};D.prototype.rf=function(){switch(this.V){case 0:return this.j.ended;case 1:return 1===this.buffer.V?!this.wd&&!this.ac&&this.j.loop||this.jc?
!1:this.Zf:this.j.ended;case 2:return this.Zf;case 3:!0}return!0};D.prototype.jt=function(){return this.wd||this.ac?!0:this.rf()};D.prototype.Vq=function(a){1===G&&(!this.Bd&&a?this.Ya&&(this.Qa||(this.Qa=y.createPanner(),this.Qa.panningModel="number"===typeof this.Qa.panningModel?ua:["equalpower","HRTF","soundfield"][ua],this.Qa.distanceModel="number"===typeof this.Qa.distanceModel?R:["linear","inverse","exponential"][R],this.Qa.refDistance=xa,this.Qa.maxDistance=ma,this.Qa.rolloffFactor=Ma),this.Ya.disconnect(),
this.Ya.connect(this.Qa),this.Qa.connect(h(this.tag)),this.Bd=!0):this.Bd&&!a&&this.Ya&&(this.Qa.disconnect(),this.Ya.disconnect(),this.Ya.connect(h(this.tag)),this.Bd=!1))};D.prototype.nn=function(a,b,c,e,f,d){this.Bd&&1===G&&(this.Qa.setPosition(a,b,0),this.Qa.setOrientation(Math.cos(X(c)),Math.sin(X(c)),0),this.Qa.coneInnerAngle=e,this.Qa.coneOuterAngle=f,this.Qa.coneOuterGain=d,this.yq=a,this.zq=b,this.uq=c,this.vq=e,this.wq=f,this.xq=d)};D.prototype.Yh=function(a){this.Bd&&1===G&&(this.Pa||(this.Pa=
new w),this.Pa.Yh(a))};D.prototype.Ia=function(a){if(this.Bd&&1===G&&this.Pa&&this.Pa.qj()&&this.oh()){this.Pa.Ia(a);a=this.Pa.J;var b=Pa(a.x,a.y,-a.g.Oa(),x,I,!0),c=Pa(a.x,a.y,-a.g.Oa(),x,I,!1);this.Qa.setPosition(b,c,0);b=0;"undefined"!==typeof this.Pa.J.i&&(b=a.i-a.g.Oa(),this.Qa.setOrientation(Math.cos(b),Math.sin(b),0));b=Pa(this.Pa.Dl(),this.Pa.El(),-a.g.Oa(),0,0,!0);c=Pa(this.Pa.Dl(),this.Pa.El(),-a.g.Oa(),0,0,!1);this.Qa.setVelocity(b,c,0)}};D.prototype.play=function(a,b,c,e){var f=this.j;
this.yd=a;this.volume=b;c=c||0;e=e||0;switch(this.V){case 0:1!==f.playbackRate&&(f.playbackRate=1);f.volume!==b*Q&&(f.volume=b*Q);f.loop!==a&&(f.loop=a);f.muted&&(f.muted=!1);if(f.currentTime!==c)try{f.currentTime=c}catch(d){}if(this.Ic&&aa&&!A.Ha)Ca.push(this);else try{this.j.play()}catch(g){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",g)}break;case 1:this.muted=!1;this.pg=1;if(1===this.buffer.V)this.Ya.gain.value=b*Q,this.wd||(this.j=y.createBufferSource(),
this.j.buffer=this.buffer.ca,this.j.connect(this.Ya)),this.j.onended=this.Mm,this.vi=this.j,this.j.loop=a,this.Zf=!1,0===c?r(this.j,e):t(this.j,c,this.pf(),e);else{1!==f.playbackRate&&(f.playbackRate=1);f.loop!==a&&(f.loop=a);f.volume=b*Q;if(f.currentTime!==c)try{f.currentTime=c}catch(k){}this.Ic&&aa&&!A.Ha?Ca.push(this):f.play()}break;case 2:(!this.wd&&this.ac||0!==c)&&f.seekTo(c);f.play();this.Zf=!1;break;case 3:A.Eb?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=
1;this.startTime=(this.$f?A.mb.X:A.le.X)-c;this.jc=this.ac=this.wd=!1};D.prototype.stop=function(){switch(this.V){case 0:this.j.paused||this.j.pause();break;case 1:1===this.buffer.V?g(this.j):this.j.paused||this.j.pause();break;case 2:this.j.stop();break;case 3:A.Eb&&AppMobi.context.stopSound(this.src)}this.ac=!0;this.jc=!1};D.prototype.pause=function(){if(!(this.wd||this.ac||this.rf()||this.jc)){switch(this.V){case 0:this.j.paused||this.j.pause();break;case 1:1===this.buffer.V?(this.$b=this.Al(!0),
this.yd&&(this.$b=this.$b%this.pf()),this.jc=!0,g(this.j)):this.j.paused||this.j.pause();break;case 2:this.j.pause();break;case 3:A.Eb&&AppMobi.context.stopSound(this.src)}this.jc=!0}};D.prototype.jw=function(){if(!(this.wd||this.ac||this.rf())&&this.jc){switch(this.V){case 0:this.j.play();break;case 1:1===this.buffer.V?(this.j=y.createBufferSource(),this.j.buffer=this.buffer.ca,this.j.connect(this.Ya),this.j.onended=this.Mm,this.vi=this.j,this.j.loop=this.yd,this.Ya.gain.value=Q*this.volume*this.pg,
this.Bk(),this.startTime=(this.$f?A.mb.X:A.le.X)-this.$b/(this.playbackRate||.001),t(this.j,this.$b,this.pf())):this.j.play();break;case 2:this.j.play();break;case 3:A.Eb&&AppMobi.context.resumeSound(this.src)}this.jc=!1}};D.prototype.seek=function(a){if(!(this.wd||this.ac||this.rf()))switch(this.V){case 0:try{this.j.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.V)this.jc?this.$b=a:(this.pause(),this.$b=a,this.jw());else try{this.j.currentTime=a}catch(c){}break;case 3:A.Eb&&AppMobi.context.seekSound(this.src,
a)}};D.prototype.dw=function(a){1===this.V&&(this.Bd?(this.Qa.disconnect(),this.Qa.connect(a)):(this.Ya.disconnect(),this.Ya.connect(a)))};D.prototype.pf=function(){var a=0;switch(this.V){case 0:"undefined"!==typeof this.j.duration&&(a=this.j.duration);break;case 1:a=this.buffer.ca.duration;break;case 2:a=this.j.getDuration();break;case 3:A.Eb&&(a=AppMobi.context.getDurationSound(this.src))}return a};D.prototype.Al=function(a){var b=this.pf(),c=0;switch(this.V){case 0:"undefined"!==typeof this.j.currentTime&&
(c=this.j.currentTime);break;case 1:if(1===this.buffer.V){if(this.jc)return this.$b;c=(this.$f?A.mb.X:A.le.X)-this.startTime}else"undefined"!==typeof this.j.currentTime&&(c=this.j.currentTime);break;case 3:A.Eb&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.yd&&c>b&&(c=b);return c};D.prototype.oh=function(){return!this.jc&&!this.wd&&!this.ac&&!this.rf()};D.prototype.Cw=function(){return!this.wd&&!this.ac&&!this.rf()};D.prototype.Kw=function(){var a=this.volume*
Q;isFinite(a)||(a=0);switch(this.V){case 0:"undefined"!==typeof this.j.volume&&this.j.volume!==a&&(this.j.volume=a);break;case 1:1===this.buffer.V?this.Ya.gain.value=a*this.pg:"undefined"!==typeof this.j.volume&&this.j.volume!==a&&(this.j.volume=a)}};D.prototype.Vi=function(a){switch(this.V){case 0:this.j.muted!==!!a&&(this.j.muted=!!a);break;case 1:1===this.buffer.V?(this.pg=a?0:1,this.Ya.gain.value=Q*this.volume*this.pg):this.j.muted!==!!a&&(this.j.muted=!!a)}};D.prototype.ww=function(){this.dg=
!0;this.Vi(this.dg||this.rh)};D.prototype.Wq=function(a){this.rh=!!a;this.Vi(this.dg||this.rh)};D.prototype.Bk=function(){var a=this.playbackRate;this.$f&&(a*=A.Nf);switch(this.V){case 0:this.j.playbackRate!==a&&(this.j.playbackRate=a);break;case 1:1===this.buffer.V?this.j.playbackRate.value!==a&&(this.j.playbackRate.value=a):this.j.playbackRate!==a&&(this.j.playbackRate=a)}};D.prototype.yw=function(a){switch(this.V){case 0:a?this.oh()?(this.zc=!0,this.j.pause()):this.zc=!1:this.zc&&(this.j.play(),
this.zc=!1);break;case 1:a?this.oh()?(this.zc=!0,1===this.buffer.V?(this.$b=this.Al(!0),this.yd&&(this.$b=this.$b%this.pf()),g(this.j)):this.j.pause()):this.zc=!1:this.zc&&(1===this.buffer.V?(this.j=y.createBufferSource(),this.j.buffer=this.buffer.ca,this.j.connect(this.Ya),this.j.onended=this.Mm,this.vi=this.j,this.j.loop=this.yd,this.Ya.gain.value=Q*this.volume*this.pg,this.Bk(),this.startTime=(this.$f?A.mb.X:A.le.X)-this.$b/(this.playbackRate||.001),t(this.j,this.$b,this.pf())):this.j.play(),this.zc=
!1);break;case 2:a?this.oh()?(this.j.pause(),this.zc=!0):this.zc=!1:this.zc&&(this.zc=!1,this.j.play())}};N.L=function(a){this.type=a;A=this.b=a.b;F=this;this.Ob=null;this.Ah=-600;this.b.qh&&(Fa=!0);!(this.b.gg||this.b.rj&&(this.b.ih||this.b.sj))||this.b.jh||this.b.ja||this.b.Sl||Fa||(aa=!0);y=null;"undefined"!==typeof AudioContext?(G=1,y=new AudioContext):"undefined"!==typeof webkitAudioContext&&(G=1,y=new webkitAudioContext);this.b.gg&&y&&(y.close&&y.close(),"undefined"!==typeof AudioContext?y=
new AudioContext:"undefined"!==typeof webkitAudioContext&&(y=new webkitAudioContext));aa&&document.addEventListener("touchend",function(){if(!Ac&&y){if(!O&&y.createBuffer){var a=y.createBuffer(1,220,22050),b=y.createBufferSource();b.buffer=a;b.connect(y.destination);r(b)}Ac=!0}var c;if(aa){if(!K)for(a=0,b=Ca.length;a<b;++a)c=Ca[a],c.ac||c.jc||c.j.play();W(Ca)}},!0);1!==G&&(this.b.ic&&"undefined"!==typeof window.Media?G=2:this.b.lp&&(G=3));2===G&&(S=location.href,a=S.lastIndexOf("/"),-1<a&&(S=S.substr(0,
a+1)),S=S.replace("file://",""));if(this.b.zv&&this.b.Av&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Ye(this);else{if(this.b.Eb)E=this.b.rj;else try{E=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){E=!1}this.b.ki(this)}};var ra=N.L.prototype;ra.C=function(){this.b.Tf=this;H=this.A[0];this.ee=this.A[1];this.Tv=0!==this.A[2];ua=this.A[3];R=this.A[4];this.Ah=-this.A[5];
xa=this.A[6];ma=this.A[7];Ma=this.A[8];this.Ob=new w;var a=this.b.F||this.b.width,b=this.b.D||this.b.height;1===G&&("undefined"!==typeof y.listener.dopplerFactor&&(y.listener.dopplerFactor=0),y.listener.setPosition(a/2,b/2,this.Ah),y.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){ha&&ha.disconnect();zb=b.toLowerCase();ha=y.createMediaStreamSource(a);ha.connect(h(zb))});this.b.no(function(a){F.Pv(a)});var c=this;this.b.lo(function(a){c.Fm(a)})};ra.Fm=function(a){var b,
c,e;b=0;for(c=v.length;b<c;b++)e=v[b],e.Pa&&e.Pa.J===a&&(e.Pa.J=null,e.Bd&&e.oh()&&e.yd&&e.stop());this.Ob.J===a&&(this.Ob.J=null)};ra.gb=function(){var a={silent:K,masterVolume:Q,listenerZ:this.Ah,listenerUid:this.Ob.qj()?this.Ob.J.uid:-1,playing:[],effects:{}},b=a.playing,c,e,f,d,g,k;c=0;for(e=v.length;c<e;c++)f=v[c],!f.Cw()||3===this.ee||f.Ic&&1===this.ee||!f.Ic&&2===this.ee||(d=f.Al(),f.yd&&(d=d%f.pf()),d={tag:f.tag,buffersrc:f.buffer.src,is_music:f.Ic,playbackTime:d,volume:f.volume,looping:f.yd,
muted:f.dg,playbackRate:f.playbackRate,paused:f.jc,resume_position:f.$b},f.Bd&&(d.pan={},k=d.pan,f.Pa&&f.Pa.qj()?k.objUid=f.Pa.J.uid:(k.x=f.yq,k.y=f.zq,k.a=f.uq),k.ia=f.vq,k.oa=f.wq,k.og=f.xq),b.push(d));b=a.effects;for(g in V)if(V.hasOwnProperty(g)){f=[];c=0;for(e=V[g].length;c<e;c++)f.push({type:V[g][c].type,params:V[g][c].dd});b[g]=f}return a};var Wa=[];ra.sb=function(d){var g=d.silent;Q=d.masterVolume;this.Ah=d.listenerZ;this.Ob.Yh(null);var h=d.listenerUid;-1!==h&&(this.Ob.Hj=h,Wa.push(this.Ob));
var h=d.playing,m,q,t,r,u,H,C,P,E,x,y;if(3!==this.ee)for(m=0,q=v.length;m<q;m++)E=v[m],E.Ic&&1===this.ee||(E.Ic||2!==this.ee)&&E.stop();for(u in V)if(V.hasOwnProperty(u))for(m=0,q=V[u].length;m<q;m++)V[u][m].remove();Ua(V);for(u in d.effects)if(d.effects.hasOwnProperty(u))for(H=d.effects[u],m=0,q=H.length;m<q;m++)switch(t=H[m].type,x=H[m].params,t){case "filter":L(u,new b(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "delay":L(u,new e(x[0],x[1],x[2]));break;case "convolve":t=x[2];E=this.ij(t,!1);E.ca?
t=new c(E.ca,x[0],x[1],t):(t=new c(null,x[0],x[1],t),E.jq=x[0],E.Li=t);L(u,t);break;case "flanger":L(u,new a(x[0],x[1],x[2],x[3],x[4]));break;case "phaser":L(u,new f(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "gain":L(u,new l(x[0]));break;case "tremolo":L(u,new p(x[0],x[1]));break;case "ringmod":L(u,new B(x[0],x[1]));break;case "distortion":L(u,new k(x[0],x[1],x[2],x[3],x[4]));break;case "compressor":L(u,new J(x[0],x[1],x[2],x[3],x[4]));break;case "analyser":L(u,new n(x[0],x[1]))}m=0;for(q=h.length;m<
q;m++)3===this.ee||(d=h[m],t=d.buffersrc,r=d.is_music,u=d.tag,H=d.playbackTime,C=d.looping,P=d.volume,y=(x=d.pan)&&x.hasOwnProperty("objUid")?x.objUid:-1,r&&1===this.ee)||!r&&2===this.ee||((E=this.Iu(t,u,r,C,P))?(E.$b=d.resume_position,E.Vq(!!x),E.play(C,P,H),E.Bk(),E.Kw(),E.Vi(E.dg||E.rh),d.paused&&E.pause(),d.muted&&E.ww(),E.Vi(E.dg||E.rh),x&&(-1!==y?(E.Pa=E.Pa||new w,E.Pa.Hj=y,Wa.push(E.Pa)):E.nn(x.x,x.y,x.a,x.ia,x.oa,x.og))):(E=this.ij(t,r),E.hk=H,E.Wj=d.paused,x&&(-1!==y?E.tg.push({lq:y,Kl:x.ia,
Am:x.oa,Em:x.og,pr:u}):E.tg.push({x:x.x,y:x.y,Us:x.a,Kl:x.ia,Am:x.oa,Em:x.og,pr:u}))));if(g&&!K){m=0;for(q=v.length;m<q;m++)v[m].Wq(!0);K=!0}else if(!g&&K){m=0;for(q=v.length;m<q;m++)v[m].Wq(!1);K=!1}};ra.od=function(){var a,b,c,e;a=0;for(b=Wa.length;a<b;a++)c=Wa[a],e=this.b.Zg(c.Hj),c.Yh(e),c.Hj=-1,e&&(x=e.x,I=e.y);W(Wa)};ra.Pv=function(a){if(!this.Tv){!a&&y&&y.resume&&(y.resume(),O=!1);var b,c;b=0;for(c=v.length;b<c;b++)v[b].yw(a);a&&y&&y.suspend&&(y.suspend(),O=!0)}};ra.Ia=function(){var a=this.b.jf,
b,c,e;b=0;for(c=v.length;b<c;b++)e=v[b],e.Ia(a),0!==H&&e.Bk();var f,d;for(f in V)if(V.hasOwnProperty(f))for(e=V[f],b=0,c=e.length;b<c;b++)d=e[b],d.Ia&&d.Ia();1===G&&this.Ob.qj()&&(this.Ob.Ia(a),x=this.Ob.J.x,I=this.Ob.J.y,y.listener.setPosition(this.Ob.J.x,this.Ob.J.y,this.Ah),y.listener.setVelocity(this.Ob.Dl(),this.Ob.El(),0))};var Xa=[];ra.xw=function(a){var b,c,e,f,d,g=0;b=0;for(c=a.length;b<c;++b)if(e=a[b],f=e[0],e=2*e[1],(d=4<f.length&&".ogg"===f.substr(f.length-4))&&E||!d&&!E)Xa.push({filename:f,
size:e,J:null}),g+=e;return g};ra.Fw=function(){var a,b,c,e;a=0;for(b=Xa.length;a<b;++a)c=Xa[a],e=this.b.Mo+c.filename,c.J=this.ij(e,!1)};ra.Ru=function(){var a=0,b,c,e;b=0;for(c=Xa.length;b<c;++b)e=Xa[b],e.J.yv()||e.J.ov()||this.b.ja||this.b.sj?a+=e.size:e.J.mp()&&(a+=Math.floor(e.size/2));return a};ra.fw=function(){var a,b,c,e;c=a=0;for(b=u.length;a<b;++a)e=u[a],u[c]=e,e.Ic?e.ew():++c;u.length=c};ra.ij=function(a,b){var c,e,f,d=null;c=0;for(e=u.length;c<e;c++)if(f=u[c],f.src===a){d=f;break}d||(Fa&&
b&&this.fw(),d=new C(a,b),u.push(d));return d};ra.Iu=function(a,b,c,e,f){var d,g,k;d=0;for(g=v.length;d<g;d++)if(k=v[d],k.src===a&&(k.jt()||c))return k.tag=b,k;a=this.ij(a,c);if(!a.ca)return"<preload>"!==b&&(a.Yj=b,a.um=e,a.Ln=f),null;k=new D(a,b);v.push(k);return k};var Qa=[];P.prototype.ti=function(a){return jb(M,a)};N.e=new P;N.ka=new function(){};N.Ba=new function(){}})();function pc(d){this.b=d}
(function(){function d(){}var h=pc.prototype;h.S=function(d){this.na=d;this.b=d.b};h.S.prototype.C=function(){};h.L=function(d){this.type=d;this.b=d.b};h.L.prototype.C=function(){var d=this;window.addEventListener("resize",function(){d.b.trigger(pc.prototype.e.As,d)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){d.b.trigger(pc.prototype.e.ws,d)}),window.addEventListener("offline",function(){d.b.trigger(pc.prototype.e.vs,d)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){d.b.lg=1;d.b.trigger(pc.prototype.e.eo,d)}),window.applicationCache.addEventListener("progress",function(h){d.b.lg=h.loaded/h.total||0}));this.b.Eb||(document.addEventListener("appMobi.device.update.available",function(){d.b.trigger(pc.prototype.e.eo,d)}),document.addEventListener("backbutton",function(){d.b.trigger(pc.prototype.e.Gk,d)}),document.addEventListener("menubutton",function(){d.b.trigger(pc.prototype.e.Xn,d)}),document.addEventListener("searchbutton",
function(){d.b.trigger(pc.prototype.e.Bs,d)}),document.addEventListener("tizenhwkey",function(h){var r;switch(h.keyName){case "back":r=d.b.trigger(pc.prototype.e.Gk,d);!r&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(r=d.b.trigger(pc.prototype.e.Xn,d))||h.preventDefault()}}));this.b.Xl&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!d.b.trigger(pc.prototype.e.Gk,d)});this.b.no(function(h){h?d.b.trigger(pc.prototype.e.xs,d):d.b.trigger(pc.prototype.e.ys,
d)})};d.prototype.ws=function(){return!0};d.prototype.vs=function(){return!0};d.prototype.eo=function(){return!0};d.prototype.ys=function(){return!0};d.prototype.xs=function(){return!0};d.prototype.As=function(){return!0};d.prototype.Gk=function(){return!0};d.prototype.Xn=function(){return!0};d.prototype.Bs=function(){return!0};h.e=new d;h.ka=new function(){};h.Ba=new function(){}})();function qc(d){this.b=d}
(function(){function d(){}var h=qc.prototype;h.S=function(d){this.na=d;this.b=d.b};h.S.prototype.C=function(){};h.L=function(d){this.type=d;this.b=d.b;this.hg=Array(256);this.ni=Array(256);this.ke=0};var m=h.L.prototype;m.C=function(){var d=this;this.b.ja||(jQuery(document).keydown(function(h){d.Gm(h)}),jQuery(document).keyup(function(h){d.Hm(h)}))};var q=[32,33,34,35,36,37,38,39,40,44];m.Gm=function(d){var h=!1;window!=window.top&&-1<q.indexOf(d.which)&&(d.preventDefault(),h=!0,d.stopPropagation());
if(this.hg[d.which])this.ni[d.which]&&!h&&d.preventDefault();else{this.hg[d.which]=!0;this.ke=d.which;this.b.Ha=!0;this.b.trigger(qc.prototype.e.bs,this);var g=this.b.trigger(qc.prototype.e.os,this),b=this.b.trigger(qc.prototype.e.qs,this);this.b.Ha=!1;if(g||b)this.ni[d.which]=!0,h||d.preventDefault()}};m.Hm=function(d){this.hg[d.which]=!1;this.ke=d.which;this.b.Ha=!0;this.b.trigger(qc.prototype.e.Sn,this);var h=this.b.trigger(qc.prototype.e.Vn,this),g=this.b.trigger(qc.prototype.e.Un,this);this.b.Ha=
!1;if(h||g||this.ni[d.which])this.ni[d.which]=!0,d.preventDefault()};m.Ef=function(){var d;for(d=0;256>d;++d)if(this.hg[d]){this.hg[d]=!1;this.ke=d;this.b.trigger(qc.prototype.e.Sn,this);var h=this.b.trigger(qc.prototype.e.Vn,this),g=this.b.trigger(qc.prototype.e.Un,this);if(h||g)this.ni[d]=!0}};m.gb=function(){return{triggerKey:this.ke}};m.sb=function(d){this.ke=d.triggerKey};d.prototype.Vr=function(d){return this.hg[d]};d.prototype.os=function(d){return d===this.ke};d.prototype.bs=function(){return!0};
d.prototype.Sn=function(){return!0};d.prototype.Vn=function(d){return d===this.ke};d.prototype.qs=function(d){return d===this.ke};d.prototype.Un=function(d){return d===this.ke};h.e=new d;h.ka=new function(){};h.Ba=new function(){}})();function rc(d){this.b=d}
(function(){function d(){}function h(){}var m=rc.prototype;m.S=function(d){this.na=d;this.b=d.b};m.S.prototype.C=function(){};m.L=function(d){this.type=d;this.b=d.b;this.Uk=Array(4);this.tr=this.xk=this.Cg=this.Ne=this.Me=0;this.Hl=!1};var q=m.L.prototype;q.C=function(){var d=this;if(!this.b.ja){jQuery(document).mousemove(function(b){d.Jm(b)});jQuery(document).mousedown(function(b){d.Im(b)});jQuery(document).mouseup(function(b){d.Km(b)});jQuery(document).dblclick(function(b){d.Nv(b)});var g=function(b){d.Qv(b)};
document.addEventListener("mousewheel",g,!1);document.addEventListener("DOMMouseScroll",g,!1)}};var r={left:0,top:0};q.Jm=function(d){var g=this.b.ja?r:jQuery(this.b.canvas).offset();this.Me=d.pageX-g.left;this.Ne=d.pageY-g.top};q.dq=function(){return 0<this.b.Nb?!0:0<=this.Me&&0<=this.Ne&&this.Me<this.b.width&&this.Ne<this.b.height};q.Im=function(d){this.dq()&&(this.Uk[d.which]=!0,this.b.Ha=!0,this.b.trigger(rc.prototype.e.as,this),this.Cg=d.which-1,this.xk=0,this.b.trigger(rc.prototype.e.Tn,this),
this.b.trigger(rc.prototype.e.$n,this),this.b.Ha=!1)};q.Km=function(d){this.Uk[d.which]&&(this.b.oj&&!this.b.Yd&&d.preventDefault(),this.b.oj=!0,this.Uk[d.which]=!1,this.b.Ha=!0,this.Cg=d.which-1,this.b.trigger(rc.prototype.e.zs,this),this.b.Ha=!1)};q.Nv=function(d){this.dq()&&(d.preventDefault(),this.b.Ha=!0,this.Cg=d.which-1,this.xk=1,this.b.trigger(rc.prototype.e.Tn,this),this.b.trigger(rc.prototype.e.$n,this),this.b.Ha=!1)};q.Qv=function(d){this.tr=0>(d.wheelDelta?d.wheelDelta:d.detail?-d.detail:
0)?0:1;this.Hl=!1;this.b.Ha=!0;this.b.trigger(rc.prototype.e.Es,this);this.b.Ha=!1;this.Hl&&kb(d)&&d.preventDefault()};d.prototype.Tn=function(d,g){return d===this.Cg&&g===this.xk};d.prototype.as=function(){return!0};d.prototype.zs=function(d){return d===this.Cg};d.prototype.$n=function(d,g,b){return d!==this.Cg||g!==this.xk?!1:this.b.hi(b,this.Me,this.Ne)};d.prototype.Es=function(d){this.Hl=!0;return d===this.tr};m.e=new d;m.ka=new function(){};h.prototype.Kk=function(d,g){var b,e,c,a,f;fa(g)?(b=
this.b.Ud(0),e=b.scale,c=b.Kb,a=b.Wb,f=b.i,b.scale=1,b.Kb=1,b.Wb=1,b.i=0,d.r(b.Xa(this.Me,this.Ne,!0)),b.scale=e,b.Kb=c,b.Wb=a,b.i=f):(b=ga(g)?this.b.Ud(g):this.b.Yg(g))?d.r(b.Xa(this.Me,this.Ne,!0)):d.r(0)};h.prototype.Lk=function(d,g){var b,e,c,a,f;fa(g)?(b=this.b.Ud(0),e=b.scale,c=b.Kb,a=b.Xb,f=b.i,b.scale=1,b.Kb=1,b.Xb=1,b.i=0,d.r(b.Xa(this.Me,this.Ne,!1)),b.scale=e,b.Kb=c,b.Xb=a,b.i=f):(b=ga(g)?this.b.Ud(g):this.b.Yg(g))?d.r(b.Xa(this.Me,this.Ne,!1)):d.r(0)};m.Ba=new h})();
function nc(d){this.b=d}
(function(){function d(){if(0===this.jl.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var a=b.getContext("2d");this.yg?a.drawImage(this.fa,this.rg,this.sg,this.width,this.height,0,0,this.width,this.height):a.drawImage(this.fa,0,0,this.width,this.height);this.jl=b.toDataURL("image/png")}return this.jl}function h(){}function m(){}var q=nc.prototype;q.S=function(b){this.na=b;this.b=b.b};var r=q.S.prototype;r.C=function(){if(!this.G){var b,a,e,g,h,m,k,q,n;this.Uc=
[];this.eh=!1;b=0;for(a=this.Sb.length;b<a;b++){h=this.Sb[b];k={};k.name=h[0];k.speed=h[1];k.loop=h[2];k.cn=h[3];k.dn=h[4];k.Cq=h[5];k.W=h[6];k.frames=[];e=0;for(g=h[7].length;e<g;e++)m=h[7][e],q={},q.wn=m[0],q.xn=m[1],q.rg=m[2],q.sg=m[3],q.width=m[4],q.height=m[5],q.duration=m[6],q.Ub=m[7],q.Vb=m[8],q.Ml=m[9],q.Zj=m[10],q.Dq=m[11],q.yg=0!==q.width,q.jl="",q.ay=d,n={left:0,top:0,right:1,bottom:1},q.sn=n,q.P=null,(n=this.b.Cu(m[0]))?q.fa=n:(q.fa=new Image,q.fa.nt=m[0],q.fa.gl=m[1],q.fa.ft=null,this.b.Mn(q.fa,
m[0])),k.frames.push(q),this.Uc.push(q);this.Sb[b]=k}}};r.Fr=function(){var b,a,e;b=0;for(a=this.d.length;b<a;b++)e=this.d[b],e.Ni=e.rc.P};r.Ph=function(){if(!this.G){var b,a,e;b=0;for(a=this.Uc.length;b<a;++b)e=this.Uc[b],e.fa.ft=null,e.P=null;this.eh=!1;this.Fr()}};r.Sj=function(){if(!this.G&&this.d.length){var b,a,e;b=0;for(a=this.Uc.length;b<a;++b)e=this.Uc[b],e.P=this.b.n.Gj(e.fa,!1,this.b.T,e.Dq);this.Fr()}};r.om=function(){if(!this.G&&!this.eh&&this.b.n){var b,a,e;b=0;for(a=this.Uc.length;b<
a;++b)e=this.Uc[b],e.P=this.b.n.Gj(e.fa,!1,this.b.T,e.Dq);this.eh=!0}};r.Fn=function(){if(!this.G&&!this.d.length&&this.eh){var b,a,e;b=0;for(a=this.Uc.length;b<a;++b)e=this.Uc[b],this.b.n.deleteTexture(e.P),e.P=null;this.eh=!1}};var t=[];r.Tm=function(b){var a,e,d;W(t);a=0;for(e=this.Uc.length;a<e;++a)d=this.Uc[a].fa,-1===t.indexOf(d)&&(b.drawImage(d,0,0),t.push(d))};q.L=function(b){this.type=b;this.b=b.b;b=this.type.Sb[0].frames[0].Zj;this.yc?this.N.$h(b):this.N=new db(b)};var g=q.L.prototype;g.C=
function(){this.visible=0===this.A[0];this.Ld=0!==this.A[3];1===this.type.Sb.length&&1===this.type.Sb[0].frames.length||0===this.type.Sb[0].speed||this.b.ki(this);this.Fa=this.Qo(this.A[1])||this.type.Sb[0];this.B=this.A[2];0>this.B&&(this.B=0);this.B>=this.Fa.frames.length&&(this.B=this.Fa.frames.length-1);var b=this.Fa.frames[this.B];this.N.$h(b.Zj);this.Ub=b.Ub;this.Vb=b.Vb;this.Rg=this.Fa.speed;this.xe=this.Fa.dn;this.yc?this.qd.reset():this.qd=new bb;this.Td=this.qd.X;this.$e=!0;this.Jd=0;this.Ze=
!0;this.bl=this.oo="";this.kt=0;this.al=-1;this.type.om();var a,e,d,g,h,k,m,b=0;for(a=this.type.Sb.length;b<a;b++)for(g=this.type.Sb[b],e=0,d=g.frames.length;e<d;e++)h=g.frames[e],0===h.width&&(h.width=h.fa.width,h.height=h.fa.height),h.yg&&(m=h.fa,k=h.sn,k.left=h.rg/m.width,k.top=h.sg/m.height,k.right=(h.rg+h.width)/m.width,k.bottom=(h.sg+h.height)/m.height,0===h.rg&&0===h.sg&&h.width===m.width&&h.height===m.height&&(h.yg=!1));this.rc=this.Fa.frames[this.B];this.Ni=this.rc.P};g.gb=function(){var b=
{a:this.Fa.W,f:this.B,cas:this.Rg,fs:this.Td,ar:this.Jd,at:this.qd.X,rt:this.xe};this.$e||(b.ap=this.$e);this.Ze||(b.af=this.Ze);return b};g.sb=function(b){var a=this.Hu(b.a);a&&(this.Fa=a);this.B=b.f;0>this.B&&(this.B=0);this.B>=this.Fa.frames.length&&(this.B=this.Fa.frames.length-1);this.Rg=b.cas;this.Td=b.fs;this.Jd=b.ar;this.qd.reset();this.qd.X=b.at;this.$e=b.hasOwnProperty("ap")?b.ap:!0;this.Ze=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.xe=b.rt:this.xe=this.Fa.dn;this.rc=this.Fa.frames[this.B];
this.Ni=this.rc.P;this.N.$h(this.rc.Zj);this.Ub=this.rc.Ub;this.Vb=this.rc.Vb};g.Qk=function(b){this.B=b?0:this.Fa.frames.length-1;this.$e=!1;this.oo=this.Fa.name;this.b.trigger(nc.prototype.e.$r,this);this.b.trigger(nc.prototype.e.Zr,this);this.Jd=0};g.Rk=function(){return this.qd.X};g.Ia=function(){this.qd.add(this.b.kj(this));this.bl.length&&this.yt();0<=this.al&&this.zt();var b=this.qd.X,a=this.Fa,e=a.frames[this.B],d=e.duration/this.Rg;this.$e&&b>=this.Td+d&&(this.Ze?this.B++:this.B--,this.Td+=
d,this.B>=a.frames.length&&(a.Cq?(this.Ze=!1,this.B=a.frames.length-2):a.loop?this.B=this.xe:(this.Jd++,this.Jd>=a.cn?this.Qk(!1):this.B=this.xe)),0>this.B&&(a.Cq?(this.B=1,this.Ze=!0,a.loop||(this.Jd++,this.Jd>=a.cn&&this.Qk(!0))):a.loop?this.B=this.xe:(this.Jd++,this.Jd>=a.cn?this.Qk(!0):this.B=this.xe)),0>this.B?this.B=0:this.B>=a.frames.length&&(this.B=a.frames.length-1),b>this.Td+a.frames[this.B].duration/this.Rg&&(this.Td=b),b=a.frames[this.B],this.Rf(e,b),this.b.da=!0)};g.Qo=function(b){var a,
e,d;a=0;for(e=this.type.Sb.length;a<e;a++)if(d=this.type.Sb[a],jb(d.name,b))return d;return null};g.Hu=function(b){var a,e,d;a=0;for(e=this.type.Sb.length;a<e;a++)if(d=this.type.Sb[a],d.W===b)return d;return null};g.yt=function(){var b=this.Fa.frames[this.B],a=this.Qo(this.bl);this.bl="";!a||jb(a.name,this.Fa.name)&&this.$e||(this.Fa=a,this.Rg=a.speed,this.xe=a.dn,0>this.B&&(this.B=0),this.B>=this.Fa.frames.length&&(this.B=this.Fa.frames.length-1),1===this.kt&&(this.B=0),this.$e=!0,this.Td=this.qd.X,
this.Ze=!0,this.Rf(b,this.Fa.frames[this.B]),this.b.da=!0)};g.zt=function(){var b=this.Fa.frames[this.B],a=this.B;this.B=U(this.al);0>this.B&&(this.B=0);this.B>=this.Fa.frames.length&&(this.B=this.Fa.frames.length-1);a!==this.B&&(this.Rf(b,this.Fa.frames[this.B]),this.Td=this.qd.X,this.b.da=!0);this.al=-1};g.Rf=function(b,a){var e=b.width,d=b.height,g=a.width,h=a.height;e!=g&&(this.width*=g/e);d!=h&&(this.height*=h/d);this.Ub=a.Ub;this.Vb=a.Vb;this.N.$h(a.Zj);this.ea();this.rc=a;this.Ni=a.P;e=0;for(d=
this.H.length;e<d;e++)g=this.H[e],g.Ov&&g.Ov(b,a);this.b.trigger(nc.prototype.e.Rf,this)};g.Fc=function(b){b.globalAlpha=this.opacity;var a=this.rc,e=a.yg,d=a.fa,g=this.x,h=this.y,k=this.width,m=this.height;if(0===this.i&&0<=k&&0<=m)g-=this.Ub*k,h-=this.Vb*m,this.b.ed&&(g=Math.round(g),h=Math.round(h)),e?b.drawImage(d,a.rg,a.sg,a.width,a.height,g,h,k,m):b.drawImage(d,g,h,k,m);else{this.b.ed&&(g=Math.round(g),h=Math.round(h));b.save();var n=0<k?1:-1,q=0<m?1:-1;b.translate(g,h);1===n&&1===q||b.scale(n,
q);b.rotate(this.i*n*q);g=0-this.Ub*ka(k);h=0-this.Vb*ka(m);e?b.drawImage(d,a.rg,a.sg,a.width,a.height,g,h,ka(k),ka(m)):b.drawImage(d,g,h,ka(k),ka(m));b.restore()}};g.hf=function(b){this.Mb(b)};g.Mb=function(b){b.hb(this.Ni);b.Se(this.opacity);var a=this.rc,e=this.pb;if(this.b.ed){var d=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;a.yg?b.Dd(e.ib+d,e.jb+g,e.Ib+d,e.Jb+g,e.Ab+d,e.Bb+g,e.yb+d,e.zb+g,a.sn):b.Gf(e.ib+d,e.jb+g,e.Ib+d,e.Jb+g,e.Ab+d,e.Bb+g,e.yb+d,e.zb+g)}else a.yg?b.Dd(e.ib,e.jb,
e.Ib,e.Jb,e.Ab,e.Bb,e.yb,e.zb,a.sn):b.Gf(e.ib,e.jb,e.Ib,e.Jb,e.Ab,e.Bb,e.yb,e.zb)};g.Mu=function(b){var a=this.rc,e,d;e=0;for(d=a.Ml.length;e<d;e++)if(jb(b,a.Ml[e][0]))return e;return-1};g.yl=function(b,a){var e=this.rc,d=e.Ml,g;T(b)?g=this.Mu(b):g=b-1;g=U(g);if(0>g||g>=d.length)return a?this.x:this.y;var h=(d[g][1]-e.Ub)*this.width,d=d[g][2],d=(d-e.Vb)*this.height,e=Math.cos(this.i);g=Math.sin(this.i);var k=h*e-d*g,d=d*e+h*g,h=k+this.x,d=d+this.y;return a?h:d};var b=new ca,e=!1;new qa(0,0,0,0);r.finish=
function(c){if(e){if(c){var a=this.b.gc().Zc.Ad;c=null.Ca();var d=b.Id(),g,h;if(c.Ma){c.Ma=!1;W(c.d);g=0;for(h=d.length;g<h;++g)c.d[g]=d[g];if(a)for(W(c.Y),g=0,h=null.d.length;g<h;++g)d=null.d[g],b.contains(d)||c.Y.push(d)}else if(a)for(a=c.d.length,g=0,h=d.length;g<h;++g)c.d[a+g]=d[g],Da(c.Y,d[g]);else ya(c.d,d);null.qe()}b.clear();e=!1}};h.prototype.Zr=function(b){return jb(this.oo,b)};h.prototype.$r=function(){return!0};h.prototype.Rf=function(){return!0};q.e=new h;m.prototype.Ls=function(b){var a=
this.rc,e=a.width*b*(0>this.width?-1:1);b=a.height*b*(0>this.height?-1:1);if(this.width!==e||this.height!==b)this.width=e,this.height=b,this.ea()};q.ka=new m;q.Ba=new function(){}})();function sc(d){this.b=d}
(function(){function d(){return b.length?b.pop():{}}function h(e){var c,a;c=0;for(a=e.length;c<a;c++)b.push(e[c]);W(e)}function m(b){return b.length&&" "===b.charAt(b.length-1)?b.substring(0,b.length-1):b}function q(){}var r=sc.prototype;r.C=function(){r.ka.Os=function(b){this.width!==b&&(this.width=b,this.Kf=!0,this.ea())}};r.S=function(b){this.na=b;this.b=b.b};var t=r.S.prototype;t.C=function(){};t.Ph=function(){if(!this.G){var b,c,a;b=0;for(c=this.d.length;b<c;b++)a=this.d[b],a.zd=null,a.Cf=null,
a.kc=null}};r.L=function(b){this.type=b;this.b=b.b;this.yc?W(this.Ie):this.Ie=[];this.Kf=!0};t=r.L.prototype;t.C=function(){this.text=this.A[0];this.visible=0===this.A[1];this.font=this.A[2];this.color=this.A[3];this.pj=this.A[4];this.Dk=this.A[5];this.On=0===this.A[7];this.im=this.Bj=this.width;this.Aj=this.height;this.nm=this.A[8];this.fj=this.Vf="";this.nr=this.or=this.Uh=0;this.Rv();this.kc=this.Cf=this.zd=null;this.hq=!1;this.yh=this.b.jd;this.yc?this.Qe.set(0,0,1,1):this.Qe=new qa(0,0,1,1);
this.b.n&&this.b.ki(this)};t.Rv=function(){var b=this.font.split(" "),c;for(c=0;c<b.length;c++)if("pt"===b[c].substr(b[c].length-2,2)){this.Uh=parseInt(b[c].substr(0,b[c].length-2));this.Ym=Math.ceil(this.Uh/72*96)+4;0<c&&(this.fj=b[c-1]);this.Vf=b[c+1];for(c+=2;c<b.length;c++)this.Vf+=" "+b[c];break}};t.gb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.pj,va:this.Dk,wr:this.On,lho:this.nm,fn:this.Vf,fs:this.fj,ps:this.Uh,pxh:this.Ym,tw:this.or,th:this.nr,lrt:this.yh}};t.sb=function(b){this.text=
b.t;this.font=b.f;this.color=b.c;this.pj=b.ha;this.Dk=b.va;this.On=b.wr;this.nm=b.lho;this.Vf=b.fn;this.fj=b.fs;this.Uh=b.ps;this.Ym=b.pxh;this.or=b.tw;this.nr=b.th;this.yh=b.lrt;this.Kf=!0;this.im=this.Bj=this.width;this.Aj=this.height};t.Ia=function(){if(this.b.n&&this.kc&&300<=this.b.jd-this.yh){var b=this.g;this.ya();var c=this.Ea;if(c.right<b.qa||c.bottom<b.ra||c.left>b.Aa||c.top>b.za)this.b.n.deleteTexture(this.kc),this.zd=this.Cf=this.kc=null}};t.Oe=function(){this.zd=this.Cf=null;this.b.n&&
this.kc&&this.b.n.deleteTexture(this.kc);this.kc=null};t.Rk=function(){this.font=this.fj+" "+this.Uh.toString()+"pt "+this.Vf;this.Kf=!0;this.b.da=!0};t.Fc=function(b,c){b.font=this.font;b.textBaseline="top";b.fillStyle=this.color;b.globalAlpha=c?1:this.opacity;var a=1;c&&(a=this.g.hc(),b.save(),b.scale(a,a));if(this.Kf||this.width!==this.im)this.type.na.Ss(this.text,this.Ie,b,this.width,this.On),this.Kf=!1,this.im=this.width;this.ya();var a=c?0:this.pb.ib,d=c?0:this.pb.jb;this.b.ed&&(a=a+.5|0,d=
d+.5|0);0===this.i||c||(b.save(),b.translate(a,d),b.rotate(this.i),d=a=0);var g=d+this.height,h=this.Ym,h=h+this.nm,m,k;1===this.Dk?d+=Math.max(this.height/2-this.Ie.length*h/2,0):2===this.Dk&&(d+=Math.max(this.height-this.Ie.length*h-2,0));for(k=0;k<this.Ie.length&&!(m=a,1===this.pj?m=a+(this.width-this.Ie[k].width)/2:2===this.pj&&(m=a+(this.width-this.Ie[k].width)),b.fillText(this.Ie[k].text,m,d),d+=h,d>=g-h);k++);(0!==this.i||c)&&b.restore();this.yh=this.b.jd};t.Mb=function(b){if(!(1>this.width||
1>this.height)){var c=this.Kf||this.hq;this.hq=!1;var a=this.g.hc(),d=this.g.Oa(),g=this.Qe,h=a*this.width,m=a*this.height,k=Math.ceil(h),q=Math.ceil(m),n=this.b.F/2,t=this.b.D/2;this.Cf||(this.zd=document.createElement("canvas"),this.zd.width=k,this.zd.height=q,this.Bj=k,this.Aj=q,c=!0,this.Cf=this.zd.getContext("2d"));if(k!==this.Bj||q!==this.Aj)this.zd.width=k,this.zd.height=q,this.kc&&(b.deleteTexture(this.kc),this.kc=null),c=!0;c&&(this.Cf.clearRect(0,0,k,q),this.Fc(this.Cf,!0),this.kc||(this.kc=
b.Tb(k,q,this.b.T,this.b.Yd)),b.Kn(this.zd,this.kc,this.b.Yd));this.Bj=k;this.Aj=q;b.hb(this.kc);b.Se(this.opacity);b.Nc();b.translate(-n,-t);b.Ac();var r=this.pb,c=this.g.wa(r.ib,r.jb,!0,!0),n=this.g.wa(r.ib,r.jb,!1,!0),t=this.g.wa(r.Ib,r.Jb,!0,!0),D=this.g.wa(r.Ib,r.Jb,!1,!0),L=this.g.wa(r.Ab,r.Bb,!0,!0),P=this.g.wa(r.Ab,r.Bb,!1,!0),N=this.g.wa(r.yb,r.zb,!0,!0),r=this.g.wa(r.yb,r.zb,!1,!0);if(this.b.ed||0===this.i&&0===d)var A=(c+.5|0)-c,F=(n+.5|0)-n,c=c+A,n=n+F,t=t+A,D=D+F,L=L+A,P=P+F,N=N+A,r=
r+F;0===this.i&&0===d?(t=c+k,D=n,L=t,P=n+q,N=c,r=P,g.right=1,g.bottom=1):(g.right=h/k,g.bottom=m/q);b.Dd(c,n,t,D,L,P,N,r,g);b.Nc();b.scale(a,a);b.gk(-this.g.Oa());b.translate((this.g.qa+this.g.Aa)/-2,(this.g.ra+this.g.za)/-2);b.Ac();this.yh=this.b.jd}};var g=[];r.Rs=function(b){W(g);for(var c="",a,d=0;d<b.length;)if(a=b.charAt(d),"\n"===a)c.length&&(g.push(c),c=""),g.push("\n"),++d;else if(" "===a||"\t"===a||"-"===a){do c+=b.charAt(d),d++;while(d<b.length&&(" "===b.charAt(d)||"\t"===b.charAt(d)));
g.push(c);c=""}else d<b.length&&(c+=a,d++);c.length&&g.push(c)};var b=[];r.Ss=function(b,c,a,f,g){if(b&&b.length)if(2>=f)h(c);else{if(100>=b.length&&-1===b.indexOf("\n")){var m=a.measureText(b).width;if(m<=f){h(c);c.push(d());c[0].text=b;c[0].width=m;return}}this.Ts(b,c,a,f,g)}else h(c)};r.Ts=function(e,c,a,f,h){h&&(this.Rs(e),e=g);var q="",t,k,r,n=0;for(r=0;r<e.length;r++)"\n"===e[r]?(n>=c.length&&c.push(d()),q=m(q),k=c[n],k.text=q,k.width=a.measureText(q).width,n++,q=""):(t=q,q+=e[r],k=a.measureText(q).width,
k>=f&&(n>=c.length&&c.push(d()),t=m(t),k=c[n],k.text=t,k.width=a.measureText(t).width,n++,q=e[r],h||" "!==q||(q="")));q.length&&(n>=c.length&&c.push(d()),q=m(q),k=c[n],k.text=q,k.width=a.measureText(q).width,n++);for(r=n;r<c.length;r++)b.push(c[r]);c.length=n};r.e=new function(){};q.prototype.Ms=function(b){ga(b)&&1E9>b&&(b=Math.round(1E10*b)/1E10);b=b.toString();this.text!==b&&(this.text=b,this.Kf=!0,this.b.da=!0)};r.ka=new q;r.Ba=new function(){}})();function tc(d){this.b=d}
(function(){var d=tc.prototype;d.S=function(d){this.na=d;this.b=d.b};var h=d.S.prototype;h.C=function(){this.G||(this.fa=new Image,this.fa.gl=this.xn,this.b.Mn(this.fa,this.wn),this.P=this.pattern=null)};h.Ph=function(){this.G||(this.P=null)};h.Sj=function(){if(!this.G&&this.d.length){this.P||(this.P=this.b.n.Gj(this.fa,!0,this.b.T,this.yn));var d,h;d=0;for(h=this.d.length;d<h;d++)this.d[d].P=this.P}};h.om=function(){this.G||this.P||!this.b.n||(this.P=this.b.n.Gj(this.fa,!0,this.b.T,this.yn))};h.Fn=
function(){this.G||this.d.length||!this.P||(this.b.n.deleteTexture(this.P),this.P=null)};h.Tm=function(d){d.drawImage(this.fa,0,0)};d.L=function(d){this.type=d;this.b=d.b};h=d.L.prototype;h.C=function(){this.visible=0===this.A[0];this.Qe=new qa(0,0,0,0);this.dp=!1;this.fa=this.type.fa;this.b.n?(this.type.om(),this.P=this.type.P):(this.type.pattern||(this.type.pattern=this.b.ga.createPattern(this.type.fa,"repeat")),this.pattern=this.type.pattern)};h.od=function(){this.dp=!1;this.fa=this.type.fa};h.Oe=
function(){this.b.n&&this.dp&&this.P&&(this.b.n.deleteTexture(this.P),this.P=null)};h.Fc=function(d){d.globalAlpha=this.opacity;d.save();d.fillStyle=this.pattern;var h=this.x,r=this.y;this.b.ed&&(h=Math.round(h),r=Math.round(r));var t=-(this.Ub*this.width),g=-(this.Vb*this.height),b=t%this.fa.width,e=g%this.fa.height;0>b&&(b+=this.fa.width);0>e&&(e+=this.fa.height);d.translate(h,r);d.rotate(this.i);d.translate(b,e);d.fillRect(t-b,g-e,this.width,this.height);d.restore()};h.hf=function(d){this.Mb(d)};
h.Mb=function(d){d.hb(this.P);d.Se(this.opacity);var h=this.Qe;h.right=this.width/this.fa.width;h.bottom=this.height/this.fa.height;var r=this.pb;if(this.b.ed){var t=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;d.Dd(r.ib+t,r.jb+g,r.Ib+t,r.Jb+g,r.Ab+t,r.Bb+g,r.yb+t,r.zb+g,h)}else d.Dd(r.ib,r.jb,r.Ib,r.Jb,r.Ab,r.Bb,r.yb,r.zb,h)};d.e=new function(){};d.ka=new function(){};d.Ba=new function(){}})();function uc(d){this.b=d}
(function(){function d(b){e=b.x;c=b.y;a=b.z}function h(a,b,c,e){var d;d=f.length?f.pop():new m;d.init(a,b,c,e);return d}function m(){this.ei=this.id=this.y=this.x=this.sk=this.rk=this.gm=this.time=this.un=0;this.li=this.yk=!1}function q(){}function r(){}var t=uc.prototype;t.S=function(a){this.na=a;this.b=a.b};t.S.prototype.C=function(){};t.L=function(a){this.type=a;this.b=a.b;this.touches=[];this.wm=!1};var g=t.L.prototype,b={left:0,top:0};g.Xg=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var e=0,c=0,a=0,f=[];m.prototype.init=function(a,b,c,e){var d=Va();this.un=this.gm=this.time=d;this.rk=a;this.sk=b;this.x=a;this.y=b;this.pressure=this.height=this.width=0;this.id=c;this.ei=e;this.li=this.yk=!1};m.prototype.update=function(a,b,c,e,d,f){this.gm=this.time;this.time=a;this.x=b;this.y=c;this.width=e;this.height=d;this.pressure=f;!this.li&&15<=Ra(this.rk,this.sk,this.x,this.y)&&(this.li=!0)};m.prototype.Hv=function(a,b){!this.yk&&500<=
Va()-this.un&&!this.li&&15>Ra(this.rk,this.sk,this.x,this.y)&&(this.yk=!0,a.Hd=this.ei,a.Dg=this.id,a.Yf=b,a.b.trigger(uc.prototype.e.ms,a),a.Nd=this.x,a.Od=this.y,a.b.trigger(uc.prototype.e.ns,a),a.Yf=0)};var l=-1E3,p=-1E3,B=-1E4;m.prototype.$p=function(a,b){if(!this.yk){var c=Va();333>=c-this.un&&!this.li&&15>Ra(this.rk,this.sk,this.x,this.y)&&(a.Hd=this.ei,a.Dg=this.id,a.Yf=b,666>=c-B&&25>Ra(l,p,this.x,this.y)?(a.b.trigger(uc.prototype.e.gs,a),a.Nd=this.x,a.Od=this.y,a.b.trigger(uc.prototype.e.hs,
a),p=l=-1E3,B=-1E4):(a.b.trigger(uc.prototype.e.Cs,a),a.Nd=this.x,a.Od=this.y,a.b.trigger(uc.prototype.e.Ds,a),l=this.x,p=this.y,B=c),a.Yf=0)}};g.C=function(){this.Bv=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Yf=this.Dg=this.Hd=this.Od=this.Nd=this.io=this.ho=this.fo=this.Xs=this.Ws=this.Vs=this.Vj=this.Uj=this.Tj=0;this.Ow=0!==this.A[0];var a=0<this.b.Nb?document:this.b.canvas,b=document;this.b.Eb?b=a=window.Canvas:this.b.Gc&&(b=a=window);var c=this;window.navigator.pointerEnabled?
(a.addEventListener("pointerdown",function(a){c.qq(a)},!1),a.addEventListener("pointermove",function(a){c.pq(a)},!1),b.addEventListener("pointerup",function(a){c.Rj(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Rj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",
function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.qq(a)},!1),a.addEventListener("MSPointerMove",function(a){c.pq(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Rj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Rj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",
function(a){c.sq(a)},!1),a.addEventListener("touchmove",function(a){c.rq(a)},!1),b.addEventListener("touchend",function(a){c.Lm(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Lm(a,!0)},!1));if(this.Bv){var e=function(a){a=a.reading;c.fo=a.accelerationX;c.ho=a.accelerationY;c.io=a.accelerationZ},f=function(a){a=a.reading;c.Tj=a.yawDegrees;c.Uj=a.pitchDegrees;c.Vj=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),
g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",
function(a){c.Tj=a.alpha||0;c.Uj=a.beta||0;c.Vj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Vs=a.accelerationIncludingGravity.x||0,c.Ws=a.accelerationIncludingGravity.y||0,c.Xs=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.fo=a.acceleration.x||0,c.ho=a.acceleration.y||0,c.io=a.acceleration.z||0)},!1);this.Ow&&!this.b.ja&&(jQuery(document).mousemove(function(a){c.Jm(a)}),jQuery(document).mousedown(function(a){c.Im(a)}),jQuery(document).mouseup(function(a){c.Km(a)}));
!this.b.gg&&this.b.ic&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(d,null,{frequency:40});this.b.qr(this)};g.pq=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var c=this.Xg(a.pointerId),e=Va();if(0<=c){var d=this.b.ja?b:jQuery(this.b.canvas).offset(),c=this.touches[c];2>e-c.time||c.update(e,a.pageX-d.left,a.pageY-d.top,a.width||0,a.height||0,a.pressure||0)}}};g.qq=
function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&kb(a)&&a.preventDefault();var c=this.b.ja?b:jQuery(this.b.canvas).offset(),e=a.pageX-c.left,c=a.pageY-c.top;Va();this.Hd=this.touches.length;this.Dg=a.pointerId;this.touches.push(h(e,c,a.pointerId,this.Hd));this.b.Ha=!0;this.b.trigger(uc.prototype.e.Zn,this);this.b.trigger(uc.prototype.e.co,this);this.Nd=e;this.Od=c;this.b.trigger(uc.prototype.e.bo,this);this.b.Ha=!1}};g.Rj=function(a,b){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&kb(a)&&a.preventDefault();var c=this.Xg(a.pointerId);this.Hd=0<=c?this.touches[c].ei:-1;this.Dg=0<=c?this.touches[c].id:-1;this.b.Ha=!0;this.b.trigger(uc.prototype.e.Yn,this);this.b.trigger(uc.prototype.e.ao,this);0<=c&&(b||this.touches[c].$p(this,c),100>f.length&&f.push(this.touches[c]),this.touches.splice(c,1));this.b.Ha=!1}};g.rq=function(a){a.preventDefault&&a.preventDefault();var c=Va(),e,d,f,g;e=0;for(d=a.changedTouches.length;e<
d;e++)if(f=a.changedTouches[e],g=this.Xg(f.identifier),0<=g){var h=this.b.ja?b:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,f.pageX-h.left,f.pageY-h.top,2*(f.ly||f.ty||f.ey||f.hy||0),2*(f.my||f.uy||f.fy||f.iy||0),f.$x||f.ry||f.cy||f.gy||0)}};g.sq=function(a){a.preventDefault&&kb(a)&&a.preventDefault();var c=this.b.ja?b:jQuery(this.b.canvas).offset();Va();this.b.Ha=!0;var e,d,f,g;e=0;for(d=a.changedTouches.length;e<d;e++)if(f=a.changedTouches[e],g=this.Xg(f.identifier),-1===
g){g=f.pageX-c.left;var l=f.pageY-c.top;this.Hd=this.touches.length;this.Dg=f.identifier;this.touches.push(h(g,l,f.identifier,this.Hd));this.b.trigger(uc.prototype.e.Zn,this);this.b.trigger(uc.prototype.e.co,this);this.Nd=g;this.Od=l;this.b.trigger(uc.prototype.e.bo,this)}this.b.Ha=!1};g.Lm=function(a,b){a.preventDefault&&kb(a)&&a.preventDefault();this.b.Ha=!0;var c,e,d;c=0;for(e=a.changedTouches.length;c<e;c++)d=a.changedTouches[c],d=this.Xg(d.identifier),0<=d&&(this.Hd=this.touches[d].ei,this.Dg=
this.touches[d].id,this.b.trigger(uc.prototype.e.Yn,this),this.b.trigger(uc.prototype.e.ao,this),b||this.touches[d].$p(this,d),100>f.length&&f.push(this.touches[d]),this.touches.splice(d,1));this.b.Ha=!1};g.Rk=function(){return this.b.ic&&0===this.Tj&&0!==a?90*a:this.Tj};g.Yx=function(){return this.b.ic&&0===this.Uj&&0!==c?90*c:this.Uj};g.Zx=function(){return this.b.ic&&0===this.Vj&&0!==e?90*e:this.Vj};g.Im=function(a){this.sq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.wm=
!0};g.Jm=function(a){this.wm&&this.rq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};g.Km=function(a){a.preventDefault&&this.b.oj&&!this.b.Yd&&a.preventDefault();this.b.oj=!0;this.Lm({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.wm=!1};g.Bg=function(){var a,b,c,e=Va();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=e-50&&(c.gm=e),c.Hv(this,a)};q.prototype.co=function(){return!0};q.prototype.ao=function(){return!0};q.prototype.bo=function(a){return a?
this.b.hi(a,this.Nd,this.Od):!1};q.prototype.Zn=function(a){a=Math.floor(a);return a===this.Hd};q.prototype.Yn=function(a){a=Math.floor(a);return a===this.Hd};q.prototype.ms=function(){return!0};q.prototype.Cs=function(){return!0};q.prototype.gs=function(){return!0};q.prototype.ns=function(a){return a?this.b.hi(a,this.Nd,this.Od):!1};q.prototype.Ds=function(a){return a?this.b.hi(a,this.Nd,this.Od):!1};q.prototype.hs=function(a){return a?this.b.hi(a,this.Nd,this.Od):!1};t.e=new q;r.prototype.Kk=function(a,
b){var c=this.Yf;if(0>c||c>=this.touches.length)a.r(0);else{var e,d,f,g,h;fa(b)?(e=this.b.Ud(0),d=e.scale,f=e.Kb,g=e.Wb,h=e.i,e.scale=1,e.Kb=1,e.Wb=1,e.i=0,a.r(e.Xa(this.touches[c].x,this.touches[c].y,!0)),e.scale=d,e.Kb=f,e.Wb=g,e.i=h):(e=ga(b)?this.b.Ud(b):this.b.Yg(b))?a.r(e.Xa(this.touches[c].x,this.touches[c].y,!0)):a.r(0)}};r.prototype.Lk=function(a,b){var c=this.Yf;if(0>c||c>=this.touches.length)a.r(0);else{var e,d,f,g,h;fa(b)?(e=this.b.Ud(0),d=e.scale,f=e.Kb,g=e.Xb,h=e.i,e.scale=1,e.Kb=1,
e.Xb=1,e.i=0,a.r(e.Xa(this.touches[c].x,this.touches[c].y,!1)),e.scale=d,e.Kb=f,e.Xb=g,e.i=h):(e=ga(b)?this.b.Ud(b):this.b.Yg(b))?a.r(e.Xa(this.touches[c].x,this.touches[c].y,!1)):a.r(0)}};t.Ba=new r})();function vc(d){this.b=d}
(function(){function d(){}var h=vc.prototype;h.S=function(b){this.na=b;this.b=b.b};h.S.prototype.C=function(){};h.L=function(b){this.type=b;this.b=b.b};var m=h.L.prototype,q="",r="undefined"!==typeof window.is_scirra_arcade;r&&(q="arcade"+window.scirra_arcade_id);var t=!1;try{localStorage.getItem("test"),t=!0}catch(g){t=!1}m.C=function(){t||z("[Construct 2] Webstorage plugin: local storage is not supported on this platform.")};h.e=new function(){};h.ka=new function(){};d.prototype.Qn=function(b){if(t){var e=
{},c,a,d;c=0;for(a=localStorage.length;c<a;c++)d=localStorage.key(c),r?d.substr(0,q.length)===q&&(e[d.substr(q.length)]=localStorage.getItem(d)):e[d]=localStorage.getItem(d);b.Pb(JSON.stringify({c2dictionary:!0,data:e}))}else b.Pb("")};h.Ba=new d})();function wc(d){this.b=d}
(function(){function d(b){var c;if(!a[b])for(a[b]=Array(20),c=0;20>c;++c)a[b][c]=0;return a[b]}function h(a){var b;if(!f[a])for(f[a]=Array(20),b=0;20>b;++b)f[a][b]=0;return f[a]}function m(a,b){return b?4<=a?-1:a+16:16<=a?-1:a}function q(a){c[a.gamepad.index]=a.gamepad;b.trigger(wc.prototype.e.ks,e)}function r(a){b.trigger(wc.prototype.e.ls,e);c[a.gamepad.index]=null}function t(){}var g=wc.prototype;g.S=function(a){this.na=a;this.b=a.b};g.S.prototype.C=function(){};var b=null,e=null,c=Array(16),a=
Array(16),f=Array(16),l="",p="",B=null,k={windows:{}};k.windows.firefox={};var J=[0,1,2,3,4,5,8,9,10,11],n=[0,1,[7,6],2,3,[14,15],[12,13]];k.windows.firefox.xbox360=function(a,b){return b?a>=n.length?-1:ga(n[a])?n[a]+16:n[a]:a>=J.length?-1:J[a]};var w=[2,0,1,3,4,6,5,7,8,9],C=[0,1,2,3,[14,15],[12,13]];k.windows.firefox.logitechdualaction=function(a,b){return b?a>=C.length?-1:ga(C[a])?C[a]+16:C[a]:a>=w.length?-1:w[a]};g.L=function(a){this.type=a;b=this.b=a.b;e=this};var D=g.L.prototype;D.C=function(){this.$l=
0;var a=navigator.userAgent;l="windows";/mac/i.test(a)&&(l="mac");B=k[l];p="chrome";/firefox/i.test(a)&&(p="firefox");B&&(B=B[p]);window.addEventListener("webkitgamepadconnected",q,!1);window.addEventListener("webkitgamepaddisconnected",r,!1);window.addEventListener("MozGamepadConnected",q,!1);window.addEventListener("MozGamepadDisconnected",r,!1);window.addEventListener("gamepadconnected",q,!1);window.addEventListener("gamepaddisconnected",r,!1);this.b.ki(this);this.jo=[]};D.Ia=function(){this.jo.length=
0;var b=null,e=!1;navigator.getGamepads?b=navigator.getGamepads():navigator.webkitGetGamepads?b=navigator.webkitGetGamepads():navigator.mozGetGamepads?b=navigator.mozGetGamepads():navigator.msGetGamepads?b=navigator.msGetGamepads():this.b.qp&&window.cr_getGamepads?(b=window.cr_getGamepads(),e=!0):b=navigator.gamepads||navigator.webkitGamepads||navigator.MozGamepads||c;if(b){var g,k,l,n,q,p,t;g=0;for(k=b.length;g<k;g++){var r=b[g];if(r){var v=d(g),w=h(g);n=g;l=d(n);n=h(n);q=void 0;for(q=0;20>q;++q)n[q]=
l[q];e?l=m:B?(l="",n=r.id.toLowerCase(),-1<n.indexOf("xbox 360")?l="xbox360":-1<n.indexOf("logitech dual action")&&(l="logitechdualaction"),l=B[l]||m):l=m;q=l;l=0;for(n=r.buttons.length;l<n;l++)t="undefined"!==typeof r.buttons[l].value?r.buttons[l].value:r.buttons[l],p=q(l,!1,t),0<=p&&20>p&&(v[p]=100*t,50<=v[p]&&50>w[p]&&(this.$l=p));l=0;for(n=r.axes.length;l<n;l++)t=r.axes[l],p=q(l,!0,t),ga(p)?0<=p&&20>p&&(v[p]=100*t):(v[p[0]]=0,v[p[1]]=0,0>=t?v[p[0]]=Math.abs(100*t):v[p[1]]=Math.abs(100*t));this.jo.push(r)}else r=
g,a[r]=null,f[r]=null}for(;20>g;++g)b=g,a[b]=null,f[b]=null}};D.gb=function(){return{lastButton:this.$l}};D.sb=function(a){this.$l=a.lastButton};t.prototype.ks=function(){return!0};t.prototype.ls=function(){return!0};g.e=new t;g.ka=new function(){};g.Ba=new function(){}})();function xc(d){this.b=d}
(function(){function d(){}function h(){}function m(){}var q=xc.prototype;q.S=function(d){this.na=d;this.b=d.b};q.S.prototype.C=function(){};q.L=function(d){this.type=d;this.b=d.b};var r=q.L.prototype;r.C=function(){this.b.ja?z("[Construct 2] Progress Bar plugin not supported on this platform - the object will not be created"):(this.ta=document.createElement("progress"),this.value=this.A[0],this.max=this.A[1],0<this.max&&0<=this.value&&(this.ta.max=this.max,this.ta.value=this.value),this.ta.id=this.A[4],
this.ta.title=this.A[2],jQuery(this.ta).appendTo(this.b.Ii?this.b.Ii:"body"),this.lf=!1,0===this.A[3]&&(jQuery(this.ta).hide(),this.visible=!1,this.lf=!0),this.ta.onclick=function(d){return function(g){g.stopPropagation();d.b.Ha=!0;d.b.trigger(xc.prototype.e.ds,d);d.b.Ha=!1}}(this),this.ta.addEventListener("touchstart",function(d){d.stopPropagation()},!1),this.ta.addEventListener("touchmove",function(d){d.stopPropagation()},!1),this.ta.addEventListener("touchend",function(d){d.stopPropagation()},
!1),jQuery(this.ta).mousedown(function(d){d.stopPropagation()}),jQuery(this.ta).mouseup(function(d){d.stopPropagation()}),this.Cp=this.Dp=this.tp=this.zp=this.Bp=this.xp=0,this.Gr(!0),this.b.ki(this))};r.gb=function(){return{v:this.ta.value,m:this.ta.max}};r.sb=function(d){this.ta.value=d.v;this.ta.max=d.m};r.Oe=function(){this.b.ja||(jQuery(this.ta).remove(),this.ta=null)};r.Ia=function(){this.Gr()};r.Gr=function(d){if(!this.b.ja){var g=this.g.wa(this.x,this.y,!0),b=this.g.wa(this.x,this.y,!1),e=
this.g.wa(this.x+this.width,this.y+this.height,!0),c=this.g.wa(this.x+this.width,this.y+this.height,!1),a=this.b.width/this.b.devicePixelRatio,f=this.b.height/this.b.devicePixelRatio;!this.visible||!this.g.visible||0>=e||0>=c||g>=a||b>=f?(this.lf||jQuery(this.ta).hide(),this.lf=!0):(1>g&&(g=1),1>b&&(b=1),e>=a&&(e=a-1),c>=f&&(c=f-1),a=window.innerWidth,f=window.innerHeight,d||this.xp!==g||this.Bp!==b||this.zp!==e||this.tp!==c||this.Dp!==a||this.Cp!==f?(this.xp=g,this.Bp=b,this.zp=e,this.tp=c,this.Dp=
a,this.Cp=f,this.lf&&(jQuery(this.ta).show(),this.lf=!1),d=Math.round(g)+jQuery(this.b.canvas).offset().left,a=Math.round(b)+jQuery(this.b.canvas).offset().top,jQuery(this.ta).css("position","absolute"),jQuery(this.ta).offset({left:d,top:a}),jQuery(this.ta).width(Math.round(e-g)),jQuery(this.ta).height(Math.round(c-b))):this.lf&&(jQuery(this.ta).show(),this.lf=!1))}};r.Fc=function(){};r.Mb=function(){};d.prototype.ds=function(){return!0};q.e=new d;h.prototype.Ns=function(d){this.b.ja||(this.visible=
0!==d)};h.prototype.Ks=function(d){this.b.ja||(this.value=d,this.ta.max=this.max,this.ta.value=this.value)};q.ka=new h;m.prototype.Gs=function(d){d.r(this.b.ja?0:this.ta.value)};q.Ba=new m})();function yc(d){this.b=d}
(function(){function d(a){a%=f.length;0>a&&(a+=f.length);return a}function h(){var a,b,c,e;a=0;for(b=f.length;a<b;++a)c=f[a],(e=f[d(a-1)])&&!c&&(p=a),!e&&c&&(k=a)}var m=yc.prototype;m.S=function(a){this.na=a;this.b=a.b};var q=m.S.prototype,r=!1,t=null,g=null;q.C=function(){this.G||r||(r=!0,t=new Image,t.gl=15E3,this.b.Mn(t,"penumbra.png"))};q.Ph=function(){if(!this.G){this.mc=this.P=null;var a,b,c;a=0;for(b=this.d.length;a<b;++a)c=this.d[a],c.P=null,c.mc=null}};q.Sj=function(){if(!this.G){var a,b;
a=0;for(b=this.d.length;a<b;++a)this.d[a].Ao()}};m.L=function(a){this.type=a;this.b=a.b};q=m.L.prototype;q.C=function(){if(!g){var a=t.width,b=t.height,c=document.createElement("canvas");c.width=a;c.height=b;c=c.getContext("2d");c.clearRect(0,0,a,b);c.drawImage(t,0,0,a,b);g=c.getImageData(0,0,a,b).data}this.Ge=this.x;this.He=this.y;this.Hp=this.A[0];this.xc=1E3;this.kg=this.A[1];this.wo=this.A[2];this.tag=this.A[3];this.km=this.lm=this.mm=0;this.vp=this.x;this.wp=this.y;this.mc=this.P=null;this.b.n?
this.Ao():this.kg=0;this.b.qr(this)};q.xo=function(a){return 1===this.wo?jb(this.tag,a):2===this.wo?!jb(this.tag,a):!0};q.Bg=function(){if(this.vp!==this.x||this.wp!==this.y)this.Ge=this.x,this.He=this.y;var a=this.g,b=(a.qa+a.Aa)/2,c=(a.ra+a.za)/2,e=a.Aa-a.qa,d=a.za-a.ra;if(b!==this.x||c!==this.y||e!==this.width||d!==this.height)this.x=b,this.y=c,this.width=e,this.height=d,this.ea();this.vp=this.x;this.wp=this.y;this.xc=1.5*Ra(a.qa,a.ra,a.Aa,a.za)};q.Oe=function(){this.b.n&&(this.P&&(this.b.n.deleteTexture(this.P),
this.P=null),this.mc&&(this.b.n.deleteTexture(this.mc),this.mc=null))};q.gb=function(){return{}};q.sb=function(){};var b=[],e=[];q.Yo=function(){this.b.pn&&(this.b.$o(this.g,this.b.pn.ym,this.Ea,b),Ya(b))};var c=[],a=0,f=[],l=[],p=-1,B=-1,k=-1,J=-1,n=0,w=0,C=[],D=0,L=0,P=0,N=0,A=0,F=0,M=0,S=0,G=new db([]);q.Fc=function(a){this.Yo();a.save();a.fillStyle="rgba("+this.mm+","+this.lm+","+this.km+","+this.opacity+")";var c,d,g,h,k,l,n,m,q,p;c=0;for(d=b.length;c<d;++c)if(g=b[c],g.u.shadowcasterEnabled&&
this.xo(g.u.shadowcasterTag))if(g.ya(),n=g.u.shadowcasterHeight,g.Lf){g.Ro(this.Ea,e);m=g.x;q=g.y;g=0;for(h=e.length;g<h;++g){k=e[g];p=k.Lq;k.Ff?(k=k.Ff,l=p.left,p=p.top):(G.If(p,0,0),k=G,p=l=0);this.Hi(k,m+l,q+p,n,!1);a.beginPath();a.moveTo(C[0],C[1]);k=2;for(l=C.length;k<l;k+=2)a.lineTo(C[k],C[k+1]);a.closePath();a.fill();W(f);W(C)}W(e)}else{g.N&&!g.N.De()?(g.N.te(g.width,g.height,g.i),k=g.N):(G.Te(g.pb,g.x,g.y,g.width,g.height),k=G);this.Hi(k,g.x,g.y,n,Sa(0>g.width,0>g.height));a.beginPath();a.moveTo(C[0],
C[1]);g=2;for(h=C.length;g<h;g+=2)a.lineTo(C[g],C[g+1]);a.closePath();a.fill();W(f);W(C)}a.restore();W(b)};q.Qu=function(b,e,d,f){a=b.Mc;W(c);var g,h=b.Va;w=n=0;var k;for(k=0;k<a;++k)g=2*k,b=h[g]+e,g=h[g+1]+d,f?(c.unshift(g),c.unshift(b)):(c.push(b),c.push(g)),n+=b,w+=g;n/=a;w/=a};q.Hi=function(b,e,d,g,n){this.Qu(b,e,d,n);var m;W(f);W(l);W(C);J=B=k=p=-1;d=this.Ge;n=this.He;if(0<this.kg)this.Wk(-this.kg),h(),ya(l,f),B=p,J=k,W(f),k=p=-1,this.Wk(this.kg),h(),-1!==p&&-1!==k&&-1!==B&&-1!==J&&this.ht();
else for(this.Wk(0),h(),b=0;b<a;++b)m=2*b,e=c[m],m=c[m+1],this.gt(b,d,n,e,m,g)};q.gt=function(a,b,c,e,g,h){var l;l=f[d(a-1)];var n=a===p,m=a===k;f[a]||l?(a=Y(b,c,e,g),l=Ra(b,c,e,g),h=this.it(b,c,e,g,h),b+=Math.cos(a)*(l+h),c+=Math.sin(a)*(l+h)):(b=e,c=g);m&&(C.push(e),C.push(g));C.push(b);C.push(c);n&&(C.push(e),C.push(g))};q.Wk=function(b){var e=this.Ge,d=this.He,g=e,h=d,k,l,m,q,p;for(k=0;k<a;++k)l=2*k,m=k+1,m=m===a?0:2*m,q=c[l],l=c[l+1],p=c[m],m=c[m+1],0!==b&&(h=Y(e,d,n,w)-Math.PI/2,g=e+Math.cos(h)*
b,h=d+Math.sin(h)*b),f.push(La(Y(q,l,g,h),Y(q,l,p,m)-Math.PI/2)>=Math.PI/2)};var y=0,u=0;q.ht=function(){for(var b=B,e,d,f;b=b%a,e=2*b,d=c[e],f=c[e+1],C.push(d),C.push(f),b!==k;++b);var g=this.kg,h=Y(this.Ge,this.He,n,w),b=this.Ge+Math.cos(h-Math.PI/2)*g,l=this.He+Math.sin(h-Math.PI/2)*g,h=Y(b,l,d,f),m=Ra(b,l,d,f),b=b+Math.cos(h)*(m+this.xc),l=l+Math.sin(h)*(m+this.xc);e=2*B;var q=c[e];e=c[e+1];var h=Y(this.Ge,this.He,n,w),p=this.Ge+Math.cos(h+Math.PI/2)*g,r=this.He+Math.sin(h+Math.PI/2)*g,h=Y(p,
r,q,e),m=Ra(p,r,q,e),g=p+Math.cos(h)*(m+this.xc),h=r+Math.sin(h)*(m+this.xc);A=d;F=f;D=q;L=e;var t,G,J,m=b-d,p=l-f;t=g-q;G=h-e;J=-t*p+m*G;0===J?d=!1:(r=(-p*(d-q)+m*(f-e))/J,J=-t*p+m*G,0===J?d=!1:(q=(t*(f-e)-G*(d-q))/J,0<=r&&1>=r&&0<=q&&1>=q?(y=d+q*m,u=f+q*p,d=!0):d=!1));d?(C.push(y),C.push(u),M=y,S=u,P=y,N=u):(C.push(b),C.push(l),C.push(g),C.push(h),M=b,S=l,P=g,N=h)};q.it=function(a,b,c,e,d){if(d>=this.Hp)return this.xc;if(0>=d)return 0;a=Ra(a,b,c,e);a=Math.atan(a/(this.Hp-d));d=d*Math.tan(a);d>=
this.xc&&(d=this.xc);0>d&&(d=0);return d};q.Mb=function(a){a.Se(this.opacity);this.Yo();var c,d,g,h,l,m,n,q,r,t;c=0;for(d=b.length;c<d;++c)if(g=b[c],g.u.shadowcasterEnabled&&this.xo(g.u.shadowcasterTag))if(g.ya(),l=g.u.shadowcasterHeight,g.Lf){g.Ro(this.Ea,e);n=g.x;q=g.y;g=0;for(h=e.length;g<h;++g)m=e[g],r=m.Lq,m.Ff?(m=m.Ff,t=r.left,r=r.top):(G.If(r,0,0),m=G,r=t=0),this.Hi(m,n+t,q+r,l,!1),6>C.length||(a.hb(this.P),a.zo(C),-1<p&&-1<B&&(a.hb(this.mc),this.Wi(a,!0)),-1<k&&-1<J&&(a.hb(this.mc),this.Wi(a,
!1)),W(f),W(C));W(e)}else g.N&&!g.N.De()?(g.N.te(g.width,g.height,g.i),m=g.N):(G.Te(g.pb,g.x,g.y,g.width,g.height),m=G),this.Hi(m,g.x,g.y,l,Sa(0>g.width,0>g.height)),6>C.length||(a.hb(this.P),a.zo(C),-1<p&&-1<B&&(a.hb(this.mc),this.Wi(a,!0)),-1<k&&-1<J&&(a.hb(this.mc),this.Wi(a,!1)),W(f),W(C));W(b)};q.Wi=function(a,b){var e=this.Ge,d=this.He,f,g,h,l,m,q;b?(h=D,l=L,m=P,q=N):(h=A,l=F,m=M,q=S);var r=this.kg,t=Y(e,d,n,w),u=Math.PI/2;b&&(u=-u);e+=Math.cos(t+u)*r;d+=Math.sin(t+u)*r;r=!1;if(b){if(r=p!==
B)f=c[2*p],g=c[2*p+1]}else if(r=k!==J)f=c[2*J],g=c[2*J+1];var t=r?Y(f,g,h,l):Y(e,d,h,l),u=h+Math.cos(t)*this.xc,y=l+Math.sin(t)*this.xc,C,G,aa,Ca=aa=0,Fa=1;r&&(aa=Y(e,d,f,g),C=f+Math.cos(aa)*this.xc,G=g+Math.sin(aa)*this.xc,e=Y(h,l,m,q),aa=La(t,aa)/La(e,aa),t=Ra(f,g,h,l),t=t/(t+this.xc),e=Y(0,1,aa,0),d=Ra(0,1,aa,0),Ca+=Math.cos(e)*t*d,Fa+=Math.sin(e)*t*d);a.Kq(h,l,m,q,u,y,u,y,Ca,Fa,1,aa,aa);r&&a.Kq(f,g,u,y,C,G,C,G,0,1,aa,0,0)};q.Ao=function(){this.b.n&&(this.P&&(this.b.n.deleteTexture(this.P),this.P=
null),this.mc&&(this.b.n.deleteTexture(this.mc),this.mc=null),this.ot(),this.tt())};q.ot=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.mm+","+this.lm+","+this.km+")";b.fillRect(0,0,16,16);this.P=this.b.n.Tb(16,16,!1,!1,!0);this.b.n.Kn(a,this.P)};q.tt=function(){var a=t.width,b=t.height,c=this.mm,e=this.lm,d=this.km,f=g,h=document.createElement("canvas");h.width=a;h.height=b;var k=h.getContext("2d"),l=k.createImageData(a,b),
m=l.data,q,n;q=0;for(n=m.length;q<n;q+=4)m[q]=c,m[q+1]=e,m[q+2]=d,m[q+3]=f[q+3];k.putImageData(l,0,0);this.mc=this.b.n.Tb(a,b,this.b.T,!1,!1);this.b.n.Kn(h,this.mc)};m.e=new function(){};m.ka=new function(){};m.Ba=new function(){}})();function zc(d){this.b=d}
(function(){function d(){}function h(){}var m=zc.prototype;m.S=function(d){this.behavior=d;this.b=d.b};m.S.prototype.C=function(){};m.L=function(d,h){this.type=d;this.behavior=d.behavior;this.k=h;this.b=d.b;this.nk=this.mk=this.lk=this.ok=this.Ll=this.Wh=this.zh=this.Sg=this.mi=!1;this.fm=this.em=this.dm=this.hm=-1;this.ma=this.la=0};var q=m.L.prototype;q.C=function(){this.Kh=this.A[0];this.nd=this.A[1];this.td=this.A[2];this.ll=this.A[3];this.Ok=this.A[4];this.ut=1===this.A[5];this.enabled=0!==this.A[6];
this.ut&&!this.b.ja&&(jQuery(document).keydown(function(d){return function(h){d.Gm(h)}}(this)),jQuery(document).keyup(function(d){return function(h){d.Hm(h)}}(this)))};q.gb=function(){return{dx:this.la,dy:this.ma,enabled:this.enabled,maxspeed:this.Kh,acc:this.nd,dec:this.td,ignoreInput:this.Ll}};q.sb=function(d){this.la=d.dx;this.ma=d.dy;this.enabled=d.enabled;this.Kh=d.maxspeed;this.nd=d.acc;this.td=d.dec;this.Ll=d.ignoreInput;this.nk=this.mk=this.lk=this.ok=this.Wh=this.zh=this.Sg=this.mi=!1;this.fm=
this.em=this.dm=this.hm=-1};q.Gm=function(d){var h=this.b.jd;switch(d.which){case 37:d.preventDefault();this.em<h&&(this.zh=!0);break;case 38:d.preventDefault();this.hm<h&&(this.mi=!0);break;case 39:d.preventDefault();this.fm<h&&(this.Wh=!0);break;case 40:d.preventDefault(),this.dm<h&&(this.Sg=!0)}};q.Hm=function(d){var h=this.b.jd;switch(d.which){case 37:d.preventDefault();this.zh=!1;this.em=h;break;case 38:d.preventDefault();this.mi=!1;this.hm=h;break;case 39:d.preventDefault();this.Wh=!1;this.fm=
h;break;case 40:d.preventDefault(),this.Sg=!1,this.dm=h}};q.Ef=function(){this.Wh=this.zh=this.Sg=this.mi=!1};q.Ia=function(){var d=this.b.kj(this.k),h=this.zh||this.mk,g=this.Wh||this.nk,b=this.mi||this.ok,e=this.Sg||this.lk;this.lk=this.ok=this.nk=this.mk=!1;if(this.enabled){var c=this.b.Ag(this.k);if(c&&(this.b.dk(this.k,c),!this.b.cw(this.k)))return;this.Ll&&(e=b=g=h=!1);0===this.ll?g=h=!1:1===this.ll&&(e=b=!1);2===this.ll&&(b||e)&&(g=h=!1);h==g&&(0>this.la?(this.la+=this.td*d,0<this.la&&(this.la=
0)):0<this.la&&(this.la-=this.td*d,0>this.la&&(this.la=0)));b==e&&(0>this.ma?(this.ma+=this.td*d,0<this.ma&&(this.ma=0)):0<this.ma&&(this.ma-=this.td*d,0>this.ma&&(this.ma=0)));h&&!g&&(this.la=0<this.la?this.la-(this.nd+this.td)*d:this.la-this.nd*d);g&&!h&&(this.la=0>this.la?this.la+(this.nd+this.td)*d:this.la+this.nd*d);b&&!e&&(this.ma=0<this.ma?this.ma-(this.nd+this.td)*d:this.ma-this.nd*d);e&&!b&&(this.ma=0>this.ma?this.ma+(this.nd+this.td)*d:this.ma+this.nd*d);if(0!==this.la||0!==this.ma){Math.sqrt(this.la*
this.la+this.ma*this.ma)>this.Kh&&(c=Math.atan2(this.ma,this.la),this.la=this.Kh*Math.cos(c),this.ma=this.Kh*Math.sin(c));g=this.k.x;b=this.k.y;h=this.k.i;this.k.x+=this.la*d;this.k.ea();if(c=this.b.Ag(this.k))this.k.x=g,this.la=0,this.k.ea(),this.b.dk(this.k,c);this.k.y+=this.ma*d;this.k.ea();if(c=this.b.Ag(this.k))this.k.y=b,this.ma=0,this.k.ea(),this.b.dk(this.k,c);d=ib(this.la);c=ib(this.ma);if(0!==d||0!==c)1===this.Ok?this.k.i=Ka(90*Math.round(Ga(Math.atan2(c,d))/90)):2===this.Ok?this.k.i=Ka(45*
Math.round(Ga(Math.atan2(c,d))/45)):3===this.Ok&&(this.k.i=Math.atan2(c,d));this.k.ea();this.k.i!=h&&(c=this.b.Ag(this.k))&&(this.k.i=h,this.k.ea(),this.b.dk(this.k,c))}}};d.prototype.Wr=function(){return 0!==this.la||0!==this.ma};m.e=new d;h.prototype.Ps=function(d){switch(d){case 0:this.mk=!0;break;case 1:this.nk=!0;break;case 2:this.ok=!0;break;case 3:this.lk=!0}};m.ka=new h;m.Ba=new function(){}})();function Bc(d){this.b=d}
(function(){function d(){}var h=Bc.prototype;h.S=function(d){this.behavior=d;this.b=d.b};h.S.prototype.C=function(){};h.L=function(d,h){this.type=d;this.behavior=d.behavior;this.k=h;this.b=d.b};var m=h.L.prototype;m.C=function(){this.Mf=this.ie=this.di=this.Dm=this.Nm=0};m.gb=function(){return{ontime:this.Nm,offtime:this.Dm,stage:this.di,stagetimeleft:this.ie,timeleft:this.Mf}};m.sb=function(d){this.Nm=d.ontime;this.Dm=d.offtime;this.di=d.stage;this.ie=d.stagetimeleft;this.Mf=d.timeleft};m.Ia=function(){if(!(0>=
this.Mf)){var d=this.b.kj(this.k);this.Mf-=d;0>=this.Mf?(this.Mf=0,this.k.visible=!0,this.b.da=!0,this.b.trigger(Bc.prototype.e.js,this.k)):(this.ie-=d,0>=this.ie&&(0===this.di?(this.k.visible=!1,this.di=1,this.ie+=this.Dm):(this.k.visible=!0,this.di=0,this.ie+=this.Nm),this.b.da=!0))}};d.prototype.js=function(){return!0};h.e=new d;h.ka=new function(){};h.Ba=new function(){}})();function Cc(d){this.b=d}
(function(){function d(){}var h=Cc.prototype;h.S=function(d){this.behavior=d;this.b=d.b};h.S.prototype.C=function(){};h.L=function(d,h){this.type=d;this.behavior=d.behavior;this.k=h;this.b=d.b};var m=h.L.prototype;m.C=function(){this.eb=null;this.Xj=-1;this.mode=this.ig=this.uk=this.qg=this.de=this.Sh=0;var d=this;this.yc||(this.gq=function(h){d.Fm(h)});this.b.lo(this.gq)};m.gb=function(){return{uid:this.eb?this.eb.uid:-1,pa:this.Sh,pd:this.de,msa:this.qg,tsa:this.uk,lka:this.ig,m:this.mode}};m.sb=
function(d){this.Xj=d.uid;this.Sh=d.pa;this.de=d.pd;this.qg=d.msa;this.uk=d.tsa;this.ig=d.lka;this.mode=d.m};m.od=function(){-1===this.Xj?this.eb=null:this.eb=this.b.Zg(this.Xj);this.Xj=-1};m.Fm=function(d){this.eb==d&&(this.eb=null)};m.Oe=function(){this.eb=null;this.b.gw(this.gq)};m.Ia=function(){};m.Bg=function(){if(this.eb){this.ig!==this.k.i&&(this.qg=Ia(this.qg+(this.k.i-this.ig)));var d=this.k.x,h=this.k.y;if(3===this.mode||4===this.mode){var m=Ra(this.k.x,this.k.y,this.eb.x,this.eb.y);if(m>
this.de||4===this.mode&&m<this.de)h=Y(this.eb.x,this.eb.y,this.k.x,this.k.y),d=this.eb.x+Math.cos(h)*this.de,h=this.eb.y+Math.sin(h)*this.de}else d=this.eb.x+Math.cos(this.eb.i+this.Sh)*this.de,h=this.eb.y+Math.sin(this.eb.i+this.Sh)*this.de;this.ig=m=Ia(this.qg+(this.eb.i-this.uk));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.k.x===d&&this.k.y===h||(this.k.x=d,this.k.y=h,this.k.ea());0!==this.mode&&2!==this.mode||this.k.i===m||(this.k.i=m,this.k.ea())}};h.e=new function(){};d.prototype.Fs=
function(d,h){if(d){var m=d.Vo(this.k);m&&(this.eb=m,this.Sh=Y(m.x,m.y,this.k.x,this.k.y)-m.i,this.de=Ra(m.x,m.y,this.k.x,this.k.y),this.ig=this.qg=this.k.i,this.uk=m.i,this.mode=h)}};h.ka=new d;h.Ba=new function(){}})();function Dc(d){this.b=d;this.rn=this.kk=this.bi=this.qn=0}
(function(){var d=Dc.prototype;d.S=function(d){this.behavior=d;this.b=d.b};d.S.prototype.C=function(){};d.L=function(d,h){this.type=d;this.behavior=d.behavior;this.k=h;this.b=d.b};var h=d.L.prototype;h.C=function(){this.enabled=0!==this.A[0]};h.gb=function(){return{smg:this.behavior.qn,ss:this.behavior.bi,se:this.behavior.kk,smd:this.behavior.rn}};h.sb=function(d){this.behavior.qn=d.smg;this.behavior.bi=d.ss;this.behavior.kk=d.se;this.behavior.rn=d.smd};h.Ia=function(){};h.Bg=function(){if(this.enabled){var d=
this.behavior.Oj.Id(),h=0,r=0,t,g,b,e=0;t=0;for(g=d.length;t<g;t++){a:{b=d[t];for(var c=void 0,a=void 0,f=void 0,c=0,a=b.H.length;c<a;++c)if(f=b.H[c],f.behavior instanceof Dc){b=f;break a}b=null}b&&b.enabled&&(h+=d[t].x,r+=d[t].y,++e)}d=this.k.g.ab;g=this.b.mb.X;b=t=0;g>=this.behavior.bi&&g<this.behavior.kk&&(t=this.behavior.qn*Math.min(this.b.Nf,1),0===this.behavior.rn&&(t*=1-(g-this.behavior.bi)/(this.behavior.kk-this.behavior.bi)),g=Math.random()*Math.PI*2,b=Math.random()*t,t=Math.cos(g)*b,b*=
Math.sin(g));d.ln(h/e+t);d.mn(r/e+b)}};d.ka=new function(){}})();function mc(d){this.b=d;this.ym=[]}
(function(){function d(){}function h(){}function m(){}var q=mc.prototype;q.S=function(d,g){this.behavior=d;this.b=d.b;-1===this.behavior.ym.indexOf(g)&&this.behavior.ym.push(g)};q.S.prototype.C=function(){};q.L=function(d,g){this.type=d;this.behavior=d.behavior;this.k=g;this.b=d.b};var r=q.L.prototype;r.C=function(){this.k.u.shadowcasterEnabled=0!==this.A[0];this.k.u.shadowcasterHeight=this.A[1];this.k.u.shadowcasterTag=this.A[2]};r.Ia=function(){};d.prototype.Pr=function(d,g){return ac(this.k.u.shadowcasterHeight,
d,g)};q.e=new d;h.prototype.Hs=function(d){this.k.u.shadowcasterHeight!==d&&(this.k.u.shadowcasterHeight=d,this.b.da=!0)};q.ka=new h;m.prototype.Sr=function(d){d.r(this.k.u.shadowcasterHeight)};q.Ba=new m})();function lc(d){this.b=d}
(function(){var d=lc.prototype;d.S=function(d){this.behavior=d;this.b=d.b};d.S.prototype.C=function(){};d.L=function(d,h){this.type=d;this.behavior=d.behavior;this.k=h;this.b=d.b};var h=d.L.prototype;h.C=function(){this.k.u.solidEnabled=0!==this.A[0]};h.Ia=function(){};d.e=new function(){};d.ka=new function(){}})();
function kc(){return[oc,pc,wc,rc,qc,xc,yc,vc,sc,tc,uc,nc,zc,Dc,mc,Cc,lc,Bc,qc.prototype.e.Vr,zc.prototype.ka.Ps,Z.prototype.e.Rr,nc.prototype.e.Qr,nc.prototype.ka.Ls,zc.prototype.e.Wr,nc.prototype.ka.Qs,Z.prototype.e.Rn,nc.prototype.e.Hk,nc.prototype.ka.Js,nc.prototype.Ba.Kk,nc.prototype.Ba.Lk,Cc.prototype.ka.Fs,nc.prototype.ka.Is,Z.prototype.Ba.random,Z.prototype.e.Or,xc.prototype.Ba.Gs,xc.prototype.ka.Ks,sc.prototype.ka.Ms]};
